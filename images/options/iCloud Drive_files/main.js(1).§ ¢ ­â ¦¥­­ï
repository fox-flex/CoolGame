/**!
 * IMPORTANT NOTE:
 *    This file is licensed only for use in providing the iCloud
 *    service or any part thereof, and is subject to the iCloud
 *    Terms and Conditions. You may not port this file to another
 *    platform without Apple's written consent.
 *
 *    Portions of this Apple Software may utilize copyrighted material under open source licenses.
 *    Please see the file at https://www.icloud.com/applications/iclouddrive/2019Project47/uk-ua/acknowledgements.txt for licensing information.
 */
!function(e,t,n,i){var r=e.__CW_IMG_URLS={};function a(t){var n=Math.ceil(e.devicePixelRatio);return 1===n?t:t.replace(/@\d{1}(?=x)/i,"@"+n)}for(var o in n){var s=n[o];Object.defineProperty(r,o,{get:function(){return[t,a(s)].join("/")}})}}(this,"/applications/iclouddrive/2019Project47/uk-ua/",{}),function(e,t,n){var i=e.URL||e.webkitURL,r=e.__CW_BLOB_URLS={};e.__CW_BLOBS_READY=!1;var a,o,s,l=["image/gif","image/png","image/jpeg","image/svg+xml"],c=3,u=!1,d=!1;function h(t){u=!1,e.__CW_BLOBS_READY=!1,p("__CW_SPRITE_ERROR",t)}function f(e,t,n){if(e.slice)return e.slice(t,n);var i=e.byteLength;if(t=t||0,n=n||i,0===i||t>=i||t>=n)return new ArrayBuffer(0);var r=Math.min(i-t,n-t),a=new ArrayBuffer(r);return new Uint8Array(a).set(new Uint8Array(e,t,r)),a}function p(e,t){var n=document.createEvent("Event");n.data=t,n.initEvent(e,!0,!0),document.dispatchEvent(n)}function m(e){var t=r[e],n=new RegExp("\\(blob_"+e+"\\)","gi");return function(){o++,a=a.replace(n,"("+JSON.stringify(t)+")"),o===s&&function(){var e=document.getElementById("cw-css");e||((e=document.createElement("link")).rel="stylesheet",e.id="cw-css"),e.onload=function(){p("__CW_CSS_LOADED"),a=null,d=!1},e.href="data:text/css;base64,"+btoa(a),document.head.appendChild(e)}()}}document.addEventListener("__CW_SPRITE_LOADED",(function(){if(!d)if(d=!0,p("__CW_CSS_START"),a=decodeURIComponent(atob(document.documentElement.getAttribute("data-resources-css"))),r&&(s=Object.keys(r).length),r&&s>0){o=0;var t=function(){var t="cw-img-container-r"+e.devicePixelRatio,n=document.getElementById(t);if(!n){(n=document.createElement("div")).setAttribute("aria-hidden",!0),n.id=t;var i=n.style;i.overflow="hidden",i.height="0",i.width="0",document.body.appendChild(n)}return n}();for(var n in r){var i=document.createElement("img");i.addEventListener("load",m(n)),i.src=r[n],t.appendChild(i)}}else d=!1})),function(t){var a=n[t-1];a||(a=n[0]),function t(n){if(!u){u=!0,p("__CW_SPRITE_START");var a=new XMLHttpRequest;a.open("GET","/applications/iclouddrive/2019Project47/uk-ua//"+n,!0),a.withCredentials=!0,a.responseType="arraybuffer",a.onload=function(){!function(t){try{if(t&&t instanceof ArrayBuffer)for(var n=new DataView(t),a=n.byteLength,o=0;o<a;){var s=n.getUint16(o),c=n.getUint8(o+2),d=n.getUint32(o+3),m=f(t,o+=7,o+d),g=new Blob([m],{type:l[c-1]});r[s]=i.createObjectURL(g),o+=d}u=!1,e.__CW_BLOBS_READY=!0,p("__CW_SPRITE_LOADED")}catch(v){h(v)}}(a.response)},a.onerror=function(e){--c>0?t(n):h(e)},a.send()}}(a)}(e.devicePixelRatio)}(this,0,["images@1x.bin","images@2x.bin"]),function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/applications/iclouddrive/2019Project47/uk-ua/",n(n.s=423)}([function(e,t,n){"use strict";function i(e,t,n){return t in e||(e[t]=n),e}var r,a,o=window.Window;o&&(r=o.prototype);var s=window.HTMLDocument;s&&(a=s.prototype);var l=Element.prototype,c=[];if(!("addEventListener"in l)){var u=function(e,t,n){if(n)throw new Error("The optional `useCapture` argument is not supported in this browser");for(var i=0,r=c.length;i<r;i++){var a=c[i];if(a.type===e&&a.listener===t)return}var o=this,s=function(e){e.target=e.srcElement,e.currentTarget=o,t.call(o,e)},l=e,u=s;if("DOMContentLoaded"===e&&(l="readystatechange",u=function(e){"complete"===document.readyState&&s(e)},"complete"===document.readyState)){var d=document.createEventObject();d.srcElement=window,u(d)}this.attachEvent("on"+l,u),c.push({object:this,type:e,listener:t,wrapper:u})};i(l,"addEventListener",u),r&&i(r,"addEventListener",u),a&&i(a,"addEventListener",u)}if(!("removeEventListener"in l)){var d=function(e,t,n){if(n)throw new Error("The optional `useCapture` argument is not supported in this browser");for(var i=-1,r=c.length;++i<r;){var a=c[i];if(a.object===this&&a.type===e&&a.listener===t){var o;o="DOMContentLoaded"===e?"readystatechange":e,this.detachEvent("on"+o,a.wrapper),c.splice(i,1);break}}};i(l,"removeEventListener",d),r&&i(r,"removeEventListener",d),a&&i(a,"removeEventListener",d)}if(!l.hasOwnProperty("classList")){var h=function(e){this.element=e},f=h.prototype;f.item=function(e){var t=this.element.getAttribute("class"),n=t?t.trim().split(/\s+/):null;return n?n[e]:void 0},f.contains=function(e){var t=this.element.getAttribute("class");return(t?" "+t+" ":"").indexOf(" "+e+" ")>-1},f.add=function(){for(var e=this.element,t=e.getAttribute("class"),n=t?" "+t+" ":" ",i=!1,r=arguments.length,a=0;a<r;a++){var o=arguments[a]+" ";-1===n.indexOf(" "+o)&&(n+=o,i=!0)}i&&e.setAttribute("class",n.substring(1,n.length-1))},f.remove=function(){for(var e=this.element,t=e.getAttribute("class"),n=t?" "+t+" ":" ",i=!1,r=arguments.length,a=0;a<r;a++)for(var o,s=arguments[a],l=" "+s+" ";(o=n.indexOf(l))>-1;)n=n.substr(0,o)+n.substr(o+s.length+1),i=!0;i&&(" "===(n=n.substring(1,n.length-1))&&(n=""),e.setAttribute("class",n))},f.toggle=function(e,t){var n=this.contains(e),i=!1;return 2===arguments.length?(n&&!t&&(i="remove"),!n&&t&&(i="add")):i=n?"remove":"add",i?(this[i](e),!n):n},f.toString=function(){return this.element.getAttribute("class")||""},Object.defineProperty&&Object.defineProperty(l,"classList",{get:function(){return new h(this)},configurable:!0})}if(window.DOMTokenList){var p=window.DOMTokenList.prototype,m=document.createElement("div");if(!1!==m.classList.toggle("polyfill-test-class",!1)){var g=p.toggle;p.toggle=function(e,t){if(1===arguments.length)return g.call(this,e);var n=this.contains(e),i=t?!n&&"add":!!n&&"remove";return i?(this[i](e),!n):n}}if(m.classList.add("foo","bar","baz"),!m.classList.contains("baz")){var v=p.add;p.add=function(){for(var e=arguments.length,t=0;t<e;t++)v.call(this,arguments[t])}}if(m.classList.add("foo","bar","baz"),m.classList.remove("foo","bar","baz"),m.classList.contains("baz")){var _=p.remove;p.remove=function(){for(var e=arguments.length,t=0;t<e;t++)_.call(this,arguments[t])}}}i(l,"addEventListener",u),i(window,"addEventListener",u),i(l,"removeEventListener",d),i(window,"removeEventListener",d),i(window.document,"contains",(function(){var e=this.documentElement;return e.contains.apply(e,arguments)}));var b=CSSStyleDeclaration.prototype;"setProperty"in b||i(b,"setProperty",(function(e,t){return this.setAttribute.call(this,e,t)}))},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";e.exports=n(20)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return be}));var i=n(35),r=n(17),a=new Int16Array(1024),o=1,s=1024,l=new Array(1024),c=new Int32Array(2048),u=2048,d=new Int32Array(2048),h=new Int32Array(2048),f=0,p=2048,m=-1,g=new Array(1024),v=new Array(1024),_=new Array(1024),b=new Int32Array(1024),y=2048,S=new Int32Array(256),I=0,w=256,E=new Int32Array(256),C=0,A=256,T=[],O=-1;function D(){var e;return-1===O?e=new Int32Array(256):(e=T[O],O--),e[0]=1,e}var M=D(),N=new Int32Array(256),F=0,L=256,R=!Int16Array,x=R?i.a:function(){s*=2,y*=2;var e=new Int16Array(s);e.set(a);var t=new Int32Array(y);t.set(b),a=e,b=t},P=R?i.a:function(){u*=2;var e=new Int32Array(u);e.set(c),c=e;var t=new Int32Array(u);t.set(d),d=t},k=R?i.a:function(){p*=2;var e=new Int32Array(p);e.set(h),h=e},U=R?i.a:function(){w*=2,A*=2;var e=new Int32Array(w);e.set(S),S=e;var t=new Int32Array(A);t.set(E),E=t},j=R?i.a:function(){L*=2;var e=new Int32Array(L);e.set(N),N=e},B=R?i.a:function(){var e=2*M.length,t=new Int32Array(e);t.set(M),M=t},V=0,$=0;function W(e){return 64&e&&!(4&e)}function z(e,t){W(a[e])&&l[e].didRemoveParentFromNode(g[e],e,t,d[0+(e<<1)])}function G(e,t){W(a[e])&&l[e].didRemoveChildFromNode(g[e],e,t,d[1+(e<<1)])}function H(e,t){64&a[e]&&l[e].willRemoveChildFromNode(g[e],e,t,d[1+(e<<1)])}function K(e,t){W(a[e])&&l[e].willRemoveParentFromNode(g[e],e,t,d[0+(e<<1)])}function Q(){if(!(V>0||$>0)){var e=0,t=C;for(e=0;e<t;e++)q(E[e]),E[e]=-1;C=0}}function q(e){I>=w&&U(),S[I++]=e}function Y(e,t){var n=c[t],i=-1;-1!==m?(i=0|m,m=h[m+1]):(i=0|f,(f+=2)>p&&k()),h[i+0]=e,h[i+1]=n,c[t]=i,d[t]++}function X(e,t){for(var n=c[t],i=-1;-1!==n;){if(h[n+0]===e){-1!==i?h[i+1]=h[n+1]:c[t]=h[n+1],h[n+1]=m,m=n,d[t]--;break}i=n,n=h[n+1]}}function J(e,t,n){V++;for(var i=(e<<1)+t,r=c[i],o=0===t?1:0,s=r;-1!==s;){var l=h[s];0===t?(n&&K(e,l),H(l,e)):(n&&H(e,l),K(l,e)),s=h[s+1]}if(s=r,c[i]=-1,d[i]=0,-1!==s)for(;;){var u=h[s];4&a[u]||X(e,(u<<1)+o),0===t?(n&&z(e,u),G(u,e)):(n&&G(e,u),z(u,e));var f=h[s+1];if(-1===f){h[s+1]=m,m=r;break}s=f}V--,Q()}function Z(e){return g[e]}function ee(e,t){var n=a[e];a[e]=-4&n|t}function te(e,t){var n=a[e];return a[e]=n|t,a[e]}function ne(e,t){var n=a[e];return a[e]=n&~t,a[e]}function ie(e,t){ae(e,t,e,2)}function re(e,t){ae(e,void 0,t,3)}function ae(e,t,n,i,o){_e(e)||Object(r.b)("Tried to dirty an undefined node");var s=a[e],c=3&s;1!==c||16384&s||Object(r.b)("Cycle found in dataflow graph");var u=256&s,d=u&&2===c?he(e):void 0;ee(e,1),fe(t,e),pe(n,e),u&&(3===i?l[e].wasDirtiedByParent(Z(e),e,t,d):2===i&&l[e].wasDirtiedBySelf(Z(e),e,t,d)),o||(oe(e),function(e){var t=a[e];(16&t||32&t||2048&t)&&!(8192&t)&&(M.length<=M[0]&&B(),M[M[0]]=e,M[0]++,te(e,8192))}(e)),ee(e,i)}function oe(e,t){var n=a[e];if(!t&&128&n)!function(e){16384&a[e]||(L<=F&&j(),N[F]=e,F++,te(e,16384))}(e);else for(var i=1+(e<<1),r=d[i],o=c[i],s=r-1;-1!==o;)t&&!t[s]||re(h[o+0],e),s--,o=h[o+1]}function se(){for(var e,t=0;t<F;t++)oe(e=N[t],l[e].getActiveChildrenForNode(e));for(var n=0;n<F;n++)ne(e=N[n],16384);F=0}function le(){if(!($>0)){V++;var e=M,t=e[0];M=D();var n,i,r=0,o=0;for(n=1;n<t;n++)ne(r=e[n],8192);for(n=1;n<t;n++)r=e[n],o=a[r],-1===r||4&o||(16&o&&l[r].flushNode(g[r],r),2048&o&&ce(r));for(n=1;n<t;n++)r=e[n],o=a[r],-1===r||4&o||32&o&&l[r].notifyNode(g[r],r);i=e,O++,T[O]=i,V--,Q()}}function ce(e){_e(e)||Object(r.b)("Tried to getValue for an undefined node");var t=a[e];if(4&t)return ue(e);var n=3&t,i=l[e],o=i.isCacheable;if(0===n&&o)return ue(e);var s=3===n||!o,c=Z(e),u=i.calculateValueForNode(c,e,s);ee(e,0),fe(void 0,e);var d,h=512&t;return h&&(d=ue(e)),o&&de(u,e),h&&i.previousValueWasReplaced(c,e,d),u}function ue(e){return v[e]}function de(e,t){v[t]=e}function he(e){return _[e]}function fe(e,t){_[t]=e}function pe(e,t){b[t]=e}function me(e,t){void 0===t&&(t=0);var n,i=a[e];switch(3&i){case 0:n="CLEAN";break;case 1:n="DIRTYING";break;case 2:n="DIRTY_SELF";break;case 3:n="DIRTY_PARENT"}function r(e){for(var n,i=[];-1!==e;)n=h[e+0],t>0?i.unshift(me(n,t-1)):i.unshift(n),e=h[e+1];return i}var o=e<<1,s=r(c[o+1]),u=r(c[o+0]),d=l[e],f={id:e,wantsFlush:!!(16&i),wantsNotify:!!(32&i),wantsFreeTracking:!!(8&i),wantsRelationshipTracking:!!(64&i),wantsActiveChildren:!!(128&i),wantsDirtyTracking:!!(256&i),isFreeing:!!(4&i),status:n,children:s,parents:u,manager:d,data:v[e],context:g[e],stateData:_[e],stateID:b[e]};return d&&d.addDebugInfoForNode&&d.addDebugInfoForNode(g[e],f,e),f}function ge(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length-1);for(var i=[],r=t;r<=n&&!(r>=e.length);r++)i.push(me(e[r]));return i}function ve(e,t,n){var i="";return e[t].forEach((function(e){var r=(e&&void 0!==e.id?e.id:e)+(e&&e.status?" ("+e.status+")":"")+": "+e.toString();i+=n+r+"\n",e&&e[t]&&(i+=ve(e,t,n+"  "))})),i}function _e(e){return void 0!==e&&null!==e&&-1!==e}var be={NULL_INDEX:-1,dumpNode:me,dumpChildren:function(e,t){return void 0===t&&(t=7),"Children of "+e+":\n"+ve(me(e,t),"children","")},dumpParents:function(e,t){return void 0===t&&(t=7),"Parents of "+e+":\n"+ve(me(e,t),"parents","")},dumpNodes:ge,dumpNodeNames:function(e,t,n){return ge(e,t,n).map((function(e){return(e&&void 0!==e.id?e.id:e)+":"+e.toString()}))},dumpNodesWithData:function(e){var t=[];return v.forEach((function(n,i){n===e&&t.push(i)})),t},dumpNodesWithStateData:function(e){var t=[];return _.forEach((function(n,i){n===e&&t.push(i)})),t},debugNextCycle:function(){},dumpStack:function(){return{stack:[],nodes:{}}},setNodeBit:te,removeNodeBit:ne,addChildToNode:function(e,t,n){var i=0+(e<<1);Y(e,1+(t<<1)),Y(t,i),function(e,t){W(a[e])&&l[e].didAddChildToNode(g[e],e,t,d[1+(e<<1)])}(t,e),function(e,t){W(a[e])&&l[e].didAddParentToNode(g[e],e,t,d[0+(e<<1)])}(e,t),n&&re(e,t)},removeChildFromNode:function(e,t,n){H(t,e),K(e,t),X(e,1+(t<<1)),X(t,0+(e<<1)),G(t,e),z(e,t),n&&re(e,t)},setValueForNode:function(e,t){ie(t,e),se(),le()},setValuesForNodes:function(){arguments.length%2!==0&&Object(r.b)("Invalid number of arguments on setValuesForNodes, arguments should be a paired list of nodeIDs and values.",arguments);for(var e=0;e<arguments.length;e+=2)ie(arguments[e+1],arguments[e]);se(),le()},setNodeToDirtyFromParent:function(e){re(e,-1),se(),le()},passValueToNode:function(e,t){ae(t,e,t,2,!0)},getValueForNode:ce,getDataForNode:ue,setDataForNode:de,getStateDataForNode:he,setStateDataForNode:fe,getStateIDForNode:function(e){return b[e]},setStateIDForNode:pe,getContextForNode:Z,setContextForNode:function(e,t){g[t]=e},getManagerForNode:function(e){return l[e]},setManagerForNode:function(e,t){l[t]=e},getParentIDs:function(e,t,n){for(var i=n||0,r=0+(e<<1),a=d[r],o=c[r],s=a-1+i,l=s+1;l<t.length;l++)t[l]=-1;for(;-1!==o;){var u=h[o+0];t[s]=u,s--,o=h[o+1]}return t},getChildrenIDs:function(e,t,n){for(var i=n||0,r=1+(e<<1),a=d[r],o=c[r],s=a-1+i,l=s+1;l<t.length;l++)t[l]=-1;for(;-1!==o;){var u=h[o+0];t[s]=u,s--,o=h[o+1]}return t},getChildIndex:function(e,t){for(var n=1+(t<<1),i=c[n],r=d[n]-1;-1!==i;){if(h[i+0]===e)return r;i=h[i+1],r--}return-1},getParentIndex:function(e,t){for(var n=0+(e<<1),i=c[n],r=d[n]-1;-1!==i;){if(h[i+0]===t)return r;i=h[i+1],r--}return-1},FLUSH:16,NOTIFY:32,RELATIONSHIPS:64,FREE:8,ACTIVE_CHILDREN:128,DIRTY_TRACKING:256,PREVIOUS_VALUE_TRACKING:512,PULL_ON_FLUSH:2048,PULL_ON_FREE:1024,allocNode:function(e,t,n){var i=0,r=-1;i|=n|=0,I>0?r=S[--I]:(r=o++,o>s&&(x(),P())),a[r]=i;var u=r<<1,h=u+1;return c[u]=-1,c[h]=-1,d[u]=0,d[h]=0,l[r]=e,g[r]=t,v[r]=void 0,_[r]=void 0,b[r]=-1,r},freeNode:function(e){var t=a[e];if(1024&t){var n=3&t;2!==n&&3!==n||ce(e)}te(e,4),J(e,0,!1),J(e,1,!1),8&t&&l[e].nodeWillFree(g[e],e),l[e]=v[e]=g[e]=_[e]=void 0,b[e]=-1,V>0||$>0?(C>=A&&U(),E[C++]=e):q(e)},disconnectParentsFromNode:function(e){J(e,0,!0)},disconnectChildrenFromNode:function(e){J(e,1,!0)},pullDataFromParents:function(e,t){for(var n=0+(e<<1),i=d[n],r=c[n],a=i-1,o=a+1;o<t.length;o++)t[o]=void 0;for(;-1!==r;){var s=h[r+0];t[a]=ce(s),a--,r=h[r+1]}return t},triggerFlush:le,pause:function(){$++},resume:function(){0===--$&&le()},_sanitizeNodeID:function(e){return null!==e&&void 0!==e||(e=-1),0|e},nodeIsDirty:function(e){var t=3&a[e];return 2&t||3&t},nodeIsFreeing:function(e){return 4&a[e]},isValidNodeID:_e}},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CloudKit=void 0;var r=i(n(1)),a=i(n(39)),o=i(n(78)),s=i(n(79)),l=i(n(83)),c=i(n(84)),u=i(n(85)),d=i(n(86)),h=i(n(87)),f=i(n(88)),p=i(n(89)),m=i(n(90)),g=i(n(91)),v=i(n(392)),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),b=i(n(398)),y=null,S=t.CloudKit=function(){function e(t){var n=t.config,i=n.containers,s=n.services,l=void 0===s?{}:s,c=n.locale;if((0,o.default)(this,e),!_.Utils.isArray(i))throw g.default.makeConfigurationError("config.containers must be an array");if(_.Utils.isNode()&&_.Utils.isNullOrUndefined(l.fetch))throw g.default.makeConfigurationError("Please provide an implementation of whatwg fetch via services.fetch");_.Log.setDelegate(l.logger),_.Async.Promise=l.Promise||a.default,_.Fetch.setDelegate(l.fetch);var u=new _.APNSManager,d=l.authTokenStore,h=_.Utils.createUUID();this._containers=i.map((function(e){return(0,r.default)({},e,{locale:c,clientID:e.clientID||h})})).map((function(e){return new v.default({containerConfig:e,authTokenStore:d,apnsManager:u})}))}return(0,s.default)(e,[{key:"getDefaultContainer",value:function(){return this._containers[0]}},{key:"getContainer",value:function(e){return _.Utils.find(this._containers,(function(t){return t.containerIdentifier===e}))}},{key:"getAllContainers",value:function(){return this._containers}}],[{key:"configure",value:function(t){if(_.Utils.isNullOrUndefined(t))throw g.default.makeConfigurationError("A configuration object is required");return y=new e({config:t})}},{key:"_spiConfigure",value:function(t){return e.configure(t)}},{key:"getDefaultContainer",value:function(){if(!y)throw g.default.makeConfigurationError("Please configure CloudKit");return y.getDefaultContainer()}},{key:"getAllContainers",value:function(){if(!y)throw g.default.makeConfigurationError("Please configure CloudKit");return y.getAllContainers()}},{key:"getContainer",value:function(e){if(!y)throw g.default.makeConfigurationError("Please configure CloudKit");return y.getContainer(e)}},{key:"fetch",value:function(e,t){return _.Fetch.fetch(e,t)}},{key:"parseRawNotification",value:function(e){return _.NotificationUtil.parseRawNotification(e)}},{key:"Promise",get:function(){return _.Async.Promise}}]),e}();if(S.PRODUCTION_ENVIRONMENT=_.Constants.PRODUCTION_ENVIRONMENT,S.DEVELOPMENT_ENVIRONMENT=_.Constants.DEVELOPMENT_ENVIRONMENT,S.DatabaseScope=c.default,S.QueryFilterComparator=u.default,S.ReferenceAction=d.default,S.SubscriptionType=m.default,S.ShareRecordType=b.default,S.ShareParticipantPermission=f.default,S.ShareParticipantAcceptanceStatus=h.default,S.ShareParticipantType=p.default,S.AppleIDButtonTheme=l.default,S.VERSION=_.Constants.VERSION,S.CKError=g.default,S.CLOUDKIT_LOADED=_.Constants.CLOUDKIT_LOADED,S.WS_API_VERSION=_.Constants.WS_API_VERSION,S.logToConsole=!!_.Utils.getQueryParam("CloudKit.logToConsole"),"undefined"!=typeof window&&"undefined"!=typeof document){var I=window.document,w=I.createEvent("Event");w.initEvent(_.Constants.CLOUDKIT_LOADED,!0,!0),setTimeout((function(){return I.dispatchEvent(w)}))}},function(e,t,n){e.exports={default:n(2),__esModule:!0}},function(e,t,n){n(3),e.exports=n(6).Object.assign},function(e,t,n){var i=n(4);i(i.S+i.F,"Object",{assign:n(20)})},function(e,t,n){var i=n(5),r=n(6),a=n(7),o=n(9),s=n(19),l="prototype",c=function(e,t,n){var u,d,h,f=e&c.F,p=e&c.G,m=e&c.S,g=e&c.P,v=e&c.B,_=e&c.W,b=p?r:r[t]||(r[t]={}),y=b[l],S=p?i:m?i[t]:(i[t]||{})[l];for(u in p&&(n=t),n)(d=!f&&S&&void 0!==S[u])&&s(b,u)||(h=d?S[u]:n[u],b[u]=p&&"function"!=typeof S[u]?n[u]:v&&d?a(h,i):_&&S[u]==h?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t[l]=e[l],t}(h):g&&"function"==typeof h?a(Function.call,h):h,g&&((b.virtual||(b.virtual={}))[u]=h,e&c.R&&y&&!y[u]&&o(y,u,h)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(8);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var i=n(10),r=n(18);e.exports=n(14)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(11),r=n(13),a=n(17),o=Object.defineProperty;t.f=n(14)?Object.defineProperty:function(e,t,n){if(i(e),t=a(t,!0),i(n),r)try{return o(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(12);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(14)&&!n(15)((function(){return 7!=Object.defineProperty(n(16)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){e.exports=!n(15)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var i=n(12),r=n(5).document,a=i(r)&&i(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},function(e,t,n){var i=n(12);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var i=n(21),r=n(36),a=n(37),o=n(38),s=n(24),l=Object.assign;e.exports=!l||n(15)((function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=i}))?function(e,t){for(var n=o(e),l=arguments.length,c=1,u=r.f,d=a.f;l>c;)for(var h,f=s(arguments[c++]),p=u?i(f).concat(u(f)):i(f),m=p.length,g=0;m>g;)d.call(f,h=p[g++])&&(n[h]=f[h]);return n}:l},function(e,t,n){var i=n(22),r=n(35);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(19),r=n(23),a=n(27)(!1),o=n(31)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),l=0,c=[];for(n in s)n!=o&&i(s,n)&&c.push(n);for(;t.length>l;)i(s,n=t[l++])&&(~a(c,n)||c.push(n));return c}},function(e,t,n){var i=n(24),r=n(26);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(25);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var i=n(23),r=n(28),a=n(30);e.exports=function(e){return function(t,n,o){var s,l=i(t),c=r(l.length),u=a(o,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var i=n(29),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(29),r=Math.max,a=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):a(e,t)}},function(e,t,n){var i=n(32)("keys"),r=n(34);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t,n){var i=n(6),r=n(5),a="__core-js_shared__",o=r[a]||(r[a]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n(33)?"pure":"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!0},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var i=n(26);e.exports=function(e){return Object(i(e))}},function(e,t,n){e.exports={default:n(40),__esModule:!0}},function(e,t,n){n(41),n(42),n(54),n(58),n(76),n(77),e.exports=n(6).Promise},function(e,t){},function(e,t,n){"use strict";var i=n(43)(!0);n(44)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var i=n(29),r=n(26);e.exports=function(e){return function(t,n){var a,o,s=String(r(t)),l=i(n),c=s.length;return l<0||l>=c?e?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):a:e?s.slice(l,l+2):o-56320+(a-55296<<10)+65536}}},function(e,t,n){"use strict";var i=n(33),r=n(4),a=n(45),o=n(9),s=n(46),l=n(47),c=n(51),u=n(53),d=n(52)("iterator"),h=!([].keys&&"next"in[].keys()),f="keys",p="values",m=function(){return this};e.exports=function(e,t,n,g,v,_,b){l(n,t,g);var y,S,I,w=function(e){if(!h&&e in T)return T[e];switch(e){case f:case p:return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",C=v==p,A=!1,T=e.prototype,O=T[d]||T["@@iterator"]||v&&T[v],D=O||w(v),M=v?C?w("entries"):D:void 0,N="Array"==t&&T.entries||O;if(N&&(I=u(N.call(new e)))!==Object.prototype&&I.next&&(c(I,E,!0),i||"function"==typeof I[d]||o(I,d,m)),C&&O&&O.name!==p&&(A=!0,D=function(){return O.call(this)}),i&&!b||!h&&!A&&T[d]||o(T,d,D),s[t]=D,s[E]=m,v)if(y={values:C?D:w(p),keys:_?D:w(f),entries:M},b)for(S in y)S in T||a(T,S,y[S]);else r(r.P+r.F*(h||A),t,y);return y}},function(e,t,n){e.exports=n(9)},function(e,t){e.exports={}},function(e,t,n){"use strict";var i=n(48),r=n(18),a=n(51),o={};n(9)(o,n(52)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=i(o,{next:r(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var i=n(11),r=n(49),a=n(35),o=n(31)("IE_PROTO"),s=function(){},l="prototype",c=function(){var e,t=n(16)("iframe"),i=a.length;for(t.style.display="none",n(50).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;i--;)delete c[l][a[i]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[l]=i(e),n=new s,s[l]=null,n[o]=e):n=c(),void 0===t?n:r(n,t)}},function(e,t,n){var i=n(10),r=n(11),a=n(21);e.exports=n(14)?Object.defineProperties:function(e,t){r(e);for(var n,o=a(t),s=o.length,l=0;s>l;)i.f(e,n=o[l++],t[n]);return e}},function(e,t,n){var i=n(5).document;e.exports=i&&i.documentElement},function(e,t,n){var i=n(10).f,r=n(19),a=n(52)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,a)&&i(e,a,{configurable:!0,value:t})}},function(e,t,n){var i=n(32)("wks"),r=n(34),a=n(5).Symbol,o="function"==typeof a;(e.exports=function(e){return i[e]||(i[e]=o&&a[e]||(o?a:r)("Symbol."+e))}).store=i},function(e,t,n){var i=n(19),r=n(38),a=n(31)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){n(55);for(var i=n(5),r=n(9),a=n(46),o=n(52)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=i[c],d=u&&u.prototype;d&&!d[o]&&r(d,o,c),a[c]=a.Array}},function(e,t,n){"use strict";var i=n(56),r=n(57),a=n(46),o=n(23);e.exports=n(44)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var i,r,a,o,s=n(33),l=n(5),c=n(7),u=n(59),d=n(4),h=n(12),f=n(8),p=n(60),m=n(61),g=n(65),v=n(66).set,_=n(68)(),b=n(69),y=n(70),S=n(71),I=n(72),w="Promise",E=l.TypeError,C=l.process,A=C&&C.versions,T=A&&A.v8||"",O=l[w],D="process"==u(C),M=function(){},N=r=b.f,F=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[n(52)("species")]=function(e){e(M,M)};return(D||"function"==typeof PromiseRejectionEvent)&&e.then(M)instanceof t&&0!==T.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(i){}}(),L=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var n=e._c;_((function(){for(var i=e._v,r=1==e._s,a=0,o=function(t){var n,a,o,s=r?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(r||(2==e._h&&k(e),e._h=1),!0===s?n=i:(u&&u.enter(),n=s(i),u&&(u.exit(),o=!0)),n===t.promise?c(E("Promise-chain cycle")):(a=L(n))?a.call(n,l,c):l(n)):c(i)}catch(d){u&&!o&&u.exit(),c(d)}};n.length>a;)o(n[a++]);e._c=[],e._n=!1,t&&!e._h&&x(e)}))}},x=function(e){v.call(l,(function(){var t,n,i,r=e._v,a=P(e);if(a&&(t=y((function(){D?C.emit("unhandledRejection",r,e):(n=l.onunhandledrejection)?n({promise:e,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)})),e._h=D||P(e)?2:1),e._a=void 0,a&&t.e)throw t.v}))},P=function(e){return 1!==e._h&&0===(e._a||e._c).length},k=function(e){v.call(l,(function(){var t;D?C.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},U=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},j=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=L(e))?_((function(){var i={_w:n,_d:!1};try{t.call(e,c(j,i,1),c(U,i,1))}catch(r){U.call(i,r)}})):(n._v=e,n._s=1,R(n,!1))}catch(i){U.call({_w:n,_d:!1},i)}}};F||(O=function(e){p(this,O,w,"_h"),f(e),i.call(this);try{e(c(j,this,1),c(U,this,1))}catch(t){U.call(this,t)}},(i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(73)(O.prototype,{then:function(e,t){var n=N(g(this,O));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=D?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new i;this.promise=e,this.resolve=c(j,e,1),this.reject=c(U,e,1)},b.f=N=function(e){return e===O||e===o?new a(e):r(e)}),d(d.G+d.W+d.F*!F,{Promise:O}),n(51)(O,w),n(74)(w),o=n(6)[w],d(d.S+d.F*!F,w,{reject:function(e){var t=N(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!F),w,{resolve:function(e){return I(s&&this===o?O:this,e)}}),d(d.S+d.F*!(F&&n(75)((function(e){O.all(e).catch(M)}))),w,{all:function(e){var t=this,n=N(t),i=n.resolve,r=n.reject,a=y((function(){var n=[],a=0,o=1;m(e,!1,(function(e){var s=a++,l=!1;n.push(void 0),o++,t.resolve(e).then((function(e){l||(l=!0,n[s]=e,--o||i(n))}),r)})),--o||i(n)}));return a.e&&r(a.v),n.promise},race:function(e){var t=this,n=N(t),i=n.reject,r=y((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,i)}))}));return r.e&&i(r.v),n.promise}})},function(e,t,n){var i=n(25),r=n(52)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),r))?n:a?i(t):"Object"==(o=i(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var i=n(7),r=n(62),a=n(63),o=n(11),s=n(28),l=n(64),c={},u={};(t=e.exports=function(e,t,n,d,h){var f,p,m,g,v=h?function(){return e}:l(e),_=i(n,d,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(a(v)){for(f=s(e.length);f>b;b++)if((g=t?_(o(p=e[b])[0],p[1]):_(e[b]))===c||g===u)return g}else for(m=v.call(e);!(p=m.next()).done;)if((g=r(m,_,p.value,t))===c||g===u)return g}).BREAK=c,t.RETURN=u},function(e,t,n){var i=n(11);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(o){var a=e.return;throw void 0!==a&&i(a.call(e)),o}}},function(e,t,n){var i=n(46),r=n(52)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[r]===e)}},function(e,t,n){var i=n(59),r=n(52)("iterator"),a=n(46);e.exports=n(6).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||a[i(e)]}},function(e,t,n){var i=n(11),r=n(8),a=n(52)("species");e.exports=function(e,t){var n,o=i(e).constructor;return void 0===o||void 0==(n=i(o)[a])?t:r(n)}},function(e,t,n){var i,r,a,o=n(7),s=n(67),l=n(50),c=n(16),u=n(5),d=u.process,h=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,m=u.Dispatch,g=0,v={},_="onreadystatechange",b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},y=function(e){b.call(e.data)};h&&f||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},i(g),g},f=function(e){delete v[e]},"process"==n(25)(d)?i=function(e){d.nextTick(o(b,e,1))}:m&&m.now?i=function(e){m.now(o(b,e,1))}:p?(a=(r=new p).port2,r.port1.onmessage=y,i=o(a.postMessage,a,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(e){u.postMessage(e+"","*")},u.addEventListener("message",y,!1)):i=_ in c("script")?function(e){l.appendChild(c("script"))[_]=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(o(b,e,1),0)}),e.exports={set:h,clear:f}},function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var i=n(5),r=n(66).set,a=i.MutationObserver||i.WebKitMutationObserver,o=i.process,s=i.Promise,l="process"==n(25)(o);e.exports=function(){var e,t,n,c=function(){var i,r;for(l&&(i=o.domain)&&i.exit();e;){r=e.fn,e=e.next;try{r()}catch(a){throw e?n():t=void 0,a}}t=void 0,i&&i.enter()};if(l)n=function(){o.nextTick(c)};else if(!a||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(c)}}else n=function(){r.call(i,c)};else{var d=!0,h=document.createTextNode("");new a(c).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(i){var r={fn:i,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},function(e,t,n){"use strict";function i(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=r(t),this.reject=r(n)}var r=n(8);e.exports.f=function(e){return new i(e)}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,n){var i=n(5).navigator;e.exports=i&&i.userAgent||""},function(e,t,n){var i=n(11),r=n(12),a=n(69);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var i=n(9);e.exports=function(e,t,n){for(var r in t)n&&e[r]?e[r]=t[r]:i(e,r,t[r]);return e}},function(e,t,n){"use strict";var i=n(5),r=n(6),a=n(10),o=n(14),s=n(52)("species");e.exports=function(e){var t="function"==typeof r[e]?r[e]:i[e];o&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var i=n(52)("iterator"),r=!1;try{var a=[7][i]();a.return=function(){r=!0},Array.from(a,(function(){throw 2}))}catch(o){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var a=[7],o=a[i]();o.next=function(){return{done:n=!0}},a[i]=function(){return o},e(a)}catch(s){}return n}},function(e,t,n){"use strict";var i=n(4),r=n(6),a=n(5),o=n(65),s=n(72);i(i.P+i.R,"Promise",{finally:function(e){var t=o(this,r.Promise||a.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){"use strict";var i=n(4),r=n(69),a=n(70);i(i.S,"Promise",{try:function(e){var t=r.f(this),n=a(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(80));t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()},function(e,t,n){e.exports={default:n(81),__esModule:!0}},function(e,t,n){n(82);var i=n(6).Object;e.exports=function(e,t,n){return i.defineProperty(e,t,n)}},function(e,t,n){var i=n(4);i(i.S+i.F*!n(14),"Object",{defineProperty:n(10).f})},function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.WHITE="white",e.WHITE_WITH_OUTLINE="white-with-outline",e.BLACK="black"}(n||(n={})),t.default=n},function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.PUBLIC="PUBLIC",e.PRIVATE="PRIVATE",e.SHARED="SHARED"}(n||(n={})),t.default=n},function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EQUALS="EQUALS",e.NOT_EQUALS="NOT_EQUALS",e.LESS_THAN="LESS_THAN",e.LESS_THAN_OR_EQUALS="LESS_THAN_OR_EQUALS",e.GREATER_THAN="GREATER_THAN",e.GREATER_THAN_OR_EQUALS="GREATER_THAN_OR_EQUALS",e.NEAR="NEAR",e.CONTAINS_ALL_TOKENS="CONTAINS_ALL_TOKENS",e.IN="IN",e.CONTAINS_ANY_TOKENS="CONTAINS_ANY_TOKENS",e.LIST_CONTAINS="LIST_CONTAINS",e.NOT_LIST_CONTAINS="NOT_LIST_CONTAINS",e.LIST_CONTAINS_ANY="LIST_CONTAINS_ANY",e.NOT_LIST_CONTAINS_ANY="NOT_LIST_CONTAINS_ANY",e.NOT_IN="NOT_IN",e.BEGINS_WITH="BEGINS_WITH",e.NOT_BEGINS_WITH="NOT_BEGINS_WITH",e.LIST_MEMBER_BEGINS_WITH="LIST_MEMBER_BEGINS_WITH",e.NOT_LIST_MEMBER_BEGINS_WITH="NOT_LIST_MEMBER_BEGINS_WITH",e.LIST_CONTAINS_ALL="LIST_CONTAINS_ALL",e.NOT_LIST_CONTAINS_ALL="NOT_LIST_CONTAINS_ALL"}(n||(n={})),t.default=n},function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.NONE="NONE",e.DELETE_SELF="DELETE_SELF",e.VALIDATE="VALIDATE"}(n||(n={})),t.default=n},function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.UNKNOWN="UNKNOWN",e.PENDING="PENDING",e.ACCEPTED="ACCEPTED"}(n||(n={})),t.default=n},function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.UNKNOWN="UNKNOWN",e.NONE="NONE",e.READ_ONLY="READ_ONLY",e.READ_WRITE="READ_WRITE"}(n||(n={})),t.default=n},function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.UNKNOWN="UNKNOWN",e.PRIVATE_USER="PRIVATE_USER",e.PUBLIC_USER="PUBLIC_USER",e.OWNER="OWNER"}(n||(n={})),t.default=n},function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.QUERY="query",e.RECORD_ZONE="zone",e.DATABASE="database"}(n||(n={})),t.default=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(92)),a=i(n(97)),o=i(n(100)),s=i(n(78)),l=i(n(104)),c=i(n(79)),u=i(n(120)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),h="ACCESS_DENIED",f="ATOMIC_ERROR",p="AUTHENTICATION_FAILED",m="AUTHENTICATION_REQUIRED",g="BAD_REQUEST",v="CONFLICT",_="EXISTS",b="INTERNAL_ERROR",y="NOT_FOUND",S="QUOTA_EXCEEDED",I="THROTTLED",w="TRY_AGAIN_LATER",E="UNIQUE_FIELD_ERROR",C="VALIDATING_REFERENCE_ERROR",A="ZONE_NOT_FOUND",T="ZONE_BUSY",O=[h,f,p,m,g,v,_,b,y,S,I,w,E,C,A,T],D="UNKNOWN_ERROR",M="NETWORK_ERROR",N="SERVICE_UNAVAILABLE",F="INVALID_ARGUMENTS",L="UNEXPECTED_SERVER_RESPONSE",R="CONFIGURATION_ERROR",x="AUTH_PERSIST_ERROR",P="SIGN_IN_FAILED",k="SHARE_UI_TIMEOUT",U=[D,M,N,F,L,R,x,P],j={AUTH_PERSIST_ERROR:"Could not read or write ckSession",SIGN_IN_FAILED:"Error in sign in popup"},B=function(e){function t(e){var n=e.uuid,i=e.serverErrorCode,r=e.extensionErrorCode,a=e.reason,c=e.retryAfter,u=e.subscriptionID,h=e.recordName,f=e.zoneID,p=e.redirectURL,m=e.ckErrorCode;(0,s.default)(this,t);var g=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return Error.captureStackTrace&&Error.captureStackTrace(g,g.constructor),d.Utils.isNullOrUndefined(m)&&(m=t.isKnownServerErrorCode(i)?i:D),g._ckErrorCode=m,g._uuid=n,g._reason=d.Utils.isNullOrUndefined(a)?m:a,g._serverErrorCode=i,g._extensionErrorCode=r,g._retryAfter=c,g._recordName=h,g._subscriptionID=u,g._zoneID=f,g._redirectURL=p,g.message=g._reason,g}return(0,u.default)(t,e),(0,c.default)(t,[{key:"ckErrorCode",get:function(){return this._ckErrorCode}},{key:"uuid",get:function(){return this._uuid}},{key:"reason",get:function(){return this._reason}},{key:"serverErrorCode",get:function(){return this._serverErrorCode}},{key:"extensionErrorCode",get:function(){return this._extensionErrorCode}},{key:"retryAfter",get:function(){return this._retryAfter}},{key:"subscriptionID",get:function(){return this._subscriptionID}},{key:"recordName",get:function(){return this._recordName}},{key:"zoneID",get:function(){return this._zoneID}},{key:"redirectURL",get:function(){return this._redirectURL}},{key:"isError",get:function(){return!0}},{key:"isCKError",get:function(){return!0}},{key:"isServerError",get:function(){return null!==this.serverErrorCode}},{key:"isServerExtensionError",get:function(){return null!==this.extensionErrorCode}}],[{key:"isErrorObject",value:function(e){var t=e.serverErrorCode,n=e.extensionErrorCode;return!d.Utils.isNullOrUndefined(t)||!d.Utils.isNullOrUndefined(n)}},{key:"isKnownServerErrorCode",value:function(e){return O.some((function(t){return t===e}))}},{key:"isKnownCKErrorCode",value:function(e){return U.some((function(t){return t===e}))}},{key:"fromServerError",value:function(e){return d.Utils.isNullOrUndefined(e.redirectUrl)||(e.redirectURL=e.redirectUrl),d.Utils.isNullOrUndefined(e.subscriptionId)||(e.subscriptionID=e.subscriptionId),new t(e)}},{key:"fromErrorCode",value:function(e,n){var i=j[e];return d.Utils.isNullOrUndefined(i)&&(i=e),d.Utils.isNullOrUndefined(n)||(i+=": "+n),new t({ckErrorCode:e,reason:i})}},{key:"makeNetworkError",value:function(){return t.fromErrorCode(M)}},{key:"makeInvalidArguments",value:function(e){return t.fromErrorCode(F,e)}},{key:"makeUnexpectedServerResponse",value:function(e){return t.fromErrorCode(L,e)}},{key:"makeConfigurationError",value:function(e){return t.fromErrorCode(R,e)}},{key:"makeServiceUnavailableError",value:function(){return t.fromErrorCode(N)}},{key:"makeAuthPersistError",value:function(){return t.fromErrorCode(x)}},{key:"makeSignInFailedError",value:function(e){return t.fromErrorCode(P,e.errorMessage)}},{key:"makeUnknownError",value:function(){return t.fromErrorCode(D)}},{key:"makeShareUITimeout",value:function(){return t.fromErrorCode(k)}},{key:"ACCESS_DENIED",get:function(){return h}},{key:"ATOMIC_ERROR",get:function(){return f}},{key:"AUTHENTICATION_FAILED",get:function(){return p}},{key:"AUTHENTICATION_REQUIRED",get:function(){return m}},{key:"BAD_REQUEST",get:function(){return g}},{key:"CONFLICT",get:function(){return v}},{key:"EXISTS",get:function(){return _}},{key:"INTERNAL_ERROR",get:function(){return b}},{key:"NOT_FOUND",get:function(){return y}},{key:"QUOTA_EXCEEDED",get:function(){return S}},{key:"THROTTLED",get:function(){return I}},{key:"TRY_AGAIN_LATER",get:function(){return w}},{key:"VALIDATING_REFERENCE_ERROR",get:function(){return C}},{key:"UNIQUE_FIELD_ERROR",get:function(){return E}},{key:"ZONE_NOT_FOUND",get:function(){return A}},{key:"UNKNOWN_ERROR",get:function(){return D}},{key:"NETWORK_ERROR",get:function(){return M}},{key:"SERVICE_UNAVAILABLE",get:function(){return N}},{key:"INVALID_ARGUMENTS",get:function(){return F}},{key:"UNEXPECTED_SERVER_RESPONSE",get:function(){return L}},{key:"CONFIGURATION_ERROR",get:function(){return R}},{key:"AUTH_PERSIST_ERROR",get:function(){return x}},{key:"SIGN_IN_FAILED",get:function(){return P}},{key:"SHARE_UI_TIMEOUT",get:function(){return k}},{key:"ZONE_BUSY",get:function(){return T}}]),(0,c.default)(t,[{key:"toString",value:function(){return d.Utils.instanceToString("CKError",this)}},{key:"toJSON",value:function(){return{ckErrorCode:this._ckErrorCode,extensionErrorCode:this._extensionErrorCode,reason:this._reason,recordName:this._recordName,redirectURL:this._redirectURL,retryAfter:this._retryAfter,serverErrorCode:this._serverErrorCode,subscriptionID:this._subscriptionID,uuid:this._uuid,zoneID:this._zoneID}}}]),t}(function(e){function t(){e.apply(this,arguments)}return t.prototype=(0,a.default)(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r.default?(0,r.default)(t,e):t.__proto__=e,t}(Error));t.default=B},function(e,t,n){e.exports={default:n(93),__esModule:!0}},function(e,t,n){n(94),e.exports=n(6).Object.setPrototypeOf},function(e,t,n){var i=n(4);i(i.S,"Object",{setPrototypeOf:n(95).set})},function(e,t,n){var i=n(12),r=n(11),a=function(e,t){if(r(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{(i=n(7)(Function.call,n(96).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:a}},function(e,t,n){var i=n(37),r=n(18),a=n(23),o=n(17),s=n(19),l=n(13),c=Object.getOwnPropertyDescriptor;t.f=n(14)?c:function(e,t){if(e=a(e),t=o(t,!0),l)try{return c(e,t)}catch(n){}if(s(e,t))return r(!i.f.call(e,t),e[t])}},function(e,t,n){e.exports={default:n(98),__esModule:!0}},function(e,t,n){n(99);var i=n(6).Object;e.exports=function(e,t){return i.create(e,t)}},function(e,t,n){var i=n(4);i(i.S,"Object",{create:n(48)})},function(e,t,n){e.exports={default:n(101),__esModule:!0}},function(e,t,n){n(102),e.exports=n(6).Object.getPrototypeOf},function(e,t,n){var i=n(38),r=n(53);n(103)("getPrototypeOf",(function(){return function(e){return r(i(e))}}))},function(e,t,n){var i=n(4),r=n(6),a=n(15);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],o={};o[e]=t(n),i(i.S+i.F*a((function(){n(1)})),"Object",o)}},function(e,t,n){"use strict";t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(105));t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(n(106)),a=i(n(109)),o="function"==typeof a.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default?"symbol":typeof e};t.default="function"==typeof a.default&&"symbol"===o(r.default)?function(e){return"undefined"==typeof e?"undefined":o(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default?"symbol":"undefined"==typeof e?"undefined":o(e)}},function(e,t,n){e.exports={default:n(107),__esModule:!0}},function(e,t,n){n(42),n(54),e.exports=n(108).f("iterator")},function(e,t,n){t.f=n(52)},function(e,t,n){e.exports={default:n(110),__esModule:!0}},function(e,t,n){n(111),n(41),n(118),n(119),e.exports=n(6).Symbol},function(e,t,n){"use strict";var i=n(5),r=n(19),a=n(14),o=n(4),s=n(45),l=n(112).KEY,c=n(15),u=n(32),d=n(51),h=n(34),f=n(52),p=n(108),m=n(113),g=n(114),v=n(115),_=n(11),b=n(12),y=n(23),S=n(17),I=n(18),w=n(48),E=n(116),C=n(96),A=n(10),T=n(21),O=C.f,D=A.f,M=E.f,N=i.Symbol,F=i.JSON,L=F&&F.stringify,R="prototype",x=f("_hidden"),P=f("toPrimitive"),k={}.propertyIsEnumerable,U=u("symbol-registry"),j=u("symbols"),B=u("op-symbols"),V=Object[R],$="function"==typeof N,W=i.QObject,z=!W||!W[R]||!W[R].findChild,G=a&&c((function(){return 7!=w(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=O(V,t);i&&delete V[t],D(e,t,n),i&&e!==V&&D(V,t,i)}:D,H=function(e){var t=j[e]=w(N[R]);return t._k=e,t},K=$&&"symbol"==typeof N.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof N},Q=function(e,t,n){return e===V&&Q(B,t,n),_(e),t=S(t,!0),_(n),r(j,t)?(n.enumerable?(r(e,x)&&e[x][t]&&(e[x][t]=!1),n=w(n,{enumerable:I(0,!1)})):(r(e,x)||D(e,x,I(1,{})),e[x][t]=!0),G(e,t,n)):D(e,t,n)},q=function(e,t){_(e);for(var n,i=g(t=y(t)),r=0,a=i.length;a>r;)Q(e,n=i[r++],t[n]);return e},Y=function(e){var t=k.call(this,e=S(e,!0));return!(this===V&&r(j,e)&&!r(B,e))&&(!(t||!r(this,e)||!r(j,e)||r(this,x)&&this[x][e])||t)},X=function(e,t){if(e=y(e),t=S(t,!0),e!==V||!r(j,t)||r(B,t)){var n=O(e,t);return!n||!r(j,t)||r(e,x)&&e[x][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=M(y(e)),i=[],a=0;n.length>a;)r(j,t=n[a++])||t==x||t==l||i.push(t);return i},Z=function(e){for(var t,n=e===V,i=M(n?B:y(e)),a=[],o=0;i.length>o;)!r(j,t=i[o++])||n&&!r(V,t)||a.push(j[t]);return a};$||(s((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===V&&t.call(B,n),r(this,x)&&r(this[x],e)&&(this[x][e]=!1),G(this,e,I(1,n))};return a&&z&&G(V,e,{configurable:!0,set:t}),H(e)})[R],"toString",(function(){return this._k})),C.f=X,A.f=Q,n(117).f=E.f=J,n(37).f=Y,n(36).f=Z,a&&!n(33)&&s(V,"propertyIsEnumerable",Y,!0),p.f=function(e){return H(f(e))}),o(o.G+o.W+o.F*!$,{Symbol:N});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)f(ee[te++]);for(var ne=T(f.store),ie=0;ne.length>ie;)m(ne[ie++]);o(o.S+o.F*!$,"Symbol",{for:function(e){return r(U,e+="")?U[e]:U[e]=N(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),o(o.S+o.F*!$,"Object",{create:function(e,t){return void 0===t?w(e):q(w(e),t)},defineProperty:Q,defineProperties:q,getOwnPropertyDescriptor:X,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),F&&o(o.S+o.F*(!$||c((function(){var e=N();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(b(t)||void 0!==e)&&!K(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!K(t))return t}),i[1]=t,L.apply(F,i)}}),N[R][P]||n(9)(N[R],P,N[R].valueOf),d(N,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(e,t,n){var i=n(34)("meta"),r=n(12),a=n(19),o=n(10).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(15)((function(){return l(Object.preventExtensions({}))})),u=function(e){o(e,i,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,i)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[i].i},getWeak:function(e,t){if(!a(e,i)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[i].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!a(e,i)&&u(e),e}}},function(e,t,n){var i=n(5),r=n(6),a=n(33),o=n(108),s=n(10).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=a?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,n){var i=n(21),r=n(36),a=n(37);e.exports=function(e){var t=i(e),n=r.f;if(n)for(var o,s=n(e),l=a.f,c=0;s.length>c;)l.call(e,o=s[c++])&&t.push(o);return t}},function(e,t,n){var i=n(25);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(23),r=n(117).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return r(e)}catch(t){return o.slice()}}(e):r(i(e))}},function(e,t,n){var i=n(22),r=n(35).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){n(113)("asyncIterator")},function(e,t,n){n(113)("observable")},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(n(92)),a=i(n(97)),o=i(n(105));t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,o.default)(t)));e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ZipDownloadResponse=t.Utils=t.SubscriptionsBatchBuilder=t.Reporting=t.RecordZonesBatchBuilder=t.RecordUtils=t.RecordsRequestOptions=t.NotificationUtil=t.Log=t.HTTPRequest=t.Fetch=t.Constants=t.CKRequest=t.AssetUploadHelper=t.AssetUtils=t.Async=t.AssetRereferenceResponse=t.AssetCopierJobStatusResponse=t.AssetCopierJobStartResponse=t.APNSManager=t.APNSConnector=t.FetchResponse=t.FetchShim=t.ShareSheetDelegate=t.ShareSheet=t.SharingFlow=t.BIDIChannel=t.AuthButtons=t.AuthButton=t.APITokenAuth=t.S2SAuth=t.DefaultAuth=t.AuthFactory=t.AuthTokenStore=void 0;var r=i(n(122)),a=i(n(139)),o=i(n(140)),s=i(n(142)),l=i(n(143)),c=i(n(144)),u=i(n(148)),d=i(n(149)),h=i(n(150)),f=i(n(151)),p=i(n(152)),m=i(n(160)),g=i(n(356)),v=i(n(360)),_=n(162),b=i(n(361)),y=i(n(362)),S=i(n(365)),I=i(n(364)),w=i(n(366)),E=i(n(367)),C=i(n(368)),A=i(n(375)),T=i(n(376)),O=i(n(377)),D=i(n(378)),M=i(n(379)),N=i(n(381)),F=i(n(382)),L=n(383),R=i(L),x=i(n(390)),P=i(n(163)),k=i(n(391));t.AuthTokenStore=_.AuthTokenStore,t.AuthFactory=h.default,t.DefaultAuth=f.default,t.S2SAuth=p.default,t.APITokenAuth=m.default,t.AuthButton=g.default,t.AuthButtons=v.default,t.BIDIChannel=w.default,t.SharingFlow=F.default,t.ShareSheet=M.default,t.ShareSheetDelegate=N.default,t.FetchShim=R.default,t.FetchResponse=L.FetchResponse,t.APNSConnector=r.default,t.APNSManager=a.default,t.AssetCopierJobStartResponse=o.default,t.AssetCopierJobStatusResponse=s.default,t.AssetRereferenceResponse=l.default,t.Async=d.default,t.AssetUtils=u.default,t.AssetUploadHelper=c.default,t.CKRequest=b.default,t.Constants=y.default,t.Fetch=new S.default,t.HTTPRequest=I.default,t.Log=E.default,t.NotificationUtil=C.default,t.RecordsRequestOptions=A.default,t.RecordUtils=T.default,t.RecordZonesBatchBuilder=O.default,t.Reporting=new D.default,t.SubscriptionsBatchBuilder=x.default,t.Utils=P.default,t.ZipDownloadResponse=k.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(123)),a=i(n(78)),o=i(n(79)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),l=function(){function e(t){(0,a.default)(this,e),this._apnsEnvironment=t,this._apnsToken=null,this._notificationListeners=new r.default,this._isPolling=!1,this._urlPath=null,this._failureBackoff=10}return(0,o.default)(e,[{key:"consumeApnsInfo",value:function(e){var t=e.apnsToken,n=e.webcourierURL;this._apnsToken=t,this._urlPath=n}},{key:"clearApnsInfo",value:function(){this._apnsToken=null,this._urlPath=null}},{key:"_canParkConnection",value:function(){return!this._isPolling&&this.hasApnsToken&&this._notificationListeners.size>0}},{key:"_parkConnection",value:function(){var e=this;this._canParkConnection()&&(this._isPolling=!0,s.Fetch.fetchJSON(this._urlPath).then((function(t){e._isPolling=!1;try{e._handleNotification(t)}catch(n){throw s.Log.warn("Error",n),n}e._failureBackoff=10,setTimeout((function(){return e._parkConnection()}),10)})).catch((function(t){e._isPolling=!1,s.Log.warn("Error",t),setTimeout((function(){return e._parkConnection()}),e._failureBackoff),e._failureBackoff=Math.min(1e3,10*e._failureBackoff)})))}},{key:"_handleNotification",value:function(e){e&&this._notificationListeners.forEach((function(t){s.Utils.isFunction(t)?t(e):s.Utils.isFunction(t.handleNotification)&&t.handleNotification(e)}))}},{key:"addNotificationListener",value:function(e){if(!s.Utils.isFunction(e)&&!s.Utils.isFunction(e.handleNotification))throw new Error('notification listener must be either a function or an object with a function called "handleNotification"');return this._notificationListeners.add(e),this._parkConnection(),e}},{key:"removeNotificationListener",value:function(e){return this._notificationListeners.delete(e),e}},{key:"hasNotificationListener",value:function(e){return this._notificationListeners.has(e)}},{key:"apnsToken",get:function(){return this._apnsToken}},{key:"hasApnsToken",get:function(){return!s.Utils.isNullOrUndefined(this._urlPath)&&!s.Utils.isNullOrUndefined(this._apnsToken)}}]),e}();t.default=l},function(e,t,n){e.exports={default:n(124),__esModule:!0}},function(e,t,n){n(41),n(42),n(54),n(125),n(132),n(135),n(137),e.exports=n(6).Set},function(e,t,n){"use strict";var i=n(126),r=n(127);e.exports=n(128)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return i.def(r(this,"Set"),e=0===e?0:e,e)}},i)},function(e,t,n){"use strict";var i=n(10).f,r=n(48),a=n(73),o=n(7),s=n(60),l=n(61),c=n(44),u=n(57),d=n(74),h=n(14),f=n(112).fastKey,p=n(127),m=h?"_s":"size",g=function(e,t){var n,i=f(t);if("F"!==i)return e._i[i];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var u=e((function(e,i){s(e,u,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=i&&l(i,n,e[c],e)}));return a(u.prototype,{clear:function(){for(var e=p(this,t),n=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=p(this,t),i=g(n,e);if(i){var r=i.n,a=i.p;delete n._i[i.i],i.r=!0,a&&(a.n=r),r&&(r.p=a),n._f==i&&(n._f=r),n._l==i&&(n._l=a),n[m]--}return!!i},forEach:function(e){p(this,t);for(var n,i=o(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(p(this,t),e)}}),h&&i(u.prototype,"size",{get:function(){return p(this,t)[m]}}),u},def:function(e,t,n){var i,r,a=g(e,t);return a?a.v=n:(e._l=a={i:r=f(t,!0),k:t,v:n,p:i=e._l,n:void 0,r:!1},e._f||(e._f=a),i&&(i.n=a),e[m]++,"F"!==r&&(e._i[r]=a)),e},getEntry:g,setStrong:function(e,t,n){c(e,t,(function(e,n){this._t=p(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?u(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,u(1))}),n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){var i=n(12);e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";var i=n(5),r=n(4),a=n(112),o=n(15),s=n(9),l=n(73),c=n(61),u=n(60),d=n(12),h=n(51),f=n(10).f,p=n(129)(0),m=n(14);e.exports=function(e,t,n,g,v,_){var b=i[e],y=b,S=v?"set":"add",I=y&&y.prototype,w={};return m&&"function"==typeof y&&(_||I.forEach&&!o((function(){(new y).entries().next()})))?(y=t((function(t,n){u(t,y,e,"_c"),t._c=new b,void 0!=n&&c(n,v,t[S],t)})),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;e in I&&(!_||"clear"!=e)&&s(y.prototype,e,(function(n,i){if(u(this,y,e),!t&&_&&!d(n))return"get"==e&&void 0;var r=this._c[e](0===n?0:n,i);return t?this:r}))})),_||f(y.prototype,"size",{get:function(){return this._c.size}})):(y=g.getConstructor(t,e,v,S),l(y.prototype,n),a.NEED=!0),h(y,e),w[e]=y,r(r.G+r.W+r.F,w),_||g.setStrong(y,e,v),y}},function(e,t,n){var i=n(7),r=n(24),a=n(38),o=n(28),s=n(130);e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,u=4==e,d=6==e,h=5==e||d,f=t||s;return function(t,s,p){for(var m,g,v=a(t),_=r(v),b=i(s,p,3),y=o(_.length),S=0,I=n?f(t,y):l?f(t,0):void 0;y>S;S++)if((h||S in _)&&(g=b(m=_[S],S,v),e))if(n)I[S]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return S;case 2:I.push(m)}else if(u)return!1;return d?-1:c||u?u:I}}},function(e,t,n){var i=n(131);e.exports=function(e,t){return new(i(e))(t)}},function(e,t,n){var i=n(12),r=n(115),a=n(52)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),i(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var i=n(4);i(i.P+i.R,"Set",{toJSON:n(133)("Set")})},function(e,t,n){var i=n(59),r=n(134);e.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");return r(this)}}},function(e,t,n){var i=n(61);e.exports=function(e,t){var n=[];return i(e,!1,n.push,n,t),n}},function(e,t,n){n(136)("Set")},function(e,t,n){"use strict";var i=n(4);e.exports=function(e){i(i.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(138)("Set")},function(e,t,n){"use strict";var i=n(4),r=n(8),a=n(7),o=n(61);e.exports=function(e){i(i.S,e,{from:function(e){var t,n,i,s,l=arguments[1];return r(this),(t=void 0!==l)&&r(l),void 0==e?new this:(n=[],t?(i=0,s=a(l,arguments[2],2),o(e,!1,(function(e){n.push(s(e,i++))}))):o(e,!1,n.push,n),new this(n))}})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(78)),a=i(n(79)),o=i(n(91)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),l=function(){function e(){(0,r.default)(this,e),this._prodApnsConnector=new s.APNSConnector(s.Constants.PRODUCTION_ENVIRONMENT),this._devApnsConnector=new s.APNSConnector(s.Constants.DEVELOPMENT_ENVIRONMENT)}return(0,a.default)(e,[{key:"registerContainerForNotification",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{apnsToken:void 0,clientID:void 0,refreshToken:void 0,dontPoll:void 0};if(t.apnsToken)return this._registerToken(e,t.apnsToken,t.clientID).then((function(){return e}));var n=this._getConnectorForContainer(e);!0===t.refreshToken&&n.clearApnsInfo();var i=n.hasApnsToken?this._registerToken(e,n.apnsToken,t.clientID):this._createToken(e,t.clientID);return t.dontPoll?i:i.then((function(t){var i=t.httpResponse.body;return n.consumeApnsInfo(i),n.addNotificationListener(e),e}))}},{key:"unregisterContainerForNotification",value:function(e){return this._getConnectorForContainer(e).removeNotificationListener(e)}},{key:"isContainerRegisteredForNotifications",value:function(e){return this._getConnectorForContainer(e).hasNotificationListener(e)}},{key:"_getConnectorForContainer",value:function(e){if(e.apnsEnvironment===s.Constants.PRODUCTION_ENVIRONMENT)return this._prodApnsConnector;if(e.apnsEnvironment===s.Constants.DEVELOPMENT_ENVIRONMENT)return this._devApnsConnector;throw o.default.makeConfigurationError("No apnsEnvironment configured for container: "+e.containerIdentifier)}},{key:"_createToken",value:function(e,t){return e.sendRequest((new s.CKRequest).setApiModuleName("device").setApiEntityName("tokens").setApiActionName("create").setPayload({apnsEnvironment:e.apnsEnvironment,clientId:t}))}},{key:"_registerToken",value:function(e,t,n){return e.sendRequest((new s.CKRequest).setApiModuleName("device").setApiEntityName("tokens").setApiActionName("register").setPayload({apnsEnvironment:e.apnsEnvironment,apnsToken:t,clientId:n}))}}]),e}();t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(100)),a=i(n(78)),o=i(n(79)),s=i(n(104)),l=i(n(120)),c=function(e){function t(e,n){(0,a.default)(this,t);var i=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return i._jobID=n.body.jobID,i}return(0,l.default)(t,e),(0,o.default)(t,[{key:"jobID",get:function(){return this._jobID}}]),t}(i(n(141)).default);t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(100)),a=i(n(104)),o=i(n(120)),s=i(n(78)),l=i(n(79)),c=i(n(91)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),d=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if((0,s.default)(this,e),u.Utils.assertArg(t,"request cannot be null"),u.Utils.assertArg(n,"httpResponse cannot be null"),this._request=t,this._httpResponse=n,null!==i){var r=n.body[i];if(!u.Utils.isArray(r))throw c.default.makeUnexpectedServerResponse();var a=r.reduce((function(e,t){return c.default.isErrorObject(t)?e.errors.push(c.default.fromServerError(t)):e.results.push(t),e}),{results:[],errors:[]}),o=a.results,l=a.errors;this._errors=l,this._results=o}}return(0,l.default)(e,[{key:"request",get:function(){return this._request}},{key:"httpResponse",get:function(){return this._httpResponse}},{key:"errors",get:function(){return this._errors}},{key:"hasErrors",get:function(){var e=this.errors;return e&&e.length>0}},{key:"isResponse",get:function(){return!0}}],[{key:"createGenericResponseClass",value:function(t){return function(e){function n(e,i){return(0,s.default)(this,n),(0,a.default)(this,(n.__proto__||(0,r.default)(n)).call(this,e,i,t))}return(0,o.default)(n,e),(0,l.default)(n,[{key:t,get:function(){return this._results}}]),n}(e)}}]),(0,l.default)(e,[{key:"getCKSession",value:function(){var e=null;try{e=u.Fetch.readHeader(this.httpResponse.headers,"x-apple-cloudkit-web-auth-token")}catch(t){}return u.Utils.isNullOrUndefined(e)&&(e=u.Fetch.readHeader(this.httpResponse.headers,"x-apple-cloudkit-session")),e}}]),e}();t.default=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(100)),a=i(n(78)),o=i(n(79)),s=i(n(104)),l=i(n(120)),c=function(e){function t(e,n){(0,a.default)(this,t);var i=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),o=n.body;return i._jobID=o.jobID,i._itemsProcessed=o.itemsProcessed,i._itemsTotalEstimate=o.itemsTotalEstimate,i._status=o.status,i._reason=o.reason,i._serverErrorCode=o.serverErrorCode,i}return(0,l.default)(t,e),(0,o.default)(t,[{key:"jobID",get:function(){return this._jobID}},{key:"itemsProcessed",get:function(){return this._itemsProcessed}},{key:"itemsTotalEstimate",get:function(){return this._itemsTotalEstimate}},{key:"status",get:function(){return this._status}},{key:"reason",get:function(){return this._reason}},{key:"serverErrorCode",get:function(){return this._serverErrorCode}}]),t}(i(n(141)).default);t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(100)),a=i(n(78)),o=i(n(79)),s=i(n(104)),l=i(n(120)),c=i(n(141)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),d=function(e){function t(e,n){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,"assets"))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"toString",value:function(){return u.Utils.instanceToString("AssetRereferenceResponse",this)}},{key:"assets",get:function(){return this._results}},{key:"isAssetReferenceResponse",get:function(){return!0}}]),t}(c.default);t.default=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return p.Utils.isNode()?e instanceof p.Utils.Buffer:e instanceof window.Blob}function a(e){return!p.Utils.isNullOrUndefined(e)&&!p.Utils.isNullOrUndefined(e.recordName)&&!p.Utils.isNullOrUndefined(e.fieldName)}Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(145)),s=i(n(100)),l=i(n(104)),c=i(n(120)),u=i(n(78)),d=i(n(79)),h=i(n(91)),f=i(n(141)),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),m=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,u.default)(this,e),this._record=t,this._fieldName=n,this._field=i,this._indexInField=r}return(0,d.default)(e,[{key:"toRequestToken",value:function(){var e={fieldName:this._fieldName,recordType:void 0,recordName:void 0};return p.Utils.isNullOrUndefined(this._record.recordType)||(e.recordType=this._record.recordType),p.Utils.isNullOrUndefined(this._record.recordName)||(e.recordName=this._record.recordName),e}},{key:"toAssetUploadStartEventPayload",value:function(){return{fieldName:this._fieldName,indexInField:this._indexInField,record:this._record}}},{key:"consumeUploadToken",value:function(e){this._uploadToken=e}},{key:"consumeUploadReceipt",value:function(e){p.Utils.isNullOrUndefined(this._indexInField)?this._field.value=e:this._field.value[this._indexInField]=e}},{key:"getUrlForUpload",value:function(){return this._uploadToken.url}},{key:"getAssetValueForUpload",value:function(){var e=p.Utils.isNullOrUndefined(this._indexInField)?this._field.value:this._field.value[this._indexInField];return p.Utils.prepareForUpload(e)}}]),e}(),g=function(e){function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,u.default)(this,t),(0,l.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,n,i,r))}return(0,c.default)(t,e),(0,d.default)(t,[{key:"toRequestToken",value:function(){var e=this._field.value;return p.Utils.isNullOrUndefined(this._indexInField)?e:e[this._indexInField]}}]),t}(m);t.default={handleAssetsInBatchBeforeCommit:function(e){var t=p.Async.Promise.resolve(),n=function(e){var t=[],n=[];return e._operations.forEach((function(e){var i=e.record,s=i.fields;p.Utils.isNullOrUndefined(s)||(0,o.default)(i.fields).forEach((function(e){var o=i.fields[e];r(o.value)?t.push(new m(i,e,o)):function(e){return p.Utils.isArray(e)&&e.some(r)}(o.value)?o.value.forEach((function(n,a){r(n)&&t.push(new m(i,e,o,a))})):a(o.value)?n.push(new g(i,e,o)):function(e){return p.Utils.isArray(e)&&e.some(a)}(o.value)&&o.value.forEach((function(t,r){a(t)&&n.push(new g(i,e,o,r))}))}))})),{uploadInfos:t,rerefInfos:n}}(e),i=n.uploadInfos,s=n.rerefInfos;return i.length>0&&(p.Log.info("uploading assets",i),t=function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={tokens:e.map((function(e){return e.toRequestToken()})),zoneID:n.zoneID},r=(new p.CKRequest).setApiEntityName("assets").setApiActionName("upload").setResponseClass(f.default.createGenericResponseClass("tokens")).setPayload(i);return t.sendRequest(r)}(t,e._database,e.options).then((function(n){return p.Async.Promise.all(n.tokens.map((function(n,i){var r=t[i];return r.consumeUploadToken(n),function(e,t){var n=e.getAssetValueForUpload(),i=e.getUrlForUpload();return p.Fetch.fetch(i,{body:n,exposeImplementation:function(n){t._notifyAssetUploadStart(n,e.toAssetUploadStartEventPayload())},method:"POST"}).catch((function(){throw h.default.makeNetworkError()})).then((function(e){return e.json()})).catch((function(e){throw h.default.makeUnexpectedServerResponse(e)})).then((function(e){return e.singleFile}))}(r,e)})))})).then((function(e){return e.forEach((function(e,n){return t[n].consumeUploadReceipt(e)}))}))}(e,i)),s.length>0&&(p.Log.info("rereferencing assets",s),t=t.then((function(){return function(e,t){var n=e._database,i={assets:t.map((function(e){return e.toRequestToken()})),zoneID:e.zoneID},r=(new p.CKRequest).setApiEntityName("assets").setApiActionName("rereference").setResponseClass(f.default.createGenericResponseClass("assets")).setPayload(i);return n.sendRequest(r).then((function(e){if(e.hasErrors)throw p.Log.warn("rereference failed",e.errors),h.default.fromServerError(e.errors[0]);e.assets.forEach((function(e,n){t[n].consumeUploadReceipt(e)}))}))}(e,s)}))),t}}},function(e,t,n){e.exports={default:n(146),__esModule:!0}},function(e,t,n){n(147),e.exports=n(6).Object.keys},function(e,t,n){var i=n(38),r=n(21);n(103)("keys",(function(){return function(e){return r(i(e))}}))},function(e,t,n){"use strict";function i(e){if(a.Utils.isNullOrUndefined(e))throw r.default.makeInvalidArguments("not a valid Rereference object: "+a.Utils.stringifyExposingUndefined(e));if(!a.Utils.has(e,"recordName")||!a.Utils.has(e,"fieldName"))throw r.default.makeInvalidArguments("a valid Rereference object requires `recordName` and `fieldName` properties");return e}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(91)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121));t.default={normalizeAssetRereference:i,normalizeAssetRereferenceArray:function(e){return a.Utils.asArray(e).map(i)}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Async=void 0;var r=i(n(39)),a=i(n(78)),o=i(n(79)),s=new(t.Async=function(){function e(){(0,a.default)(this,e),"undefined"!=typeof r.default&&(this.Promise=r.default)}return(0,o.default)(e,[{key:"wait",value:function(e){return new this.Promise((function(t,n){setTimeout(t,e)}))}},{key:"waitOrFail",value:function(e,t,n){var i=null,r=new this._Promise((function(e,r){var a=setTimeout((function(){return r(n)}),t);i=function(){return clearTimeout(a)}}));return e.then(i,i),this._Promise.race([e,r])}},{key:"defer",value:function(){var e={},t=new this.Promise((function(t,n){e.resolve=t,e.reject=n}));return e.promise=t,e}},{key:"Promise",set:function(e){this._Promise=e},get:function(){return this._Promise}}]),e}());t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),r="serverToServerKeyAuth",a="apiTokenAuth";t.default={API_TOKEN_AUTH:a,SERVER_TO_SERVER_KEY_AUTH:r,createAuth:function(e){var t=e.container,n=e.containerConfig,o=e.authTokenStore;return i.Utils.isNullOrUndefined(n[r])?i.Utils.isNullOrUndefined(n[a])?new i.DefaultAuth({container:t}):new i.APITokenAuth({authTokenStore:o,config:n[a],container:t,locale:n.locale}):new i.S2SAuth({config:n[r],container:t,locale:n.locale})}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(78)),a=i(n(79)),o=i(n(91)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),l=function(){function e(t){var n=t.container;(0,r.default)(this,e),this._container=n}return(0,a.default)(e,[{key:"_fetchCurrentUserIdentity",value:function(){return this._container.fetchCurrentUserIdentity()}},{key:"setup",value:function(){return this._fetchCurrentUserIdentity()}},{key:"whenUserSignsIn",value:function(){throw o.default.makeConfigurationError("whenUserSignsIn not implemented by this auth type")}},{key:"whenUserSignsOut",value:function(){throw o.default.makeConfigurationError("whenUserSignsOut not implemented by this auth type")}},{key:"signOut",value:function(){throw o.default.makeConfigurationError("signOut not implemented by this auth type")}},{key:"requestHandler",value:function(){return function(e){return s.Async.Promise.resolve(e)}}},{key:"responseHandler",value:function(){return function(e){return e}}},{key:"getConfig",value:function(){return{}}}]),e}();t.default=l},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(153)),o=r(n(100)),s=r(n(78)),l=r(n(79)),c=r(n(104)),u=r(n(155)),d=r(n(120)),h=i(n(159)),f=i(n(159)),p=r(n(91)),m=i(n(121)),g=r(n(151)),v="keyID",_="privateKeyFile",b="privateKeyPassPhrase",y=function(e){function t(e){var n=e.container,i=e.config;(0,s.default)(this,t);var r=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,{container:n}));return r._config=i,r._keyID=null,r._key=null,r}return(0,d.default)(t,e),(0,l.default)(t,[{key:"setup",value:function(){if(m.Utils.isNullOrUndefined(this._config[v]))throw p.default.makeConfigurationError(v+" not set in "+(0,a.default)(this._config));if(m.Utils.isNullOrUndefined(this._config[_]))throw p.default.makeConfigurationError(_+" not set in "+(0,a.default)(this._config));if(this._keyID=this._config[v],this._key=f.readFileSync(this._config[_],"utf8"),m.Utils.isNullOrUndefined(this._key))throw p.default.makeConfigurationError("Could not read key from "+_+"}");return m.Utils.isNullOrUndefined(this._config[b])||(this._key={key:this._key,passphrase:this._config[b]}),(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setup",this).call(this)}},{key:"requestHandler",value:function(){var e=this;return function(t){var n,i=(new Date).toISOString().replace(/(\.\d\d\d)Z/,"Z"),r=t.getBodyStringified()||"",a=t.getPathWithParams(),o=i+":"+function(e){var t=h.createHash("sha256");return t.update(new m.Utils.Buffer(e,"utf-8")),t.digest("base64")}(r)+":"+a;return n=m.Utils.isFunction(e._externalSigner)?e._externalSigner(e._keyID,o):function(e,t){var n=h.createSign("RSA-SHA256");return n.update(t),n.sign(e,"base64")}(e._key,o),m.Async.Promise.resolve(n).then((function(n){return t.setISODate(i),t.setSigningKeyID(e._keyID),t.setSignatureV1(n),t}))}}}]),t}(g.default);t.default=y},function(e,t,n){e.exports={default:n(154),__esModule:!0}},function(e,t,n){var i=n(6),r=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(n(100)),a=i(n(156));t.default=function e(t,n,i){null===t&&(t=Function.prototype);var o=(0,a.default)(t,n);if(void 0===o){var s=(0,r.default)(t);return null===s?void 0:e(s,n,i)}if("value"in o)return o.value;var l=o.get;return void 0!==l?l.call(i):void 0}},function(e,t,n){e.exports={default:n(157),__esModule:!0}},function(e,t,n){n(158);var i=n(6).Object;e.exports=function(e,t){return i.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var i=n(23),r=n(96).f;n(103)("getOwnPropertyDescriptor",(function(){return function(e,t){return r(i(e),t)}}))},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(161)),a=i(n(100)),o=i(n(78)),s=i(n(79)),l=i(n(104)),c=i(n(120)),u=i(n(91)),d=n(162),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),f=i(n(151)),p={id:"apple-sign-in-button",theme:"medium"},m={id:"apple-sign-out-button",theme:"medium"},g=function(e){function t(e){var n=e.container,i=e.config,r=e.locale,s=e.authTokenStore;(0,o.default)(this,t);var c=(0,l.default)(this,(t.__proto__||(0,a.default)(t)).call(this,{container:n}));return i.persist&&(c._authTokenStore=d.AuthTokenStore.create(s)),c._apiToken=i.apiToken,c._authButtons=h.AuthButtons.create({locale:r,signInButton:h.Utils.assign({},p,i.signInButton),signOutButton:h.Utils.assign({},m,i.signOutButton)}),c._ckSession=null,c._signInURL=null,c._whenUserSignsIn=h.Async.defer(),c._whenUserSignsOut=h.Async.defer(),h.Utils.isNullOrUndefined(i.ckWebAuthToken)||c._setSession(i.ckWebAuthToken),c}return(0,c.default)(t,e),(0,s.default)(t,[{key:"setup",value:function(){return this._authButtons.reset(),this._fetchAndHandleCurrentUserIdentity()}},{key:"whenUserSignsIn",value:function(){return this._whenUserSignsIn.promise}},{key:"whenUserSignsOut",value:function(){return this._whenUserSignsOut.promise}},{key:"signOut",value:function(){this._setSession(null),this._whenUserSignsOut.resolve(),this._whenUserSignsOut=h.Async.defer()}},{key:"requestHandler",value:function(){var e=this;return function(t){return e._getSessionAsync().then((function(n){return h.Utils.isNullOrUndefined(n)||t.setCKSession(n),t.setApiToken(e._apiToken),t}))}}},{key:"responseHandler",value:function(){var e=this;return function(t){return h.Utils.isNullOrUndefined(t.getCKSession())||h.Utils.isNullOrUndefined(e._ckSession)||e._setSession(t.getCKSession()),t}}},{key:"getConfig",value:function(){return(0,r.default)({},h.AuthFactory.API_TOKEN_AUTH,{apiToken:this._apiToken,ckWebAuthToken:this._ckSession})}},{key:"_getSessionAsync",value:function(){var e=this,t=h.Async.Promise.resolve(this._ckSession);return this._authTokenStore&&(t=h.Async.Promise.resolve(this._authTokenStore.getToken(this._container.containerIdentifier)).then((function(t){return e._ckSession=t,e._ckSession}))),t}},{key:"_setSession",value:function(e){this._ckSession=e,this._authTokenStore&&this._authTokenStore.putToken(this._container.containerIdentifier,e)}},{key:"_fetchAndHandleCurrentUserIdentity",value:function(){var e=this;return this._fetchCurrentUserIdentity().then((function(t){return e._handleCurrentUserIdentity(t)})).catch((function(t){if(t.ckErrorCode===u.default.AUTHENTICATION_REQUIRED)return e._handleSignInURL(t.redirectURL),null;throw t}))}},{key:"_handleSignInURL",value:function(e){var t=this;this._signInURL=e,setTimeout((function(){return t._fetchAndHandleCurrentUserIdentity().catch((function(){}))}),84e4),this._authButtons.showSignInButton((function(){h.Utils.getAsyncMessageFromPopup(t._signInURL,640,525).then((function(e){var n=e.data.ckSession;if(h.Utils.isNullOrUndefined(n))throw h.Utils.isNullOrUndefined(e.data.errorMessage)?(h.Log.warn("Event of type message has neither a ckSession nor an error message",e),u.default.makeUnknownError()):(h.Log.warn("Message event from popup reports error: ",e.data),u.default.makeSignInFailedError(e.data));t._setSession(n)})).then((function(){return t._fetchAndHandleCurrentUserIdentity()})).catch((function(e){h.Reporting.reportUnexpectedAuthError(),h.Log.warn("Unexpected error",e),t._whenUserSignsIn.reject(e),t._whenUserSignsIn=h.Async.defer(),t.setup()}))}))}},{key:"_handleCurrentUserIdentity",value:function(e){var t=this;return this._whenUserSignsIn.resolve(e),this._whenUserSignsIn=h.Async.defer(),this._authButtons.showSignOutButton((function(){t.signOut(),t.setup()})),e}}]),t}(f.default);t.default=g},function(e,t,n){"use strict";t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(80));t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AuthTokenStore=void 0;var r=i(n(78)),a=i(n(79)),o=i(n(91)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),l=i(n(163)),c={putToken:function(e,t){s.Utils.setCookie(e,t)},getToken:function(e){return s.Utils.getCookie(e)}},u={},d={putToken:function(e,t){u[e]=t},getToken:function(e){return u[e]}},h=l.default.isNode()?d:c;t.AuthTokenStore=function(){function e(){(0,r.default)(this,e),this.setDelegate()}return(0,a.default)(e,[{key:"setDelegate",value:function(e){s.Utils.isNullOrUndefined(e)?this._delegate=h:this._delegate=e}},{key:"putToken",value:function(e,t){try{this._delegate.putToken(e,t)}catch(n){this._delegate[e]=t}if(t!==this.getToken(e))throw o.default.makeAuthPersistError()}},{key:"getToken",value:function(e){try{return this._delegate.getToken(e)}catch(t){return this._delegate[e]}}}],[{key:"create",value:function(t){var n=new e;return n.setDelegate(t),n}}]),e}()},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return(0,S.default)(e)||(0,E.default)(e)}function a(){return"undefined"==typeof window}function o(e,t,n){try{return e.apply(void 0,(0,s.default)(t))}catch(i){throw console.error(n),i}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(164)),l=i(n(145)),c=i(n(153)),u=i(n(169)),d=i(n(100)),h=i(n(172)),f=i(n(175)),p=i(n(226)),m=i(n(295)),g=i(n(339)),v=(i(n(197)),n(215)),_=i(v),b=i(n(341)),y=i(n(181)),S=i(n(342)),I=i(n(188)),w=i(n(343)),E=i(n(344)),C=i(n(345)),A=i(n(353)),T=i(n(149)),O=a()?e.Buffer:null;t.default={isUndefined:E.default,isNullOrUndefined:r,isInt:function(e){return Number(e)===e&&e%1===0},isArray:_.default,isString:w.default,isStringArray:function(e){return(0,_.default)(e)&&e.every(w.default)},isNumberish:function(e){return!(0,h.default)(Number(e))},isObject:I.default,isBoolean:b.default,isFunction:y.default,has:g.default,pick:C.default,picker:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return(0,C.default)(e,[].concat(t))}},makeObjectHasValuesForKeysPredicate:function(e){return function(t){return(0,l.default)(e).every((function(n){var i=e[n],a=!r(t[n]);return i&&a||!i&&!a}))}},assertArg:function(e,t){if(r(e))throw new Error(t)},assign:f.default,clone:p.default,asArray:function(e){return(0,_.default)(e)?e:[e]},find:m.default,values:function(e){return(0,l.default)(e).map((function(t){return e[t]}))},tryInvokeFunction:o,tryInvokeMethod:function(e,t,n,i){if((0,y.default)(e[t]))return o(e[t].bind(e),n,"Error calling "+i+"."+t)},stringifyExposingUndefined:function(e){return(0,c.default)(e,(function(e,t){return(0,E.default)(t)?"<<undefined>>":t}))},instanceToString:function(e,t){var n=function e(t){var n=(0,d.default)(t);if(n===(0,d.default)({}))return[];var i=e(n);return(0,u.default)(n).forEach((function(e){return i.push(e)})),i}(t);n=n.sort().filter((function(e){return!(0,y.default)(t[e])&&-1===e.indexOf("_")}));var i="";return i+="["+e,n.forEach((function(e){var n=t[e];i+="\n\t",i+=(0,_.default)(n)?e+": ["+n.length+"]":e+": "+n})),i+="\n]"},isNode:a,getAsyncMessageFromPopup:function(e,t,n){var i=T.default.defer(),r=function(e){(0,I.default)(e.data)&&i.resolve(e)};return window.addEventListener("message",r,!1),function(e,t,n){!function(){try{return navigator.userAgent.indexOf("Trident")>0||navigator.userAgent.indexOf("MSIE")>0}catch(e){}}()?window.open(e,"","width="+t+", height="+n):window.open(window.location.href,"","width="+t+", height="+n).location.href=e}(e,t,n),i.promise.then((function(e){return window.removeEventListener("message",r),e}))},prepareForUpload:function(e){return a()?e.toString():e},setCookie:function(e,t){var n=window.location.hostname,i="",r=new Date;r.setTime(r.getTime()+12096e5),null===t&&r.setTime(-1);var a="expires="+r.toUTCString(),o=/\./.test(n)?n:"";i="path="+i,window.document.cookie=e+"="+t+"; "+a+"; "+o+"; "+i},getCookie:function(e){for(var t=e+"=",n=window.document.cookie.split(";"),i=null,r=0;r<n.length;r++){for(var a=n[r];" "===a.charAt(0);)a=a.substring(1);0===a.indexOf(t)&&(i=a.substring(t.length,a.length))}return i},Buffer:O,getQueryParam:function(e){return function(){try{var e=location.search.substr(1),t={};return e.split("&").forEach((function(e){var n=e.split("=");t[n[0]]=decodeURIComponent(n[1])})),t}catch(n){return{}}}()[e]},createUUID:function(){return(0,A.default)()}}}).call(t,function(){return this}())},function(e,t,n){"use strict";t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(165));t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t,n){e.exports={default:n(166),__esModule:!0}},function(e,t,n){n(42),n(167),e.exports=n(6).Array.from},function(e,t,n){"use strict";var i=n(7),r=n(4),a=n(38),o=n(62),s=n(63),l=n(28),c=n(168),u=n(64);r(r.S+r.F*!n(75)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,r,d,h=a(e),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,_=u(h);if(g&&(m=i(m,p>2?arguments[2]:void 0,2)),void 0==_||f==Array&&s(_))for(n=new f(t=l(h.length));t>v;v++)c(n,v,g?m(h[v],v):h[v]);else for(d=_.call(h),n=new f;!(r=d.next()).done;v++)c(n,v,g?o(d,m,[r.value,v],!0):r.value);return n.length=v,n}})},function(e,t,n){"use strict";var i=n(10),r=n(18);e.exports=function(e,t,n){t in e?i.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){e.exports={default:n(170),__esModule:!0}},function(e,t,n){n(171);var i=n(6).Object;e.exports=function(e){return i.getOwnPropertyNames(e)}},function(e,t,n){n(103)("getOwnPropertyNames",(function(){return n(116).f}))},function(e,t,n){e.exports={default:n(173),__esModule:!0}},function(e,t,n){n(174),e.exports=n(6).Number.isNaN},function(e,t,n){var i=n(4);i(i.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var i=n(176),r=n(194),a=n(195),o=n(205),s=n(208),l=n(209),c=Object.prototype.hasOwnProperty,u=a((function(e,t){if(s(t)||o(t))r(t,l(t),e);else for(var n in t)c.call(t,n)&&i(e,n,t[n])}));e.exports=u},function(e,t,n){var i=n(177),r=n(193),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];a.call(e,t)&&r(o,n)&&(void 0!==n||t in e)||i(e,t,n)}},function(e,t,n){var i=n(178);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var i=n(179),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=r},function(e,t,n){var i=n(180),r=n(192);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},function(e,t,n){var i=n(181),r=n(189),a=n(188),o=n(191),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||r(e))&&(i(e)?h:s).test(o(e))}},function(e,t,n){var i=n(182),r=n(188);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var i=n(183),r=n(186),a=n(187),o=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?r(e):a(e)}},function(e,t,n){var i=n(184).Symbol;e.exports=i},function(e,t,n){var i=n(185),r="object"==typeof self&&self&&self.Object===Object&&self,a=i||r||Function("return this")();e.exports=a},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){var i=n(183),r=Object.prototype,a=r.hasOwnProperty,o=r.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(i){}var l=o.call(e);return r&&(t?e[s]=n:delete e[s]),l}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var i=n(190),r=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!r&&r in e}},function(e,t,n){var i=n(184)["__core-js_shared__"];e.exports=i},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var i=n(176),r=n(177);e.exports=function(e,t,n,a){var o=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=a?a(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),o?r(n,c,u):i(n,c,u)}return n}},function(e,t,n){var i=n(196),r=n(204);e.exports=function(e){return i((function(t,n){var i=-1,a=n.length,o=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(a--,o):void 0,s&&r(n[0],n[1],s)&&(o=a<3?void 0:o,a=1),t=Object(t);++i<a;){var l=n[i];l&&e(t,l,i,o)}return t}))}},function(e,t,n){var i=n(197),r=n(198),a=n(200);e.exports=function(e,t){return a(r(e,t,i),e+"")}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(199),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=r(a.length-t,0),l=Array(s);++o<s;)l[o]=a[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=a[o];return c[t]=n(l),i(e,this,c)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var i=n(201),r=n(203)(i);e.exports=r},function(e,t,n){var i=n(202),r=n(178),a=n(197),o=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:a;e.exports=o},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,i=0;return function(){var r=n(),a=16-(r-i);if(i=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var i=n(193),r=n(205),a=n(207),o=n(188);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?r(n)&&a(t,n.length):"string"==s&&t in n)&&i(n[t],e)}},function(e,t,n){var i=n(181),r=n(206);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var i=n(210),r=n(223),a=n(205);e.exports=function(e){return a(e)?i(e):r(e)}},function(e,t,n){var i=n(211),r=n(212),a=n(215),o=n(216),s=n(207),l=n(219),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),u=!n&&r(e),d=!n&&!u&&o(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?i(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},function(e,t){e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},function(e,t,n){var i=n(213),r=n(214),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return r(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){var i=n(182),r=n(214);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){(function(e){var i=n(184),r=n(218),a="object"==typeof t&&t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a?i.Buffer:void 0,l=(s?s.isBuffer:void 0)||r;e.exports=l}).call(t,n(217)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var i=n(220),r=n(221),a=n(222),o=a&&a.isTypedArray,s=o?r(o):i;e.exports=s},function(e,t,n){var i=n(182),r=n(206),a=n(214),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&r(e.length)&&!!o[i(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var i=n(185),r="object"==typeof t&&t&&!t.nodeType&&t,a=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===r&&i.process,s=function(){try{return a&&a.require&&a.require("util").types||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s}).call(t,n(217)(e))},function(e,t,n){var i=n(208),r=n(224),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var i=n(225)(Object.keys,Object);e.exports=i},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var i=n(227);e.exports=function(e){return i(e,4)}},function(e,t,n){var i=n(228),r=n(257),a=n(176),o=n(258),s=n(259),l=n(263),c=n(264),u=n(265),d=n(269),h=n(273),f=n(275),p=n(276),m=n(281),g=n(282),v=n(289),_=n(215),b=n(216),y=n(291),S=n(188),I=n(293),w=n(209),E="[object Arguments]",C="[object Function]",A="[object Object]",T={};T[E]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[A]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[C]=T["[object WeakMap]"]=!1,e.exports=function e(t,n,O,D,M,N){var F,L=1&n,R=2&n,x=4&n;if(O&&(F=M?O(t,D,M,N):O(t)),void 0!==F)return F;if(!S(t))return t;var P=_(t);if(P){if(F=m(t),!L)return c(t,F)}else{var k=p(t),U=k==C||"[object GeneratorFunction]"==k;if(b(t))return l(t,L);if(k==A||k==E||U&&!M){if(F=R||U?{}:v(t),!L)return R?d(t,s(F,t)):u(t,o(F,t))}else{if(!T[k])return M?t:{};F=g(t,k,L)}}N||(N=new i);var j=N.get(t);if(j)return j;if(N.set(t,F),I(t))return t.forEach((function(i){F.add(e(i,n,O,i,t,N))})),F;if(y(t))return t.forEach((function(i,r){F.set(r,e(i,n,O,r,t,N))})),F;var B=x?R?f:h:R?keysIn:w,V=P?void 0:B(t);return r(V||t,(function(i,r){V&&(i=t[r=i]),a(F,r,e(i,n,O,r,t,N))})),F}},function(e,t,n){function i(e){var t=this.__data__=new r(e);this.size=t.size}var r=n(229),a=n(236),o=n(237),s=n(238),l=n(239),c=n(240);i.prototype.clear=a,i.prototype.delete=o,i.prototype.get=s,i.prototype.has=l,i.prototype.set=c,e.exports=i},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=n(230),a=n(231),o=n(233),s=n(234),l=n(235);i.prototype.clear=r,i.prototype.delete=a,i.prototype.get=o,i.prototype.has=s,i.prototype.set=l,e.exports=i},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var i=n(232),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},function(e,t,n){var i=n(193);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},function(e,t,n){var i=n(232);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var i=n(232);e.exports=function(e){return i(this.__data__,e)>-1}},function(e,t,n){var i=n(232);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},function(e,t,n){var i=n(229);e.exports=function(){this.__data__=new i,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var i=n(229),r=n(241),a=n(242);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var o=n.__data__;if(!r||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var i=n(179)(n(184),"Map");e.exports=i},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=n(243),a=n(251),o=n(254),s=n(255),l=n(256);i.prototype.clear=r,i.prototype.delete=a,i.prototype.get=o,i.prototype.has=s,i.prototype.set=l,e.exports=i},function(e,t,n){var i=n(244),r=n(229),a=n(241);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(a||r),string:new i}}},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=n(245),a=n(247),o=n(248),s=n(249),l=n(250);i.prototype.clear=r,i.prototype.delete=a,i.prototype.get=o,i.prototype.has=s,i.prototype.set=l,e.exports=i},function(e,t,n){var i=n(246);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},function(e,t,n){var i=n(179)(Object,"create");e.exports=i},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var i=n(246),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},function(e,t,n){var i=n(246),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},function(e,t,n){var i=n(246);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var i=n(252);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t,n){var i=n(253);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var i=n(252);e.exports=function(e){return i(this,e).get(e)}},function(e,t,n){var i=n(252);e.exports=function(e){return i(this,e).has(e)}},function(e,t,n){var i=n(252);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},function(e,t,n){var i=n(194),r=n(209);e.exports=function(e,t){return e&&i(t,r(t),e)}},function(e,t,n){var i=n(194),r=n(260);e.exports=function(e,t){return e&&i(t,r(t),e)}},function(e,t,n){var i=n(210),r=n(261),a=n(205);e.exports=function(e){return a(e)?i(e,!0):r(e)}},function(e,t,n){var i=n(188),r=n(208),a=n(262),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return a(e);var t=r(e),n=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var i=n(184),r="object"==typeof t&&t&&!t.nodeType&&t,a=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===r?i.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}}).call(t,n(217)(e))},function(e,t){e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},function(e,t,n){var i=n(194),r=n(266);e.exports=function(e,t){return i(e,r(e),t)}},function(e,t,n){var i=n(267),r=n(268),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),i(o(e),(function(t){return a.call(e,t)})))}:r;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[r++]=o)}return a}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var i=n(194),r=n(270);e.exports=function(e,t){return i(e,r(e),t)}},function(e,t,n){var i=n(271),r=n(272),a=n(266),o=n(268),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,a(e)),e=r(e);return t}:o;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},function(e,t,n){var i=n(225)(Object.getPrototypeOf,Object);e.exports=i},function(e,t,n){var i=n(274),r=n(266),a=n(209);e.exports=function(e){return i(e,a,r)}},function(e,t,n){var i=n(271),r=n(215);e.exports=function(e,t,n){var a=t(e);return r(e)?a:i(a,n(e))}},function(e,t,n){var i=n(274),r=n(270),a=n(260);e.exports=function(e){return i(e,a,r)}},function(e,t,n){var i=n(277),r=n(241),a=n(278),o=n(279),s=n(280),l=n(182),c=n(191),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(i),g=c(r),v=c(a),_=c(o),b=c(s),y=l;(i&&y(new i(new ArrayBuffer(1)))!=p||r&&y(new r)!=u||a&&y(a.resolve())!=d||o&&y(new o)!=h||s&&y(new s)!=f)&&(y=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,i=n?c(n):"";if(i)switch(i){case m:return p;case g:return u;case v:return d;case _:return h;case b:return f}return t}),e.exports=y},function(e,t,n){var i=n(179)(n(184),"DataView");e.exports=i},function(e,t,n){var i=n(179)(n(184),"Promise");e.exports=i},function(e,t,n){var i=n(179)(n(184),"Set");e.exports=i},function(e,t,n){var i=n(179)(n(184),"WeakMap");e.exports=i},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},function(e,t,n){var i=n(283),r=n(285),a=n(286),o=n(287),s=n(288);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return r(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return a(e);case"[object Set]":return new l;case"[object Symbol]":return o(e)}}},function(e,t,n){var i=n(284);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},function(e,t,n){var i=n(184).Uint8Array;e.exports=i},function(e,t,n){var i=n(283);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var i=n(183),r=i?i.prototype:void 0,a=r?r.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},function(e,t,n){var i=n(283);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var i=n(290),r=n(272),a=n(208);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:i(r(e))}},function(e,t,n){var i=n(188),r=Object.create,a=function(){function e(){}return function(t){if(!i(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},function(e,t,n){var i=n(292),r=n(221),a=n(222),o=a&&a.isMap,s=o?r(o):i;e.exports=s},function(e,t,n){var i=n(276),r=n(214);e.exports=function(e){return r(e)&&"[object Map]"==i(e)}},function(e,t,n){var i=n(294),r=n(221),a=n(222),o=a&&a.isSet,s=o?r(o):i;e.exports=s},function(e,t,n){var i=n(276),r=n(214);e.exports=function(e){return r(e)&&"[object Set]"==i(e)}},function(e,t,n){var i=n(296)(n(334));e.exports=i},function(e,t,n){var i=n(297),r=n(205),a=n(209);e.exports=function(e){return function(t,n,o){var s=Object(t);if(!r(t)){var l=i(n,3);t=a(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,o);return c>-1?s[l?t[c]:c]:void 0}}},function(e,t,n){var i=n(298),r=n(315),a=n(197),o=n(215),s=n(331);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?r(e[0],e[1]):i(e):s(e)}},function(e,t,n){var i=n(299),r=n(312),a=n(314);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},function(e,t,n){var i=n(228),r=n(300);e.exports=function(e,t,n,a){var o=n.length,s=o,l=!a;if(null==e)return!s;for(e=Object(e);o--;){var c=n[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=n[o])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new i;if(a)var p=a(d,h,u,e,t,f);if(!(void 0===p?r(h,d,3,a,f):p))return!1}}return!0}},function(e,t,n){var i=n(301),r=n(214);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!==t&&n!==n:i(t,n,a,o,e,s))}},function(e,t,n){var i=n(228),r=n(302),a=n(308),o=n(311),s=n(276),l=n(215),c=n(216),u=n(219),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var _=l(e),b=l(t),y=_?h:s(e),S=b?h:s(t),I=(y=y==d?f:y)==f,w=(S=S==d?f:S)==f,E=y==S;if(E&&c(e)){if(!c(t))return!1;_=!0,I=!1}if(E&&!I)return v||(v=new i),_||u(e)?r(e,t,n,m,g,v):a(e,t,y,n,m,g,v);if(!(1&n)){var C=I&&p.call(e,"__wrapped__"),A=w&&p.call(t,"__wrapped__");if(C||A){var T=C?e.value():e,O=A?t.value():t;return v||(v=new i),g(T,O,n,m,v)}}return!!E&&(v||(v=new i),o(e,t,n,m,g,v))}},function(e,t,n){var i=n(303),r=n(306),a=n(307);e.exports=function(e,t,n,o,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e);if(h&&l.get(t))return h==t;var f=-1,p=!0,m=2&n?new i:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var g=e[f],v=t[f];if(o)var _=c?o(v,g,f,t,e,l):o(g,v,f,e,t,l);if(void 0!==_){if(_)continue;p=!1;break}if(m){if(!r(t,(function(e,t){if(!a(m,t)&&(g===e||s(g,e,n,o,l)))return m.push(t)}))){p=!1;break}}else if(g!==v&&!s(g,v,n,o,l)){p=!1;break}}return l.delete(e),l.delete(t),p}},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}var r=n(242),a=n(304),o=n(305);i.prototype.add=i.prototype.push=a,i.prototype.has=o,e.exports=i},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var i=n(183),r=n(284),a=n(193),o=n(302),s=n(309),l=n(310),c=i?i.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,i,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&i;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;i|=2,h.set(e,t);var g=o(f(e),f(t),i,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var i=n(273),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var l=1&n,c=i(e),u=c.length;if(u!=i(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:r.call(t,h)))return!1}var f=s.get(e);if(f&&s.get(t))return f==t;var p=!0;s.set(e,t),s.set(t,e);for(var m=l;++d<u;){var g=e[h=c[d]],v=t[h];if(a)var _=l?a(v,g,h,t,e,s):a(g,v,h,e,t,s);if(!(void 0===_?g===v||o(g,v,n,a,s):_)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var b=e.constructor,y=t.constructor;b!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y)&&(p=!1)}return s.delete(e),s.delete(t),p}},function(e,t,n){var i=n(313),r=n(209);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,i(o)]}return t}},function(e,t,n){var i=n(188);e.exports=function(e){return e===e&&!i(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t,n){var i=n(300),r=n(316),a=n(328),o=n(319),s=n(313),l=n(314),c=n(327);e.exports=function(e,t){return o(e)&&s(t)?l(c(e),t):function(n){var o=r(n,e);return void 0===o&&o===t?a(n,e):i(t,o,3)}}},function(e,t,n){var i=n(317);e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},function(e,t,n){var i=n(318),r=n(327);e.exports=function(e,t){for(var n=0,a=(t=i(t,e)).length;null!=e&&n<a;)e=e[r(t[n++])];return n&&n==a?e:void 0}},function(e,t,n){var i=n(215),r=n(319),a=n(321),o=n(324);e.exports=function(e,t){return i(e)?e:r(e,t)?[e]:a(o(e))}},function(e,t,n){var i=n(215),r=n(320),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||o.test(e)||!a.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var i=n(182),r=n(214);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},function(e,t,n){var i=n(322),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,i,r){t.push(i?r.replace(a,"$1"):n||e)})),t}));e.exports=o},function(e,t,n){var i=n(323);e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=e.apply(this,i);return n.cache=a.set(r,o)||a,o};return n.cache=new(i.Cache||r),n}var r=n(242),a="Expected a function";i.Cache=r,e.exports=i},function(e,t,n){var i=n(325);e.exports=function(e){return null==e?"":i(e)}},function(e,t,n){var i=n(183),r=n(326),a=n(215),o=n(320),s=i?i.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return r(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},function(e,t,n){var i=n(320);e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){var i=n(329),r=n(330);e.exports=function(e,t){return null!=e&&r(e,t,i)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var i=n(318),r=n(212),a=n(215),o=n(207),s=n(206),l=n(327);e.exports=function(e,t,n){for(var c=-1,u=(t=i(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&o(h,u)&&(a(e)||r(e))}},function(e,t,n){var i=n(332),r=n(333),a=n(319),o=n(327);e.exports=function(e){return a(e)?i(o(e)):r(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var i=n(317);e.exports=function(e){return function(t){return i(t,e)}}},function(e,t,n){var i=n(335),r=n(297),a=n(336),o=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:a(n);return l<0&&(l=o(s+l,0)),i(e,r(t,3),l)}},function(e,t){e.exports=function(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}},function(e,t,n){var i=n(337);e.exports=function(e){var t=i(e),n=t%1;return t===t?n?t-n:t:0}},function(e,t,n){var i=n(338);e.exports=function(e){return e?(e=i(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},function(e,t,n){var i=n(188),r=n(320),a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},function(e,t,n){var i=n(340),r=n(330);e.exports=function(e,t){return null!=e&&r(e,t,i)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},function(e,t,n){var i=n(182),r=n(214);e.exports=function(e){return!0===e||!1===e||r(e)&&"[object Boolean]"==i(e)}},function(e,t){e.exports=function(e){return null===e}},function(e,t,n){var i=n(182),r=n(215),a=n(214);e.exports=function(e){return"string"==typeof e||!r(e)&&a(e)&&"[object String]"==i(e)}},function(e,t){e.exports=function(e){return void 0===e}},function(e,t,n){var i=n(346),r=n(349)((function(e,t){return null==e?{}:i(e,t)}));e.exports=r},function(e,t,n){var i=n(347),r=n(328);e.exports=function(e,t){return i(e,t,(function(t,n){return r(e,n)}))}},function(e,t,n){var i=n(317),r=n(348),a=n(318);e.exports=function(e,t,n){for(var o=-1,s=t.length,l={};++o<s;){var c=t[o],u=i(e,c);n(u,c)&&r(l,a(c,e),u)}return l}},function(e,t,n){var i=n(176),r=n(318),a=n(207),o=n(188),s=n(327);e.exports=function(e,t,n,l){if(!o(e))return e;for(var c=-1,u=(t=r(t,e)).length,d=u-1,h=e;null!=h&&++c<u;){var f=s(t[c]),p=n;if(c!=d){var m=h[f];void 0===(p=l?l(m,f,h):void 0)&&(p=o(m)?m:a(t[c+1])?[]:{})}i(h,f,p),h=h[f]}return e}},function(e,t,n){var i=n(350),r=n(198),a=n(200);e.exports=function(e){return a(r(e,void 0,i),e+"")}},function(e,t,n){var i=n(351);e.exports=function(e){return null!=e&&e.length?i(e,1):[]}},function(e,t,n){var i=n(271),r=n(352);e.exports=function e(t,n,a,o,s){var l=-1,c=t.length;for(a||(a=r),s||(s=[]);++l<c;){var u=t[l];n>0&&a(u)?n>1?e(u,n-1,a,o,s):i(s,u):o||(s[s.length]=u)}return s}},function(e,t,n){var i=n(183),r=n(212),a=n(215),o=i?i.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||r(e)||!!(o&&e&&e[o])}},function(e,t,n){var i=n(354),r=n(355);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s];return t||r(o)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,r=n;return[r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]]].join("")}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=i(n(78)),o=i(n(79)),s=i(n(161)),l=i(n(83)),c=i(n(357)),u=i(n(359)),d=(r={},(0,s.default)(r,l.default.WHITE,{inner:"white",outer:"white",text:"black"}),(0,s.default)(r,l.default.WHITE_WITH_OUTLINE,{inner:"white",outer:"black",text:"black"}),(0,s.default)(r,l.default.BLACK,{inner:"black",outer:"black",text:"white"}),r),h=u.default.makeStyleToggle("display","block","none"),f=u.default.makeStyleToggle("opacity",1,.5),p=function(){function e(t){(0,a.default)(this,e),this._config=t}return(0,o.default)(e,[{key:"_append",value:function(){var e=document.querySelector("#"+this._config.id);if(e){var t=function(e){var t=c.default.translations(e.locale)[e.l10nKey],n=e.theme||l.default.WHITE_WITH_OUTLINE,i=d[n]||d[l.default.WHITE_WITH_OUTLINE];return u.default.createElement("<div>",{attributes:{alt:t.string},children:[u.default.createElement(unescape(t.asset),{classes:["apple-auth-button-text"],style:{fill:i.text,left:"50%",overflow:"visible",position:"relative",top:"50%"}})],classes:["apple-auth-button"],style:{"background-color":i.inner,"border-color":i.outer,"border-radius":"5px","border-style":"solid","border-width":"1px",cursor:"pointer",height:"40px",width:"218px"}})}(this._config);return e.appendChild(t),!0}return!1}},{key:"show",value:function(e){var t=this;(this._button||this._append())&&(h(this._button,!0),f(this._button,!0),this._button.onclick=function(){t._button.onclick=null,f(t._button,!1),e()})}},{key:"hide",value:function(){this._button&&h(this._button,!1)}},{key:"_button",get:function(){return document.querySelector("#"+this._config.id+" > .apple-auth-button")}}],[{key:"create",value:function(t){return new e(t)}}]),e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),r=n(358),a="en-us",o={"zh-hk":"zh-tw","nb-no":"no-no","nn-no":"no-no",nb:"no-no",nn:"no-no",he:"iw-il","he-il":"iw-il",pt:"pt-pt","vi-vn":"vi-vi","es-419":"es-mx","es-xl":"es-mx"};t.default={translations:function(e){return function(e){return e=function(e){return i.Utils.isString(e)?(2===(e=e.toLowerCase()).length&&(e=e+"-"+e),o[e]||e):a}(e),r.LOCALIZED[e]||r.LOCALIZED[a]}(e||("undefined"==typeof navigator?a:navigator.language||navigator.browserLanguage))}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOCALIZED={"en-us":{"Auth.SignIn":{asset:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="177.42" height="21.52"><path d="M-79.53 2.00Q-79.53 3.72-80.73 4.80Q-82.05 5.98-84.41 5.98Q-86.59 5.98-87.91 5.14L-87.41 3.34Q-85.99 4.18-84.29 4.18Q-83.07 4.18-82.39 3.63Q-81.71 3.08-81.71 2.16Q-81.71 1.34-82.27 0.78Q-82.83 0.22-84.13-0.26Q-87.67-1.58-87.67-4.12Q-87.67-5.78-86.42-6.84Q-85.17-7.90-83.11-7.90Q-81.27-7.90-80.05-7.26L-80.59-5.50Q-81.73-6.12-83.17-6.12Q-84.31-6.12-84.95-5.56Q-85.49-5.06-85.49-4.34Q-85.49-3.54-84.87-3.02Q-84.33-2.54-82.91-1.98Q-81.17-1.28-80.35-0.34Q-79.53 0.60-79.53 2.00ZM-74.97-6.84Q-74.97-6.26-75.35-5.90Q-75.73-5.54-76.33-5.54Q-76.87-5.54-77.24-5.91Q-77.61-6.28-77.61-6.84Q-77.61-7.40-77.23-7.76Q-76.85-8.12-76.29-8.12Q-75.73-8.12-75.35-7.76Q-74.97-7.40-74.97-6.84M-75.21 5.78L-77.37 5.78L-77.37-3.94L-75.21-3.94L-75.21 5.78ZM-63.97-3.94Q-64.05-2.76-64.05-1.18L-64.05 4.38Q-64.05 7.52-65.45 8.78Q-66.73 9.94-69.05 9.94Q-71.07 9.94-72.31 9.18L-71.81 7.52Q-70.59 8.26-69.05 8.26Q-66.19 8.26-66.19 5.18L-66.19 4.24L-66.23 4.24Q-67.13 5.72-69.09 5.72Q-70.85 5.72-71.99 4.38Q-73.13 3.04-73.13 0.98Q-73.13-1.36-71.81-2.80Q-70.59-4.14-68.83-4.14Q-66.85-4.14-65.99-2.60L-65.95-2.60L-65.87-3.94L-63.97-3.94M-66.21 1.62L-66.21-0.10Q-66.21-1.08-66.82-1.78Q-67.43-2.48-68.43-2.48Q-69.53-2.48-70.24-1.56Q-70.95-0.64-70.95 0.90Q-70.95 2.30-70.29 3.16Q-69.61 4.10-68.43 4.10Q-67.71 4.10-67.14 3.67Q-66.57 3.24-66.33 2.50Q-66.21 2.14-66.21 1.62ZM-52.89 5.78L-55.05 5.78L-55.05 0.20Q-55.05-2.38-57.01-2.38Q-57.97-2.38-58.57-1.67Q-59.17-0.96-59.17-0.00L-59.17 5.78L-61.33 5.78L-61.33-1.16Q-61.33-2.44-61.41-3.94L-59.51-3.94L-59.41-2.44L-59.35-2.44Q-58.97-3.14-58.23-3.60Q-57.35-4.14-56.27-4.14Q-54.91-4.14-54.01-3.26Q-52.89-2.18-52.89-0.04L-52.89 5.78ZM-43.09-6.84Q-43.09-6.26-43.47-5.90Q-43.85-5.54-44.45-5.54Q-44.99-5.54-45.36-5.91Q-45.73-6.28-45.73-6.84Q-45.73-7.40-45.35-7.76Q-44.97-8.12-44.41-8.12Q-43.85-8.12-43.47-7.76Q-43.09-7.40-43.09-6.84M-43.33 5.78L-45.49 5.78L-45.49-3.94L-43.33-3.94L-43.33 5.78ZM-32.17 5.78L-34.33 5.78L-34.33 0.20Q-34.33-2.38-36.29-2.38Q-37.25-2.38-37.85-1.67Q-38.45-0.96-38.45-0.00L-38.45 5.78L-40.61 5.78L-40.61-1.16Q-40.61-2.44-40.69-3.94L-38.79-3.94L-38.69-2.44L-38.63-2.44Q-38.25-3.14-37.51-3.60Q-36.63-4.14-35.55-4.14Q-34.19-4.14-33.29-3.26Q-32.17-2.18-32.17-0.04L-32.17 5.78ZM-11.75-3.94L-14.79 5.78L-16.77 5.78L-18.03 1.56Q-18.51-0.02-18.81-1.58L-18.85-1.58Q-19.13 0.02-19.63 1.56L-20.97 5.78L-22.97 5.78L-25.83-3.94L-23.61-3.94L-22.51 0.68Q-22.11 2.32-21.85 3.80L-21.81 3.80Q-21.57 2.58-21.01 0.70L-19.63-3.94L-17.87-3.94L-16.55 0.60Q-16.07 2.26-15.77 3.80L-15.71 3.80Q-15.49 2.30-15.05 0.60L-13.87-3.94L-11.75-3.94ZM-7.71-6.84Q-7.71-6.26-8.09-5.90Q-8.47-5.54-9.07-5.54Q-9.61-5.54-9.98-5.91Q-10.35-6.28-10.35-6.84Q-10.35-7.40-9.97-7.76Q-9.59-8.12-9.03-8.12Q-8.47-8.12-8.09-7.76Q-7.71-7.40-7.71-6.84M-7.95 5.78L-10.11 5.78L-10.11-3.94L-7.95-3.94L-7.95 5.78ZM-0.33-2.32L-2.71-2.32L-2.71 2.40Q-2.71 4.20-1.45 4.20Q-0.87 4.20-0.49 4.10L-0.43 5.74Q-1.07 5.98-2.11 5.98Q-3.39 5.98-4.11 5.20Q-4.83 4.42-4.83 2.58L-4.83-2.32L-6.25-2.32L-6.25-3.94L-4.83-3.94L-4.83-5.72L-2.71-6.36L-2.71-3.94L-0.33-3.94L-0.33-2.32ZM9.99 5.78L7.83 5.78L7.83 0.24Q7.83-2.38 5.87-2.38Q4.37-2.38 3.81-0.86Q3.71-0.54 3.71-0.08L3.71 5.78L1.55 5.78L1.55-8.40L3.71-8.40L3.71-2.56L3.75-2.56Q4.77-4.14 6.67-4.14Q8.01-4.14 8.89-3.26Q9.99-2.16 9.99-0.00L9.99 5.78ZM27.85 5.78L25.55 5.78L24.29 1.82L19.91 1.82L18.71 5.78L16.47 5.78L20.81-7.70L23.49-7.70L27.85 5.78M23.91 0.16L22.77-3.36Q22.59-3.90 22.09-5.90L22.05-5.90Q21.85-5.04 21.41-3.36L20.29 0.16L23.91 0.16ZM38.81 0.80Q38.81 3.28 37.47 4.72Q36.27 6.00 34.49 6.00Q32.57 6.00 31.73 4.62L31.69 4.62L31.69 9.74L29.53 9.74L29.53-0.74Q29.53-2.30 29.45-3.94L31.35-3.94L31.47-2.40L31.51-2.40Q32.59-4.14 34.79-4.14Q36.51-4.14 37.66-2.78Q38.81-1.42 38.81 0.80M36.61 0.88Q36.61-0.54 35.97-1.46Q35.27-2.42 34.09-2.42Q33.29-2.42 32.64-1.89Q31.99-1.36 31.79-0.50Q31.69-0.10 31.69 0.16L31.69 1.78Q31.69 2.84 32.34 3.57Q32.99 4.30 34.03 4.30Q35.25 4.30 35.93 3.36Q36.61 2.42 36.61 0.88ZM50.09 0.80Q50.09 3.28 48.75 4.72Q47.55 6.00 45.77 6.00Q43.85 6.00 43.01 4.62L42.97 4.62L42.97 9.74L40.81 9.74L40.81-0.74Q40.81-2.30 40.73-3.94L42.63-3.94L42.75-2.40L42.79-2.40Q43.87-4.14 46.07-4.14Q47.79-4.14 48.94-2.78Q50.09-1.42 50.09 0.80M47.89 0.88Q47.89-0.54 47.25-1.46Q46.55-2.42 45.37-2.42Q44.57-2.42 43.92-1.89Q43.27-1.36 43.07-0.50Q42.97-0.10 42.97 0.16L42.97 1.78Q42.97 2.84 43.62 3.57Q44.27 4.30 45.31 4.30Q46.53 4.30 47.21 3.36Q47.89 2.42 47.89 0.88ZM54.33 5.78L52.17 5.78L52.17-8.40L54.33-8.40L54.33 5.78ZM65.05 0.46Q65.05 1.04 64.97 1.44L58.49 1.44Q58.53 2.88 59.43 3.64Q60.25 4.32 61.55 4.32Q62.99 4.32 64.17 3.86L64.51 5.36Q63.13 5.96 61.25 5.96Q58.99 5.96 57.70 4.63Q56.41 3.30 56.41 1.06Q56.41-1.14 57.61-2.60Q58.87-4.16 61.01-4.16Q63.11-4.16 64.19-2.60Q65.05-1.36 65.05 0.46M62.99-0.10Q63.01-1.06 62.57-1.76Q62.01-2.66 60.85-2.66Q59.79-2.66 59.13-1.78Q58.59-1.08 58.49-0.10L62.99-0.10ZM74.03 5.78L71.87 5.78L71.87-7.70L74.03-7.70L74.03 5.78ZM87.99-1.28Q87.99 2.36 85.81 4.20Q83.79 5.90 80.07 5.90Q78.23 5.90 76.91 5.74L76.91-7.52Q78.63-7.80 80.63-7.80Q84.17-7.80 85.97-6.26Q87.99-4.52 87.99-1.28M85.71-1.22Q85.71-3.58 84.46-4.84Q83.21-6.10 80.81-6.10Q79.79-6.10 79.07-5.96L79.07 4.12Q79.47 4.18 80.53 4.18Q83.01 4.18 84.36 2.80Q85.71 1.42 85.71-1.22Z"/></svg>',string:"Sign in with Apple ID"},"Auth.SignOut":{asset:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="70.61999999999999" height="21.52"><path d="M-26.13 2.00Q-26.13 3.72-27.33 4.80Q-28.65 5.98-31.01 5.98Q-33.19 5.98-34.51 5.14L-34.01 3.34Q-32.59 4.18-30.89 4.18Q-29.67 4.18-28.99 3.63Q-28.31 3.08-28.31 2.16Q-28.31 1.34-28.87 0.78Q-29.43 0.22-30.73-0.26Q-34.27-1.58-34.27-4.12Q-34.27-5.78-33.02-6.84Q-31.77-7.90-29.71-7.90Q-27.87-7.90-26.65-7.26L-27.19-5.50Q-28.33-6.12-29.77-6.12Q-30.91-6.12-31.55-5.56Q-32.09-5.06-32.09-4.34Q-32.09-3.54-31.47-3.02Q-30.93-2.54-29.51-1.98Q-27.77-1.28-26.95-0.34Q-26.13 0.60-26.13 2.00ZM-21.57-6.84Q-21.57-6.26-21.95-5.90Q-22.33-5.54-22.93-5.54Q-23.47-5.54-23.84-5.91Q-24.21-6.28-24.21-6.84Q-24.21-7.40-23.83-7.76Q-23.45-8.12-22.89-8.12Q-22.33-8.12-21.95-7.76Q-21.57-7.40-21.57-6.84M-21.81 5.78L-23.97 5.78L-23.97-3.94L-21.81-3.94L-21.81 5.78ZM-10.57-3.94Q-10.65-2.76-10.65-1.18L-10.65 4.38Q-10.65 7.52-12.05 8.78Q-13.33 9.94-15.65 9.94Q-17.67 9.94-18.91 9.18L-18.41 7.52Q-17.19 8.26-15.65 8.26Q-12.79 8.26-12.79 5.18L-12.79 4.24L-12.83 4.24Q-13.73 5.72-15.69 5.72Q-17.45 5.72-18.59 4.38Q-19.73 3.04-19.73 0.98Q-19.73-1.36-18.41-2.80Q-17.19-4.14-15.43-4.14Q-13.45-4.14-12.59-2.60L-12.55-2.60L-12.47-3.94L-10.57-3.94M-12.81 1.62L-12.81-0.10Q-12.81-1.08-13.42-1.78Q-14.03-2.48-15.03-2.48Q-16.13-2.48-16.84-1.56Q-17.55-0.64-17.55 0.90Q-17.55 2.30-16.89 3.16Q-16.21 4.10-15.03 4.10Q-14.31 4.10-13.74 3.67Q-13.17 3.24-12.93 2.50Q-12.81 2.14-12.81 1.62ZM0.51 5.78L-1.65 5.78L-1.65 0.20Q-1.65-2.38-3.61-2.38Q-4.57-2.38-5.17-1.67Q-5.77-0.96-5.77-0.00L-5.77 5.78L-7.93 5.78L-7.93-1.16Q-7.93-2.44-8.01-3.94L-6.11-3.94L-6.01-2.44L-5.95-2.44Q-5.57-3.14-4.83-3.60Q-3.95-4.14-2.87-4.14Q-1.51-4.14-0.61-3.26Q0.51-2.18 0.51-0.04L0.51 5.78ZM16.79 0.84Q16.79 3.08 15.51 4.52Q14.17 6.00 11.95 6.00Q9.81 6.00 8.54 4.58Q7.27 3.16 7.27 1.00Q7.27-1.26 8.58-2.70Q9.89-4.14 12.11-4.14Q14.25-4.14 15.55-2.72Q16.79-1.34 16.79 0.84M14.55 0.90Q14.55-0.44 13.97-1.40Q13.29-2.56 12.03-2.56Q10.73-2.56 10.05-1.40Q9.47-0.44 9.47 0.94Q9.47 2.28 10.05 3.24Q10.75 4.40 12.01 4.40Q13.25 4.40 13.95 3.22Q14.55 2.24 14.55 0.90ZM27.25 5.78L25.35 5.78L25.23 4.30L25.19 4.30Q24.17 6.00 22.11 6.00Q20.67 6.00 19.81 5.10Q18.79 4.00 18.79 1.78L18.79-3.94L20.95-3.94L20.95 1.42Q20.95 4.22 22.87 4.22Q24.31 4.22 24.87 2.82Q25.01 2.46 25.01 2.00L25.01-3.94L27.17-3.94L27.17 2.98Q27.17 4.36 27.25 5.78ZM34.79-2.32L32.41-2.32L32.41 2.40Q32.41 4.20 33.67 4.20Q34.25 4.20 34.63 4.10L34.69 5.74Q34.05 5.98 33.01 5.98Q31.73 5.98 31.01 5.20Q30.29 4.42 30.29 2.58L30.29-2.32L28.87-2.32L28.87-3.94L30.29-3.94L30.29-5.72L32.41-6.36L32.41-3.94L34.79-3.94L34.79-2.32Z"/></svg>',string:"Sign out"}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=l.Utils.isString(e)?a(e):e;l.Utils.assign(n.style,t)}function a(e){return c().querySelector(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(161)),s=i(n(145)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),c=function(){return"undefined"==typeof window?null:window.document};t.default={animate:function(e,t){return e.reduce((function(e,n){return e.then((function(){return(0,s.default)(n).forEach((function(e){return r(e,n[e])})),l.Async.wait(t)}))}),l.Async.Promise.resolve())},assignStyle:r,createElement:function(e,t){var n=c().createElement("div");n.innerHTML=e;var i=n.firstChild;if(t&&t.classes)if(i.classList)t.classes.forEach((function(e){return i.classList.add(e)}));else{var o=i.getAttribute("class")||"",u=t.classes.reduce((function(e,t){return e+" "+t}),o);i.setAttribute("class",u.trim())}return t&&t.style&&r(i,t.style),t&&t.attributes&&function(e,t){var n=l.Utils.isString(e)?a(e):e;(0,s.default)(t).forEach((function(e){return n.setAttribute(e,t[e])}))}(i,t.attributes),t&&t.children&&t.children.forEach((function(e){i.appendChild(e)})),i},doc:c,makeStyleToggle:function(e,t,n){return function(i,a){return r(i,(0,o.default)({},e,a?t:n))}},querySelector:a,win:function(){return window}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(78)),a=i(n(79)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),s=function(){function e(t){(0,r.default)(this,e),this._config=t,this._signInButton=o.AuthButton.create(o.Utils.assign({},t.signInButton,{locale:t.locale},{l10nKey:"Auth.SignIn"})),this._signOutButton=o.AuthButton.create(o.Utils.assign({},t.signOutButton,{locale:t.locale},{l10nKey:"Auth.SignOut"}))}return(0,a.default)(e,[{key:"showSignInButton",value:function(e){this._signOutButton.hide(),this._signInButton.show(e)}},{key:"showSignOutButton",value:function(e){this._signInButton.hide(),this._signOutButton.show(e)}},{key:"reset",value:function(){this._signInButton.hide(),this._signOutButton.hide()}}],[{key:"create",value:function(t){return new e(t)}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(100)),a=i(n(78)),o=i(n(79)),s=i(n(104)),l=i(n(155)),c=i(n(120)),u=i(n(91)),d=i(n(141)),h=n(121),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),p=i(n(362)),m=i(n(364)),g={headers:{"content-type":"text/plain"},parameters:{ckjsVersion:p.default.VERSION}},v=function(e){function t(){(0,a.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,f.Utils.assign({},g)));return e._wsApiVersion=f.Constants.WS_API_VERSION,e._host=f.Constants.URL_PREFIX,e._containerIdentifier=null,e._containerEnvironment=null,e._databaseName=null,e._containerEnvironment=null,e._apiModuleName=null,e._responseClass=d.default,e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"setPayload",value:function(e){return this.setMethod("POST"),this.setBody(e),this}},{key:"getPayload",value:function(){return this._body}},{key:"setContainerIdentifier",value:function(e){return this._containerIdentifier=e,this}},{key:"setContainerEnvironment",value:function(e){return this._containerEnvironment=e,this}},{key:"setDatabaseName",value:function(e){return this._databaseName=e,this}},{key:"setApiModuleName",value:function(e){return this._apiModuleName=e,this}},{key:"setApiEntityName",value:function(e){return this._apiEntityName=e,this}},{key:"setApiActionName",value:function(e){return this._apiAction=e,this}},{key:"setResponseClass",value:function(e){return this._responseClass=e,this}},{key:"setApiToken",value:function(e){return this.setParameter("ckAPIToken",e),this}},{key:"setCKSession",value:function(e){return this.setParameter("ckWebAuthToken",encodeURIComponent(e)),this}},{key:"setISODate",value:function(e){return this.setHeader("X-Apple-CloudKit-Request-ISO8601Date",e),this}},{key:"setSigningKeyID",value:function(e){return this.setHeader("X-Apple-CloudKit-Request-KeyID",e),this}},{key:"setSignatureV1",value:function(e){return this.setHeader("X-Apple-CloudKit-Request-SignatureV1",e),this}},{key:"setClientID",value:function(e){return f.Utils.isNullOrUndefined(e)||this.setParameter("clientId",e),this}},{key:"getPath",value:function(){return"/"+[this._apiModuleName,this._wsApiVersion,this._containerIdentifier,this._containerEnvironment,this._databaseName,this._apiEntityName,this._apiAction].filter((function(e){return!f.Utils.isNullOrUndefined(e)})).join("/")}},{key:"send",value:function(){var e=this;return(0,l.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"send",this).call(this).catch((function(e){throw f.Log.warn(e,e.stack),u.default.makeNetworkError()})).then((function(t){var n=t.status,i=t.headers;return t.text().then((function(e){try{return JSON.parse(e)}catch(t){return 503===n?h.Async.Promise.reject(u.default.makeServiceUnavailableError()):h.Async.Promise.reject(u.default.makeUnexpectedServerResponse("Could not parse json: "+e))}})).then((function(t){if(n<200||n>=300)throw u.default.fromServerError(t);return new(0,e._responseClass)(e,{status:n,body:t,headers:i})}))}))}}]),t}(m.default);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(363)).default;t.default={CLOUDKIT_LOADED:"cloudkitloaded",DEVELOPMENT_ENVIRONMENT:"development",PRODUCTION_ENVIRONMENT:"production",URL_PREFIX:"https://api.apple-cloudkit.com",VERSION:i,WS_API_VERSION:1}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="3.0.0-rc3"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(145)),a=i(n(153)),o=i(n(78)),s=i(n(79)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),c=function(){function e(t){var n=t.host,i=void 0===n?null:n,r=t.parameters,a=void 0===r?{}:r,s=t.headers,c=void 0===s?{}:s,u=t.body,d=void 0===u?null:u;(0,o.default)(this,e),this._host=i,this._path="",this._params=l.Utils.assign({},a),this._headers=l.Utils.assign({},c),this._body=l.Utils.isNullOrUndefined(d)?void 0:d,this._method=l.Utils.isNullOrUndefined(d)?"GET":"POST"}return(0,s.default)(e,[{key:"setMethod",value:function(e){return this._method=e,this}},{key:"setHost",value:function(e){return this._host=e,this}},{key:"setPath",value:function(e){return this._path=e,this}},{key:"setBody",value:function(e){return this._body=e,this}},{key:"getBody",value:function(){return this._body}},{key:"getBodyStringified",value:function(){return l.Utils.isString(this._body)?this._body:l.Utils.isNullOrUndefined(this._body)?this._body:(0,a.default)(this._body)}},{key:"setHeader",value:function(e,t){return this._headers[e]=t,this}},{key:"addHeaders",value:function(e){return this._headers=l.Utils.assign(this._headers,e),this}},{key:"setParameter",value:function(e,t){var n={};return n[e]=t,this.addParams(n),this}},{key:"addParams",value:function(e){return this._params=l.Utils.assign(this._params,e),this}},{key:"getParameterString",value:function(){var e=this._params;return l.Utils.isNullOrUndefined(e)?"":(0,r.default)(e).reduce((function(t,n){return t+n+"="+e[n]+"&"}),"?").slice(0,-1)}},{key:"getPath",value:function(){return this._path}},{key:"getPathWithParams",value:function(){return this.getPath()+this.getParameterString()}},{key:"getFullURL",value:function(){return this._host?this._host+this.getPathWithParams():this.getPathWithParams()}},{key:"send",value:function(){var e=this.getFullURL(),t={method:this._method,headers:this._headers,body:this.getBodyStringified(),credentials:"same-origin"};return l.Fetch.fetch(e,t)}}]),e}();t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1)),a=i(n(78)),o=i(n(79)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),l=i(n(163)),c=function(){function e(){(0,a.default)(this,e),l.default.isNode()||this.setDelegate(s.FetchShim)}return(0,o.default)(e,[{key:"setDelegate",value:function(e){if(l.default.isNullOrUndefined(e)){if(l.default.isNode())throw new Error("No fetch delegate.");this._delegate=s.FetchShim}else this._delegate=e}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s.Reporting.newNetworkStat(e,t);return t=(0,r.default)({Promise:s.Async.Promise},t),this.fetchWithoutReporting(e,t).catch((function(e){throw n.networkError(),e})).then((function(e){return e.status>=500&&e.status<600&&n.error5XX(e),e}))}},{key:"fetchJSON",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,t).then((function(e){return e.json()}))}},{key:"fetchWithoutReporting",value:function(e,t){return this._delegate.apply(null,[e,t,s.FetchShim])}},{key:"readHeader",value:function(e,t){try{if(l.default.isNullOrUndefined(e))return null;if(l.default.isFunction(e.get))return e.get(t);if(!l.default.isNullOrUndefined(e[t]))return e[t]}catch(n){s.Log.warn("Error reading header: "+t+" "+n+"}")}return null}}]),e}();t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){var i=d.bind(null,e,t),r=[];return{handle:function(n,i){if(i.source===e&&i.origin===t){var a=r[n.id];a&&(delete r[n.id],n.error?a.reject(n.error):a.resolve(n.result))}},send:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];var s={id:h(),method:e,params:a};if(!c(s))throw new Error("Not a valid json rpc call message: "+(0,l.default)(s));return new n((function(e,t){r[s.id]={resolve:e,reject:t},i(s)}))}}}function a(e,t){return{handle:function(n,i){var r=d.bind(i.source,i.source,i.origin),a=e[n.method];a&&t.resolve(1).then((function(){return a.apply(null,n.params)})).then((function(e){return{id:n.id,result:e}}),(function(e){return{id:n.id,error:e}})).then((function(e){if("id"in n)try{r(e)}catch(t){r({id:n.id,error:t.message||t})}}))}}}function o(e,t,n,i){var r=function(e){if(e.source===t)try{var r=JSON.parse(e.data);c(r)?n.handle(r,e):u(r)&&i.handle(r,e)}catch(a){}};return e.addEventListener("message",r),{disconnect:function(){e.removeEventListener("message",r)}}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(39)),l=i(n(153)),c=function(e){return"method"in e},u=function(e){return!c(e)&&"id"in e},d=function(e,t,n){n.jsonrpc="2.0",e.postMessage((0,l.default)(n),t)},h=function(){return"ckjs-jsonrpc-message-id-"+(""+Math.random()).substring(2)};t.default={create:function(e){var t=e.win,n=e.otherWin,i=e.otherWinOrigin,l=e.methods,c=void 0===l?{}:l,u=e.P,d=void 0===u?s.default:u,h=a(c,d),f=r(n,i,d),p=o(t,n,h,f);return{send:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return f.send.apply(f,[e].concat(n))},disconnect:function(){p.disconnect()}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(164)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),a="CloudKitJS",o=null,s=function(){return r.Utils.isNullOrUndefined(o)?"undefined"!=typeof CloudKit&&CloudKit.logToConsole?console:void 0:o},l={setDelegate:function(e){o=e},info:function(){var e=s();if(!r.Utils.isNullOrUndefined(e)&&r.Utils.isFunction(e.info)){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];e.info.apply(e,(0,i.default)([a].concat(n)))}},warn:function(){var e=s();if(!r.Utils.isNullOrUndefined(e)&&r.Utils.isFunction(e.warn)){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];e.warn.apply(e,(0,i.default)([a].concat(n)))}},error:function(){var e=s();if(!r.Utils.isNullOrUndefined(e)&&r.Utils.isFunction(e.error)){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];e.error.apply(e,(0,i.default)([a].concat(n)))}}};t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(369)),a=i(n(374)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121));t.default={parseRawNotification:function(e){try{if(!o.Utils.isNullOrUndefined(e.ck)){if(!o.Utils.isNullOrUndefined(e.ck.fet))return new a.default(e);if(!o.Utils.isNullOrUndefined(e.ck.qry))return new r.default(e)}}catch(t){o.Log.warn(t)}return null}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(169)),a=i(n(370)),o=i(n(100)),s=i(n(78)),l=i(n(79)),c=i(n(104)),u=i(n(120)),d=i(n(373)),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),f=function(e){function t(e){(0,s.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e)),i=e.ck.qry;if(n._zoneID={zoneName:i.zid,ownerRecordName:i.zoid},n._subscriptionID=i.sid,n._dbType=i.dbs,n._recordName=i.rid,n._reason=i.fo,!h.Utils.isNullOrUndefined(i.af)){var l={},u=!0,d=!1,f=void 0;try{for(var p,m=(0,a.default)((0,r.default)(i.af));!(u=(p=m.next()).done);u=!0){var g=p.value;l[g]={value:i.af[g]}}}catch(v){d=!0,f=v}finally{try{!u&&m.return&&m.return()}finally{if(d)throw f}}n._fields=l}return n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"toString",value:function(){return h.Utils.instanceToString("QueryNotification",this)}},{key:"isQueryNotification",get:function(){return!0}},{key:"notificationType",get:function(){return d.default.NOTIFICATION_TYPE_QUERY}},{key:"queryNotificationReason",get:function(){switch(this._reason){case 1:return d.default.QUERY_NOTIFICATION_REASON_RECORD_CREATED;case 2:return d.default.QUERY_NOTIFICATION_REASON_RECORD_UPDATED;case 3:return d.default.QUERY_NOTIFICATION_REASON_RECORD_DELETED}return null}},{key:"isPublicDatabase",get:function(){return 0===this._dbType}},{key:"recordName",get:function(){return this._recordName}},{key:"recordFields",get:function(){return this._fields}}]),t}(d.default);t.default=f},function(e,t,n){e.exports={default:n(371),__esModule:!0}},function(e,t,n){n(54),n(42),e.exports=n(372)},function(e,t,n){var i=n(11),r=n(64);e.exports=n(6).getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return i(t.call(e))}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(78)),a=i(n(79)),o=function(){function e(t){(0,r.default)(this,e),this._notificationID=t.ck.nid,this._containerIdentifier=t.ck.cid;var n=t.aps||{};n.alert=n.alert||{},this._category=n.category,this._alertBody=n.alert.body,this._alertLocKey=n.alert["loc-key"],this._alertLocArgs=n.alert["loc-args"],this._actionLocKey=n.alert["action-loc-key"],this._launchImage=n.alert["launch-image"],this._soundName=n.sound,this._badge=n.badge}return(0,a.default)(e,[{key:"isQueryNotification",get:function(){return!1}},{key:"isRecordZoneNotification",get:function(){return!1}},{key:"category",get:function(){return this._category}},{key:"notificationType",get:function(){return null}},{key:"notificationID",get:function(){return this._notificationID}},{key:"containerIdentifier",get:function(){return this._containerIdentifier}},{key:"alertBody",get:function(){return this._alertBody}},{key:"alertLocalizationKey",get:function(){return this._alertLocKey}},{key:"alertLocalizationArgs",get:function(){return this._alertLocArgs}},{key:"alertActionLocalizationKey",get:function(){return this._actionLocKey}},{key:"alertLaunchImage",get:function(){return this._launchImage}},{key:"soundName",get:function(){return this._soundName}},{key:"badge",get:function(){return this._badge}},{key:"zoneID",get:function(){return this._zoneID}},{key:"subscriptionID",get:function(){return this._subscriptionID}}],[{key:"NOTIFICATION_TYPE_QUERY",get:function(){return"NOTIFICATION_TYPE_QUERY"}},{key:"NOTIFICATION_TYPE_RECORD_ZONE",get:function(){return"NOTIFICATION_TYPE_RECORD_ZONE"}},{key:"QUERY_NOTIFICATION_REASON_RECORD_CREATED",get:function(){return"QUERY_NOTIFICATION_REASON_RECORD_CREATED"}},{key:"QUERY_NOTIFICATION_REASON_RECORD_UPDATED",get:function(){return"QUERY_NOTIFICATION_REASON_RECORD_UPDATED"}},{key:"QUERY_NOTIFICATION_REASON_RECORD_DELETED",get:function(){return"QUERY_NOTIFICATION_REASON_RECORD_DELETED"}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(100)),a=i(n(78)),o=i(n(79)),s=i(n(104)),l=i(n(120)),c=i(n(373)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),d=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e)),i=e.ck.fet||{};return n._zoneID={zoneName:i.zid,ownerRecordName:i.zoid},n._subscriptionID=i.sid,n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"toString",value:function(){return u.Utils.instanceToString("RecordZoneNotification",this)}},{key:"isRecordZoneNotification",get:function(){return!0}},{key:"notificationType",get:function(){return c.default.NOTIFICATION_TYPE_RECORD_ZONE}}]),t}(c.default);t.default=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,i){return e+" "+n.errorMessage+t+" (in: "+d.default.stringifyExposingUndefined(i)+")"}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return t.forEach((function(t){if(!t.shouldIgnore||!t.shouldIgnore(e)){var i=t.key;if(i in e){var a=e[i];if(a=d.default.isFunction(t.normalize)?t.normalize(a,e):a,!t.isValid(a,e))throw c.default.makeInvalidArguments(r(i,a,t,e));n[i]=a}else{var o=t.isRequired;if(d.default.isFunction(o)?o(e):o)throw c.default.makeInvalidArguments(r(i,void 0,t,e))}}})),n}}function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.map((function(e){var t=d.default.find(f,(function(t){return t.key===e}));if(!t)throw new Error("Cannot find request option definition for: "+e);return t}));return a.apply(void 0,(0,s.default)(i))}Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(164)),l=i(n(1)),c=i(n(91)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),d=i(n(163)),h={key:"zoneID",normalize:function(e){return d.default.isNullOrUndefined(e)?{zoneName:"_defaultZone"}:u.RecordUtils.normalizeZone(e).zoneID},shouldIgnore:function(e){return e.zoneWide},errorMessage:" should be a valid zoneID but was normalized to: ",mustDifferFromOtherZoneID:void 0,isValid:function(e,t){if(null===e)return!1;var n=this.mustDifferFromOtherZoneID;if(!n||!t[n])return!0;var i=this.normalize(e),r=this.normalize(t[n]);return i.zoneName!==r.zoneName||i.ownerRecordName!==r.ownerRecordName}},f=[h,(0,l.default)({},h,{key:"sourceZoneID",isRequired:!0,shouldIgnore:function(){return!1},mustDifferFromOtherZoneID:"targetZoneID"}),(0,l.default)({},h,{key:"targetZoneID",isRequired:!0,shouldIgnore:function(){return!1},mustDifferFromOtherZoneID:"sourceZoneID"}),{key:"atomic",isValid:d.default.isBoolean,errorMessage:" should be a boolean but was: "},{key:"desiredKeys",isValid:function(e){return d.default.isUndefined(e)||d.default.isStringArray(e)},errorMessage:" should be an array of strings but was: "},{key:"desiredRecordTypes",isValid:function(e){return d.default.isUndefined(e)||d.default.isStringArray(e)},errorMessage:" should be an array of strings but was: "},{key:"numbersAsStrings",isValid:function(e){return d.default.isNullOrUndefined(e)||d.default.isBoolean(e)},errorMessage:" should be a boolean but was: "},{key:"zoneWide",isValid:function(e){return d.default.isUndefined(e)||d.default.isBoolean(e)},errorMessage:" should be a boolean but was: "},{key:"resultsLimit",isValid:function(e){return d.default.isNullOrUndefined(e)||d.default.isNumberish(e)},errorMessage:" should be a number but was: "},{key:"continuationMarker",isValid:function(e){return d.default.isNullOrUndefined(e)||d.default.isString(e)},errorMessage:" should be a string but was: "},{key:"syncToken",isValid:function(e){return d.default.isNullOrUndefined(e)||d.default.isString(e)},errorMessage:" should be a string but was: "},{key:"reverse",isValid:function(e){return d.default.isNullOrUndefined(e)||d.default.isBoolean(e)},errorMessage:" should be a boolean but was: "},{key:"onAssetUploadStart",isValid:d.default.isFunction,errorMessage:" should be a function but was: "},{key:"assetPrivacyMaskType",isValid:function(e){return d.default.isNullOrUndefined(e)||d.default.isString(e)},errorMessage:" should be a string but was: "},{key:"pluginFields",isValid:function(e){return void 0!==e},errorMessage:" should be defined but was ",isRequired:!0},{key:"includeRecords",isValid:function(e){return d.default.isNullOrUndefined(e)||d.default.isStringArray(e)},errorMessage:" should be an array of strings but was: "},{key:"excludeRecords",isValid:function(e){return d.default.isNullOrUndefined(e)||d.default.isStringArray(e)},errorMessage:" should be an array of strings but was: "},{key:"shareName",isValid:function(e){return d.default.isNullOrUndefined(e)||d.default.isString(e)},errorMessage:" should be null, undefined, or a string but was "},{key:"archiveName",isValid:function(e){return d.default.isNullOrUndefined(e)||d.default.isString(e)},errorMessage:" should be a string but was "},{key:"sourceShareName",isValid:function(e){return d.default.isString(e)},errorMessage:" should be a string but was ",isRequired:function(e){return!("targetRootName"in e)}},{key:"targetRootName",isValid:function(e){return d.default.isString(e)},errorMessage:" should be a string but was ",isRequired:function(e){return!("sourceShareName"in e)}},{key:"jobID",isValid:function(e){return d.default.isString(e)},errorMessage:" should be a string but was ",isRequired:!0}];t.default={forKeys:function(){return o.apply(void 0,arguments)}}},function(e,t,n){"use strict";function i(e){if(o.Utils.isNullOrUndefined(e))throw a.default.makeInvalidArguments("not a valid record/recordName: "+o.Utils.stringifyExposingUndefined(e));return o.Utils.isString(e)?{recordName:e}:e}function r(e){if(o.Utils.isNullOrUndefined(e))throw a.default.makeInvalidArguments("not a valid zone/zoneID: "+o.Utils.stringifyExposingUndefined(e));if(o.Utils.isString(e))return{zoneID:{zoneName:e}};if(o.Utils.isString(e.zoneName))return{zoneID:e};if("zoneID"in e&&!o.Utils.isNullOrUndefined(e.zoneID)&&"zoneName"in e.zoneID)return e;throw a.default.makeInvalidArguments("not a valid zone/zoneID: "+o.Utils.stringifyExposingUndefined(e))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(91)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121));t.default={normalizeRecords:function(e){return o.Utils.asArray(e).map(i)},normalizeZone:r,normalizeZones:function(e){return o.Utils.asArray(e).map(r)}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(78)),a=i(n(79)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),s=function(){function e(t){(0,r.default)(this,e),this._database=t,this._operations=[]}return(0,a.default)(e,[{key:"_pushOperations",value:function(e,t){var n=this;return o.Utils.asArray(t).map(o.RecordUtils.normalizeZone).map((function(t){return{zone:t,operationType:e}})).forEach((function(e){return n._operations.push(e)})),this}},{key:"create",value:function(e){return this._pushOperations("create",e),this}},{key:"delete",value:function(e){return this._pushOperations("delete",e),this}},{key:"commit",value:function(){return this._database.commitRecordZoneBatchBuilder(this)}},{key:"build",value:function(){return{operations:this._operations}}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=m.exec(e);return{host:t[10],pathName:t[13]}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(153)),o=i(n(1)),s=i(n(100)),l=i(n(104)),c=i(n(155)),u=i(n(120)),d=i(n(78)),h=i(n(79)),f=i(n(91)),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),m=/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,g=function(){try{return r(window.location.href)}catch(e){return{}}}(),v=function(){function e(t,n,i){(0,d.default)(this,e),this._reporting=t,this._start=(new Date).getTime(),this._statName=n,this._message=i,this._hostname=g.host,this._urlPath=g.pathName}return(0,h.default)(e,[{key:"report",value:function(){this._reporting.reportStat(this)}},{key:"toJSON",value:function(){return{appName:"CKJS",clientTiming:(new Date).getTime()-this._start,hostname:this._hostname,message:this._message,statName:this._statName,urlPath:this._urlPath}}}]),e}(),_=function(e){function t(e,n,i){(0,d.default)(this,t);var a=(0,l.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e)),o=r(n),c=o.host,u=o.pathName;return a._hostname=c,a._urlPath=u,a._httpMethod=i.method,a}return(0,u.default)(t,e),(0,h.default)(t,[{key:"networkError",value:function(){this._statName="CKJSNetworkError",this.report()}},{key:"error5XX",value:function(e){this._statName="CKJSStatus5XX",this._statusCode=e.status,this._requestUUID=p.Fetch.readHeader(e.headers,"X-Apple-Request-UUID"),this.report()}},{key:"toJSON",value:function(){return(0,o.default)({},(0,c.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"toJSON",this).call(this),{httpMethod:this._httpMethod,requestUUID:this._requestUUID,statusCode:this._statusCode})}}]),t}(v),b=function(e){function t(e){return(0,d.default)(this,t),(0,l.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,h.default)(t,[{key:"didRun",value:function(){this._statName="CKJSSharingFlowDidRun",this.report()}},{key:"didError",value:function(e){f.default.SHARE_UI_TIMEOUT===e.ckErrorCode?this._statName="CKJSSharingFlowTimeout":this._statName="CKJSSharingFlowError",this.report()}}]),t}(v),y=function(){function e(){(0,d.default)(this,e),this._stats=[],this._flushLater()}return(0,h.default)(e,[{key:"reportStat",value:function(e){this._stats.push(e.toJSON())}},{key:"_flushLater",value:function(){var e=this;setTimeout((function(){return e._flush()}),15e3)}},{key:"_flush",value:function(){this._stats.length>0&&(p.Fetch.fetchWithoutReporting(function(){try{if(r(window.location.href).host.endsWith("icloud.com"))return"https://feedbackws.icloud.com/reportStats"}catch(n){}return"https://feedbackws.apple-cloudkit.com/reportStats"}(),{body:(0,a.default)({stats:this._stats}),credentials:"omit",headers:{"content-type":"text/plain"},method:"POST"}),this._stats=[]),this._flushLater()}},{key:"newNetworkStat",value:function(e,t){return new _(this,e,t)}},{key:"newSharingFlowStat",value:function(){return new b(this)}},{key:"reportDeprecatedOptionUsed",value:function(e){new v(this,"CKJSDeprecatedOptions",e).report()}},{key:"reportDeprecatedConfigurationUsed",value:function(e){new v(this,"CKJSDeprecatedConfig",e).report()}},{key:"reportDeprecatedMethodUsed",value:function(e,t){new v(this,"CKJSDeprecatedMethod",e+"->"+t).report()}},{key:"reportUnexpectedAuthError",value:function(){new v(this,"CKJSUnexpectedAuthError").report()}}]),e}();t.default=y},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(78)),a=i(n(79)),o=i(n(91)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),l=i(n(380)),c="https://cdn.apple-cloudkit.com",u=c+"/applications/ck-share-ui/current",d=function(){function e(t){(0,r.default)(this,e),this._options=t,this._shareSheetURL=u+"/"+(t.containerConfiguration.locale||"en-us")+"/",this._view=null,this._delegate=new s.ShareSheetDelegate(t.delegate||{},this)}return(0,a.default)(e,[{key:"_destroy",value:function(){this._view.hide(),this._channel.disconnect(),this._view.unmount(),this._view=null,this._delegate.componentWasDestroyed()}},{key:"_createView",value:function(){var e=this,t=this._delegate._provideURLForComponent(this._shareSheetURL)||this._shareSheetURL;this._view=l.default.create({parentElement:this._options.parentElement,url:t}),this._view.mount(),this._view.showLoading(),setTimeout((function(){e._delegate.componentWasCreated(e._view.iFrame),e._options.startHidden||e._view.show()}))}},{key:"_connect",value:function(){var e=this;return new s.Async.Promise((function(t,n){e._channel=s.BIDIChannel.create({P:s.Async.Promise,methods:{applicationIsReady:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width,i=t.height;return e._view.hideLoading({width:n,height:i,immediate:e._options.startHidden}),e._delegate.componentDidBecomeReady(),!0},channelDidOpen:function(){setTimeout(t)}},otherWin:e._view.iFrame.contentWindow,otherWinOrigin:c,win:window})}))}},{key:"_run",value:function(){var e=s.Utils.assign({},this._options,{delegate:"blacklisted",parentElement:"blacklisted"});return this._channel.send("run",e)}},{key:"run",value:function(){var e=this;this._createView();var t=this._connect();return s.Async.waitOrFail(t,15e3,o.default.makeShareUITimeout()).then((function(){var t=new s.Async.Promise((function(t,n){e._onCancel=function(){return n(new Error("canceled"))}})),n=e._run();return s.Async.Promise.race([t,n])})).then((function(t){return e._destroy(),t}),(function(t){e._destroy();try{o.default.isErrorObject(JSON.parse(t.message))&&(t=o.default.fromServerError(JSON.parse(t.message)))}catch(n){}return s.Async.Promise.reject(t)}))}},{key:"show",value:function(){this._view.show()}},{key:"hide",value:function(){this._view.hide()}},{key:"cancel",value:function(){this._onCancel&&this._onCancel()}}]),e}();t.default={createAndRun:function(e){return e.__shareSheetOrigin&&(c=e.__shareSheetOrigin,u=c+"/applications/ck-share-ui/current"),new d(e).run()}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(78)),a=i(n(79)),o=i(n(359)),s=function(){function e(t){(0,r.default)(this,e),this._options=t,this._parentElement=t.parentElement||o.default.doc().body,this._element=o.default.createElement('<div class="cloudkit-sharing-ui">\n  <iframe\n      class="cloudkit-sharing-ui-iframe"\n      src=""\n      frameborder="0"\n      seamless="seamless"\n      allowtransparency="true"></iframe>\n  <div class="cloudkit-sharing-ui-loading">\n    <div class="cloudkit-sharing-ui-modal-background">\n        <div class="cloudkit-sharing-ui-content-box">\n            <div class="cloudkit-sharing-ui-spinning"></div>\n        </div>\n    </div>\n  </div>\n  <style>\n.cloudkit-sharing-ui {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  /*opacity: 0;*/\n  z-index: 999;\n  display: block;\n}\n\n.cloudkit-sharing-ui-iframe {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n    /*opacity: 0;*/\n    display: block;\n}\n\n.cloudkit-sharing-ui-loading {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  opacity: 1;\n  transition: 250ms ease-in-out;\n}\n\n.cloudkit-sharing-ui-modal-background {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.25);\n\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n    -ms-flex-align: center;\n    align-items: center;\n}\n\n.cloudkit-sharing-ui-content-box {\n    width: 100px;\n    height: 100px;\n    background-color: white;\n    box-shadow: 0 2px 25px rgba(0, 0, 0, 0.4);\n    border-radius: 8px;\n    transition: 250ms ease-in-out;\n\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n    -ms-flex-align: center;\n    align-items: center;\n}\n\n.cloudkit-sharing-ui-spinning {\n  width: 32px;\n  height: 32px;\n  -webkit-animation: __ck_share_ui_spin 2s linear infinite;\n  -moz-animation: __ck_share_ui_spin 2s linear infinite;\n  animation: __ck_share_ui_spin 2s linear infinite;\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKICAgICAgICAgICAgIHZpZXdCb3g9IjAgMCAzMiAzMiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMzIgMzIiIHhtbDpzcGFjZT0icHJlc2VydmUiPgogICAgPHBhdGggZmlsbD0iIzY2NiIKICAgICAgICAgIHN0cm9rZS13aWR0aD0iMSIKICAgICAgICAgIGQ9Ik0zMS4yLDE0LjFjLTAuOS03LjUtNy4zLTEzLjMtMTUtMTMuM0M3LjgsMC44LDEuMSw3LjYsMS4xLDE1LjlzNi44LDE1LjIsMTUuMiwxNS4yYzcuNywwLDE0LjEtNS44LDE1LTEzLjMKICAgICAgICAgICAgSDMyYy0wLjksNy45LTcuNywxNC0xNS44LDE0Yy04LjgsMC0xNS45LTcuMS0xNS45LTE1LjlTNy40LDAsMTYuMiwwYzguMSwwLDE0LjgsNi4xLDE1LjgsMTRIMzEuMnoiLz4KPC9zdmc+Cg==);\n}\n\n@-moz-keyframes __ck_share_ui_spin {\n  100% {\n    -moz-transform: rotate(360deg);\n  }\n}\n\n@-webkit-keyframes __ck_share_ui_spin {\n  100% {\n    -webkit-transform: rotate(360deg);\n  }\n}\n\n@keyframes __ck_share_ui_spin {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}</style>\n</div>',{})}return(0,a.default)(e,[{key:"mount",value:function(){this._parentElement.appendChild(this._element),this.iFrame.setAttribute("src",this._options.url)}},{key:"unmount",value:function(){this._parentElement.removeChild(this._element)}},{key:"showLoading",value:function(){o.default.assignStyle(".cloudkit-sharing-ui-loading",{visibility:"visible"}),o.default.assignStyle(".cloudkit-sharing-ui-iframe",{opacity:0})}},{key:"hideLoading",value:function(e){var t=e.width,n=e.height,i=e.immediate;t=t||400,n=n||300,void 0!==i&&i?(o.default.assignStyle(".cloudkit-sharing-ui-iframe",{opacity:1}),o.default.assignStyle(".cloudkit-sharing-ui-loading",{visibility:"collapse"})):o.default.animate([{".cloudkit-sharing-ui-content-box":{height:n+"px",width:t+"px"},".cloudkit-sharing-ui-spinning":{visibility:"collapse"}},{".cloudkit-sharing-ui-iframe":{opacity:1},".cloudkit-sharing-ui-loading":{opacity:0},".cloudkit-sharing-ui-modal-background":{display:"none"}},{".cloudkit-sharing-ui-loading":{visibility:"collapse"}}],250)}},{key:"show",value:function(){o.default.assignStyle(".cloudkit-sharing-ui",{opacity:1,display:"block"})}},{key:"hide",value:function(){o.default.assignStyle(".cloudkit-sharing-ui",{opacity:0,display:"none"})}},{key:"iFrame",get:function(){return o.default.querySelector(".cloudkit-sharing-ui-iframe")}}]),e}();t.default={create:function(e){return new s(e)}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(78)),a=i(n(79)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),s=function(){function e(t,n){(0,r.default)(this,e),this._actual=t,this._component={show:function(){return n.show()},hide:function(){return n.hide()},__cancel:function(){return n.cancel()}}}return(0,a.default)(e,[{key:"componentWasCreated",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!o.Utils.isNullOrUndefined(this._actual)&&o.Utils.isFunction(this._actual.componentWasCreated)?o.Utils.tryInvokeMethod(this._actual,"componentWasCreated",[this._component].concat(t),"shareWithUI.delegate"):o.Utils.tryInvokeMethod(this._actual,"componentDidCreate",[this._component].concat(t),"shareWithUI.delegate")}},{key:"componentDidBecomeReady",value:function(){return o.Utils.tryInvokeMethod(this._actual,"componentDidBecomeReady",[this._component],"shareWithUI.delegate")}},{key:"componentWasDestroyed",value:function(){return o.Utils.tryInvokeMethod(this._actual,"componentWasDestroyed",[this._component],"shareWithUI.delegate")}},{key:"_provideURLForComponent",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.Utils.tryInvokeMethod(this._actual,"_provideURLForComponent",[this._component].concat(t),"shareWithUI.delegate")}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),r=!1,a={run:function(e){if(r)throw new Error("already running");r=!0;var t=i.Reporting.newSharingFlowStat();return i.ShareSheet.createAndRun(e).then((function(e){return r=!1,t.didRun(),e}),(function(e){throw r=!1,t.didError(e),e}))}};t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FetchResponse=void 0;var r=i(n(100)),a=i(n(104)),o=i(n(120)),s=i(n(39)),l=i(n(370)),c=i(n(123)),u=i(n(169)),d=i(n(384)),h=i(n(78)),f=i(n(79));t.default=function(e,t){return new v(e,t).fetch()};var p=function(){function e(t){var n=this;(0,h.default)(this,e),this._headers=new d.default,t instanceof e?t.forEach((function(e,t){return t.forEach((function(t){return n.append(e,t)}))})):t&&(0,u.default)(t).forEach((function(e){return n.append(e,t[e])}))}return(0,f.default)(e,null,[{key:"fromXHR",value:function(t){var n=new e;return t.getAllResponseHeaders().trim().split("\n").forEach((function(e){var t=e.trim().split(":"),i=t.shift().trim();t.join(":").trim().split(";").forEach((function(e){n.append(i,e.trim())}))})),n}}]),(0,f.default)(e,[{key:"append",value:function(e,t){e=e.toLowerCase(),this.has(e)?this.getAll(e).add(t):this.set(e,t)}},{key:"delete",value:function(e){e=e.toLowerCase(),this._headers.delete(e)}},{key:"get",value:function(e){e=e.toLowerCase();var t=this.getAll(e);return 0===t.size?null:t.values().next().value}},{key:"getAll",value:function(e){return e=e.toLowerCase(),this.has(e)?this._headers.get(e):new c.default}},{key:"has",value:function(e){return e=e.toLowerCase(),this._headers.has(e)}},{key:"set",value:function(e,t){e=e.toLowerCase(),this._headers.set(e,(new c.default).add(t))}},{key:"forEach",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,a=(0,l.default)(this._headers.keys());!(t=(r=a.next()).done);t=!0){var o=r.value;e(o,this._headers.get(o))}}catch(s){n=!0,i=s}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}}}]),e}(),m=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,h.default)(this,e),this._payload=t,this.bodyUsed=!1,this._Promise=n.Promise||s.default}return(0,f.default)(e,[{key:"text",value:function(){return this.bodyUsed?this._Promise.reject(new TypeError("Body already used")):(this.bodyUsed=!0,this._Promise.resolve(this._payload))}},{key:"json",value:function(){return this.text().then(JSON.parse)}},{key:"blob",value:function(){return this._Promise.resolve(new Blob([this._payload]))}}]),e}(),g=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,h.default)(this,t);var i=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return i.type="default",i.url=null,i.status=n.status,i.statusText=n.statusText,i.headers=n.headers,i.url=n.url||"",i}return(0,o.default)(t,e),t}(m);t.FetchResponse=g;var v=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,h.default)(this,t);var i=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,n.body,n));return i.url=e,i.credentials=n.credentials||"omit",i.headers=new p(n.headers),i.method=n.method?n.method.toUpperCase():"GET",i.mode=n.mode||null,i.options=n,i}return(0,o.default)(t,e),(0,f.default)(t,[{key:"fetch",value:function(){var e=this;return new this._Promise((function(t,n){var i=new XMLHttpRequest;"include"===e.credentials&&(i.withCredentials=!0);var r=function r(){i.removeEventListener("load",r),i.removeEventListener("error",a);var o=i.status;if(o<100||o>599)n(new TypeError("Network failure"));else{var s={Promise:e._Promise,headers:p.fromXHR(i),status:o,statusText:i.statusText,url:i.responseURL};t(new g(i.responseText,s))}},a=function e(){i.removeEventListener("load",r),i.removeEventListener("error",e),n(new TypeError("Network failure"))};i.addEventListener("load",r),i.addEventListener("error",a),e.options&&e.options.exposeImplementation&&e.options.exposeImplementation(i),i.open(e.method,e.url,!0),e.headers.forEach((function(e,t){t.forEach((function(t){i.setRequestHeader(e,t)}))})),i.send("undefined"==typeof e._payload?null:e._payload)}))}}]),t}(m)},function(e,t,n){e.exports={default:n(385),__esModule:!0}},function(e,t,n){n(41),n(42),n(54),n(386),n(387),n(388),n(389),e.exports=n(6).Map},function(e,t,n){"use strict";var i=n(126),r=n(127),a="Map";e.exports=n(128)(a,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=i.getEntry(r(this,a),e);return t&&t.v},set:function(e,t){return i.def(r(this,a),0===e?0:e,t)}},i,!0)},function(e,t,n){var i=n(4);i(i.P+i.R,"Map",{toJSON:n(133)("Map")})},function(e,t,n){n(136)("Map")},function(e,t,n){n(138)("Map")},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(78)),a=i(n(79)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),s=function(){function e(t){(0,r.default)(this,e),this._database=t,this._operations=[]}return(0,a.default)(e,[{key:"_pushOperation",value:function(e,t){var n=this;return(t=o.Utils.asArray(t)).forEach((function(t){n._operations.push({operationType:e,subscription:t})})),this}},{key:"create",value:function(e){return this._pushOperation("create",e),this}},{key:"delete",value:function(e){return e=o.Utils.asArray(e).map((function(e){return o.Utils.isString(e)?{subscriptionID:e}:e})),this._pushOperation("delete",e),this}},{key:"commit",value:function(){return this._database.commitSubscriptionsBatchBuilder(this)}},{key:"build",value:function(){return{operations:this._operations}}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(100)),a=i(n(78)),o=i(n(79)),s=i(n(104)),l=i(n(120)),c=function(e){function t(e,n){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"downloadURL",get:function(){return this.httpResponse.body.downloadURL}},{key:"isZipDownloadResponse",get:function(){return!0}}]),t}(i(n(141)).default);t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(39)),a=i(n(123)),o=i(n(78)),s=i(n(79)),l=i(n(393)),c=i(n(84)),u=n(121),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),h=i(n(402)),f=i(n(403)),p=function(){function e(t){var n=t.containerConfig,i=t.apnsManager,r=t.authTokenStore;(0,o.default)(this,e),this._config=n,this._apnsManager=i,this._containerIdentifier=n.containerIdentifier,this._environment=n.environment||d.Constants.DEVELOPMENT_ENVIRONMENT,this._apnsEnvironment=n.apnsEnvironment||d.Constants.DEVELOPMENT_ENVIRONMENT,this._publicDatabase=new l.default(this,c.default.PUBLIC,n.publicDatabasePartition),this._privateDatabase=new l.default(this,c.default.PRIVATE,n.privateDatabasePartition),this._sharedDatabase=new l.default(this,c.default.SHARED,void 0!==n.sharedDatabasePartition?n.sharedDatabasePartition:n.privateDatabasePartition),this._notificationListeners=new a.default,this._auth=d.AuthFactory.createAuth({container:this,containerConfig:n,authTokenStore:r})}return(0,s.default)(e,[{key:"getDatabaseWithDatabaseScope",value:function(e){return e===c.default.PUBLIC?this.publicCloudDatabase:e===c.default.PRIVATE?this.privateCloudDatabase:e===c.default.SHARED?this.sharedCloudDatabase:void 0}},{key:"setUpAuth",value:function(){return this._auth.setup()}},{key:"whenUserSignsIn",value:function(){return this._auth.whenUserSignsIn()}},{key:"whenUserSignsOut",value:function(){return this._auth.whenUserSignsOut()}},{key:"signOut",value:function(){this._auth.signOut()}},{key:"fetchCurrentUserIdentity",value:function(){var e=(new d.CKRequest).setApiEntityName("users").setApiActionName("caller");return this.publicCloudDatabase.sendRequest(e).then((function(e){return e.httpResponse.body}))}},{key:"discoverUserIdentities",value:function(e){d.Utils.assertArg(e,"at least one UserLookupInfo required");var t=d.Utils.asArray(e),n=(new d.CKRequest).setApiEntityName("users").setApiActionName("discover").setPayload({lookupInfos:t}).setResponseClass(f.default);return this.publicCloudDatabase.sendRequest(n)}},{key:"discoverUserIdentityWithEmailAddress",value:function(e){return this.discoverUserIdentities([{emailAddress:e}])}},{key:"discoverUserIdentityWithPhoneNumber",value:function(e){return this.discoverUserIdentities([{phoneNumber:e}])}},{key:"discoverUserIdentityWithUserRecordName",value:function(e){return this.discoverUserIdentities([{userRecordName:e}])}},{key:"discoverAllUserIdentities",value:function(){var e=(new d.CKRequest).setApiEntityName("users").setApiActionName("discover").setResponseClass(f.default);return this.publicCloudDatabase.sendRequest(e)}},{key:"addNotificationListener",value:function(e){return this._notificationListeners.add(e),this}},{key:"removeNotificationListener",value:function(e){return this._notificationListeners.delete(e),this}},{key:"handleNotification",value:function(e){d.Log.info("Notification",e,"handled by",this),e=d.NotificationUtil.parseRawNotification(e)||e,this._notificationListeners.forEach((function(t){d.Utils.tryInvokeFunction(t,[e],"Error while invoking "+t+" with "+e)}))}},{key:"registerForNotifications",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.clientID=e.clientId||e.clientID||this.getConfig().clientID,this._apnsManager.registerContainerForNotification(this,e),r.default.resolve(this)}},{key:"unregisterForNotifications",value:function(){return this._apnsManager.unregisterContainerForNotification(this),r.default.resolve(this)}},{key:"fetchRecordInfos",value:function(e){!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=d.Utils.asArray(e).map((function(e){return d.Utils.isString(e)?{value:e}:e}));var t=(new d.CKRequest).setApiEntityName("records").setApiActionName("resolve").setPayload({shortGUIDs:e}).setResponseClass(h.default);return this._publicDatabase.sendRequest(t)}},{key:"acceptShares",value:function(e){!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=d.Utils.asArray(e).map((function(e){return d.Utils.isString(e)?{value:e}:e}));var t=(new d.CKRequest).setApiEntityName("records").setApiActionName("accept").setPayload({shortGUIDs:e}).setResponseClass(h.default);return this._publicDatabase.sendRequest(t)}},{key:"getConfig",value:function(){return d.Utils.assign({},this._config,this._auth.getConfig())}},{key:"sendRequest",value:function(e){e.setContainerIdentifier(this.containerIdentifier),e.setContainerEnvironment(this.environment),e.setClientID(this._config.clientID);var t=this._auth.requestHandler(),n=this._auth.responseHandler();return u.Async.Promise.resolve(e).then(t).then((function(e){return e.send()})).then(n)}},{key:"toString",value:function(){return d.Utils.instanceToString("Container",this)}},{key:"containerIdentifier",get:function(){return this._containerIdentifier}},{key:"publicCloudDatabase",get:function(){return this._publicDatabase}},{key:"privateCloudDatabase",get:function(){return this._privateDatabase}},{key:"sharedCloudDatabase",get:function(){return this._sharedDatabase}},{key:"apnsEnvironment",get:function(){return this._apnsEnvironment}},{key:"environment",get:function(){return this._environment}},{key:"isRegisteredForNotifications",get:function(){return this._apnsManager.isContainerRegisteredForNotifications(this)}}]),e}();t.default=p},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=i(n(78)),o=i(n(79)),s=i(n(161)),l=i(n(91)),c=i(n(394)),u=i(n(84)),d=i(n(395)),h=i(n(397)),f=i(n(396)),p=i(n(399)),m=i(n(400)),g=i(n(401)),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),_=v.RecordsRequestOptions.forKeys("zoneID","numbersAsStrings","desiredKeys","zoneWide","resultsLimit","continuationMarker"),b=v.RecordsRequestOptions.forKeys("zoneID","desiredKeys","numbersAsStrings","assetPrivacyMaskType"),y=v.RecordsRequestOptions.forKeys("zoneID","numbersAsStrings","desiredKeys","desiredRecordTypes","resultsLimit","syncToken","reverse"),S=v.RecordsRequestOptions.forKeys("zoneID","desiredKeys","pluginFields","includeRecords","excludeRecords","shareName","archiveName"),I=v.RecordsRequestOptions.forKeys("sourceZoneID","targetZoneID","sourceShareName","targetRootName","includeRecords","excludeRecords"),w=v.RecordsRequestOptions.forKeys("jobID"),E=function(e){return{syncToken:e.syncToken}},C=(r={},(0,s.default)(r,u.default.PUBLIC,"public"),(0,s.default)(r,u.default.PRIVATE,"private"),(0,s.default)(r,u.default.SHARED,"shared"),r),A=function(){function e(t,n,i){(0,a.default)(this,e),this._container=t,this._partition=i,this._databaseScope=n}return(0,o.default)(e,[{key:"performQuery",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v.Log.info("CloudKit Database#performQuery",e,t),e.isQueryResponse){var n=e;return this.performQuery(n.query,v.Utils.assign(_(n),t))}var i=v.Utils.assign({query:e},_(t)),r=(new v.CKRequest).setApiEntityName("records").setApiActionName("query").setResponseClass(d.default).setPayload(i);return this.sendRequest(r)}},{key:"fetchRecords",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v.Log.info("CloudKit Database#fetchRecords",e,t);var n=v.RecordUtils.normalizeRecords(e).map(v.Utils.picker("recordName")),i=v.Utils.assign({records:n},b(t)),r=(new v.CKRequest).setApiEntityName("records").setApiActionName("lookup").setResponseClass(f.default).setPayload(i);return this.sendRequest(r)}},{key:"saveRecords",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v.Log.info("CloudKit Database#saveRecords",e,t),this.newRecordsBatch(t).createOrUpdate(e).commit()}},{key:"deleteRecords",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v.Log.info("CloudKit Database#deleteRecords",e,t),this.newRecordsBatch(t).forceDelete(e).commit()}},{key:"newRecordsBatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new h.default(this,e)}},{key:"commitRecordsBatchBuilder",value:function(e,t){var n=this;return v.AssetUploadHelper.handleAssetsInBatchBeforeCommit(e).then((function(){var t=(new v.CKRequest).setApiEntityName("records").setApiActionName("modify").setResponseClass(f.default).setPayload(e.build());return n.sendRequest(t)}))}},{key:"assetRereference",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;v.Log.info("Database#assetRereference");var i={assets:v.AssetUtils.normalizeAssetRereferenceArray(e),zoneID:v.RecordUtils.normalizeZone(t).zoneID};n&&(i.targetZoneID=v.RecordUtils.normalizeZone(n).zoneID);var r=(new v.CKRequest).setApiEntityName("assets").setApiActionName("rereference").setResponseClass(v.AssetRereferenceResponse).setPayload(i);return this.sendRequest(r)}},{key:"fetchAllRecordZones",value:function(){v.Log.info("Database#fetchAllRecordZones");var e=(new v.CKRequest).setApiEntityName("zones").setApiActionName("list").setResponseClass(m.default);return this.sendRequest(e)}},{key:"fetchRecordZones",value:function(e){v.Log.info("Database#fetchRecordZones",e);var t=v.RecordUtils.normalizeZones(e).map((function(e){return e.zoneID})),n=(new v.CKRequest).setApiEntityName("zones").setApiActionName("lookup").setPayload({zones:t}).setResponseClass(m.default);return this.sendRequest(n)}},{key:"saveRecordZones",value:function(e){return v.Log.info("Database#saveRecordZones",e),this.newRecordZonesBatch().create(e).commit()}},{key:"deleteRecordZones",value:function(e){return v.Log.info("Database#deleteRecordZones",e),this.newRecordZonesBatch().delete(e).commit()}},{key:"newRecordZonesBatch",value:function(){return new v.RecordZonesBatchBuilder(this)}},{key:"commitRecordZoneBatchBuilder",value:function(e){var t=(new v.CKRequest).setApiEntityName("zones").setApiActionName("modify").setPayload(e.build()).setResponseClass(m.default);return this.sendRequest(t)}},{key:"fetchAllSubscriptions",value:function(){v.Log.info("Database#fetchAllSubscriptions");var e=(new v.CKRequest).setApiEntityName("subscriptions").setApiActionName("list").setResponseClass(g.default);return this.sendRequest(e)}},{key:"fetchSubscriptions",value:function(e){v.Log.info("Database#fetchSubscriptions",e),e=v.Utils.asArray(e).map((function(e){return v.Utils.isString(e)?{subscriptionID:e}:e}));var t=(new v.CKRequest).setApiEntityName("subscriptions").setApiActionName("lookup").setPayload({subscriptions:e}).setResponseClass(g.default);return this.sendRequest(t)}},{key:"deleteSubscriptions",value:function(e){return v.Log.info("Database#deleteSubscriptions",e),this.newSubscriptionsBatch().delete(e).commit()}},{key:"saveSubscriptions",value:function(e){return v.Log.info("Database#saveSubscriptions",e),this.newSubscriptionsBatch().create(e).commit()}},{key:"newSubscriptionsBatch",value:function(){return new v.SubscriptionsBatchBuilder(this)}},{key:"commitSubscriptionsBatchBuilder",value:function(e){var t=(new v.CKRequest).setApiEntityName("subscriptions").setApiActionName("modify").setPayload(e.build()).setResponseClass(g.default);return this.sendRequest(t)}},{key:"sendRequest",value:function(e){return v.Utils.isNullOrUndefined(this._partition)||e.setHost(this._partition),e.setDatabaseName(C[this.databaseScope]),e.setApiModuleName("database"),this._container.sendRequest(e)}},{key:"toString",value:function(){return"[Database (containerIdentifier: "+this.containerIdentifier+", scope: "+this.databaseScope+")]"}},{key:"shareWithUI",value:function(e){var t=this.databaseScope,n=this._container.getConfig();return v.SharingFlow.run(v.Utils.assign({},e,{databaseScope:t,containerConfiguration:n}))}},{key:"fetchDatabaseChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0;n=e.isDatabaseChangesResponse?v.Utils.assign({},E(e),t):E(e);var i=(new v.CKRequest).setApiEntityName("changes").setApiActionName("database").setPayload(n).setResponseClass(c.default);return this.sendRequest(i)}},{key:"fetchRecordZoneChanges",value:function(e){var t=v.Utils.asArray(e).map(y),n=(new v.CKRequest).setApiEntityName("changes").setApiActionName("zone").setPayload({zones:t}).setResponseClass(p.default);return this.sendRequest(n)}},{key:"prepareZipDownload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v.Log.info("CloudKit Database#prepareZipDownload",e);var t=v.Utils.assign({},S(e)),n=(new v.CKRequest).setApiEntityName("records").setApiActionName("zip/prepare").setResponseClass(v.ZipDownloadResponse).setPayload(t);return this.sendRequest(n)}},{key:"startAssetCopierJob",value:function(e){v.Log.info("CloudKit Database#startAssetCopierJob",e);var t=(new v.CKRequest).setApiEntityName("records").setApiActionName("copy/start").setResponseClass(v.AssetCopierJobStartResponse).setPayload(I(e));if(e.includeRecords&&e.excludeRecords||!e.includeRecords&&!e.excludeRecords)throw l.default.makeInvalidArguments("Request to StartAssetCopierJob can not simultaneously include or exlude both fields for `includeRecords` and `excludeRecords`");return this.sendRequest(t)}},{key:"checkAssetCopierJobStatus",value:function(e){v.Log.info("CloudKit Database#checkAssetCopierJobStatus",e);var t=(new v.CKRequest).setApiEntityName("records").setApiActionName("copy/status").setResponseClass(v.AssetCopierJobStatusResponse).setPayload(w(e));return this.sendRequest(t)}},{key:"containerIdentifier",get:function(){return this._container.containerIdentifier}},{key:"databaseScope",get:function(){return this._databaseScope}}]),e}();t.default=A},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(100)),a=i(n(78)),o=i(n(79)),s=i(n(104)),l=i(n(120)),c=function(e){function t(e,n){(0,a.default)(this,t);var i=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,"zones"));return i._moreComing=n.body.moreComing,i._syncToken=n.body.syncToken,i}return(0,l.default)(t,e),(0,o.default)(t,[{key:"zones",get:function(){return this._results}},{key:"moreComing",get:function(){return this._moreComing}},{key:"syncToken",get:function(){return this._syncToken}},{key:"resultsLimit",get:function(){return this.request.getPayload().resultsLimit}},{key:"isDatabaseChangesResponse",get:function(){return!0}}]),t}(i(n(141)).default);t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(100)),a=i(n(78)),o=i(n(79)),s=i(n(104)),l=i(n(120)),c=i(n(396)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),d=function(e){function t(e,n){(0,a.default)(this,t);var i=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return i._continuationMarker=n.body.continuationMarker,i}return(0,l.default)(t,e),(0,o.default)(t,[{key:"toString",value:function(){return u.Utils.instanceToString("QueryResponse",this)}},{key:"continuationMarker",get:function(){return this._continuationMarker}},{key:"moreComing",get:function(){return!u.Utils.isNullOrUndefined(this.continuationMarker)}},{key:"query",get:function(){return this.request.getPayload().query}},{key:"zoneID",get:function(){return this.request.getPayload().zoneID}},{key:"zoneWide",get:function(){return Boolean(this.request.getPayload().zoneWide)}},{key:"resultsLimit",get:function(){return this.request.getPayload().resultsLimit}},{key:"desiredKeys",get:function(){return this.request.getPayload().desiredKeys}},{key:"isQueryResponse",get:function(){return!0}}]),t}(c.default);t.default=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(100)),a=i(n(78)),o=i(n(79)),s=i(n(104)),l=i(n(120)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),u=function(e){function t(e,n){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,"records"))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"toString",value:function(){return c.Utils.instanceToString("RecordsResponse",this)}},{key:"records",get:function(){return this._results}},{key:"numbersAsStrings",get:function(){return Boolean(this.request.getPayload().numbersAsStrings)}},{key:"isRecordsResponse",get:function(){return!0}}]),t}(i(n(141)).default);t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return function(e){return e===v||e===_}(e)?d.Utils.assign({},t,{fields:void 0}):t}function a(e){return e.recordType===u.default.NAME&&(d.Utils.isNullOrUndefined(e.forRecord)||(e.forRecord=d.Utils.pick(e.forRecord,["recordName","recordChangeTag"]))),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(153)),s=i(n(78)),l=i(n(79)),c=i(n(91)),u=i(n(398)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),h="create",f="update",p="forceUpdate",m="replace",g="forceReplace",v="delete",_="forceDelete",b=d.RecordsRequestOptions.forKeys("zoneID","desiredKeys","numbersAsStrings","atomic","onAssetUploadStart"),y=d.RecordsRequestOptions.forKeys("desiredKeys","numbersAsStrings"),S=d.Utils.makeObjectHasValuesForKeysPredicate({recordChangeTag:!1,recordType:!0}),I=d.Utils.makeObjectHasValuesForKeysPredicate({recordChangeTag:!0,recordName:!0}),w=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.default)(this,e),this._database=t,this._operations=[],this._options=b(n)}return(0,l.default)(e,[{key:"_pushOperations",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=y(i);return d.RecordUtils.normalizeRecords(t).map((function(t){return r(e,t)})).map(a).map((function(t){return d.Utils.assign({operationType:e,record:t},o)})).forEach((function(e){return n._operations.push(e)})),this}},{key:"createOrUpdate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.Log.info("RecordsBatchBuilder#createOrUpdate",e,n),d.RecordUtils.normalizeRecords(e).forEach((function(e){if(S(e))t.create(e,n);else{if(!I(e))throw c.default.makeInvalidArguments("Cannot create or update record:"+(0,o.default)(e));t.update(e,n)}})),this}},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.Log.info("RecordsBatchBuilder#create",e,t),this._pushOperations(h,e,t)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.Log.info("RecordsBatchBuilder#update",e,t),this._pushOperations(f,e,t)}},{key:"forceUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.Log.info("RecordsBatchBuilder#forceUpdate",e,t),this._pushOperations(p,e,t)}},{key:"replace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.Log.info("RecordsBatchBuilder#replace",e,t),this._pushOperations(m,e,t)}},{key:"forceReplace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.Log.info("RecordsBatchBuilder#forceReplace",e,t),this._pushOperations(g,e,t)}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.Log.info("RecordsBatchBuilder#delete",e,t),this._pushOperations(v,e,t)}},{key:"forceDelete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.Log.info("RecordsBatchBuilder#forceDelete",e,t),this._pushOperations(_,e,t)}},{key:"commit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.Log.info("RecordsBatchBuilder#commit"),this._database.commitRecordsBatchBuilder(this,e)}},{key:"build",value:function(){return d.Utils.assign({operations:this._operations},this._options)}},{key:"_notifyAssetUploadStart",value:function(e,t){this._options.onAssetUploadStart&&this._options.onAssetUploadStart(e,t)}},{key:"zoneID",get:function(){return this._options.zoneID}},{key:"options",get:function(){return this._options}}]),e}();t.default=w},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={NAME:"cloudkit.share",THUMBNAIL_IMAGE_DATA_FIELD_NAME:"cloudkit.thumbnailImageData",TITLE_FIELD_NAME:"cloudkit.title",TYPE_FIELD_NAME:"cloudkit.type"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(100)),a=i(n(78)),o=i(n(79)),s=i(n(104)),l=i(n(120)),c=function(e){function t(e,n){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,"zones"))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"zones",get:function(){return this._results}},{key:"isRecordZoneChangesResponse",get:function(){return!0}}]),t}(i(n(141)).default);t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(100)),a=i(n(78)),o=i(n(79)),s=i(n(104)),l=i(n(120)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),u=function(e){function t(e,n){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,"zones"))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"toString",value:function(){return c.Utils.instanceToString("RecordZonesResponse",this)}},{key:"zones",get:function(){return this._results}},{key:"isRecordZonesResponse",get:function(){return!0}}]),t}(i(n(141)).default);t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(100)),a=i(n(78)),o=i(n(79)),s=i(n(104)),l=i(n(120)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),u=function(e){function t(e,n){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,"subscriptions"))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"toString",value:function(){return c.Utils.instanceToString("SubscriptionsResponse",this)}},{key:"subscriptions",get:function(){return this._results}},{key:"isSubscriptionsResponse",get:function(){return!0}}]),t}(i(n(141)).default);t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(100)),a=i(n(78)),o=i(n(79)),s=i(n(104)),l=i(n(120)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),u=function(e){function t(e,n){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,"results"))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"toString",value:function(){return c.Utils.instanceToString("RecordInfosResponse",this)}},{key:"results",get:function(){return this._results}},{key:"isRecordInfosResponse",get:function(){return!0}}]),t}(i(n(141)).default);t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(100)),a=i(n(78)),o=i(n(79)),s=i(n(104)),l=i(n(120)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(121)),u=function(e){function t(e,n){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,"users"))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"toString",value:function(){return c.Utils.instanceToString("UserIdentitiesResponse",this)}},{key:"users",get:function(){return this._results}},{key:"isUserIdentitiesResponse",get:function(){return!0}}]),t}(i(n(141)).default);t.default=u}])},function(e,t,n){"use strict";(function(e){!function(e,t){e.IntlPolyfill=t()}(e,(function(){var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e){this.value=e}function t(t){var n,i;function r(n,i){try{var o=t[n](i),s=o.value;s instanceof e?Promise.resolve(s.value).then((function(e){r("next",e)}),(function(e){r("throw",e)})):a(o.done?"return":"normal",o.value)}catch(l){a("throw",l)}}function a(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?r(n.key,n.arg):i=null}this._invoke=function(e,t){return new Promise((function(a,o){var s={key:e,arg:t,resolve:a,reject:o,next:null};i?i=i.next=s:(n=i=s,r(e,t))}))},"function"!==typeof t.return&&(this.return=void 0)}return"function"===typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o="undefined"===typeof e?self:e,s=Object.freeze({asyncIterator:function(e){if("function"===typeof Symbol){if(Symbol.asyncIterator){var t=e[Symbol.asyncIterator];if(null!=t)return t.call(e)}if(Symbol.iterator)return e[Symbol.iterator]()}throw new TypeError("Object is not async iterable")},asyncGenerator:n,asyncGeneratorDelegate:function(e,t){var n={},i=!1;function r(n,r){return i=!0,r=new Promise((function(t){t(e[n](r))})),{done:!1,value:t(r)}}return"function"===typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return this}),n.next=function(e){return i?(i=!1,e):r("next",e)},"function"===typeof e.throw&&(n.throw=function(e){if(i)throw i=!1,e;return r("throw",e)}),"function"===typeof e.return&&(n.return=function(e){return r("return",e)}),n},asyncToGenerator:function(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function i(r,a){try{var o=t[r](a),s=o.value}catch(l){return void n(l)}if(!o.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(s)}("next")}))}},classCallCheck:function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass:i,defineEnumerableProperties:function(e,t){for(var n in t){var i=t[n];i.configurable=i.enumerable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n,i)}return e},defaults:function(e,t){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var r=n[i],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}return e},defineProperty:r,get:function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},inherits:function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},interopRequireDefault:function(e){return e&&e.__esModule?e:{default:e}},interopRequireWildcard:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},newArrowCheck:function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")},objectDestructuringEmpty:function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},objectWithoutProperties:function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},possibleConstructorReturn:function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},selfGlobal:o,set:function e(t,n,i,r){var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);null!==o&&e(o,n,i,r)}else if("value"in a&&a.writable)a.value=i;else{var s=a.set;void 0!==s&&s.call(r,i)}return i},slicedToArray:function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){r=!0,a=l}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},slicedToArrayLoose:function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var n,i=[],r=e[Symbol.iterator]();!(n=r.next()).done&&(i.push(n.value),!t||i.length!==t););return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")},taggedTemplateLiteral:function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},taggedTemplateLiteralLoose:function(e,t){return e.raw=t,e},temporalRef:function(e,t,n){if(e===n)throw new ReferenceError(t+" is not defined - temporal dead zone");return e},temporalUndefined:{},toArray:function(e){return Array.isArray(e)?e:Array.from(e)},toConsumableArray:function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},typeof:t,extends:a,instanceof:function(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}}),l=function(){var e=function(){};try{return Object.defineProperty(e,"a",{get:function(){return 1}}),Object.defineProperty(e,"prototype",{writable:!1}),1===e.a&&e.prototype instanceof Object}catch(t){return!1}}(),c=!l&&!Object.prototype.__defineGetter__,u=Object.prototype.hasOwnProperty,d=l?Object.defineProperty:function(e,t,n){"get"in n&&e.__defineGetter__?e.__defineGetter__(t,n.get):(!u.call(e,t)||"value"in n)&&(e[t]=n.value)},h=Array.prototype.indexOf||function(e){var t=this;if(!t.length)return-1;for(var n=arguments[1]||0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},f=Object.create||function(e,t){var n;function i(){}for(var r in i.prototype=e,n=new i,t)u.call(t,r)&&d(n,r,t[r]);return n},p=Array.prototype.slice,m=Array.prototype.concat,g=Array.prototype.push,v=Array.prototype.join,_=Array.prototype.shift,b=Function.prototype.bind||function(e){var t=this,n=p.call(arguments,1);return t.length,function(){return t.apply(e,m.call(n,p.call(arguments)))}},y=f(null),S=Math.random();function I(e){for(var t in e)(e instanceof I||u.call(e,t))&&d(this,t,{value:e[t],enumerable:!0,writable:!0,configurable:!0})}function w(){d(this,"length",{writable:!0,value:0}),arguments.length&&g.apply(this,p.call(arguments))}function E(){if(y.disableRegExpRestore)return function(){};for(var e={lastMatch:RegExp.lastMatch||"",leftContext:RegExp.leftContext,multiline:RegExp.multiline,input:RegExp.input},t=!1,n=1;n<=9;n++)t=(e["$"+n]=RegExp["$"+n])||t;return function(){var n=/[.?*+^$[\]\\(){}|-]/g,i=e.lastMatch.replace(n,"\\$&"),r="";if(t)for(var a=1;a<=9;a++){var o=e["$"+a];o?(o=o.replace(n,"\\$&"),r+=i.substring(0,i.indexOf(o))+"(",i=o+")"+i.substring(i.indexOf(o)+o.length)):(r+="(",i=")"+i)}r=(r+=i).replace(/((^|[^\\])((\\\\)*\\[()])+|[^()])+/g,(function(e){return"[\\s\\S]{"+e.replace(/\\(.)/g,"$1").length+"}"}));var s=new RegExp(r,e.multiline?"gm":"g");s.lastIndex=e.leftContext.length,s.exec(e.input)}}function C(e){if(null===e)throw new TypeError("Cannot convert null or undefined to object");return"object"===("undefined"===typeof e?"undefined":s.typeof(e))?e:Object(e)}function A(e){return"number"===typeof e?e:Number(e)}function T(e){return u.call(e,"__getInternalProperties")?e.__getInternalProperties(S):f(null)}I.prototype=f(null),w.prototype=f(null);var O=RegExp("^(?:(?:[a-z]{2,3}(?:-[a-z]{3}(?:-[a-z]{3}){0,2})?|[a-z]{4}|[a-z]{5,8})(?:-[a-z]{4})?(?:-(?:[a-z]{2}|\\d{3}))?(?:-(?:[a-z0-9]{5,8}|\\d[a-z0-9]{3}))*(?:-[0-9a-wy-z](?:-[a-z0-9]{2,8})+)*(?:-x(?:-[a-z0-9]{1,8})+)?|x(?:-[a-z0-9]{1,8})+|(?:(?:en-GB-oed|i-(?:ami|bnn|default|enochian|hak|klingon|lux|mingo|navajo|pwn|tao|tay|tsu)|sgn-(?:BE-FR|BE-NL|CH-DE))|(?:art-lojban|cel-gaulish|no-bok|no-nyn|zh-(?:guoyu|hakka|min|min-nan|xiang))))$","i"),D=RegExp("^(?!x).*?-((?:[a-z0-9]{5,8}|\\d[a-z0-9]{3}))-(?:\\w{4,8}-(?!x-))*\\1\\b","i"),M=RegExp("^(?!x).*?-([0-9a-wy-z])-(?:\\w+-(?!x-))*\\1\\b","i"),N=RegExp("-[0-9a-wy-z](?:-[a-z0-9]{2,8})+","ig"),F=void 0,L={tags:{"art-lojban":"jbo","i-ami":"ami","i-bnn":"bnn","i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","no-bok":"nb","no-nyn":"nn","sgn-BE-FR":"sfb","sgn-BE-NL":"vgt","sgn-CH-DE":"sgg","zh-guoyu":"cmn","zh-hakka":"hak","zh-min-nan":"nan","zh-xiang":"hsn","sgn-BR":"bzs","sgn-CO":"csn","sgn-DE":"gsg","sgn-DK":"dsl","sgn-ES":"ssp","sgn-FR":"fsl","sgn-GB":"bfi","sgn-GR":"gss","sgn-IE":"isg","sgn-IT":"ise","sgn-JP":"jsl","sgn-MX":"mfs","sgn-NI":"ncs","sgn-NL":"dse","sgn-NO":"nsl","sgn-PT":"psr","sgn-SE":"swl","sgn-US":"ase","sgn-ZA":"sfs","zh-cmn":"cmn","zh-cmn-Hans":"cmn-Hans","zh-cmn-Hant":"cmn-Hant","zh-gan":"gan","zh-wuu":"wuu","zh-yue":"yue"},subtags:{BU:"MM",DD:"DE",FX:"FR",TP:"TL",YD:"YE",ZR:"CD",heploc:"alalc97",in:"id",iw:"he",ji:"yi",jw:"jv",mo:"ro",ayx:"nun",bjd:"drl",ccq:"rki",cjr:"mom",cka:"cmr",cmk:"xch",drh:"khk",drw:"prs",gav:"dev",hrr:"jal",ibi:"opa",kgh:"kml",lcq:"ppr",mst:"mry",myt:"mry",sca:"hle",tie:"ras",tkk:"twm",tlw:"weo",tnf:"prs",ybd:"rki",yma:"lrr"},extLang:{aao:["aao","ar"],abh:["abh","ar"],abv:["abv","ar"],acm:["acm","ar"],acq:["acq","ar"],acw:["acw","ar"],acx:["acx","ar"],acy:["acy","ar"],adf:["adf","ar"],ads:["ads","sgn"],aeb:["aeb","ar"],aec:["aec","ar"],aed:["aed","sgn"],aen:["aen","sgn"],afb:["afb","ar"],afg:["afg","sgn"],ajp:["ajp","ar"],apc:["apc","ar"],apd:["apd","ar"],arb:["arb","ar"],arq:["arq","ar"],ars:["ars","ar"],ary:["ary","ar"],arz:["arz","ar"],ase:["ase","sgn"],asf:["asf","sgn"],asp:["asp","sgn"],asq:["asq","sgn"],asw:["asw","sgn"],auz:["auz","ar"],avl:["avl","ar"],ayh:["ayh","ar"],ayl:["ayl","ar"],ayn:["ayn","ar"],ayp:["ayp","ar"],bbz:["bbz","ar"],bfi:["bfi","sgn"],bfk:["bfk","sgn"],bjn:["bjn","ms"],bog:["bog","sgn"],bqn:["bqn","sgn"],bqy:["bqy","sgn"],btj:["btj","ms"],bve:["bve","ms"],bvl:["bvl","sgn"],bvu:["bvu","ms"],bzs:["bzs","sgn"],cdo:["cdo","zh"],cds:["cds","sgn"],cjy:["cjy","zh"],cmn:["cmn","zh"],coa:["coa","ms"],cpx:["cpx","zh"],csc:["csc","sgn"],csd:["csd","sgn"],cse:["cse","sgn"],csf:["csf","sgn"],csg:["csg","sgn"],csl:["csl","sgn"],csn:["csn","sgn"],csq:["csq","sgn"],csr:["csr","sgn"],czh:["czh","zh"],czo:["czo","zh"],doq:["doq","sgn"],dse:["dse","sgn"],dsl:["dsl","sgn"],dup:["dup","ms"],ecs:["ecs","sgn"],esl:["esl","sgn"],esn:["esn","sgn"],eso:["eso","sgn"],eth:["eth","sgn"],fcs:["fcs","sgn"],fse:["fse","sgn"],fsl:["fsl","sgn"],fss:["fss","sgn"],gan:["gan","zh"],gds:["gds","sgn"],gom:["gom","kok"],gse:["gse","sgn"],gsg:["gsg","sgn"],gsm:["gsm","sgn"],gss:["gss","sgn"],gus:["gus","sgn"],hab:["hab","sgn"],haf:["haf","sgn"],hak:["hak","zh"],hds:["hds","sgn"],hji:["hji","ms"],hks:["hks","sgn"],hos:["hos","sgn"],hps:["hps","sgn"],hsh:["hsh","sgn"],hsl:["hsl","sgn"],hsn:["hsn","zh"],icl:["icl","sgn"],ils:["ils","sgn"],inl:["inl","sgn"],ins:["ins","sgn"],ise:["ise","sgn"],isg:["isg","sgn"],isr:["isr","sgn"],jak:["jak","ms"],jax:["jax","ms"],jcs:["jcs","sgn"],jhs:["jhs","sgn"],jls:["jls","sgn"],jos:["jos","sgn"],jsl:["jsl","sgn"],jus:["jus","sgn"],kgi:["kgi","sgn"],knn:["knn","kok"],kvb:["kvb","ms"],kvk:["kvk","sgn"],kvr:["kvr","ms"],kxd:["kxd","ms"],lbs:["lbs","sgn"],lce:["lce","ms"],lcf:["lcf","ms"],liw:["liw","ms"],lls:["lls","sgn"],lsg:["lsg","sgn"],lsl:["lsl","sgn"],lso:["lso","sgn"],lsp:["lsp","sgn"],lst:["lst","sgn"],lsy:["lsy","sgn"],ltg:["ltg","lv"],lvs:["lvs","lv"],lzh:["lzh","zh"],max:["max","ms"],mdl:["mdl","sgn"],meo:["meo","ms"],mfa:["mfa","ms"],mfb:["mfb","ms"],mfs:["mfs","sgn"],min:["min","ms"],mnp:["mnp","zh"],mqg:["mqg","ms"],mre:["mre","sgn"],msd:["msd","sgn"],msi:["msi","ms"],msr:["msr","sgn"],mui:["mui","ms"],mzc:["mzc","sgn"],mzg:["mzg","sgn"],mzy:["mzy","sgn"],nan:["nan","zh"],nbs:["nbs","sgn"],ncs:["ncs","sgn"],nsi:["nsi","sgn"],nsl:["nsl","sgn"],nsp:["nsp","sgn"],nsr:["nsr","sgn"],nzs:["nzs","sgn"],okl:["okl","sgn"],orn:["orn","ms"],ors:["ors","ms"],pel:["pel","ms"],pga:["pga","ar"],pks:["pks","sgn"],prl:["prl","sgn"],prz:["prz","sgn"],psc:["psc","sgn"],psd:["psd","sgn"],pse:["pse","ms"],psg:["psg","sgn"],psl:["psl","sgn"],pso:["pso","sgn"],psp:["psp","sgn"],psr:["psr","sgn"],pys:["pys","sgn"],rms:["rms","sgn"],rsi:["rsi","sgn"],rsl:["rsl","sgn"],sdl:["sdl","sgn"],sfb:["sfb","sgn"],sfs:["sfs","sgn"],sgg:["sgg","sgn"],sgx:["sgx","sgn"],shu:["shu","ar"],slf:["slf","sgn"],sls:["sls","sgn"],sqk:["sqk","sgn"],sqs:["sqs","sgn"],ssh:["ssh","ar"],ssp:["ssp","sgn"],ssr:["ssr","sgn"],svk:["svk","sgn"],swc:["swc","sw"],swh:["swh","sw"],swl:["swl","sgn"],syy:["syy","sgn"],tmw:["tmw","ms"],tse:["tse","sgn"],tsm:["tsm","sgn"],tsq:["tsq","sgn"],tss:["tss","sgn"],tsy:["tsy","sgn"],tza:["tza","sgn"],ugn:["ugn","sgn"],ugy:["ugy","sgn"],ukl:["ukl","sgn"],uks:["uks","sgn"],urk:["urk","ms"],uzn:["uzn","uz"],uzs:["uzs","uz"],vgt:["vgt","sgn"],vkk:["vkk","ms"],vkt:["vkt","ms"],vsi:["vsi","sgn"],vsl:["vsl","sgn"],vsv:["vsv","sgn"],wuu:["wuu","zh"],xki:["xki","sgn"],xml:["xml","sgn"],xmm:["xmm","ms"],xms:["xms","sgn"],yds:["yds","sgn"],ysl:["ysl","sgn"],yue:["yue","zh"],zib:["zib","sgn"],zlm:["zlm","ms"],zmi:["zmi","ms"],zsl:["zsl","sgn"],zsm:["zsm","ms"]}};function R(e){for(var t=e.length;t--;){var n=e.charAt(t);n>="a"&&n<="z"&&(e=e.slice(0,t)+n.toUpperCase()+e.slice(t+1))}return e}function x(e){return!!O.test(e)&&!D.test(e)&&!M.test(e)}function P(e){for(var t=void 0,n=void 0,i=1,r=(n=(e=e.toLowerCase()).split("-")).length;i<r;i++)if(2===n[i].length)n[i]=n[i].toUpperCase();else if(4===n[i].length)n[i]=n[i].charAt(0).toUpperCase()+n[i].slice(1);else if(1===n[i].length&&"x"!==n[i])break;(t=(e=v.call(n,"-")).match(N))&&t.length>1&&(t.sort(),e=e.replace(RegExp("(?:"+N.source+")+","i"),v.call(t,""))),u.call(L.tags,e)&&(e=L.tags[e]);for(var a=1,o=(n=e.split("-")).length;a<o;a++)u.call(L.subtags,n[a])?n[a]=L.subtags[n[a]]:u.call(L.extLang,n[a])&&(n[a]=L.extLang[n[a]][0],1===a&&L.extLang[n[1]][1]===n[0]&&(n=p.call(n,a++),o-=1));return v.call(n,"-")}var k=/^[A-Z]{3}$/,U=/-u(?:-[0-9a-z]{2,8})+/gi;function j(e){if(void 0===e)return new w;for(var t=new w,n=C(e="string"===typeof e?[e]:e),i=function(e){var t=function(e){var t=A(e);return isNaN(t)?0:0===t||-0===t||t===1/0||t===-1/0?t:t<0?-1*Math.floor(Math.abs(t)):Math.floor(Math.abs(t))}(e);return t<=0?0:t===1/0?Math.pow(2,53)-1:Math.min(t,Math.pow(2,53)-1)}(n.length),r=0;r<i;){var a=String(r);if(a in n){var o=n[a];if(null===o||"string"!==typeof o&&"object"!==("undefined"===typeof o?"undefined":s.typeof(o)))throw new TypeError("String or Object type expected");var l=String(o);if(!x(l))throw new RangeError("'"+l+"' is not a structurally valid language tag");l=P(l),-1===h.call(t,l)&&g.call(t,l)}r++}return t}function B(e,t){for(var n=t;n;){if(h.call(e,n)>-1)return n;var i=n.lastIndexOf("-");if(i<0)return;i>=2&&"-"===n.charAt(i-2)&&(i-=2),n=n.substring(0,i)}}function V(e,t){for(var n=0,i=t.length,r=void 0,a=void 0,o=void 0;n<i&&!r;)a=t[n],r=B(e,o=String(a).replace(U,"")),n++;var s=new I;if(void 0!==r){if(s["[[locale]]"]=r,String(a)!==String(o)){var l=a.match(U)[0],c=a.indexOf("-u-");s["[[extension]]"]=l,s["[[extensionIndex]]"]=c}}else s["[[locale]]"]=F;return s}function $(e,t,n,i,r){if(0===e.length)throw new ReferenceError("No locale data has been provided for this object yet.");var a,o=(a="lookup"===n["[[localeMatcher]]"]?V(e,t):function(e,t){return V(e,t)}(e,t))["[[locale]]"],s=void 0,l=void 0;u.call(a,"[[extension]]")&&(l=(s=function(e){var t=e.length;if(0===t)return[];for(var n=[],i=!0,r=3,a=r,o=r;r<t;){if(45===e.codePointAt(r)){if(r-a===2){if(a-o>1){var s=e.substring(o,a-1);n.push(s)}var l=e.substring(a,r);n.push(l),o=r+1,i=!1}else if(!0===i){var c=e.substring(a,r);n.push(c),o=r+1}a=r+1}r+=1}if(t-a===2){if(a-o>1){var u=e.substring(o,a-1);n.push(u)}o=a}var d=e.substring(o,t);return n.push(d),n}(a["[[extension]]"])).length);var c=new I;c["[[dataLocale]]"]=o;for(var d="-u",f=0,p=i.length;f<p;){var m=i[f],g=r[o][m],v=g[0],_="",b=h;if(void 0!==s){var y=b.call(s,m);if(-1!==y)if(y+1<l&&s[y+1].length>2){var S=s[y+1];-1!==b.call(g,S)&&(_="-"+m+"-"+(v=S))}else-1!==b(g,"true")&&(v="true")}if(u.call(n,"[["+m+"]]")){var w=n["[["+m+"]]"];-1!==b.call(g,w)&&w!==v&&(v=w,_="")}c["[["+m+"]]"]=v,d+=_,f++}if(d.length>2){var E=o.indexOf("-x-");if(-1===E)o+=d;else{var C=o.substring(0,E),A=o.substring(E);o=C+d+A}o=P(o)}return c["[[locale]]"]=o,c}function W(e,t){for(var n=t.length,i=new w,r=0;r<n;){var a=t[r];void 0!==B(e,String(a).replace(U,""))&&g.call(i,a),r++}return p.call(i)}function z(e,t,n){var i,r=void 0;if(void 0!==n&&void 0!==(r=(n=new I(C(n))).localeMatcher)&&"lookup"!==(r=String(r))&&"best fit"!==r)throw new RangeError('matcher should be "lookup" or "best fit"');for(var a in i=void 0===r||"best fit"===r?function(e,t){return W(e,t)}(e,t):W(e,t))u.call(i,a)&&d(i,a,{writable:!1,configurable:!1,value:i[a]});try{d(i,"length",{writable:!1})}catch(o){}return i}function G(e,t,n,i,r){var a=e[t];if(void 0!==a){if(a="boolean"===n?Boolean(a):"string"===n?String(a):a,void 0!==i&&-1===h.call(i,a))throw new RangeError("'"+a+"' is not an allowed value for `"+t+"`");return a}return r}function H(e,t,n,i,r){var a=e[t];if(void 0!==a){if(a=Number(a),isNaN(a)||a<n||a>i)throw new RangeError("Value is not a number or outside accepted range");return Math.floor(a)}return r}var K={};Object.defineProperty(K,"getCanonicalLocales",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=j(e),n=[],i=t.length,r=0;r<i;)n[r]=t[r],r++;return n}});var Q={BHD:3,BYR:0,XOF:0,BIF:0,XAF:0,CLF:4,CLP:0,KMF:0,DJF:0,XPF:0,GNF:0,ISK:0,IQD:3,JPY:0,JOD:3,KRW:0,KWD:3,LYD:3,OMR:3,PYG:0,RWF:0,TND:3,UGX:0,UYI:0,VUV:0,VND:0};function q(){var e=arguments[0],t=arguments[1];return this&&this!==K?X(C(this),e,t):new K.NumberFormat(e,t)}function Y(e,t,n){var i=H(t,"minimumIntegerDigits",1,21,1),r=H(t,"minimumFractionDigits",0,20,n),a=H(t,"maximumFractionDigits",r,20),o=t.minimumSignificantDigits,s=t.maximumSignificantDigits;e["[[minimumIntegerDigits]]"]=i,e["[[minimumFractionDigits]]"]=r,e["[[maximumFractionDigits]]"]=a,void 0===o&&void 0===s||(o=H(t,"minimumSignificantDigits",1,21,1),s=H(t,"maximumSignificantDigits",o,21,21),e["[[minimumSignificantDigits]]"]=o,e["[[maximumSignificantDigits]]"]=s)}function X(e,t,n){var i=T(e),r=E();if(!0===i["[[initializedIntlObject]]"])throw new TypeError("`this` object has already been initialized as an Intl object");d(e,"__getInternalProperties",{value:function(){if(arguments[0]===S)return i}}),i["[[initializedIntlObject]]"]=!0;var a=j(t);n=void 0===n?{}:C(n);var o=new I,s=G(n,"localeMatcher","string",new w("lookup","best fit"),"best fit");o["[[localeMatcher]]"]=s;var l=y.NumberFormat["[[localeData]]"],u=$(y.NumberFormat["[[availableLocales]]"],a,o,y.NumberFormat["[[relevantExtensionKeys]]"],l);i["[[locale]]"]=u["[[locale]]"],i["[[numberingSystem]]"]=u["[[nu]]"],i["[[dataLocale]]"]=u["[[dataLocale]]"];var h=u["[[dataLocale]]"],f=G(n,"style","string",new w("decimal","percent","currency"),"decimal");i["[[style]]"]=f;var p=G(n,"currency","string");if(void 0!==p&&!function(e){var t=R(String(e));return!1!==k.test(t)}(p))throw new RangeError("'"+p+"' is not a valid currency code");if("currency"===f&&void 0===p)throw new TypeError("Currency code is required when style is currency");var m,g=void 0;"currency"===f&&(p=p.toUpperCase(),i["[[currency]]"]=p,g=void 0!==Q[m=p]?Q[m]:2);var v=G(n,"currencyDisplay","string",new w("code","symbol","name"),"symbol");"currency"===f&&(i["[[currencyDisplay]]"]=v),Y(i,n,"currency"===f?g:0),void 0===i["[[maximumFractionDigits]]"]&&(i["[[maximumFractionDigits]]"]="currency"===f?Math.max(i["[[minimumFractionDigits]]"],g):"percent"===f?Math.max(i["[[minimumFractionDigits]]"],0):Math.max(i["[[minimumFractionDigits]]"],3));var _=G(n,"useGrouping","boolean",void 0,!0);i["[[useGrouping]]"]=_;var b=l[h].patterns[f];return i["[[positivePattern]]"]=b.positivePattern,i["[[negativePattern]]"]=b.negativePattern,i["[[boundFormat]]"]=void 0,i["[[initializedNumberFormat]]"]=!0,c&&(e.format=J.call(e)),r(),e}function J(){var e=null!==this&&"object"===s.typeof(this)&&T(this);if(!e||!e["[[initializedNumberFormat]]"])throw new TypeError("`this` value for format() is not an initialized Intl.NumberFormat object.");if(void 0===e["[[boundFormat]]"]){var t=b.call((function(e){return ne(this,Number(e))}),this);e["[[boundFormat]]"]=t}return e["[[boundFormat]]"]}function Z(e,t){for(var n=te(e,t),i=[],r=0,a=0;n.length>a;a++){var o=n[a],s={};s.type=o["[[type]]"],s.value=o["[[value]]"],i[r]=s,r+=1}return i}function ee(e,t){var n=T(e);return u.call(n,"[[minimumSignificantDigits]]")&&u.call(n,"[[maximumSignificantDigits]]")?function(e,t,n){var i=n,r=void 0,a=void 0;if(0===e)r=v.call(Array(i+1),"0"),a=0;else{a=function(e){if("function"===typeof Math.log10)return Math.floor(Math.log10(e));var t=Math.round(Math.log(e)*Math.LOG10E);return t-(Number("1e"+t)>e)}(Math.abs(e));var o=Math.round(Math.exp(Math.abs(a-i+1)*Math.LN10));r=String(Math.round(a-i+1<0?e*o:e/o))}if(a>=i)return r+v.call(Array(a-i+1+1),"0");if(a===i-1)return r;if(a>=0?r=r.slice(0,a+1)+"."+r.slice(a+1):a<0&&(r="0."+v.call(Array(1-(a+1)),"0")+r),r.indexOf(".")>=0&&n>t){for(var s=n-t;s>0&&"0"===r.charAt(r.length-1);)r=r.slice(0,-1),s--;"."===r.charAt(r.length-1)&&(r=r.slice(0,-1))}return r}(t,n["[[minimumSignificantDigits]]"],n["[[maximumSignificantDigits]]"]):function(e,t,n,i){var r,a=i,o=Math.pow(10,a)*e,s=0===o?"0":o.toFixed(0),l=(r=s.indexOf("e"))>-1?s.slice(r+1):0;l&&(s=s.slice(0,r).replace(".",""),s+=v.call(Array(l-(s.length-1)+1),"0"));var c=void 0;if(0!==a){var u=s.length;if(u<=a)s=v.call(Array(a+1-u+1),"0")+s,u=a+1;var d=s.substring(0,u-a),h=s.substring(u-a,s.length);s=d+"."+h,c=d.length}else c=s.length;for(var f=i-n;f>0&&"0"===s.slice(-1);)s=s.slice(0,-1),f--;("."===s.slice(-1)&&(s=s.slice(0,-1)),c<t)&&(s=v.call(Array(t-c+1),"0")+s);return s}(t,n["[[minimumIntegerDigits]]"],n["[[minimumFractionDigits]]"],n["[[maximumFractionDigits]]"])}function te(e,t){var n=T(e),i=n["[[dataLocale]]"],r=n["[[numberingSystem]]"],a=y.NumberFormat["[[localeData]]"][i],o=a.symbols[r]||a.symbols.latn,s=void 0;!isNaN(t)&&t<0?(t=-t,s=n["[[negativePattern]]"]):s=n["[[positivePattern]]"];for(var l=new w,c=s.indexOf("{",0),u=0,d=0,h=s.length;c>-1&&c<h;){if(-1===(u=s.indexOf("}",c)))throw new Error;if(c>d){var f=s.substring(d,c);g.call(l,{"[[type]]":"literal","[[value]]":f})}var p=s.substring(c+1,u);if("number"===p)if(isNaN(t)){var m=o.nan;g.call(l,{"[[type]]":"nan","[[value]]":m})}else if(isFinite(t)){"percent"===n["[[style]]"]&&(t*=100);var v=ee(e,t);ie[r]?function(){var e=ie[r];v=String(v).replace(/\d/g,(function(t){return e[t]}))}():v=String(v);var b=void 0,S=void 0,I=v.indexOf(".",0);if(I>0?(b=v.substring(0,I),S=v.substring(I+1,I.length)):(b=v,S=void 0),!0===n["[[useGrouping]]"]){var E=o.group,C=[],A=a.patterns.primaryGroupSize||3,O=a.patterns.secondaryGroupSize||A;if(b.length>A){var D=b.length-A,M=D%O,N=b.slice(0,M);for(N.length&&g.call(C,N);M<D;)g.call(C,b.slice(M,M+O)),M+=O;g.call(C,b.slice(D))}else g.call(C,b);if(0===C.length)throw new Error;for(;C.length;){var F=_.call(C);g.call(l,{"[[type]]":"integer","[[value]]":F}),C.length&&g.call(l,{"[[type]]":"group","[[value]]":E})}}else g.call(l,{"[[type]]":"integer","[[value]]":b});if(void 0!==S){var L=o.decimal;g.call(l,{"[[type]]":"decimal","[[value]]":L}),g.call(l,{"[[type]]":"fraction","[[value]]":S})}}else{var R=o.infinity;g.call(l,{"[[type]]":"infinity","[[value]]":R})}else if("plusSign"===p){var x=o.plusSign;g.call(l,{"[[type]]":"plusSign","[[value]]":x})}else if("minusSign"===p){var P=o.minusSign;g.call(l,{"[[type]]":"minusSign","[[value]]":P})}else if("percentSign"===p&&"percent"===n["[[style]]"]){var k=o.percentSign;g.call(l,{"[[type]]":"literal","[[value]]":k})}else if("currency"===p&&"currency"===n["[[style]]"]){var U=n["[[currency]]"],j=void 0;"code"===n["[[currencyDisplay]]"]?j=U:"symbol"===n["[[currencyDisplay]]"]?j=a.currencies[U]||U:"name"===n["[[currencyDisplay]]"]&&(j=U),g.call(l,{"[[type]]":"currency","[[value]]":j})}else{var B=s.substring(c,u);g.call(l,{"[[type]]":"literal","[[value]]":B})}d=u+1,c=s.indexOf("{",d)}if(d<h){var V=s.substring(d,h);g.call(l,{"[[type]]":"literal","[[value]]":V})}return l}function ne(e,t){for(var n=te(e,t),i="",r=0;n.length>r;r++)i+=n[r]["[[value]]"];return i}d(K,"NumberFormat",{configurable:!0,writable:!0,value:q}),d(K.NumberFormat,"prototype",{writable:!1}),y.NumberFormat={"[[availableLocales]]":[],"[[relevantExtensionKeys]]":["nu"],"[[localeData]]":{}},d(K.NumberFormat,"supportedLocalesOf",{configurable:!0,writable:!0,value:b.call((function(e){if(!u.call(this,"[[availableLocales]]"))throw new TypeError("supportedLocalesOf() is not a constructor");var t=E(),n=arguments[1],i=this["[[availableLocales]]"],r=j(e);return t(),z(i,r,n)}),y.NumberFormat)}),d(K.NumberFormat.prototype,"format",{configurable:!0,get:J}),Object.defineProperty(K.NumberFormat.prototype,"formatToParts",{configurable:!0,enumerable:!1,writable:!0,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=null!==this&&"object"===s.typeof(this)&&T(this);if(!t||!t["[[initializedNumberFormat]]"])throw new TypeError("`this` value for formatToParts() is not an initialized Intl.NumberFormat object.");var n=Number(e);return Z(this,n)}});var ie={arab:["\u0660","\u0661","\u0662","\u0663","\u0664","\u0665","\u0666","\u0667","\u0668","\u0669"],arabext:["\u06f0","\u06f1","\u06f2","\u06f3","\u06f4","\u06f5","\u06f6","\u06f7","\u06f8","\u06f9"],bali:["\u1b50","\u1b51","\u1b52","\u1b53","\u1b54","\u1b55","\u1b56","\u1b57","\u1b58","\u1b59"],beng:["\u09e6","\u09e7","\u09e8","\u09e9","\u09ea","\u09eb","\u09ec","\u09ed","\u09ee","\u09ef"],deva:["\u0966","\u0967","\u0968","\u0969","\u096a","\u096b","\u096c","\u096d","\u096e","\u096f"],fullwide:["\uff10","\uff11","\uff12","\uff13","\uff14","\uff15","\uff16","\uff17","\uff18","\uff19"],gujr:["\u0ae6","\u0ae7","\u0ae8","\u0ae9","\u0aea","\u0aeb","\u0aec","\u0aed","\u0aee","\u0aef"],guru:["\u0a66","\u0a67","\u0a68","\u0a69","\u0a6a","\u0a6b","\u0a6c","\u0a6d","\u0a6e","\u0a6f"],hanidec:["\u3007","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d"],khmr:["\u17e0","\u17e1","\u17e2","\u17e3","\u17e4","\u17e5","\u17e6","\u17e7","\u17e8","\u17e9"],knda:["\u0ce6","\u0ce7","\u0ce8","\u0ce9","\u0cea","\u0ceb","\u0cec","\u0ced","\u0cee","\u0cef"],laoo:["\u0ed0","\u0ed1","\u0ed2","\u0ed3","\u0ed4","\u0ed5","\u0ed6","\u0ed7","\u0ed8","\u0ed9"],latn:["0","1","2","3","4","5","6","7","8","9"],limb:["\u1946","\u1947","\u1948","\u1949","\u194a","\u194b","\u194c","\u194d","\u194e","\u194f"],mlym:["\u0d66","\u0d67","\u0d68","\u0d69","\u0d6a","\u0d6b","\u0d6c","\u0d6d","\u0d6e","\u0d6f"],mong:["\u1810","\u1811","\u1812","\u1813","\u1814","\u1815","\u1816","\u1817","\u1818","\u1819"],mymr:["\u1040","\u1041","\u1042","\u1043","\u1044","\u1045","\u1046","\u1047","\u1048","\u1049"],orya:["\u0b66","\u0b67","\u0b68","\u0b69","\u0b6a","\u0b6b","\u0b6c","\u0b6d","\u0b6e","\u0b6f"],tamldec:["\u0be6","\u0be7","\u0be8","\u0be9","\u0bea","\u0beb","\u0bec","\u0bed","\u0bee","\u0bef"],telu:["\u0c66","\u0c67","\u0c68","\u0c69","\u0c6a","\u0c6b","\u0c6c","\u0c6d","\u0c6e","\u0c6f"],thai:["\u0e50","\u0e51","\u0e52","\u0e53","\u0e54","\u0e55","\u0e56","\u0e57","\u0e58","\u0e59"],tibt:["\u0f20","\u0f21","\u0f22","\u0f23","\u0f24","\u0f25","\u0f26","\u0f27","\u0f28","\u0f29"]};d(K.NumberFormat.prototype,"resolvedOptions",{configurable:!0,writable:!0,value:function(){var e=void 0,t=new I,n=["locale","numberingSystem","style","currency","currencyDisplay","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","useGrouping"],i=null!==this&&"object"===s.typeof(this)&&T(this);if(!i||!i["[[initializedNumberFormat]]"])throw new TypeError("`this` value for resolvedOptions() is not an initialized Intl.NumberFormat object.");for(var r=0,a=n.length;r<a;r++)u.call(i,e="[["+n[r]+"]]")&&(t[n[r]]={value:i[e],writable:!0,configurable:!0,enumerable:!0});return f({},t)}});var re=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g,ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,oe=/[rqQASjJgwWIQq]/,se=["era","year","month","day","weekday","quarter"],le=["hour","minute","second","hour12","timeZoneName"];function ce(e){for(var t=0;t<le.length;t+=1)if(e.hasOwnProperty(le[t]))return!1;return!0}function ue(e){for(var t=0;t<se.length;t+=1)if(e.hasOwnProperty(se[t]))return!1;return!0}function de(e,t){for(var n={_:{}},i=0;i<se.length;i+=1)e[se[i]]&&(n[se[i]]=e[se[i]]),e._[se[i]]&&(n._[se[i]]=e._[se[i]]);for(var r=0;r<le.length;r+=1)t[le[r]]&&(n[le[r]]=t[le[r]]),t._[le[r]]&&(n._[le[r]]=t._[le[r]]);return n}function he(e){return e.pattern12=e.extendedPattern.replace(/'([^']*)'/g,(function(e,t){return t||"'"})),e.pattern=e.pattern12.replace("{ampm}","").replace(ae,""),e}function fe(e,t){switch(e.charAt(0)){case"G":return t.era=["short","short","short","long","narrow"][e.length-1],"{era}";case"y":case"Y":case"u":case"U":case"r":return t.year=2===e.length?"2-digit":"numeric","{year}";case"Q":case"q":return t.quarter=["numeric","2-digit","short","long","narrow"][e.length-1],"{quarter}";case"M":case"L":return t.month=["numeric","2-digit","short","long","narrow"][e.length-1],"{month}";case"w":return t.week=2===e.length?"2-digit":"numeric","{weekday}";case"W":return t.week="numeric","{weekday}";case"d":return t.day=2===e.length?"2-digit":"numeric","{day}";case"D":case"F":case"g":return t.day="numeric","{day}";case"E":return t.weekday=["short","short","short","long","narrow","short"][e.length-1],"{weekday}";case"e":return t.weekday=["numeric","2-digit","short","long","narrow","short"][e.length-1],"{weekday}";case"c":return t.weekday=["numeric",void 0,"short","long","narrow","short"][e.length-1],"{weekday}";case"a":case"b":case"B":return t.hour12=!0,"{ampm}";case"h":case"H":return t.hour=2===e.length?"2-digit":"numeric","{hour}";case"k":case"K":return t.hour12=!0,t.hour=2===e.length?"2-digit":"numeric","{hour}";case"m":return t.minute=2===e.length?"2-digit":"numeric","{minute}";case"s":return t.second=2===e.length?"2-digit":"numeric","{second}";case"S":case"A":return t.second="numeric","{second}";case"z":case"Z":case"O":case"v":case"V":case"X":case"x":return t.timeZoneName=e.length<4?"short":"long","{timeZoneName}"}}function pe(e,t){if(!oe.test(t)){var n={originalPattern:t,_:{}};return n.extendedPattern=t.replace(re,(function(e){return fe(e,n._)})),e.replace(re,(function(e){return fe(e,n)})),he(n)}}var me={second:{numeric:"s","2-digit":"ss"},minute:{numeric:"m","2-digit":"mm"},year:{numeric:"y","2-digit":"yy"},day:{numeric:"d","2-digit":"dd"},month:{numeric:"L","2-digit":"LL",narrow:"LLLLL",short:"LLL",long:"LLLL"},weekday:{narrow:"ccccc",short:"ccc",long:"cccc"}},ge=f(null,{narrow:{},short:{},long:{}});function ve(e,t,n,i,r){var a=e[t]&&e[t][n]?e[t][n]:e.gregory[n],o={narrow:["short","long"],short:["long","narrow"],long:["short","narrow"]},s=u.call(a,i)?a[i]:u.call(a,o[i][0])?a[o[i][0]]:a[o[i][1]];return null!==r?s[r]:s}function _e(){var e=arguments[0],t=arguments[1];return this&&this!==K?be(C(this),e,t):new K.DateTimeFormat(e,t)}function be(e,t,n){var i=T(e),a=E();if(!0===i["[[initializedIntlObject]]"])throw new TypeError("`this` object has already been initialized as an Intl object");d(e,"__getInternalProperties",{value:function(){if(arguments[0]===S)return i}}),i["[[initializedIntlObject]]"]=!0;var o=j(t);n=Se(n,"any","date");var s=new I,l=G(n,"localeMatcher","string",new w("lookup","best fit"),"best fit");s["[[localeMatcher]]"]=l;var f=y.DateTimeFormat,p=f["[[localeData]]"],m=$(f["[[availableLocales]]"],o,s,f["[[relevantExtensionKeys]]"],p);i["[[locale]]"]=m["[[locale]]"],i["[[calendar]]"]=m["[[ca]]"],i["[[numberingSystem]]"]=m["[[nu]]"],i["[[dataLocale]]"]=m["[[dataLocale]]"];var g=m["[[dataLocale]]"],v=n.timeZone;if(void 0!==v&&"UTC"!==(v=R(v)))throw new RangeError("timeZone is not supported.");for(var _ in i["[[timeZone]]"]=v,s=new I,ye)if(u.call(ye,_)){var b=G(n,_,"string",ye[_]);s["[["+_+"]]"]=b}var C=void 0,A=p[g],O=function(e){return"[object Array]"===Object.prototype.toString.call(e)?e:function(e){var t=e.availableFormats,n=e.timeFormats,i=e.dateFormats,r=[],a=void 0,o=void 0,s=void 0,l=void 0,c=void 0,u=[],d=[];for(a in t)t.hasOwnProperty(a)&&(s=pe(a,o=t[a]))&&(r.push(s),ce(s)?d.push(s):ue(s)&&u.push(s));for(a in n)n.hasOwnProperty(a)&&(s=pe(a,o=n[a]))&&(r.push(s),u.push(s));for(a in i)i.hasOwnProperty(a)&&(s=pe(a,o=i[a]))&&(r.push(s),d.push(s));for(l=0;l<u.length;l+=1)for(c=0;c<d.length;c+=1)o="long"===d[c].month?d[c].weekday?e.full:e.long:"short"===d[c].month?e.medium:e.short,(s=de(d[c],u[l])).originalPattern=o,s.extendedPattern=o.replace("{0}",u[l].extendedPattern).replace("{1}",d[c].extendedPattern).replace(/^[,\s]+|[,\s]+$/gi,""),r.push(he(s));return r}(e)}(A.formats);if(l=G(n,"formatMatcher","string",new w("basic","best fit"),"best fit"),A.formats=O,"basic"===l)C=function(e,t){for(var n=-1/0,i=void 0,r=0,a=t.length;r<a;){var o=t[r],s=0;for(var l in ye)if(u.call(ye,l)){var c=e["[["+l+"]]"],d=u.call(o,l)?o[l]:void 0;if(void 0===c&&void 0!==d)s-=20;else if(void 0!==c&&void 0===d)s-=120;else{var f=["2-digit","numeric","narrow","short","long"],p=h.call(f,c),m=h.call(f,d),g=Math.max(Math.min(m-p,2),-2);2===g?s-=6:1===g?s-=3:-1===g?s-=6:-2===g&&(s-=8)}}s>n&&(n=s,i=o),r++}return i}(s,O);else{var D=G(n,"hour12","boolean");s.hour12=void 0===D?A.hour12:D,C=function(e,t){var n=[];for(var i in ye)u.call(ye,i)&&void 0!==e["[["+i+"]]"]&&n.push(i);if(1===n.length){var a=function(e,t){var n;if(me[e]&&me[e][t])return n={originalPattern:me[e][t],_:r({},e,t),extendedPattern:"{"+e+"}"},r(n,e,t),r(n,"pattern12","{"+e+"}"),r(n,"pattern","{"+e+"}"),n}(n[0],e["[["+n[0]+"]]"]);if(a)return a}for(var o=-1/0,s=void 0,l=0,c=t.length;l<c;){var d=t[l],f=0;for(var p in ye)if(u.call(ye,p)){var m=e["[["+p+"]]"],g=u.call(d,p)?d[p]:void 0;if(m!==(u.call(d._,p)?d._[p]:void 0)&&(f-=2),void 0===m&&void 0!==g)f-=20;else if(void 0!==m&&void 0===g)f-=120;else{var v=["2-digit","numeric","narrow","short","long"],_=h.call(v,m),b=h.call(v,g),y=Math.max(Math.min(b-_,2),-2);b<=1&&_>=2||b>=2&&_<=1?y>0?f-=6:y<0&&(f-=8):y>1?f-=3:y<-1&&(f-=6)}}d._.hour12!==e.hour12&&(f-=1),f>o&&(o=f,s=d),l++}return s}(s,O)}for(var M in ye)if(u.call(ye,M)&&u.call(C,M)){var N=C[M];N=C._&&u.call(C._,M)?C._[M]:N,i["[["+M+"]]"]=N}var F=void 0,L=G(n,"hour12","boolean");if(i["[[hour]]"])if(L=void 0===L?A.hour12:L,i["[[hour12]]"]=L,!0===L){var x=A.hourNo0;i["[[hourNo0]]"]=x,F=C.pattern12}else F=C.pattern;else F=C.pattern;return i["[[pattern]]"]=F,i["[[boundFormat]]"]=void 0,i["[[initializedDateTimeFormat]]"]=!0,c&&(e.format=Ie.call(e)),a(),e}d(K,"DateTimeFormat",{configurable:!0,writable:!0,value:_e}),d(_e,"prototype",{writable:!1});var ye={weekday:["narrow","short","long"],era:["narrow","short","long"],year:["2-digit","numeric"],month:["2-digit","numeric","narrow","short","long"],day:["2-digit","numeric"],hour:["2-digit","numeric"],minute:["2-digit","numeric"],second:["2-digit","numeric"],timeZoneName:["short","long"]};function Se(e,t,n){if(void 0===e)e=null;else{var i=C(e);for(var r in e=new I,i)e[r]=i[r]}e=f(e);var a=!0;return"date"!==t&&"any"!==t||void 0===e.weekday&&void 0===e.year&&void 0===e.month&&void 0===e.day||(a=!1),"time"!==t&&"any"!==t||void 0===e.hour&&void 0===e.minute&&void 0===e.second||(a=!1),!a||"date"!==n&&"all"!==n||(e.year=e.month=e.day="numeric"),!a||"time"!==n&&"all"!==n||(e.hour=e.minute=e.second="numeric"),e}function Ie(){var e=null!==this&&"object"===s.typeof(this)&&T(this);if(!e||!e["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for format() is not an initialized Intl.DateTimeFormat object.");if(void 0===e["[[boundFormat]]"]){var t=b.call((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=void 0===e?Date.now():A(e);return Ee(this,t)}),this);e["[[boundFormat]]"]=t}return e["[[boundFormat]]"]}function we(e,t){if(!isFinite(t))throw new RangeError("Invalid valid date passed to format");var n=e.__getInternalProperties(S);E();for(var i=n["[[locale]]"],r=new K.NumberFormat([i],{useGrouping:!1}),a=new K.NumberFormat([i],{minimumIntegerDigits:2,useGrouping:!1}),o=function(e,t,n){var i=new Date(e),r="get"+(n||"");return new I({"[[weekday]]":i[r+"Day"](),"[[era]]":+(i[r+"FullYear"]()>=0),"[[year]]":i[r+"FullYear"](),"[[month]]":i[r+"Month"](),"[[day]]":i[r+"Date"](),"[[hour]]":i[r+"Hours"](),"[[minute]]":i[r+"Minutes"](),"[[second]]":i[r+"Seconds"](),"[[inDST]]":!1})}(t,n["[[calendar]]"],n["[[timeZone]]"]),s=n["[[pattern]]"],l=new w,c=0,u=s.indexOf("{"),d=0,h=n["[[dataLocale]]"],f=y.DateTimeFormat["[[localeData]]"][h].calendars,p=n["[[calendar]]"];-1!==u;){var m=void 0;if(-1===(d=s.indexOf("}",u)))throw new Error("Unclosed pattern");u>c&&g.call(l,{type:"literal",value:s.substring(c,u)});var v=s.substring(u+1,d);if(ye.hasOwnProperty(v)){var _=n["[["+v+"]]"],b=o["[["+v+"]]"];if("year"===v&&b<=0?b=1-b:"month"===v?b++:"hour"===v&&!0===n["[[hour12]]"]&&0===(b%=12)&&!0===n["[[hourNo0]]"]&&(b=12),"numeric"===_)m=ne(r,b);else if("2-digit"===_)(m=ne(a,b)).length>2&&(m=m.slice(-2));else if(_ in ge)switch(v){case"month":m=ve(f,p,"months",_,o["[["+v+"]]"]);break;case"weekday":try{m=ve(f,p,"days",_,o["[["+v+"]]"])}catch(C){throw new Error("Could not find weekday data for locale "+i)}break;case"timeZoneName":m="";break;case"era":try{m=ve(f,p,"eras",_,o["[["+v+"]]"])}catch(C){throw new Error("Could not find era data for locale "+i)}break;default:m=o["[["+v+"]]"]}g.call(l,{type:v,value:m})}else"ampm"===v?(m=ve(f,p,"dayPeriods",o["[[hour]]"]>11?"pm":"am",null),g.call(l,{type:"dayPeriod",value:m})):g.call(l,{type:"literal",value:s.substring(u,d+1)});c=d+1,u=s.indexOf("{",c)}return d<s.length-1&&g.call(l,{type:"literal",value:s.substr(d+1)}),l}function Ee(e,t){for(var n=we(e,t),i="",r=0;n.length>r;r++)i+=n[r].value;return i}function Ce(e,t){for(var n=we(e,t),i=[],r=0;n.length>r;r++){var a=n[r];i.push({type:a.type,value:a.value})}return i}y.DateTimeFormat={"[[availableLocales]]":[],"[[relevantExtensionKeys]]":["ca","nu"],"[[localeData]]":{}},d(K.DateTimeFormat,"supportedLocalesOf",{configurable:!0,writable:!0,value:b.call((function(e){if(!u.call(this,"[[availableLocales]]"))throw new TypeError("supportedLocalesOf() is not a constructor");var t=E(),n=arguments[1],i=this["[[availableLocales]]"],r=j(e);return t(),z(i,r,n)}),y.NumberFormat)}),d(K.DateTimeFormat.prototype,"format",{configurable:!0,get:Ie}),Object.defineProperty(K.DateTimeFormat.prototype,"formatToParts",{enumerable:!1,writable:!0,configurable:!0,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=null!==this&&"object"===s.typeof(this)&&T(this);if(!t||!t["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for formatToParts() is not an initialized Intl.DateTimeFormat object.");var n=void 0===e?Date.now():A(e);return Ce(this,n)}}),d(K.DateTimeFormat.prototype,"resolvedOptions",{writable:!0,configurable:!0,value:function(){var e=void 0,t=new I,n=["locale","calendar","numberingSystem","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"],i=null!==this&&"object"===s.typeof(this)&&T(this);if(!i||!i["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for resolvedOptions() is not an initialized Intl.DateTimeFormat object.");for(var r=0,a=n.length;r<a;r++)u.call(i,e="[["+n[r]+"]]")&&(t[n[r]]={value:i[e],writable:!0,configurable:!0,enumerable:!0});return f({},t)}});var Ae=K.__localeSensitiveProtos={Number:{},Date:{}};Ae.Number.toLocaleString=function(){if("[object Number]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a number for Number.prototype.toLocaleString()");return ne(new q(arguments[0],arguments[1]),this)},Ae.Date.toLocaleString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleString()");var e=+this;if(isNaN(e))return"Invalid Date";var t=arguments[0],n=arguments[1],i=new _e(t,n=Se(n,"any","all"));return Ee(i,e)},Ae.Date.toLocaleDateString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleDateString()");var e=+this;if(isNaN(e))return"Invalid Date";var t=arguments[0],n=arguments[1],i=new _e(t,n=Se(n,"date","date"));return Ee(i,e)},Ae.Date.toLocaleTimeString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleTimeString()");var e=+this;if(isNaN(e))return"Invalid Date";var t=arguments[0],n=arguments[1],i=new _e(t,n=Se(n,"time","time"));return Ee(i,e)};var Te=[function(e,t){return"other"},function(e,t){return t?"other":1==e?"one":"other"},function(e,t){return t?"other":0==e||1==e?"one":"other"},function(e,t){var n=!String(e).split(".")[1];return t?"other":1==e&&n?"one":"other"}],Oe={af:Te[1],ak:Te[2],am:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"},ar:function(e,t){var n=String(e).split("."),i=Number(n[0])==e&&n[0].slice(-2);return t?"other":0==e?"zero":1==e?"one":2==e?"two":i>=3&&i<=10?"few":i>=11&&i<=99?"many":"other"},ars:function(e,t){var n=String(e).split("."),i=Number(n[0])==e&&n[0].slice(-2);return t?"other":0==e?"zero":1==e?"one":2==e?"two":i>=3&&i<=10?"few":i>=11&&i<=99?"many":"other"},as:function(e,t){return t?1==e||5==e||7==e||8==e||9==e||10==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},asa:Te[1],ast:Te[3],az:function(e,t){var n=String(e).split(".")[0],i=n.slice(-1),r=n.slice(-2),a=n.slice(-3);return t?1==i||2==i||5==i||7==i||8==i||20==r||50==r||70==r||80==r?"one":3==i||4==i||100==a||200==a||300==a||400==a||500==a||600==a||700==a||800==a||900==a?"few":0==n||6==i||40==r||60==r||90==r?"many":"other":1==e?"one":"other"},be:function(e,t){var n=String(e).split("."),i=Number(n[0])==e,r=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return t?2!=r&&3!=r||12==a||13==a?"other":"few":1==r&&11!=a?"one":r>=2&&r<=4&&(a<12||a>14)?"few":i&&0==r||r>=5&&r<=9||a>=11&&a<=14?"many":"other"},bem:Te[1],bez:Te[1],bg:Te[1],bh:Te[2],bm:Te[0],bn:function(e,t){return t?1==e||5==e||7==e||8==e||9==e||10==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},bo:Te[0],br:function(e,t){var n=String(e).split("."),i=Number(n[0])==e,r=i&&n[0].slice(-1),a=i&&n[0].slice(-2),o=i&&n[0].slice(-6);return t?"other":1==r&&11!=a&&71!=a&&91!=a?"one":2==r&&12!=a&&72!=a&&92!=a?"two":(3==r||4==r||9==r)&&(a<10||a>19)&&(a<70||a>79)&&(a<90||a>99)?"few":0!=e&&i&&0==o?"many":"other"},brx:Te[1],bs:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"",a=!n[1],o=i.slice(-1),s=i.slice(-2),l=r.slice(-1),c=r.slice(-2);return t?"other":a&&1==o&&11!=s||1==l&&11!=c?"one":a&&o>=2&&o<=4&&(s<12||s>14)||l>=2&&l<=4&&(c<12||c>14)?"few":"other"},ca:function(e,t){var n=!String(e).split(".")[1];return t?1==e||3==e?"one":2==e?"two":4==e?"few":"other":1==e&&n?"one":"other"},ce:Te[1],cgg:Te[1],chr:Te[1],ckb:Te[1],cs:function(e,t){var n=String(e).split("."),i=n[0],r=!n[1];return t?"other":1==e&&r?"one":i>=2&&i<=4&&r?"few":r?"other":"many"},cy:function(e,t){return t?0==e||7==e||8==e||9==e?"zero":1==e?"one":2==e?"two":3==e||4==e?"few":5==e||6==e?"many":"other":0==e?"zero":1==e?"one":2==e?"two":3==e?"few":6==e?"many":"other"},da:function(e,t){var n=String(e).split("."),i=n[0],r=Number(n[0])==e;return t?"other":1!=e&&(r||0!=i&&1!=i)?"other":"one"},de:Te[3],dsb:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"",a=!n[1],o=i.slice(-2),s=r.slice(-2);return t?"other":a&&1==o||1==s?"one":a&&2==o||2==s?"two":a&&(3==o||4==o)||3==s||4==s?"few":"other"},dv:Te[1],dz:Te[0],ee:Te[1],el:Te[1],en:function(e,t){var n=String(e).split("."),i=!n[1],r=Number(n[0])==e,a=r&&n[0].slice(-1),o=r&&n[0].slice(-2);return t?1==a&&11!=o?"one":2==a&&12!=o?"two":3==a&&13!=o?"few":"other":1==e&&i?"one":"other"},eo:Te[1],es:Te[1],et:Te[3],eu:Te[1],fa:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"},ff:function(e,t){return t?"other":e>=0&&e<2?"one":"other"},fi:Te[3],fil:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"",a=!n[1],o=i.slice(-1),s=r.slice(-1);return t?1==e?"one":"other":a&&(1==i||2==i||3==i)||a&&4!=o&&6!=o&&9!=o||!a&&4!=s&&6!=s&&9!=s?"one":"other"},fo:Te[1],fr:function(e,t){return t?1==e?"one":"other":e>=0&&e<2?"one":"other"},fur:Te[1],fy:Te[3],ga:function(e,t){var n=String(e).split("."),i=Number(n[0])==e;return t?1==e?"one":"other":1==e?"one":2==e?"two":i&&e>=3&&e<=6?"few":i&&e>=7&&e<=10?"many":"other"},gd:function(e,t){var n=String(e).split("."),i=Number(n[0])==e;return t?"other":1==e||11==e?"one":2==e||12==e?"two":i&&e>=3&&e<=10||i&&e>=13&&e<=19?"few":"other"},gl:Te[3],gsw:Te[1],gu:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},guw:Te[2],gv:function(e,t){var n=String(e).split("."),i=n[0],r=!n[1],a=i.slice(-1),o=i.slice(-2);return t?"other":r&&1==a?"one":r&&2==a?"two":!r||0!=o&&20!=o&&40!=o&&60!=o&&80!=o?r?"other":"many":"few"},ha:Te[1],haw:Te[1],he:function(e,t){var n=String(e).split("."),i=n[0],r=!n[1],a=Number(n[0])==e,o=a&&n[0].slice(-1);return t?"other":1==e&&r?"one":2==i&&r?"two":r&&(e<0||e>10)&&a&&0==o?"many":"other"},hi:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},hr:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"",a=!n[1],o=i.slice(-1),s=i.slice(-2),l=r.slice(-1),c=r.slice(-2);return t?"other":a&&1==o&&11!=s||1==l&&11!=c?"one":a&&o>=2&&o<=4&&(s<12||s>14)||l>=2&&l<=4&&(c<12||c>14)?"few":"other"},hsb:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"",a=!n[1],o=i.slice(-2),s=r.slice(-2);return t?"other":a&&1==o||1==s?"one":a&&2==o||2==s?"two":a&&(3==o||4==o)||3==s||4==s?"few":"other"},hu:function(e,t){return t?1==e||5==e?"one":"other":1==e?"one":"other"},hy:function(e,t){return t?1==e?"one":"other":e>=0&&e<2?"one":"other"},id:Te[0],ig:Te[0],ii:Te[0],in:Te[0],is:function(e,t){var n=String(e).split("."),i=n[0],r=Number(n[0])==e,a=i.slice(-1),o=i.slice(-2);return t?"other":r&&1==a&&11!=o||!r?"one":"other"},it:function(e,t){var n=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&n?"one":"other"},iu:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},iw:function(e,t){var n=String(e).split("."),i=n[0],r=!n[1],a=Number(n[0])==e,o=a&&n[0].slice(-1);return t?"other":1==e&&r?"one":2==i&&r?"two":r&&(e<0||e>10)&&a&&0==o?"many":"other"},ja:Te[0],jbo:Te[0],jgo:Te[1],ji:Te[3],jmc:Te[1],jv:Te[0],jw:Te[0],ka:function(e,t){var n=String(e).split(".")[0],i=n.slice(-2);return t?1==n?"one":0==n||i>=2&&i<=20||40==i||60==i||80==i?"many":"other":1==e?"one":"other"},kab:function(e,t){return t?"other":e>=0&&e<2?"one":"other"},kaj:Te[1],kcg:Te[1],kde:Te[0],kea:Te[0],kk:function(e,t){var n=String(e).split("."),i=Number(n[0])==e,r=i&&n[0].slice(-1);return t?6==r||9==r||i&&0==r&&0!=e?"many":"other":1==e?"one":"other"},kkj:Te[1],kl:Te[1],km:Te[0],kn:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"},ko:Te[0],ks:Te[1],ksb:Te[1],ksh:function(e,t){return t?"other":0==e?"zero":1==e?"one":"other"},ku:Te[1],kw:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},ky:Te[1],lag:function(e,t){var n=String(e).split(".")[0];return t?"other":0==e?"zero":0!=n&&1!=n||0==e?"other":"one"},lb:Te[1],lg:Te[1],lkt:Te[0],ln:Te[2],lo:function(e,t){return t&&1==e?"one":"other"},lt:function(e,t){var n=String(e).split("."),i=n[1]||"",r=Number(n[0])==e,a=r&&n[0].slice(-1),o=r&&n[0].slice(-2);return t?"other":1==a&&(o<11||o>19)?"one":a>=2&&a<=9&&(o<11||o>19)?"few":0!=i?"many":"other"},lv:function(e,t){var n=String(e).split("."),i=n[1]||"",r=i.length,a=Number(n[0])==e,o=a&&n[0].slice(-1),s=a&&n[0].slice(-2),l=i.slice(-2),c=i.slice(-1);return t?"other":a&&0==o||s>=11&&s<=19||2==r&&l>=11&&l<=19?"zero":1==o&&11!=s||2==r&&1==c&&11!=l||2!=r&&1==c?"one":"other"},mas:Te[1],mg:Te[2],mgo:Te[1],mk:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"",a=!n[1],o=i.slice(-1),s=i.slice(-2),l=r.slice(-1);return t?1==o&&11!=s?"one":2==o&&12!=s?"two":7!=o&&8!=o||17==s||18==s?"other":"many":a&&1==o||1==l?"one":"other"},ml:Te[1],mn:Te[1],mo:function(e,t){var n=String(e).split("."),i=!n[1],r=Number(n[0])==e&&n[0].slice(-2);return t?1==e?"one":"other":1==e&&i?"one":!i||0==e||1!=e&&r>=1&&r<=19?"few":"other"},mr:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":"other":e>=0&&e<=1?"one":"other"},ms:function(e,t){return t&&1==e?"one":"other"},mt:function(e,t){var n=String(e).split("."),i=Number(n[0])==e&&n[0].slice(-2);return t?"other":1==e?"one":0==e||i>=2&&i<=10?"few":i>=11&&i<=19?"many":"other"},my:Te[0],nah:Te[1],naq:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},nb:Te[1],nd:Te[1],ne:function(e,t){var n=String(e).split("."),i=Number(n[0])==e;return t?i&&e>=1&&e<=4?"one":"other":1==e?"one":"other"},nl:Te[3],nn:Te[1],nnh:Te[1],no:Te[1],nqo:Te[0],nr:Te[1],nso:Te[2],ny:Te[1],nyn:Te[1],om:Te[1],or:Te[1],os:Te[1],pa:Te[2],pap:Te[1],pl:function(e,t){var n=String(e).split("."),i=n[0],r=!n[1],a=i.slice(-1),o=i.slice(-2);return t?"other":1==e&&r?"one":r&&a>=2&&a<=4&&(o<12||o>14)?"few":r&&1!=i&&(0==a||1==a)||r&&a>=5&&a<=9||r&&o>=12&&o<=14?"many":"other"},prg:function(e,t){var n=String(e).split("."),i=n[1]||"",r=i.length,a=Number(n[0])==e,o=a&&n[0].slice(-1),s=a&&n[0].slice(-2),l=i.slice(-2),c=i.slice(-1);return t?"other":a&&0==o||s>=11&&s<=19||2==r&&l>=11&&l<=19?"zero":1==o&&11!=s||2==r&&1==c&&11!=l||2!=r&&1==c?"one":"other"},ps:Te[1],pt:function(e,t){var n=String(e).split("."),i=Number(n[0])==e;return t?"other":i&&e>=0&&e<=2&&2!=e?"one":"other"},"pt-PT":Te[3],rm:Te[1],ro:function(e,t){var n=String(e).split("."),i=!n[1],r=Number(n[0])==e&&n[0].slice(-2);return t?1==e?"one":"other":1==e&&i?"one":!i||0==e||1!=e&&r>=1&&r<=19?"few":"other"},rof:Te[1],root:Te[0],ru:function(e,t){var n=String(e).split("."),i=n[0],r=!n[1],a=i.slice(-1),o=i.slice(-2);return t?"other":r&&1==a&&11!=o?"one":r&&a>=2&&a<=4&&(o<12||o>14)?"few":r&&0==a||r&&a>=5&&a<=9||r&&o>=11&&o<=14?"many":"other"},rwk:Te[1],sah:Te[0],saq:Te[1],sdh:Te[1],se:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},seh:Te[1],ses:Te[0],sg:Te[0],sh:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"",a=!n[1],o=i.slice(-1),s=i.slice(-2),l=r.slice(-1),c=r.slice(-2);return t?"other":a&&1==o&&11!=s||1==l&&11!=c?"one":a&&o>=2&&o<=4&&(s<12||s>14)||l>=2&&l<=4&&(c<12||c>14)?"few":"other"},shi:function(e,t){var n=String(e).split("."),i=Number(n[0])==e;return t?"other":e>=0&&e<=1?"one":i&&e>=2&&e<=10?"few":"other"},si:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"";return t?"other":0==e||1==e||0==i&&1==r?"one":"other"},sk:function(e,t){var n=String(e).split("."),i=n[0],r=!n[1];return t?"other":1==e&&r?"one":i>=2&&i<=4&&r?"few":r?"other":"many"},sl:function(e,t){var n=String(e).split("."),i=n[0],r=!n[1],a=i.slice(-2);return t?"other":r&&1==a?"one":r&&2==a?"two":r&&(3==a||4==a)||!r?"few":"other"},sma:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},smi:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},smj:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},smn:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},sms:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},sn:Te[1],so:Te[1],sq:function(e,t){var n=String(e).split("."),i=Number(n[0])==e,r=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return t?1==e?"one":4==r&&14!=a?"many":"other":1==e?"one":"other"},sr:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"",a=!n[1],o=i.slice(-1),s=i.slice(-2),l=r.slice(-1),c=r.slice(-2);return t?"other":a&&1==o&&11!=s||1==l&&11!=c?"one":a&&o>=2&&o<=4&&(s<12||s>14)||l>=2&&l<=4&&(c<12||c>14)?"few":"other"},ss:Te[1],ssy:Te[1],st:Te[1],sv:function(e,t){var n=String(e).split("."),i=!n[1],r=Number(n[0])==e,a=r&&n[0].slice(-1),o=r&&n[0].slice(-2);return t?1!=a&&2!=a||11==o||12==o?"other":"one":1==e&&i?"one":"other"},sw:Te[3],syr:Te[1],ta:Te[1],te:Te[1],teo:Te[1],th:Te[0],ti:Te[2],tig:Te[1],tk:Te[1],tl:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"",a=!n[1],o=i.slice(-1),s=r.slice(-1);return t?1==e?"one":"other":a&&(1==i||2==i||3==i)||a&&4!=o&&6!=o&&9!=o||!a&&4!=s&&6!=s&&9!=s?"one":"other"},tn:Te[1],to:Te[0],tr:Te[1],ts:Te[1],tzm:function(e,t){var n=String(e).split("."),i=Number(n[0])==e;return t?"other":0==e||1==e||i&&e>=11&&e<=99?"one":"other"},ug:Te[1],uk:function(e,t){var n=String(e).split("."),i=n[0],r=!n[1],a=Number(n[0])==e,o=a&&n[0].slice(-1),s=a&&n[0].slice(-2),l=i.slice(-1),c=i.slice(-2);return t?3==o&&13!=s?"few":"other":r&&1==l&&11!=c?"one":r&&l>=2&&l<=4&&(c<12||c>14)?"few":r&&0==l||r&&l>=5&&l<=9||r&&c>=11&&c<=14?"many":"other"},ur:Te[3],uz:Te[1],ve:Te[1],vi:function(e,t){return t&&1==e?"one":"other"},vo:Te[1],vun:Te[1],wa:Te[2],wae:Te[1],wo:Te[0],xh:Te[1],xog:Te[1],yi:Te[3],yo:Te[0],yue:Te[0],zh:Te[0],zu:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"}};function De(){var e=arguments[0],t=arguments[1];return this&&this!==K?Me(C(this),e,t):new K.PluralRules(e,t)}function Me(e,t,n){var i=T(e);if(!0===i["[[InitializedIntlObject]]"])throw new TypeError("`this` object has already been initialized as an Intl object");d(e,"__getInternalProperties",{value:function(){if(arguments[0]===S)return i}}),i["[[InitializedIntlObject]]"]=!0;var r=j(t),a=G(n=void 0===n?{}:C(n),"type","string",new w("cardinal","ordinal"),"cardinal");i["[[type]]"]=a;var o=new I,s=G(n,"localeMatcher","string",new w("lookup","best fit"),"best fit");o["[[localeMatcher]]"]=s,Y(y,n,0),void 0===y["[[maximumFractionDigits]]"]&&(y["[[maximumFractionDigits]]"]=Math.max(y["[[minimumFractionDigits]]"],3));var l=y.PluralRules["[[localeData]]"],c=$(y.PluralRules["[[availableLocales]]"],r,o,y.PluralRules["[[relevantExtensionKeys]]"],l);return i["[[locale]]"]=c["[[locale]]"],i["[[InitializedPluralRules]]"]=!0,e}if(d(K,"PluralRules",{configurable:!0,writable:!0,value:De}),d(De,"prototype",{writable:!1}),y.PluralRules={"[[availableLocales]]":Object.keys(Oe),"[[relevantExtensionKeys]]":[],"[[localeData]]":{}},d(K.PluralRules,"supportedLocalesOf",{configurable:!0,writable:!0,value:b.call((function(e){if(!u.call(this,"[[availableLocales]]"))throw new TypeError("supportedLocalesOf() is not a constructor");var t=E(),n=arguments[1],i=this["[[availableLocales]]"],r=j(e);return t(),z(i,r,n)}),y.PluralRules)}),d(K.PluralRules.prototype,"select",{configurable:!0,value:function(e){return function(e,t){if(!Number.isFinite(t))return"other";var n=T(e);return function(e,t,n){for(var i=e;i;i=i.replace(/[-_]?[^-_]*$/,"")){var r=Oe[i];if(r)return r(n,"ordinal"===t)}return"other"}(n["[[locale]]"],n["[[type]]"],t)}(this,Number(e))}}),d(K.PluralRules.prototype,"resolvedOptions",{configurable:!0,writable:!0,value:function(){var e=void 0,t=new I,n=["locale","type","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"],i=null!==this&&"object"===s.typeof(this)&&T(this);if(!i||!i["[[InitializedPluralRules]]"])throw new TypeError("`this` value for resolvedOptions() is not an initialized Intl.PluralRules object.");for(var r=0,a=n.length;r<a;r++)u.call(i,e="[["+n[r]+"]]")&&(t[n[r]]={value:i[e],writable:!0,configurable:!0,enumerable:!0});return f({},t)}}),d(K,"__applyLocaleSensitivePrototypes",{writable:!0,configurable:!0,value:function(){for(var e in d(Number.prototype,"toLocaleString",{writable:!0,configurable:!0,value:Ae.Number.toLocaleString}),d(Date.prototype,"toLocaleString",{writable:!0,configurable:!0,value:Ae.Date.toLocaleString}),Ae.Date)u.call(Ae.Date,e)&&d(Date.prototype,e,{writable:!0,configurable:!0,value:Ae.Date[e]})}}),d(K,"__addLocaleData",{value:function(e){if(!x(e.locale))throw new Error('Invalid language tag "'+e.locale+'" when calling __addLocaleData("'+e.locale+'", ...) to register new locale data.');!function(e,t){if(!e.number)throw new Error("Object passed doesn't contain locale data for Intl.NumberFormat");var n=void 0,i=[t],r=t.split("-");for(r.length>2&&4===r[1].length&&g.call(i,r[0]+"-"+r[2]);n=_.call(i);)g.call(y.NumberFormat["[[availableLocales]]"],n),y.NumberFormat["[[localeData]]"][n]=e.number,e.date&&(e.date.nu=e.number.nu,g.call(y.DateTimeFormat["[[availableLocales]]"],n),y.DateTimeFormat["[[localeData]]"][n]=e.date);void 0===F&&function(e){F=e}(t)}(e,e.locale)}}),d(K,"__disableRegExpRestore",{value:function(){y.disableRegExpRestore=!0}}),"undefined"===typeof Intl)try{window.Intl=K,K.__applyLocaleSensitivePrototypes()}catch(Ne){}return K}))}).call(this,n(87))},function(e,t,n){"use strict";var i=n(24),r=n(127),a=n(394),o=n(101),s=n(149),l=n(17),c=n(132),u=n(35),d=n(56),h=n(10),f=n(239),p=f.a.extend({debugType:"Strong",validateDescendantDownstreamNodeManager:function(e,t,n){e.reference===r.c&&this._throwValidationError(e,t,"Illegal binding (reference strength) from `%{key}` (to `%{parentKey}`): You cannot bind a weak and a strong property together.")},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseDownstreamStrongNodeManager"}}).extend({debugType:"Strong",init:function(){var e=this,t=arguments;e.__s._$DJ$init.apply(e,t),this._referenceDescriptorComputedCache="Observable strong ref for `"+this.key+"` (downstream cached value)"},_referenceDescriptorComputedCache:void 0,_manageForCalculateValueForNode:function(e,t,n){Object(r.f)(n,e,this._referenceDescriptorComputedCache)},previousValueWasReplaced:function(e,t,n){Object(r.e)(n,e,this._referenceDescriptorComputedCache)},nodeWillFree:function(e,t){Object(r.e)(h.a.getDataForNode(t),e,this._referenceDescriptorComputedCache)},__superMap:{_$DJ$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamStrongNodeManager"}}),m=p.extend({debugType:"Strong Computed",init:function(){var e=this,t=arguments;e.__s._$gV$init.apply(e,t),this._referenceDescriptorComputedCache="Observable strong ref for `"+this.key+"` (downstream cached computed value)"},__superMap:{_$gV$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamStrongComputedNodeManager"}}),g=f.a.extend({debugType:"Unsafe",validateDescendantDownstreamNodeManager:function(e,t,n){e.reference!==r.b&&this._throwValidationError(e,t,"Illegal binding (reference strength) from `%{key}` (to `%{parentKey}`): You cannot bind a %{reference} property up to an unsafe one.")},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamUnsafeNodeManager"}}),v=f.a.extend({debugType:"Weak",validateDescendantDownstreamNodeManager:function(e,t,n){e.reference===r.a&&this._throwValidationError(e,t,"Illegal binding (reference strength) from `%{key}` (to `%{parentKey}`): You cannot bind a weak and a strong property together.")},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamWeakNodeManager"}}),_=v.extend({debugType:"Weak Computed",_manageForCalculateValueForNode:function(e,t,n){var i=this.key,a=e._weakReferenceTokens[i];Object(r.h)(t,a),e._weakReferenceTokens[i]=Object(r.g)(n,e,e.weaklyReferencedObjectWasDisposed,i)},nodeWillFree:function(e,t){var n=this.key,i=e._weakReferenceTokens[n],a=h.a.getDataForNode(t);Object(r.h)(a,i)},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamWeakComputedNodeManager"}}),b=n(38),y=n(203),S=y.b.extend({debugType:"ReadOnly",flushNode:function(e,t){var n=h.a.getStateDataForNode(t),i=h.a.getStateIDForNode(t);Object(l.b)("Cannot write to read-only property: "+this.key,{object:e,value:n,parentID:i})},staticMembers:{__QUALIFIED_CLASS_NAME__:"UpstreamReadOnlyNodeManager"}}),I=S.extend({debugType:"ReadOnly Strong",nodeWillFree:function(e,t){var n=h.a.getDataForNode(t);Object(r.e)(n,e,"Observable strong ref for `"+this.key+"` (read-only default value)")},staticMembers:{__QUALIFIED_CLASS_NAME__:"UpstreamReadOnlyStrongNodeManager"}}),w=y.b.extend({debugType:"Strong",init:function(e){var t=this,n=arguments;t.__s._$9V$init.apply(t,n);var i=this.key;this._stateArrayReferenceDescriptor="Observable strong ref for `"+i+"` (upstream state preprocessing storage)",this._ownValueReferenceDescriptor="Observable strong ref for `"+i+"` (upstream own-value storage)"},_manageForWasDirtiedByParent:function(e,t){Object(r.e)(e,t,this._stateArrayReferenceDescriptor)},_manageForWasDirtiedBySelf:function(e,t,n){var i=this._stateArrayReferenceDescriptor;Object(r.f)(e,n,i),Object(r.e)(t,n,i)},_manageForCalculateValueForNode:function(e,t,n){Object(r.f)(e,n,this._ownValueReferenceDescriptor),Object(r.e)(t,n,this._stateArrayReferenceDescriptor)},previousValueWasReplaced:function(e,t,n){Object(r.e)(n,e,this._ownValueReferenceDescriptor)},nodeWillFree:function(e,t){var n=h.a.getStateDataForNode(t),i=h.a.getDataForNode(t);Object(r.e)(n,e,this._stateArrayReferenceDescriptor),Object(r.e)(i,e,this._ownValueReferenceDescriptor)},_stateArrayReferenceDescriptor:void 0,_ownValueReferenceDescriptor:void 0,__superMap:{_$9V$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UpstreamStrongNodeManager"}}),E=y.b.extend({calculateValueForNode:function(e,t,n,i){var a=this,o=arguments,s=this.key,l=e._weakReferenceTokens,c=l[s],u=h.a.getDataForNode(t);Object(r.h)(u,c);var d=a.__s._$L7$calculateValueForNode.apply(a,o);return l[s]=Object(r.g)(d,e,e.weaklyReferencedObjectWasDisposed,s),d},nodeWillFree:function(e,t){var n=this.key,i=e._weakReferenceTokens[n],a=h.a.getDataForNode(t);Object(r.h)(a,i)},__superMap:{_$L7$calculateValueForNode:"calculateValueForNode"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UpstreamWeakRootValueNodeManager"}});n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return M}));var C,A=[],T="_cw_itselfProperty",O=i.a.extend({staticMembers:{isInsideSetter:!1,getDependencyValuesAsTempArray:function(e,t,n,i){A.length=0;for(var r=0;r<t.length;r++){var a=t[r+n];h.a._sanitizeNodeID(a)>0&&(A[r]=i.internalGet(e,a))}return A},__QUALIFIED_CLASS_NAME__:"ObservableProperty"},readOnly:null,cacheable:void 0,binding:void 0,downstreamBindings:null,dependencies:null,writeDependencies:null,bindings:null,writeBindings:null,_valueCount:0,didChange:null,isComputedProperty:!1,isDependentComputedProperty:!1,isRootValueProperty:!1,requiresSupport:b.a,downstreamNodeManagerClass:null,upstreamNodeManagerClass:null,downstreamNodeManager:null,upstreamNodeManager:null,weakRootValueUpstreamNodeManager:null,init:function(e){Object(o.a)(e,d.a)&&(e={binding:e}),this.__s._$B4l$init.call(this,e)},getValue:function(e,t){var n=this.binding||this.defaultValue;return void 0===n&&(this.get||this.set)&&Object(o.a)(e[i.b.staticMembers.defaultValuePrefix+t],d.a)?null:n},inheritFrom:function(e){var t=this,n=arguments;t.__s._$BM9$inheritFrom.apply(t,n),this.didChange||(this.didChange=e.didChange),e.hasOwnProperty("cacheable")&&!this.hasOwnProperty("cacheable")&&(this.cacheable=e.cacheable);var i=e.downstreamBindings;if(i){var r=this.downstreamBindings;this.downstreamBindings=r?Object.assign(Object.create(i),r):i}},wasRegistered:function(e,t,n){var i=this,a=arguments;i.__s._$Biw$wasRegistered.apply(i,a),this._validateProvidedInitValues(e,t),this._validateProvidedAccessors(t),this.reference!==r.c||this.readOnly||(this._setRootValueNodeManagerIfNeeded=this._setRootValueNodeManagerIfNeededWeakWritable,this._setBoundNodeManagerIfNeeded=this._setBoundNodeManagerIfNeededWeakWritable),this.setUpManagers(),t=(t=t.replace(/\\/g,"\\\\")).replace(/\./g,"\\."),this._ownBinding=Object(d.c)(t),this.initializeNodeFlags(),this._setUpDidChangeObserver(e,t)},_validateProvidedInitValues:function(e,t){var n=this.binding,i=this.defaultValue;Object(s.a)(n)&&Object(s.a)(i)&&Object(l.b)("You can't define an observable property with both a binding and a defaultValue (%{key}).",{key:t,property:this}),Object(o.a)(i,d.a)&&Object(l.b)("You can\u2019t pass bindings into a property definition on `defaultValue`; you must pass it in on `binding` (%{key}).",{binding:n,property:this,key:t}),Object(c.a)(n)&&(this.binding=Object(d.c)(n));var r=this.computedDownstreamBindings=[],a=this.downstreamBindings;for(var u in a){var h=a[u];if(Object(s.a)(h)){if(Object(c.a)(h)&&(h=Object(d.c)(h)),Object(o.a)(h,d.a)){var f=h.rootObject;if(f){if(f===d.b){h.rootObject=null;var p=h.components;0===p.length&&(p.push(T),e.getMetadata(T)||e.registerMetadata(T,C))}r.push({upstreamSide:h,downstreamSide:Object(d.c)(t+"."+u)});continue}Object(l.b)("Right side of downstream bindings must either explicitly specify a root object or begin with `'(owner).'`: `'%{path}'`",{path:h.path})}Object(l.b)("Right side of downstream bindings must be a string or a binding",{binding:h})}}},_validateProvidedAccessors:function(e){var t=this.dependencies,n=this.writeDependencies,i=t&&t.length>0,a=n?n.length>0:i,o=this.isDependentComputedProperty=i||a,s=this.reference;i&&this.usesBuiltinGet&&Object(l.b)("Computed properties with dependencies must provide a getter (%{key}).",{property:this,dependencies:t,key:e}),a&&this.usesBuiltinSet&&!this.readOnly&&Object(l.b)("Computed properties with (explicit or implicit) write-dependencies must either include a setter or be marked readOnly (%{key}).",{property:this,dependencies:t,key:e}),this.isComputedProperty&&s===r.c&&Object(l.b)("Computed properties may not be WEAK references (%{key}).",{property:this,dependencies:t,key:e}),!1!==this.cacheable||s===r.b||this.typeIsPrimitive||Object(l.b)("Non-cacheable, non-primitively-typed properties may not be STRONG or WEAK references; you must manage them yourself. (%{key}).",{property:this,key:e}),o&&(n&&(this.writeBindings=d.a.createForPaths(this.writeDependencies)),this.bindings=d.a.createForPaths(this.dependencies))},_setUpDidChangeObserver:function(e,t){if(this.didChange){var n="_"+t+"_didChangeObserver";e.registerMetadata(n,Object(b.f)(t,this.didChange))}},setUpManagers:function(){var e=this.upstreamNodeManagerClass,t=this.downstreamNodeManagerClass,n=this.reference;e||(e=this.readOnly?n===r.a?I:S:n===r.a?w:y.b),t||(t=n===r.a?this.usesBuiltinGet||!1===this.cacheable?this.typeIsPrimitive?f.a:p:m:n===r.c?this.usesBuiltinGet||!1===this.cacheable?v:_:g),this.upstreamNodeManager=e.create(this),this.downstreamNodeManager=t.create(this),n===r.c&&(this.weakRootValueUpstreamNodeManager=E.create(this))},initializeNodeFlags:function(){var e=this.upstreamNodeFlags,t=this.downstreamNodeFlags;if(-1===e||-1===t){var n=this.reference;n===r.a&&this.typeIsPrimitive&&(n=r.b),-1===e&&(e=h.a.DIRTY_TRACKING|h.a.RELATIONSHIPS|h.a.PULL_ON_FREE,this.readOnly&&(e|=h.a.FLUSH),n!==r.c&&n!==r.a||(e|=h.a.PULL_ON_FLUSH),n===r.a&&(e|=h.a.PREVIOUS_VALUE_TRACKING),n!==r.b&&(e|=h.a.FREE),this.upstreamNodeFlags=e),-1===t&&(t=h.a.RELATIONSHIPS,n===r.b||this.usesBuiltinGet||!1===this.cacheable||(t|=h.a.FREE,n===r.a&&(t|=h.a.PREVIOUS_VALUE_TRACKING)),n===r.a&&(t|=h.a.PREVIOUS_VALUE_TRACKING,t|=h.a.FREE),this.downstreamNodeFlags=t)}},upstreamNodeFlags:-1,downstreamNodeFlags:-1,initForObject:function(e,t){var n,i=this,a=arguments,o=h.a.NULL_INDEX,s=h.a.NULL_INDEX,l=this.downstreamNodeManager;n=this.reference===r.c&&this.isRootValueProperty?this.weakRootValueUpstreamNodeManager:this.upstreamNodeManager,o=e.allocNode(l,this.downstreamNodeFlags),e.downstreamNodes[t]=o,s=e.allocNode(n,this.upstreamNodeFlags),e.upstreamNodes[t]=s,e.addConnectable(this,o,s),i.__s._$Gtl$initForObject.apply(i,a)},setInitialValueForObject:function(e,t,n){var i=e.downstreamNodes[t],a=e.upstreamNodes[t];if(h.a.getManagerForNode(i).setUpNode(e,i),h.a.getManagerForNode(a).setUpNode(e,a),Object(o.a)(n,d.a)){var s=n;this.isDependentComputedProperty&&Object(l.b)("Dependent computed properties cannot be created with a binding (%{key}).",{property:this,key:t,object:e}),h.a.setDataForNode(s,i)}else this.readOnly?(this.reference===r.a&&Object(r.f)(n,e,"Observable strong ref for `"+t+"` (read-only default value)"),h.a.setDataForNode(n,a)):void 0!==n&&h.a.passValueToNode(n,a)},connect:function(e,t,n){this.isRootValueProperty=!this.isDependentComputedProperty,this._configurePropertyAsRootValue(t,n);var i=this._ownBinding;if(this.isDependentComputedProperty){var r,a,o,s=this.bindings,c=this.writeBindings,u=n>=0&&void 0!==h.a.getStateDataForNode(n);if(s&&(r=s.length)>0)for(a=0;a<r;a++)o=s[a],d.a.hookUpBinding(e,o,i,u,!0,d.a.DONT_CONNECT,d.a.CONNECT)||Object(l.b)("Unable to connect dependency for computed property (key: "+this.key+", dependency: "+o.path+").",{object:e,property:this,key:this.key,dependency:o.path});if(c&&(r=c.length)>0)for(a=0;a<r;a++)o=c[a],d.a.hookUpBinding(e,o,i,u,!0,d.a.CONNECT,d.a.DONT_CONNECT)||Object(l.b)("Unable to connect write dependency for computed property (key: "+this.key+", dependency: "+o.path+").",{object:e,property:this,key:this.key,dependency:o.path})}else{var f;t>=0&&(f=h.a.getDataForNode(t)),f&&f.instanceOf&&f.instanceOf(d.a)&&(this.isRootValueProperty=!1,this.bind(e,f),h.a.setDataForNode(void 0,t),n&&h.a.setDataForNode(void 0,n))}for(var p=this.computedDownstreamBindings,m=p.length,g=0;g<m;g++){var v=p[g];d.a.hookUpBinding(e,v.upstreamSide,v.downstreamSide,!1,!0)}},_configurePropertyAsRootValue:function(e,t){h.a.addChildToNode(e,t,!0),this._setRootValueNodeManagerIfNeeded(e,t)},_setRootValueNodeManagerIfNeeded:u.a,_setRootValueNodeManagerIfNeededWeakWritable:function(e,t){h.a.setManagerForNode(this.weakRootValueUpstreamNodeManager,t)},bind:function(e,t){var n=this.key;this.isDependentComputedProperty&&Object(l.b)("Cannot bind property %{key}. Properties with dependencies cannot be bound.",{property:this,key:this.key,object:e});var i=e.downstreamNodes[n],r=e.upstreamNodes[n];this._disconnectNodes(i,r),this._configurePropertyAsBound(i,r);var a=t;t&&t.instanceOf&&t.instanceOf(d.a)||(a=d.a.create(a)),d.a.hookUpBinding(e,a,this._ownBinding,!1,!0)||Object(l.b)("Unable to bind property (key: "+this.key+", binding: "+a.path+").",{object:e,property:this,key:this.key,binding:a,path:a.path}),e.isConnected&&h.a.triggerFlush()},_configurePropertyAsBound:function(e,t){this._setBoundNodeManagerIfNeeded(e,t)},_setBoundNodeManagerIfNeeded:u.a,_setBoundNodeManagerIfNeededWeakWritable:function(e,t){h.a.setManagerForNode(this.upstreamNodeManager,t)},unbind:function(e){var t=this.key;this.isDependentComputedProperty&&Object(l.b)("Cannot unbind property %{key}. Properties with dependencies cannot be unbound.",{property:this,key:this.key,object:e});var n=e.downstreamNodes[t],i=e.upstreamNodes[t];this._disconnectNodes(n,i),this._configurePropertyAsRootValue(n,i),h.a.passValueToNode(void 0,i),e.isConnected&&h.a.triggerFlush()},_disconnectNodes:function(e,t){t>0&&h.a.disconnectChildrenFromNode(t),h.a.disconnectParentsFromNode(e)},_getter:null,_setter:null,_setUpInternalAccessors:function(){var e=this.key,t=i.b.staticMembers.defaultValuePrefix+e;this._getter=function(){if(!this.hasOwnProperty("propertiesAreInitialized"))return this[t];var n=O.isInsideSetter;O.isInsideSetter=!1;var i=this.downstreamNodes[e],r=h.a.getValueForNode(i);return O.isInsideSetter=n,r},this.readOnly?this._setter=function(n){this.hasOwnProperty("propertiesAreInitialized")?Object(l.b)("Cannot write to read-only property: "+e,{object:this,value:n}):this[t]=n}:this._setter=function(n){if(this.hasOwnProperty("propertiesAreInitialized")){var i=O.isInsideSetter;O.isInsideSetter=!0;var r=this.upstreamNodes[e];i&&h.a.nodeIsDirty(r)?h.a.passValueToNode(n,r):h.a.setValueForNode(n,r),O.isInsideSetter=i}else this[t]=n}},internalGet:D,internalGetPath:D,_synthesizeInternalGet:u.a,setUpNativeAccessors:function(e,t){Object.defineProperty(e,t,{get:this._getter,set:this._setter,configurable:!0})},getForObject:function(e,t){return this._getter.call(e)},setForObject:function(e,t,n){return this._setter.call(e,n)},disposeForObject:function(e,t){},__superMap:{_$B4l$init:"init",_$BM9$inheritFrom:"inheritFrom",_$Biw$wasRegistered:"wasRegistered",_$Gtl$initForObject:"initForObject"}});function D(e,t){return h.a.getValueForNode(t)}var M=function(e){return O.define.apply(O,arguments)};C=M({defaultValue:a.a,readOnly:!0})},function(e,t,n){var i=n(50),r=n(110).f,a=n(102),o=n(104),s=n(284),l=n(333),c=n(213);e.exports=function(e,t){var n,u,d,h,f,p=e.target,m=e.global,g=e.stat;if(n=m?i:g?i[p]||s(p,{}):(i[p]||{}).prototype)for(u in t){if(h=t[u],d=e.noTargetGet?(f=r(n,u))&&f.value:n[u],!c(m?u:p+(g?".":"#")+u,e.forced)&&void 0!==d){if(typeof h===typeof d)continue;l(h,d)}(e.sham||d&&d.sham)&&a(h,"sham",!0),o(n,u,h,e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n(199),r=function(e,t){var n;return e instanceof Error?n=e:(e&&(e=Object(i.a)(e,t)),n=new Error(e)),n.context=t,n},a=function(e,t){throw new r(e,t)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=n(377),r="function"===typeof Symbol&&Symbol.for,a=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116;r&&Symbol.for("react.fundamental"),r&&Symbol.for("react.responder");var v="function"===typeof Symbol&&Symbol.iterator;function _(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function S(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||b}function I(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||b}S.prototype.isReactComponent={},S.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw _(Error(85));this.updater.enqueueSetState(this,e,t,"setState")},S.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},I.prototype=S.prototype;var E=w.prototype=new I;E.constructor=w,i(E,S.prototype),E.isPureReactComponent=!0;var C={current:null},A={suspense:null},T={current:null},O=Object.prototype.hasOwnProperty,D={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,n){var i=void 0,r={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)O.call(t,i)&&!D.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:a,type:e,key:o,ref:s,props:r,_owner:T.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var F=/\/+/g,L=[];function R(e,t,n,i){if(L.length){var r=L.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function x(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>L.length&&L.push(e)}function P(e,t,n){return null==e?0:function e(t,n,i,r){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case a:case o:l=!0}}if(l)return i(r,t,""===n?"."+k(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+k(s=t[c],c);l+=e(s,u,i,r)}else if("function"===typeof(u=null===t||"object"!==typeof t?null:"function"===typeof(u=v&&t[v]||t["@@iterator"])?u:null))for(t=u.call(t),c=0;!(s=t.next()).done;)l+=e(s=s.value,u=n+k(s,c++),i,r);else if("object"===s)throw i=""+t,_(Error(31),"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,"");return l}(e,"",t,n)}function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function U(e,t){e.func.call(e.context,t,e.count++)}function j(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,i,n,(function(e){return e})):null!=e&&(N(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(F,"$&/")+"/")+n)),i.push(e))}function B(e,t,n,i,r){var a="";null!=n&&(a=(""+n).replace(F,"$&/")+"/"),P(e,j,t=R(t,a,i,r)),x(t)}function V(){var e=C.current;if(null===e)throw _(Error(321));return e}var $={Children:{map:function(e,t,n){if(null==e)return e;var i=[];return B(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;P(e,U,t=R(null,null,t,n)),x(t)},count:function(e){return P(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){if(!N(e))throw _(Error(143));return e}},createRef:function(){return{current:null}},Component:S,PureComponent:w,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return V().useCallback(e,t)},useContext:function(e,t){return V().useContext(e,t)},useEffect:function(e,t){return V().useEffect(e,t)},useImperativeHandle:function(e,t,n){return V().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return V().useLayoutEffect(e,t)},useMemo:function(e,t){return V().useMemo(e,t)},useReducer:function(e,t,n){return V().useReducer(e,t,n)},useRef:function(e){return V().useRef(e)},useState:function(e){return V().useState(e)},Fragment:s,Profiler:c,StrictMode:l,Suspense:f,unstable_SuspenseList:p,createElement:M,cloneElement:function(e,t,n){if(null===e||void 0===e)throw _(Error(267),e);var r=void 0,o=i({},e.props),s=e.key,l=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,c=T.current),void 0!==t.key&&(s=""+t.key);var u=void 0;for(r in e.type&&e.type.defaultProps&&(u=e.type.defaultProps),t)O.call(t,r)&&!D.hasOwnProperty(r)&&(o[r]=void 0===t[r]&&void 0!==u?u[r]:t[r])}if(1===(r=arguments.length-2))o.children=n;else if(1<r){u=Array(r);for(var d=0;d<r;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:a,type:e.type,key:s,ref:l,props:o,_owner:c}},createFactory:function(e){var t=M.bind(null,e);return t.type=e,t},isValidElement:N,version:"16.9.0",unstable_withSuspenseConfig:function(e,t){var n=A.suspense;A.suspense=void 0===t?null:t;try{e()}finally{A.suspense=n}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:C,ReactCurrentBatchConfig:A,ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:i}},W={default:$},z=W&&$||W;e.exports=z.default||z},function(e,t,n){},function(e,t,n){var i;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var a=typeof i;if("string"===a||"number"===a)e.push(i);else if(Array.isArray(i)&&i.length){var o=r.apply(null,i);o&&e.push(o)}else if("object"===a)for(var s in i)n.call(i,s)&&i[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(i=function(){return r}.apply(t,[]))||(e.exports=i)}()},function(e,t,n){},function(e,t,n){"use strict";var i,r=n(108),a=n(101),o=n(17),s=n(35),l=n(237),c=n(159),u=n(699),d=n(700),h=n(386),f=n(388),p=n(54),m=n(99),g=n(127),v=n(132),_=n(390),b=n(736),y=n(202),S=n(149),I=n(201),w=n(267),E=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.providedTypes=void 0,this.types=void 0,this.validators=void 0;var n=e.length;if(!Array.isArray(e)||n<=1)throw new o.a("Must provide 2 or more types to a union/intersection type",{providedTypes:e});for(var i=0;i<n;i++){var r=e[i];if(!t){if(void 0===r)throw new o.a("Cannot create intersection with undefined",{providedTypes:e,index:i});if(null===r)throw new o.a("Cannot create intersection with null",{providedTypes:e,index:i})}if("any"===r)throw new o.a("Cannot create union/intersection with any",{providedTypes:e,index:i})}this.providedTypes=e}var t=e.prototype;return t.toString=function(){return this.types||this._processTypes(),this.types.map((function(e){return e.toString()})).join(", ")},t._processTypes=function(){for(var e=this.providedTypes,t=[],n=[],i=0,r=e.length;i<r;i++){var a=e[i];if(null!=a){var s=A(a);n.push(s);var l=C(s);if(!l)throw new o.a("Cannot get validator for unrecognized type: "+s,{providedTypes:e,types:n,validators:t,index:i});t.push(l)}}this.validators=t,this.types=n},e}();function C(e){var t,n,o;if("integer"===e)t=O;else if("number"===e)t=T;else if("string"===e)t=v.a;else if("boolean"===e)t=_.a;else if("hash"===e)t=r.a;else if(Object(a.a)(e,E))t=Object(b.a)(e.validate,e);else if(Object(a.a)(e,I.a))o=e,t=function(e){return Object(a.a)(e,w.a)&&o.items.some((function(t){return t.contains(e)}))};else if(e.isClass)t=function(e){return function(t){var n;return t.isObject&&((n=t.constructor)===e||n.subclassOf(e))}}(e);else if("function"===(n=typeof e)||i(e))t=function(e){return function(t){return t instanceof e}}(e);else{if("object"!==n)return;t=function(e){return function(t){return t.hasMixin&&t.hasMixin(e)}}(e)}return function(e){return function(t){return!Object(S.a)(t)||e.call(this,t)}}(t)}function A(e,t){switch(void 0===e&&Object(o.b)('Error defining property "%{key}". You must specify a type.',{property:t,key:t.key}),e){case Number:e="number";break;case String:e="string";break;case Boolean:e="boolean";break;case"object":e=Object;break;case"function":e=Function}return e}function T(e){return Object(y.a)(e)&&!Number.isNaN(e)}function O(e){return(0|e)===e||Number.isInteger(e)}i="function"!==typeof XMLHttpRequest?function(e){return e.prototype&&e.prototype.constructor}:s.a;var D=n(393),M=n(702),N=n(394),F=n(84),L=n(389);n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return U})),n.d(t,"b",(function(){return j}));var R={},x=p.a.extend(f.a,{staticMembers:{create:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this,r=arguments,a=i.__s._$3In$create.apply(i,r);return a._originalArgs=t,a},__superMap:{_$3In$create:"create"},__QUALIFIED_CLASS_NAME__:"Property"},readOnly:!1,defaultValue:void 0,_hasBeenUsed:!1,initializeMember:function(){var e=this,t=arguments;return this._hasBeenUsed?this.clone():e.__s._$3lH$initializeMember.apply(e,t)},clone:function(){var e;return(e=this.constructor).create.apply(e,this._originalArgs)},set:null,_transformedSet:null,get:null,_transformedGet:null,setterReturnArray:[],usesBuiltinGet:!1,usesBuiltinSet:!1,isComputedProperty:!1,type:null,typeIsPrimitive:!1,strong:!1,weak:!1,unsafe:!1,reference:"",validators:null,init:function(e){if(Object(r.a)(e)){this.defaultValue=e.defaultValue;var t={};for(var n in e)"defaultValue"!==n&&(t[n]=e[n]);this.__s._$5_p$init.call(this,t)}else this.defaultValue=e,this.__s._$5_p$init.call(this);var i=this.validators;if(i)for(var o=i.length,s=0;s<o;++s){var l=i[s];Object(a.a)(l,L.a)||(i[s]=l.create())}},requiresSupport:j,allowedOnClass:!0,getValue:function(){return this.defaultValue},_ivar:null,_getParamOffset:0,_setParamOffset:0,_callsGetSuper:!1,_callsSetSuper:!1,_validateType:function(){return!0},_manageSwappingValues:function(e,t,n){var i="Strong ref for `"+this.key+"`";Object(g.f)(n,e,i),Object(g.e)(t,e,i)},_referenceId:void 0,wasRegistered:function(e,t,n){var i=this,r=arguments;this._hasBeenUsed=!0;var a=this.get;if(a){var s=a.__CW__getter;if(s){var l=a.__superMap,c=this.__superMap;for(var u in l)c[u]="_transformedGet"}}var d=this.set;if(d){var h=d.__CW__setter;if(h){var f=d.__superMap,p=this.__superMap;for(var m in f)p[m]="_transformedSet"}}i.__s._$7Nj$wasRegistered.apply(i,r),n&&this._inheritFromSuperMap(e,n,t),this.writeDependencies||!this.dependencies||this.readOnly||(this.writeDependencies=this.dependencies),n&&this.inheritFrom(n),this._setUpInternalVariables(t),this._synthesizeInternalMethods(),this._setUpReferenceFlag(e,t),this.reference===g.c&&this.defaultValue&&Object(o.b)("A weak-reference property may not provide a default value ('%{key})'.",{key:t,object:e}),this._setUpReferenceManagers(),this._moveDefaultValuesToPrepareForNativeAccessors(e,t),e[j.staticMembers.defaultValuePrefix+t]=e[t],this.setUpNativeAccessors(e,t)},inheritFrom:function(e){this.get||e.usesBuiltinGet||(this.get=e.get),this.set||e.usesBuiltinSet||(this.set=e.set),e.dependencies&&(this.dependencies?this._callsGetSuper&&(this.dependencies=e.dependencies.concat(this.dependencies),this._getParamOffset=e.dependencies.length):this.dependencies=e.dependencies),e.writeDependencies&&(this.writeDependencies?this._callsGetSuper&&(this.writeDependencies=e.writeDependencies.concat(this.writeDependencies),this._setParamOffset=e.writeDependencies.length):this.writeDependencies=e.writeDependencies),e.hasOwnProperty("readOnly")&&!this.hasOwnProperty("readOnly")&&(this.readOnly=e.readOnly),e.hasOwnProperty("strong")&&!this.hasOwnProperty("strong")&&(this.strong=e.strong),e.hasOwnProperty("weak")&&!this.hasOwnProperty("weak")&&(this.weak=e.weak),e.hasOwnProperty("unsafe")&&!this.hasOwnProperty("unsafe")&&(this.unsafe=e.unsafe)},_inheritFromSuperMap:function(e,t,n){var i=e.__s,r=this.__superMap;for(var a in r){var o=r[a];if("get"===o||"_transformedGet"===o)o="_transformedGet",this._callsGetSuper=!0;else{if("set"!==o&&"_transformedSet"!==o)continue;o="_transformedSet",this._callsSetSuper=!0}i[a]=t[o]}},_setUpReferenceFlag:function(e,t){var n=this.strong,i=this.weak,r=this.unsafe;n?(i&&Object(o.b)("Cannot define a property as both strong and weak.",{key:t,object:e}),r&&Object(o.b)("Cannot define a property as both strong and unsafe.",{key:t,object:e}),this.reference=g.a):i?(r&&Object(o.b)("Cannot define a property as both weak and unsafe.",{key:t,object:e}),this.reference=g.c):this.reference=g.b},_setUpReferenceManagers:function(){var e=this.reference;e===g.b||this.typeIsPrimitive?this._manageSwappingValues=s.a:e===g.c&&(this._manageSwappingValues=k,this._setUpWeakRefHashIfNeeded=P)},_setUpInternalVariables:function(e){this._ivar="_"+e},_moveDefaultValuesToPrepareForNativeAccessors:function(e,t){var n=j.staticMembers.defaultValuePrefix;e.hasOwnProperty(t)&&(e[n+t]=e[t])},_synthesizeInternalMethods:function(){if(this._synthesizeAccessors(),this._synthesizeInternalSet(),this._fillSetPathMap(),function(e){var t=e.type;if(null!==t&&"any"!==t){var n=A(t,e);n!==t&&(e.type=n);var i=C(n);if(!i)throw new o.a('Cannot create property "%{key}" with unknown type `%{type}`.',{property:e,key:e.key,type:n});"integer"!==n&&"number"!==n&&"string"!==n&&"boolean"!==n||(e.typeIsPrimitive=!0),e._validateType=i}}(this),this._setUpInternalAccessors(),this.getForObject||this._synthesizeGetForObject(),!this.setForObject){var e=this.writeDependencies;e&&(this.setterReturnArray=new Array(e.length)),this._synthesizeSetForObject()}},_synthesizeAccessors:function(){var e=this.get;if(e){var t=e.__CW__getter||e,n=this._getParamOffset;this._transformedGet=function(e,i,r,a){return t.call(this,e,i,n,a)}}else this.usesBuiltinGet=!0,this._transformedGet=this.get=l.a;var i=this.set;if(i){var r=i.__CW__setter||i,a=this._setParamOffset;this._transformedSet=function(e,t,n,i,o){return r.call(this,e,t,n,a,o)}}else this.usesBuiltinSet=!0,this._transformedSet=this.set=l.a;this.isComputedProperty=!this.usesBuiltinGet||!this.usesBuiltinSet},_fillSetPathMap:function(){var e=this.writeDependencySetPathMap;e||(e=this.writeDependencySetPathMap=[!1]);for(var t=e.length,n=0;n<t;n++)e[n]=e[n]?this.internalSetPath:this.internalSet},initForObject:function(e,t){this._setUpWeakRefHashIfNeeded(e,t)},_setUpWeakRefHashIfNeeded:s.a,setInitialValueForObject:function(e,t,n){void 0!==n&&this.setForObjectReadWrite(e,t,n)},disposeForObject:function(e,t){var n=this._ivar;this._manageSwappingValues(e,e[n]),e[n]=void 0},setUpNativeAccessors:function(e,t){var n=this,i=this.setForObject,r=this.getForObject;Object.defineProperty(e,t,{get:function(e){return r.call(n,this,t)},set:function(e){return i.call(n,this,t,e)},configurable:!0})},_setUpInternalAccessors:s.a,getForObject:null,_synthesizeGetForObject:function(){var e=this.dependencies,t=this._transformedGet,n=this,i=j.staticMembers.defaultValuePrefix+this.key,r=this._ivar;this.getForObject=function(a,o){return a.hasOwnProperty("propertiesAreInitialized")?t.call(a,a[r],e,0,n):a[i]}},setForObject:null,setForObjectReadWrite:null,_synthesizeSetForObject:function(){var e=this.writeDependencies,t=this.setterReturnArray,n=this._transformedSet,i=this,r=this._validateType,a=t.length,s=this.writeDependencySetPathMap;this.clearSetterReturnArray(t);var l=this._ivar,c=j.staticMembers.defaultValuePrefix+this.key;this.setForObjectReadWrite=function(u,d,h){if(u.hasOwnProperty("propertiesAreInitialized")){var f=u[l],p=n.call(u,h,f,t,0,i);r.call(u,p)||Object(o.b)("Type error: cannot set value `%{value}` to property `%{key}` on %{object}.",{object:u,key:d,value:p,setValue:h}),u[l]=p;for(var m=0;m<a;m++)t[m]!==R&&s[m](u,e[m],t[m]);return this._manageSwappingValues(u,f,p),this.clearSetterReturnArray(t),p}u[c]=h},this.readOnly?this.setForObject=function(e,t,n){e.hasOwnProperty("propertiesAreInitialized")?Object(o.b)("Cannot set `"+t+"`: it is read-only.",{key:t,object:e,property:this,value:n}):e[c]=n}:this.setForObject=this.setForObjectReadWrite},clearSetterReturnArray:function(e){for(var t=e.length,n=0;n<t;n++)e[n]=R},internalGet:function(e,t){return e.get(t)},internalGetPath:function(e,t){return e.getPath(t)},_synthesizeInternalSet:function(){var e=this._ivar;this.internalSet=function(t,n,i){return"$value"===n?(t[e]=i,i):t.set(n,i)}},internalSet:null,internalSetPath:function(e,t,n){return e.setPath(t,n)},__superMap:{_$3lH$initializeMember:"initializeMember",_$5_p$init:"init",_$7Nj$wasRegistered:"wasRegistered"}});function P(e,t){var n=e._weakReferenceTokens;n||(n=e._weakReferenceTokens={}),n[t]=m.b}function k(e,t,n){var i=this.key,r=e._weakReferenceTokens,a=r[i];Object(g.h)(t,a);var o=Object(g.g)(n,e,e.weaklyReferencedObjectWasDisposed,i);r[i]=o}var U=function(e){return x.define.apply(x,arguments)},j={mixinDependencies:[F.a,D.a],staticMembers:{get:z,set:G,setPath:$,getPath:W,getPropertiesAsObject:H,setPropertiesWithObject:K,getPropertiesAsArray:Q,setPropertiesWithArrays:q,weaklyReferencedObjectWasDisposed:Y,_weakReferenceTokens:null,initializeClass:function(){this.__s._$ELz$initializeClass.call(this),B.call(this)},initializeInstance:function(){this.__s._$EPP$initializeInstance.call(this),V.call(this)},defaultValuePrefix:"__CW__",propertiesAreInitialized:!1,__superMap:{_$ELz$initializeClass:"initializeClass",_$EPP$initializeInstance:"initializeInstance"}},initializeClass:function(){this.__s._$EXs$initializeClass.call(this),B.call(this)},initializeInstance:function(){this.__s._$Ear$initializeInstance.call(this),V.call(this)},dispose:function(){var e,t=this,n=arguments,i=this._properties;for(e in i)i[e].disposeForObject(this,e);t.__s._$Elx$dispose.apply(t,n)},get:z,set:G,setPath:$,getPath:W,getPropertiesAsObject:H,setPropertiesWithObject:K,getPropertiesAsArray:Q,setPropertiesWithArrays:q,weaklyReferencedObjectWasDisposed:Y,_weakReferenceTokens:null,propertiesAreInitialized:!1,beginBatchSet:function(){return M.a.begin(this)},__superMap:{_$EXs$initializeClass:"initializeClass",_$Ear$initializeInstance:"initializeInstance",_$Elx$dispose:"dispose"}};function B(){this._properties=this.getMetadataByType(x)}function V(){var e,t,n=this.getMetadataByType(x),i=j.staticMembers.defaultValuePrefix;for(e in n){var r=n[e];r.initForObject&&r.initForObject(this,e)}for(e in this.propertiesAreInitialized=!0,n){var a=n[e];t=this[i+e],Object(c.a)(t)&&(t=t.call(this)),t===N.a&&(t=this),a.setInitialValueForObject&&a.setInitialValueForObject(this,e,t)}}function $(e,t){var n=Object(u.a)(e,this);return n||Object(o.b)("cannot call set on null or undefined object",{object:this,path:e,value:t}),function(e,t,n){e&&(e[t]=n)}(n,Object(d.a)(e),t),this}function W(e){return Object(h.a)(this,e)}function z(e){var t=this._properties[e];return t?t.getForObject(this,e):this[e]}function G(e,t){var n=this._properties[e];return n?n.setForObject(this,e,t):this[e]=t,this}function H(){for(var e={},t=0;t<arguments.length;t++)e[arguments[t]]=this.get(arguments[t]);return e}function K(e){for(var t in e)e.hasOwnProperty(t)&&this.set(t,e[t]);return this}function Q(){return Array.prototype.map.call(arguments,this.get,this)}function q(e,t){e.length>t.length&&Object(o.b)("Not enough values to set");for(var n=0;n<e.length;n++)this.set(e[n],t[n]);return this}function Y(e,t){t.set(this,e,null)}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){},function(e,t,n){"use strict";var i=n(54),r=n(24),a=n(17),o=n(108),s=n(159),l=n(101),c=n(35),u=n(702),d=n(395),h=u.a.extend({staticMembers:{_beginBatchSetter:function(){return d.a.begin()},__QUALIFIED_CLASS_NAME__:"BatchSetterForObject"}}),f=n(56),p=n(10),m=n(238),g=n(99),v=n(158),_=g.a.extend(v.a,{didFire:!1,_fireState:!1,previousValues:null,context:null,type:"",initFromPool:function(e){e&&Object(o.a)(e)&&(this.type=e.type||"",this.didFire=e.didFire||!1,this.forceFire=e.forceFire||!1,this.previousValues=e.previousValues||null,this.context=e.context||null,this._fireState=e._fireState||0)},staticMembers:{__QUALIFIED_CLASS_NAME__:"SignalEvent"}}),b=n(15);n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return M})),n.d(t,"f",(function(){return F})),n.d(t,"e",(function(){return L})),n.d(t,"d",(function(){return x})),n.d(t,"g",(function(){return k}));var y={isObservable:!0,initializeInstance:function(){this._nodes=[];var e=this.upstreamNodes={},t=this.downstreamNodes={};this._connectables=[],this._connectableTargets=[],p.a.pause(),this.initializeObservers(e,t),this.initializeSignals(e,t),this.__s._$Tn$initializeInstance.call(this),this._connectAllConnectables(),p.a.triggerFlush(),p.a.resume()},initializeObservers:function(e,t){var n=this.getMetadataByType(O);for(var i in n){var r=n[i],a=this.allocNode(r.manager,p.a.PULL_ON_FLUSH|p.a.NOTIFY);t[i]=a,this.addConnectable(r,a,p.a.NULL_INDEX)}},initializeSignals:function(e,t){var n=this.getMetadataByType(x);for(var i in n){var r=n[i],a=this.allocNode(r,p.a.PULL_ON_FLUSH|p.a.NOTIFY);r.initializeEvent(a),e[i]=t[i]=a}},upstreamNodes:null,downstreamNodes:null,_connectables:null,_connectableTargets:null,isConnected:!1,addConnectable:function(e,t,n){this.isConnected?e.connect(this,t,n):(this._connectables.push(e),this._connectableTargets.push(t),this._connectableTargets.push(n))},_connectAllConnectables:function(){var e,t=this._connectables,n=this._connectableTargets,i=t.length,r=p.a.NULL_INDEX,a=p.a.NULL_INDEX;for(e=0;e<i;e++)r=n[2*e],a=n[2*e+1],t[e].connect(this,r,a);this._connectables=this._connectableTargets=null,this.isConnected=!0},allocNode:function(e,t){var n=p.a.allocNode(e,this,t);return this._nodes.push(n),n},freeNode:function(e){var t=this._nodes,n=t.indexOf(e);n>=0?t.splice(n,1):Object(a.b)("CW.Observable `freeNode` called with a node not managed by this Observable!",{nodeID:e,observable:this}),p.a.freeNode(e)},dispose:function(){var e,t=this._nodes,n=t.length,i=p.a.NULL_INDEX;for(e=0;e<n;e++)i=t[e],p.a.freeNode(i);this._nodes=null,this.downstreamNodes=null,this.upstreamNodes=null,this.__s._$2Y_$dispose.call(this)},observe:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=n[0];return(e=Object(o.a)(r)?M.create(this,r):M.create.apply(M,[this].concat(n,[!0]))).connect(),e},listen:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=n[0];return(e=Object(o.a)(r)?N.create(this,r):N.create.apply(N,[this].concat(n,[!1]))).connect(),e},bindingFor:function(e){return f.a.create(e,this)},propertyChanged:function(e){var t=this.downstreamNodes[e];"number"!==typeof t&&Object(a.b)("propertyChanged must be called with the key of an observable property (key: "+e+", object: "+this+").",{object:this,key:e}),p.a.setNodeToDirtyFromParent(t)},bind:function(e,t){var n=this.getMetadataByType(b.a);if(n){var i=n[e];i||Object(a.b)("Bind must be called on an observable property",e),i.bind(this,t)}return this},unbind:function(e){var t=this.getMetadataByType(b.a);if(t){var n=t[e];n||Object(a.b)("Unbind must be called on an observable property",e),n.unbind(this)}return this},beginBatchSet:function(){return h.begin(this)},__superMap:{_$Tn$initializeInstance:"initializeInstance",_$2Y_$dispose:"dispose"}},S=Object.assign({staticMembers:Object.assign({},y)},y,{mixinDependencies:[i.b,r.b]}),I=void 0,w=1,E=2,C=m.a.extend({_onlyFireIfChanged:!0,_debug_dependencyNames:null,_debug_key:null,_observedTypes:null,_observesSignals:!0,init:function(e,t,n){this.__s._$4vt$init.call(this),void 0===n&&(n=!0),Object(s.a)(t)||Object(a.b)("Cannot create CW.ObserverNodeManager without an observer function to call when there is a change."),this.observer=t,this._inputCount=e,this._inputCollectorPool=[],this._observedTypes=new Array(e),n||(this._onlyFireIfChanged=n,this.invokeObserverCallback=this._actuallyInvokeObserverCallback)},calculateValueForNode:function(e,t,n){n||Object(a.b)("Observers should not be set directly, they must pull from their parents.",t);var i=this._getInputCollectorFromPool();p.a.pullDataFromParents(t,i);var r=p.a.getDataForNode(t);if(r||!T(t)){var o=r;return 2!==r._fireState?o=this.invokeObserverCallback(e,i,r,t):(r._fireState=0,A(i,r)),this._returnInputCollectorToPool(i),o}},invokeObserverCallback:function(e,t,n,i){return 1===n._fireState||this._didObservedValuesChange(t,n.previousValues)?this._actuallyInvokeObserverCallback(e,t,n,i):(n.didFire=!1,n)},notifyNode:function(e,t){p.a.getDataForNode(t).didFire=!1},_actuallyInvokeObserverCallback:function(e,t,n,i){n._fireState=0,A(t,n);var r=b.a.isInsideSetter;return b.a.isInsideSetter=!1,this._substituteSignalInputsIfNeccessary(t),this.observer.apply(e,t),b.a.isInsideSetter=r,function(e,t){var n=p.a.getDataForNode(e);if(n||!T(e)){var i=_.create({previousValues:n.previousValues,_fireState:0,didFire:!0});return i.retain(),n.previousValues=null,n.release(),i}}(i)},_substituteSignalInputsIfNeccessary:function(e){if(this._observesSignals){for(var t,n,i=!1,r=this._observedTypes,a=0;a<e.length;a++)(t=r[a])===I&&(t=this._getValueType(e[a]))!==I&&(r[a]=t),t===w?((n=e[a])&&!n.didFire&&(e[a]=void 0),i=!0):t===I&&(i=!0);this._observesSignals=i}},_didObservedValuesChange:function(e,t){var n=e,i=t;if(n.length!==i.length)return!0;for(var r,a,o=this._observedTypes,s=n.length,l=0;l<s;l++)if(r=o[l],a=n[l],r===I&&(r=o[l]=this._getValueType(a)),r===w){if(a&&a.didFire)return!0}else if(a!==i[l])return!0;return!1},_getValueType:function(e){return void 0===e?I:Object(l.a)(e,_)?w:E},addDebugInfoForNode:function(e,t,n){t.type="Observer",t.object=e,t.key=this._debug_key||"(Anonymous)",t.dependencyNames=this._debug_dependencyNames,t.toString=function(){return this.object+"."+this.key},t.name=t.toString()},_getInputCollectorFromPool:function(){var e=this._inputCollectorPool;return e.length>0?e.pop():new Array(this._inputCount)},_returnInputCollectorToPool:function(e){for(var t=e.length,n=0;n<t;n++)e[n]=void 0;this._inputCollectorPool.push(e)},__superMap:{_$4vt$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ObserverNodeManager"}});function A(e,t){for(var n=t.previousValues,i=e.length,r=0;r<i;r++)n[r]=e[r]}function T(e){if(p.a.nodeIsFreeing(e))return!0;Object(a.b)("An observer with node %{nodeID} was corrupted (node data was lost)",{nodeID:e})}var O=i.a.extend({init:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r,a,l=this,c=this.notifyOnCreate,u=t[0];if(Object(o.a)(u))i=u.inputs,r=u.callback,void 0!==u.notifyOnCreate&&(c=u.notifyOnCreate),void 0!==u.onlyFireIfChanged&&(a=u.onlyFireIfChanged);else{var d=(i=t).pop();Object(s.a)(d)||(void 0!==d&&(c=d),d=i.pop()),r=d}this.inputs=i,this.callback=r,this.bindings=f.a.createForPaths(i),this.manager=this.managerClass.create(i.length,r,a),this.manager._debug_inputNames=i,this.notifyOnCreate=c,l.__s._$8ci$init.call(l)},wasRegistered:function(e,t){var n=this,i=arguments;n.__s._$8fD$wasRegistered.apply(n,i),this.manager._debug_key=t},getValue:function(e,t){return function(){var e=this.downstreamNodes[t],n=p.a.getDataForNode(e);!n&&T(e)||(n._fireState=1,p.a.setNodeToDirtyFromParent(e))}},notifyOnCreate:!0,manager:null,managerClass:C,requiresSupport:S,bindings:null,inputs:null,callback:null,allowAtCreate:!0,connect:function(e,t){for(var n,i=this.bindings,r=this.notifyOnCreate,o=0,s=i.length;o<s;o++)n=i[o],f.a.hookUpDownstreamNode(e,n,t,!0)||Object(a.b)("Observer could not hook up to one of its observed properties.",{object:e,observer:this,binding:n,bindingPath:n.path});var l=_.create({previousValues:[],_fireState:r?1:2});l.retain(),p.a.setDataForNode(l,t),e.isConnected&&p.a.triggerFlush()},__superMap:{_$8ci$init:"init",_$8fD$wasRegistered:"wasRegistered"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ObserverMetadata"}}),D=O.extend({notifyOnCreate:!1,staticMembers:{__QUALIFIED_CLASS_NAME__:"ListenerMetadata"}}),M=O.extend({node:-1,init:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=this;e&&e.hasMixin&&e.hasMixin(S)||Object(a.b)("A CW.Observer must be defined on an observable object.",{owningObject:e,inputs:n}),this.owningObject=e;var s=n[0];Object(o.a)(s)?r.__s._$BRa$init.call(this,s):r.__s._$BRa$init.apply(this,n),this.node=e.allocNode(this.manager,p.a.PULL_ON_FLUSH)},connect:function(){return this.__s._$BYG$connect.call(this,this.owningObject,this.node)},disconnect:function(){p.a.disconnectParentsFromNode(this.node)},__superMap:{_$BRa$init:"init",_$BYG$connect:"connect"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Observer"}}),N=M.extend({notifyOnCreate:!1,staticMembers:{__QUALIFIED_CLASS_NAME__:"Listener"}}),F=function(){return O.define.apply(O,arguments)},L=function(){return D.define.apply(D,arguments)},R={key:"Signal Not Set Sentinel"},x=i.a.extend({requiresSupport:S,isCacheable:!0,notifyNode:function(e,t){var n=p.a.getDataForNode(t);n.context=null,n.didFire=!1,this.didPropagate.call(e)},calculateValueForNode:function(e,t,n){var i=p.a.getStateDataForNode(t);if(n){p.a.setStateDataForNode(R,t);var r=p.a.getStateIDForNode(t);p.a.getValueForNode(r),i=p.a.getStateDataForNode(t)}return i=i===R?p.a.getDataForNode(t):P(t,this._debug_key,i),this.willPropagate.call(e,i),i},validateDescendantDownstreamNodeManager:c.a,getValue:function(e,t){return function(e){var n=this.downstreamNodes[t];if(void 0!==n){var i=e;b.a.isInsideSetter&&p.a.nodeIsDirty(n)?p.a.passValueToNode(i,n):p.a.setValueForNode(i,n)}}},didPropagate:c.a,willPropagate:c.a,wasRegistered:function(e,t){var n=this,i=arguments;n.__s._$DZ3$wasRegistered.apply(n,i),this._debug_key=t},addDebugInfoForNode:function(e,t,n){t.type="Signal",t.object=e,t.key=this._debug_key,t.toString=function(){return this.object+"."+this.key},t.name=t.toString()},initializeEvent:function(e){var t=P(e,this._debug_key,null);t.didFire=!1,p.a.setDataForNode(t,e),p.a.setStateDataForNode(R,e)},__superMap:{_$DZ3$wasRegistered:"wasRegistered"},staticMembers:{__QUALIFIED_CLASS_NAME__:"SignalMetadata"}}),P=function(e,t,n){var i=p.a.getDataForNode(e),r=_.create({type:t,context:n,didFire:!0});return r.retain(),i&&i.release(),r},k=function(){return x.create.apply(x,arguments)}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(261)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){(function(t){var n="object",i=function(e){return e&&e.Math==Math&&e};e.exports=i(typeof globalThis==n&&globalThis)||i(typeof window==n&&window)||i(typeof self==n&&self)||i(typeof t==n&&t)||Function("return this")()}).call(this,n(87))},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(159),r=n(86).b.extend({requiredKey:null,validate:function(e,t){if(this._validating)return this._validating=!1,!1;this._validating=!0;var n,r=e[t];if(Object(i.a)(r)&&r!==this.default)return this._validating=!1,!0;if(t=this.requiredKey||t,Array.isArray(t)){n=!0;for(var a=t.length,o=0;o<a;o++)n=n&&this._validate(e,t[o])}else n=this._validate(e,t);return this._validating=!1,n},_validating:!1,_validate:function(e,t){var n=e.getMetadataByType(r)[t],a=e[t];return n?n.validate(e,t):Object(i.a)(a)},getValue:function(){return this.default},default:void 0,staticMembers:{__QUALIFIED_CLASS_NAME__:"RequiredMethod"}})},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var i=n(313),r=n(17),a=n(35),o=n(101),s=n(235),l=n(138);function c(e){var t=Object(i.a)(arguments,0,1);return e.define.apply(e,t)}var u=n(99).a.extend({staticMembers:{define:function(){return this.create.apply(this,arguments)},_ancestorGuids:[],__QUALIFIED_CLASS_NAME__:"Metadata"},value:void 0,initializeMember:function(e,t){return e.hasMixin(h)||Object(r.b)("cannot add metadata to a class without CW.MetadataSupport"),e.registerMetadata(t,this,!0),this.getValue(e,t)},wasRegistered:a.a,getValue:function(e,t){return this.value},requiresSupport:null,allowedOnClass:!1,allowedOnInstance:!0,allowAtExtend:!0,allowAtRuntime:!1,allowAtCreate:!1,isOnlyMetadataForKey:!0}),d={initializeMember:function(){return{}}},h={staticMembers:{init:function(e){var t=this.prototype;f(this),f(t),this.__s._$2LT$init.call(this,e),t.initializeClass(),this.initializeClass(),this.initializeInstance()},_metadataByType:d,_metadataByKey:d,registerMetadata:p,getMetadataByType:g,getMetadata:v,initializeClass:a.a,initializeInstance:a.a,initializeRuntime:a.a,__superMap:{_$2LT$init:"init"}},init:function(e){this.__s._$33W$init.call(this,e),this.initializeInstance()},_metadataByType:d,_metadataByKey:d,registerMetadata:p,getMetadataByType:g,getMetadata:v,initializeClass:a.a,initializeInstance:a.a,initializeRuntime:a.a,__superMap:{_$33W$init:"init"}};function f(e){if(!e.hasOwnProperty("_metadataByType")){for(var t=e._metadataByType,n={},i=Object.keys(t),r=i.length,a=0;a<r;a++){var o=i[a];n[o]=Object.create(t[o])}e._metadataByType=n;var s=e._metadataByKey;e._metadataByKey=Object.create(s)}}function p(e,t,n){e||Object(r.b)("'key' is required"),t||Object(r.b)("'metadata' is required"),Object(o.a)(t,u)||Object(r.b)("Metadata must inherit from CW.Metadata");var i=t.key;i&&i!==e&&Object(r.b)("metadata cannot be registered on key '"+e+"'; it is already registered for a different key '"+i);var a=this.isClass,c=this.constructor,d=t.requiresSupport;d&&!(a?this:c).kindOf(d)&&Object(r.b)("This class does not mix in the required support for metadata of type "+Object(s.a)(t)+".",{metadata:t,requiresSupport:d});var h=this.isInitialized,p=t.allowAtExtend,m=t.allowAtCreate;if(a)t.allowedOnClass||Object(r.b)("This metadata cannot be added to a class because `allowedOnClass` is false (key: '"+e+"', class: "+this+", metadata: "+t.constructor+").",{key:e,onClass:this,metadata:t}),h||p||m||Object(r.b)("New static metadata may not be added at extend time when `allowAtExtend` and `allowAtCreate` are false (key: '"+e+"', class: "+this+", metadata: "+t.constructor+").",{key:e,onClass:this,metadata:t});else{t.allowedOnInstance||Object(r.b)("This metadata cannot be added to an instance because `allowedOnInstance` is false (key: '"+e+"', instance of: "+c+", metadata: "+t.constructor+").",{key:e,instance:this,metadata:t});var g=c.isInitialized;g||h||p||Object(r.b)("New metadata may not be added in extend when `allowAtExtend` is false (key: '"+e+"', instance of: "+c+", metadata: "+t.constructor+").",{key:e,instance:this,metadata:t}),!g||h||m||Object(r.b)("New metadata may not be added in create when `allowAtCreate` is false (key: '"+e+"', instance of: "+c+", metadata: "+t.constructor+").",{key:e,instance:this,metadata:t})}h&&(t.allowAtRuntime?this.initializeRuntime():Object(r.b)("New metadata may not be added at runtime when `allowAtRuntime` is false (key: '"+e+"', instance: "+this+", metadata: "+t.constructor+").",{key:e,instance:this,metadata:t}));var v=t.constructor,_=this._metadataByKey[e];_&&_.isOnlyMetadataForKey&&t.isOnlyMetadataForKey&&!t.instanceOf(_.constructor)&&Object(r.b)("isOnlyMetadataForKey metadata may only be overridden if the new value is the same type or a subclass (key: '"+e+"', target: "+this+", metadata: "+t.constructor+").",{key:e,target:this,metadata:t}),f(this);var b,y=this._metadataByKey,S=this._metadataByType;if(t.isOnlyMetadataForKey||(_=null),v.hasOwnProperty("_ancestorGuids"))b=v._ancestorGuids;else{b=v._ancestorGuids=[];for(var I=v.ancestors,w=I.length,E=0;E<w&&I[E]!==u;E++);for(E++;E<w;E++){var C=I[E];b.push(Object(l.a)(C))}b.push(Object(l.a)(v))}var A=b.length;if(!_){var T=S[b[0]];T&&(_=T[e])}for(var O=0;O<A;O++){var D=b[O],M=S[D];M||(S[D]=M={}),M[e]=t}if(t.isOnlyMetadataForKey&&(y[e]=t),t.key=e,!n){var N=t.getValue(this,e);void 0!==N&&(this[e]=N)}t.wasRegistered(this,e,_)}var m={};function g(e){return this._metadataByType[Object(l.a)(e)]||m}function v(e){return this._metadataByKey[e]}},function(e,t,n){},function(e,t,n){"use strict";var i=n(201),r=n(99),a=n(132),o=n(17),s=n(385),l=n(10),c=n(239),u=n(203),d=n(238),h=n(15),f=[],p=[],m=[],g=[],v=[],_=[],b=[],y=0,S=[],I=0;function w(){var e;return e=I>0?S[--I]:y++,f[e]=l.a.NULL_INDEX,p[e]=void 0,g[e]=void 0,m[e]=l.a.NULL_INDEX,v[e]=l.a.NULL_INDEX,_[e]=l.a.NULL_INDEX,b[e]=l.a.NULL_INDEX,e}var E=d.a.extend({staticMembers:{init:function(){var e=this,t=arguments;e.__s._$1wK$init.apply(e,t),this.managers={}},instanceFor:function(e,t){var n=this.managers[t];return n||(n=this.managers[t]=this.create(e,t)),n},__superMap:{_$1wK$init:"init"},__QUALIFIED_CLASS_NAME__:"ChainedLookupNodeManager"},type:"ChainedLookupNodeManager",lookupID:"",init:function(e,t){this.__s._$2LQ$init.call(this),this.lookupID=this.type+": "+t,this.key=e,this.lookupPath=t},setUpForObject:function(e,t,n){var i=t.downstreamNodes,r=this.lookupID,a=l.a._sanitizeNodeID(i[r]);if(a<0){i[r]=a=t.allocNode(this,l.a.PULL_ON_FLUSH|l.a.FREE);var o=w();f[o]=n,l.a.addChildToNode(a,n,!0),l.a.setDataForNode(o,a)}return a},calculateValueForNode:function(e,t,n){var i=l.a.getDataForNode(t),r=g[l.a.getValueForNode(f[i])];l.a.getParentIDs(t,A);var a=A[1];if(r!==p[i]){if(a>=0&&l.a.removeChildFromNode(t,a),a=l.a.NULL_INDEX,r){var o=this.key,s=r.downstreamNodes;s&&(a=l.a._sanitizeNodeID(s[o])),a>=0?l.a.addChildToNode(t,a,!1):F(this.key,this.lookupPath,r)}p[i]=r}return g[i]=a>0?l.a.getValueForNode(a):void 0,i},nodeWillFree:function(e,t){var n;n=l.a.getDataForNode(t),f[n]=l.a.NULL_INDEX,m[n]=l.a.NULL_INDEX,p[n]=void 0,g[n]=void 0,v[n]=l.a.NULL_INDEX,_[n]=l.a.NULL_INDEX,b[n]=l.a.NULL_INDEX,S[I++]=n},addDebugInfoForNode:function(e,t,n){t.type=this.type,t.object=e,t.key=this.lookupID,t.toString=function(){return this.object+"."+this.key},t.name=t.toString()},__superMap:{_$2LQ$init:"init"}}),C=E.extend({staticMembers:{instanceFor:function(e){var t=this.managers[e];return t||(t=this.managers[e]=this.create(e)),t},__QUALIFIED_CLASS_NAME__:"ChainedLookupRootNodeManager"},type:"ChainedLookupRootNodeManager",init:function(e){this.__s._$4NT$init.call(this,e,e)},setUpForObject:function(e,t){var n,i=t.downstreamNodes,r=this.lookupID,a=l.a._sanitizeNodeID(i[r]);if(a<0){(n=l.a._sanitizeNodeID(i[this.key]))<0&&Object(o.b)("Chained binding could not look up key on object (key: "+this.key+", object: "+t+").",{key:this.key,object:t}),i[r]=a=t.allocNode(this,l.a.PULL_ON_FLUSH|l.a.FREE);var s=w();l.a.setDataForNode(s,a),p[s]=t,l.a.addChildToNode(a,n,!0)}return a},calculateValueForNode:function(e,t,n){var i=l.a.getDataForNode(t);l.a.getParentIDs(t,A);var r=A[0],a=l.a.getValueForNode(r);return g[i]=a,i},__superMap:{_$4NT$init:"init"}}),A=[0,0],T=[0],O=d.a.extend({calculateValueForNode:function(e,t,n){if(n){var i=l.a.getDataForNode(t),r=b[i];l.a.getValueForNode(r),l.a.getParentIDs(t,A);var a,o=A[1];return l.a._sanitizeNodeID(o)>0&&(a=l.a.getValueForNode(o)),a}return l.a.getStateDataForNode(t)},isCacheable:!1,addDebugInfoForNode:function(e,t,n){t.type="ChainedLookupProxyNode (downstream)",t.object=e,t.key="[downstream proxy]",t.toString=function(){return this.object+"[downstream proxy]"},t.name=t.toString()},validateDescendantDownstreamNodeManager:function(e,t,n){l.a.getParentIDs(n,A);var i=A[1];i!==l.a.NULL_INDEX&&l.a.getManagerForNode(i).validateDescendantDownstreamNodeManager(e,t,i)},didAddParentToNode:function(e,t,n,i){if(1!==i){l.a.getChildrenIDs(t,T);var r=T[0];if(r!==l.a.NULL_INDEX){var a=l.a.getManagerForNode(r);a.isDependentComputedProperty||a.instanceOf(c.a)&&l.a.getManagerForNode(n).validateDescendantDownstreamNodeManager(a,r,n)}}}}).create(),D=u.b.extend({calculateValueForNode:function(e,t,n){var i=l.a.getDataForNode(t);l.a.getChildrenIDs(t,T);var r,a=T[0];if(!l.a.isValidNodeID(a))return i;if(n){var o=l.a.getStateIDForNode(t);r=this.pullDataFromParent(t,o)}else r=l.a.getStateDataForNode(t);return r!==u.a&&l.a.passValueToNode(r,a),i},addDebugInfoForNode:function(e,t,n){t.type="ChainedLookupProxyNode (upstream)",t.object=e,t.key="[upstream proxy]",t.toString=function(){return this.object+"[upstream proxy]"},t.name=t.toString()}}).create(),M=E.extend({type:"ChainedLookupTerminalNodeManager",connectUpstreamProxyNodeToLookedUpNodes:function(e,t,n){l.a.addChildToNode(e,t,n)},connectDownstreamProxyNodeToLookedUpNodes:function(e,t){l.a.addChildToNode(e,t,!1)},disconnectProxyNodeFromLookupUpNodes:function(e,t){l.a.removeChildFromNode(e,t)},getDownstreamProxyNode:function(e){var t=e.downstreamNodes,n=this.lookupID,i=l.a._sanitizeNodeID(t[n]),r=l.a.getDataForNode(i);return v[r]},getUpstreamProxyNode:function(e){var t=e.downstreamNodes,n=this.lookupID,i=l.a._sanitizeNodeID(t[n]),r=l.a.getDataForNode(i);return _[r]},setUpForObject:function(e,t,n,i){var r,a,o,s=t.downstreamNodes,c=this.lookupID,u=l.a._sanitizeNodeID(s[c]);return u<=0&&(s[c]=u=t.allocNode(this,l.a.PULL_ON_FLUSH|l.a.FREE|l.a.RELATIONSHIPS),r=w(),l.a.setDataForNode(r,u),b[r]=u,f[r]=n,a=t.allocNode(O,l.a.RELATIONSHIPS),s["Downstream Proxy for "+c]=a,v[r]=a,l.a.setDataForNode(r,a),l.a.addChildToNode(a,u,!1),o=t.allocNode(D,l.a.RELATIONSHIPS),t.upstreamNodes["Upstream Proxy for "+c]=o,_[r]=o,l.a.setDataForNode(r,o),this._shouldFlushUpstream=!!i,l.a.addChildToNode(u,n,!0)),u},getPreviouslyProxiedDownstreamNode:function(e){return l.a.getParentIDs(e,A),A[1]},calculateValueForNode:function(e,t,n){var i=l.a.getDataForNode(t),r=g[l.a.getValueForNode(f[i])],a=p[i];if(r!==a){p[i]=r;var o=this.key,s=_[i],c=v[i],u=this.getPreviouslyProxiedDownstreamNode(c),d=m[i];if(a&&(m[i]=l.a.NULL_INDEX,this.disconnectFromPreviousProperty(a,o,d,u,s,c)),r){var h,b,y=r.downstreamNodes;y&&(h=l.a._sanitizeNodeID(y[o])),(y=r.upstreamNodes)&&(b=l.a._sanitizeNodeID(y[o])),this.hookUpToNewProperty(r,o,b,h,s,c),m[i]=b}}return this._shouldFlushUpstream=!1,i},disconnectFromPreviousProperty:function(e,t,n,i,r,a){a>=0&&i>=0&&this.disconnectProxyNodeFromLookupUpNodes(a,i),r>=0&&n>=0&&this.disconnectProxyNodeFromLookupUpNodes(n,r)},hookUpToNewProperty:function(e,t,n,i,r,a){i>0?(n>0&&this.connectUpstreamProxyNodeToLookedUpNodes(n,r,this._shouldFlushUpstream),this.connectDownstreamProxyNodeToLookedUpNodes(a,i)):F(this.key,this.lookupPath,e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ChainedLookupTerminalNodeManager"}}),N=M.extend({init:function(e,t){t+="Downstream",this.__s._$B5c$init.call(this,e,t)},connectUpstreamProxyNodeToLookedUpNodes:function(e,t,n){l.a.addChildToNode(t,e,n)},connectDownstreamProxyNodeToLookedUpNodes:function(e,t){l.a.addChildToNode(t,e,!0)},getPreviouslyProxiedDownstreamNode:function(e){return l.a.getChildrenIDs(e,T),T[0]},disconnectProxyNodeFromLookupUpNodes:function(e,t){l.a.removeChildFromNode(t,e)},disconnectFromPreviousProperty:function(e,t){e.isDisposed||e.unbind(t)},hookUpToNewProperty:function(e,t,n,i,r,a){var o=this,s=arguments,c=e.getMetadataByType(h.a)[t];c||F(this.key,this.lookupPath,e),c._disconnectNodes(i,n),c._configurePropertyAsBound(i,n),o.__s._$Bmt$hookUpToNewProperty.apply(o,s),l.a.triggerFlush()},nodeWillFree:function(e,t){var n=this.key,i=l.a.getDataForNode(t),r=p[i];r&&!r.isDisposed&&r.unbind(n),this.__s._$Bz3$nodeWillFree.call(this,e,t)},__superMap:{_$B5c$init:"init",_$Bmt$hookUpToNewProperty:"hookUpToNewProperty",_$Bz3$nodeWillFree:"nodeWillFree"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamChainedLookupTerminalNodeManager"}});function F(e,t,n){var i;i=n&&n.constructor?"an instance of "+n.constructor.toString():n?n+"":"a missing object ("+n+")",Object(o.b)("Attempted to bind or observe a non-observable property: '"+e+"' on "+i+", via path '"+t+"'.",{key:e,lookupPath:t,object:n})}n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return P})),n.d(t,"c",(function(){return U}));var L={upstreamNode:0,downstreamNode:0,clear:function(){this.upstreamNode=0,this.downstreamNode=0}},R=Object(i.b)("BindingConnection",(function(e){e("CONNECT"),e("DONT_CONNECT"),e("OPTIONAL")})),x=Symbol("CW.OWNER"),P=r.a.extend(R.toStaticMixin(),{staticMembers:{createForPaths:function(e){var t,n,i=e?e.length:0,r=new Array(i);if(!e)return r;for(t=0;t<i;t++)(n=e[t]).instanceOf&&n.instanceOf(this)||(n=this.create(n)),r[t]=n;return r},hookUpBinding:function(e,t,n,i,r,o,s){t&&Object(a.a)(t)&&(t=this.create(t)),n&&Object(a.a)(n)&&(n=this.create(n)),void 0===o&&(o=this.OPTIONAL),void 0===s&&(s=this.CONNECT),L.clear(),k(e,t,i,!0,L);var c=L.upstreamNode,u=L.downstreamNode;L.clear(),k(e,n,i,!1,L);var d=L.upstreamNode,h=L.downstreamNode;if(s!==this.DONT_CONNECT)if(u>0&&h>0)l.a.addChildToNode(h,u,r);else if(s===this.CONNECT)return!1;if(o!==this.DONT_CONNECT)if(c>0&&d>0)l.a.addChildToNode(c,d,i);else if(o===this.CONNECT)return!1;return!0},hookUpDownstreamNode:function(e,t,n,i){L.clear(),k(e,t,!1,!0,L);var r=L.downstreamNode;return!(r<=0)&&(l.a.addChildToNode(n,r,i),!0)},__QUALIFIED_CLASS_NAME__:"Binding"},rootObject:null,path:"",components:null,init:function(e,t){this.__s._$3ez$init.call(this),e||Object(o.b)("Cannot create CW.Binding with no path.",{path:e});var n=!1;"."===e[0]&&(n=!0,e=e.substring(1));var i=Object(s.a)(e),r=i[0];n||("global"===r||"\ud83c\udf10"===r?(t=window,i.shift()):"(owner)"===r&&(t&&Object(o.b)("Cannot create a CW.Binding relative to (owner): %{path}. It already has a root object.",{rootObject:t,path:e}),t=x,i.shift())),t!==x&&0===i.length&&Object(o.b)("Cannot create CW.Binding with an invalid path ('%{path}').",{path:e,rootObject:t}),this.components=i,this.path=i.join("."),t&&(this.rootObject=t)},__superMap:{_$3ez$init:"init"}});function k(e,t,n,i,r){var a,s=t.components,c=s.length,u=0,d=t.rootObject||e;for(d===x&&Object(o.b)("CW.Binding cannot resolve path %{path}. (owner) was specified, but a value was not provided.",{path:t.path}),a=s[u];d&&(!d.downstreamNodes||!d.downstreamNodes.hasOwnProperty(a));)d=d[a],a=s[++u];if(!d||u===c){var h=s.join(".");Object(o.b)("No observable properties found along binding path ("+h+").",{object:e,path:h})}return u===c-1?function(e,t,n){var i=e.upstreamNodes[t];(i=l.a._sanitizeNodeID(i))>0&&(n.upstreamNode=i);var r=e.downstreamNodes[t];return(r=l.a._sanitizeNodeID(r))>0&&(n.downstreamNode=r),n}(d,a,r):function(e,t,n,i,r,a,o){var s,l,c=n.length,u=n[i],d=u;for(s=C.instanceFor(u).setUpForObject(e,t),i++;i<c-1;i++)d+="."+(u=n[i]),s=E.instanceFor(u,d).setUpForObject(e,t,s);return d+="."+(u=n[i]),(l=a?M.instanceFor(u,d):N.instanceFor(u,d)).setUpForObject(e,t,s,r),o.downstreamNode=l.getDownstreamProxyNode(t),o.upstreamNode=l.getUpstreamProxyNode(t),o}(e,d,s,u,n,i,r)}function U(e){return P.create(e)}},function(e,t,n){},function(e,t,n){},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t,n){var i=n(59);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){},function(e,t,n){!function(){"use strict";var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(){if("undefined"!==typeof window){var n=Array.prototype.slice,i=Element.prototype.matches||Element.prototype.msMatchesSelector,r=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","details","summary","iframe","object","embed","[contenteditable]"].join(","),a=function(){function a(e,n){t(this,a),this._inertManager=n,this._rootElement=e,this._managedNodes=new Set,this._rootElement.hasAttribute("aria-hidden")?this._savedAriaHidden=this._rootElement.getAttribute("aria-hidden"):this._savedAriaHidden=null,this._rootElement.setAttribute("aria-hidden","true"),this._makeSubtreeUnfocusable(this._rootElement),this._observer=new MutationObserver(this._onMutation.bind(this)),this._observer.observe(this._rootElement,{attributes:!0,childList:!0,subtree:!0})}return e(a,[{key:"destructor",value:function(){this._observer.disconnect(),this._rootElement&&(null!==this._savedAriaHidden?this._rootElement.setAttribute("aria-hidden",this._savedAriaHidden):this._rootElement.removeAttribute("aria-hidden")),this._managedNodes.forEach((function(e){this._unmanageNode(e.node)}),this),this._observer=null,this._rootElement=null,this._managedNodes=null,this._inertManager=null}},{key:"_makeSubtreeUnfocusable",value:function(e){var t=this;l(e,(function(e){return t._visitNode(e)}));var n=document.activeElement;if(!document.body.contains(e)){for(var i=e,r=void 0;i;){if(i.nodeType===Node.DOCUMENT_FRAGMENT_NODE){r=i;break}i=i.parentNode}r&&(n=r.activeElement)}e.contains(n)&&(n.blur(),n===document.activeElement&&document.body.focus())}},{key:"_visitNode",value:function(e){if(e.nodeType===Node.ELEMENT_NODE){var t=e;t!==this._rootElement&&t.hasAttribute("inert")&&this._adoptInertRoot(t),(i.call(t,r)||t.hasAttribute("tabindex"))&&this._manageNode(t)}}},{key:"_manageNode",value:function(e){var t=this._inertManager.register(e,this);this._managedNodes.add(t)}},{key:"_unmanageNode",value:function(e){var t=this._inertManager.deregister(e,this);t&&this._managedNodes.delete(t)}},{key:"_unmanageSubtree",value:function(e){var t=this;l(e,(function(e){return t._unmanageNode(e)}))}},{key:"_adoptInertRoot",value:function(e){var t=this._inertManager.getInertRoot(e);t||(this._inertManager.setInert(e,!0),t=this._inertManager.getInertRoot(e)),t.managedNodes.forEach((function(e){this._manageNode(e.node)}),this)}},{key:"_onMutation",value:function(e,t){e.forEach((function(e){var t=e.target;if("childList"===e.type)n.call(e.addedNodes).forEach((function(e){this._makeSubtreeUnfocusable(e)}),this),n.call(e.removedNodes).forEach((function(e){this._unmanageSubtree(e)}),this);else if("attributes"===e.type)if("tabindex"===e.attributeName)this._manageNode(t);else if(t!==this._rootElement&&"inert"===e.attributeName&&t.hasAttribute("inert")){this._adoptInertRoot(t);var i=this._inertManager.getInertRoot(t);this._managedNodes.forEach((function(e){t.contains(e.node)&&i._manageNode(e.node)}))}}),this)}},{key:"managedNodes",get:function(){return new Set(this._managedNodes)}},{key:"hasSavedAriaHidden",get:function(){return null!==this._savedAriaHidden}},{key:"savedAriaHidden",set:function(e){this._savedAriaHidden=e},get:function(){return this._savedAriaHidden}}]),a}(),o=function(){function n(e,i){t(this,n),this._node=e,this._overrodeFocusMethod=!1,this._inertRoots=new Set([i]),this._savedTabIndex=null,this._destroyed=!1,this.ensureUntabbable()}return e(n,[{key:"destructor",value:function(){if(this._throwIfDestroyed(),this._node&&this._node.nodeType===Node.ELEMENT_NODE){var e=this._node;null!==this._savedTabIndex?e.setAttribute("tabindex",this._savedTabIndex):e.removeAttribute("tabindex"),this._overrodeFocusMethod&&delete e.focus}this._node=null,this._inertRoots=null,this._destroyed=!0}},{key:"_throwIfDestroyed",value:function(){if(this.destroyed)throw new Error("Trying to access destroyed InertNode")}},{key:"ensureUntabbable",value:function(){if(this.node.nodeType===Node.ELEMENT_NODE){var e=this.node;if(i.call(e,r)){if(-1===e.tabIndex&&this.hasSavedTabIndex)return;e.hasAttribute("tabindex")&&(this._savedTabIndex=e.tabIndex),e.setAttribute("tabindex","-1"),e.nodeType===Node.ELEMENT_NODE&&(e.focus=function(){},this._overrodeFocusMethod=!0)}else e.hasAttribute("tabindex")&&(this._savedTabIndex=e.tabIndex,e.removeAttribute("tabindex"))}}},{key:"addInertRoot",value:function(e){this._throwIfDestroyed(),this._inertRoots.add(e)}},{key:"removeInertRoot",value:function(e){this._throwIfDestroyed(),this._inertRoots.delete(e),0===this._inertRoots.size&&this.destructor()}},{key:"destroyed",get:function(){return this._destroyed}},{key:"hasSavedTabIndex",get:function(){return null!==this._savedTabIndex}},{key:"node",get:function(){return this._throwIfDestroyed(),this._node}},{key:"savedTabIndex",set:function(e){this._throwIfDestroyed(),this._savedTabIndex=e},get:function(){return this._throwIfDestroyed(),this._savedTabIndex}}]),n}(),s=new(function(){function r(e){if(t(this,r),!e)throw new Error("Missing required argument; InertManager needs to wrap a document.");this._document=e,this._managedNodes=new Map,this._inertRoots=new Map,this._observer=new MutationObserver(this._watchForInert.bind(this)),c(e.head||e.body||e.documentElement),"loading"===e.readyState?e.addEventListener("DOMContentLoaded",this._onDocumentLoaded.bind(this)):this._onDocumentLoaded()}return e(r,[{key:"setInert",value:function(e,t){if(t){if(this._inertRoots.has(e))return;var n=new a(e,this);if(e.setAttribute("inert",""),this._inertRoots.set(e,n),!this._document.body.contains(e))for(var i=e.parentNode;i;)11===i.nodeType&&c(i),i=i.parentNode}else{if(!this._inertRoots.has(e))return;this._inertRoots.get(e).destructor(),this._inertRoots.delete(e),e.removeAttribute("inert")}}},{key:"getInertRoot",value:function(e){return this._inertRoots.get(e)}},{key:"register",value:function(e,t){var n=this._managedNodes.get(e);return void 0!==n?n.addInertRoot(t):n=new o(e,t),this._managedNodes.set(e,n),n}},{key:"deregister",value:function(e,t){var n=this._managedNodes.get(e);return n?(n.removeInertRoot(t),n.destroyed&&this._managedNodes.delete(e),n):null}},{key:"_onDocumentLoaded",value:function(){n.call(this._document.querySelectorAll("[inert]")).forEach((function(e){this.setInert(e,!0)}),this),this._observer.observe(this._document.body||this._document.documentElement,{attributes:!0,subtree:!0,childList:!0})}},{key:"_watchForInert",value:function(e,t){var r=this;e.forEach((function(e){switch(e.type){case"childList":n.call(e.addedNodes).forEach((function(e){if(e.nodeType===Node.ELEMENT_NODE){var t=n.call(e.querySelectorAll("[inert]"));i.call(e,"[inert]")&&t.unshift(e),t.forEach((function(e){this.setInert(e,!0)}),r)}}),r);break;case"attributes":if("inert"!==e.attributeName)return;var t=e.target,a=t.hasAttribute("inert");r.setInert(t,a)}}),this)}}]),r}())(document);Element.prototype.hasOwnProperty("inert")||Object.defineProperty(Element.prototype,"inert",{enumerable:!0,get:function(){return this.hasAttribute("inert")},set:function(e){s.setInert(this,e)}})}function l(e,t,n){if(e.nodeType==Node.ELEMENT_NODE){var i=e;t&&t(i);var r=i.shadowRoot;if(r)return void l(r,t,r);if("content"==i.localName){for(var a=i,o=a.getDistributedNodes?a.getDistributedNodes():[],s=0;s<o.length;s++)l(o[s],t,n);return}if("slot"==i.localName){for(var c=i,u=c.assignedNodes?c.assignedNodes({flatten:!0}):[],d=0;d<u.length;d++)l(u[d],t,n);return}}for(var h=e.firstChild;null!=h;)l(h,t,n),h=h.nextSibling}function c(e){if(!e.querySelector("style#inert-style, link#inert-style")){var t=document.createElement("style");t.setAttribute("id","inert-style"),t.textContent="\n[inert] {\n  pointer-events: none;\n  cursor: default;\n}\n\n[inert], [inert] * {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n",e.appendChild(t)}}}()}()},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i={WILLSEND:"willSend",SENT:"didSend",SUCCEEDED:"didSucceed",FAILED:"didFail",COMPLETED:"didComplete",ABORTED:"didAbort",FINALIZED:"didFinalize",UNSENT:"unsent",SENDING:"sending",TIMEDOUT:"timedout",PROGRESS:"didProgress"},r={GET:"GET",PATCH:"PATCH",POST:"POST",PUT:"PUT",DELETE:"DELETE"}},function(e,t,n){"use strict";var i,r=n(79),a=n(50),o=n(59),s=n(94),l=n(219),c=n(102),u=n(104),d=n(88).f,h=n(140),f=n(183),p=n(68),m=n(210),g=a.DataView,v=g&&g.prototype,_=a.Int8Array,b=_&&_.prototype,y=a.Uint8ClampedArray,S=y&&y.prototype,I=_&&h(_),w=b&&h(b),E=Object.prototype,C=E.isPrototypeOf,A=p("toStringTag"),T=m("TYPED_ARRAY_TAG"),O=!(!a.ArrayBuffer||!g),D=O&&!!f&&"Opera"!==l(a.opera),M=!1,N={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F=function(e){return o(e)&&s(N,l(e))};for(i in N)a[i]||(D=!1);if((!D||"function"!=typeof I||I===Function.prototype)&&(I=function(){throw TypeError("Incorrect invocation")},D))for(i in N)a[i]&&f(a[i],I);if((!D||!w||w===E)&&(w=I.prototype,D))for(i in N)a[i]&&f(a[i].prototype,w);if(D&&h(S)!==w&&f(S,w),r&&!s(w,A))for(i in M=!0,d(w,A,{get:function(){return o(this)?this[T]:void 0}}),N)a[i]&&c(a[i],T,i);O&&f&&h(v)!==E&&f(v,E),e.exports={NATIVE_ARRAY_BUFFER:O,NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:M&&T,aTypedArray:function(e){if(F(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(f){if(C.call(I,e))return e}else for(var t in N)if(s(N,i)){var n=a[t];if(n&&(e===n||C.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportProto:function(e,t,n){if(r){if(n)for(var i in N){var o=a[i];o&&s(o.prototype,e)&&delete o.prototype[e]}w[e]&&!n||u(w,e,n?t:D&&b[e]||t)}},exportStatic:function(e,t,n){var i,o;if(r){if(f){if(n)for(i in N)(o=a[i])&&s(o,e)&&delete o[e];if(I[e]&&!n)return;try{return u(I,e,n?t:D&&_[e]||t)}catch(l){}}for(i in N)!(o=a[i])||o[e]&&!n||u(o,e,t)}},isView:function(e){var t=l(e);return"DataView"===t||s(N,t)},isTypedArray:F,TypedArray:I,TypedArrayPrototype:w}},function(e,t,n){var i=n(50),r=n(209),a=n(210),o=n(335),s=i.Symbol,l=r("wks");e.exports=function(e){return l[e]||(l[e]=o&&s[e]||(o?s:a)("Symbol."+e))}},function(e,t,n){"use strict";e.exports=function(e){return(e=e||{}).circles?function(e){var t=[],n=[];return e.proto?function e(r){if("object"!==typeof r||null===r)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return i(r,e);var a={};for(var o in t.push(r),n.push(a),r){var s=r[o];if("object"!==typeof s||null===s)a[o]=s;else if(s instanceof Date)a[o]=new Date(s);else{var l=t.indexOf(s);a[o]=-1!==l?n[l]:e(s)}}return t.pop(),n.pop(),a}:function e(r){if("object"!==typeof r||null===r)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return i(r,e);var a={};for(var o in t.push(r),n.push(a),r)if(!1!==Object.hasOwnProperty.call(r,o)){var s=r[o];if("object"!==typeof s||null===s)a[o]=s;else if(s instanceof Date)a[o]=new Date(s);else{var l=t.indexOf(s);a[o]=-1!==l?n[l]:e(s)}}return t.pop(),n.pop(),a};function i(e,i){for(var r=Object.keys(e),a=new Array(r.length),o=0;o<r.length;o++){var s=r[o],l=e[s];if("object"!==typeof l||null===l)a[s]=l;else if(l instanceof Date)a[s]=new Date(l);else{var c=t.indexOf(l);a[s]=-1!==c?n[c]:i(l)}}return a}}(e):e.proto?function e(n){if("object"!==typeof n||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,e);var i={};for(var r in n){var a=n[r];"object"!==typeof a||null===a?i[r]=a:a instanceof Date?i[r]=new Date(a):i[r]=e(a)}return i}:function e(n){if("object"!==typeof n||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,e);var i={};for(var r in n)if(!1!==Object.hasOwnProperty.call(n,r)){var a=n[r];"object"!==typeof a||null===a?i[r]=a:a instanceof Date?i[r]=new Date(a):i[r]=e(a)}return i};function t(e,t){for(var n=Object.keys(e),i=new Array(n.length),r=0;r<n.length;r++){var a=n[r],o=e[a];"object"!==typeof o||null===o?i[a]=o:o instanceof Date?i[a]=new Date(o):i[a]=t(o)}return i}}},function(e,t,n){"use strict";n.r(t),n.d(t,"Callback",(function(){return s}));var i=n(17),r=n(98),a=-1,o=++r.f.typeCount,s={memory:r.f,typeId:o,count:0,activeCount:0,arrayCount:0,dumpStats:function(){return"Callback: "+this.count+"; "+this.activeCount+" active"},alloc:function(){var e=-1;return a>0?(e=a,0===(a=this.memory.INT_32[e>>2])&&i.b("Next free item is NULL; this is not right.")):(e=r.b(16,8),this.count++),this.memory.INT_32[e+0>>2]=0,this.memory.INT_32[e+4>>2]=-1,this.memory.INT_32[e+8>>2]=-1,this.memory.INT_32[e+12>>2]=-1,this.activeCount++,e},allocArray:function(e){var t=16*e,n=r.a(t);return this.memory.INT_32[1+(n>>2)]=e,this._initArray(n),this.arrayCount++,n},free:function(e){e<0||(this.clear(e),this.memory.INT_32[e>>2]=a,a=e,this.activeCount--)},freeShallow:function(e){e<0||(this.clearShallow(e),this.memory.INT_32[e>>2]=a,a=e,this.activeCount--)},freeArray:function(e){e<0||(this._disposeArray(e),r.c(e),this.arrayCount--)},clear:function(e){e<0||(this.memory.INT_32[e+0>>2]=0,this.memory.INT_32[e+4>>2]=-1,this.memory.INT_32[e+8>>2]=-1,s.free(this.memory.INT_32[e+12>>2]),this.memory.INT_32[e+12>>2]=-1)},clearShallow:function(e){e<0||(this.memory.INT_32[e+0>>2]=0,this.memory.INT_32[e+4>>2]=-1,this.memory.INT_32[e+8>>2]=-1,this.memory.INT_32[e+12>>2]=-1)},_disposeArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],n=0;n<t;n++){var i=e+8+16*n;this.clear(i)}},_initArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],n=0;n<t;n++){var i=e+8+16*n;this.clearShallow(i)}},clone:function(e){var t=this.alloc();return r.e(e,t,4),this._cloneFieldsFrom(t,e),t},_cloneFieldsFrom:function(e,t){var n,i;i=(n=this.memory.INT_32[e+12>>2])>0?s.clone(n):-1,this.memory.INT_32[e+12>>2]=i},dump:function(e,t){if(t||(t=[]),t.indexOf(e)>=0)return"Circular reference";t.push(e);var i={method:this.memory.INT_32[e+0>>2],owner:function(){var i=this.memory.INT_32[e+4>>2];return i>0?n(93).Animation.dump(i,t):null}.bind(this)(),previousCallback:function(){var n=this.memory.INT_32[e+8>>2];return n>0?s.dump(n,t):null}.bind(this)(),nextCallback:function(){var n=this.memory.INT_32[e+12>>2];return n>0?s.dump(n,t):null}.bind(this)()};return t.pop(),i},dumpArray:function(e,t){for(var n=this.memory.INT_32[1+(e>>2)],i=[],r=0;r<n;r++)i.push(this.dump(e+8+16*r,t));return{array:i,length:n,allocatedSpace:this.memory.INT_32[e>>2]}},arrayFromJSArray:function(e,t){for(var n=e.length,i=this.allocArray(n),a=0;a<n;a++){var o=e[a],s=i+8+16*a;r.e(o,s,4),t?this.freeShallow(o):this._cloneFieldsFrom(s,o)}return i},putArrayIntoJSArray:function(e,t,n){var i=this.memory.INT_32[1+(e>>2)];t.length=i;for(var r=0;r<i;r++)t[r]=e+8+16*r},itemAtIndex:function(e,t){return e+8+16*t},lengthForArray:function(e){return this.memory.INT_32[1+(e>>2)]},getMethod:function(e){return this.memory.INT_32[e+0>>2]},setMethod:function(e,t){this.memory.INT_32[e+0>>2]=t},getOwner:function(e){return this.memory.INT_32[e+4>>2]},setOwner:function(e,t){this.memory.INT_32[e+4>>2],this.memory.INT_32[e+4>>2]=t},takeOwner:function(e){var t=this.memory.INT_32[e+4>>2];return this.memory.INT_32[e+4>>2]=-1,t},getPreviousCallback:function(e){return this.memory.INT_32[e+8>>2]},setPreviousCallback:function(e,t){this.memory.INT_32[e+8>>2],this.memory.INT_32[e+8>>2]=t},takePreviousCallback:function(e){var t=this.memory.INT_32[e+8>>2];return this.memory.INT_32[e+8>>2]=-1,t},getNextCallback:function(e){return this.memory.INT_32[e+12>>2]},setNextCallback:function(e,t){var n=this.memory.INT_32[e+12>>2];this.memory.INT_32[e+12>>2]=t,n>0&&s.free(n)},takeNextCallback:function(e){var t=this.memory.INT_32[e+12>>2];return this.memory.INT_32[e+12>>2]=-1,t}};r.g(s),r.h(s.typeId,s)},function(e,t,n){var i=n(129),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,a;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!==r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=i;0!==r--;){var o=a[r];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var i=n(36);e.exports=!i((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(235),r=n(138),a=n(99),o=n(24),s=a.a.extend(o.b,{toString:function(){return"[Object "+Object(i.a)(this)+":"+Object(r.a)(this)+"]"},toJSON:function(){return this.toString()},staticMembers:{__QUALIFIED_CLASS_NAME__:"CoreObject"}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return b}));var i=n(159),r=n(108),a=n(17),o=n(149),s=n(392),l=n(54),c=n(391),u=n(268);function d(e,t,n){return(d=h()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&f(r,n.prototype),r}).apply(null,arguments)}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=l.a.extend({instantiate:null,init:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=this,a=n[0];e===Array?e=a||[]:e===Object&&(e=a||{}),this.value=e,this.configs=n,r.__s._$1Pq$init.call(r)},wasRegistered:function(e,t){var n=this.value;Object(c.a)(n)?this.instantiate=m:Object(i.a)(n)?this.instantiate=g:Array.isArray(n)||Object(r.a)(n)?this.instantiate=v:Object(a.b)("Error on key '%{key}': CW.instance may only instantiate CW classes, JavaScript constructors, and arrays.",{key:t,object:e,type:n})},configs:null,requiresSupport:b,isOnlyMetadataForKey:!1,allowedOnClass:!0,allowAtCreate:!0,__superMap:{_$1Pq$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Instance"}}),m=function(e,t,n){if(!Object(o.a)(t))return t;if(Object(u.a)(t))return t;var i,a;Object(r.a)(t)||Array.isArray(t)?(i=this.value,a=[t]):(i=t,a=this.configs);var s=i.create.apply(i,a);return s.owner=s.owner||n,s},g=function(e,t,n){return Object(i.a)(t)?d(t,this.configs):t},v=function(e,t,n){return Object(s.a)(t)};function _(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return p.define.apply(p,[e].concat(n))}var b={mixinDependencies:[l.b],staticMembers:{initializeInstance:function(){var e=this.getMetadataByType(p);for(var t in e){var n,i=e[t];n=this.hasOwnProperty(t)?this[t]:i.value,this[t]=i.instantiate(t,n,this)}this.__s._$2fY$initializeInstance.call(this)},__superMap:{_$2fY$initializeInstance:"initializeInstance"}},initializeInstance:function(){var e=this.getMetadataByType(p);for(var t in e){var n=e[t],i=this[t];this[t]=n.instantiate(t,i,this)}this.__s._$2m4$initializeInstance.call(this)},__superMap:{_$2m4$initializeInstance:"initializeInstance"}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return f}));var i=n(201),r=n(83),a=n(86),o=n(158),s=n(24),l=n(52),c=n(317),u=Object(i.b)("GestureRecognizerState",(function(e){e("Possible"),e("Failed"),e("Ended"),e("Began"),e("Changed"),e("Cancelled")})),d=u.Possible,h=u.Failed,f=r.a.extend(a.a,o.a,{delegate:c.a,event:"",shouldPreventDefault:!0,location:null,ignore:function(e){this.sequence.gestureRecognizerIgnoredPointerId(this,e.pointerId)},isEnabled:!0,state:Object(s.c)({type:u,defaultValue:d,set:function(e){if(this._isDone&&e!==h)throw new Error("GestureRecognizer: cannot set `state`. The state machine has already finished.");var t=this._stateMachine.next(e),n=t.value;n&&(e=n),t.done&&!this._isDone&&(this._isDone=!0),this._state=e;var i=this.sequence;return i&&i.gestureRecognizerStateChanged(this,e),this._state}}),view:null,pointerDown:l.a.define(),pointerMove:l.a.define(),pointerUp:l.a.define(),pointerCancel:l.a.define(),reset:function(){this._isDone=!1,this.sequence=null,this._initializeStateMachine()},shouldBegin:function(){return this.delegate.gestureRecognizerShouldBegin(this)},shouldReceive:function(e){return"click"!==e.type&&this.delegate.gestureRecognizerShouldReceive(this,e)},shouldRecognizeSimultaneouslyWith:function(e){return this.delegate.gestureRecognizerShouldRecognizeSimultaneouslyWith(this,e)},shouldRequireFailureOf:function(e){return this.delegate.gestureRecognizerShouldRequireFailureOf(this,e)},shouldBeRequiredToFailBy:function(e){return this.delegate.gestureRecognizerShouldBeRequiredToFailBy(this,e)},gestureWasRecognized:function(){var e=this.event;if(!e)throw new Error("GestureRecognizer: event may not be empty");this.view.sendEvent(e,this)},stateGenerator:null,_initializeStateMachine:function(){this._stateMachine=this.stateGenerator(this),this._stateMachine.next(),this.state=d},init:function(){var e=this,t=arguments;this._stateMachine=this.stateGenerator(this),this._stateMachine.next(),e.__s._$5Io$init.apply(e,t)},initFromPool:function(){var e=this,t=arguments;this._initializeStateMachine(),e.__s._$5KA$initFromPool.apply(e,t)},didEnterPool:function(){this.reset();var e=this.constructor.prototype;this.isEnabled=e.isEnabled,this.shouldPreventDefault=e.shouldPreventDefault,this.__s._$5Px$didEnterPool.call(this)},dispose:function(){this._isDone=!1,this.__s._$5SI$dispose.call(this)},_stateMachine:null,_isDone:!1,sequence:Object(s.c)({strong:!0}),__superMap:{_$5Io$init:"init",_$5KA$initFromPool:"initFromPool",_$5Px$didEnterPool:"didEnterPool",_$5SI$dispose:"dispose"},staticMembers:{__QUALIFIED_CLASS_NAME__:"GestureRecognizer"}})},function(e,t,n){"use strict";var i=n(17),r={staticMembers:{init:function(e){return this.isAbstract&&!this.hasOwnProperty("isAbstract")&&(this.isAbstract=!1),this.__s._$EA$init.call(this,e)},isAbstract:!0,__superMap:{_$EA$init:"init"}},init:function(e){this.constructor.isAbstract?Object(i.b)("this class cannot be instantiated because it is abstract"):this.__s._$Ke$init.call(this,e)},__superMap:{_$Ke$init:"init"}},a=n(54);n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));var o={mixinDependencies:[r,a.b],initializeClass:function(){var e=s(this),t=this.constructor;t.isAbstract=!!e,t.missingRequires=e,this.__s._$uM$initializeClass.call(this)},staticMembers:{initializeClass:function(){var e=s(this);this.isAbstract=this.isAbstract||!!e,this.missingRequires+=e,this.__s._$12U$initializeClass.call(this)},__superMap:{_$12U$initializeClass:"initializeClass"}},init:function(e){this.constructor.isAbstract?Object(i.b)(this+" cannot be instantiated because it is abstract. Missing keys: "+this.constructor.missingRequires):this.__s._$19r$init.call(this,e)},__superMap:{_$uM$initializeClass:"initializeClass",_$19r$init:"init"}};function s(e){var t=e.getMetadataByType(l),n="";for(var i in t)t[i].validate(e,i)||(n+="\n    "+i);return n}var l=a.a.extend({validate:function(e,t){return t in e},requiresSupport:o,isOnlyMetadataForKey:!1,allowedOnClass:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"Required"}})},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){var i=n(79),r=n(330),a=n(60),o=n(136),s=Object.defineProperty;t.f=i?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),r)try{return s(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(103);e.exports=function(e){return Object(i(e))}},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(24),r=n(320).a.extend({metadataType:i.a,staticMembers:{__QUALIFIED_CLASS_NAME__:"RequiredProperty"}})},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"Animation",(function(){return l}));var i=n(17),r=n(98),a=n(70),o=-1,s=++r.f.typeCount,l={memory:r.f,typeId:s,count:0,activeCount:0,arrayCount:0,dumpStats:function(){return"Animation: "+this.count+"; "+this.activeCount+" active"},alloc:function(){var e=-1;return o>0?(e=o,0===(o=this.memory.INT_32[e>>2])&&i.b("Next free item is NULL; this is not right.")):(e=r.b(16,8),this.count++),this.memory.INT_32[e+0>>2]=-1,this.memory.INT_32[e+4>>2]=-1,this.memory.INT_32[e+8>>2]=0,this.activeCount++,e},allocArray:function(e){var t=16*e,n=r.a(t);return this.memory.INT_32[1+(n>>2)]=e,this._initArray(n),this.arrayCount++,n},free:function(e){e<0||(this.clear(e),this.memory.INT_32[e>>2]=o,o=e,this.activeCount--)},freeShallow:function(e){e<0||(this.clearShallow(e),this.memory.INT_32[e>>2]=o,o=e,this.activeCount--)},freeArray:function(e){e<0||(this._disposeArray(e),r.c(e),this.arrayCount--)},clear:function(e){if(!(e<0)){var t,n=null;n=this.getAnimatorType(e),t=this.memory.INT_32[e+0>>2],n&&t>0&&n.free(t),this.setAnimatorType(e,null),this.memory.INT_32[e+0>>2]=-1,a.Callback.free(this.memory.INT_32[e+4>>2]),this.memory.INT_32[e+4>>2]=-1,this.memory.INT_32[e+8>>2]=0}},clearShallow:function(e){e<0||(this.memory.INT_32[e+0>>2]=-1,this.memory.INT_32[e+4>>2]=-1,this.memory.INT_32[e+8>>2]=0)},_disposeArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],n=0;n<t;n++){var i=e+8+16*n;this.clear(i)}},_initArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],n=0;n<t;n++){var i=e+8+16*n;this.clearShallow(i)}},clone:function(e){var t=this.alloc();return r.e(e,t,4),this._cloneFieldsFrom(t,e),t},_cloneFieldsFrom:function(e,t){var n=-1,i=-1;i=(n=this.memory.INT_32[e+0>>2])>0?this.getAnimatorType(t).clone(n):-1,this.memory.INT_32[e+0>>2]=i,i=(n=this.memory.INT_32[e+4>>2])>0?a.Callback.clone(n):-1,this.memory.INT_32[e+4>>2]=i},dump:function(e,t){if(t||(t=[]),t.indexOf(e)>=0)return"Circular reference";t.push(e);var n={animator:function(){var n=this.memory.INT_32[e+0>>2];return n>0?this.getAnimatorType(e).dump(n,t):null}.bind(this)(),firstCallback:function(){var n=this.memory.INT_32[e+4>>2];return n>0?a.Callback.dump(n,t):null}.bind(this)(),animatorType:this.memory.INT_32[e+8>>2]};return t.pop(),n},dumpArray:function(e,t){for(var n=this.memory.INT_32[1+(e>>2)],i=[],r=0;r<n;r++)i.push(this.dump(e+8+16*r,t));return{array:i,length:n,allocatedSpace:this.memory.INT_32[e>>2]}},arrayFromJSArray:function(e,t){for(var n=e.length,i=this.allocArray(n),a=0;a<n;a++){var o=e[a],s=i+8+16*a;r.e(o,s,4),t?this.freeShallow(o):this._cloneFieldsFrom(s,o)}return i},putArrayIntoJSArray:function(e,t,n){var i=this.memory.INT_32[1+(e>>2)];t.length=i;for(var r=0;r<i;r++)t[r]=e+8+16*r},itemAtIndex:function(e,t){return e+8+16*t},lengthForArray:function(e){return this.memory.INT_32[1+(e>>2)]},getAnimator:function(e){return this.memory.INT_32[e+0>>2]},setAnimator:function(e,t,n){var i=this.memory.INT_32[e+0>>2];this.memory.INT_32[e+0>>2]=t;var r=this.getAnimatorType(e);r&&i>0&&i!==t&&r.free(i),this.setAnimatorType(e,n)},takeAnimator:function(e){var t=this.memory.INT_32[e+0>>2];return this.memory.INT_32[e+0>>2]=-1,t},getFirstCallback:function(e){return this.memory.INT_32[e+4>>2]},setFirstCallback:function(e,t){var i=this.memory.INT_32[e+4>>2];this.memory.INT_32[e+4>>2]=t,i>0&&n(70).Callback.free(i)},takeFirstCallback:function(e){var t=this.memory.INT_32[e+4>>2];return this.memory.INT_32[e+4>>2]=-1,t},getAnimatorType:function(e){var t=this.memory.INT_32[e+8>>2];return r.d(t)},setAnimatorType:function(e,t){t=t?t.typeId:-1,this.memory.INT_32[e+8>>2]=t}};r.g(l),r.h(l.typeId,l)},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return S})),n.d(t,"e",(function(){return I})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return A})),n.d(t,"d",(function(){return T}));var i=0,r=0,a=null,o=null,s=null,l=null,c=null,u=null,d=null,h=new Float64Array(1),f=null,p={INT_8:a,INT_16:o,INT_32:s,UINT_8:l,UINT_16:c,UINT_32:u,FLOAT_32:d,FLOAT_64:h,typeCount:0};function m(e){f=new ArrayBuffer(e);var t=new Float64Array(f);t.set(h),h=t,p.INT_8=a=new Int8Array(f),p.INT_16=o=new Int16Array(f),p.INT_32=s=new Int32Array(f),p.UINT_8=l=new Uint8Array(f),p.UINT_16=c=new Uint16Array(f),p.UINT_32=u=new Uint32Array(f),p.FLOAT_32=d=new Float32Array(f),p.FLOAT_64=h=new Float64Array(f),r=e}function g(e,t){var n=i=Math.ceil(i/t)*t;for(i+=e;i>r;)m(2*r);return n}m(8388608),g(128,128);for(var v=new Int32Array(32),_=0;_<32;_++)v[_]=-1;function b(e){return Math.ceil(Math.log(e)/Math.LN2)}function y(e){var t=e+8,n=b(t);t=Math.pow(2,n);var i=v[n],r=-1;return i>=0?(i=s[1+((r=i)>>2)],v[n]=i):(r=g(t,8),s[r>>2]=t),r<=0&&CW.fatalError("Allocated a bad block"),r}function S(e){e<=0&&CW.fatalError("Tried to free a block that doesn't exist");var t=b(s[e>>2]);s[1+(e>>2)]=v[t],v[t]=e}function I(e,t,n){var i=e>>2,r=i+n,a=0,o=0;for(a=i,o=t>>2;a<r;a++,o++)s[o]=s[a]}var w=[];function E(e){w.push(e)}var C=[{}];function A(e,t){C[e]=t}function T(e){return C[e]}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return I}));var i=n(17),r=n(35),a=n(235),o=n(200),s=n(385),l=n(386),c=n(158),u=0,d={isClass:!0,name:null,isNamed:null,mixins:[],ancestors:[],superclass:null,create:function(){var e=new this.Constructor;return e.init.apply(e,arguments),e._baseInitCalled||Object(i.b)("Base init was never invoked. Overridden init methods must always call `super()`."),e.isInitialized=!0,e},mixinWasApplied:r.a,isInitialized:!0,extend:function(){var e=Object.create(this),t=e.prototype=Object.create(e.prototype);e.isInitialized=!1,t.isInitialized=!1,e.mixins=e.mixins.slice();var n=function(){};return n.prototype=t,e.Constructor=n,t.constructor=e,e.ancestors=this.ancestors.slice(),e.ancestors.push(this),e.superclass=this,f(e,arguments),e._baseInitCalled=!1,t._baseInitCalled=!1,e.init(),e._baseInitCalled||Object(i.b)("Base init was never invoked. Overridden init methods must always call `super()`."),e.isInitialized=!0,e},init:function(){this._baseInitCalled=!0},hasMixin:function(e){return this.mixins.indexOf(e)>=0},subclassOf:function(e){return this.ancestors.indexOf(e)>=0},kindOf:function(e){return!!e&&(this.hasMixin(e)||this.subclassOf(e)||this===e)},toString:function(){return"[Class "+Object(a.a)(this)+"]"},toJSON:function(){return this.toString()},prototype:{_cwGUID:"",init:function(e){arguments.length>1&&Object(i.b)("Default initializer supports at most one argument. If you would like to apply a mixin it should be done when calling .extend()."),S(this,e),this.trackReferences&&g(this),this._baseInitCalled=!0},_baseInitCalled:!1,_metadataKeysForCreate:null,isObject:!0,isInitialized:!0,isDisposing:!1,isDisposed:!1,_retainCount:0,retain:function(e,t){this.isDisposed&&Object(i.b)("Cannot retain an object that has already been disposed.",{object:this,type:this.constructor.name,referencer:e,description:t}),this._retainCount++,this._trackRetain(e,t);var n=this._autoreleaseForTransferToken;return isNaN(n)||(this._autoreleaseForTransferToken=NaN,Object(o.a)(this,n)),this},release:function(e,t){var n=--this._retainCount,r=this._autoreleaseForTransferToken;return isNaN(r)||(this._autoreleaseForTransferToken=NaN),this._trackRelease(e,t),n<0&&Object(i.b)("Cannot release an object more times than it has been retained.",{object:this,type:this.constructor.name,referencer:e,description:t,referenceTracker:this.referenceTracker,overreleasedReference:this.overreleasedReference}),0===n&&(this.cleanup(),this._baseCleanupCalled||Object(i.b)("Base cleanup was never invoked. Overridden cleanup methods must always call `$super()`.",this),this._baseCleanupCalled=!1,this._captureDisposingObjectForPool(),this.isPooled?(this.didEnterPool(),this._baseDidEnterPoolCalled||Object(i.b)("Base didEnterPool was never invoked. Overridden didEnterPool methods must always call `$super()`.",this),this._baseDidEnterPoolCalled=!1):(this.isDisposing=!0,this.dispose(),this._baseDisposeCalled||Object(i.b)("Base dispose was never invoked. Overridden dispose methods must always call `$super()`.",this),this.isDisposing=!1,this.isDisposed=!0)),this},autorelease:function(e,t){return Object(o.b)(this,e,t),this},_autoreleaseForTransfer:function(e,t){return this._autoreleaseForTransferToken=Object(o.b)(this,e,t),this},_autoreleaseForTransferToken:NaN,trackReferences:!1,referenceTracker:null,overreleasedReference:null,cleanup:function(){!function(e){var t=e._weakReferences;if(t){var n,i,r,a,o=t.length,s=I._bestBatchSetterClass.begin();for(n=0;n<o;n+=3)(r=t[n])&&(i=t[n+1],a=t[n+2],i.call(r,a,s));s.end(),t.length=0}}(this),this._baseCleanupCalled=!0},didEnterPool:function(){this._baseDidEnterPoolCalled=!0},dispose:function(){this._baseDisposeCalled=!0},_baseCleanupCalled:!1,_baseDidEnterPoolCalled:!1,_baseDisposeCalled:!1,_captureDisposingObjectForPool:r.a,registerWeakReference:function(e,t,n){var i,r=this._weakReferences;if(r){var a=this._weakReferenceAvailableIndicesLength;a>=0?(i=this._weakReferenceAvailableIndices[a],this._weakReferenceAvailableIndicesLength=a-1):i=r.length+1}else r=this._weakReferences=[],this._weakReferenceAvailableIndices=[],this._weakReferenceAvailableIndicesLength=-1,i=1;return r[i-1]=e,r[i]=t,r[i+1]=n,i},deregisterWeakReference:function(e){var t=this._weakReferences;t[e-1]||(e===u?Object(i.b)("Attempted to deregister the null weak reference token.",this):Object(i.b)("Cannot deregister a weak reference that wasn't registered or was previously deregistered.",this)),t[e-1]=t[e]=t[e+1]=null,this._weakReferenceAvailableIndices[++this._weakReferenceAvailableIndicesLength]=e},_weakReferences:null,_weakReferenceAvailableIndices:null,_weakReferenceAvailableIndicesLength:-1,_trackRetain:r.a,_trackRelease:r.a,hasMixin:function(e){return this.constructor.hasMixin(e)},instanceOf:function(e){if(!e)return!1;if(e.isClass){var t=e&&e.Constructor;return!!t&&this instanceof t}return this.hasMixin(e)}}};Object.defineProperties(d,{name:{get:function(){return Object(a.a)(this)}},isNamed:{get:function(){return this.hasOwnProperty("__QUALIFIED_CLASS_NAME__")}}});var h=function(){};function f(e,t){var n,r,a=t.length;for(n=0;n<a;n++)(r=t[n])||Object(i.b)("Error: attempting to mixin undefined as a mixin to "+e.toString()+"."),r.isClass&&Object(i.b)("Error: attempting to mixin class "+r.toString()+" as a mixin to "+e.toString()+". Cannot use classes as mixins.",{class:e,mixin:r}),e.hasMixin(r)||p(e,r);return e}function p(e,t){var n,i,r;return(n=t.mixinDependencies)&&f(e,n),e.mixins.push(t),m(e,i=t.staticMembers),S(e,i),m(r=e.prototype,t),S(r,t),e.mixinWasApplied(t),e}function m(e,t){if(t){var n=t.__superMap,i=e.__s;for(var r in i=i?Object.create(i):{},n){var a=n[r];i[r]=e[a]}e.__s=i}}function g(e){e._trackRetain=v,e._trackRelease=_,e.referenceTracker={}}h.prototype=d.prototype,d.Constructor=h,d.prototype.constructor=d;var v=function(e,t){var n=b(this.referenceTracker,e,t),i=++n.referenceCount;n.highestReferenceCount=Math.max(i,n.highestReferenceCount);var r=y();n.timestamps.push(r)},_=function(e,t){var n=b(this.referenceTracker,e,t),i=--n.referenceCount,r=0-y();n.timestamps.push(r),i<0&&(n.hasOverreleased=!0,this.overreleasedReference=n)};function b(e,t,n){var i=t?Object(a.a)(t):"Unknown referencer",r=n?n+" - "+i:i,o=e[r];return o||(o=e[r]={descriptor:r,referenceCount:0,highestReferenceCount:0,timestamps:[],hasOverreleased:!1}),o}var y=function(){var e=Date.now();return function(){return(Date.now()-e)/1e3}}();function S(e,t){if(t){var n=Object.getOwnPropertyNames(t);n.push.apply(n,Object.getOwnPropertySymbols(t));for(var i=n.length,r=0;r<i;r++){var a=n[r];if("staticMembers"!==a&&"mixinDependencies"!==a){for(var o=t[a];o&&o.initializeMember;)o=o.initializeMember(e,a);void 0!==o&&(e[a]=o)}}}}var I=d.extend(c.a,{staticMembers:{begin:function(){var e=this.create();return e.retain(e,w),e._isReady=!0,e},_bestBatchSetterClass:null,init:function(){var e=this,t=arguments;e.__s._$BNp$init.apply(e,t),this._bestBatchSetterClass=this},__superMap:{_$BNp$init:"init"},__QUALIFIED_CLASS_NAME__:"NonObservableBatchSetter"},begin:function(){Object(i.b)("BatchSetter Begin must be called on the class, reusing BatchSetter objects is not allowed.")},set:function(e,t,n){this._isReady||Object(i.b)("BatchSetter Begin must be called on the class before calling set, reusing BatchSetter objects is not allowed. (Path: %{path})",{path:t,object:e,value:n}),e&&t||Object(i.b)("BatchSetter Set requires a path and an object. (Path: %{path}, Object: %{object})",{path:t,object:e,value:n});var r={rootObject:e,path:t,value:n};return this._toSetArray.push(r),this},setIfChanged:function(e,t,n){return this._isReady||Object(i.b)("BatchSetter.begin must be called on the class before calling set, reusing BatchSetter objects is not allowed. (Path: %{path}, Object: %{object})",{path:t,object:e,value:n}),n!==this._getOldValue(e,t)&&this.set(e,t,n),this},end:function(){this._performSet(this._toSetArray),this._toSetArray.length=0,this._isReady=!1;var e=this._pointerTuple;e[0]=e[1]=null,this.release(this,w)},init:function(){var e=this,t=arguments;e.__s._$C5h$init.apply(e,t),this._toSetArray=[],this._pointerTuple=new Array(2)},_isReady:!1,_toSetArray:null,_pointerTuple:null,_performSet:function(e){for(var t=this._pointerTuple,n=0,i=e.length;n<i;n++){var r=e[n],a=r.value,o=this._resolvePointer(r,t);o[0][o[1]]=a}},_resolvePointer:function(e,t){for(var n=Object(s.a)(e.path),i=e.rootObject,r=n.length,a=0;a<r-1;a++)i=i[n[a]];return t[0]=i,t[1]=n[r-1],t},_getOldValue:function(e,t){for(var n=this._toSetArray,i=n.length-1;i>=0;i--){var r=n[i],a=r.rootObject,o=r.path,s=r.value;if(a===e&&o===t)return s}return Object(l.a)(e,t)},__superMap:{_$C5h$init:"init"}}),w="BatchSetter: self-reference for the duration"},function(e,t,n){var i=n(153),r=n(208),a=n(89),o=n(71),s=n(215),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,d=6==e,h=5==e||d;return function(f,p,m,g){for(var v,_,b=a(f),y=r(b),S=i(p,m,3),I=o(y.length),w=0,E=g||s,C=t?E(f,I):n?E(f,0):void 0;I>w;w++)if((h||w in y)&&(_=S(v=y[w],w,b),e))if(t)C[w]=_;else if(_)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:l.call(C,v)}else if(u)return!1;return d?-1:c||u?u:C}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,n){"use strict";function i(e,t){return(n=e)&&n.instanceOf?e.instanceOf(t):(t===Event||"function"===typeof t)&&e instanceof t;var n}n.d(t,"a",(function(){return i}))},function(e,t,n){var i=n(79),r=n(88),a=n(164);e.exports=i?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var i=n(50),r=n(209),a=n(102),o=n(94),s=n(284),l=n(331),c=n(118),u=c.get,d=c.enforce,h=String(l).split("toString");r("inspectSource",(function(e){return l.call(e)})),(e.exports=function(e,t,n,r){var l=!!r&&!!r.unsafe,c=!!r&&!!r.enumerable,u=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||a(n,"name",t),d(n).source=h.join("string"==typeof t?t:"")),e!==i?(l?!u&&e[t]&&(c=!0):delete e[t],c?e[t]=n:a(e,t,n)):c?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||l.call(this)}))},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";function i(e){return"object"===typeof e&&null!==e&&e.constructor===Object&&!e.isClass}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var i=n(273),r=n(400),a={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"},o=r.a.extend({staticMembers:{nativePropertiesToCopy:Object(i.a)(["pointerId","width","height","pressure","tiltX","tiltY","pointerType","isPrimary"]),eventPropertiesToCopy:Object(i.a)(["pointerId","width","height","pressure","tiltX","tiltY","pointerType","isPrimary"]),__QUALIFIED_CLASS_NAME__:"PointerEvent"},pointerId:0,width:0,height:0,pressure:0,tiltX:0,tiltY:0,pointerType:"",isPrimary:!1})},function(e,t,n){var i=n(79),r=n(244),a=n(164),o=n(117),s=n(136),l=n(94),c=n(330),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=o(e),t=s(t,!0),c)try{return u(e,t)}catch(n){}if(l(e,t))return a(!r.f.call(e,t),e[t])}},function(e,t,n){var i=n(286),r=n(94),a=n(339),o=n(88).f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||o(t,e,{value:a.f(e)})}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){},function(e,t,n){},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return f}));var i,r=n(83),a=n(269),o=n(38),s=n(15),l=n(199),c=r.a.extend(o.a,a.a,{DEFAULT_LOCALE:"en-us",_locales:{},_rtlLocales:["ar-sa","iw-il"],getRegistryFor:function(e){var t=this._locales[e]&&this._locales[e];return t||(t=this._locales[e]={}),t},addValuesFor:function(e,t){for(var n=this.getRegistryFor(e),i=Object.keys(t),r=0,a=i.length;r<a;r++){var o=i[r];n[o]=t[o]}},locale:Object(s.b)("en-us"),isRTL:Object(s.b)({readOnly:!0,dependencies:["locale"],get:Object.assign((function(){var e=this.locale;return u._rtlLocales.indexOf(e)>-1}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return u._rtlLocales.indexOf(r)>-1}})}),getValue:function(e,t){var n=this._getValue(e,t);return n?t?Object(l.a)(n,t):n:e},hasValue:function(e){return!!this._getValue(e)},_getValue:function(e,t){var n=this.locale,i=this.getRegistryFor(n),r=i[e];if(!r)for(var a=n.split(/-|_/),o=0,s=a.length;o<s+1;o++){a.pop();var l=a.join("-");if(r=(i=this.getRegistryFor(l))[e])break}if(!r){var c=this.getRegistryFor(this.DEFAULT_LOCALE),u=this.DEFAULT_LOCALE.split(/-|_/)[0],d=this.getRegistryFor(u);r=c[e]||d[e]}return r},staticMembers:{__QUALIFIED_CLASS_NAME__:"Locale"}}),u=c.sharedInstance,d=function(e,t){return u.addValuesFor(e,t)},h=function(e,t){return u.getValue(e,t)},f=function(){return u.locale};window.__CW_BUILD_INFO&&(i=window.__CW_BUILD_INFO.locale,u.locale=i)},function(e,t,n){var i=n(208),r=n(103);e.exports=function(e){return i(r(e))}},function(e,t,n){var i,r,a,o=n(332),s=n(50),l=n(59),c=n(102),u=n(94),d=n(245),h=n(211),f=s.WeakMap;if(o){var p=new f,m=p.get,g=p.has,v=p.set;i=function(e,t){return v.call(p,e,t),t},r=function(e){return m.call(p,e)||{}},a=function(e){return g.call(p,e)}}else{var _=d("state");h[_]=!0,i=function(e,t){return c(e,_,t),t},r=function(e){return u(e,_)?e[_]:{}},a=function(e){return u(e,_)}}e.exports={set:i,get:r,has:a,enforce:function(e){return a(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var i=n(103),r=/"/g;e.exports=function(e,t,n,a){var o=String(i(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(a).replace(r,"&quot;")+'"'),s+">"+o+"</"+t+">"}},function(e,t,n){var i=n(36);e.exports=function(e){return i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return d}));var i=n(99),r="strong",a="weak",o="unsafe";function s(e,t,n){e&&e!==t&&e.retain&&e.retain(t,n)}function l(e,t,n){e&&e!==t&&e.release&&e.release(t,n)}function c(e,t,n){e&&e!==t&&e.autorelease&&e.autorelease(t,n)}function u(e,t,n,r){return e&&e.registerWeakReference?e.registerWeakReference(t,n,r):i.b}function d(e,t){t!==i.b&&e&&e.deregisterWeakReference&&e.deregisterWeakReference(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={BACKSPACE:8,TAB:9,RETURN:13,ENTER:13,SHIFT:16,CTRL:17,OPTION:18,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,HOME:36,END:35,SPACE:32,PAGEUP:33,PAGEDOWN:34,INSERT:45,CMD:91,COMMA:188,EQUALS:187,MINUS:189,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,DIGIT_0:48,DIGIT_1:49,DIGIT_2:50,DIGIT_3:51,DIGIT_4:52,DIGIT_5:53,DIGIT_6:54,DIGIT_7:55,DIGIT_8:56,DIGIT_9:57}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(370),r=i.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(a(i,t),t.Buffer=o),a(r,o),o.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},o.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"===typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},function(e,t,n){},function(e,t,n){"use strict";function i(e){return"string"===typeof e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(160);function r(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return setTimeout.apply(void 0,[Object(i.a)(e),t].concat(r))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m}));var i=n(237),r=n(35),a=n(385),o=n(101),s=n(204),l=n(38),c=n(15);function u(e,t){for(var n=i.a;t.parent;)n=e._getNodeHandler(t).generateLookupFunction(t,n),t=t.parent;return n}function d(e,t){return t(e)}function h(e,t,n,i){var s,h,f,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.a,m=t.name,g=e.prototype,v="_"+m+"OutletObserver",_=g.getMetadataByType(l.c);if(_.hasOwnProperty(v)){var b=_[v];s=b.transforms,h=b.paths,f=b.sideEffects}else{s=[],h=[],f=[];var y="_render"+m+"Outlet";g[y]=function(e){for(var t=h.length,n=this.element,i=[],r=0;r<t;r++)i[r]=d(n,h[r]);(this[y]=function(e){for(var n=0;n<t;n++){var r=s[n].call(this,i[n],e);r&&(i[n]=r),f[n].call(this,r,e)}}).call(this,e)};var S=Object(a.a)(m)[0];Object(o.a)(g.getMetadata(S),c.a)||(i||(i={}),i.outletProperty=!0,g.registerMetadata(S,c.a.define(i)));var I=function(e){this[y](e)};I.displayName=m+" template outlet observer";var w=Object(l.f)({inputs:[m],callback:I});w.transforms=s,w.paths=h,w.sideEffects=f,g.registerMetadata(v,w),e._outletWasRegistered(S)}var E=t.attributes;if(E){var C=E.signal;C&&g.registerMetadata(C,Object(l.f)(v,r.a))}s.push(n),f.push(p),h.push(u(e,t))}function f(e){if(e.hasOwnProperty("validvalues")){var t=Object(s.a)(e.validvalues);return function(e){if(t[e])return e}}if(e.hasOwnProperty("truevalue")){var n=e.truevalue;if(e.hasOwnProperty("falsevalue")){var i=e.falsevalue;return function(e){return e?n:i}}return function(e){if(e)return n}}return p}var p=function(e){return e};function m(e,t,n){var i=u(e,n);e.prototype.registerMetadata(t,Object(c.b)({readOnly:!0,dependencies:["element"],get:Object.assign((function(){return d(this.element,i)}),{__CW__getter:function(e,t,n,r){return d(r.internalGet(this,t[0+n]),i)}})}))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var i=n(59);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(17),r=0,a=function(e){if(null===e)return"_null";if(void 0===e)return"_undefined";if(e.hasOwnProperty("_cwGUID"))return e._cwGUID;var t=typeof e;switch(t){case"number":Object.is(e,-0)&&(e="-0");case"string":case"boolean":return t+e;case"object":case"function":var n=t+ ++r;return o.value=n,Object.defineProperty(e,"_cwGUID",o),n;default:Object(i.b)("unrecognized object type",{object:e,type:t})}return null},o={value:"",enumerable:!1,writable:!1,configurable:!1}},function(e,t,n){var i=n(88).f,r=n(94),a=n(68)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,a)&&i(e,a,{configurable:!0,value:t})}},function(e,t,n){var i=n(94),r=n(89),a=n(245),o=n(293),s=a("IE_PROTO"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=r(e),i(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(160);function r(e,t,n,r){return e.addEventListener(t,Object(i.a)(n),r||!1)}},function(e,t,n){"use strict";n(0),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g}));var i=n(84),r=n(417),a=n(38),o=n(108),s=n(17),l=n(35),c=n(132),u=n(178),d=n(179),h=n(204),f=n(274),p={mixinDependencies:[n(242).a],staticMembers:{init:function(e){this.__s._$1JC$init.call(this,e);var t,n=this.template;if(n){Object(o.a)(n)||Object(s.b)("Template must be a $template");var i=0;!this.hasOwnProperty("template")&&n.classes&&(i=n.classes.length);var r=this._templateExtensionsArray;if(r){for(var c=r.length,u=0;u<c;u++)n=m(n,r[u]);this.template=n,delete this._templateExtensionsArray,(t=r).length=0,E.push(t)}var d=n.classes;if(d)for(var h=i,f=d.length;h<f;h++)if("string"===typeof d[h]){this.className=!1;break}this.registerOutletAndSubOutlets(n);var p=this._handledOutlets,g=this.superclass._handledOutlets,v=this.prototype;for(var _ in g)if(g[_]&&!p[_])if(v.getMetadata(_).outletProperty)Object(s.b)("Template error: template redefined with missing outlet: %{outletName}. If you are implementing this property in a different way, you may suppress this error by redefining the property in your subclass.",{outletName:_});else{var b="_"+_+"OutletObserver";v.registerMetadata(b,Object(a.f)(_,l.a))}}},_templateExtensionsArray:null,mixinWasApplied:function(){var e=this.templateExtensions;if(e){var t=this._templateExtensionsArray;t||(t=this._templateExtensionsArray=E.length>0?E.pop():[]),t.push(e),delete this.templateExtensions}},template:{type:"ELEMENT",tagname:"div"},templateExtensions:null,_nodeHandlers:{},_getNodeHandler:function(e){var t=e.type.toLowerCase(),n=this._nodeHandlers[t];return t&&!n&&Object(s.b)("No handler for template node type: "+t),n},registerOutletAndSubOutlets:function(e,t){if(Object(c.a)(e))return e;var n=this._getNodeHandler(e),i=n.register;i&&(e.parent=t,i.call(n,this,e))},renderNodeAndSubNodes:function(e,t){if(Object(c.a)(e))return e;var n=this._getNodeHandler(e),i=n.render;return i||Object(s.b)("No render handler for template node type: "+e.type),i.call(n,this,t,e)},_handledOutlets:Object(i.b)(Object),_outletWasRegistered:function(e){this._handledOutlets[e]=!0},__superMap:{_$1JC$init:"init"}},init:function(e){var t=this,n=arguments,i=this.element=this.generateElementNode();i.view=this,t.__s._$3eM$init.apply(t,n)},_getRenderedTemplate:function(e,t){var n=e._renderedValue;return n||(n=e._renderedValue=r.a.create()),n.get(t)},generateElementNode:function(){var e=this.constructor.template;if(e){var t=this.document,n=this._getRenderedTemplate(e,t);return n||(n=this.constructor.renderNodeAndSubNodes(e,t),e._renderedValue.set(t,n)),n.cloneNode(!0)}},__superMap:{_$3eM$init:"init"}};function m(e,t){var n=g(e);for(var i in t){var r=t[i];if(Object(u.a)(r))for(var a=r.length,l=0;l<a;l++)I(n,i,r[l]);else Object(o.a)(r)?I(n,i,r):Object(s.b)("Template extension must be a $template or an array of $templates.")}return n}function g(e){return Object(d.b)(e,y)}var v=Object(h.a)(["attribute","attributes","children","classes","data","falsevalue","index","name","namespace","property","styles","tagname","truevalue","type","unit"]),_=Object(h.a)(["styles","classes","attributes","children"]);function b(e,t){return _[t]?S:y}function y(e,t,n){return v[n]?Object(d.b)(e,b(0,n)):d.a}function S(e,t,n){return Object(d.b)(e,b(0,n))}function I(e,t,n){n=g(n);var i=function(e){var t=e._namesCache;return t||(e._namesCache=t=function e(t,n){if(t){var i=t.name;if(i){var r=n[i];r&&t!==r?Object(s.b)("invalid node name: '"+i+"' is already used"):n[i]=t}var a=t.children;if(a)for(var o=a.length,l=0;l<o;l++){e(a[l],n)}return n}}(e,{root:e})),t}(e)[t];i||Object(s.b)("unable to find outlet with name "+t+" to extend"),"ext"!==n.tagname&&(i.tagname=n.tagname),i.attributes=Object(f.a)(i.attributes,n.attributes),i.styles=Object(f.a)(i.styles,n.styles),i.children=w(i.children,n.children),i.classes=w(i.classes,n.classes)}function w(){for(var e,t=arguments.length,n=0;n<t;n++){var i=arguments[n];i&&(e=e?e.concat(i):i)}return e}var E=[]},function(e,t){e.exports=!1},function(e,t,n){"use strict";var i=n(36);e.exports=function(e,t){var n=[][e];return!n||!i((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){var i=n(60),r=n(112),a=n(68)("species");e.exports=function(e,t){var n,o=i(e).constructor;return void 0===o||void 0==(n=i(o)[a])?t:r(n)}},function(e,t,n){"use strict";var i=n(16),r=n(50),a=n(79),o=n(305),s=n(67),l=n(249),c=n(155),u=n(164),d=n(102),h=n(71),f=n(348),p=n(364),m=n(136),g=n(94),v=n(219),_=n(59),b=n(166),y=n(183),S=n(165).f,I=n(365),w=n(100).forEach,E=n(184),C=n(88),A=n(110),T=n(118),O=T.get,D=T.set,M=C.f,N=A.f,F=Math.round,L=r.RangeError,R=l.ArrayBuffer,x=l.DataView,P=s.NATIVE_ARRAY_BUFFER_VIEWS,k=s.TYPED_ARRAY_TAG,U=s.TypedArray,j=s.TypedArrayPrototype,B=s.aTypedArrayConstructor,V=s.isTypedArray,$=function(e,t){for(var n=0,i=t.length,r=new(B(e))(i);i>n;)r[n]=t[n++];return r},W=function(e,t){M(e,t,{get:function(){return O(this)[t]}})},z=function(e){var t;return e instanceof R||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},G=function(e,t){return V(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},H=function(e,t){return G(e,t=m(t,!0))?u(2,e[t]):N(e,t)},K=function(e,t,n){return!(G(e,t=m(t,!0))&&_(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?M(e,t,n):(e[t]=n.value,e)};a?(P||(A.f=H,C.f=K,W(j,"buffer"),W(j,"byteOffset"),W(j,"byteLength"),W(j,"length")),i({target:"Object",stat:!0,forced:!P},{getOwnPropertyDescriptor:H,defineProperty:K}),e.exports=function(e,t,n,a){var s=e+(a?"Clamped":"")+"Array",l="get"+e,u="set"+e,m=r[s],g=m,v=g&&g.prototype,C={},A=function(e,n){M(e,n,{get:function(){return function(e,n){var i=O(e);return i.view[l](n*t+i.byteOffset,!0)}(this,n)},set:function(e){return function(e,n,i){var r=O(e);a&&(i=(i=F(i))<0?0:i>255?255:255&i),r.view[u](n*t+r.byteOffset,i,!0)}(this,n,e)},enumerable:!0})};P?o&&(g=n((function(e,n,i,r){return c(e,g,s),_(n)?z(n)?void 0!==r?new m(n,p(i,t),r):void 0!==i?new m(n,p(i,t)):new m(n):V(n)?$(g,n):I.call(g,n):new m(f(n))})),y&&y(g,U),w(S(m),(function(e){e in g||d(g,e,m[e])})),g.prototype=v):(g=n((function(e,n,i,r){c(e,g,s);var a,o,l,u=0,d=0;if(_(n)){if(!z(n))return V(n)?$(g,n):I.call(g,n);a=n,d=p(i,t);var m=n.byteLength;if(void 0===r){if(m%t)throw L("Wrong length");if((o=m-d)<0)throw L("Wrong length")}else if((o=h(r)*t)+d>m)throw L("Wrong length");l=o/t}else l=f(n),a=new R(o=l*t);for(D(e,{buffer:a,byteOffset:d,byteLength:o,length:l,view:new x(a)});u<l;)A(e,u++)})),y&&y(g,U),v=g.prototype=b(j)),v.constructor!==g&&d(v,"constructor",g),k&&d(v,k,s),C[s]=g,i({global:!0,forced:g!=m,sham:!P},C),"BYTES_PER_ELEMENT"in g||d(g,"BYTES_PER_ELEMENT",t),"BYTES_PER_ELEMENT"in v||d(v,"BYTES_PER_ELEMENT",t),E(s)}):e.exports=function(){}},function(e,t,n){},function(e,t,n){"use strict";function i(e){return null!==e&&void 0!==e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(320),r=n(15),a=i.a.extend({metadataType:r.a,staticMembers:{__QUALIFIED_CLASS_NAME__:"RequiredObservableProperty"}})},function(e,t,n){var i=n(286),r=n(50),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(i[e])||a(r[e]):i[e]&&i[e][t]||r[e]&&r[e][t]}},function(e,t,n){var i=n(129),r=Math.max,a=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):a(n,t)}},function(e,t,n){var i=n(112);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var i=n(68),r=n(166),a=n(102),o=i("unscopables"),s=Array.prototype;void 0==s[o]&&a(s,o,r(null)),e.exports=function(e){s[o][e]=!0}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){},function(e,t,n){"use strict";var i=n(115),r=n(170),a=n(130).Buffer,o=new Array(16);function s(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(e,t){return e<<t|e>>>32-t}function c(e,t,n,i,r,a,o){return l(e+(t&n|~t&i)+r+a|0,o)+t|0}function u(e,t,n,i,r,a,o){return l(e+(t&i|n&~i)+r+a|0,o)+t|0}function d(e,t,n,i,r,a,o){return l(e+(t^n^i)+r+a|0,o)+t|0}function h(e,t,n,i,r,a,o){return l(e+(n^(t|~i))+r+a|0,o)+t|0}i(s,r),s.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,i=this._b,r=this._c,a=this._d;n=c(n,i,r,a,e[0],3614090360,7),a=c(a,n,i,r,e[1],3905402710,12),r=c(r,a,n,i,e[2],606105819,17),i=c(i,r,a,n,e[3],3250441966,22),n=c(n,i,r,a,e[4],4118548399,7),a=c(a,n,i,r,e[5],1200080426,12),r=c(r,a,n,i,e[6],2821735955,17),i=c(i,r,a,n,e[7],4249261313,22),n=c(n,i,r,a,e[8],1770035416,7),a=c(a,n,i,r,e[9],2336552879,12),r=c(r,a,n,i,e[10],4294925233,17),i=c(i,r,a,n,e[11],2304563134,22),n=c(n,i,r,a,e[12],1804603682,7),a=c(a,n,i,r,e[13],4254626195,12),r=c(r,a,n,i,e[14],2792965006,17),n=u(n,i=c(i,r,a,n,e[15],1236535329,22),r,a,e[1],4129170786,5),a=u(a,n,i,r,e[6],3225465664,9),r=u(r,a,n,i,e[11],643717713,14),i=u(i,r,a,n,e[0],3921069994,20),n=u(n,i,r,a,e[5],3593408605,5),a=u(a,n,i,r,e[10],38016083,9),r=u(r,a,n,i,e[15],3634488961,14),i=u(i,r,a,n,e[4],3889429448,20),n=u(n,i,r,a,e[9],568446438,5),a=u(a,n,i,r,e[14],3275163606,9),r=u(r,a,n,i,e[3],4107603335,14),i=u(i,r,a,n,e[8],1163531501,20),n=u(n,i,r,a,e[13],2850285829,5),a=u(a,n,i,r,e[2],4243563512,9),r=u(r,a,n,i,e[7],1735328473,14),n=d(n,i=u(i,r,a,n,e[12],2368359562,20),r,a,e[5],4294588738,4),a=d(a,n,i,r,e[8],2272392833,11),r=d(r,a,n,i,e[11],1839030562,16),i=d(i,r,a,n,e[14],4259657740,23),n=d(n,i,r,a,e[1],2763975236,4),a=d(a,n,i,r,e[4],1272893353,11),r=d(r,a,n,i,e[7],4139469664,16),i=d(i,r,a,n,e[10],3200236656,23),n=d(n,i,r,a,e[13],681279174,4),a=d(a,n,i,r,e[0],3936430074,11),r=d(r,a,n,i,e[3],3572445317,16),i=d(i,r,a,n,e[6],76029189,23),n=d(n,i,r,a,e[9],3654602809,4),a=d(a,n,i,r,e[12],3873151461,11),r=d(r,a,n,i,e[15],530742520,16),n=h(n,i=d(i,r,a,n,e[2],3299628645,23),r,a,e[0],4096336452,6),a=h(a,n,i,r,e[7],1126891415,10),r=h(r,a,n,i,e[14],2878612391,15),i=h(i,r,a,n,e[5],4237533241,21),n=h(n,i,r,a,e[12],1700485571,6),a=h(a,n,i,r,e[3],2399980690,10),r=h(r,a,n,i,e[10],4293915773,15),i=h(i,r,a,n,e[1],2240044497,21),n=h(n,i,r,a,e[8],1873313359,6),a=h(a,n,i,r,e[15],4264355552,10),r=h(r,a,n,i,e[6],2734768916,15),i=h(i,r,a,n,e[13],1309151649,21),n=h(n,i,r,a,e[4],4149444226,6),a=h(a,n,i,r,e[11],3174756917,10),r=h(r,a,n,i,e[2],718787259,15),i=h(i,r,a,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+i|0,this._c=this._c+r|0,this._d=this._d+a|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=a.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(17),r={staticMembers:{_pool:null,init:function(){var e=this,t=arguments;this._pool=[],e.__s._$7M$init.apply(e,t)},maxPoolSize:200,create:function(){var e,t=this,n=this._pool,i=n.length;return i>0?(e=n.pop()).isPooled=!1:e=t.__s._$EI$create.call(t),e.retain(this,"CW._Poolable.create"),e.initFromPool.apply(e,arguments),e._autoreleaseForTransfer(this,"CW._Poolable.create"),e},_returnInstanceToPool:function(e){var t=this._pool;t.length>=this.maxPoolSize||(t.push(e),e.isPooled=!0)},__superMap:{_$7M$init:"init",_$EI$create:"create"}},retain:function(){var e=this,t=arguments;return this.isPooled&&Object(i.b)("Attempted to retain pooled object.",this),e.__s._$PX$retain.apply(e,t)},release:function(){var e=this,t=arguments;return this.isPooled&&Object(i.b)("Attempted to release pooled object.",this),e.__s._$Rz$release.apply(e,t)},_captureDisposingObjectForPool:function(){this.constructor._returnInstanceToPool(this)},isPooled:!1,initFromPool:function(e){for(var t in arguments.length>1&&Object(i.b)("Default poolable initializer supports at most one argument. If you would like to apply a mixin it should be done when calling .extend()."),e)this[t]=e[t]},__superMap:{_$PX$retain:"retain",_$Rz$release:"release"}}},function(e,t,n){"use strict";function i(e){return e instanceof Function||!(!e||"function"!==typeof e||e instanceof Element)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(396),r=n(281),a=[];function o(e){var t=Object(i.a)(e);return t||((t=function(){var t=0,n=0,i=arguments.length;a.length=i+t-n;for(var o=n,s=t;o<i;o++,s++)a[s]=arguments[o];var l=a;return Object(r.b)(e,l,this)})._exceptionHandling_wrappedFunction=!0,t._exceptionHandling_inputFunction=e,e._exceptionHandling_wrappedFunction=t,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(99),r=n(35),a=i.a.extend({nodeType:"",generateLookupFunction:function(e,t){return function(n){return n=n.childNodes[e.index],t(n)}},initializeMember:function(e,t){var n=this.nodeType.toLowerCase();e._nodeHandlers[n]=this},render:r.a,register:r.a,staticMembers:{__QUALIFIED_CLASS_NAME__:"TemplateHandler"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(86),r=n(52),a=n(83),o=n(84),s=n(406),l=n(160),c={mixinDependencies:[i.a],action:r.a.create()},u=a.a.extend(c,{dependencies:Object(o.b)([]),run:function(e){var t=this,n=e.initializerPromises,i=this.constructor,r=n.get(i);if(r)return r;var a=this.dependencies.map((function(t){return t.create().run(e)}));return r=s.a.all(a).then((function(){return t.action(e)})).catch(Object(l.a)((function(e){throw e}))),n.set(i,r),r},staticMembers:{__QUALIFIED_CLASS_NAME__:"AppInitializer"}})},function(e,t,n){"use strict";var i=n(17),r=n(709),a=n(237),o=n(714),s=n(101),l=n(35),c=n(706),u=n(24),d=n(84),h=n(127),f=n(10),p=n(38),m=n(735),g=n(322),v=n(54),_=n(150),b={mixinDependencies:[g.a,p.a],isValid:Object(v.c)(_.a),wasRemoved:Object(v.c)(_.a),shouldObserveChanges:!0},y=n(15),S=m.a.extend(b,p.a,{position:Object(y.b)(),source:Object(y.b)(),isValid:Object(y.b)({dependencies:["wasRemoved","source.length","position"],get:Object.assign((function(){var e=this,t=arguments;return!this.wasRemoved&&e.__s._$E3$get.apply(e,t)}),{__CW__getter:function(e,t,n,i){var r=this,a=arguments;return!i.internalGet(this,t[0+n])&&r.__s._$E3$get.apply(r,a)}}),__superMap:{_$E3$get:"get"}}),value:Object(y.b)({dependencies:["position","source","wasRemoved"],writeDependencies:[],get:Object.assign((function(){var e=this,t=arguments;return this.wasRemoved?this._previousValue:e.__s._$JS$get.apply(e,t)}),{__CW__getter:function(e,t,n,i){var r=this,a=arguments;return i.internalGet(this,t[2+n])?this._previousValue:r.__s._$JS$get.apply(r,a)}}),set:function(e){var t=this,n=arguments;if(this.wasRemoved)return this._previousValue=e,e;var i=this.shouldObserveChanges;this.shouldObserveChanges=!1;var r=t.__s._$P3$set.apply(t,n);return this.shouldObserveChanges=i,r},__superMap:{_$JS$get:"get",_$P3$set:"set"}}),remove:function(){var e=this,t=arguments,n=this.shouldObserveChanges;this.shouldObserveChanges=!1;var i=e.__s._$TK$remove.apply(e,t);return this.shouldObserveChanges=n,this.propertyChanged("value"),i},initFromPool:function(){var e=this,t=arguments;e.__s._$WG$initFromPool.apply(e,t),this.source._registerIterator(this)},cleanup:function(){this.wasRemoved=!1,this.source._unregisterIterator(this),this.__s._$ZQ$cleanup.call(this)},wasRemoved:Object(y.b)(!1),_previousValue:Object(y.b)(),moveTo:function(){var e=this,t=arguments;return this.wasRemoved=!1,e.__s._$e8$moveTo.apply(e,t)},__superMap:{_$TK$remove:"remove",_$WG$initFromPool:"initFromPool",_$ZQ$cleanup:"cleanup",_$e8$moveTo:"moveTo"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ObservableArrayIterator"}}),I=n(86),w=n(278),E=n(325),C={mixinDependencies:[I.a,w.a],contentsDidChange:E.a.define(),length:_.a.define()},A=n(732),T={startHandle:Object(u.c)({readOnly:!0,get:function(){return this.handleProvider.startHandle}}),HandleProviderClass:null,handleProviderDelegate:Object(y.b)(),delegate:Object(y.b)(),handleProvider:Object(y.b)({strong:!0,readOnly:!0,get:function(){return this.HandleProviderClass.create({source:this,delegate:this.bindingFor("handleProviderDelegate")})}}),handleFor:function(e){return this.encodedHandleFor(this.encode(e))},encodedHandleFor:function(e){for(var t=this.startHandle.retain(this,"HandleSupport#encodedHandleFor");t.encodedValue!==e&&t.isValid;){var n=t.next.retain(this,"HandleSupport#encodedHandleFor");t.release(this,"HandleSupport#encodedHandleFor"),t=n}return t.autorelease(this,"HandleSupport#encodedHandleFor")}},O=n(324);n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return R})),n.d(t,"c",(function(){return x}));var D=O.a.INSERT,M=O.a.REMOVE,N=c.a.extend(p.a,C,T,{staticMembers:{INSERT:D,REMOVE:M,shouldAutomaticallySubclass:!0,__QUALIFIED_CLASS_NAME__:"ObservableArray"},isObservable:!0,firstItem:Object(y.b)({dependencies:["contentsDidChangeUntracked"],writeDependencies:[],get:function(){return this.objectAt(0)}}),lastItem:Object(y.b)({dependencies:["length","contentsDidChangeUntracked"],writeDependencies:[],get:Object.assign((function(){return this.objectAt(this.length-1)}),{__CW__getter:function(e,t,n,i){return this.objectAt(i.internalGet(this,t[0+n])-1)}})}),itemsWillChange:function(){this._ignoreCount>0||(f.a.pause(),this.changes||(this.changes=this.changesClass.acquire(this)))},itemsWereInserted:function(e,t){if(!(this._ignoreCount>0)&&!(t<=0)){var n,i,r=this.changes;if(L(this)){var a=e+(t-1);for(n=e;n<=a;n++)r.recordInsertion(n,this._array[n])}else r.lengthDelta+=t;var o,s,l=this._iterators;for(i=l.length,n=0;n<i;n++)(o=l[n]).shouldObserveChanges&&(s=o.position)>=e&&(o.position=s+t)}},itemsWillBeRemoved:function(e,t){if(!(this._ignoreCount>0)&&!(t<=0)){var n,i=this.changes,r=e+t;if(L(this))for(n=r-1;n>=e;n--)i.recordRemoval(n,this._array[n]);else i.lengthDelta-=t;var a,o,s,l=this._internalLength===t,c=this._iterators;for(n=0,a=c.length;n<a;n++)(o=c[n]).shouldObserveChanges&&(s=o.position,l?(o.position=void 0,o.wasRemoved=!0):s>=e&&(s<r?(o.position=void 0,o.wasRemoved=!0):o.position=s-t))}},itemsDidChange:function(){this._ignoreCount>0||(this.notifyIfNecessary(),f.a.resume())},notifyIfNecessary:function(){0===this._batchCount&&function(e){var t=e.changes;e.contentsDidChangeUntracked(),t&&(t.length||0!==t.lengthDelta)&&e._shouldFireLengthChange&&(0!==t.lengthDelta&&e.propertyChanged("length"),e.contentsDidChange(t))}(this)},_shouldFireLengthChange:!0,length:Object(y.b)({writeDependencies:["contentsDidChange","contentsDidChangeUntracked"],cacheable:!1,set:Object.assign((function(){var e=this,t=arguments;if(this._shouldFireLengthChange=!1,e.__s._$2vx$set.apply(e,t),this._shouldFireLengthChange=!0,0===this._batchCount){this.contentsDidChangeUntracked=void 0;var n=this.changes;n&&(this.contentsDidChange=n)}}),{__CW__setter:function(e,t,n,i,r){var a=this,o=arguments;if(this._shouldFireLengthChange=!1,a.__s._$2vx$set.apply(a,o),this._shouldFireLengthChange=!0,0===this._batchCount){n[1+i]=void 0;var s=this.changes;s&&(n[0+i]=s)}}}),didChange:function(){},__superMap:{_$2vx$set:"set"},writeDependencySetPathMap:[!1,!1]}),sort:function(){var e=this,t=arguments;this.beginBatchedChanges();var n=e.__s._$38w$sort.apply(e,t);return this.endBatchedChanges(),n},addEach:function(){var e=this,t=arguments;this.beginBatchedChanges();var n=e.__s._$3Bh$addEach.apply(e,t);return this.endBatchedChanges(),n},reverse:function(){var e=this,t=arguments;this.beginBatchedChanges();var n=e.__s._$3ES$reverse.apply(e,t);return this.endBatchedChanges(),n},changes:Object(u.c)(),changesClass:R,_batchCount:0,beginBatchedChanges:function(){this._batchCount++},endBatchedChanges:function(){this._batchCount--,this.notifyIfNecessary(),this._batchCount<0&&Object(i.b)("Mismatched batched changes in observable array: "+this,{array:this}),this.notifyEverythingChangedIfNecessary()},swap:function(){var e=this,t=arguments;this.beginBatchedChanges();var n=e.__s._$3dr$swap.apply(e,t);return this.endBatchedChanges(),n},move:function(){var e=this,t=arguments;this.beginBatchedChanges();var n=e.__s._$3hn$move.apply(e,t);return this.endBatchedChanges(),n},contentsDidChange:Object(p.g)({didPropagate:function(){if(0===this._batchCount){var e=this.changes;e&&(this.changesClass.returnToPool(e),this.changes=null)}}}),iteratorClass:S,serializer:Object(y.b)(),_iterators:Object(d.b)(Array),_registerIterator:function(e){this._iterators.push(e)},_unregisterIterator:function(e){Object(r.a)(e,this._iterators)},contentsDidChangeUntracked:Object(p.g)(),HandleProviderClass:A.a,encodedHandleFor:function(e){var t=this.encodedIndexOf(e);return this.startHandle.atDistance(t)},_ignoreCount:0,beginIgnoringChanges:function(){this._ignoreCount++},endIgnoringChanges:function(){this._ignoreCount--,0===this._ignoreCount&&(this._notifyEverythingChanged=!0,this.notifyEverythingChangedIfNecessary())},notifyEverythingChangedIfNecessary:function(){0===this._batchCount&&this._notifyEverythingChanged&&(this.propertyChanged("length"),this.everythingChanged())},everythingChanged:Object(p.g)({didPropagate:function(){this._notifyEverythingChanged=!1}}),__superMap:{_$38w$sort:"sort",_$3Bh$addEach:"addEach",_$3ES$reverse:"reverse",_$3dr$swap:"swap",_$3hn$move:"move"}}),F=[];function L(e){var t=e.downstreamNodes.contentsDidChange,n=f.a.getChildrenIDs(t,F).length>0;return F.length=0,n}function R(e){this.owner=e}R.fromArrays=function(e,t,n){var i=new R(n),r=n&&n.encode||a.a;if(!e||0===e.length){for(var s=0,l=t.length;s<l;s++)i.recordInsertion(s,r.call(n,t[s],s));return i}if(!t||0===t.length){for(var c=0,u=e.length;c<u;c++)i.recordRemoval(c,r.call(n,e[c],c));return i}for(var d=Math.min(e.length,t.length),h=0;h<d;h++)Object(o.a)(e[h],t[h])||(i.recordRemoval(h,r.call(n,e[h],h)),i.recordInsertion(h,r.call(n,t[h],h)));var f=t.length-e.length;if(f>0)for(var p=d;p<t.length;p++)i.recordInsertion(p,r.call(n,t[p],p));else if(f<0)for(var m=d;m<e.length;m++)i.recordRemoval(m,r.call(n,e[m],m));return i},R.prototype=Object.create(Array.prototype),R.prototype.lengthDelta=0,R.prototype.recordInsertion=function(e,t){this.push(k(this.owner,e,t,D)),this.lengthDelta++},R.prototype.recordRemoval=function(e,t){this.push(k(this.owner,e,t,M)),this.lengthDelta--},R.prototype.applyChanges=function(e){var t=this.length,n=Object(s.a)(e,c.a),i=Object(s.a)(e,N);if(n){i&&e.beginBatchedChanges();for(var r=0;r<t;r++){var a=this[r];a.operation===M?e.encodedSplice(a.index,1):e.encodedSplice(a.index,0,a.encodedItem)}i&&e.endBatchedChanges()}else for(var o=0;o<t;o++){var l=this[o];l.operation===M?e.splice(l.index,1):e.splice(l.index,0,l.item)}return e},R.prototype.reverseChanges=function(e){var t=this.length,n=Object(s.a)(e,c.a),i=Object(s.a)(e,N);if(n){i&&e.beginBatchedChanges();for(var r=t-1;r>=0;r--){var a=this[r];a.operation===M?e.encodedSplice(a.index,0,a.encodedItem):e.encodedSplice(a.index,1)}i&&e.endBatchedChanges()}else for(var o=t-1;o>=0;o--){var l=this[o];l.operation===M?e.splice(l.index,0,l.item):e.splice(l.index,1)}return e},R.prototype.clear=function(){for(var e=this.length;e--;){var t=this[e];delete this[e],t.reset(),U.length<j&&U.push(t)}this.length=0,this.lengthDelta=0},R.prototype.toString=function(){return"[ArrayChangeList("+this.length+"): "+this.join(", ")+"]"},R.prototype.get=function(e){return this[e]},R.prototype.set=function(e,t){return this[e]=t},R.prototype.objectAt=function(e){return this[e]};var x=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=i.prototype;return r.recordInsertion=function(t,n){Object(h.f)(n,this,"StrongArrayChangeList: strong referencing change item"),e.prototype.recordInsertion.call(this,t,n)},r.recordRemoval=function(t,n){Object(h.f)(n,this,"StrongArrayChangeList: strong referencing change item"),e.prototype.recordRemoval.call(this,t,n)},r.clear=function(){for(var t=this.length;t--;){var n=this[t];Object(h.e)(n.item,this,"StrongArrayChangeList: strong referencing change item")}e.prototype.clear.call(this)},i}(R);function P(e,t,n,i){this._sourceArray=e,this.index=t,this.encodedItem=n,this.operation=i}function k(e,t,n,i){if(U.length>0){var r=U.pop();return r._sourceArray=e,r.index=t,r.encodedItem=n,r.operation=i,r}return new P(e,t,n,i)}P.prototype.reset=function(){this._sourceArray=null,this.encodedItem=null,this.index=null,this.operation=null},P.prototype.toString=function(){return"["+this.operation+"@"+this.index+":"+this.item+"]"},Object.defineProperty(P.prototype,"item",{get:function(){var e=this.encodedItem,t=this.index,n=this._sourceArray;return n&&n.decode&&(e=n.decode(e,t)),e},set:l.a}),Object.defineProperty(P.prototype,"object",{get:function(){return this.item},set:l.a});var U=[],j=100;R.pool=[],x.pool=[],R.acquire=function(e){if(this.pool.length){var t=this.pool.pop();return t.owner=e,t}return new this(e)},R.returnToPool=function(e){e.clear(),e.owner=null,this.pool.push(e)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(334),r=n(287).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){var i=n(60),r=n(336),a=n(287),o=n(211),s=n(337),l=n(283),c=n(245)("IE_PROTO"),u=function(){},d=function(){var e,t=l("iframe"),n=a.length;for(t.style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),d=e.F;n--;)delete d.prototype[a[n]];return d()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=i(e),n=new u,u.prototype=null,n[c]=e):n=d(),void 0===t?n:r(n,t)},o[c]=!0},function(e,t,n){"use strict";var i=n(136),r=n(88),a=n(164);e.exports=function(e,t,n){var o=i(t);o in e?r.f(e,o,a(0,n)):e[o]=n}},function(e,t,n){var i=n(211),r=n(59),a=n(94),o=n(88).f,s=n(210),l=n(220),c=s("meta"),u=0,d=Object.isExtensible||function(){return!0},h=function(e){o(e,c,{value:{objectID:"O"+ ++u,weakData:{}}})},f=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,c)){if(!d(e))return"F";if(!t)return"E";h(e)}return e[c].objectID},getWeakData:function(e,t){if(!a(e,c)){if(!d(e))return!0;if(!t)return!1;h(e)}return e[c].weakData},onFreeze:function(e){return l&&f.REQUIRED&&d(e)&&!a(e,c)&&h(e),e}};i[c]=!0},function(e,t,n){},function(e,t,n){"use strict";var i=n(130).Buffer,r=n(641).Transform;function a(e){r.call(this),this._block=i.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(115)(a,r),a.prototype._transform=function(e,t,n){var i=null;try{this.update(e,t)}catch(r){i=r}n(i)},a.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(n){t=n}e(t)},a.prototype.update=function(e,t){if(function(e,t){if(!i.isBuffer(e)&&"string"!==typeof e)throw new TypeError("Data must be a string or a buffer")}(e),this._finalized)throw new Error("Digest already called");i.isBuffer(e)||(e=i.from(e,t));for(var n=this._block,r=0;this._blockOffset+e.length-r>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)n[a++]=e[r++];this._update(),this._blockOffset=0}for(;r<e.length;)n[this._blockOffset++]=e[r++];for(var o=0,s=8*e.length;s>0;++o)this._length[o]+=s,(s=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*s);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},a.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=a},function(e,t,n){"use strict";var i=n(260),r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var a=n(223);a.inherits=n(115);var o=n(372),s=n(308);a.inherits(d,o);for(var l=r(s.prototype),c=0;c<l.length;c++){var u=l[c];d.prototype[u]||(d.prototype[u]=s.prototype[u])}function d(e){if(!(this instanceof d))return new d(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||i.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";function i(e){return!!Array.isArray(e)||!!e&&"[object Arguments]"===Object.prototype.toString.call(e)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var i=n(178),r=n(108),a=n(315),o=function(e,t){var n;if(Object(i.a)(e)){var o=Object(a.a)(e);if(t){for(var l=o.length,c=0,u=0;u<l;u++)(n=t.call(this,o[u],t,u))!==s&&(o[c]=n,c++);c!==l&&(o.length=c)}return o}if(Object(r.a)(e)){for(var d=Object.create(Object.getPrototypeOf(e)),h=Object.keys(e),f=h.length,p=0;p<f;p++){var m=h[p];t?(n=t.call(this,e[m],t,m))!==s&&(d[m]=n):d[m]=e[m]}return d}return e},s={}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c}));var i={PARSE_ERROR:-32700,INVALID_REQUEST:-32600,METHOD_NOT_FOUND:-32601,INVALID_PARAMS:-32602,INTERNAL_ERROR:-32603},r=function(e,t,n){this.message=e,this.code=t,this.data=n};r.prototype=Object.create(Error.prototype),r.prototype.constructor=r;var a=function(e){this.code=i.PARSE_ERROR,this.name="Parse error",this.message=e};(a.prototype=Object.create(r.prototype)).constructor=a;var o=function(e){this.code=i.INVALID_REQUEST,this.name="Invalid request",this.message=e};(o.prototype=Object.create(r.prototype)).constructor=o;var s=function(e){this.code=i.METHOD_NOT_FOUND,this.name="Method not found",this.message=e};s.prototype=Object.create(r.prototype),s.prototype.constructor=s;var l=function(e){this.code=i.INVALID_PARAMS,this.name="Invalid params",this.message=e};l.prototype=Object.create(r.prototype),l.prototype.constructor=l;var c=function(e){this.code=i.INTERNAL_ERROR,this.name="Internal error",this.message=e};c.prototype=Object.create(r.prototype),c.prototype.constructor=c},function(e,t,n){"use strict";n(0);var i=n(83),r=n(24),a=n(390),o=n(237),s=n(276),l=n(272),c=n(15),u=n(38),d=n(205),h=n(161),f=n(143),p={mixinDependencies:[u.a,f.a,d.a],staticMembers:{handler:h.a.create({nodeType:"ATTRIBUTE",render:function(e,t,n){return n.value}})}},m=n(56),g=n(101),v=n(134),_={mixinDependencies:[u.a,f.a,d.a],staticMembers:{handler:h.a.create({nodeType:"ATTRIBUTEOUTLET",generateLookupFunction:function(e,t){return o.a},register:function(e,t){var n=t.attribute,i=Object(v.a)(t);Object(v.c)(e,t,(function(e,t){null===(t=i(t))||void 0===t||t.toString===Object.prototype.toString||t.toString===Function.prototype.toString?e.removeAttribute(n):e.setAttribute(n,t)}))},render:function(e,t,n){var i=e.prototype[n.name];return null!=(i=Object(g.a)(i,m.a)?"":i)?i:""}})}},b=n(404),y=n(242),S=n(417),I=n(163),w=n(17),E=n(385),C={staticMembers:{init:function(){var e=this,t=arguments,n=this.prototype;n._removalHandlers=Object.create(n._removalHandlers),e.__s._$EG$init.apply(e,t)},_registerRemovalHandler:function(e,t){this.prototype._removalHandlers[e]=t},__superMap:{_$EG$init:"init"}},_removalHandlers:{},_removeChildView:function(e,t){return this._removalHandlers[e].removeChildView(this,e,t)},dispose:function(){var e=this,t=arguments;for(var n in this._removalHandlers)this._removalHandlers[n].disposeOutlet(this,n);e.__s._$au$dispose.apply(e,t)},__superMap:{_$au$dispose:"dispose"}},A=S.a.create(),T=[],O=d.b.extend({nodeType:"MULTIVIEWOUTLET",register:function(e,t){var n=t.name;n||Object(w.b)("View template error: multi-view outlets (`<views>`) must specify a name (like `<views name='foo'>`).",{ViewClass:e}),Object(E.a)(n).length>1&&Object(w.b)("View template error: multi-view outlets (`<views>`) must have a single key name. '%{name}' is a path.",{ViewClass:e,name:n}),t.children&&t.children.length>0&&Object(w.b)("View template error: multi-view outlets (`<views>`) may not have child elements",{ViewClass:e}),this.__s._$br$register.call(this,e,t,!0);var i=t.contentsDidChangeNode=Object(f.b)(t);i.parent=t.parent,i.name=n+".contentsDidChange";e._registerRemovalHandler(n,this),Object(v.c)(e,t,(function(e,t){for(var i;i=e.firstChild;)N.call(this,n,e,i.view,i);if(t)for(var r=t.length,a=0;a<r;a++){var o=t.objectAt(a);i=o.element,M.call(this,n,e,o)}}),{get:function(e){return e||(e=I.b.create()),e},set:function(e){return Object(g.a)(I.b,e)||(e=I.b.create(e)),e}}),Object(v.c)(e,i,(function(e,t){if(t&&!this._isCleaningUpOutlets){var i,r,a=t.context;!function(e){for(var t=e.length,n=0;n<t;n++){var i=e[n],r=i.item;r.hasOwnProperty("_changeRefCount")||(r._changeRefCount=0),i.operation===I.b.REMOVE?r._changeRefCount--:r._changeRefCount++}}(a);var o,s=a.length;for(o=0;o<s;o++){var l=a.objectAt(o);if(i=l.object,l.operation===I.b.REMOVE&&i.hasOwnProperty("_changeRefCount")&&i._changeRefCount<0)N.call(this,n,e,i,i.element),delete i._changeRefCount;else if(i.hasOwnProperty("_changeRefCount")&&i._changeRefCount>0){var c=l.index;r=e.childNodes[c],A.set(i,c),M.call(this,n,e,i,r),delete i._changeRefCount}}this._isCleaningUpOutlets=!0;var u,d=this.get(n);for(o=0,s=d.length;o<s;o++){i=d.objectAt(o);var h=A.get(i);void 0!==h&&o!==h&&T.push(o)}if(T.length>0){for(d.beginBatchedChanges(),o=0,s=T.length;o<s;o++)d.removeAt(T[o]);d.endBatchedChanges(),T.length=0}for(A.clear(),this._isCleaningUpOutlets=!1,o=d.length-1;o>=0;o--){var f=(i=d.objectAt(o)).element;F(e,f,u),u=f}}}))},render:function(e,t,n){var i=this,r=arguments,a=n.attributes;if(a&&a.tagName){var o=a.tagName;delete a.tagName,n.tagname=o}else"views"===n.tagname&&(n.tagname="div");return i.__s._$2LA$render.apply(i,r)},removeChildView:function(e,t,n){var i=e[t];i.removeAt(i.indexOf(n))},disposeOutlet:function(e,t){if(e.getMetadata(t).readOnly||e.isDisposing){var n=e[t];if(!n||n.isDisposed)return;for(var i=0,r=n.length;i<r;i++){var a=n.objectAt(i);a&&!a.isDisposed&&(a.parent=null,a.parentKey="")}}else e[t]=null},__superMap:{_$br$register:"register",_$2LA$render:"render"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MultiViewOutletHandler"}}),D={mixinDependencies:[u.a,f.a,C],staticMembers:{handler:O.create()},_isCleaningUpOutlets:!1};function M(e,t,n,i){var r=n.parent;!r||r===this&&n.parentKey===e||r._removeChildView(n.parentKey,n);var a=n.element;return t.insertBefore(a,i||null),n.parent=this,n.parentKey=e,a}function N(e,t,n,i){return n&&!n.isDisposed&&(n.parent=null,n.parentKey=""),t.removeChild(i),i}function F(e,t,n){!n&&t===e.lastChild||n&&t===n.previousSibling||e.insertBefore(t,n||null)}var L=n(241),R={mixinDependencies:[u.a,f.a,d.a],staticMembers:{handler:h.a.create({nodeType:"STYLEOUTLET",generateLookupFunction:function(e,t){return o.a},register:function(e,t){var n=t.unit||"",i=t.property,r=Object(v.a)(t);Object(v.c)(e,t,(function(e,t){t=r(t),n&&null!=t&&(t+=n),Object(L.a)(e,i,t)}))}})}},x=Symbol(),P={mixinDependencies:[u.a,f.a],staticMembers:{handler:h.a.create({nodeType:"DATAOUTLET",register:function(e,t){var n,i=Object(v.a)(t),r=t.attributes.escape;n="false"===r?function(e,t){t=i(t),e.innerHTML=null==t?"":t}:"dangerous"===r?function(e,t){var n=i(t);if(null!==n&&void 0!==n&&!0!==n[x])throw new w.a("All values passed to unescaped templates must be wrapped in hashes and flagged",{hash:n,rawValue:t,span:e});n&&null!=n.value?e.innerHTML=n.value:e.innerHTML=""}:function(e,t){t=i(t),e.data=null==t?"":t},Object(v.c)(e,t,n)},render:function(e,t,n){var i=n.attributes.escape;return"false"===i||"dangerous"===i?t.createElement("span"):t.createTextNode("\u200b")}})}},k={mixinDependencies:[f.a],staticMembers:{handler:h.a.create({nodeType:"TEXT",render:function(e,t,n){return t.createTextNode(n.data)}})}},U={mixinDependencies:[u.a,f.a,C],staticMembers:{handler:h.a.create({nodeType:"VIEWOUTLET",register:function(e,t){var n=t.name;n||Object(w.b)("View template error: view outlets (`<view>`) must specify a name (like `<view name='foo'>`).",{ViewClass:e}),Object(E.a)(n).length>1&&Object(w.b)("View template error: view outlets (`<view>`) must have a single key name. '%{name}' is a path.",{ViewClass:e,name:n}),t.parent||Object(w.b)("View template error: view outlets (`<view>`) may not be the root element in your template.",{ViewClass:e});var i="_previous_"+n;e._registerRemovalHandler(n,this),Object(v.c)(e,t,(function(e,t){var n=e.parentNode,i=e;return t?i=t.element:e.__cw__isTemplatePlaceholder__||(i=j(this.document)),i!==e&&n.replaceChild(i,e),i}),void 0,(function(e,t){var r=this[i];if(t!==r){if(r&&!r.isDisposed){var a=r.parent,o=r.parentKey;a===this&&o===n&&(r.isDisposed||(r.parent=null,r.parentKey=""))}if(t){var s=t.parent;s&&s._removeChildView(t.parentKey,t),t.parent=this,t.parentKey=n}this[i]=t}}))},render:function(e,t,n){return j(t)},removeChildView:function(e,t,n){e[t]=null},disposeOutlet:function(e,t){if(e.getMetadata(t).readOnly||e.isDisposing){var n=e[t];if(!n||n.isDisposed)return;n.parent=null,n.parentKey=""}else e[t]=null}})}};function j(e){var t=e.createElement("div");return t.__cw__isTemplatePlaceholder__=!0,t}n.d(t,"a",(function(){return B}));var B=i.a.extend(s.b,l.a,d.a,p,_,b.a,D,R,P,k,U,y.a,{init:function(e){var t=this,n=arguments;(e&&e.isRootView||this.isRootView)&&(this._isAttached=!1),t.__s._$yn$init.apply(t,n)},staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",attributes:{role:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaRole",attributes:{},attribute:"role"},"aria-label":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabel",attributes:{},attribute:"aria-label"},"aria-labelledby":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabelledBy",attributes:{},attribute:"aria-labelledby"},"aria-describedby":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaDescribedBy",attributes:{},attribute:"aria-describedby"},"aria-disabled":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaDisabled",attributes:{},attribute:"aria-disabled"},"aria-hidden":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaHidden",attributes:{},attribute:"aria-hidden"},"aria-controls":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaControls",attributes:{},attribute:"aria-controls"},"data-testid":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"testID",attributes:{},attribute:"data-testid"}}}},__QUALIFIED_CLASS_NAME__:"View"},nextResponder:Object(r.c)({get:function(e){return e||this.parent}}),isRootView:!1,isAttached:Object(c.b)({dependencies:["parent.isAttached"],get:Object.assign((function(e){return Object(a.a)(e)?e:Boolean(this.getPath("parent.isAttached"))}),{__CW__getter:function(e,t,n,i){return Object(a.a)(e)?e:Boolean(i.internalGetPath(this,t[0+n]))}}),set:o.a}),parent:Object(c.b)(),parentKey:Object(c.b)(),ariaRole:Object(c.b)(),ariaLabel:Object(c.b)(),ariaLabelledBy:Object(c.b)(),ariaDescribedBy:Object(c.b)(),ariaDisabled:Object(c.b)(),ariaHidden:Object(c.b)(),ariaControls:Object(c.b)(),testID:Object(c.b)(),__superMap:{_$yn$init:"init"}})},function(e,t,n){var i=n(135);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(60),r=n(346);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(a){}return function(n,a){return i(n),r(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},function(e,t,n){"use strict";var i=n(151),r=n(88),a=n(68),o=n(79),s=a("species");e.exports=function(e){var t=i(e),n=r.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var i=n(104);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){var i=n(60),r=n(290),a=n(71),o=n(153),s=n(218),l=n(344),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,u,d){var h,f,p,m,g,v,_=o(t,n,u?2:1);if(d)h=e;else{if("function"!=typeof(f=s(e)))throw TypeError("Target is not iterable");if(r(f)){for(p=0,m=a(e.length);m>p;p++)if((g=u?_(i(v=e[p])[0],v[1]):_(e[p]))&&g instanceof c)return g;return new c(!1)}h=f.call(e)}for(;!(v=h.next()).done;)if((g=l(h,_,v.value,u))&&g instanceof c)return g;return new c(!1)}).stop=function(e){return new c(!0,e)}},function(e,t,n){var i=n(103),r="["+n(252)+"]",a=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),s=function(e){return function(t){var n=String(i(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=/\s/g;function r(e,t){return e.replace(/%\{(.*?)\}/g,(function(n,r){if(!t)throw new Error('Cannot use named parameters with `fmt` without a data object. String: "'+e+'"');return function(e,t,n){var r,a,o,s=(e=e.replace(i,"")).indexOf(":");if(s>-1&&(r=e.substr(s+1),e=e.substr(0,s)),a=t[e],o=t[e+"Formatter"])a=o(a,r);else if(r)throw new Error("fmt() was given a formatting string, but key '"+e+"' has no formatter for the string: \""+n+'"');return a&&a.toString?a.toString():a}(r,t,e)}))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var i=n(17);function r(e,t,n){a();var i=e.apply(t,n);return o(),i}function a(){d[u++]=f}function o(){for(var e=d[u-1];f>e;)l(--f);u--}function s(e,t,n){return 0===u&&(a(),setTimeout(o,0)),h[f]=e,f++}function l(e){var t=h[e];h[e]=null,t&&t.release(void 0,void 0)}function c(e,t){h[t]!==e&&Object(i.b)("CW.Utils._cancelAutorelease: attempted to cancel autorelease for a different object",{object:e}),l(t)}var u=0,d=[],h=[],f=0;window},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var i=n(159),r=n(108),a=n(178),o=n(17),s=n(99),l=n(267),c=s.a.extend({items:null,name:null,id:null,init:function(e){this.__s._$Si$init.call(this,e),this.items=[],this.id=u,u++},toStaticMixin:function(){var e={};return this.items.forEach((function(t){t.level||(e[t.name]=t)})),{staticMembers:e}},getItemForValue:function(e){return this.items.find((function(t){return t.value===e}))||null},toString:function(){return"[CW.Enum.Group: "+this.name+"]"},retain:function(){return this},release:function(){return this},autorelease:function(){return this},__superMap:{_$Si$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"EnumGroup"}}),u=1;function d(e,t){var n,s,u,d=c.create({name:e}),h=d.items;if(Object(i.a)(t))t(function e(t,n){var i=1;return function(r,a){var o=null;n?(o=n.createSubitem(r),n.items.push(o)):o=l.a.create({name:r,value:i,parent:null,level:0,group:t});var s=o.fullName.replace(/\./g,"");return t.items.push(o),t[s]=o,n&&(n[r]=o),i+=1,a&&a(e(t,o)),o}}(d,null));else if(Object(r.a)(t))for(var f in t)n=l.a.create({name:f,value:t[f],group:d}),h.push(n),d[f]=n;else if(Object(a.a)(t))for(s=0,u=t.length;s<u;s++){var p=t[s];n=l.a.create({name:p,value:s,group:d}),h.push(n),d[p]=n}else Object(o.b)("Cannot create enum group. Invalid value",{name:e,obj:t});return d}},function(e,t,n){"use strict";function i(e){return"number"===typeof e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var i=n(99),r=n(35),a=n(17),o=n(101),s=n(10),l=n(238),c={},u=l.a.extend({debugType:"Base",key:null,init:function(e){e&&(this.property=e,this.key=e.key,this.set=e._transformedSet,this.internalGet=e.internalGet,this.validateType=e._validateType,this._valueOffsetCount=1,this.setterReturnArray=new Array(e.writeDependencies?e.writeDependencies.length:e.dependencies?e.dependencies.length:0),this.clearReturnArray(this.setterReturnArray)),this.dependencyCollector=[],this.__s._$fe$init.call(this)},property:null,isCacheable:!0,validateType:null,reference:null,set:null,internalGet:null,_valueOffsetCount:0,setUpNode:r.a,validateDescendantDownstreamNodeManager:function(e,t,n){e.property!==this.property&&Object(a.b)("A property\u2019s upstream node may only connect to the downstream node for the same property (key: %{key}, downstream property key: {%downstreamKey}). \u2026If you get this error, please contact the CoreWeb team, as you\u2019ve discovered a unicorn.",{key:this.key,downstreamKey:e.key})},willRemoveChildFromNode:function(e,t,n){s.a.getValueForNode(t)},wasDirtiedByParent:function(e,t,n,i){this._manageForWasDirtiedByParent(i,e)},_manageForWasDirtiedByParent:r.a,wasDirtiedBySelf:function(e,t,n,i){this._manageForWasDirtiedBySelf(n,i,e)},_manageForWasDirtiedBySelf:r.a,calculateValueForNode:function(e,t,n){var r,l=s.a.getDataForNode(t);if(n){var u=s.a.getStateIDForNode(t);if((r=this.pullDataFromParent(t,u))===c)return l}else r=s.a.getStateDataForNode(t),s.a.setStateDataForNode(void 0,t);var d=this.setterReturnArray,h=this.set.call(e,r,l,d,0,this.property);if(!this.validateType(h)){var f=this.property.type;Object(o.a)(h,i.a)?Object(a.b)('Type error: cannot set value `%{value}` (an instance of %{constructor}) to observable property "%{key}" of %{object} which expected a %{type}. (Note that `set` may have been called on a downstream property.)',{object:e,key:this.key,value:h,constructor:h.constructor,setValue:r,type:f}):Object(a.b)('Type error: cannot set value `%{value}` to observable property "%{key}" of %{object} which expected a %{type}. (Note that `set` may have been called on a downstream property.)',{object:e,key:this.key,value:h,setValue:r,type:f})}return this.passValuesToChildren(t,d,h),this.clearReturnArray(d),this._manageForCalculateValueForNode(h,r,e),h},_manageForCalculateValueForNode:r.a,pullDataFromParent:function(e,t){if(s.a.getStateDataForNode(e)===c){var n=s.a.getManagerForNode(t).property,i=n.key;n.dependencies!==n.writeDependencies?Object(a.b)("Infinite loop detected in the %{property} observable property. This is likely because you are attempting to get the write dependency '%{key}' inside your setter.",{key:this.key,property:i}):Object(a.b)("Infinite loop detected in the %{property} observable property. Try adding a writeDependencies array that contains only the dependencies you actually write to (not %{key}).",{key:this.key,property:i})}return s.a.setStateDataForNode(c,e),t<0&&Object(a.b)("Couldn't tell which parent set the upstream node (%{node})",{node:e}),s.a.getValueForNode(t),s.a.getStateDataForNode(e)},clearReturnArray:function(e){for(var t=e.length,n=0;n<t;n++)e[n]=c},passValuesToChildren:function(e,t,n){var i=this.dependencyCollector;s.a.getChildrenIDs(e,i);for(var r=this._valueOffsetCount,a=t.length,o=0;o<a;o++){var l=i[o+r];t[o]!==c&&l>=0&&s.a.getStateIDForNode(l)===e&&s.a.passValueToNode(t[o],l)}s.a.passValueToNode(n,i[0])},dependencyCollector:null,setterReturnArray:null,addDebugInfoForNode:function(e,t,n){t.type=this.debugType+" Upstream Node",t.object=e,t.key=this.key,t.toString=function(){return e+"."+this.key+" (Upstream)"},t.name=t.toString()},__superMap:{_$fe$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UpstreamNodeManager"}})},function(e,t,n){"use strict";function i(e){for(var t={},n=e.length,i=0;i<n;i++)t[e[i]]=!0;return t}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n(0),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var i=n(108),r=n(242),a=n(161),o=n(143),s=n(134),l=n(241),c=a.a.extend({nodeType:"ELEMENT",register:function(e,t,n){if(!n){var i=t.name;i&&Object(s.b)(e,i,t)}var r,a,o=t.classes;if(o){var l=o.length;for(a=0;a<l;a++)e.registerOutletAndSubOutlets(o[a],t)}var c=t.styles;if(c)for(r in c)e.registerOutletAndSubOutlets(c[r],t);var u=t.attributes;if(u)for(r in u){var d=u[r];e.registerOutletAndSubOutlets(d,t)}var h=t.children;if(h){var f=h.length;for(a=0;a<f;a++){var p=h[a];p.index=a,e.registerOutletAndSubOutlets(p,t)}}},render:function(e,t,n){var r,a,o=n.namespace,s=n.tagname,c=o?t.createElementNS(o,s):t.createElement(s),u=n.classes;if(u){var d=c.classList,h=u.length;for(a=0;a<h;a++){var f=e.renderNodeAndSubNodes(u[a],t);f&&d.add(f)}}var p=n.styles;if(p)for(r in p)Object(l.a)(c,r,e.renderNodeAndSubNodes(p[r],t));var m=n.attributes;if(m)for(r in m){var g,v=m[r];(g=Object(i.a)(v)?v.namespace:null)?c.setAttributeNS(g,r,e.renderNodeAndSubNodes(v,t)):c.setAttribute(r,e.renderNodeAndSubNodes(v,t))}var _=n.children;if(_){var b=_.length;for(a=0;a<b;a++){var y=_[a];y.index=a,c.appendChild(e.renderNodeAndSubNodes(y,t))}}return c},staticMembers:{__QUALIFIED_CLASS_NAME__:"_ElementHandler"}}),u={mixinDependencies:[o.a,r.a],staticMembers:{handler:c.create()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var i=n(313),r=n(199),a={group:"GROUP: ",debug:"DEBUG: ",info:"INFO:  ",warn:"WARN:  ",error:"ERROR: "},o={debug:4,info:3,warn:2,error:1,group:1,none:0},s=function(){function e(e){this.messagePrefix=null,this.outputMessagePrefix=null,this.recordedMessagePrefix=null,this.logOutputLevel="warn",this.logRecordingLevel="debug",this.recordedLogMessagesMaximumLength=500,this._recordedLogMessagesEnd=-1,this.reporter=console,this._recordedLogMessages=[],this._indentationLevel=0,e&&(this.reporter=e)}var t=e.prototype;return t.debug=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this._handleMessage("debug",arguments)},t.info=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this._handleMessage("info",arguments)},t.warn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this._handleMessage("warn",arguments)},t.error=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this._handleMessage("error",arguments)},t.group=function(e){this._handleMessage("group",arguments),"none"!==this.logRecordingLevel&&this._indentationLevel++},t.groupEnd=function(){this._outputMessage("groupEnd","");var e=this.logRecordingLevel;this._indentationLevel>0&&"none"!==e&&this._indentationLevel--},t.outputRecordedLogMessages=function(){for(var e=this._orderedRecordedLogMessages(),t=0;t<e.length;t++)this._outputMessage("log",e[t])},t.stringifyRecordedLogMessages=function(){return this._orderedRecordedLogMessages().join("\n")},t._orderedRecordedLogMessages=function(){var e=[],t=this._recordedLogMessages||[],n=this.recordedLogMessagesMaximumLength-1,i=this._recordedLogMessagesEnd,r=i;if(t.length>0)do{e.push(t[r]),r=0===r?n:r-1}while(t[r]&&r!==i);return e.reverse()},t._handleMessage=function(e,t){var n=this._shouldOutputType(e),i=this._shouldRecordType(e);if(n||i){var a=(this.messagePrefix||"")+r.a.apply(this,t);n&&this._outputMessage(e,a,t),i&&this._recordMessage(e,a)}},t._shouldOutputType=function(e){return o[e]<=o[this.logOutputLevel]},t._shouldRecordType=function(e){return o[e]<=o[this.logRecordingLevel]},t._outputMessage=function(e,t,n){var r=this.reporter,a=r?r[e]:null,o=this.outputMessagePrefix||"";if(a){var s=[];n&&n.length>1&&(s=Object(i.a)(n,0,1));try{var l;(l=Function.prototype.call).call.apply(l,[a,r,o+t].concat(s))}catch(c){Function.prototype.call.call(a,r,o+t,"Cycle argument")}}},t._recordMessage=function(e,t){var n=this._recordedLogMessages,i=this._createRecordedMessageString(e,t),r=this.recordedLogMessagesMaximumLength-1,a=this._recordedLogMessagesEnd,o=a===r?0:a+1;n[o]=i,this._recordedLogMessagesEnd=o},t._createRecordedMessageString=function(e,t){var n=function(e){(!e||e<0)&&(e=0);var t,n="";for(t=0;t<e;++t)n+="    ";return n}(this._indentationLevel),i=(new Date).toUTCString()+":  ",r=a[e];return n+i+(this.recordedMessagePrefix||"")+r+t},e}();s.LOG_LEVEL_NONE="none",s.LOG_LEVEL_GROUP="group",s.LOG_LEVEL_DEBUG="debug",s.LOG_LEVEL_INFO="info",s.LOG_LEVEL_WARN="warn",s.LOG_LEVEL_ERROR="error";var l=new s},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.MOUSE="MOUSE",e.TOUCH="TOUCH"}(i||(i={}))},function(e,t,n){var i=n(36),r=n(135),a="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?a.call(e,""):Object(e)}:Object},function(e,t,n){var i=n(50),r=n(284),a=n(144),o=i["__core-js_shared__"]||r("__core-js_shared__",{});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.2.1",mode:a?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},function(e,t){e.exports={}},function(e,t,n){var i=n(117),r=n(71),a=n(152),o=function(e){return function(t,n,o){var s,l=i(t),c=r(l.length),u=a(o,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,n){var i=n(36),r=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==c||n!=l&&("function"==typeof t?i(t):!!t)},o=a.normalize=function(e){return String(e).replace(r,".").toLowerCase()},s=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},function(e,t,n){var i=n(334),r=n(287);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(59),r=n(182),a=n(68)("species");e.exports=function(e,t){var n;return r(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var i=n(36),r=n(68)("species");e.exports=function(e){return!i((function(){var t=[];return(t.constructor={})[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t){e.exports={}},function(e,t,n){var i=n(219),r=n(217),a=n(68)("iterator");e.exports=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||r[i(e)]}},function(e,t,n){var i=n(135),r=n(68)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),r))?n:a?i(t):"Object"==(o=i(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,n){var i=n(36);e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){"use strict";var i=n(60);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"===typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"===typeof e},t.isString=function(e){return"string"===typeof e},t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"===typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"===typeof e},t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=e.isBuffer}).call(this,n(370).Buffer)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(138);function r(e){return a(e.constructor)||a(e)||"<object>"}function a(e){var t=e.__QUALIFIED_CLASS_NAME__;if(t)return e.hasOwnProperty("__QUALIFIED_CLASS_NAME__")||(e.isClass&&!e.isInitialized?t+="(Uninitialized subclass "+Object(i.a)(e)+")":t+="(Anonymous subclass "+Object(i.a)(e)+")"),t}},function(e,t,n){"use strict";function i(e){return null===e||"object"!==typeof e&&"function"!==typeof e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(99),r=n(35),a=i.a.extend({debugType:"Base",isCacheable:!0,calculateValueForNode:null,previousValueWasReplaced:r.a,flushNode:r.a,notifyNode:r.a,didAddParentToNode:r.a,didRemoveParentFromNode:r.a,didAddChildToNode:r.a,didRemoveChildFromNode:r.a,willRemoveChildFromNode:r.a,willRemoveParentFromNode:r.a,validateDescendantDownstreamNodeManager:r.a,wasDirtiedByParent:r.a,wasDirtiedBySelf:r.a,nodeWillFree:r.a,addDebugInfoForNode:r.a,staticMembers:{__QUALIFIED_CLASS_NAME__:"NodeManager"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(99),r=n(35),a=n(101),o=n(17),s=n(10),l=n(238).a.extend({debugType:"Base",property:null,key:null,init:function(e){this.property=e,this.key=e.key,this.get=e._transformedGet,this.internalGet=e.internalGet,void 0!==e.cacheable&&(this.isCacheable=e.cacheable),this.dependencyCount=e.dependencies?e.dependencies.length:0,this.readOnly=e.readOnly,this.reference=e.reference,this.collectors=[],this.collectorsCount=0,this.validateType=e._validateType,e.isDependentComputedProperty&&(this._validateNewParent=r.a,this.isDependentComputedProperty=!0),this.__s._$ll$init.call(this)},isDependentComputedProperty:!1,readOnly:!1,validateType:null,get:null,internalGet:null,setUpNode:r.a,calculateValueForNode:function(e,t,n){var r=s.a.getDataForNode(t),l=this.getCollector();s.a.getParentIDs(t,l);for(var c=s.a.getValueForNode(l[0]),u=1;u<l.length;u++)l[u-1]=l[u];l[l.length-1]=s.a.NULL_INDEX;var d=this.get.call(e,c,l,0,this.property);if(this.releaseCollector(l),!this.validateType(d)){var h=this.property.type;Object(a.a)(d,i.a)?Object(o.b)('Type error: cannot return %{value} (an instance of %{constructor}) from observable property "%{key}" of %{object} which expected a %{type}. Value passed type check at `set` time, but was transformed inappropriately by an upstream property\u2019s getter or setter.',{object:e,key:this.key,value:d,constructor:d.constructor,type:h}):Object(o.b)('Type error: cannot return value %{value} from observable property "%{key}" of %{object} which expected a %{type}. Value passed type check at `set` time, but was transformed inappropriately by an upstream property\u2019s getter or setter.',{object:e,key:this.key,value:d,type:h})}return this._manageForCalculateValueForNode(e,r,d),d},_manageForCalculateValueForNode:r.a,didAddParentToNode:function(e,t,n){this._validateNewParent(t,n)},_validateNewParent:function(e,t){s.a.getManagerForNode(t).validateDescendantDownstreamNodeManager(this,e,t)},validateDescendantDownstreamNodeManager:r.a,_throwValidationError:function(e,t,n){Object(o.b)(n,{reference:e.reference,parentReference:this.reference,key:e.key,object:s.a.getContextForNode(t),parentKey:this.key,property:e.property})},dependencyCount:null,collectors:null,collectorsCount:0,getCollector:function(){return this.collectorsCount>0?this.collectors[--this.collectorsCount]:new Array(this.dependencyCount)},releaseCollector:function(e){var t,n=this.dependencyCount;for(t=0;t<n;t++)e[t]=null;this.collectors[this.collectorsCount++]=e},addDebugInfoForNode:function(e,t,n){t.type=this.debugType+" Downstream Node",t.object=e,t.key=this.key,t.toString=function(){return e+"."+this.key+" (Downstream)"},t.name=t.toString()},__superMap:{_$ll$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamNodeManager"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var i=n(83),r=n(158),a=n(84),o=n(85),s=n(398),l=n(109),c=n(386);function u(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return d(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}var p=o.b.Possible,m=o.b.Began,g=o.b.Changed,v=o.b.Ended,_=o.b.Failed,b=o.b.Cancelled,y=["pointerUp","pointerCancel","click"],S=function(){function e(){this._map=new Map}var t=e.prototype;return t.get=function(){var e=this._map;return e.get.apply(e,arguments)},t.set=function(){var e=this._map;return e.set.apply(e,arguments)},t.add=function(e,t){var n=this._map,i=n.get(e);i||(i=new Set,n.set(e,i)),i.add(t)},t.has=function(e,t){var n=this._map.get(e);return!!n&&n.has(t)},t.hasAny=function(e){var t=this._map.get(e);return!!t&&t.size>0},t.delete=function(e,t){var n=this._map,i=n.get(e);i&&(i.delete(t),0===i.size&&n.delete(e))},t.deleteAll=function(e){this._map.delete(e)},t.clear=function(){this._map.clear()},t.keys=function(){return this._map.keys()},t.values=function(){return this._map.values()},t.entries=function(){return this._map.entries()},f(e,[{key:"size",get:function(){return this._map.size}}]),e}(),I=function(){function e(){this._map=new S,this._reverseMap=new S}var t=e.prototype;return t.add=function(e,t){var n=this._map,i=this._reverseMap;n.add(e,t),i.add(t,e)},t.get=function(e){return this._map.get(e)},t.getKeys=function(e){return this._reverseMap.get(e)},t.has=function(e,t){return this._map.has(e,t)},t.hasKey=function(e){return this._map.hasAny(e)},t.hasValue=function(e){return this._reverseMap.hasAny(e)},t.delete=function(e,t){var n=this._map,i=this._reverseMap;n.delete(e,t),i.delete(t,e)},t.deleteKey=function(e){var t=this._map,n=this._reverseMap,i=t.get(e);i&&(i.forEach((function(t){return n.delete(t,e)})),t.deleteAll(e))},t.deleteValue=function(e){var t=this._map,n=this._reverseMap,i=n.get(e);i&&(i.forEach((function(n){return t.delete(n,e)})),n.deleteAll(e))},t.clear=function(){var e=this._map,t=this._reverseMap;e.clear(),t.clear()},t.keys=function(){return this._map.keys()},t.values=function(){return this._reverseMap.keys()},t.entries=function(){return this._map.entries()},f(e,[{key:"sizeKeys",get:function(){return this._map.size}},{key:"sizeValues",get:function(){return this._reverseMap.size}}]),e}(),w=i.a.extend(r.a,{staticMembers:{_sequences:Object(a.b)(Set),addGestureRecognizersWithEvent:function(e,t,n){if("pointerDown"===e||"click"===e){if("click"===e){var i=t;t=l.a.create({nativeEvent:i,type:"click",pointerId:-1})}for(var r,a=u(this._sequences);!(r=a()).done;){var o=r.value;o.retain(this,"GestureRecognitionEventSequence#handleEvent: existing sequence");var s=o.addGestureRecognizersWithEvent(n,t);if(o.release(this,"GestureRecognitionEventSequence#handleEvent: existing sequence"),s)return!0}var c=this.create().retain(this,"GestureRecognitionEventSequence#handleEvent: new sequence"),d=c.addGestureRecognizersWithEvent(n,t);return d&&this._sequences.add(c),c.release(this,"GestureRecognitionEventSequence#handleEvent: new sequence"),d}},handleEvent:function(e,t){if("pointerDown"!==e&&"click"!==e)return!1;if("click"===e){var n=t;t=l.a.create({nativeEvent:n,type:"click",pointerId:-1})}for(var i,r=t.pointerId,a=u(this._sequences);!(i=a()).done;){var o=i.value;if(o.gestureRecognizersByPointerId.hasKey(r))return o.handleEvent(e,t),!0}return!1},cancelGestureRecognizer:function(e){e.state=_,e.reset()},__QUALIFIED_CLASS_NAME__:"GestureRecognitionEventSequence"},gestureRecognizers:Object(a.b)(Set),addGestureRecognizersWithEvent:function(e,t){var n=this,i=t.pointerId,r=this.gestureRecognizers,a=this.gestureRecognizersByPointerId,o=this.gestureRecognizerFailureDependencies;if(!a.hasKey(i)&&r.size){for(var s,l=u(r);!(s=l()).done;){var c=s.value;this._isGestureRecognizerAllowedToHandleEvents(c)&&c.shouldReceive(t)&&this._gestureRecognizerIsInterestedInPointerId(c,i)}if(!a.hasKey(i))return!1}var d=Array.from(e).filter((function(e){return e.isEnabled&&!e.sequence})).filter((function(e){return e.shouldReceive(t)}));if(d.forEach((function(e){return n._gestureRecognizerIsInterestedInPointerId(e,i)})),0===d.length)return a.hasKey(i);for(var h,f=u(d);!(h=f()).done;){var m=h.value;r.add(m),m.sequence=this;for(var g,v=!1,b=u(r);!(g=b()).done;){var y=g.value;if(y!==m&&((m.shouldRequireFailureOf(y)||y.shouldBeRequiredToFailBy(m))&&o.add(m,y),y.shouldRequireFailureOf(m)||m.shouldBeRequiredToFailBy(y))){var S=y.state;if(S!==p&&S!==_){v||(m.state=_,v=!0);continue}o.add(y,m)}}}return!0},handleEvent:function(e,t){var n=this,i=this.gestureRecognizers,r=this.gestureRecognizerFailureDependencies,a=t.pointerId;this._isHandlingEvent=!0,i.forEach((function(i){if(n._isGestureRecognizerAllowedToHandleEvents(i)&&n._isGestureRecognizerInterestedInEvent(i,t)){i[e](t);var a=i.state;Object(c.a)(t,"targetView.needsDefaultTouch")||!i.shouldPreventDefault||a!==m&&a!==g&&a!==v||r.hasKey(i)||t.preventDefault()}})),this._isHandlingEvent=!1,this._flushPendingStateChanges(),this.isPooled||y.includes(e)&&(this.gestureRecognizersByPointerId.deleteKey(a),this.releasePointerCapture(a))},_pendingStateChanges:Object(a.b)(Set),_flushPendingStateChanges:function(){var e=this,t=this._pendingStateChanges;t.forEach((function(t){e.isPooled||e.gestureRecognizerStateChanged(t,t.state)})),t.clear()},gestureRecognizerStateChanged:function(e,t){if(this._isHandlingEvent)this._pendingStateChanges.add(e);else switch(t){case b:this._callActionIfAllowed(e);case _:this._gestureRecognizerDidFail(e),this._cleanupGestureRecognizer(e);break;case m:case g:case v:this._callActionIfAllowed(e);break;default:throw new Error("GestureRecognitionEventSequence#gestureRecognizerStateChanged: invalid state "+t)}},gestureRecognizerIgnoredPointerId:function(e,t){var n=this.gestureRecognizersByPointerId;n.delete(t,e),n.hasKey(t)||this.releasePointerCapture(t)},gestureRecognizerFailureDependencies:Object(a.b)(I),gestureRecognizersByPointerId:Object(a.b)(I),cleanup:function(){var e=this;this.gestureRecognizers.forEach((function(t){return e._cleanupGestureRecognizer(t)})),this.gestureRecognizersByPointerId.clear(),this.gestureRecognizerFailureDependencies.clear(),this._begunGestureRecognizers.clear(),this._pendingStateChanges.clear(),this._isHandlingEvent=!1,this.constructor._sequences.delete(this),this.__s._$57i$cleanup.call(this)},_cleanupGestureRecognizer:function(e){var t=this.gestureRecognizersByPointerId,n=t.getKeys(e);if(t.deleteValue(e),n)for(var i,r=u(n);!(i=r()).done;){var a=i.value;t.hasKey(a)||this.releasePointerCapture(a)}this.gestureRecognizerFailureDependencies.deleteValue(e),this.gestureRecognizers.delete(e),this._pendingStateChanges.delete(e),e.reset()},_begunGestureRecognizers:Object(a.b)(Set),_gestureRecognizerDidBegin:function(e){var t=this._begunGestureRecognizers;if(!t.has(e)){t.add(e);var n=this.gestureRecognizerFailureDependencies;Array.from(this.gestureRecognizers).filter((function(t){return t!==e})).filter((function(t){return!E(e,t)})).filter((function(t){return!n.has(t,e)})).forEach((function(e){return e.state=_}))}},_gestureRecognizerDidFail:function(e){var t=this,n=this.gestureRecognizerFailureDependencies,i=n.getKeys(e);n.deleteValue(e),i&&i.forEach((function(e){n.hasKey(e)||t._callActionIfAllowed(e)}))},_gestureRecognizerIsInterestedInPointerId:function(e,t){var n=this.gestureRecognizersByPointerId;n.hasKey(t)||this.setPointerCapture(t),n.add(t,e)},_isGestureRecognizerInterestedInEvent:function(e,t){return this.gestureRecognizersByPointerId.has(t.pointerId,e)},_isGestureRecognizerAllowedToHandleEvents:function(e){var t=e.state;return t===p||t===m||t===g},_callActionIfAllowed:function(e){var t=e.state;t!==p&&t!==_&&(this.gestureRecognizerFailureDependencies.hasKey(e)||(e.gestureWasRecognized(),t!==m&&t!==g||this._gestureRecognizerDidBegin(e),t===v&&(Array.from(this.gestureRecognizers).filter((function(t){return t!==e})).filter((function(t){return!E(e,t)})).forEach((function(e){return e.state=_})),this._cleanupGestureRecognizer(e))))},__superMap:{_$57i$cleanup:"cleanup"}});function E(e,t){return!!e.shouldRecognizeSimultaneouslyWith(t)||!!t.shouldRecognizeSimultaneouslyWith(e)}["sendEvent","getPointerCapture","setPointerCapture","releasePointerCapture"].forEach((function(e){w.prototype[e]=function(){s.a[e].apply(this,arguments)}}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return F}));var i=n(99),r=n(393),a=n(319),o=n(17),s=n(108),l=n(206),c={"animation-duration":"s","animation-delay":"s","animation-iteration-count":"","column-count":"",columns:"","font-size-adjust":"","font-weight":"",opacity:"",order:"",orphans:"","tab-size":"","transition-delay":"s","transition-duration":"s",widows:"","z-index":"","flex-grow":"","flex-shrink":""},u=a.a.sharedInstance,d={translate:{subkeys:"translateX translateY translateZ".split(" "),defaultUnit:"px",processArgs:function(){A<2&&Object(o.b)("When adding a `translate` transform, at least two arguments (for X and Y) are required.")}},translateDevicePixels:{transform:"translate",subkeys:"translateX translateY translateZ".split(" "),defaultUnit:"px",processArgs:function(){A<2&&Object(o.b)("When adding a `translate` transform, at least two arguments (for X and Y) are required.");for(var e=0;e<A;e++){var t=C[e],n=u.ceilToDevicePixelRatio(t);C[e]=n}}},scale:{subkeys:"scaleX scaleY scaleZ".split(" "),defaultUnit:"",processArgs:function(){1===A&&(A=2,C[1]=C[0])}},rotate:{subkeys:"rotateX rotateY rotateZ".split(" "),defaultUnit:"deg",processArgs:function(){2===A&&Object(o.b)("When adding a `rotate` transform, either one or three arguments (for Z-only or X, Y, Z) are required."),1===A&&(A=3,C[2]=C[0],C[0]=C[1]=void 0)}},skew:{subkeys:"skewX skewY".split(" "),defaultUnit:"deg",processArgs:function(){}},matrix:{subkeys:[],_name:"matrix",_requiredArgs:6,processArgs:function(){d.matrix3d.processArgs.call(this)}},matrix3d:{subkeys:[],_name:"matrix3d",_requiredArgs:16,processArgs:function(){var e,t,n=1===A&&C[0];if(n&&Array.isArray(n))for(A=n.length,e=0;e<A;e++)C[e]=n[e];for(A!==this._requiredArgs&&Object(o.b)("When adding a `"+this._name+"` transform, exactly "+this._requiredArgs+" arguments are required."),e=0;e<A;e++)t=C[e],isNaN(t)&&Object(o.b)("All arguments to `"+this._name+"` must be numbers."),C[e]=(+t).toFixed(15)}}},h=function(){var e,t,n,i,r,a,o={};for(e in d)for(n=(t=d[e]).defaultUnit,a=(i=t.subkeys).length,r=0;r<a;r++)o[i[r]]=n;return o}(),f=i.a.extend(r.a,{element:null,_unflushedStyles:null,_unflushedStyleKeys:null,_unflushedStyleKeysLen:0,_pauseCount:0,init:function(e){this.element=e,this._unflushedStyles={},this._unflushedStyleKeys=[],this.__s._$25x$init.call(this)},set:function(e,t){if(Object(s.a)(e))return this._setWithHash(e);t=function(e,t){if(0!==t&&!t)return"";if(!isNaN(t)){var n=c[e];return void 0===n&&(n="px"),t+n}return t}(e,t),e=g(e);var n=this._unflushedStyles;return n[e]||(this._unflushedStyleKeys[this._unflushedStyleKeysLen++]=e),n[e]=t,this._flushStylesToElement(),this},get:function(e){return e=E(e)+e,function(e,t){var n;(n=e._computedStyle)||(n=e._computedStyle=document.defaultView.getComputedStyle(e,null));var i=n.getPropertyValue(t);return!i&&y[t]&&(i=y[t](n)||i),i}(this.element,e)},getInline:function(e){return e=g(e),this.element.style[e]},clear:function(e){return e?this.set(e,void 0):this._clearAll()},transform:function(e){if(!arguments.length)return this._partialTransformString=null,this.set("transform","");var t,n,i,r,a,o,s=d[e],l=this._partialTransformString||"";if(this._partialTransformString=null,s){var c=s.transform||e;for(t=s.subkeys,n=s.defaultUnit,a=arguments.length,A=a-1,r=1;r<a;r++)C[r-1]=arguments[r];if(s.processArgs(),t.length>=A)for(r=0;r<A;r++)void 0!==(i=C[r])&&(isNaN(i)||(i+=n),o=t[r],O[o]&&("rotateZ"!==o||O.rotateX||O.rotateY||(o="rotate"),l+=(r?" ":"")+o+"("+i+")"));else for(l+=c+"(",r=0;r<A;r++)l+=(i=C[r])+(r<A-1?", ":")")}else void 0!==(i=arguments[1])&&O[e]&&(isNaN(i)||(i+=h[e]),"rotateZ"!==e||O.rotateX||O.rotateY||(e="rotate"),l+=e+"("+i+")");return this.set("transform",l),m.styleInstance=this,m._partialTransformString=l+" ",m},layerBack:function(){return this.translateZ(0)},forceRedraw:function(){var e=this.element,t=e.parentNode;if(t){var n=e.nextSibling;t.removeChild(e),t.insertBefore(e,n)}return this},layerBackIf:function(e){return this.translateZ(e?0:void 0)},pause:function(){return this._pauseCount++,this},resume:function(){return--this._pauseCount<=0&&(this._pauseCount=0),this._hasUnflushedStyles&&this._flushStylesToElement(),this},_setWithHash:function(e){for(var t in this.pause(!0),e)e.hasOwnProperty(t)&&this.set(t,e[t]);return this.resume(!0),this},_clearAll:function(){return this.element.style.cssText="",this},_flushStylesToElement:function(){if(this._pauseCount)this._hasUnflushedStyles=!0;else{var e,t,n=this.element.style,i=this._unflushedStyles,r=this._unflushedStyleKeys,a=this._unflushedStyleKeysLen;for(e=0;e<a;e++)t=r[e],r[e]=void 0,n[t]=i[t],i[t]=void 0;this._unflushedStyleKeysLen=0}},__superMap:{_$25x$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Style"}}),p=function(){var e={transform:!0,layerBack:!0,layerBackIf:!0},t=function(t){e[t]=!0};return Object.keys(d).forEach(t),Object.keys(h).forEach(t),e}();!function(){var e=f.prototype,t=[],n=function(e){return function(){for(var n=t.length=arguments.length+1,i=n-1;i>=1;i--)t[i]=arguments[i-1];return t[0]=e,this.transform.apply(this,t)}};for(var i in d)e[i]=n(i);for(var r in h)e[r]=n(r)}();var m=function(){var e={styleInstance:null,_partialTransformString:null},t=f.prototype,n=function(e){return p[e]?function(){var t=this.styleInstance;return t._partialTransformString=this._partialTransformString,t[e].apply(t,arguments)}:function(){var t=this.styleInstance;return t[e].apply(t,arguments)}};for(var i in t)t.hasOwnProperty(i)&&t[i]instanceof Function&&"_"!==i[0]&&"constructor"!==i&&!e[i]&&(e[i]=n(i));return e}();function g(e){return _(e=E(e)+e)}var v={};function _(e){var t=v[e];if(t)return t;if(!e)return"";0!==e.indexOf("-ms-")&&0!==e.indexOf("-webkit-")||(e=e.substring(1));var n,i=e,r=i.length;for(n=0;n<r;n++)"-"===i[n]&&n<r-1&&(i=i.substring(0,n)+i[n+1].toUpperCase()+i.substring(n+2),r--);return v[e]=i,i}var b=["style","variant","weight","size","family"],y={font:function(e){for(var t="",n=0,i=b.length;n<i;n++){var r=b[n],a=e.getPropertyValue("font-"+r);if(a&&(t&&(t+=" "),t+=a,"size"===r)){var o=e.getPropertyValue("line-height");o&&(t+="/"+o)}}return t}},S=["","-ms-","-moz-","-webkit-","-o-"],I={},w=document.createElement("div");function E(e){var t=I[e];if(void 0!==t)return t;e.match(T)&&Object(o.b)('Attempting to set style "'+e+"\". Use the dashed form of the style's name instead.");var n,i,r=S.length,a=!1;for(n=0;n<r;n++)if(i=S[n],"string"===typeof w.style[_(i+e)]){a=!0,i&&S.length>2&&(S=["",i]);break}return a?I[e]=i:l.b.warn("Using unsupported style "+e+"."),a?i:""}var C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A=0,T=/[A-Z]/,O={};!function(){var e;for(e in h)h.hasOwnProperty(e)&&(O[e]=!0);var t=f.create(document.createElement("div"));for(e in O)if(O.hasOwnProperty(e)){var n=t.transform(e,1).getInline("transform");n&&"none"!==n||(O[e]=!1),t.transform()}}();var D=function(){var e=f.create(),t=e.pause,n=e.resume;return e.pause=function(e){if(e)return t.call(this);Object(o.b)("Cannot `pause` the shared CW.UI.Style instance.")},e.resume=function(e){if(e)return n.call(this);Object(o.b)("Cannot `resume` the shared CW.UI.Style instance.")},e}();function M(e,t,n){if(e){var i=arguments.length;if(!(i>1))return e._cwStyleProxy||(e._cwStyleProxy=f.create(e));var r=e._cwStyleProxy,a=r||Object.assign(D,{element:e});3===i&&a.set(t,n),2===i&&a.set(t),r||(D.element=null)}}var N=E("transform")+"transform";function F(e,t,n){e[N]="translate("+u.ceilToDevicePixelRatio(t)+"px, "+u.ceilToDevicePixelRatio(n)+"px)"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n(0);var i=n(38),r=n(15),a=n(149),o=n(321),s=n(24),l=n(705),c=n(241),u={mixinDependencies:[i.a],staticMembers:{className:Object(s.c)({get:function(e){if(Object(a.a)(e)&&this.hasOwnProperty("_className"))return e;if(!this.superclass.kindOf(u))return!1;if(!this.isNamed)return!1;var t=Object(o.a)(this.name.replace(/\$[0-9]+$/,"")).replace(/\./g,"-");return this._className=t}}),shouldInheritClassNames:!0,_classNamesFromJSClassHierarchyCache:null,_getClassNamesFromJSClassHierarchy:function(){if(this.hasOwnProperty("_classNamesFromJSClassHierarchyCache")&&this._classNamesFromJSClassHierarchyCache)return this._classNamesFromJSClassHierarchyCache;var e;if(this.kindOf(u)){if(!1!==this.className&&""!==this.className&&(e=[this.className]),this.shouldInheritClassNames){var t=this._getClassNamesFromJSClassHierarchy.call(this.superclass);e=e?e.concat(t):t}}else e=[];return this._classNamesFromJSClassHierarchyCache=e}},document:document,element:Object(r.b)(),style:Object(r.b)({readOnly:!0,dependencies:["element"],get:Object.assign((function(){return Object(c.a)(this.element)}),{__CW__getter:function(e,t,n,i){return Object(c.a)(i.internalGet(this,t[0+n]))}})}),rect:Object(s.c)({readOnly:!0,get:function(){var e=this.element;return Object(l.a)(e)}}),origin:Object(s.c)({readOnly:!0,get:function(){var e=this.rect;return e?{x:e.left,y:e.top}:null}}),additionalClassNames:Object(r.b)({readOnly:!0}),_suppressApplicationOfClassNamesToElement:!0,_applyClassNamesToElement:Object(i.f)("element","additionalClassNames",(function(e,t){if(e&&!this._suppressApplicationOfClassNamesToElement){var n=this.element.classList;t&&n.add.apply(n,t);var i=this.constructor._getClassNamesFromJSClassHierarchy();i.length&&n.add.apply(n,i)}})),init:function(){var e=this,t=arguments;e.__s._$1_C$init.apply(e,t),this._suppressApplicationOfClassNamesToElement=!1,this._applyClassNamesToElement()},__superMap:{_$1_C$init:"init"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(396),r=function(e,t,n,r){return e.removeEventListener(t,Object(i.a)(n)||n,r||!1)}},function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,a=r&&!i.call({1:2},1);t.f=a?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},function(e,t,n){var i=n(209),r=n(210),a=i("keys");e.exports=function(e){return a[e]||(a[e]=r(e))}},function(e,t,n){var i=n(68)("iterator"),r=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){r=!0}};o[i]=function(){return this},Array.from(o,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var a={};a[i]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(s){}return n}},function(e,t,n){"use strict";var i=n(117),r=n(154),a=n(217),o=n(118),s=n(291),l=o.set,c=o.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){l(this,{type:"Array Iterator",target:i(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var i=n(112),r=n(89),a=n(208),o=n(71),s=function(e){return function(t,n,s,l){i(n);var c=r(t),u=a(c),d=o(c.length),h=e?d-1:0,f=e?-1:1;if(s<2)for(;;){if(h in u){l=u[h],h+=f;break}if(h+=f,e?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:d>h;h+=f)h in u&&(l=n(l,u[h],h,c));return l}};e.exports={left:s(!1),right:s(!0)}},function(e,t,n){"use strict";var i=n(50),r=n(79),a=n(67).NATIVE_ARRAY_BUFFER,o=n(102),s=n(185),l=n(36),c=n(155),u=n(129),d=n(71),h=n(348),f=n(165).f,p=n(88).f,m=n(289),g=n(139),v=n(118),_=v.get,b=v.set,y=i.ArrayBuffer,S=y,I=i.DataView,w=i.Math,E=i.RangeError,C=w.abs,A=w.pow,T=w.floor,O=w.log,D=w.LN2,M=function(e,t,n){var i,r,a,o=new Array(n),s=8*n-t-1,l=(1<<s)-1,c=l>>1,u=23===t?A(2,-24)-A(2,-77):0,d=e<0||0===e&&1/e<0?1:0,h=0;for((e=C(e))!=e||e===1/0?(r=e!=e?1:0,i=l):(i=T(O(e)/D),e*(a=A(2,-i))<1&&(i--,a*=2),(e+=i+c>=1?u/a:u*A(2,1-c))*a>=2&&(i++,a/=2),i+c>=l?(r=0,i=l):i+c>=1?(r=(e*a-1)*A(2,t),i+=c):(r=e*A(2,c-1)*A(2,t),i=0));t>=8;o[h++]=255&r,r/=256,t-=8);for(i=i<<t|r,s+=t;s>0;o[h++]=255&i,i/=256,s-=8);return o[--h]|=128*d,o},N=function(e,t){var n,i=e.length,r=8*i-t-1,a=(1<<r)-1,o=a>>1,s=r-7,l=i-1,c=e[l--],u=127&c;for(c>>=7;s>0;u=256*u+e[l],l--,s-=8);for(n=u&(1<<-s)-1,u>>=-s,s+=t;s>0;n=256*n+e[l],l--,s-=8);if(0===u)u=1-o;else{if(u===a)return n?NaN:c?-1/0:1/0;n+=A(2,t),u-=o}return(c?-1:1)*n*A(2,u-t)},F=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},L=function(e){return[255&e]},R=function(e){return[255&e,e>>8&255]},x=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},P=function(e){return M(e,23,4)},k=function(e){return M(e,52,8)},U=function(e,t){p(e.prototype,t,{get:function(){return _(this)[t]}})},j=function(e,t,n,i){var r=h(+n),a=_(e);if(r+t>a.byteLength)throw E("Wrong index");var o=_(a.buffer).bytes,s=r+a.byteOffset,l=o.slice(s,s+t);return i?l:l.reverse()},B=function(e,t,n,i,r,a){var o=h(+n),s=_(e);if(o+t>s.byteLength)throw E("Wrong index");for(var l=_(s.buffer).bytes,c=o+s.byteOffset,u=i(+r),d=0;d<t;d++)l[c+d]=u[a?d:t-d-1]};if(a){if(!l((function(){y(1)}))||!l((function(){new y(-1)}))||l((function(){return new y,new y(1.5),new y(NaN),"ArrayBuffer"!=y.name}))){for(var V,$=(S=function(e){return c(this,S),new y(h(e))}).prototype=y.prototype,W=f(y),z=0;W.length>z;)(V=W[z++])in S||o(S,V,y[V]);$.constructor=S}var G=new I(new S(2)),H=I.prototype.setInt8;G.setInt8(0,2147483648),G.setInt8(1,2147483649),!G.getInt8(0)&&G.getInt8(1)||s(I.prototype,{setInt8:function(e,t){H.call(this,e,t<<24>>24)},setUint8:function(e,t){H.call(this,e,t<<24>>24)}},{unsafe:!0})}else S=function(e){c(this,S,"ArrayBuffer");var t=h(e);b(this,{bytes:m.call(new Array(t),0),byteLength:t}),r||(this.byteLength=t)},I=function(e,t,n){c(this,I,"DataView"),c(e,S,"DataView");var i=_(e).byteLength,a=u(t);if(a<0||a>i)throw E("Wrong offset");if(a+(n=void 0===n?i-a:d(n))>i)throw E("Wrong length");b(this,{buffer:e,byteLength:n,byteOffset:a}),r||(this.buffer=e,this.byteLength=n,this.byteOffset=a)},r&&(U(S,"byteLength"),U(I,"buffer"),U(I,"byteLength"),U(I,"byteOffset")),s(I.prototype,{getInt8:function(e){return j(this,1,e)[0]<<24>>24},getUint8:function(e){return j(this,1,e)[0]},getInt16:function(e){var t=j(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=j(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return F(j(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return F(j(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return N(j(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return N(j(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){B(this,1,e,L,t)},setUint8:function(e,t){B(this,1,e,L,t)},setInt16:function(e,t){B(this,2,e,R,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){B(this,2,e,R,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){B(this,4,e,x,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){B(this,4,e,x,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){B(this,4,e,P,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){B(this,8,e,k,t,arguments.length>2?arguments[2]:void 0)}});g(S,"ArrayBuffer"),g(I,"DataView"),t.ArrayBuffer=S,t.DataView=I},function(e,t,n){"use strict";var i=n(16),r=n(50),a=n(213),o=n(104),s=n(168),l=n(186),c=n(155),u=n(59),d=n(36),h=n(246),f=n(139),p=n(296);e.exports=function(e,t,n,m,g){var v=r[e],_=v&&v.prototype,b=v,y=m?"set":"add",S={},I=function(e){var t=_[e];o(_,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(a(e,"function"!=typeof v||!(g||_.forEach&&!d((function(){(new v).entries().next()})))))b=n.getConstructor(t,e,m,y),s.REQUIRED=!0;else if(a(e,!0)){var w=new b,E=w[y](g?{}:-0,1)!=w,C=d((function(){w.has(1)})),A=h((function(e){new v(e)})),T=!g&&d((function(){for(var e=new v,t=5;t--;)e[y](t,t);return!e.has(-0)}));A||((b=t((function(t,n){c(t,b,e);var i=p(new v,t,b);return void 0!=n&&l(n,i[y],i,m),i}))).prototype=_,_.constructor=b),(C||T)&&(I("delete"),I("has"),m&&I("get")),(T||E)&&I(y),g&&_.clear&&delete _.clear}return S[e]=b,i({global:!0,forced:b!=v},S),f(b,e),g||n.setStrong(b,e,m),b}},function(e,t){var n=Math.expm1,i=Math.exp;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:i(e)-1}:n},function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,n){"use strict";var i=n(144),r=n(50),a=n(36);e.exports=i||!a((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete r[e]}))},function(e,t,n){"use strict";var i=n(221),r=RegExp.prototype.exec,a=String.prototype.replace,o=r,s=function(){var e=/a/,t=/b*/g;return r.call(e,"a"),r.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=void 0!==/()??/.exec("")[1];(s||l)&&(o=function(e){var t,n,o,c,u=this;return l&&(n=new RegExp("^"+u.source+"$(?!\\s)",i.call(u))),s&&(t=u.lastIndex),o=r.call(u,e),s&&o&&(u.lastIndex=u.global?o.index+o[0].length:t),l&&o&&o.length>1&&a.call(o[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(o[c]=void 0)})),o}),e.exports=o},function(e,t,n){var i=n(129),r=n(103),a=function(e){return function(t,n){var a,o,s=String(r(t)),l=i(n),c=s.length;return l<0||l>=c?e?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):a:e?s.slice(l,l+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t,n){"use strict";var i=n(102),r=n(104),a=n(36),o=n(68),s=n(254),l=o("species"),c=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=!a((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,d){var h=o(e),f=!a((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),p=f&&!a((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[h](""),!t}));if(!f||!p||"replace"===e&&!c||"split"===e&&!u){var m=/./[h],g=n(h,""[e],(function(e,t,n,i,r){return t.exec===s?f&&!r?{done:!0,value:m.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}})),v=g[0],_=g[1];r(String.prototype,e,v),r(RegExp.prototype,h,2==t?function(e,t){return _.call(e,this,t)}:function(e){return _.call(e,this)}),d&&i(RegExp.prototype[h],"sham",!0)}}},function(e,t,n){"use strict";var i=n(255).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},function(e,t,n){var i=n(135),r=n(254);e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var a=n.call(e,t);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},function(e,t){var n,i,r=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{i="function"===typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";(function(t){"undefined"===typeof t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,i,r){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,i)}));case 4:return t.nextTick((function(){e.call(null,n,i,r)}));default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return t.nextTick((function(){e.apply(null,a)}))}}}:e.exports=t}).call(this,n(259))},function(e,t,n){"use strict";var i=n(5),r=n(377),a=n(653);function o(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}if(!i)throw o(Error(227));var s=null,l={};function c(){if(s)for(var e in l){var t=l[e],n=s.indexOf(e);if(!(-1<n))throw o(Error(96),e);if(!d[n]){if(!t.extractEvents)throw o(Error(97),e);for(var i in d[n]=t,n=t.eventTypes){var r=void 0,a=n[i],c=t,f=i;if(h.hasOwnProperty(f))throw o(Error(99),f);h[f]=a;var p=a.phasedRegistrationNames;if(p){for(r in p)p.hasOwnProperty(r)&&u(p[r],c,f);r=!0}else a.registrationName?(u(a.registrationName,c,f),r=!0):r=!1;if(!r)throw o(Error(98),i,e)}}}}function u(e,t,n){if(f[e])throw o(Error(100),e);f[e]=t,p[e]=t.eventTypes[n].dependencies}var d=[],h={},f={},p={};function m(e,t,n,i,r,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var g=!1,v=null,_=!1,b=null,y={onError:function(e){g=!0,v=e}};function S(e,t,n,i,r,a,o,s,l){g=!1,v=null,m.apply(y,arguments)}var I=null,w=null,E=null;function C(e,t,n){var i=e.type||"unknown-event";e.currentTarget=E(n),function(e,t,n,i,r,a,s,l,c){if(S.apply(this,arguments),g){if(!g)throw o(Error(198));var u=v;g=!1,v=null,_||(_=!0,b=u)}}(i,t,void 0,e),e.currentTarget=null}function A(e,t){if(null==t)throw o(Error(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function T(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var O=null;function D(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)C(e,t[i],n[i]);else t&&C(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function M(e){if(null!==e&&(O=A(O,e)),e=O,O=null,e){if(T(e,D),O)throw o(Error(95));if(_)throw e=b,_=!1,b=null,e}}var N={injectEventPluginOrder:function(e){if(s)throw o(Error(101));s=Array.prototype.slice.call(e),c()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!l.hasOwnProperty(t)||l[t]!==i){if(l[t])throw o(Error(102),t);l[t]=i,n=!0}}n&&c()}};function F(e,t){var n=e.stateNode;if(!n)return null;var i=I(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw o(Error(231),t,typeof n);return n}var L=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;L.hasOwnProperty("ReactCurrentDispatcher")||(L.ReactCurrentDispatcher={current:null}),L.hasOwnProperty("ReactCurrentBatchConfig")||(L.ReactCurrentBatchConfig={suspense:null});var R=/^(.*)[\\\/]/,x="function"===typeof Symbol&&Symbol.for,P=x?Symbol.for("react.element"):60103,k=x?Symbol.for("react.portal"):60106,U=x?Symbol.for("react.fragment"):60107,j=x?Symbol.for("react.strict_mode"):60108,B=x?Symbol.for("react.profiler"):60114,V=x?Symbol.for("react.provider"):60109,$=x?Symbol.for("react.context"):60110,W=x?Symbol.for("react.concurrent_mode"):60111,z=x?Symbol.for("react.forward_ref"):60112,G=x?Symbol.for("react.suspense"):60113,H=x?Symbol.for("react.suspense_list"):60120,K=x?Symbol.for("react.memo"):60115,Q=x?Symbol.for("react.lazy"):60116;x&&Symbol.for("react.fundamental"),x&&Symbol.for("react.responder"),x&&Symbol.for("react.scope");var q="function"===typeof Symbol&&Symbol.iterator;function Y(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function X(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case U:return"Fragment";case k:return"Portal";case B:return"Profiler";case j:return"StrictMode";case G:return"Suspense";case H:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case $:return"Context.Consumer";case V:return"Context.Provider";case z:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case K:return X(e.type);case Q:if(e=1===e._status?e._result:null)return X(e)}return null}function J(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,a=X(e.type);n=null,i&&(n=X(i.type)),i=a,a="",r?a=" (at "+r.fileName.replace(R,"")+":"+r.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+a}t+=n,e=e.return}while(e);return t}var Z=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),ee=null,te=null,ne=null;function ie(e){if(e=w(e)){if("function"!==typeof ee)throw o(Error(280));var t=I(e.stateNode);ee(e.stateNode,e.type,t)}}function re(e){te?ne?ne.push(e):ne=[e]:te=e}function ae(){if(te){var e=te,t=ne;if(ne=te=null,ie(e),t)for(e=0;e<t.length;e++)ie(t[e])}}function oe(e,t){return e(t)}function se(e,t,n,i){return e(t,n,i)}function le(){}var ce=oe,ue=!1,de=!1;function he(){null===te&&null===ne||(le(),ae())}new Map,new Map,new Map;var fe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pe=Object.prototype.hasOwnProperty,me={},ge={};function ve(e,t,n,i,r,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){_e[e]=new ve(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];_e[t]=new ve(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){_e[e]=new ve(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){_e[e]=new ve(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){_e[e]=new ve(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){_e[e]=new ve(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){_e[e]=new ve(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){_e[e]=new ve(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){_e[e]=new ve(e,5,!1,e.toLowerCase(),null,!1)}));var be=/[\-:]([a-z])/g;function ye(e){return e[1].toUpperCase()}function Se(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Ie(e,t,n,i){var r=_e.hasOwnProperty(t)?_e[t]:null;(null!==r?0===r.type:!i&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!pe.call(ge,e)||!pe.call(me,e)&&(fe.test(e)?ge[e]=!0:(me[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}function we(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ee(e){e._valueTracker||(e._valueTracker=function(e){var t=we(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ce(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=we(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function Ae(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Te(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=Se(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Oe(e,t){null!=(t=t.checked)&&Ie(e,"checked",t,!1)}function De(e,t){Oe(e,t);var n=Se(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ne(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ne(e,t.type,Se(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Me(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ne(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Fe(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Le(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Se(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Re(e,t){if(null!=t.dangerouslySetInnerHTML)throw o(Error(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xe(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw o(Error(92));if(Array.isArray(t)){if(!(1>=t.length))throw o(Error(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:Se(n)}}function Pe(e,t){var n=Se(t.value),i=Se(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ke(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(be,ye);_e[t]=new ve(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(be,ye);_e[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(be,ye);_e[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){_e[e]=new ve(e,1,!1,e.toLowerCase(),null,!1)})),_e.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){_e[e]=new ve(e,1,!1,e.toLowerCase(),null,!0)}));var Ue="http://www.w3.org/1999/xhtml";function je(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Be(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?je(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ve,$e=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Ve=Ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function We(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ze(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ge={animationend:ze("Animation","AnimationEnd"),animationiteration:ze("Animation","AnimationIteration"),animationstart:ze("Animation","AnimationStart"),transitionend:ze("Transition","TransitionEnd")},He={},Ke={};function Qe(e){if(He[e])return He[e];if(!Ge[e])return e;var t,n=Ge[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ke)return He[e]=n[t];return e}Z&&(Ke=document.createElement("div").style,"AnimationEvent"in window||(delete Ge.animationend.animation,delete Ge.animationiteration.animation,delete Ge.animationstart.animation),"TransitionEvent"in window||delete Ge.transitionend.transition);var qe=Qe("animationend"),Ye=Qe("animationiteration"),Xe=Qe("animationstart"),Je=Qe("transitionend"),Ze="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),et=!1,tt=[],nt=null,it=null,rt=null,at=new Map,ot=new Map,st="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),lt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function ct(e,t,n,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i}}function ut(e,t){switch(e){case"focus":case"blur":nt=null;break;case"dragenter":case"dragleave":it=null;break;case"mouseover":case"mouseout":rt=null;break;case"pointerover":case"pointerout":at.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ot.delete(t.pointerId)}}function dt(e,t,n,i,r){return null===e||e.nativeEvent!==r?ct(t,n,i,r):(e.eventSystemFlags|=i,e)}function ht(e){if(null!==e.blockedOn)return!1;var t=wn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);return null===t||(e.blockedOn=t,!1)}function ft(e,t,n){ht(e)&&n.delete(t)}function pt(){for(et=!1;0<tt.length;){var e=tt[0];if(null!==e.blockedOn)break;var t=wn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:tt.shift()}null!==nt&&ht(nt)&&(nt=null),null!==it&&ht(it)&&(it=null),null!==rt&&ht(rt)&&(rt=null),at.forEach(ft),ot.forEach(ft)}function mt(e,t){e.blockedOn===t&&(e.blockedOn=null,et||(et=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,pt)))}function gt(e){function t(t){return mt(t,e)}if(0<tt.length){mt(tt[0],e);for(var n=1;n<tt.length;n++){var i=tt[n];i.blockedOn===e&&(i.blockedOn=null)}}null!==nt&&mt(nt,e),null!==it&&mt(it,e),null!==rt&&mt(rt,e),at.forEach(t),ot.forEach(t)}var vt=1024;function _t(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function bt(e){if(_t(e)!==e)throw o(Error(188))}function yt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=_t(e)))throw o(Error(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return bt(r),e;if(a===i)return bt(r),t;a=a.sibling}throw o(Error(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=a;break}if(l===i){s=!0,i=r,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=r;break}if(l===i){s=!0,i=a,n=r;break}l=l.sibling}if(!s)throw o(Error(189))}}if(n.alternate!==i)throw o(Error(190))}if(3!==n.tag)throw o(Error(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function St(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function It(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function wt(e,t,n){(t=F(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=A(n._dispatchListeners,t),n._dispatchInstances=A(n._dispatchInstances,e))}function Et(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=It(t);for(t=n.length;0<t--;)wt(n[t],"captured",e);for(t=0;t<n.length;t++)wt(n[t],"bubbled",e)}}function Ct(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=F(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=A(n._dispatchListeners,t),n._dispatchInstances=A(n._dispatchInstances,e))}function At(e){e&&e.dispatchConfig.registrationName&&Ct(e._targetInst,null,e)}function Tt(e){T(e,Et)}function Ot(){return!0}function Dt(){return!1}function Mt(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Ot:Dt,this.isPropagationStopped=Dt,this}function Nt(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function Ft(e){if(!(e instanceof this))throw o(Error(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Lt(e){e.eventPool=[],e.getPooled=Nt,e.release=Ft}r(Mt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ot)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ot)},persist:function(){this.isPersistent=Ot},isPersistent:Dt,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Dt,this._dispatchInstances=this._dispatchListeners=null}}),Mt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Mt.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var a=new t;return r(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=r({},i.Interface,e),n.extend=i.extend,Lt(n),n},Lt(Mt);var Rt=Mt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),xt=Mt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pt=Mt.extend({view:null,detail:null}),kt=Pt.extend({relatedTarget:null});function Ut(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var jt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $t(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Vt[e])&&!!t[e]}function Wt(){return $t}for(var zt=Pt.extend({key:function(e){if(e.key){var t=jt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ut(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Bt[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Wt,charCode:function(e){return"keypress"===e.type?Ut(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ut(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Gt=0,Ht=0,Kt=!1,Qt=!1,qt=Pt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Wt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Gt;return Gt=e.screenX,Kt?"mousemove"===e.type?e.screenX-t:0:(Kt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ht;return Ht=e.screenY,Qt?"mousemove"===e.type?e.screenY-t:0:(Qt=!0,0)}}),Yt=qt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Xt=qt.extend({dataTransfer:null}),Jt=Pt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Wt}),Zt=Mt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),en=qt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),tn=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[qe,"animationEnd",2],[Ye,"animationIteration",2],[Xe,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Je,"transitionEnd",2],["waiting","waiting",2]],nn={},rn={},an=0;an<tn.length;an++){var on=tn[an],sn=on[0],ln=on[1],cn=on[2],un="on"+(ln[0].toUpperCase()+ln.slice(1)),dn={phasedRegistrationNames:{bubbled:un,captured:un+"Capture"},dependencies:[sn],eventPriority:cn};nn[ln]=dn,rn[sn]=dn}var hn={eventTypes:nn,getEventPriority:function(e){return void 0!==(e=rn[e])?e.eventPriority:2},extractEvents:function(e,t,n,i){var r=rn[e];if(!r)return null;switch(e){case"keypress":if(0===Ut(n))return null;case"keydown":case"keyup":e=zt;break;case"blur":case"focus":e=kt;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=qt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Xt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Jt;break;case qe:case Ye:case Xe:e=Rt;break;case Je:e=Zt;break;case"scroll":e=Pt;break;case"wheel":e=en;break;case"copy":case"cut":case"paste":e=xt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Yt;break;default:e=Mt}return Tt(t=e.getPooled(r,t,n,i)),t}},fn=hn.getEventPriority,pn=[];function mn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=ei(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=St(e.nativeEvent);i=e.topLevelType;for(var a=e.nativeEvent,o=e.eventSystemFlags,s=null,l=0;l<d.length;l++){var c=d[l];c&&(c=c.extractEvents(i,t,a,r,o))&&(s=A(s,c))}M(s)}}var gn=!0;function vn(e,t){_n(t,e,!1)}function _n(e,t,n){switch(fn(t)){case 0:var i=bn.bind(null,t,1);break;case 1:i=yn.bind(null,t,1);break;default:i=In.bind(null,t,1)}n?e.addEventListener(t,i,!0):e.addEventListener(t,i,!1)}function bn(e,t,n){ue||le();var i=In,r=ue;ue=!0;try{se(i,e,t,n)}finally{(ue=r)||he()}}function yn(e,t,n){In(e,t,n)}function Sn(e,t,n,i){if(pn.length){var r=pn.pop();r.topLevelType=e,r.eventSystemFlags=t,r.nativeEvent=n,r.targetInst=i,e=r}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:n,targetInst:i,ancestors:[]};try{if(t=mn,n=e,de)t(n,void 0);else{de=!0;try{ce(t,n,void 0)}finally{de=!1,he()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,pn.length<10&&pn.push(e)}}function In(e,t,n){if(gn)if(0<tt.length&&-1<st.indexOf(e))e=ct(null,e,t,n),tt.push(e);else{var i=wn(e,t,n);null===i?ut(e,n):-1<st.indexOf(e)?(e=ct(i,e,t,n),tt.push(e)):function(e,t,n,i){switch(t){case"focus":return nt=dt(nt,e,t,n,i),!0;case"dragenter":return it=dt(it,e,t,n,i),!0;case"mouseover":return rt=dt(rt,e,t,n,i),!0;case"pointerover":var r=i.pointerId;return at.set(r,dt(at.get(r)||null,e,t,n,i)),!0;case"gotpointercapture":return r=i.pointerId,ot.set(r,dt(ot.get(r)||null,e,t,n,i)),!0}return!1}(i,e,t,n)||(ut(e,n),Sn(e,t,n,null))}}function wn(e,t,n){var i=St(n),r=ei(i);if(null!==r)if(null===(i=_t(r)))r=null;else{var a=i.tag;if(13===a){if(null!==(i=13!==i.tag||(null===(r=i.memoizedState)&&null!==(i=i.alternate)&&(r=i.memoizedState),null===r)?null:r.dehydrated))return i;r=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}return Sn(e,t,n,r),null}function En(e){if(!Z)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var Cn=new("function"===typeof WeakMap?WeakMap:Map);function An(e){var t=Cn.get(e);return void 0===t&&(t=new Set,Cn.set(e,t)),t}function Tn(e,t,n){if(!n.has(e)){switch(e){case"scroll":_n(t,"scroll",!0);break;case"focus":case"blur":_n(t,"focus",!0),_n(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":En(e)&&_n(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ze.indexOf(e)&&vn(e,t)}n.add(e)}}var On={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dn=["Webkit","ms","Moz","O"];function Mn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||On.hasOwnProperty(e)&&On[e]?(""+t).trim():t+"px"}function Nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=Mn(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(On).forEach((function(e){Dn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),On[t]=On[e]}))}));var Fn=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ln(e,t){if(t){if(Fn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw o(Error(137),e,"");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw o(Error(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw o(Error(61))}if(null!=t.style&&"object"!==typeof t.style)throw o(Error(62),"")}}function Rn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xn(e,t){var n=An(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=p[t];for(var i=0;i<t.length;i++)Tn(t[i],e,n)}function Pn(){}function kn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jn(e,t){var n,i=Un(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Un(i)}}function Bn(){for(var e=window,t=kn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=kn((e=t.contentWindow).document)}return t}function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var $n=null,Wn=null;function zn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Gn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hn="function"===typeof setTimeout?setTimeout:void 0,Kn="function"===typeof clearTimeout?clearTimeout:void 0;function Qn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function qn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),Xn="__reactInternalInstance$"+Yn,Jn="__reactEventHandlers$"+Yn,Zn="__reactContainere$"+Yn;function ei(e){var t=e[Xn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zn]||n[Xn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=qn(e);null!==e;){if(n=e[Xn])return n;e=qn(e)}return t}n=(e=n).parentNode}return null}function ti(e){return!(e=e[Xn]||e[Zn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ni(e){if(5===e.tag||6===e.tag)return e.stateNode;throw o(Error(33))}function ii(e){return e[Jn]||null}var ri=null,ai=null,oi=null;function si(){if(oi)return oi;var e,t,n=ai,i=n.length,r="value"in ri?ri.value:ri.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[a-t];t++);return oi=r.slice(e,1<t?1-t:void 0)}var li=Mt.extend({data:null}),ci=Mt.extend({data:null}),ui=[9,13,27,32],di=Z&&"CompositionEvent"in window,hi=null;Z&&"documentMode"in document&&(hi=document.documentMode);var fi=Z&&"TextEvent"in window&&!hi,pi=Z&&(!di||hi&&8<hi&&11>=hi),mi=String.fromCharCode(32),gi={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},vi=!1;function _i(e,t){switch(e){case"keyup":return-1!==ui.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function bi(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var yi=!1,Si={eventTypes:gi,extractEvents:function(e,t,n,i){var r;if(di)e:{switch(e){case"compositionstart":var a=gi.compositionStart;break e;case"compositionend":a=gi.compositionEnd;break e;case"compositionupdate":a=gi.compositionUpdate;break e}a=void 0}else yi?_i(e,n)&&(a=gi.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=gi.compositionStart);return a?(pi&&"ko"!==n.locale&&(yi||a!==gi.compositionStart?a===gi.compositionEnd&&yi&&(r=si()):(ai="value"in(ri=i)?ri.value:ri.textContent,yi=!0)),a=li.getPooled(a,t,n,i),r?a.data=r:null!==(r=bi(n))&&(a.data=r),Tt(a),r=a):r=null,(e=fi?function(e,t){switch(e){case"compositionend":return bi(t);case"keypress":return 32!==t.which?null:(vi=!0,mi);case"textInput":return(e=t.data)===mi&&vi?null:e;default:return null}}(e,n):function(e,t){if(yi)return"compositionend"===e||!di&&_i(e,t)?(e=si(),oi=ai=ri=null,yi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pi&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=ci.getPooled(gi.beforeInput,t,n,i)).data=e,Tt(t)):t=null,null===r?t:null===t?r:[r,t]}},Ii={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ii[e.type]:"textarea"===t}var Ei={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ci(e,t,n){return(e=Mt.getPooled(Ei.change,e,t,n)).type="change",re(n),Tt(e),e}var Ai=null,Ti=null;function Oi(e){M(e)}function Di(e){if(Ce(ni(e)))return e}function Mi(e,t){if("change"===e)return t}var Ni=!1;function Fi(){Ai&&(Ai.detachEvent("onpropertychange",Li),Ti=Ai=null)}function Li(e){if("value"===e.propertyName&&Di(Ti))if(e=Ci(Ti,e,St(e)),ue)M(e);else{ue=!0;try{oe(Oi,e)}finally{ue=!1,he()}}}function Ri(e,t,n){"focus"===e?(Fi(),Ti=n,(Ai=t).attachEvent("onpropertychange",Li)):"blur"===e&&Fi()}function xi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Di(Ti)}function Pi(e,t){if("click"===e)return Di(t)}function ki(e,t){if("input"===e||"change"===e)return Di(t)}Z&&(Ni=En("input")&&(!document.documentMode||9<document.documentMode));var Ui={eventTypes:Ei,_isInputEventSupported:Ni,extractEvents:function(e,t,n,i){var r=t?ni(t):window,a=r.nodeName&&r.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===r.type)var o=Mi;else if(wi(r))if(Ni)o=ki;else{o=xi;var s=Ri}else(a=r.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=Pi);if(o&&(o=o(e,t)))return Ci(o,n,i);s&&s(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&Ne(r,"number",r.value)}},ji={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Bi={eventTypes:ji,extractEvents:function(e,t,n,i,r){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&r)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;if(r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window,o?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?ei(t):null)&&(t!==(a=_t(t))||5!==t.tag&&6!==t.tag)&&(t=null)):o=null,o===t)return null;if("mouseout"===e||"mouseover"===e)var s=qt,l=ji.mouseLeave,c=ji.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Yt,l=ji.pointerLeave,c=ji.pointerEnter,u="pointer");if(e=null==o?r:ni(o),r=null==t?r:ni(t),(l=s.getPooled(l,o,n,i)).type=u+"leave",l.target=e,l.relatedTarget=r,(n=s.getPooled(c,t,n,i)).type=u+"enter",n.target=r,n.relatedTarget=e,u=t,(i=o)&&u)e:{for(c=u,e=0,o=s=i;o;o=It(o))e++;for(o=0,t=c;t;t=It(t))o++;for(;0<e-o;)s=It(s),e--;for(;0<o-e;)c=It(c),o--;for(;e--;){if(s===c||s===c.alternate)break e;s=It(s),c=It(c)}s=null}else s=null;for(c=s,s=[];i&&i!==c&&(null===(e=i.alternate)||e!==c);)s.push(i),i=It(i);for(i=[];u&&u!==c&&(null===(e=u.alternate)||e!==c);)i.push(u),u=It(u);for(u=0;u<s.length;u++)Ct(s[u],"bubbled",l);for(u=i.length;0<u--;)Ct(i[u],"captured",n);return[l,n]}},Vi="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},$i=Object.prototype.hasOwnProperty;function Wi(e,t){if(Vi(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!$i.call(t,n[i])||!Vi(e[n[i]],t[n[i]]))return!1;return!0}var zi=Z&&"documentMode"in document&&11>=document.documentMode,Gi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hi=null,Ki=null,Qi=null,qi=!1;function Yi(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return qi||null==Hi||Hi!==kn(n)?null:(n="selectionStart"in(n=Hi)&&Vn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Qi&&Wi(Qi,n)?null:(Qi=n,(e=Mt.getPooled(Gi.select,Ki,e,t)).type="select",e.target=Hi,Tt(e),e))}var Xi={eventTypes:Gi,extractEvents:function(e,t,n,i){var r,a=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;if(!(r=!a)){e:{a=An(a),r=p.onSelect;for(var o=0;o<r.length;o++)if(!a.has(r[o])){a=!1;break e}a=!0}r=!a}if(r)return null;switch(a=t?ni(t):window,e){case"focus":(wi(a)||"true"===a.contentEditable)&&(Hi=a,Ki=t,Qi=null);break;case"blur":Qi=Ki=Hi=null;break;case"mousedown":qi=!0;break;case"contextmenu":case"mouseup":case"dragend":return qi=!1,Yi(n,i);case"selectionchange":if(zi)break;case"keydown":case"keyup":return Yi(n,i)}return null}};N.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),I=ii,w=ti,E=ni,N.injectEventPluginsByName({SimpleEventPlugin:hn,EnterLeaveEventPlugin:Bi,ChangeEventPlugin:Ui,SelectEventPlugin:Xi,BeforeInputEventPlugin:Si}),new Set;var Ji=[],Zi=-1;function er(e){0>Zi||(e.current=Ji[Zi],Ji[Zi]=null,Zi--)}function tr(e,t){Zi++,Ji[Zi]=e.current,e.current=t}var nr={},ir={current:nr},rr={current:!1},ar=nr;function or(e,t){var n=e.type.contextTypes;if(!n)return nr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function sr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function lr(e){er(rr),er(ir)}function cr(e){er(rr),er(ir)}function ur(e,t,n){if(ir.current!==nr)throw o(Error(168));tr(ir,t),tr(rr,n)}function dr(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var a in i=i.getChildContext())if(!(a in e))throw o(Error(108),X(t)||"Unknown",a);return r({},n,{},i)}function hr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||nr,ar=ir.current,tr(ir,t),tr(rr,rr.current),!0}function fr(e,t,n){var i=e.stateNode;if(!i)throw o(Error(169));n?(t=dr(e,t,ar),i.__reactInternalMemoizedMergedChildContext=t,er(rr),er(ir),tr(ir,t)):er(rr),tr(rr,n)}var pr=a.unstable_runWithPriority,mr=a.unstable_scheduleCallback,gr=a.unstable_cancelCallback,vr=a.unstable_shouldYield,_r=a.unstable_requestPaint,br=a.unstable_now,yr=a.unstable_getCurrentPriorityLevel,Sr=a.unstable_ImmediatePriority,Ir=a.unstable_UserBlockingPriority,wr=a.unstable_NormalPriority,Er=a.unstable_LowPriority,Cr=a.unstable_IdlePriority,Ar={},Tr=void 0!==_r?_r:function(){},Or=null,Dr=null,Mr=!1,Nr=br(),Fr=1e4>Nr?br:function(){return br()-Nr};function Lr(){switch(yr()){case Sr:return 99;case Ir:return 98;case wr:return 97;case Er:return 96;case Cr:return 95;default:throw o(Error(332))}}function Rr(e){switch(e){case 99:return Sr;case 98:return Ir;case 97:return wr;case 96:return Er;case 95:return Cr;default:throw o(Error(332))}}function xr(e,t){return e=Rr(e),pr(e,t)}function Pr(e,t,n){return e=Rr(e),mr(e,t,n)}function kr(e){return null===Or?(Or=[e],Dr=mr(Sr,jr)):Or.push(e),Ar}function Ur(){if(null!==Dr){var e=Dr;Dr=null,gr(e)}jr()}function jr(){if(!Mr&&null!==Or){Mr=!0;var e=0;try{var t=Or;xr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Or=null}catch(n){throw null!==Or&&(Or=Or.slice(e+1)),mr(Sr,Ur),n}finally{Mr=!1}}}function Br(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Vr={current:null},$r=null,Wr=null,zr=null;function Gr(){zr=Wr=$r=null}function Hr(e,t){var n=e.type._context;tr(Vr,n._currentValue),n._currentValue=t}function Kr(e){var t=Vr.current;er(Vr),e.type._context._currentValue=t}function Qr(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function qr(e,t){$r=e,zr=Wr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(wo=!0),e.firstContext=null)}function Yr(e,t){if(zr!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(zr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Wr){if(null===$r)throw o(Error(308));Wr=t,$r.dependencies={expirationTime:0,firstContext:t,responders:null}}else Wr=Wr.next=t;return e._currentValue}var Xr=!1;function Jr(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Zr(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ea(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function ta(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function na(e,t){var n=e.alternate;if(null===n){var i=e.updateQueue,r=null;null===i&&(i=e.updateQueue=Jr(e.memoizedState))}else i=e.updateQueue,r=n.updateQueue,null===i?null===r?(i=e.updateQueue=Jr(e.memoizedState),r=n.updateQueue=Jr(n.memoizedState)):i=e.updateQueue=Zr(r):null===r&&(r=n.updateQueue=Zr(i));null===r||i===r?ta(i,t):null===i.lastUpdate||null===r.lastUpdate?(ta(i,t),ta(r,t)):(ta(i,t),r.lastUpdate=t)}function ia(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Jr(e.memoizedState):ra(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function ra(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Zr(t)),t}function aa(e,t,n,i,a,o){switch(n.tag){case 1:return"function"===typeof(e=n.payload)?e.call(o,i,a):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null===(a="function"===typeof(e=n.payload)?e.call(o,i,a):e)||void 0===a)break;return r({},i,a);case 2:Xr=!0}return i}function oa(e,t,n,i,r){Xr=!1;for(var a=(t=ra(e,t)).baseState,o=null,s=0,l=t.firstUpdate,c=a;null!==l;){var u=l.expirationTime;u<r?(null===o&&(o=l,a=c),s<u&&(s=u)):(Ys(u,l.suspenseConfig),c=aa(e,0,l,c,n,i),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(u=null,l=t.firstCapturedUpdate;null!==l;){var d=l.expirationTime;d<r?(null===u&&(u=l,null===o&&(a=c)),s<d&&(s=d)):(c=aa(e,0,l,c,n,i),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===o&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===u&&(a=c),t.baseState=a,t.firstUpdate=o,t.firstCapturedUpdate=u,Xs(s),e.expirationTime=s,e.memoizedState=c}function sa(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),la(t.firstEffect,n),t.firstEffect=t.lastEffect=null,la(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function la(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var i=t;if("function"!==typeof n)throw o(Error(191),n);n.call(i)}e=e.nextEffect}}var ca=L.ReactCurrentBatchConfig,ua=(new i.Component).refs;function da(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:r({},t,n),e.memoizedState=n,null!==(i=e.updateQueue)&&0===e.expirationTime&&(i.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternalFiber)&&_t(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=Fs(),r=ca.suspense;(r=ea(i=Ls(i,e,r),r)).payload=t,void 0!==n&&null!==n&&(r.callback=n),na(e,r),Ps(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=Fs(),r=ca.suspense;(r=ea(i=Ls(i,e,r),r)).tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),na(e,r),Ps(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Fs(),i=ca.suspense;(i=ea(n=Ls(n,e,i),i)).tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),Ps(e,n)}};function fa(e,t,n,i,r,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,o):!t.prototype||!t.prototype.isPureReactComponent||!Wi(n,i)||!Wi(r,a)}function pa(e,t,n){var i=!1,r=nr,a=t.contextType;return"object"===typeof a&&null!==a?a=Yr(a):(r=sr(t)?ar:ir.current,a=(i=null!==(i=t.contextTypes)&&void 0!==i)?or(e,r):nr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function ma(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ga(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=ua;var a=t.contextType;"object"===typeof a&&null!==a?r.context=Yr(a):(a=sr(t)?ar:ir.current,r.context=or(e,a)),null!==(a=e.updateQueue)&&(oa(e,a,n,r,i),r.state=e.memoizedState),"function"===typeof(a=t.getDerivedStateFromProps)&&(da(e,t,a,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ha.enqueueReplaceState(r,r.state,null),null!==(a=e.updateQueue)&&(oa(e,a,n,r,i),r.state=e.memoizedState)),"function"===typeof r.componentDidMount&&(e.effectTag|=4)}var va=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw o(Error(309));var i=n.stateNode}if(!i)throw o(Error(147),e);var r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=i.refs;t===ua&&(t=i.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!==typeof e)throw o(Error(284));if(!n._owner)throw o(Error(290),e)}return e}function ba(e,t){if("textarea"!==e.type)throw o(Error(31),"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function ya(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t,n){return(e=vl(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=yl(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=_a(e,t,n),i.return=e,i):((i=_l(n.type,n.key,n.props,null,e.mode,i)).ref=_a(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Sl(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,a){return null===t||7!==t.tag?((t=bl(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=yl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case P:return(n=_l(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case k:return(t=Sl(t,e.mode,n)).return=e,t}if(va(t)||Y(t))return(t=bl(t,e.mode,n,null)).return=e,t;ba(e,t)}return null}function f(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case P:return n.key===r?n.type===U?d(e,t,n.props.children,i,r):c(e,t,n,i):null;case k:return n.key===r?u(e,t,n,i):null}if(va(n)||Y(n))return null!==r?null:d(e,t,n,i,null);ba(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case P:return e=e.get(null===i.key?n:i.key)||null,i.type===U?d(t,e,i.props.children,r,i.key):c(t,e,i,r);case k:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(va(i)||Y(i))return d(t,e=e.get(n)||null,i,r,null);ba(t,i)}return null}function m(r,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(r,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(r,d),c;if(null===d){for(;m<s.length;m++)null!==(d=h(r,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=i(r,d);m<s.length;m++)null!==(g=p(d,r,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(r,e)})),c}function g(r,s,l,c){var u=Y(l);if("function"!==typeof u)throw o(Error(150));if(null==(l=u.call(l)))throw o(Error(151));for(var d=u=null,m=s,g=s=0,v=null,_=l.next();null!==m&&!_.done;g++,_=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(r,m,_.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(r,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(_.done)return n(r,m),u;if(null===m){for(;!_.done;g++,_=l.next())null!==(_=h(r,_.value,c))&&(s=a(_,s,g),null===d?u=_:d.sibling=_,d=_);return u}for(m=i(r,m);!_.done;g++,_=l.next())null!==(_=p(m,r,g,_.value,c))&&(e&&null!==_.alternate&&m.delete(null===_.key?g:_.key),s=a(_,s,g),null===d?u=_:d.sibling=_,d=_);return e&&m.forEach((function(e){return t(r,e)})),u}return function(e,i,a,l){var c="object"===typeof a&&null!==a&&a.type===U&&null===a.key;c&&(a=a.props.children);var u="object"===typeof a&&null!==a;if(u)switch(a.$$typeof){case P:e:{for(u=a.key,c=i;null!==c;){if(c.key===u){if(7===c.tag?a.type===U:c.elementType===a.type){n(e,c.sibling),(i=r(c,a.type===U?a.props.children:a.props)).ref=_a(e,c,a),i.return=e,e=i;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===U?((i=bl(a.props.children,e.mode,l,a.key)).return=e,e=i):((l=_l(a.type,a.key,a.props,null,e.mode,l)).ref=_a(e,i,a),l.return=e,e=l)}return s(e);case k:e:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(e,i.sibling),(i=r(i,a.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Sl(a,e.mode,l)).return=e,e=i}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,a)).return=e,e=i):(n(e,i),(i=yl(a,e.mode,l)).return=e,e=i),s(e);if(va(a))return m(e,i,a,l);if(Y(a))return g(e,i,a,l);if(u&&ba(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,o(Error(152),e.displayName||e.name||"Component")}return n(e,i)}}var Sa=ya(!0),Ia=ya(!1),wa={},Ea={current:wa},Ca={current:wa},Aa={current:wa};function Ta(e){if(e===wa)throw o(Error(174));return e}function Oa(e,t){tr(Aa,t),tr(Ca,e),tr(Ea,wa);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Be(null,"");break;default:t=Be(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}er(Ea),tr(Ea,t)}function Da(e){er(Ea),er(Ca),er(Aa)}function Ma(e){Ta(Aa.current);var t=Ta(Ea.current),n=Be(t,e.type);t!==n&&(tr(Ca,e),tr(Ea,n))}function Na(e){Ca.current===e&&(er(Ea),er(Ca))}var Fa={current:0};function La(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ra(e,t){return{responder:e,props:t}}var xa=L.ReactCurrentDispatcher,Pa=0,ka=null,Ua=null,ja=null,Ba=null,Va=null,$a=null,Wa=0,za=null,Ga=0,Ha=!1,Ka=null,Qa=0;function qa(){throw o(Error(321))}function Ya(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vi(e[n],t[n]))return!1;return!0}function Xa(e,t,n,i,r,a){if(Pa=a,ka=t,ja=null!==e?e.memoizedState:null,xa.current=null===ja?uo:ho,t=n(i,r),Ha){do{Ha=!1,Qa+=1,ja=null!==e?e.memoizedState:null,$a=Ba,za=Va=Ua=null,xa.current=ho,t=n(i,r)}while(Ha);Ka=null,Qa=0}if(xa.current=co,(e=ka).memoizedState=Ba,e.expirationTime=Wa,e.updateQueue=za,e.effectTag|=Ga,e=null!==Ua&&null!==Ua.next,Pa=0,$a=Va=Ba=ja=Ua=ka=null,Wa=0,za=null,Ga=0,e)throw o(Error(300));return t}function Ja(){xa.current=co,Pa=0,$a=Va=Ba=ja=Ua=ka=null,Wa=0,za=null,Ga=0,Ha=!1,Ka=null,Qa=0}function Za(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Va?Ba=Va=e:Va=Va.next=e,Va}function eo(){if(null!==$a)$a=(Va=$a).next,ja=null!==(Ua=ja)?Ua.next:null;else{if(null===ja)throw o(Error(310));var e={memoizedState:(Ua=ja).memoizedState,baseState:Ua.baseState,queue:Ua.queue,baseUpdate:Ua.baseUpdate,next:null};Va=null===Va?Ba=e:Va.next=e,ja=Ua.next}return Va}function to(e,t){return"function"===typeof t?t(e):t}function no(e){var t=eo(),n=t.queue;if(null===n)throw o(Error(311));if(n.lastRenderedReducer=e,0<Qa){var i=n.dispatch;if(null!==Ka){var r=Ka.get(n);if(void 0!==r){Ka.delete(n);var a=t.memoizedState;do{a=e(a,r.action),r=r.next}while(null!==r);return Vi(a,t.memoizedState)||(wo=!0),t.memoizedState=a,t.baseUpdate===n.last&&(t.baseState=a),n.lastRenderedState=a,[a,i]}}return[t.memoizedState,i]}i=n.last;var s=t.baseUpdate;if(a=t.baseState,null!==s?(null!==i&&(i.next=null),i=s.next):i=null!==i?i.next:null,null!==i){var l=r=null,c=i,u=!1;do{var d=c.expirationTime;d<Pa?(u||(u=!0,l=s,r=a),d>Wa&&Xs(Wa=d)):(Ys(d,c.suspenseConfig),a=c.eagerReducer===e?c.eagerState:e(a,c.action)),s=c,c=c.next}while(null!==c&&c!==i);u||(l=s,r=a),Vi(a,t.memoizedState)||(wo=!0),t.memoizedState=a,t.baseUpdate=l,t.baseState=r,n.lastRenderedState=a}return[t.memoizedState,n.dispatch]}function io(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===za?(za={lastEffect:null}).lastEffect=e.next=e:null===(t=za.lastEffect)?za.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,za.lastEffect=e),e}function ro(e,t,n,i){var r=Za();Ga|=e,r.memoizedState=io(t,n,void 0,void 0===i?null:i)}function ao(e,t,n,i){var r=eo();i=void 0===i?null:i;var a=void 0;if(null!==Ua){var o=Ua.memoizedState;if(a=o.destroy,null!==i&&Ya(i,o.deps))return void io(0,n,a,i)}Ga|=e,r.memoizedState=io(t,n,a,i)}function oo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function so(){}function lo(e,t,n){if(!(25>Qa))throw o(Error(301));var i=e.alternate;if(e===ka||null!==i&&i===ka)if(Ha=!0,e={expirationTime:Pa,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===Ka&&(Ka=new Map),void 0===(n=Ka.get(t)))Ka.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var r=Fs(),a=ca.suspense;a={expirationTime:r=Ls(r,e,a),suspenseConfig:a,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)a.next=a;else{var l=s.next;null!==l&&(a.next=l),s.next=a}if(t.last=a,0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var c=t.lastRenderedState,u=i(c,n);if(a.eagerReducer=i,a.eagerState=u,Vi(u,c))return}catch(d){}Ps(e,r)}}var co={readContext:Yr,useCallback:qa,useContext:qa,useEffect:qa,useImperativeHandle:qa,useLayoutEffect:qa,useMemo:qa,useReducer:qa,useRef:qa,useState:qa,useDebugValue:qa,useResponder:qa},uo={readContext:Yr,useCallback:function(e,t){return Za().memoizedState=[e,void 0===t?null:t],e},useContext:Yr,useEffect:function(e,t){return ro(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ro(4,36,oo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ro(4,36,e,t)},useMemo:function(e,t){var n=Za();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Za();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=lo.bind(null,ka,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Za().memoizedState=e},useState:function(e){var t=Za();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:to,lastRenderedState:e}).dispatch=lo.bind(null,ka,e),[t.memoizedState,e]},useDebugValue:so,useResponder:Ra},ho={readContext:Yr,useCallback:function(e,t){var n=eo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Ya(t,i[1])?i[0]:(n.memoizedState=[e,t],e)},useContext:Yr,useEffect:function(e,t){return ao(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ao(4,36,oo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ao(4,36,e,t)},useMemo:function(e,t){var n=eo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Ya(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:no,useRef:function(){return eo().memoizedState},useState:function(e){return no(to)},useDebugValue:so,useResponder:Ra},fo=null,po=null,mo=!1;function go(e,t){var n=ml(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function vo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function _o(e){if(mo){var t=po;if(t){var n=t;if(!vo(e,t)){if(!(t=Qn(n.nextSibling))||!vo(e,t))return e.effectTag=e.effectTag&~vt|2,mo=!1,void(fo=e);go(fo,n)}fo=e,po=Qn(t.firstChild)}else e.effectTag=e.effectTag&~vt|2,mo=!1,fo=e}}function bo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;fo=e}function yo(e){if(e!==fo)return!1;if(!mo)return bo(e),mo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Gn(t,e.memoizedProps))for(t=po;t;)go(e,t),t=Qn(t.nextSibling);if(bo(e),13===e.tag)if(null===(e=null!==(e=e.memoizedState)?e.dehydrated:null))e=po;else e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){e=Qn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}e=null}else e=fo?Qn(e.stateNode.nextSibling):null;return po=e,!0}function So(){po=fo=null,mo=!1}var Io=L.ReactCurrentOwner,wo=!1;function Eo(e,t,n,i){t.child=null===e?Ia(t,null,n,i):Sa(t,e.child,n,i)}function Co(e,t,n,i,r){n=n.render;var a=t.ref;return qr(t,r),i=Xa(e,t,n,i,a,r),null===e||wo?(t.effectTag|=1,Eo(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Bo(e,t,r))}function Ao(e,t,n,i,r,a){if(null===e){var o=n.type;return"function"!==typeof o||gl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=_l(n.type,null,i,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,To(e,t,o,i,r,a))}return o=e.child,r<a&&(r=o.memoizedProps,(n=null!==(n=n.compare)?n:Wi)(r,i)&&e.ref===t.ref)?Bo(e,t,a):(t.effectTag|=1,(e=vl(o,i)).ref=t.ref,e.return=t,t.child=e)}function To(e,t,n,i,r,a){return null!==e&&Wi(e.memoizedProps,i)&&e.ref===t.ref&&(wo=!1,r<a)?Bo(e,t,a):Do(e,t,n,i,a)}function Oo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Do(e,t,n,i,r){var a=sr(n)?ar:ir.current;return a=or(t,a),qr(t,r),n=Xa(e,t,n,i,a,r),null===e||wo?(t.effectTag|=1,Eo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Bo(e,t,r))}function Mo(e,t,n,i,r){if(sr(n)){var a=!0;hr(t)}else a=!1;if(qr(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),pa(t,n,i),ga(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;c="object"===typeof c&&null!==c?Yr(c):or(t,c=sr(n)?ar:ir.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==i||l!==c)&&ma(t,o,i,c),Xr=!1;var h=t.memoizedState;l=o.state=h;var f=t.updateQueue;null!==f&&(oa(t,f,i,o,r),l=t.memoizedState),s!==i||h!==l||rr.current||Xr?("function"===typeof u&&(da(t,n,u,i),l=t.memoizedState),(s=Xr||fa(t,n,s,i,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),i=!1)}else o=t.stateNode,s=t.memoizedProps,o.props=t.type===t.elementType?s:Br(t.type,s),l=o.context,c="object"===typeof(c=n.contextType)&&null!==c?Yr(c):or(t,c=sr(n)?ar:ir.current),(d="function"===typeof(u=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==i||l!==c)&&ma(t,o,i,c),Xr=!1,l=t.memoizedState,h=o.state=l,null!==(f=t.updateQueue)&&(oa(t,f,i,o,r),h=t.memoizedState),s!==i||l!==h||rr.current||Xr?("function"===typeof u&&(da(t,n,u,i),h=t.memoizedState),(u=Xr||fa(t,n,s,i,l,h,c))?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,h,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,h,c)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=h),o.props=i,o.state=h,o.context=c,i=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),i=!1);return No(e,t,n,i,a,r)}function No(e,t,n,i,r,a){Oo(e,t);var o=0!==(64&t.effectTag);if(!i&&!o)return r&&fr(t,n,!1),Bo(e,t,a);i=t.stateNode,Io.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,s,a)):Eo(e,t,s,a),t.memoizedState=i.state,r&&fr(t,n,!0),t.child}function Fo(e){var t=e.stateNode;t.pendingContext?ur(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ur(0,t.context,!1),Oa(e,t.containerInfo)}var Lo,Ro,xo,Po={dehydrated:null,retryTime:1};function ko(e,t,n){var i,r=t.mode,a=t.pendingProps,o=Fa.current,s=!1;if((i=0!==(64&t.effectTag))||(i=0!==(2&o)&&(null===e||null!==e.memoizedState)),i?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),tr(Fa,1&o),null===e){if(s){if(s=a.fallback,(a=bl(null,r,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=bl(s,r,n,null)).return=t,a.sibling=n,t.memoizedState=Po,t.child=a,n}return r=a.children,t.memoizedState=null,t.child=Ia(t,null,r,n)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,s){if(a=a.fallback,(n=vl(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(r=vl(r,a,r.expirationTime)).return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=Po,t.child=n,r}return n=Sa(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,(a=bl(null,r,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=bl(s,r,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Po,t.child=a,n}return t.memoizedState=null,t.child=Sa(t,e,a.children,n)}function Uo(e,t,n,i,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,last:i,tail:n,tailExpiration:0,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.last=i,a.tail=n,a.tailExpiration=0,a.tailMode=r)}function jo(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(Eo(e,t,i.children,n),0!==(2&(i=Fa.current)))i=1&i|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag){if(null!==e.memoizedState){e.expirationTime<n&&(e.expirationTime=n);var o=e.alternate;null!==o&&o.expirationTime<n&&(o.expirationTime=n),Qr(e.return,n)}}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(tr(Fa,i),0===(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(i=n.alternate)&&null===La(i)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Uo(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(i=r.alternate)&&null===La(i)){t.child=r;break}i=r.sibling,r.sibling=n,n=r,r=i}Uo(t,!0,n,null,a);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t,n){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&Xs(i),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw o(Error(153));if(null!==t.child){for(n=vl(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=vl(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Vo(e){e.effectTag|=4}function $o(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Wo(e){switch(e.tag){case 1:sr(e.type)&&lr();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Da(),cr(),0!==(64&(t=e.effectTag)))throw o(Error(285));return e.effectTag=-4097&t|64,e;case 5:return Na(e),null;case 13:return er(Fa),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return er(Fa),null;case 4:return Da(),null;case 10:return Kr(e),null;default:return null}}function zo(e,t){return{value:e,source:t,stack:J(t)}}Lo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ro=function(e,t,n,i,a){var o=e.memoizedProps;if(o!==i){var s,l,c=t.stateNode;switch(Ta(Ea.current),e=null,n){case"input":o=Ae(c,o),i=Ae(c,i),e=[];break;case"option":o=Fe(c,o),i=Fe(c,i),e=[];break;case"select":o=r({},o,{value:void 0}),i=r({},i,{value:void 0}),e=[];break;case"textarea":o=Re(c,o),i=Re(c,i),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof i.onClick&&(c.onclick=Pn)}for(s in Ln(n,i),n=null,o)if(!i.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(l in c=o[s])c.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(f.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in i){var u=i[s];if(c=null!=o?o[s]:void 0,i.hasOwnProperty(s)&&u!==c&&(null!=u||null!=c))if("style"===s)if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(e||(e=[]),e.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(s,""+u)):"children"===s?c===u||"string"!==typeof u&&"number"!==typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(f.hasOwnProperty(s)?(null!=u&&xn(a,s),e||c===u||(e=[])):(e=e||[]).push(s,u))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&Vo(t)}},xo=function(e,t,n,i){n!==i&&Vo(t)};var Go="function"===typeof WeakSet?WeakSet:Set;function Ho(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=J(n)),null!==n&&X(n.type),t=t.value,null!==e&&1===e.tag&&X(e.type);try{console.error(t)}catch(r){setTimeout((function(){throw r}))}}function Ko(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){cl(e,n)}else t.current=null}function Qo(e,t){switch(t.tag){case 0:case 11:case 15:qo(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Br(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw o(Error(163))}}function qo(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var i=n=n.next;do{if(0!==(i.tag&e)){var r=i.destroy;i.destroy=void 0,void 0!==r&&r()}0!==(i.tag&t)&&(r=i.create,i.destroy=r()),i=i.next}while(i!==n)}}function Yo(e,t,n){switch("function"===typeof fl&&fl(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e.next;xr(97<n?97:n,(function(){var e=i;do{var n=e.destroy;if(void 0!==n){var r=t;try{n()}catch(a){cl(r,a)}}e=e.next}while(e!==i)}))}break;case 1:Ko(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){cl(e,n)}}(t,n);break;case 5:Ko(t);break;case 4:es(e,t,n)}}function Xo(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&Xo(t)}function Jo(e){return 5===e.tag||3===e.tag||4===e.tag}function Zo(e){e:{for(var t=e.return;null!==t;){if(Jo(t)){var n=t;break e}t=t.return}throw o(Error(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw o(Error(161))}16&n.effectTag&&(We(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Jo(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var r=e;;){var a=5===r.tag||6===r.tag;if(a){var s=a?r.stateNode:r.stateNode.instance;if(n)if(i){var l=s;s=n,8===(a=t).nodeType?a.parentNode.insertBefore(l,s):a.insertBefore(l,s)}else t.insertBefore(s,n);else i?(8===(l=t).nodeType?(a=l.parentNode).insertBefore(s,l):(a=l).appendChild(s),null!==(l=l._reactRootContainer)&&void 0!==l||null!==a.onclick||(a.onclick=Pn)):t.appendChild(s)}else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function es(e,t,n){for(var i,r,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw o(Error(160));switch(i=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:i=i.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var l=e,c=a,u=n,d=c;;)if(Yo(l,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r?(l=i,c=a.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):i.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){i=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(Yo(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:qo(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,r=null!==e?e.memoizedProps:i;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Jn]=i,"input"===e&&"radio"===i.type&&null!=i.name&&Oe(n,i),Rn(e,r),t=Rn(e,i),r=0;r<a.length;r+=2){var s=a[r],l=a[r+1];"style"===s?Nn(n,l):"dangerouslySetInnerHTML"===s?$e(n,l):"children"===s?We(n,l):Ie(n,s,l,t)}switch(e){case"input":De(n,i);break;case"textarea":Pe(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?Le(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?Le(n,!!i.multiple,i.defaultValue,!0):Le(n,!!i.multiple,i.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw o(Error(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,gt(t.containerInfo));break;case 12:break;case 13:if(n=t,null===t.memoizedState?i=!1:(i=!0,n=t.child,ys=Fr()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,i?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,r=void 0!==(r=e.memoizedProps.style)&&null!==r&&r.hasOwnProperty("display")?r.display:null,a.style.display=Mn("display",r));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}ns(t);break;case 19:ns(t);break;case 17:case 20:case 21:break;default:throw o(Error(163))}}function ns(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Go),t.forEach((function(t){var i=dl.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}var is="function"===typeof WeakMap?WeakMap:Map;function rs(e,t,n){(n=ea(n,null)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Is||(Is=!0,ws=i),Ho(e,t)},n}function as(e,t,n){(n=ea(n,null)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return Ho(e,t),i(r)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof i&&(null===Es?Es=new Set([this]):Es.add(this),Ho(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var os=Math.ceil,ss=L.ReactCurrentDispatcher,ls=L.ReactCurrentOwner,cs=0,us=null,ds=null,hs=0,fs=0,ps=null,ms=1073741823,gs=1073741823,vs=null,_s=0,bs=!1,ys=0,Ss=null,Is=!1,ws=null,Es=null,Cs=!1,As=null,Ts=90,Os=null,Ds=0,Ms=null,Ns=0;function Fs(){return 0!==(48&cs)?1073741821-(Fr()/10|0):0!==Ns?Ns:Ns=1073741821-(Fr()/10|0)}function Ls(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var i=Lr();if(0===(4&t))return 99===i?1073741823:1073741822;if(0!==(16&cs))return hs;if(null!==n)e=1073741821-25*(1+((1073741821-e+(0|n.timeoutMs||5e3)/10)/25|0));else switch(i){case 99:e=1073741823;break;case 98:e=1073741821-10*(1+((1073741821-e+15)/10|0));break;case 97:case 96:e=1073741821-25*(1+((1073741821-e+500)/25|0));break;case 95:e=2;break;default:throw o(Error(326))}return null!==us&&e===hs&&--e,e}var Rs,xs=0;function Ps(e,t){if(50<Ds)throw Ds=0,Ms=null,o(Error(185));if(null!==(e=ks(e,t))){var n=Lr();1073741823===t?0!==(8&cs)&&0===(48&cs)?Vs(e):(js(e),0===cs&&Ur()):js(e),0===(4&cs)||98!==n&&99!==n||(null===Os?Os=new Map([[e,t]]):(void 0===(n=Os.get(e))||n>t)&&Os.set(e,t))}}function ks(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(us===r&&(Xs(t),4===fs&&El(r,hs)),Cl(r,t)),r}function Us(e){var t=e.lastExpiredTime;return 0!==t?t:wl(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function js(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=kr(Vs.bind(null,e));else{var t=Us(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var i=Fs();if(i=1073741823===t?99:1===t||2===t?95:0>=(i=10*(1073741821-t)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=i)return;n!==Ar&&gr(n)}e.callbackExpirationTime=t,e.callbackPriority=i,t=1073741823===t?kr(Vs.bind(null,e)):Pr(i,Bs.bind(null,e),{timeout:10*(1073741821-t)-Fr()}),e.callbackNode=t}}}function Bs(e,t){if(Ns=0,t)return Al(e,t=Fs()),js(e),null;var n=Us(e);if(0!==n){if(t=e.callbackNode,0!==(48&cs))throw o(Error(327));if(ol(),e===us&&n===hs||Ks(e,n),null!==ds){var i=cs;cs|=16;for(var r=qs();;)try{Zs();break}catch(l){Qs(e,l)}if(Gr(),cs=i,ss.current=r,1===fs)throw t=ps,Ks(e,n),El(e,n),js(e),t;if(null===ds)switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,Ws(e,n),i=fs,us=null,i){case 0:case 1:throw o(Error(345));case 2:if(2!==n){Al(e,2);break}il(e);break;case 3:if(El(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=nl(r)),1073741823===ms&&10<(r=ys+500-Fr())){if(bs){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,Ks(e,n);break}}if(0!==(a=Us(e))&&a!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}e.timeoutHandle=Hn(il.bind(null,e),r);break}il(e);break;case 4:if(El(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=nl(r)),bs&&(0===(r=e.lastPingedTime)||r>=n)){e.lastPingedTime=n,Ks(e,n);break}if(0!==(r=Us(e))&&r!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}if(1073741823!==gs?i=10*(1073741821-gs)-Fr():1073741823===ms?i=0:(i=10*(1073741821-ms)-5e3,0>(i=(r=Fr())-i)&&(i=0),(n=10*(1073741821-n)-r)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*os(i/1960))-i)&&(i=n)),10<i){e.timeoutHandle=Hn(il.bind(null,e),i);break}il(e);break;case 5:if(1073741823!==ms&&null!==vs){a=ms;var s=vs;if(0>=(i=0|s.busyMinDurationMs)?i=0:(r=0|s.busyDelayMs,i=(a=Fr()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=r?0:r+i-a),10<i){El(e,n),e.timeoutHandle=Hn(il.bind(null,e),i);break}}il(e);break;case 6:El(e,n);break;default:throw o(Error(329))}if(js(e),e.callbackNode===t)return Bs.bind(null,e)}}return null}function Vs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)il(e);else{if(0!==(48&cs))throw o(Error(327));if(ol(),e===us&&t===hs||Ks(e,t),null!==ds){var n=cs;cs|=16;for(var i=qs();;)try{Js();break}catch(r){Qs(e,r)}if(Gr(),cs=n,ss.current=i,1===fs)throw n=ps,Ks(e,t),El(e,t),js(e),n;if(null!==ds)throw o(Error(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ws(e,t),6===fs?El(e,t):(us=null,il(e)),js(e)}}return null}function $s(){0===(49&cs)&&(function(){if(null!==Os){var e=Os;Os=null,e.forEach((function(e,t){Al(t,e),js(t)})),Ur()}}(),ol())}function Ws(e,t){var n=e.firstBatch;null!==n&&n._defer&&n._expirationTime>=t&&(Pr(97,(function(){return n._onComplete(),null})),fs=6)}function zs(e,t){var n=cs;cs|=1;try{return e(t)}finally{0===(cs=n)&&Ur()}}function Gs(e,t,n,i){var r=cs;cs|=4;try{return xr(98,e.bind(null,t,n,i))}finally{0===(cs=r)&&Ur()}}function Hs(e,t){var n=cs;cs&=-2,cs|=8;try{return e(t)}finally{0===(cs=n)&&Ur()}}function Ks(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kn(n)),null!==ds)for(n=ds.return;null!==n;){var i=n;switch(i.tag){case 1:var r=i.type.childContextTypes;null!==r&&void 0!==r&&lr();break;case 3:Da(),cr();break;case 5:Na(i);break;case 4:Da();break;case 13:case 19:er(Fa);break;case 10:Kr(i)}n=n.return}us=e,ds=vl(e.current,null),hs=t,fs=0,ps=null,gs=ms=1073741823,vs=null,_s=0,bs=!1}function Qs(e,t){for(;;){try{if(Gr(),Ja(),null===ds||null===ds.return)return fs=1,ps=t,null;e:{var n=e,i=ds.return,r=ds,a=t;if(t=hs,r.effectTag|=2048,r.firstEffect=r.lastEffect=null,null!==a&&"object"===typeof a&&"function"===typeof a.then){var o=a,s=0!==(1&Fa.current),l=i;do{var c;if(c=13===l.tag){var u=l.memoizedState;if(null!==u)c=null!==u.dehydrated;else{var d=l.memoizedProps;c=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!s)}}if(c){var h=l.updateQueue;if(null===h){var f=new Set;f.add(o),l.updateQueue=f}else h.add(o);if(0===(2&l.mode)){if(l.effectTag|=64,r.effectTag&=-2981,1===r.tag)if(null===r.alternate)r.tag=17;else{var p=ea(1073741823,null);p.tag=2,na(r,p)}r.expirationTime=1073741823;break e}a=void 0,r=t;var m=n.pingCache;if(null===m?(m=n.pingCache=new is,a=new Set,m.set(o,a)):void 0===(a=m.get(o))&&(a=new Set,m.set(o,a)),!a.has(r)){a.add(r);var g=ul.bind(null,n,o,r);o.then(g,g)}l.effectTag|=4096,l.expirationTime=t;break e}l=l.return}while(null!==l);a=Error((X(r.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+J(r))}5!==fs&&(fs=2),a=zo(a,r),l=i;do{switch(l.tag){case 3:o=a,l.effectTag|=4096,l.expirationTime=t,ia(l,rs(l,o,t));break e;case 1:o=a;var v=l.type,_=l.stateNode;if(0===(64&l.effectTag)&&("function"===typeof v.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Es||!Es.has(_)))){l.effectTag|=4096,l.expirationTime=t,ia(l,as(l,o,t));break e}}l=l.return}while(null!==l)}ds=tl(ds)}catch(b){t=b;continue}break}}function qs(){var e=ss.current;return ss.current=co,null===e?co:e}function Ys(e,t){e<ms&&2<e&&(ms=e),null!==t&&e<gs&&2<e&&(gs=e,vs=t)}function Xs(e){e>_s&&(_s=e)}function Js(){for(;null!==ds;)ds=el(ds)}function Zs(){for(;null!==ds&&!vr();)ds=el(ds)}function el(e){var t=Rs(e.alternate,e,hs);return e.memoizedProps=e.pendingProps,null===t&&(t=tl(e)),ls.current=null,t}function tl(e){ds=e;do{var t=ds.alternate;if(e=ds.return,0===(2048&ds.effectTag)){e:{var n=t,i=hs,a=(t=ds).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:sr(t.type)&&lr();break;case 3:Da(),cr(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===n||null===n.child)&&yo(t)&&Vo(t);break;case 5:Na(t),i=Ta(Aa.current);var s=t.type;if(null!==n&&null!=t.stateNode)Ro(n,t,s,a,i),n.ref!==t.ref&&(t.effectTag|=128);else if(a){var l=Ta(Ea.current);if(yo(t)){s=void 0,n=(a=t).stateNode;var c=a.type,u=a.memoizedProps;switch(n[Xn]=a,n[Jn]=u,c){case"iframe":case"object":case"embed":vn("load",n);break;case"video":case"audio":for(var d=0;d<Ze.length;d++)vn(Ze[d],n);break;case"source":vn("error",n);break;case"img":case"image":case"link":vn("error",n),vn("load",n);break;case"form":vn("reset",n),vn("submit",n);break;case"details":vn("toggle",n);break;case"input":Te(n,u),vn("invalid",n),xn(i,"onChange");break;case"select":n._wrapperState={wasMultiple:!!u.multiple},vn("invalid",n),xn(i,"onChange");break;case"textarea":xe(n,u),vn("invalid",n),xn(i,"onChange")}for(s in Ln(c,u),d=null,u)u.hasOwnProperty(s)&&(l=u[s],"children"===s?"string"===typeof l?n.textContent!==l&&(d=["children",l]):"number"===typeof l&&n.textContent!==""+l&&(d=["children",""+l]):f.hasOwnProperty(s)&&null!=l&&xn(i,s));switch(c){case"input":Ee(n),Me(n,u,!0);break;case"textarea":Ee(n),ke(n);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(n.onclick=Pn)}i=d,a.updateQueue=i,null!==i&&Vo(t)}else{u=s,n=a,c=t,d=9===i.nodeType?i:i.ownerDocument,l===Ue&&(l=je(u)),l===Ue?"script"===u?((u=d.createElement("div")).innerHTML="<script><\/script>",d=u.removeChild(u.firstChild)):"string"===typeof n.is?d=d.createElement(u,{is:n.is}):(d=d.createElement(u),"select"===u&&(u=d,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):d=d.createElementNS(l,u),(u=d)[Xn]=c,u[Jn]=n,Lo(n=u,t),t.stateNode=n,l=i;var h=Rn(s,a);switch(s){case"iframe":case"object":case"embed":vn("load",n),i=a;break;case"video":case"audio":for(i=0;i<Ze.length;i++)vn(Ze[i],n);i=a;break;case"source":vn("error",n),i=a;break;case"img":case"image":case"link":vn("error",n),vn("load",n),i=a;break;case"form":vn("reset",n),vn("submit",n),i=a;break;case"details":vn("toggle",n),i=a;break;case"input":Te(n,a),i=Ae(n,a),vn("invalid",n),xn(l,"onChange");break;case"option":i=Fe(n,a);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},i=r({},a,{value:void 0}),vn("invalid",n),xn(l,"onChange");break;case"textarea":xe(n,a),i=Re(n,a),vn("invalid",n),xn(l,"onChange");break;default:i=a}Ln(s,i),c=void 0,u=s,d=n;var p=i;for(c in p)if(p.hasOwnProperty(c)){var m=p[c];"style"===c?Nn(d,m):"dangerouslySetInnerHTML"===c?null!=(m=m?m.__html:void 0)&&$e(d,m):"children"===c?"string"===typeof m?("textarea"!==u||""!==m)&&We(d,m):"number"===typeof m&&We(d,""+m):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(f.hasOwnProperty(c)?null!=m&&xn(l,c):null!=m&&Ie(d,c,m,h))}switch(s){case"input":Ee(n),Me(n,a,!1);break;case"textarea":Ee(n),ke(n);break;case"option":null!=a.value&&n.setAttribute("value",""+Se(a.value));break;case"select":i=n,n=a,i.multiple=!!n.multiple,null!=(c=n.value)?Le(i,!!n.multiple,c,!1):null!=n.defaultValue&&Le(i,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(n.onclick=Pn)}zn(s,a)&&Vo(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw o(Error(166));break;case 6:if(n&&null!=t.stateNode)xo(0,t,n.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw o(Error(166));s=Ta(Aa.current),Ta(Ea.current),yo(t)?(i=t.stateNode,a=t.memoizedProps,i[Xn]=t,i.nodeValue!==a&&Vo(t)):(i=t,(a=(9===s.nodeType?s:s.ownerDocument).createTextNode(a))[Xn]=t,i.stateNode=a)}break;case 11:break;case 13:if(er(Fa),a=t.memoizedState,0!==(64&t.effectTag)){t.expirationTime=i;break e}i=null!==a,a=!1,null===n?yo(t):(a=null!==(s=n.memoizedState),i||null===s||null!==(s=n.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=s,s.nextEffect=c):(t.firstEffect=t.lastEffect=s,s.nextEffect=null),s.effectTag=8)),i&&!a&&0!==(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===fs&&(fs=3):(0!==fs&&3!==fs||(fs=4),0!==_s&&null!==us&&(El(us,hs),Cl(us,_s)))),(i||a)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Da();break;case 10:Kr(t);break;case 9:case 14:break;case 17:sr(t.type)&&lr();break;case 19:if(er(Fa),null===(a=t.memoizedState))break;if(s=0!==(64&t.effectTag),null===(c=a.rendering)){if(s)$o(a,!1);else if(0!==fs||null!==n&&0!==(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(c=La(n))){for(t.effectTag|=64,$o(a,!1),null!==(a=c.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),t.firstEffect=t.lastEffect=null,a=t.child;null!==a;)n=i,(s=a).effectTag&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childExpirationTime=0,s.expirationTime=n,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null):(s.childExpirationTime=c.childExpirationTime,s.expirationTime=c.expirationTime,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,n=c.dependencies,s.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),a=a.sibling;tr(Fa,1&Fa.current|2),t=t.child;break e}n=n.sibling}}else{if(!s)if(null!==(n=La(c))){if(t.effectTag|=64,s=!0,$o(a,!0),null===a.tail&&"hidden"===a.tailMode){null!==(i=n.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null!==(t=t.lastEffect=a.lastEffect)&&(t.nextEffect=null);break}}else Fr()>a.tailExpiration&&1<i&&(t.effectTag|=64,s=!0,$o(a,!1),t.expirationTime=t.childExpirationTime=i-1);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(i=a.last)?i.sibling=c:t.child=c,a.last=c)}if(null!==a.tail){0===a.tailExpiration&&(a.tailExpiration=Fr()+500),i=a.tail,a.rendering=i,a.tail=i.sibling,a.lastEffect=t.lastEffect,i.sibling=null,a=Fa.current,tr(Fa,a=s?1&a|2:1&a),t=i;break e}break;case 20:case 21:break;default:throw o(Error(156),t.tag)}t=null}if(i=ds,1===hs||1!==i.childExpirationTime){for(a=0,s=i.child;null!==s;)(n=s.expirationTime)>a&&(a=n),(c=s.childExpirationTime)>a&&(a=c),s=s.sibling;i.childExpirationTime=a}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=ds.firstEffect),null!==ds.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=ds.firstEffect),e.lastEffect=ds.lastEffect),1<ds.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=ds:e.firstEffect=ds,e.lastEffect=ds))}else{if(null!==(t=Wo(ds)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=ds.sibling))return t;ds=e}while(null!==ds);return 0===fs&&(fs=5),null}function nl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function il(e){var t=Lr();return xr(99,rl.bind(null,e,t)),null}function rl(e,t){if(ol(),0!==(48&cs))throw o(Error(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw o(Error(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r=nl(n);if(e.firstPendingTime=r,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===us&&(ds=us=null,hs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var a=cs;cs|=32,ls.current=null,$n=gn;var s=Bn();if(Vn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{l.nodeType,d.nodeType}catch(P){l=null;break e}var h=0,f=-1,p=-1,m=0,g=0,v=s,_=null;t:for(;;){for(var b;v!==l||0!==u&&3!==v.nodeType||(f=h+u),v!==d||0!==c&&3!==v.nodeType||(p=h+c),3===v.nodeType&&(h+=v.nodeValue.length),null!==(b=v.firstChild);)_=v,v=b;for(;;){if(v===s)break t;if(_===l&&++m===u&&(f=h),_===d&&++g===c&&(p=h),null!==(b=v.nextSibling))break;_=(v=_).parentNode}v=b}l=-1===f||-1===p?null:{start:f,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;Wn={focusedElem:s,selectionRange:l},gn=!1,Ss=r;do{try{al()}catch(P){if(null===Ss)throw o(Error(330));cl(Ss,P),Ss=Ss.nextEffect}}while(null!==Ss);Ss=r;do{try{for(s=e,l=t;null!==Ss;){var y=Ss.effectTag;if(16&y&&We(Ss.stateNode,""),128&y){var S=Ss.alternate;if(null!==S){var I=S.ref;null!==I&&("function"===typeof I?I(null):I.current=null)}}switch(1038&y){case 2:Zo(Ss),Ss.effectTag&=-3;break;case 6:Zo(Ss),Ss.effectTag&=-3,ts(Ss.alternate,Ss);break;case vt:Ss.effectTag&=~vt;break;case 1028:Ss.effectTag&=~vt,ts(Ss.alternate,Ss);break;case 4:ts(Ss.alternate,Ss);break;case 8:es(s,u=Ss,l),Xo(u)}Ss=Ss.nextEffect}}catch(P){if(null===Ss)throw o(Error(330));cl(Ss,P),Ss=Ss.nextEffect}}while(null!==Ss);if(I=Wn,S=Bn(),y=I.focusedElem,l=I.selectionRange,S!==y&&y&&y.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(y.ownerDocument.documentElement,y)){null!==l&&Vn(y)&&(S=l.start,void 0===(I=l.end)&&(I=S),"selectionStart"in y?(y.selectionStart=S,y.selectionEnd=Math.min(I,y.value.length)):(I=(S=y.ownerDocument||document)&&S.defaultView||window).getSelection&&(I=I.getSelection(),u=y.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!I.extend&&s>l&&(u=l,l=s,s=u),u=jn(y,s),d=jn(y,l),u&&d&&(1!==I.rangeCount||I.anchorNode!==u.node||I.anchorOffset!==u.offset||I.focusNode!==d.node||I.focusOffset!==d.offset)&&((S=S.createRange()).setStart(u.node,u.offset),I.removeAllRanges(),s>l?(I.addRange(S),I.extend(d.node,d.offset)):(S.setEnd(d.node,d.offset),I.addRange(S))))),S=[];for(I=y;I=I.parentNode;)1===I.nodeType&&S.push({element:I,left:I.scrollLeft,top:I.scrollTop});for("function"===typeof y.focus&&y.focus(),y=0;y<S.length;y++)(I=S[y]).element.scrollLeft=I.left,I.element.scrollTop=I.top}Wn=null,gn=!!$n,$n=null,e.current=n,Ss=r;do{try{for(y=i;null!==Ss;){var w=Ss.effectTag;if(36&w){var E=Ss.alternate;switch(I=y,(S=Ss).tag){case 0:case 11:case 15:qo(16,32,S);break;case 1:var C=S.stateNode;if(4&S.effectTag)if(null===E)C.componentDidMount();else{var A=S.elementType===S.type?E.memoizedProps:Br(S.type,E.memoizedProps);C.componentDidUpdate(A,E.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var T=S.updateQueue;null!==T&&sa(0,T,C);break;case 3:var O=S.updateQueue;if(null!==O){if(s=null,null!==S.child)switch(S.child.tag){case 5:s=S.child.stateNode;break;case 1:s=S.child.stateNode}sa(0,O,s)}break;case 5:var D=S.stateNode;null===E&&4&S.effectTag&&(I=D,zn(S.type,S.memoizedProps)&&I.focus());break;case 6:case 4:case 12:break;case 13:if(null===S.memoizedState){var M=S.alternate;if(null!==M){var N=M.memoizedState;if(null!==N){var F=N.dehydrated;null!==F&&gt(F)}}}break;case 19:case 17:case 20:case 21:break;default:throw o(Error(163))}}if(128&w){var L=(S=Ss).ref;if(null!==L){var R=S.stateNode;switch(S.tag){case 5:var x=R;break;default:x=R}"function"===typeof L?L(x):L.current=x}}Ss=Ss.nextEffect}}catch(P){if(null===Ss)throw o(Error(330));cl(Ss,P),Ss=Ss.nextEffect}}while(null!==Ss);Ss=null,Tr(),cs=a}else e.current=n;if(Cs)Cs=!1,As=e,Ts=t;else for(Ss=r;null!==Ss;)t=Ss.nextEffect,Ss.nextEffect=null,Ss=t;if(0===(t=e.firstPendingTime)&&(Es=null),1073741823===t?e===Ms?Ds++:(Ds=0,Ms=e):Ds=0,"function"===typeof hl&&hl(n.stateNode,i),js(e),Is)throw Is=!1,e=ws,ws=null,e;return 0!==(8&cs)?null:(Ur(),null)}function al(){for(;null!==Ss;){var e=Ss.effectTag;0!==(256&e)&&Qo(Ss.alternate,Ss),0===(512&e)||Cs||(Cs=!0,Pr(97,(function(){return ol(),null}))),Ss=Ss.nextEffect}}function ol(){if(90!==Ts){var e=97<Ts?97:Ts;return Ts=90,xr(e,sl)}}function sl(){if(null===As)return!1;var e=As;if(As=null,0!==(48&cs))throw o(Error(331));var t=cs;for(cs|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:qo(128,0,n),qo(0,64,n)}}catch(i){if(null===e)throw o(Error(330));cl(e,i)}n=e.nextEffect,e.nextEffect=null,e=n}return cs=t,Ur(),!0}function ll(e,t,n){na(e,t=rs(e,t=zo(n,t),1073741823)),null!==(e=ks(e,1073741823))&&js(e)}function cl(e,t){if(3===e.tag)ll(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){ll(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Es||!Es.has(i))){na(n,e=as(n,e=zo(t,e),1073741823)),null!==(n=ks(n,1073741823))&&js(n);break}}n=n.return}}function ul(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),us===e&&hs===n?4===fs||3===fs&&1073741823===ms&&Fr()-ys<500?Ks(e,hs):bs=!0:wl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),js(e)))}function dl(e,t){var n=e.stateNode;null!==n&&n.delete(t),1===(t=1)&&(t=Ls(t=Fs(),e,null)),null!==(e=ks(e,t))&&js(e)}Rs=function(e,t,n){var i=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||rr.current)wo=!0;else{if(i<n){switch(wo=!1,t.tag){case 3:Fo(t),So();break;case 5:if(Ma(t),4&t.mode&&1!==n&&r.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:sr(t.type)&&hr(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:Hr(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?ko(e,t,n):(tr(Fa,1&Fa.current),null!==(t=Bo(e,t,n))?t.sibling:null);tr(Fa,1&Fa.current);break;case 19:if(i=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(i)return jo(e,t,n);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),tr(Fa,Fa.current),!i)return null}return Bo(e,t,n)}wo=!1}}else wo=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=or(t,ir.current),qr(t,n),r=Xa(null,t,i,e,r,n),t.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(t.tag=1,Ja(),sr(i)){var a=!0;hr(t)}else a=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null;var s=i.getDerivedStateFromProps;"function"===typeof s&&da(t,i,s,e),r.updater=ha,t.stateNode=r,r._reactInternalFiber=t,ga(t,i,e,n),t=No(null,t,i,!0,a,n)}else t.tag=0,Eo(null,t,r,n),t=t.child;return t;case 16:if(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,t.type=r,a=t.tag=function(e){if("function"===typeof e)return gl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===z)return 11;if(e===K)return 14}return 2}(r),e=Br(r,e),a){case 0:t=Do(null,t,r,e,n);break;case 1:t=Mo(null,t,r,e,n);break;case 11:t=Co(null,t,r,e,n);break;case 14:t=Ao(null,t,r,Br(r.type,e),i,n);break;default:throw o(Error(306),r,"")}return t;case 0:return i=t.type,r=t.pendingProps,Do(e,t,i,r=t.elementType===i?r:Br(i,r),n);case 1:return i=t.type,r=t.pendingProps,Mo(e,t,i,r=t.elementType===i?r:Br(i,r),n);case 3:if(Fo(t),null===(i=t.updateQueue))throw o(Error(282));if(r=null!==(r=t.memoizedState)?r.element:null,oa(t,i,t.pendingProps,null,n),(i=t.memoizedState.element)===r)So(),t=Bo(e,t,n);else{if((r=t.stateNode.hydrate)&&(po=Qn(t.stateNode.containerInfo.firstChild),fo=t,r=mo=!0),r)for(n=Ia(t,null,i,n),t.child=n;n;)n.effectTag=-3&n.effectTag|vt,n=n.sibling;else Eo(e,t,i,n),So();t=t.child}return t;case 5:return Ma(t),null===e&&_o(t),i=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,s=r.children,Gn(i,r)?s=null:null!==a&&Gn(i,a)&&(t.effectTag|=16),Oo(e,t),4&t.mode&&1!==n&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Eo(e,t,s,n),t=t.child),t;case 6:return null===e&&_o(t),null;case 13:return ko(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Sa(t,null,i,n):Eo(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,Co(e,t,i,r=t.elementType===i?r:Br(i,r),n);case 7:return Eo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Eo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,Hr(t,a=r.value),null!==s){var l=s.value;if(0===(a=Vi(l,a)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(l,a):1073741823))){if(s.children===r.children&&!rr.current){t=Bo(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===i&&0!==(u.observedBits&a)){1===l.tag&&((u=ea(n,null)).tag=2,na(l,u)),l.expirationTime<n&&(l.expirationTime=n),null!==(u=l.alternate)&&u.expirationTime<n&&(u.expirationTime=n),Qr(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}Eo(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(a=t.pendingProps).children,qr(t,n),i=i(r=Yr(r,a.unstable_observedBits)),t.effectTag|=1,Eo(e,t,i,n),t.child;case 14:return a=Br(r=t.type,t.pendingProps),Ao(e,t,r,a=Br(r.type,a),i,n);case 15:return To(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Br(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,sr(i)?(e=!0,hr(t)):e=!1,qr(t,n),pa(t,i,r),ga(t,i,r,n),No(null,t,i,!0,e,n);case 19:return jo(e,t,n)}throw o(Error(156),t.tag)};var hl=null,fl=null;function pl(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function ml(e,t,n,i){return new pl(e,t,n,i)}function gl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function vl(e,t){var n=e.alternate;return null===n?((n=ml(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _l(e,t,n,i,r,a){var s=2;if(i=e,"function"===typeof e)gl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case U:return bl(n.children,r,a,t);case W:s=8,r|=7;break;case j:s=8,r|=1;break;case B:return(e=ml(12,n,t,8|r)).elementType=B,e.type=B,e.expirationTime=a,e;case G:return(e=ml(13,n,t,r)).type=G,e.elementType=G,e.expirationTime=a,e;case H:return(e=ml(19,n,t,r)).elementType=H,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case V:s=10;break e;case $:s=9;break e;case z:s=11;break e;case K:s=14;break e;case Q:s=16,i=null;break e}throw o(Error(130),null==e?e:typeof e,"")}return(t=ml(s,n,t,r)).elementType=e,t.type=i,t.expirationTime=a,t}function bl(e,t,n,i){return(e=ml(7,e,i,t)).expirationTime=n,e}function yl(e,t,n){return(e=ml(6,e,null,t)).expirationTime=n,e}function Sl(e,t,n){return(t=ml(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Il(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=this.firstBatch=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function wl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function El(e,t){var n=e.firstSuspendedTime,i=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(i>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Cl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Al(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Tl(e,t,n,i,r,a){var s=t.current;e:if(n){t:{if(_t(n=n._reactInternalFiber)!==n||1!==n.tag)throw o(Error(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(sr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw o(Error(171))}if(1===n.tag){var c=n.type;if(sr(c)){n=dr(n,c,l);break e}}n=l}else n=nr;return null===t.context?t.context=n:t.pendingContext=n,t=a,(r=ea(i,r)).payload={element:e},null!==(t=void 0===t?null:t)&&(r.callback=t),na(s,r),Ps(s,i),i}function Ol(e,t,n,i){var r=t.current,a=Fs(),o=ca.suspense;return Tl(e,t,n,r=Ls(a,r,o),o,i)}function Dl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ml(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Nl(e){var t=1073741821-25*(1+((1073741821-Fs()+500)/25|0));t<=xs&&--t,this._expirationTime=xs=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Fl(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ll(e,t,n){var i=new Il(e,t,n=null!=n&&!0===n.hydrate),r=ml(3,null,null,2===t?7:1===t?3:0);return i.current=r,r.stateNode=i,e[Zn]=i.current,n&&0!==t&&function(e){var t=An(e);st.forEach((function(n){Tn(n,e,t)})),lt.forEach((function(n){Tn(n,e,t)}))}(9===e.nodeType?e:e.ownerDocument),i}function Rl(e,t,n){this._internalRoot=Ll(e,t,n)}function xl(e,t){this._internalRoot=Ll(e,2,t)}function Pl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function kl(e,t,n,i,r){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof r){var s=r;r=function(){var e=Dl(o);s.call(e)}}Ol(t,o,e,r)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Rl(e,0,t?{hydrate:!0}:void 0)}(n,i),o=a._internalRoot,"function"===typeof r){var l=r;r=function(){var e=Dl(o);l.call(e)}}Hs((function(){Ol(t,o,e,r)}))}return Dl(o)}function Ul(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Pl(t))throw o(Error(200));return Ml(e,t,null,n)}ee=function(e,t,n){switch(t){case"input":if(De(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=ii(i);if(!r)throw o(Error(90));Ce(i),De(i,r)}}}break;case"textarea":Pe(e,n);break;case"select":null!=(t=n.value)&&Le(e,!!n.multiple,t,!1)}},Nl.prototype.render=function(e){if(!this._defer)throw o(Error(250));this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,i=new Fl;return Tl(e,t,null,n,null,i._onCommit),i},Nl.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Nl.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(!this._defer||null===t)throw o(Error(251));if(this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var i=null,r=t;r!==this;)i=r,r=r._next;if(null===i)throw o(Error(251));i._next=r._next,this._next=t,e.firstBatch=this}if(this._defer=!1,t=n,0!==(48&cs))throw o(Error(253));Al(e,t),js(e),Ur(),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Nl.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Fl.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Fl.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];if("function"!==typeof n)throw o(Error(191),n);n()}}},xl.prototype.render=Rl.prototype.render=function(e,t){var n=this._internalRoot,i=new Fl;return null!==(t=void 0===t?null:t)&&i.then(t),Ol(e,n,null,i._onCommit),i},xl.prototype.unmount=Rl.prototype.unmount=function(e){var t=this._internalRoot,n=new Fl;return null!==(e=void 0===e?null:e)&&n.then(e),Ol(null,t,null,n._onCommit),n},xl.prototype.createBatch=function(){var e=new Nl(this),t=e._expirationTime,n=this._internalRoot,i=n.firstBatch;if(null===i)n.firstBatch=e,e._next=null;else{for(n=null;null!==i&&i._expirationTime>=t;)n=i,i=i._next;e._next=i,null!==n&&(n._next=e)}return e},oe=zs,se=Gs,le=$s,ce=function(e,t){var n=cs;cs|=2;try{return e(t)}finally{0===(cs=n)&&Ur()}};var jl={createPortal:Ul,findDOMNode:function(e){if(null==e)e=null;else if(1!==e.nodeType){var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw o(Error(188));throw o(Error(268),Object.keys(e))}e=null===(e=yt(t))?null:e.stateNode}return e},hydrate:function(e,t,n){if(!Pl(t))throw o(Error(200));return kl(null,e,t,!0,n)},render:function(e,t,n){if(!Pl(t))throw o(Error(200));return kl(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){if(!Pl(n))throw o(Error(200));if(null==e||void 0===e._reactInternalFiber)throw o(Error(38));return kl(e,t,n,!1,i)},unmountComponentAtNode:function(e){if(!Pl(e))throw o(Error(40));return!!e._reactRootContainer&&(Hs((function(){kl(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return Ul.apply(void 0,arguments)},unstable_batchedUpdates:zs,unstable_interactiveUpdates:function(e,t,n,i){return $s(),Gs(e,t,n,i)},unstable_discreteUpdates:Gs,unstable_flushDiscreteUpdates:$s,flushSync:function(e,t){if(0!==(48&cs))throw o(Error(187));var n=cs;cs|=1;try{return xr(99,e.bind(null,t))}finally{cs=n,Ur()}},unstable_createRoot:function(e,t){if(!Pl(e))throw o(Error(299),"unstable_createRoot");return new xl(e,t)},unstable_createSyncRoot:function(e,t){if(!Pl(e))throw o(Error(299),"unstable_createRoot");return new Rl(e,1,t)},unstable_flushControlled:function(e){var t=cs;cs|=1;try{xr(99,e)}finally{0===(cs=t)&&Ur()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[ti,ni,ii,N.injectEventPluginsByName,h,Tt,function(e){T(e,At)},re,ae,In,M,ol,{current:!1}]}};!function(e){var t=e.findFiberByHostInstance;!function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);hl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(i){}},fl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(i){}}}catch(i){}}(r({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=yt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:ei,bundleType:0,version:"16.10.2",rendererPackageName:"react-dom"});var Bl={default:jl},Vl=Bl&&jl||Bl;e.exports=Vl.default||Vl},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(17),r=n(99),a=[4278190080,4294901760,4294967040,4294967280,4294967295],o=[24,16,8,4,0],s=r.a.extend({name:null,value:null,level:null,parent:null,group:null,fullValue:null,fullName:null,hasLevel:!1,retain:function(){return this},release:function(){return this},autorelease:function(){return this},init:function(e){this.__s._$17J$init.call(this,e);var t=this.name,n=this.value,r=this.parent,a=this.level,s=(this.hasLevel="number"===typeof this.level)?n<<o[a]:null;r&&!r.hasLevel&&Object(i.b)(this+" Cannot init. parent does not have an assigned level"),this.items=[],this._flags={},this.fullValue=r?r.fullValue+s:s,this.fullName=r?r.fullName+"."+t:t,this._nextSubitemValue=0},flagAs:function(){for(var e=arguments.length,t=this._flags,n=0;n<e;n++)t[arguments[n]]=!0;return this},flagged:function(e){return!!this._flags[e]},equals:function(e){return this.group===e.group&&e.fullValue===this.fullValue},subitemOf:function(e){return this.level>e.level&&this.group===e.group&&(this.fullValue&a[e.level])===e.fullValue},superitemOf:function(e){return this.level<e.level&&this.group===e.group&&(e.fullValue&a[this.level])===this.fullValue},contains:function(e){return this.equals(e)||e.subitemOf(this)},createSubitem:function(e){return s.create({name:e,value:this._getNextSubitemValue(),parent:this,level:this.level+1,group:this.group})},toString:function(){return this._toString(!1)},toJSON:function(){return""+this},toStringFull:function(){return this._toString(!0)},_toString:function(e){var t=this.group,n=t?t.name:"CW.Enum.Item",i=e||!t?" <"+function(e){var t=e.toString(16).toUpperCase();return t.length%2!==0&&(t="0"+t),t.match(/\d\d/g).join(" ")}(this.fullValue)+">":"";return"["+n+": "+this.fullName+i+"]"},_getNextSubitemValue:function(){return this._nextSubitemValue++,this._nextSubitemValue},__superMap:{_$17J$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"EnumItem"}});s.prototype.substateOf=s.prototype.subitemOf,s.prototype.superstateOf=s.prototype.superitemOf},function(e,t,n){"use strict";function i(e){return!(!e||!e.isObject)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(24),r={staticMembers:{sharedInstance:Object(i.c)({get:function(){return this.hasOwnProperty("_sharedInstance")&&this._sharedInstance||(this._sharedInstance=this.create())},set:function(e){this._sharedInstance=e}})},dispose:function(){var e=this,t=arguments;this.constructor._sharedInstance===this&&delete this.constructor._sharedInstance,e.__s._$Oz$dispose.apply(e,t)},__superMap:{_$Oz$dispose:"dispose"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(83),r=n(84),a=n(38),o=n(15),s=n(132),l=n(108),c=n(316),u=n(17),d=i.a.extend(a.a,{staticMembers:{shouldUseFormEncoding:!1,components:Object(r.b)(["protocol","auth","hostname","port","pathname","query","hash"]),componentFormatters:{protocol:function(e){return e+(_[e]?"":"//")},auth:function(e){return e+"@"},port:function(e){return":"+e}},componentCleaners:{protocol:function(e){return e.replace("//","")},auth:function(e){return e.replace("@","")}},parse:function(e){var t,n,i,r,a,o=e.match(h),s={},l=this.components;for(i=0,r=l.length;i<r;i++)(t=o[i+1])&&(n=l[i],a=this.componentCleaners[n],s[n]=a?a(t):t);return s},parseQuery:function(e,t){var n={};if(!Object(s.a)(e))return n;if(""===(e=e.replace(f,"")))return n;t=void 0===t?this.shouldUseFormEncoding:t;for(var i=e.split("&"),r=0,a=i.length;r<a;r++){var o,l=i[r].split("="),c=l[0],u=l[1];v.test(c)&&(c=c.replace(v,""),o=!0),u=this.parseValue(y(u,t));var d=n[c];d?(Array.isArray(d)?d.push(u):d=[d,u],u=d):o&&(u=[u]),n[c]=u}return n},parseValue:function(e){if(e&&p.test(e)){for(var t=(e=e.split(",")).length-1;t>=0;t--)e[t]=S(e[t]);return e}return S(e)},formatQuery:function(e,t){if(!Object(l.a)(e))return e;t=void 0===t?this.shouldUseFormEncoding:t;var n,i,r,a,o=Object.keys(e),s="";for(r=0,a=o.length;r<a;r++)i=e[n=o[r]],r>0&&(s+="&"),s+=b(n,t),null!==i&&void 0!==i&&(s+="="+(i=b(this.formatValue(i),t)));return r>0?"?"+s:""},formatValue:function(e){if(Array.isArray(e)){for(var t=e.length-1;t>=0;t--)e[t]=I(e[t]);return e.join(",")}return I(e)},init:function(){var e=this,t=arguments;e.__s._$31u$init.apply(e,t),this.prototype.registerMetadata("href",Object(o.b)({dependencies:this.components}))},__superMap:{_$31u$init:"init"},__QUALIFIED_CLASS_NAME__:"URL"},protocol:Object(o.b)(null),auth:Object(o.b)(null),hostname:Object(o.b)(null),port:Object(o.b)({defaultValue:null,set:function(e){return parseInt(e,10)}}),pathname:Object(o.b)(null),query:Object(o.b)(null),hash:Object(o.b)(null),href:Object(o.b)({readOnly:!0,get:function(){var e,t,n,i,r,a="",o=this.constructor.components,s=arguments[3],l=arguments[1],c=arguments[2];for(t=0,n=o.length;t<n;t++)i=o[t],(e=s.internalGet(this,l[t+c]))&&(a+=(r=this.constructor.componentFormatters[i])?r(e):e);return a}}),host:Object(o.b)({readOnly:!0,dependencies:["port","hostname"],get:Object.assign((function(){var e=this.port,t=this.hostname;return e&&(t=(t||"")+":"+e),t}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[1+n]);return r&&(a=(a||"")+":"+r),a}})}),origin:Object(o.b)({readOnly:!0,dependencies:["host","protocol"],get:Object.assign((function(){var e=this.host,t=this.protocol;return t&&(e=this.constructor.componentFormatters.protocol(t)+(e||"")),e}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[1+n]);return a&&(r=this.constructor.componentFormatters.protocol(a)+(r||"")),r}})}),path:Object(o.b)({readOnly:!0,dependencies:["query","pathname"],get:Object.assign((function(){var e=this.query,t=this.pathname;return e&&(t=(t||"")+e),t}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[1+n]);return r&&(a=(a||"")+r),a}})}),queryObject:Object(o.b)({dependencies:["query"],get:Object.assign((function(){return this.constructor.parseQuery(this.query)}),{__CW__getter:function(e,t,n,i){return this.constructor.parseQuery(i.internalGet(this,t[0+n]))}}),set:Object.assign((function(e){this.query=this.constructor.formatQuery(e)}),{__CW__setter:function(e,t,n,i,r){n[0+i]=this.constructor.formatQuery(e)}}),writeDependencySetPathMap:[!1]}),isInDomain:function(e){var t=this.hostname;if(!t||""===e)return!1;var n=new RegExp("(^|\\.)"+Object(c.c)(e)+"$","i");return!!t.match(n)},setQueryParameter:function(e,t){return this.query?(this.removeQueryParameter(e),this.appendQueryParameter(e,t)):this.appendQueryParameter(e,t)},appendQueryParameter:function(e,t){var n=this.query||"?";return"?"!==n&&(n+="&"),n+=b(e)+(null!==t&&void 0!==t?"="+b(this.constructor.formatValue(t),this.constructor.shouldUseFormEncoding):""),this.query=n,this},removeQueryParameter:function(e){var t=this.query;if(!t)return this;var n=this._regexpForQueryParameterKey(e),i=t.replace(n,""),r=i[0];return i?"?"!==r&&("&"===r&&(i=i.substr(1)),i="?"+i):i=null,this.query=i,this},getQueryParameter:function(e){var t=this.query;if(t){var n=this._regexpForQueryParameterKey(e).exec(t);if(n){var i=n[3];return void 0===i?null:y(i)}}},_regexpForQueryParameterKey:function(e){var t=Object(c.c)(e)+"|"+Object(c.c)(b(e));return new RegExp("(^|\\?|&)("+t+")(?:=([^&]*))?(?=&|$)","g")},setMultipleQueryParameters:function(e){for(var t in e)e.hasOwnProperty(t)&&this.setQueryParameter(t,e[t]);return this},init:function(e){if(Object(s.a)(e))e=this.constructor.parse(e);else if(e&&e.constructor===Location){for(var t,n,i={},r=this.constructor.components,a=0,o=r.length;a<o;a++)"query"===(n=t=r[a])&&(t="search"),i[n]=e[t];e=i}else e&&!Object(l.a)(e)&&Object(u.b)("A URL object cannot be created with the data provided",e);this.__s._$6ID$init.call(this,e)},toString:function(){return this.href},toJSON:function(){return""+this},__superMap:{_$6ID$init:"init"}}),h=/^(.*?:\/\/)?([^:/?]*:?[^:/?]*@+)?([^:/?]*):?(\d*)?([^?#]*)?(\??[^#]*)(#?.*)?$/,f=/^\?/,p=/,/,m=/%20/g,g=/\+/g,v=/\[\]$/,_={"mailto:":!0},b=function(e,t){var n=encodeURIComponent(""+e);return t?n.replace(m,"+"):n},y=function(e,t){if(!e)return e;var n=decodeURIComponent(""+e);return t?n.replace(g," "):n};function S(e){try{return JSON.parse(e)}catch(t){return e}}function I(e){return""+e}},function(e,t,n){"use strict";n(0),n.d(t,"a",(function(){return m}));var i=n(83),r=n(84),a=n(24),o=n(272),s=n(276),l=n(38),c=n(15),u=n(56),d=n(390),h=n(17),f=n(709),p=n(181),m=i.a.extend(l.a,o.a,s.a,{_childViewControllers:Object(r.b)(Array),parent:Object(c.b)(null),_isViewLoaded:!1,isViewLoaded:Object(a.c)({readOnly:!0,get:function(){return this._isViewLoaded}}),_isAttached:void 0,isAttached:Object(c.b)({dependencies:["parent.isAttached"],defaultValue:!1,readOnly:!0,get:Object.assign((function(){var e=this._isAttached;return Object(d.a)(e)?e:Boolean(this.getPath("parent.isAttached"))}),{__CW__getter:function(e,t,n,i){var r=this._isAttached;return Object(d.a)(r)?r:Boolean(i.internalGetPath(this,t[0+n]))}})}),_setIsAttached:function(e){this._isAttached=e,this.propertyChanged("isAttached")},isRootViewController:!1,_view:null,view:Object(c.b)({readOnly:!0,strong:!0,get:function(){return this.loadView(),this._view}}),presentingViewController:null,viewClass:p.a,dispose:function(){var e=this,t=arguments,n=this._childViewControllers,i=0,r=n.length;for(i=0;i<r;i++)n[i].parent=null,n[i].release(this,"holding as a childViewController");this.unloadView(!0),e.__s._$1Nd$dispose.apply(e,t)},loadView:function(){if(!this._isViewLoaded){this.viewWillLoad();var e=this.createView();e.beginBatchSet().set("viewController",this).set("nextResponder",this).set("focusParent",this).end(),this._view=e,this._isViewLoaded=!0,this._loadChildViews(e),this.viewDidLoad(e)}},viewWillLoad:function(){},viewDidLoad:function(e){},viewWillUnload:function(e){},viewDidUnload:function(){},createView:function(){return this.viewClass.create({isRootView:this.isRootViewController})},unloadView:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._isViewLoaded){var t=this._view;this.viewWillUnload(t),t.beginBatchSet().set("viewController",null).set("nextResponder",null).set("focusParent",null).end(),this._view=null,this._isViewLoaded=!1,e||this.propertyChanged("view"),this.viewDidUnload()}},willMoveToParentViewController:function(e){e&&e.isAttached&&!this.isAttached?this.willAttach():!e&&this.isAttached&&this.willDetach()},didMoveToParentViewController:function(e){e&&e.isAttached?this.didAttach():e||this.didDetach()},willAttach:function(){var e,t=this._childViewControllers,n=t.length;for(e=0;e<n;e++)t[e].willAttach()},didAttach:function(){var e,t=this._childViewControllers,n=t.length;for(e=0;e<n;e++)t[e].didAttach()},willDetach:function(){var e,t=this._childViewControllers,n=t.length;for(e=0;e<n;e++)t[e].willDetach()},didDetach:function(){var e,t=this._childViewControllers,n=t.length;for(e=0;e<n;e++)t[e].didDetach()},addChildViewController:function(e,t){var n=this._childViewControllers;e.parent&&Object(h.b)("Cannot add view controller because it is already a child of a view controller",{parent:this,child:e}),n.push(e),t?(t.set(e,"parent",this),t.set(e,"focusParent",this)):(e.parent=this,e.focusParent=this),e.retain(this,"holding as a childViewController")},removeChildViewController:function(e,t){var n=this._childViewControllers;n.indexOf(e)<0&&Object(h.b)("Cannot remove view controller because it is not a child of this view controller",{parent:this,child:e}),t?(t.set(e,"parent",null),t.set(e,"focusParent",null)):(e.parent=null,e.focusParent=null),e.release(this,"holding as a childViewController"),Object(f.a)(e,n)},_loadChildViews:function(e){for(var t=this._childViewControllers,n=0;n<t.length;n++){var i=t[n],r=i._destinationViewOutlet;r&&e.setPath(r,i.view)}},defaultFocusChild:Object(u.c)("view"),focusAsLeaf:function(){var e=this,t=arguments,n=e.__s._$4QT$focusAsLeaf.apply(e,t);return n&&this.view.focus(),n},nextResponder:Object(a.c)({get:function(e){if(e)return e;var t=this.view;return t?t.parent:null}}),performAction:function(e){var t=this.targetViewControllerForAction(e,this);if(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t[e].apply(t,i)}Object(h.b)("CW.ViewController"+e+" No view controller in hierarchy implements "+e+".",{viewController:this})},canPerformAction:function(e,t){var n=this,i=arguments,r=this[e];switch(e){case"showViewController":case"showDetailViewController":case"presentViewController":case"dismissViewController":return"function"===typeof r&&r!==m.prototype[e];default:return n.__s._$59d$canPerformAction.apply(n,i)}},targetViewControllerForAction:function(e,t){var n=null;if(this.canPerformAction(e,t))n=this;else{var i=this.nextResponder;i&&(n=i.targetViewControllerForAction(e,t))}return n},showViewController:function(e){this.performAction("showViewController",e)},showDetailViewController:function(e){this.performAction("showDetailViewController",e)},presentViewController:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.presentingViewController=this,this.performAction("presentViewController",e,t)},dismissViewController:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.performAction("dismissViewController",e,t)},dismiss:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.presentingViewController;if(t)return t.dismissViewController(this,e);Object(h.b)("CW.ViewController#dismiss The view controller has no presentingViewController.",{viewController:this})},__superMap:{_$1Nd$dispose:"dispose",_$4QT$focusAsLeaf:"focusAsLeaf",_$59d$canPerformAction:"canPerformAction"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ViewController"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(54),r=n(84),a=n(38),o=n(101),s=n(17),l=n(318),c=n(275),u=n(398),d=n(240),h={mixinDependencies:[a.a,i.b,u.a],init:function(){var e=this,t=this,n=arguments;t.__s._$11h$init.apply(t,n);var i=this.gestureRecognizers;i&&(i instanceof Set||(this.gestureRecognizers=new Set(i)),this.gestureRecognizers.forEach((function(t){t.retain(e,"ResponderSupport#gestureRecognizers"),t.view=e})))},handleEvent:function(e){if(this.isDisposed)return!1;for(var t=!1,n=this[e],i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];if(n&&(t=n.call.apply(n,[this].concat(r))),!t){var o=this._specialEventHandlers;if(o){var s=o[e];s&&(t=s.call.apply(s,[this].concat(r)))}}return t},handleGestureRecognition:function(e){var t=this.gestureRecognizers;if(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return d.a.addGestureRecognizersWithEvent.apply(d.a,[e].concat(i,[t]))}return!1},gestureRecognizers:null,addGestureRecognizer:function(e){e.retain(this,"ResponderSupport#gestureRecognizers");var t=this.gestureRecognizers;if(t||(this.gestureRecognizers=t=new Set),t.has(e))throw new Error("ResponderSupport: attempted to register the same gesture recognizer twice.");e.view=this,t.add(e)},removeGestureRecognizer:function(e){var t=this.gestureRecognizers;if(!t||!t.has(e))throw new Error("ResponderSupport: attempted to deregister a gesture recognizer that was never registered.");d.a.cancelGestureRecognizer(e),t.delete(e),e.release(this,"ResponderSupport#gestureRecognizers")},_registeredShortcuts:Object(r.b)(Object),registerShortcutKeyCombo:function(e,t,n){var i=(Object(o.a)(e,c.a)?e:c.a.create(e)).toString(),r=this._registeredShortcuts;r[i]&&Object(s.b)("Shortcut already registered for `"+e+"` on "+this),t||Object(s.b)("Cannot register shortcut for `"+e+"`, because no action was provided");var a=typeof t;"function"!==a&&("string"===a?"function"!==typeof(t=this[t])&&Object(s.b)("Cannot register shortcut for `"+e+"`, because the action is not a function"):Object(s.b)("Cannot register shortcut for `"+e+"`, because the action is not a function")),r[i]={action:t,context:n},(this._specialEventHandlers||(this._specialEventHandlers={})).keyDown=this.triggerShortcutIfExists},triggerShortcutIfExists:function(e){var t=l.a.sharedInstance,n=this._registeredShortcuts,i=t.activeKeys.toString(),r=t.activeKeySequence,a=r.toString(),o=n[i]||n[a];return!!o&&(n[a]&&r.clear(),o.action.call(this,o.context),!0)},pointerOver:null,pointerDown:null,pointerMove:null,pointerUp:null,pointerOut:null,pointerEnter:null,pointerLeave:null,wheel:null,__superMap:{_$11h$init:"init"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n(392),r=n(108),a=n(314),o=n(274),s=n(17),l=n(149),c=n(99),u=n(391),d="[CW.Property#extendedForAccumulatorDefaultValue] Cannot extend property.",h=[],f=c.a.extend({init:function(e){var t=this;this.value=Object(i.a)(arguments),t.__s._$f7$init.call(t)},value:null,initializeMember:function(e,t){var n,i=e[t],c=this.value;if(Array.isArray(i))n=i.concat.apply(i,c);else if(Object(r.a)(i))c.every(r.a)?(Object(a.a)(h,c,1,0),h[0]=i,n=o.a.apply(null,h)):Object(s.b)(d+" The default value of the superclass property is a hash, but the subclass does not provide a hash.",{value:c,property:this});else if(Object(u.a)(i))c.every(r.a)?n=i.extend.apply(i,c):Object(s.b)(d+" The default value of the superclass property is a class, but the subclass does not provide a hash.",{value:c,property:this});else if(Object(l.a)(i))Object(s.b)(d+" This property class returned a default value that is not valid for aggregation.  It must be either an array or a hash object.",{property:this,previousValue:i});else if(c.every(r.a))n=o.a.apply(null,c);else if(c.every(Array.isArray)){Object(a.a)(h,c,0,1);var f=c[0];n=f.concat.apply(f,h)}else Object(s.b)(d+" If the default value of the superclass property is "+i+", the subclass must provide a hash or an array.",{value:c,property:this});return n},__superMap:{_$f7$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Accumulator"}}),p=function(){return f.create.apply(f,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(17),r=[],a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=arguments.length;0===a&&Object(i.b)("[CW.Utils#merge] Must provides objects to merge");var o=1,s=0,l=arguments.length;r.length=l+o-s;for(var c=s,u=o;c<l;c++,u++)r[u]=arguments[c];var d=r;return d[0]={},Object.assign.apply(this,d)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(83),r=n(24),a=n(204),o=n(17),s=n(128),l=Object(a.a)([s.a.SHIFT,s.a.CTRL,s.a.OPTION,s.a.CMD]),c=i.a.extend({init:function(e){var t=this,n=arguments;"string"===typeof e?(t.__s._$FC$init.call(t),this._initFromString(e)):t.__s._$FC$init.apply(t,n)},getKeyCode:function(e){var t=e.trim().toUpperCase();return s.a[t]||t.charCodeAt(0)},add:function(e){this.addKey(e)},addKey:function(e){l[e]?this._addModifier(e):this._addSequencedKey(e)},delete:function(e){this.removeKey(e)},removeKey:function(e){l[e]?this._removeModifier(e):this._removeSequencedKey(e)},clear:function(){this.modifiers&&(this.modifiers.length=0),this.keys&&(this.keys.length=0)},toString:function(){var e="";return this.modifiers&&(e+=this.modifiers.sort().join("+")+":"),this.keys&&(e+=this.keys.join(",")),e},contains:function(e){return l[e]?!!this.modifiers&&this.modifiers.includes(e):!!this.keys&&this.keys.includes(e)},has:function(e){return this.contains(e)},length:Object(r.c)({readOnly:!0,get:function(){return(this.keys?this.keys.length:0)+(this.modifiers?this.modifiers.length:0)}}),_initFromString:function(e){var t,n,i,r;if(/\+/.test(e))for(n=0,i=(t=e.split("+")).length;n<i;n++){var a=this.getKeyCode(t[n]);l[a]?this._addModifier(a):(r&&Object(o.b)("Invalid key sequence: "+e+". Key sequences do not support pressing two (non-modifier) keys at the same time"),r=!0,this._addSequencedKey(a))}else for(n=0,i=(t=e.split(/\s/)).length;n<i;n++)this._addSequencedKey(this.getKeyCode(t[n]))},_addModifier:function(e){(this.modifiers||(this.modifiers=[])).push(e)},_addSequencedKey:function(e){(this.keys||(this.keys=[])).push(e)},_removeModifier:function(e){this.modifiers&&(this.modifiers=this.modifiers.filter((function(t){return t!==e})))},_removeSequencedKey:function(e){this.keys&&(this.keys=this.keys.filter((function(t){return t!==e})))},__superMap:{_$FC$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"KeySequence"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var i=n(101),r=n(35),a=n(133),o=n(38),s=n(15),l=n(56),c=n(272),u={mixinDependencies:[o.a,c.a],defaultFocusChildren:Object(s.b)(),isFocused:Object(s.b)({readOnly:!0,dependencies:["isInFocusedBranch","focusedChild"],get:Object.assign((function(){return this.isInFocusedBranch&&!this.focusedChild}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])&&!i.internalGet(this,t[1+n])}})}),descendantHasFocus:Object(s.b)({readOnly:!0,dependencies:["isInFocusedBranch","focusedChild"],get:Object.assign((function(){return this.isInFocusedBranch&&!!this.focusedChild}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])&&!!i.internalGet(this,t[1+n])}})}),isFocusable:Object(s.b)(!1),isFocusablePane:Object(s.b)(!0),shouldFocusPaneOnAttach:Object(s.b)(!0),isFocusedPane:Object(s.b)({readOnly:!0,dependencies:["focusParent.isFocusedLayer"],get:Object.assign((function(){return this.getPath("focusParent.isFocusedLayer")}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])}})}),isInTheFocusedPane:Object(s.b)({readOnly:!0,dependencies:["focusParent.isInTheFocusedPane","isFocusedPane"],get:Object.assign((function(){return!!this.isFocusedPane||!!this.getPath("focusParent.isInTheFocusedPane")}),{__CW__getter:function(e,t,n,i){return!!i.internalGet(this,t[1+n])||!!i.internalGetPath(this,t[0+n])}})}),inheritsFocusLayer:Object(s.b)(!1),isInFocusableLayer:Object(s.b)(Object(l.c)("focusParent.isInFocusableLayer")),isInFocusedLayer:Object(s.b)(Object(l.c)("focusParent.isInFocusedLayer")),isInFocusedBranch:Object(s.b)({readOnly:!0,dependencies:["isInFocusedLayer","isFocusedInParent","focusParent.isInFocusedBranch"],get:Object.assign((function(){var e=this.isInFocusedLayer,t=this.isFocusedInParent,n=this.getPath("focusParent.isInFocusedBranch");return e&&t&&n}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[1+n]),o=i.internalGetPath(this,t[2+n]);return r&&a&&o}})}),isFocusedInParent:Object(s.b)({dependencies:["focusParent.focusedChild"],readOnly:!0,get:Object.assign((function(){var e=this.getPath("focusParent.focusedChild");return this.isRootViewController||e===this}),{__CW__getter:function(e,t,n,i){var r=i.internalGetPath(this,t[0+n]);return this.isRootViewController||r===this}})}),focusResponder:Object(s.b)({dependencies:["focusedChild","focusedChild.focusResponder"],readOnly:!0,get:Object.assign((function(){return this.focusedChild&&this.focusedChild.focusResponder||(this.isFocusable?this:null)}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])&&i.internalGetPath(this,t[1+n])||(this.isFocusable?this:null)}})}),parent:Object(s.b)(null),focusParent:Object(s.b)({dependencies:["parent"],writeDependencies:[],get:Object.assign((function(e){var t=e||this.parent;return Object(i.a)(t,u)?t:void 0}),{__CW__getter:function(e,t,n,r){var a=e||r.internalGet(this,t[0+n]);return Object(i.a)(a,u)?a:void 0}}),set:function(e){return e}}),focusedChild:Object(s.b)(),_focusInTree:function(){if(this.isInFocusedBranch)return!0;if(!this.isInFocusableLayer)return!1;var e=this.focusParent;return e.focusedChild=this,e._focusInTree()},focus:function(e){if(!this.isInFocusableLayer&&(this.sendEvent("appGainedFocusability"),!this.isInFocusableLayer))return!1;if(!e&&this.isInFocusedBranch)return this.focusAsLeaf();var t=!1;return(t=this.reFocus())||(t=this.focusDefault()),t||(t=this.focusAsLeaf()),t},focusAsLeaf:function(){return!!this.isFocusable&&(this.focusedChild=null,this._focusInTree(),this.sendEvent("appWantsFocus"),this.isFocused)},reFocus:function(){var e=this.focusResponder;return!(!e||e===this)&&e.focus()},focusDefault:function(){var e=this.defaultFocusChildren;if(e)for(var t=0,n=e.length;t<n;t++){var r=e.objectAt(t);if(r&&Object(i.a)(r,u)&&r.focus())return!0}var a=this.defaultFocusChild;return!!a&&a.focus()},_blurInTree:function(){if(!this.isInFocusedBranch)return!0;if(!this.isInFocusableLayer)return!1;var e=this.focusParent;return!e||!this.isFocusedInParent||(e._blurInTree(),e.focusedChild=null,!0)},blur:function(){return!(!this.isInFocusableLayer&&(this.sendEvent("appGainedFocusability"),!this.isInFocusableLayer))&&this._blurInTree()},didFocus:r.a,didBlur:r.a,defaultFocusChild:Object(s.b)(),isFocusedLayer:Object(s.b)({readOnly:!0,defaultValue:!1}),_wasFocused:!1,isFocusedDidChange:Object(o.f)("isFocused",(function(e){e?(this._wasFocused=!0,this.didFocus()):this._wasFocused&&(this._wasFocused=!1,this.didBlur())})),didReceiveFocus:function(e){var t=!1;return null===e.relatedTarget&&(this.sendEvent("appGainedFocusability"),t=!0),this.isInFocusableLayer&&this.isFocusable||this.sendEvent("focusReleasedInApp"),this.isFocused||this.focus(t),!0},didReceiveBlur:function(e){return null!==e.relatedTarget||document.hasFocus()||this.sendEvent("appLostFocus"),!0}},d=null,h=null;function f(){d&&d.focus(),d=null,h=null}var p={mixinDependencies:[u],tabIndex:Object(s.b)(0),_previousDefaultFocusElement:Object(s.b)(),tabIndexObserver:Object(o.f)({inputs:["isFocusable","tabIndex","defaultFocusElement"],callback:function(e,t,n){var i=this._previousDefaultFocusElement;i&&i.removeAttribute("tabIndex"),this._previousDefaultFocusElement=n,n&&(e?n.setAttribute("tabIndex",t):n.removeAttribute("tabIndex"))}}),focusAsLeaf:function(){var e=this,t=arguments,n=e.__s._$4eU$focusAsLeaf.apply(e,t);if(n){var i=this.defaultFocusElement;h||(h=Object(a.a)(f,0)),d=i}return n},blur:function(){var e=this,t=arguments,n=e.__s._$4po$blur.apply(e,t);if(n){var i=this.defaultFocusElement;i&&i.blur()}return n},defaultFocusElement:Object(s.b)({binding:Object(l.c)("element"),readOnly:!0}),didFocus:function(){},__superMap:{_$4eU$focusAsLeaf:"focusAsLeaf",_$4po$blur:"blur"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n(86),r=n(54),a=n(83),o=n(158),s=n(202),l=n(199),c=n(38),u=n(150),d=n(15),h={mixinDependencies:[i.a],x:Object(r.c)(u.a),y:Object(r.c)(u.a)},f=a.a.extend(c.a,h,o.a,{initFromPool:function(e,t){var n=this,i=arguments;if(Object(s.a)(e))return this.x=e,this.y=t,n.__s._$DV$initFromPool.call(n);n.__s._$DV$initFromPool.apply(n,i)},didEnterPool:function(){var e=this,t=arguments;this.x=0,this.y=0,e.__s._$FU$didEnterPool.apply(e,t)},x:Object(d.b)(0),y:Object(d.b)(0),toString:function(){var e=this,t=arguments;return Object(l.a)("["+e.__s._$L4$toString.apply(e,t)+"(%{x}, %{y}) ]",this)},__superMap:{_$DV$initFromPool:"initFromPool",_$FU$didEnterPool:"didEnterPool",_$L4$toString:"toString"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Point2D"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(17),r=n(86),a=n(91),o=n(403),s={mixinDependencies:[r.a,o.a],length:a.a.define(),toArray:function(){for(var e=this.createIterator().retain(),t=[],n=0;e.get("isValid");){var i=e.get("value");t[n++]=i,e.moveToNext()}return e.release(),t},encodedToArray:function(){for(var e=this.createIterator().retain(),t=[],n=0;e.isValid;){var i=e.encodedValue;t[n++]=i,e.moveToNext()}return e.release(),t},reduce:function(e,t,n){var r,a,o=this.createIterator().retain();for(arguments.length>=2?(r=t,a=0):o.isValid?(r=o.value,o.moveToNext(),a=1):Object(i.b)("reduce of empty array with no initial value");o.isValid;){var s=o.value;r=e.call(n,r,s,a++,this),o.moveToNext()}return o.release(),r},find:function(e,t){for(var n=this.createIterator().retain(),i=0;n.get("isValid");){var r=n.get("value");if(e.call(t,r,i++,this))return n.release(),r;n.moveToNext()}n.release()},every:function(e,t){for(var n=this.createIterator().retain(),i=0;n.get("isValid");){var r=n.get("value");if(!e.call(t,r,i++,this))return n.release(),!1;n.moveToNext()}return n.release(),!0},some:function(e,t){for(var n=this.createIterator().retain(),i=0;n.get("isValid");){var r=n.get("value");if(e.call(t,r,i++,this))return n.release(),!0;n.moveToNext()}return n.release(),!1},forEach:function(e,t){for(var n=this.createIterator().retain(),i=0;n.get("isValid");){var r=n.get("value");e.call(t,r,i++,this),n.moveToNext()}n.release()},contains:function(e){return this.encodedContains(this.encode(e))},encodedContains:function(e){for(var t=this.createIterator().retain();t.isValid;){if(t.encodedValue===e)return t.release(),!0;t.moveToNext()}return t.release(),!1},_isCwCollection:!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=Object.freeze({MOUSE:"MOUSE",TOUCH:"TOUCH"})},function(e,t,n){"use strict";var i,r;!function(e){e.IOS="IOS",e.ANDROID="ANDROID",e.WINDOWS="WINDOWS",e.MAC="MAC",e.LINUX="LINUX",e.CHROMEOS="CHROMEOS",e.UNKNOWN="UNKNOWN"}(i||(i={})),function(e){e.PHONE="PHONE",e.TABLET="TABLET",e.DESKTOP="DESKTOP"}(r||(r={}));var a=n(207);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c}));var s=function(){function e(){this.platformType=function(){var e=window.navigator.userAgent;if(!e)throw new TypeError("Expected user agent!");return/ipad|ipod|iphone/i.test(e)?i.IOS:/android/i.test(e)?i.ANDROID:/mac/i.test(e)&&!/like mac/i.test(e)?"ontouchstart"in window||"createTouch"in window.document?i.IOS:i.MAC:/windows/i.test(e)?i.WINDOWS:/\bcros\b/i.test(e)?i.CHROMEOS:/\blinux\b/i.test(e)?i.LINUX:i.UNKNOWN}(),this.isAndroid=this.platformType===i.ANDROID,this.isWindows=this.platformType===i.WINDOWS,this.isMac=this.platformType===i.MAC,this.isiOS=this.platformType===i.IOS,this.primaryInteractionMode=this.isiOS||this.isAndroid?a.a.TOUCH:a.a.MOUSE,this.isTouch=this.primaryInteractionMode===a.a.TOUCH,this.isMouse=this.primaryInteractionMode===a.a.MOUSE,this.deviceType=this.isMouse?r.DESKTOP:Math.min(window.screen.width,window.screen.height)>667?r.TABLET:r.PHONE,this.isiPad=this.isiOS&&this.deviceType===r.TABLET,this.isiPhoneOriPod=this.isiOS&&this.deviceType===r.PHONE}var t,n,s;return t=e,s=[{key:"sharedInstance",get:function(){var t=e._sharedInstance;return void 0===t?this._sharedInstance=new e:t}}],(n=[{key:"current",get:function(){return this.platformType}}])&&o(t.prototype,n),s&&o(t,s),e}();function l(){var e=document.querySelector('meta[name="viewport"]'),t=e||document.createElement("meta");t.content="width=device-width, initial-scale=1, viewport-fit=cover",e||(t.name="viewport",document.head.appendChild(t))}function c(){document.body.setAttribute("apple-system-font-capable","true")}},function(e,t,n){"use strict";var i=n(397),r=[];r.toJSON=function(){if(this.length<=1)return this[0];for(var e=[],t=0,n=this.length;t<n;t++)e.push("*** Context "+(t+1)+": ***\n"+Object(i.a)(this[t]));return e.join("\n")};var a=n(200);function o(e,t,n){if(h){if(u.isExceptionHandlingFatal)return;h=!1}if(d)return e.apply(n,t);if(!u.isExceptionHandlingEnabled)return Object(a.c)(e,n,t);d=!0;try{return Object(a.c)(e,n,t)}catch(o){var i=r;i.length>0&&(i.push(o.context),i.reverse(),o.context=i.slice(),i.length=0),u.exceptionHandler(o),u.exceptionWasHandled=!0,u.isExceptionHandlingFatal&&(h=!0)}finally{d=!1}}function s(e){u=e||c}function l(){return u}n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l}));var c={isExceptionHandlingEnabled:!1},u=c,d=!1,h=!1},function(e,t,n){"use strict";var i=n(83),r=n(269),a=n(84),o=n(38),s=n(15),l=n(142),c=n(737).a.extend({init:function(){var e=this,t=this,n=arguments;this.width=window.innerWidth,this.height=window.innerHeight,t.__s._$8B$init.apply(t,n);var i=function(){return e.updateDimensions()};Object(l.a)(window,"resize",i),Object(l.a)(window.document,"DOMContentLoaded",i)},x:0,y:0,width:0,height:0,updateDimensions:function(){this.beginBatchSet().setIfChanged("width",window.innerWidth).setIfChanged("height",window.innerHeight).end()},__superMap:{_$8B$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BrowserWindow"}});n.d(t,"a",(function(){return u}));var u=i.a.extend(r.a,o.a,{init:function(e){var t=e&&e.userAgent;t?delete e.userAgent:t=window.navigator.userAgent,t=t.toLowerCase();var n,i,r,a,o,s=/\sedge\//.test(t),c=!s&&/fxios/.test(t),u=!s&&!c&&/chrome|crios/.test(t),d=!s&&!c&&!u&&/safari/.test(t),h=c||!s&&!u&&!d&&/firefox/.test(t),f=!s&&!u&&!d&&!h&&/trident|msie/.test(t),p=s,m=!p&&/applewebkit/.test(t)&&!/edge/.test(t),g=!p&&!m&&/trident/.test(t),v=!p&&!m&&!g&&/gecko/.test(t);s?(n=t.match(/(?:edge).(\d+)\.(\d+)/),a=t.match(/(?:edge).(\d+)/)):(n=t.match(/(?:chrome|crios|version|firefox|fxios|msie|rv).(\d+)\.(\d+)/),a=t.match(/(?:applewebkit|gecko|trident).(\d+)/));var _=s||f;n&&(i=parseInt(n[1],10),r=parseInt(n[2],10)),a&&(o=parseInt(a[1])),this.__s._$tC$init.call(this,{isChrome:u,isSafari:d,isSafari12OrLower:d&&i<13,isFirefox:h,isEdge:s,isIE:f,isEdgeOrIE:_,isIE9OrLower:f&&i<10,isIE8OrLower:f&&i<9,majorVersion:i,minorVersion:r,isEdgeHTML:p,isWebKit:m,isGecko:v,isTrident:g,engineMajorVersion:o}),Object(l.a)(window,"online",this.updateNetworkConnectionStatus.bind(this)),Object(l.a)(window,"offline",this.updateNetworkConnectionStatus.bind(this)),this.updateNetworkConnectionStatus()},updateNetworkConnectionStatus:function(){this.isOffline=!window.navigator.onLine},isOffline:Object(s.b)(),isChrome:void 0,isFirefox:void 0,isEdge:void 0,isIE:void 0,isEdgeOrIE:void 0,isIE9OrLower:void 0,isIE8OrLower:void 0,isSafari:void 0,majorVersion:void 0,minorVersion:void 0,isEdgeHTML:void 0,isWebKit:void 0,isGecko:void 0,isTrident:void 0,engineMajorVersion:void 0,window:Object(s.b)({strong:!0,defaultValue:Object(a.b)(c)}),__superMap:{_$tC$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Browser"}})},function(e,t,n){var i=n(50),r=n(59),a=i.document,o=r(a)&&r(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,n){var i=n(50),r=n(102);e.exports=function(e,t){try{r(i,e,t)}catch(n){i[e]=t}return t}},function(e,t,n){var i=n(151),r=n(165),a=n(288),o=n(60);e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},function(e,t,n){e.exports=n(50)},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var i=n(89),r=n(152),a=n(71);e.exports=function(e){for(var t=i(this),n=a(t.length),o=arguments.length,s=r(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);c>s;)t[s++]=e;return t}},function(e,t,n){var i=n(68),r=n(217),a=i("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[a]===e)}},function(e,t,n){"use strict";var i=n(16),r=n(292),a=n(140),o=n(183),s=n(139),l=n(102),c=n(104),u=n(68),d=n(144),h=n(217),f=n(345),p=f.IteratorPrototype,m=f.BUGGY_SAFARI_ITERATORS,g=u("iterator"),v=function(){return this};e.exports=function(e,t,n,u,f,_,b){r(n,t,u);var y,S,I,w=function(e){if(e===f&&O)return O;if(!m&&e in A)return A[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},E=t+" Iterator",C=!1,A=e.prototype,T=A[g]||A["@@iterator"]||f&&A[f],O=!m&&T||w(f),D="Array"==t&&A.entries||T;if(D&&(y=a(D.call(new e)),p!==Object.prototype&&y.next&&(d||a(y)===p||(o?o(y,p):"function"!=typeof y[g]&&l(y,g,v)),s(y,E,!0,!0),d&&(h[E]=v))),"values"==f&&T&&"values"!==T.name&&(C=!0,O=function(){return T.call(this)}),d&&!b||A[g]===O||l(A,g,O),h[t]=O,f)if(S={values:w("values"),keys:_?O:w("keys"),entries:w("entries")},b)for(I in S)!m&&!C&&I in A||c(A,I,S[I]);else i({target:t,proto:!0,forced:m||C},S);return S}},function(e,t,n){"use strict";var i=n(345).IteratorPrototype,r=n(166),a=n(164),o=n(139),s=n(217),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=r(i,{next:a(1,n)}),o(e,c,!1,!0),s[c]=l,e}},function(e,t,n){var i=n(36);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var i=n(71),r=n(295),a=n(103),o=Math.ceil,s=function(e){return function(t,n,s){var l,c,u=String(a(t)),d=u.length,h=void 0===s?" ":String(s),f=i(n);return f<=d||""==h?u:(l=f-d,(c=r.call(h,o(l/h.length))).length>l&&(c=c.slice(0,l)),e?u+c:c+u)}};e.exports={start:s(!1),end:s(!0)}},function(e,t,n){"use strict";var i=n(129),r=n(103);e.exports="".repeat||function(e){var t=String(r(this)),n="",a=i(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},function(e,t,n){var i=n(59),r=n(183);e.exports=function(e,t,n){var a,o;return r&&"function"==typeof(a=t.constructor)&&a!==n&&i(o=a.prototype)&&o!==n.prototype&&r(e,o),e}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){var i,r,a,o=n(50),s=n(36),l=n(135),c=n(153),u=n(337),d=n(283),h=o.location,f=o.setImmediate,p=o.clearImmediate,m=o.process,g=o.MessageChannel,v=o.Dispatch,_=0,b={},y=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},S=function(e){return function(){y(e)}},I=function(e){y(e.data)},w=function(e){o.postMessage(e+"",h.protocol+"//"+h.host)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++_]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(_),_},p=function(e){delete b[e]},"process"==l(m)?i=function(e){m.nextTick(S(e))}:v&&v.now?i=function(e){v.now(S(e))}:g?(a=(r=new g).port2,r.port1.onmessage=I,i=c(a.postMessage,a,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(w)?i="onreadystatechange"in d("script")?function(e){u.appendChild(d("script")).onreadystatechange=function(){u.removeChild(this),y(e)}}:function(e){setTimeout(S(e),0)}:(i=w,o.addEventListener("message",I,!1))),e.exports={set:f,clear:p}},function(e,t,n){var i=n(151);e.exports=i("navigator","userAgent")||""},function(e,t,n){"use strict";var i=n(112),r=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},function(e,t,n){var i=n(59),r=n(135),a=n(68)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},function(e,t,n){var i=n(301);e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var i=n(68)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},function(e,t,n){var i=n(36),r=n(252);e.exports=function(e){return i((function(){return!!r[e]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[e]()||r[e].name!==e}))}},function(e,t,n){var i=n(50),r=n(36),a=n(246),o=n(67).NATIVE_ARRAY_BUFFER_VIEWS,s=i.ArrayBuffer,l=i.Int8Array;e.exports=!o||!r((function(){l(1)}))||!r((function(){new l(-1)}))||!a((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||r((function(){return 1!==new l(new s(2),1,void 0).length}))},function(e,t,n){"use strict";var i,r="object"===typeof Reflect?Reflect:null,a=r&&"function"===typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,n,i){var r,a,o,s;if("function"!==typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),(r=c(e))>0&&o.length>r&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,s=l,console&&console.warn&&console.warn(s)}return e}function d(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,a(this.listener,this.target,e))}function h(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=d.bind(i);return r.listener=n,i.wrapFn=r,r}function f(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"===typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):m(r,r.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=r[e];if(void 0===l)return!1;if("function"===typeof l)a(l,this,t);else{var c=l.length,u=m(l,c);for(n=0;n<c;++n)a(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,i,r,a,o;if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(r=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,r=a;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,a=Object.keys(n);for(i=0;i<a.length;++i)"removeListener"!==(r=a[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t,n){(t=e.exports=n(372)).Stream=t,t.Readable=t,t.Writable=n(308),t.Duplex=n(171),t.Transform=n(376),t.PassThrough=n(648)},function(e,t,n){"use strict";(function(t,i,r){var a=n(260);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;for(e.entry=null;i;){var r=i.callback;t.pendingcb--,r(void 0),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=_;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?i:a.nextTick;_.WritableState=v;var c=n(223);c.inherits=n(115);var u,d={deprecate:n(647)},h=n(373),f=n(130).Buffer,p=r.Uint8Array||function(){},m=n(374);function g(){}function v(e,t){s=s||n(171),e=e||{};var i=t instanceof s;this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,c=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(c||0===c)?c:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,r=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,r){--t.pendingcb,n?(a.nextTick(r,i),a.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(r(i),e._writableState.errorEmitted=!0,e.emit("error",i),E(e,t))}(e,n,i,t,r);else{var o=I(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||S(e,n),i?l(y,e,n,o,r):y(e,n,o,r)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function _(e){if(s=s||n(171),!u.call(_,this)&&!(this instanceof s))return new _(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),h.call(this)}function b(e,t,n,i,r,a,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(r,t.onwrite):e._write(r,a,t.onwrite),t.sync=!1}function y(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),E(e,t)}function S(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,r=new Array(i),a=t.corkedRequestsFree;a.entry=n;for(var s=0,l=!0;n;)r[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;r.allBuffers=l,b(e,t,!0,t.length,r,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,d=n.callback;if(b(e,t,!1,t.objectMode?1:c.length,c,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var n=I(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(w,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}c.inherits(_,h),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:d.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===_&&e&&e._writableState instanceof v}})):u=function(e){return e instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(e,t,n){var i,r=this._writableState,o=!1,s=!r.objectMode&&(i=e,f.isBuffer(i)||i instanceof p);return s&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"===typeof t&&(n=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!==typeof n&&(n=g),r.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),a.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var r=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),a.nextTick(i,o),r=!1),r}(this,r,e,n))&&(r.pendingcb++,o=function(e,t,n,i,r,a){if(!n){var o=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=f.from(t,n)),t}(t,i,r);i!==o&&(n=!0,r="buffer",i=o)}var s=t.objectMode?1:i.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:a,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,i,r,a);return l}(this,r,s,e,t,n)),o},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||S(this,e))},_.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(e,t,n){var i=this._writableState;"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,E(e,t),n&&(t.finished?a.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(259),n(645).setImmediate,n(87))},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(314),r=[];function a(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),r.length=0,Object(i.a)(r,e,t,n)}},function(e,t,n){"use strict";function i(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=n);var r=t.length;e.length=r+n-i;for(var a=i,o=n;a<r;a++,o++)e[o]=t[a];return e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t,n){return Array.prototype.slice.call(e,0|t,n)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d}));var i=/[&<>]/g,r=/[&<>'"]|((((j|v[^\w ]*b|l[^\w ]*i[^\w ]*v[^\w ]*e).*)?)+(?:[^\w ]*\w)+[^\w ]*s[^\w ]*c[^\w ]*r[^\w ]*i[^\w ]*p[^\w ]*t[^\w ]*:)/gi,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},o=/[-/\\^$*+?.()|[\]{}]/g;function s(e){return a[e]||""}function l(e,t,n){if(!e)return"";if("string"!==typeof e)try{e=e.toString()}catch(i){return""}return e.replace(t,n)}function c(e){return l(e,i,s)}function u(e){return l(e,r,s)}function d(e){return l(e,o,"\\$&")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(86),r=n(109),a={mixinDependencies:[i.a],gestureRecognizerShouldBegin:function(e){return!0},gestureRecognizerShouldReceive:function(e,t){return t.pointerType!==r.b.MOUSE||0===t.button},gestureRecognizerShouldRecognizeSimultaneouslyWith:function(e,t){return!1},gestureRecognizerShouldRequireFailureOf:function(e,t){return!1},gestureRecognizerShouldBeRequiredToFailBy:function(e,t){return!1}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(83),r=n(269),a=n(24),o=n(84),s=n(38),l=n(15),c=n(133),u=n(275),d=n(128),h=i.a.extend(r.a,s.a,{timeToKeepKeySequence:1e3,activeKeySequence:Object(a.c)({readOnly:!0,get:function(){return this._keySequence||(this._keySequence=u.a.create())}}),activeKeys:Object(l.b)({readOnly:!0,defaultValue:function(){return u.a.create()}}),_activeKeyLocations:Object(o.b)(Object),keyDown:function(e){this._timer&&(clearTimeout(this._timer),delete this._timer);var t=this.activeKeySequence,n=e.which;t.addKey(n);var i=this._activeKeyLocations,r=this.activeKeys.contains(n),a=1<<e.location;i[n]|=a,r||(this.activeKeys.addKey(n),this.propertyChanged("activeKeys")),this.syncMetaKeyStateFromEvent(e)},keyUp:function(e){var t=this._keySequence;if(t){this._timer&&clearTimeout(this._timer),this._timer=Object(c.a)((function(){t.clear()}),this.timeToKeepKeySequence);var n=e.which,i=this._activeKeyLocations,r=~(1<<e.location);(i[n]&=r)||(this.activeKeys.removeKey(n),this.propertyChanged("activeKeys"))}},syncMetaKeyStateFromEvent:function(e){var t=d.a.SHIFT,n=d.a.CMD,i=d.a.OPTION,r=d.a.CTRL,a=this.activeKeys,o=this.activeKeySequence,s=e.shiftKey,l=e.metaKey,c=e.altKey,u=e.ctrlKey,h=1<<e.location;!1===s&&(a.has(t)||o.has(t))&&this.keyUp({which:t,location:h}),!1===l&&(a.has(n)||o.has(n))&&this.keyUp({which:n,location:h}),!1===c&&(a.has(i)||o.has(i))&&this.keyUp({which:i,location:h}),!1===u&&(a.has(r)||o.has(r))&&this.keyUp({which:r,location:h})},staticMembers:{__QUALIFIED_CLASS_NAME__:"KeyManager"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n(83),r=n(269),a=n(24),o=n(84),s=n(237),l=n(142),c=n(160),u=n(38),d=n(15),h=n(282),f=n(402);function p(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}var m=[{name:"dppx",multiple:1},{name:"dpi",multiple:window.screen.logicalXDPI||96}],g="",v=NaN,_=!1;!function(){if(window.matchMedia)for(var e,t,n=0;e=m[n];n++){var i="(min-resolution: 1"+(t=e.name)+")",r=window.matchMedia(i),a=r?r.media:null;if(a&&-1!==a.indexOf("min-resolution"))return _=!0,g=t,void(v=e.multiple)}}();var b=i.a.extend(u.a,r.a,{isMac:void 0,isWindows:void 0,isiOS:void 0,osMajorVersion:void 0,osMinorVersion:void 0,isiPhone:void 0,isiPad:void 0,isDesktopClassTablet:void 0,isiPhoneLikeDevice:void 0,isiPadLikeDevice:void 0,devicePixelRatio:Object(d.b)({get:function(){return this._devicePixelRatio||(this._devicePixelRatio=this._getDevicePixelRatio())},readOnly:!0,didChange:function(e){this.roundToDevicePixelRatio=this._roundToDevicePixel(e),this.floorToDevicePixelRatio=this._floorToDevicePixel(e),this.ceilToDevicePixelRatio=this._ceilToDevicePixel(e)}}),roundToDevicePixelRatio:s.a,_roundToDevicePixel:function(e){return function(t){return Math.round(t*e)/e}},floorToDevicePixelRatio:s.a,_floorToDevicePixel:function(e){return function(t){return Math.floor(t*e)/e}},ceilToDevicePixelRatio:s.a,_ceilToDevicePixel:function(e){return function(t){return Math.ceil(t*e)/e}},_getDevicePixelRatio:function(){var e=this.stubWindow;return e.devicePixelRatio||e.screen.deviceXDPI/e.screen.logicalXDPI||1},_devicePixelRatio:NaN,isRetina:void 0,hardwareConcurrency:Object(a.c)({readOnly:!0,defaultValue:function(){return navigator.hardwareConcurrency||void 0}}),canvasSupportsImageSmoothingQuality:Object(a.c)({readOnly:!0,defaultValue:function(){if(this._canvasSupportsImageSmoothingQuality)return this._canvasSupportsImageSmoothingQuality;void 0!=document.createElement("canvas").getContext("2d").imageSmoothingQuality?this._canvasSupportsImageSmoothingQuality=!0:this._canvasSupportsImageSmoothingQuality=!1}}),pointer:Object(d.b)("none"),init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.window,n=void 0===t?window:t,i=e.navigator,r=void 0===i?navigator:i,a=e.document,o=(void 0===a&&document,e.userAgent),s=void 0===o?r.userAgent:o,c=e.eventCapabilities,u=void 0===c?f.b:c,d=p(e,["window","navigator","document","userAgent","eventCapabilities"]),h=this;this.stubWindow=n,h.__s._$39K$init.call(h,d);var m,g,v,_,b,y=s.toLowerCase(),S=!!/mac/.test(y)&&!/like mac/.test(y),I=S&&u.isTouchSupported,w=S&&!I,E=!!/windows/.test(y),C=y.match(/\b(iPad|iPhone|iPod)\b.*\bOS (\d+)_(\d+)/i);if(this.isMac=w,this.isWindows=E,I)m=!1,g=v=!0;else if(C){var A=C[1];g="ipad"===A,v=(m="iphone"===A||"ipod"===A)||g}else m=g=v=!1;if(this.isiPhone=m,this.isiPhoneLikeDevice=m,this.isiPad=g,this.isDesktopClassTablet=I,this.isiPadLikeDevice=g,this.isiOS=v,I)_="13",b="0";else if(w){var T=y.match(/mac os x (\d+)[ _.](\d+)/);T&&(_=T[1],b=T[2])}else if(E){var O=y.match(/windows[ a-z]+?(\d+)[ _.](\d+)/);O&&(_=O[1],b=O[2])}else v&&(_=C[2],b=C[3]);_&&(this.osMajorVersion=parseInt(_,10)),b&&(this.osMinorVersion=parseInt(b,10)),this.isRetina=n.devicePixelRatio>1,this._updateDevicePixelRatio(),Object(l.a)(n,"resize",this._updateDevicePixelRatio.bind(this),!1),this._listenForPointerChange()},_updateDevicePixelRatio:function(){if(h.a.getPath("sharedInstance.isFirefox")){var e=this._forceWindowResizeNotificationCanvas;e||((e=this._forceWindowResizeNotificationCanvas=document.createElement("canvas")).width=1,e.height=1,this._forceWindowResizeNotificationCanvasContext=e.getContext("2d"),e.classList.add("ff-force-window-resize-notification"),e.style.position="fixed",e.style.left="-1000px",e.style.top="-1000px",document.body.appendChild(e));try{this._forceWindowResizeNotificationCanvasContext.measureText("Blah")}catch(n){}}var t=this._getDevicePixelRatio();t!==this._devicePixelRatio&&(this._devicePixelRatio=t,this._detectChangeAwayFromDPR(t),this.propertyChanged("devicePixelRatio"))},_detectChangeAwayFromDPR:function(e){var t=this.stubWindow;if(t.matchMedia){var n,i=.001*Math.round(e/.001),r=i+.001,a=i-.001,o=Object(c.a)(this._updateDevicePixelRatio.bind(this)),s=this._dprQueryListCache||(this._dprQueryListCache={}),l=this._activeMediaQueryListPair,u=s[i];u||(u=s[i]={},n="(-webkit-min-device-pixel-ratio: "+a+"), (min--moz-device-pixel-ratio: "+a+")"+(_?", (min-resolution: "+a*v+g+")":""),u.lowerBound=t.matchMedia(n),n="(-webkit-max-device-pixel-ratio: "+r+"), (max--moz-device-pixel-ratio: "+r+")"+(_?", (max-resolution: "+r*v+g+")":""),u.upperBound=t.matchMedia(n)),u!==l&&(l&&(l.lowerBound.removeListener(o),l.upperBound.removeListener(o)),u.lowerBound.addListener(o),u.upperBound.addListener(o),this._activeMediaQueryListPair=u)}},_listenForPointerChange:function(){this.stubWindow.matchMedia&&(this._listenForPointerQuality("none"),this._listenForPointerQuality("coarse"),this._listenForPointerQuality("fine"))},_listenForPointerQuality:function(e){var t=this,n=this.stubWindow.matchMedia("(pointer: "+e+")"),i=function(n){n.matches&&(t.pointer=e)};n.addListener(i),this._pointerQueries.push([n,i]),i(n)},_pointerQueries:Object(o.b)(Array),_dprQueryListCache:null,_resMultiple:v,cleanup:function(){this.__s._$5sh$cleanup.call(this),this._pointerQueries.forEach((function(e){var t=e[0],n=e[1];return t.removeListener(n)}))},__superMap:{_$39K$init:"init",_$5sh$cleanup:"cleanup"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Device"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(101),r=n(54),a=n(86).b.extend({metadataType:null,validate:function(e,t){if(!e.hasMixin||!e.hasMixin(r.b))return!1;var n=e.getMetadata(t);return Object(i.a)(n,this.metadataType)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RequiredMetadata"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(138);function r(e,t,n){if(!e)return p;t||null===t||!1===t||(t=a);var o=t||n?Object(i.a)(t)+f+e+f+!!n:e,v=m[o];if(v)return v;if(Array.isArray(t))return m[o]=function(e,t,n){var a=function(e){var t=Object(i.a)(e),n=g[t];if(n)return n;var r=e.map((function(e){return"i"===e[0]&&c(e[1])?"I"+e.substring(1):null})).filter(Boolean);return e=e.concat(r),g[t]=new RegExp(e.join("|"),"g")}(t),o=e.match(a);if(!o||!o.length)return r(e,null,n);for(var s=e.split(a),l=r(s[0]),d=0,f=o.length;d<f;d++){var p=o[d];n||(p=p.toLowerCase());var m=s[d+1];m&&(m=r(m,null,n)),l+=(l&&h)+p,m&&(l+=(u(m[0])?h:"")+m)}return l}(e,t,n);var _,b,y,S,I,w=e.length,E="";for(_=0;_<w;_++)b=e[_-1],S=(y=e[_]).toLowerCase(),I=e[_+1],b&&d(y)&&d(b)&&(!c(b)&&c(y)||s(b)&&u(y)||I&&c(b)&&c(y)&&l(I))?E+=h+S:E+=S;return m[o]=E}var a=["iOS","iPhone","iPad","iPod","WebKit"];function o(e,t){var n=e.charCodeAt(0),i=t.charCodeAt(0),r={};return function(e){var t=r[e];if(void 0!==t)return t;var a=e.charCodeAt(0);return r[e]=a>=n&&a<=i}}var s=o("0","9"),l=o("a","z"),c=o("A","Z"),u=function(e){return l(e)||c(e)},d=function(e){return u(e)||s(e)},h="-",f="#",p="",m={},g={}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(388),r=n(86),a=n(52),o=n(91),s=n(54),l=n(24),c={done:!1,value:null},u={mixinDependencies:[r.a,i.a],next:function(){return c.value=this.value,c.done=!this.isValid,this.moveToNext(),c},moveToNext:Object(s.c)(a.a),isValid:Object(s.c)(o.a),value:Object(l.c)({get:function(){return this.source.decode(this.encodedValue)},set:function(e){return this.encodedValue=this.source.encode(e),e}}),encodedValue:Object(s.c)(o.a),source:Object(l.c)()};u[Symbol.iterator]=function(){return this}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(322),r=n(52),a=n(91),o=n(54),s={mixinDependencies:[i.a],value:Object(o.c)(a.a),remove:Object(o.c)(r.a),add:Object(o.c)(r.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(201),r=Object(i.b)("ArrayChangeOperation",(function(e){e("INSERT"),e("REMOVE")}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(320),r=n(38),a=i.a.extend({metadataType:r.d,staticMembers:{__QUALIFIED_CLASS_NAME__:"RequiredSignal"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(17),r=n(162).a.extend({action:function(e){e.rootElement||Object(i.b)("Must provide a `rootElement`")},staticMembers:{__QUALIFIED_CLASS_NAME__:"RootElementInitializer"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(132),r=n(17),a=n(206),o=n(83),s=n(717),l=n(269),c=o.a.extend(l.a,s.a,{contentType:"application/json",encode:function(e){if(!Object(i.a)(e))try{e=JSON.stringify(e)}catch(t){Object(r.b)("Could not encode object to JSON.",{object:e,error:t})}return e},decode:function(e){if(Object(i.a)(e))try{e=JSON.parse(e)}catch(t){a.b.warn("Could not decode string as JSON",e),e=null}return e},staticMembers:{__QUALIFIED_CLASS_NAME__:"JSONSerializer"}})},function(e,t,n){"use strict";n(0),n.d(t,"a",(function(){return p}));var i=n(394),r=n(84),a=n(272),o=n(276),s=n(128),l=n(409),c=n(15),u=n(38),d=n(133),h=n(723),f=n(724),p={mixinDependencies:[h.a,a.a,l.a,f.a,o.a],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isPointerFocused",truevalue:"cw-is-pointer-focused",falsevalue:"",attributes:{}}],attributes:{"aria-haspopup":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaHasPopup",attributes:{},attribute:"aria-haspopup"},"aria-owns":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaOwns",attributes:{},attribute:"aria-owns"}}}}},isPointerActivationDisabled:Object(c.b)({readOnly:!0,binding:"isDisabled"}),isPointerFocused:Object(c.b)({type:Boolean,readOnly:!0,dependencies:["isFocused","_mayBePointerFocused"],get:Object.assign((function(){return this._mayBePointerFocused&&this.isFocused}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[1+n])&&i.internalGet(this,t[0+n])}})}),_mayBePointerFocused:Object(c.b)({type:Boolean,defaultValue:!1}),action:Object(c.b)({type:"string",defaultValue:"wasActivated"}),context:Object(c.b)({defaultValue:i.a}),contextKeys:Object(r.b)(["context"]),keyEquivalent:Object(c.b)({didChange:function(e){e&&this.sendEvent("registerKeyEquivalent",this)}}),isAttachedDidChange:Object(u.f)("isAttached",(function(e){e&&this.keyEquivalent&&this.sendEvent("registerKeyEquivalent",this)})),performKeyEquivalent:function(e){var t=this.keyEquivalent,n=e.keyCode,i=n===t;return(i=i||t.some&&t.some((function(e){return e===n})))&&this.triggerButtonAction()},pointerDown:function(e){var t=this,n=arguments,i=t.__s._$31g$pointerDown.apply(t,n);return e.preventDefault(),!this.isDisabled&&this.isFocusable&&(this._mayBePointerFocused=!0),i},keyUp:function(e){e.which!==s.a.SPACE||this.isDisabled||this.triggerButtonAction()},didBlur:function(){var e=this,t=arguments;this._mayBePointerFocused=!1,e.__s._$3Cp$didBlur.apply(e,t)},pointerActivate:function(e){var t=this,n=arguments;t.__s._$3GX$pointerActivate.apply(t,n),this.triggerButtonAction()},delayAction:!1,triggerButtonAction:function(){return!this.isDisabled&&(this.sendEvent("buttonWillActivate",this),this.delayAction?Object(d.a)(this._actuallyTriggerButtonAction.bind(this),0):this._actuallyTriggerButtonAction(),!0)},_actuallyTriggerButtonAction:function(){if(this.target)this.callAction();else{for(var e=[this.action],t=this.contextKeys,n=0,i=t.length;n<i;n++)e.push(this[t[n]]);this.sendEvent.apply(this,e)}this.sendEvent("buttonDidActivate",this)},ariaRole:"button",ariaHasPopup:Object(c.b)(),ariaOwns:Object(c.b)(),__superMap:{_$31g$pointerDown:"pointerDown",_$3Cp$didBlur:"didBlur",_$3GX$pointerActivate:"pointerActivate"}}},function(e,t,n){"use strict";n(1),n(0),n(2),n(4);var i=n(271),r=n(743),a=n(241),o=n(35),s=n(15),l=n(406),c=n(731),u={show:function(){return this.isAttached?l.a.resolve():this.paneManager.presentViewController(this)},hide:function(){return this.isAttached?this.paneManager.dismissViewController(this):l.a.resolve()},toggle:function(){return this.isAttached?this.hide.apply(this,arguments):this.show.apply(this,arguments)},paneManager:Object(s.b)({readOnly:!0,binding:c.a.bindingFor("application")}),isActivePane:Object(s.b)({readOnly:!0,dependencies:["paneManager.activePane"],get:Object.assign((function(){return this===this.getPath("paneManager.activePane")}),{__CW__getter:function(e,t,n,i){return this===i.internalGetPath(this,t[0+n])}})}),keyDown:function(e){var t=this._keyEquivalentViews;if(!t)return!1;for(var n=t.length;n--;){var i=t[n];!i.isDisposed&&i.isAttached&&i.keyEquivalent||t.splice(n,1)}return t.some((function(t){return t&&t.performKeyEquivalent&&t.performKeyEquivalent(e)}))},registerKeyEquivalent:function(e){var t=this._keyEquivalentViews||(this._keyEquivalentViews=[]);-1===t.indexOf(e)&&t.push(e)}},d=n(54),h=n(181).a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"contentView"}]}},className:"cw-ui-popup-view",__QUALIFIED_CLASS_NAME__:"PopupView"}});n.d(t,"a",(function(){return f}));var f=i.a.extend(u,{_appendedContentController:Object(d.c)(r.a,"contentView"),show:function(){var e=this,t=arguments;return this._appendedContentController=this.contentController,e.__s._$16d$show.apply(e,t)},hide:function(){var e=this,t=arguments;return this._appendedContentController=null,e.__s._$19K$hide.apply(e,t)},contentController:Object(s.b)({strong:!0}),viewClass:h,owningViewController:Object(s.b)(),wheel:function(e){e.stopPropagation()},willAttach:function(){var e=this,t=arguments,n=this.getPath("view.element");if(n){var i=Object(a.a)(n);return this._originalVisibility=i.get("visibility"),i.set("visibility","hidden"),e.__s._$1Uc$willAttach.apply(e,t)}},didAttach:function(){var e=this,t=arguments;this.willAppear();var n=this.getPath("view.element");if(n)return Object(a.a)(n,{visibility:this._originalVisibility}),this._originalVisibility=null,this.didAppear(),e.__s._$1c5$didAttach.apply(e,t)},willAppear:o.a,didAppear:o.a,_originalVisibility:null,__superMap:{_$16d$show:"show",_$19K$hide:"hide",_$1Uc$willAttach:"willAttach",_$1c5$didAttach:"didAttach"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PopupViewController"}})},function(e,t,n){var i=n(79),r=n(36),a=n(283);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var i=n(209);e.exports=i("native-function-to-string",Function.toString)},function(e,t,n){var i=n(50),r=n(331),a=i.WeakMap;e.exports="function"===typeof a&&/native code/.test(r.call(a))},function(e,t,n){var i=n(94),r=n(285),a=n(110),o=n(88);e.exports=function(e,t){for(var n=r(t),s=o.f,l=a.f,c=0;c<n.length;c++){var u=n[c];i(e,u)||s(e,u,l(t,u))}}},function(e,t,n){var i=n(94),r=n(117),a=n(212).indexOf,o=n(211);e.exports=function(e,t){var n,s=r(e),l=0,c=[];for(n in s)!i(o,n)&&i(s,n)&&c.push(n);for(;t.length>l;)i(s,n=t[l++])&&(~a(c,n)||c.push(n));return c}},function(e,t,n){var i=n(36);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},function(e,t,n){var i=n(79),r=n(88),a=n(60),o=n(214);e.exports=i?Object.defineProperties:function(e,t){a(e);for(var n,i=o(t),s=i.length,l=0;s>l;)r.f(e,n=i[l++],t[n]);return e}},function(e,t,n){var i=n(151);e.exports=i("document","documentElement")},function(e,t,n){var i=n(117),r=n(165).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return r(e)}catch(t){return o.slice()}}(e):r(i(e))}},function(e,t,n){t.f=n(68)},function(e,t,n){"use strict";var i=n(89),r=n(152),a=n(71),o=Math.min;e.exports=[].copyWithin||function(e,t){var n=i(this),s=a(n.length),l=r(e,s),c=r(t,s),u=arguments.length>2?arguments[2]:void 0,d=o((void 0===u?s:r(u,s))-c,s-l),h=1;for(c<l&&l<c+d&&(h=-1,c+=d-1,l+=d-1);d-- >0;)c in n?n[l]=n[c]:delete n[l],l+=h,c+=h;return n}},function(e,t,n){"use strict";var i=n(182),r=n(71),a=n(153),o=function(e,t,n,s,l,c,u,d){for(var h,f=l,p=0,m=!!u&&a(u,d,3);p<s;){if(p in n){if(h=m?m(n[p],p,t):n[p],c>0&&i(h))f=o(e,t,h,r(h.length),f,c-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[f]=h}f++}p++}return f};e.exports=o},function(e,t,n){"use strict";var i=n(100).forEach,r=n(145);e.exports=r("forEach")?function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(e,t,n){"use strict";var i=n(153),r=n(89),a=n(344),o=n(290),s=n(71),l=n(167),c=n(218);e.exports=function(e){var t,n,u,d,h=r(e),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,_=c(h);if(g&&(m=i(m,p>2?arguments[2]:void 0,2)),void 0==_||f==Array&&o(_))for(n=new f(t=s(h.length));t>v;v++)l(n,v,g?m(h[v],v):h[v]);else for(d=_.call(h),n=new f;!(u=d.next()).done;v++)l(n,v,g?a(d,m,[u.value,v],!0):u.value);return n.length=v,n}},function(e,t,n){var i=n(60);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(o){var a=e.return;throw void 0!==a&&i(a.call(e)),o}}},function(e,t,n){"use strict";var i,r,a,o=n(140),s=n(102),l=n(94),c=n(68),u=n(144),d=c("iterator"),h=!1;[].keys&&("next"in(a=[].keys())?(r=o(o(a)))!==Object.prototype&&(i=r):h=!0),void 0==i&&(i={}),u||l(i,d)||s(i,d,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:h}},function(e,t,n){var i=n(59);e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){"use strict";var i=n(117),r=n(129),a=n(71),o=n(145),s=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,u=o("lastIndexOf");e.exports=c||u?function(e){if(c)return l.apply(this,arguments)||0;var t=i(this),n=a(t.length),o=n-1;for(arguments.length>1&&(o=s(o,r(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:l},function(e,t,n){var i=n(129),r=n(71);e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=r(t);if(t!==n)throw RangeError("Wrong length or index");return n}},function(e,t,n){"use strict";var i=n(88).f,r=n(166),a=n(185),o=n(153),s=n(155),l=n(186),c=n(291),u=n(184),d=n(79),h=n(168).fastKey,f=n(118),p=f.set,m=f.getterFor;e.exports={getConstructor:function(e,t,n,c){var u=e((function(e,i){s(e,u,t),p(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),d||(e.size=0),void 0!=i&&l(i,e[c],e,n)})),f=m(t),g=function(e,t,n){var i,r,a=f(e),o=v(e,t);return o?o.value=n:(a.last=o={index:r=h(t,!0),key:t,value:n,previous:i=a.last,next:void 0,removed:!1},a.first||(a.first=o),i&&(i.next=o),d?a.size++:e.size++,"F"!==r&&(a.index[r]=o)),e},v=function(e,t){var n,i=f(e),r=h(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return a(u.prototype,{clear:function(){for(var e=f(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=f(this),n=v(this,e);if(n){var i=n.next,r=n.previous;delete t.index[n.index],n.removed=!0,r&&(r.next=i),i&&(i.previous=r),t.first==n&&(t.first=i),t.last==n&&(t.last=r),d?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=f(this),i=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),a(u.prototype,n?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),d&&i(u.prototype,"size",{get:function(){return f(this).size}}),u},setStrong:function(e,t,n){var i=t+" Iterator",r=m(t),a=m(i);c(e,t,(function(e,t){p(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(t)}}},function(e,t){var n=Math.log;e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:n(1+e)}},function(e,t,n){var i=n(59),r=Math.floor;e.exports=function(e){return!i(e)&&isFinite(e)&&r(e)===e}},function(e,t,n){var i=n(50),r=n(187).trim,a=n(252),o=i.parseFloat,s=1/o(a+"-0")!==-1/0;e.exports=s?function(e){var t=r(String(e)),n=o(t);return 0===n&&"-"==t.charAt(0)?-0:n}:o},function(e,t,n){var i=n(50),r=n(187).trim,a=n(252),o=i.parseInt,s=/^[+-]?0[Xx]/,l=8!==o(a+"08")||22!==o(a+"0x16");e.exports=l?function(e,t){var n=r(String(e));return o(n,t>>>0||(s.test(n)?16:10))}:o},function(e,t,n){var i=n(135);e.exports=function(e){if("number"!=typeof e&&"Number"!=i(e))throw TypeError("Incorrect invocation");return+e}},function(e,t,n){"use strict";var i=n(79),r=n(36),a=n(214),o=n(288),s=n(244),l=n(89),c=n(208),u=Object.assign;e.exports=!u||r((function(){var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||"abcdefghijklmnopqrst"!=a(u({},t)).join("")}))?function(e,t){for(var n=l(e),r=arguments.length,u=1,d=o.f,h=s.f;r>u;)for(var f,p=c(arguments[u++]),m=d?a(p).concat(d(p)):a(p),g=m.length,v=0;g>v;)f=m[v++],i&&!h.call(p,f)||(n[f]=p[f]);return n}:u},function(e,t,n){var i=n(79),r=n(214),a=n(117),o=n(244).f,s=function(e){return function(t){for(var n,s=a(t),l=r(s),c=l.length,u=0,d=[];c>u;)n=l[u++],i&&!o.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}};e.exports={entries:s(!0),values:s(!1)}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},function(e,t,n){var i=n(50);e.exports=i.Promise},function(e,t,n){var i,r,a,o,s,l,c,u,d=n(50),h=n(110).f,f=n(135),p=n(298).set,m=n(299),g=d.MutationObserver||d.WebKitMutationObserver,v=d.process,_=d.Promise,b="process"==f(v),y=h(d,"queueMicrotask"),S=y&&y.value;S||(i=function(){var e,t;for(b&&(e=v.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(n){throw r?o():a=void 0,n}}a=void 0,e&&e.enter()},b?o=function(){v.nextTick(i)}:g&&!/(iphone|ipod|ipad).*applewebkit/i.test(m)?(s=!0,l=document.createTextNode(""),new g(i).observe(l,{characterData:!0}),o=function(){l.data=s=!s}):_&&_.resolve?(c=_.resolve(void 0),u=c.then,o=function(){u.call(c,i)}):o=function(){p.call(d,i)}),e.exports=S||function(e){var t={fn:e,next:void 0};a&&(a.next=t),r||(r=t,o()),a=t}},function(e,t,n){var i=n(60),r=n(59),a=n(300);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},function(e,t,n){"use strict";var i=n(255).charAt,r=n(118),a=n(291),o=r.set,s=r.getterFor("String Iterator");a(String,"String",(function(e){o(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=i(n,r),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){var i=n(299);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i)},function(e,t,n){var i=n(129);e.exports=function(e,t){var n=i(e);if(n<0||n%t)throw RangeError("Wrong offset");return n}},function(e,t,n){var i=n(89),r=n(71),a=n(218),o=n(290),s=n(153),l=n(67).aTypedArrayConstructor;e.exports=function(e){var t,n,c,u,d,h=i(e),f=arguments.length,p=f>1?arguments[1]:void 0,m=void 0!==p,g=a(h);if(void 0!=g&&!o(g))for(d=g.call(h),h=[];!(u=d.next()).done;)h.push(u.value);for(m&&f>2&&(p=s(p,arguments[2],2)),n=r(h.length),c=new(l(this))(n),t=0;n>t;t++)c[t]=m?p(h[t],t):h[t];return c}},function(e,t,n){"use strict";var i=n(185),r=n(168).getWeakData,a=n(60),o=n(59),s=n(155),l=n(186),c=n(100),u=n(94),d=n(118),h=d.set,f=d.getterFor,p=c.find,m=c.findIndex,g=0,v=function(e){return e.frozen||(e.frozen=new _)},_=function(){this.entries=[]},b=function(e,t){return p(e.entries,(function(e){return e[0]===t}))};_.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var n=b(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=m(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,c){var d=e((function(e,i){s(e,d,t),h(e,{type:t,id:g++,frozen:void 0}),void 0!=i&&l(i,e[c],e,n)})),p=f(t),m=function(e,t,n){var i=p(e),o=r(a(t),!0);return!0===o?v(i).set(t,n):o[i.id]=n,e};return i(d.prototype,{delete:function(e){var t=p(this);if(!o(e))return!1;var n=r(e);return!0===n?v(t).delete(e):n&&u(n,t.id)&&delete n[t.id]},has:function(e){var t=p(this);if(!o(e))return!1;var n=r(e);return!0===n?v(t).has(e):n&&u(n,t.id)}}),i(d.prototype,n?{get:function(e){var t=p(this);if(o(e)){var n=r(e);return!0===n?v(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return m(this,e,t)}}:{add:function(e){return m(this,e,!0)}}),d}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var i=n(36),r=n(68),a=n(144),o=r("iterator");e.exports=!i((function(){var e=new URL("b?e=1","http://a"),t=e.searchParams;return e.pathname="c%20d",a&&!e.toJSON||!t.sort||"http://a/c%20d?e=1"!==e.href||"1"!==t.get("e")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash}))},function(e,t,n){"use strict";n(247);var i=n(16),r=n(368),a=n(104),o=n(185),s=n(139),l=n(292),c=n(118),u=n(155),d=n(94),h=n(153),f=n(60),p=n(59),m=n(635),g=n(218),v=n(68)("iterator"),_=c.set,b=c.getterFor("URLSearchParams"),y=c.getterFor("URLSearchParamsIterator"),S=/\+/g,I=Array(4),w=function(e){return I[e-1]||(I[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},E=function(e){try{return decodeURIComponent(e)}catch(t){return e}},C=function(e){var t=e.replace(S," "),n=4;try{return decodeURIComponent(t)}catch(i){for(;n;)t=t.replace(w(n--),E);return t}},A=/[!'()~]|%20/g,T={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},O=function(e){return T[e]},D=function(e){return encodeURIComponent(e).replace(A,O)},M=function(e,t){if(t)for(var n,i,r=t.split("&"),a=0;a<r.length;)(n=r[a++]).length&&(i=n.split("="),e.push({key:C(i.shift()),value:C(i.join("="))}))},N=function(e){this.entries.length=0,M(this.entries,e)},F=function(e,t){if(e<t)throw TypeError("Not enough arguments")},L=l((function(e,t){_(this,{type:"URLSearchParamsIterator",iterator:m(b(e).entries),kind:t})}),"Iterator",(function(){var e=y(this),t=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),n})),R=function(){u(this,R,"URLSearchParams");var e,t,n,i,r,a,o,s=arguments.length>0?arguments[0]:void 0,l=this,c=[];if(_(l,{type:"URLSearchParams",entries:c,updateURL:function(){},updateSearchParams:N}),void 0!==s)if(p(s))if("function"===typeof(e=g(s)))for(t=e.call(s);!(n=t.next()).done;){if((r=(i=m(f(n.value))).next()).done||(a=i.next()).done||!i.next().done)throw TypeError("Expected sequence with length 2");c.push({key:r.value+"",value:a.value+""})}else for(o in s)d(s,o)&&c.push({key:o,value:s[o]+""});else M(c,"string"===typeof s?"?"===s.charAt(0)?s.slice(1):s:s+"")},x=R.prototype;o(x,{append:function(e,t){F(arguments.length,2);var n=b(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){F(arguments.length,1);for(var t=b(this),n=t.entries,i=e+"",r=0;r<n.length;)n[r].key===i?n.splice(r,1):r++;t.updateURL()},get:function(e){F(arguments.length,1);for(var t=b(this).entries,n=e+"",i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){F(arguments.length,1);for(var t=b(this).entries,n=e+"",i=[],r=0;r<t.length;r++)t[r].key===n&&i.push(t[r].value);return i},has:function(e){F(arguments.length,1);for(var t=b(this).entries,n=e+"",i=0;i<t.length;)if(t[i++].key===n)return!0;return!1},set:function(e,t){F(arguments.length,1);for(var n,i=b(this),r=i.entries,a=!1,o=e+"",s=t+"",l=0;l<r.length;l++)(n=r[l]).key===o&&(a?r.splice(l--,1):(a=!0,n.value=s));a||r.push({key:o,value:s}),i.updateURL()},sort:function(){var e,t,n,i=b(this),r=i.entries,a=r.slice();for(r.length=0,n=0;n<a.length;n++){for(e=a[n],t=0;t<n;t++)if(r[t].key>e.key){r.splice(t,0,e);break}t===n&&r.push(e)}i.updateURL()},forEach:function(e){for(var t,n=b(this).entries,i=h(e,arguments.length>1?arguments[1]:void 0,3),r=0;r<n.length;)i((t=n[r++]).value,t.key,this)},keys:function(){return new L(this,"keys")},values:function(){return new L(this,"values")},entries:function(){return new L(this,"entries")}},{enumerable:!0}),a(x,v,x.entries),a(x,"toString",(function(){for(var e,t=b(this).entries,n=[],i=0;i<t.length;)e=t[i++],n.push(D(e.key)+"="+D(e.value));return n.join("&")}),{enumerable:!0}),s(R,"URLSearchParams"),i({global:!0,forced:!r},{URLSearchParams:R}),e.exports={URLSearchParams:R,getState:b}},function(e,t,n){"use strict";(function(e){var i=n(639),r=n(640),a=n(371);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,i){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t),e}(e,t,n,i):"string"===typeof t?function(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(t,n),r=(e=s(e,i)).write(t,n);return r!==i&&(e=e.slice(0,r)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(i=t.length)!==i?s(e,0):h(e,t);if("Buffer"===t.type&&a(t.data))return h(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(i)return j(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function v(e,t,n,i,r){if(0===e.length)return-1;if("string"===typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"===typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:_(e,t,n,i,r);if("number"===typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,i,r){var a,o=1,s=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var u=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){for(var d=!0,h=0;h<l;h++)if(c(e,a+h)!==c(t,h)){d=!1;break}if(d)return a}return-1}function b(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");i>a/2&&(i=a/2);for(var o=0;o<i;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function y(e,t,n,i){return V(j(t,e.length-n),e,n,i)}function S(e,t,n,i){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function I(e,t,n,i){return S(e,t,n,i)}function w(e,t,n,i){return V(B(t),e,n,i)}function E(e,t,n,i){return V(function(e,t){for(var n,i,r,a=[],o=0;o<e.length&&!((t-=2)<0);++o)i=(n=e.charCodeAt(o))>>8,r=n%256,a.push(r),a.push(i);return a}(t,e.length-n),e,n,i)}function C(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var a,o,s,l,c=e[r],u=null,d=c>239?4:c>223?3:c>191?2:1;if(r+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128===(192&(a=e[r+1]))&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=e[r+1],o=e[r+2],128===(192&a)&&128===(192&o)&&(l=(15&c)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=e[r+1],o=e[r+2],s=e[r+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(i)}function T(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function O(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function D(e,t,n){var i,r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var a="",o=t;o<n;++o)a+=(i=e[o])<16?"0"+i.toString(16):i.toString(16);return a}function M(e,t,n){for(var i=e.slice(t,n),r="",a=0;a<i.length;a+=2)r+=String.fromCharCode(i[a]+256*i[a+1]);return r}function N(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,n,i,r,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function L(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,a=Math.min(e.length-n,2);r<a;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function R(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,a=Math.min(e.length-n,4);r<a;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function x(e,t,n,i,r,a){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,i,a){return a||x(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function k(e,t,n,i,a){return a||x(e,0,n,8),r.write(e,t,n,i,52,8),n+8}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,i){return u(t),t<=0?s(null,t):void 0!==n?"string"===typeof i?s(null,t).fill(n,i):s(null,t).fill(n):s(null,t)}(0,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,a=Math.min(n,i);r<a;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r),r+=o.length}return i},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,i,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(r>>>=0)-(i>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),c=this.slice(i,r),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){a=c[d],o=u[d];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return I(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},l.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;n=new l(r,void 0);for(var a=0;a<r;++a)n[a]=this[a+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return i},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},l.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var i=t,r=1,a=this[e+--i];i>0&&(r*=256);)a+=this[e+--i]*r;return a>=(r*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,i){e=+e,t|=0,n|=0,i||F(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,a=0;for(this[t]=255&e;++a<n&&(r*=256);)this[t+a]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,i){e=+e,t|=0,n|=0,i||F(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,a=1;for(this[t+r]=255&e;--r>=0&&(a*=256);)this[t+r]=e/a&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);F(this,e,t,n,r-1,-r)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);F(this,e,t,n,r-1,-r)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return k(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return k(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,a=i-n;if(this===e&&n<t&&t<i)for(r=a-1;r>=0;--r)e[r+t]=this[r+n];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},l.prototype.fill=function(e,t,n,i){if("string"===typeof e){if("string"===typeof t?(i=t,t=0,n=this.length):"string"===typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=l.isBuffer(e)?e:j(new l(e,i).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function j(e,t){var n;t=t||1/0;for(var i=e.length,r=null,a=[],o=0;o<i;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===i){(t-=3)>-1&&a.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&a.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function B(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function V(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(87))},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";(function(t,i){var r=n(260);e.exports=b;var a,o=n(371);b.ReadableState=_,n(306).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=n(373),c=n(130).Buffer,u=t.Uint8Array||function(){},d=n(223);d.inherits=n(115);var h=n(642),f=void 0;f=h&&h.debuglog?h.debuglog("stream"):function(){};var p,m=n(643),g=n(374);d.inherits(b,l);var v=["error","close","destroy","pause","resume"];function _(e,t){e=e||{};var i=t instanceof(a=a||n(171));this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(375).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(a=a||n(171),!(this instanceof b))return new b(e);this._readableState=new _(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function y(e,t,n,i,r){var a,o=e._readableState;return null===t?(o.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,w(e)}}(e,o)):(r||(a=function(e,t){var n,i;return i=t,c.isBuffer(i)||i instanceof u||"string"===typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"===typeof t||o.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),i?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):S(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?S(e,o,t,!1):C(e,o)):S(e,o,t,!1))):i||(o.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function S(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&w(e)),C(e,t)}function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function w(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(E,e):E(e))}function E(e){f("emit readable"),e.emit("readable"),D(e)}function C(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(A,e,t))}function A(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function T(e){f("readable nexttick read 0"),e.read(0)}function O(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function M(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var i;return e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,i=1,r=n.data;for(e-=r.length;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(o===a.length?r+=a:r+=a.slice(0,e),0===(e-=o)){o===a.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++i}return t.length-=i,r}(e,t):function(e,t){var n=c.allocUnsafe(e),i=t.head,r=1;for(i.data.copy(n),e-=i.data.length;i=i.next;){var a=i.data,o=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,o),0===(e-=o)){o===a.length?(++r,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=a.slice(o));break}++r}return t.length-=r,n}(e,t),i}(e,t.buffer,t.decoder),n);var n}function N(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(F,t,e))}function F(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"===typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=c.from(e,t),t=""),n=!0),y(this,e,t,!1,n)},b.prototype.unshift=function(e){return y(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(375).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this},b.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):w(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&N(this),null;var i,r=t.needReadable;return f("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",r=!0),t.ended||t.reading?f("reading or ended",r=!1):r&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(n,t))),null===(i=e>0?M(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&N(this)),null!==i&&this.emit("data",i),i},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,f("pipe count=%d opts=%j",a.pipesCount,t);var l=t&&!1===t.end||e===i.stdout||e===i.stderr?_:c;function c(){f("onend"),e.end()}a.endEmitted?r.nextTick(l):n.once("end",l),e.on("unpipe",(function t(i,r){f("onunpipe"),i===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),e.removeListener("close",g),e.removeListener("finish",v),e.removeListener("drain",u),e.removeListener("error",m),e.removeListener("unpipe",t),n.removeListener("end",c),n.removeListener("end",_),n.removeListener("data",p),d=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}));var u=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,D(e))}}(n);e.on("drain",u);var d=!1,h=!1;function p(t){f("ondata"),h=!1,!1!==e.write(t)||h||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==L(a.pipes,e))&&!d&&(f("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,h=!0),n.pause())}function m(t){f("onerror",t),_(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",v),_()}function v(){f("onfinish"),e.removeListener("close",g),_()}function _(){f("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener("error",n);e._events&&e._events.error?o(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on("error",n)}(e,0,m),e.once("close",g),e.once("finish",v),e.emit("pipe",n),a.flowing||(f("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<r;a++)i[a].emit("unpipe",this,n);return this}var o=L(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},b.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&w(this):r.nextTick(T,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(O,e,t))}(this,e)),this},b.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",(function(){if(f("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){f("wrapped data"),n.decoder&&(r=n.decoder.write(r)),(!n.objectMode||null!==r&&void 0!==r)&&(n.objectMode||r&&r.length)&&(t.push(r)||(i=!0,e.pause()))})),e)void 0===this[r]&&"function"===typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var a=0;a<v.length;a++)e.on(v[a],this.emit.bind(this,v[a]));return this._read=function(t){f("wrapped _read",t),i&&(i=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=M}).call(this,n(87),n(259))},function(e,t,n){e.exports=n(306).EventEmitter},function(e,t,n){"use strict";var i=n(260);function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(i.nextTick(r,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var i=n(130).Buffer,r=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(i.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function o(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},a.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var r=o(t[i]);return r>=0?(r>0&&(e.lastNeed=r-1),r):--i<n||-2===r?0:(r=o(t[i]))>=0?(r>0&&(e.lastNeed=r-2),r):--i<n||-2===r?0:(r=o(t[i]))>=0?(r>0&&(2===r?r=0:e.lastNeed=r-3),r):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=o;var i=n(171),r=n(223);function a(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);i.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"===typeof this._flush?this._flush((function(t,n){l(e,t,n)})):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}r.inherits=n(115),r.inherits(o,i),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;i.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(e,t){for(var n,s,l=o(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))r.call(n,u)&&(l[u]=n[u]);if(i){s=i(n);for(var d=0;d<s.length;d++)a.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[114]}).call(this,n(87))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[113]}).call(this,n(87))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[112]}).call(this,n(87))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[111]}).call(this,n(87))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[108]}).call(this,n(87))},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__122.jpg"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__121.jpg"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(17);function r(e){for(var t=[],n=/((?:(?:\\\\)*|(?:\\\.)|[^\\.])+)(?:\.|$)/g,r=e.length;n.lastIndex<r;){var a=n.exec(e);0===(a=a[1]).length&&Object(i.b)("Cannot parse a property path with an empty component ('%{path}').",{path:e}),a=(a=a.replace(/\\\./g,".")).replace(/\\\\/g,"\\"),t.push(a)}return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(387),r=n(700),a=n(699);function o(e,t){var n=Object(a.a)(t,e);if(n)return Object(i.a)(n,Object(r.a)(t))}},function(e,t,n){"use strict";function i(e,t){if(e)return e[t]}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(86),r=n(52),a=n(54),o={mixinDependencies:[i.a],clone:Object(a.c)(r.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(86),r=n(52),a={mixinDependencies:[i.a],message:"",validate:r.a.define()}},function(e,t,n){"use strict";function i(e){return"boolean"===typeof e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e){return!(!e||!e.isClass)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=n(179).b},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(86),r=n(52),a=n(54),o={mixinDependencies:[i.a],get:Object(a.c)(r.a),set:Object(a.c)(r.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={toString:function(){return"CW.ITSELF"}};Object.freeze(i)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(99),r=n(10),a=i.c.extend({staticMembers:{init:function(){var e=this,t=arguments;e.__s._$H4$init.apply(e,t),i.c._bestBatchSetterClass=this,this._bestBatchSetterClass=this},__superMap:{_$H4$init:"init"},__QUALIFIED_CLASS_NAME__:"BatchSetter"},init:function(){var e=this,t=arguments;e.__s._$Oo$init.apply(e,t),this._toSetObservableArray=[]},end:function(){var e=this,t=arguments;e.__s._$QW$end.apply(e,t),this._toSetObservableArray.length=0},_toSetObservableArray:null,_performSet:function(e){if(0!==e.length){for(var t=this._toSetObservableArray,n=this._pointerTuple,i=0,a=e.length;i<a;i++){var o=e[i],s=o.value,l=this._resolvePointer(o,n),c=l[0],u=l[1],d=c.upstreamNodes?c.upstreamNodes[u]:void 0;d?(t.push(s),t.push(d)):c[u]=s}t.length>0&&r.a.setValuesForNodes.apply(this,t)}},__superMap:{_$Oo$init:"init",_$QW$end:"end"}})},function(e,t,n){"use strict";function i(e){var t=e._exceptionHandling_wrappedFunction;return t?!0===t?e:t:null}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(236),r=function(e){var t="";try{var n=e&&e.toJSON&&e.toJSON()||e;t=Object(i.a)(n)?""+n:JSON.stringify(n)}catch(s){var r={};for(var o in e)r[o]=a(e,o);t=JSON.stringify(r)}return t};function a(e,t){var n=e[t];if(Object(i.a)(n))return n;var r="";try{var a=n&&n.toJSON&&n.toJSON()||n;r=Object(i.a)(a)?""+a:JSON.stringify(a)}catch(o){try{r=n+" (could not `JSON.stringify()`)"}catch(s){r="(cannot stringify value)"}}return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(86),r=n(24),a=n(52),o=n(17),s=n(399),l={mixinDependencies:[i.a],nextResponder:Object(r.c)(),sendEvent:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return s.a.apply(void 0,[this,e].concat(n))},handleEvent:a.a.define(),canPerformAction:function(e,t){var n=this[e];return Boolean(n)},getPointerCapture:function(e){return"number"!==typeof e&&Object(o.b)("Pointer capture only possible on pointerIds which are numbers",{pointerId:e,responder:this}),c[e]},setPointerCapture:function(e){"number"!==typeof e&&Object(o.b)("Pointer capture only possible on pointerIds which are numbers",{pointerId:e,responder:this}),c[e]=this},releasePointerCapture:function(e){"number"!==typeof e&&Object(o.b)("Pointer capture only possible on pointerIds which are numbers",{pointerId:e,responder:this}),c[e]===this&&delete c[e]}},c={}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(17),r=n(240);function a(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];t||Object(i.b)("CW.Responder.sendEvent: Must receive an event.",{targetResponder:e,context:a});for(var s=e,l=!1,c=!1;s&&!s.isDisposed;){if(s.handleEvent&&!c){var u,d=(u=s).handleEvent.apply(u,[t].concat(a));if(d||void 0===d){l=!0;break}}var h=s.handleGestureRecognition;if(h){var f=h.call.apply(h,[s,t].concat(a));f&&(c=!0)}s=s.nextResponder}return c?(r.a.handleEvent.apply(r.a,[t].concat(a)),!0):l}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(273),r=n(401).a.extend({staticMembers:{nativePropertiesToCopy:Object(i.a)(["screenX","screenY","clientX","clientY","offsetY","offsetX","x","y","button","buttons","detail","target"]),eventPropertiesToCopy:Object(i.a)(["screenX","screenY","clientX","clientY","offsetY","offsetX","x","y","button","buttons","detail","target"]),__QUALIFIED_CLASS_NAME__:"CoreMouseEvent"},init:function(e){if(this.__s._$I9$init.call(this,e),e){var t=e.nativeEvent;if(t&&!this.target){var n=t.srcElement;n&&(this.target=n)}}},screenX:0,screenY:0,clientX:0,clientY:0,offsetX:0,offsetY:0,button:0,buttons:0,detail:0,target:null,targetView:null,__superMap:{_$I9$init:"init"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(83),r=n(101),a=i.a.extend({staticMembers:{nativePropertiesToCopy:["ctrlKey","shiftKey","altKey","metaKey","relatedTarget"],eventPropertiesToCopy:["bubbles","cwType","ctrlKey","shiftKey","altKey","metaKey","relatedTarget","nativeEvent"],__QUALIFIED_CLASS_NAME__:"CoreEvent"},init:function(e){var t=this,n=arguments;if(e){if(Object(r.a)(e,this.constructor))return o(this,e,this.constructor.eventPropertiesToCopy),void t.__s._$SG$init.call(t);var i=e.nativeEvent;i&&o(this,i,this.constructor.nativePropertiesToCopy)}t.__s._$SG$init.apply(t,n),this.cwType||(this.cwType=this.type)},bubbles:!0,cwType:null,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,relatedTarget:null,nativeEvent:null,preventDefault:function(){this.nativeEvent.preventDefault()},stopPropagation:function(){this.nativeEvent.stopPropagation()},__superMap:{_$SG$init:"init"}});function o(e,t,n){for(var i=0,r=n.length;i<r;i++){var a=n[i],o=t[a];void 0!==o&&(e[a]=o)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var i=n(83);function r(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}var a={Pointer:"pointer",Touch:"touch",Mouse:"mouse",None:"none"},o=i.a.extend({init:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.window,i=void 0===n?window:n,o=t.navigator,s=void 0===o?navigator:o,l=t.document,c=void 0===l?document:l,u=r(t,["window","navigator","document"]),d=this,h=this.isPointerSupported="PointerEvent"in i,f="createTouch"in c||"Touch"in i;this.isTouchSupported=h?s.maxTouchPoints>0:f,this.isMouseSupported="onmousedown"in c,this.isMouseWheelSupported="onwheel"in c||"onmousewheel"in c,this.isInputSupported=!0,d.__s._$eB$init.call(d,u),e=this.isPointerSupported?a.Pointer:this.isTouchSupported?a.Touch:this.isMouseSupported?a.Mouse:a.None,this.pointerEventClass=e},pointerEventClass:a.None,isPointerSupported:!1,isTouchSupported:!1,isMouseSupported:!1,isMouseWheelSupported:!1,isInputSupported:!1,__superMap:{_$eB$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"EventCapabilities"}}).create()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(86),r=n(91),a=n(54),o={mixinDependencies:[i.a],createIterator:function(){return this.iteratorClass.create(this)},iteratorClass:Object(a.c)(r.a),serializer:null,encode:function(e,t){var n=this.serializer;return n&&n.encode&&(e=n.encode(e,t)),e},decode:function(e,t){var n=this.serializer;return n&&n.decode&&(e=n.decode(e,t)),e}};o[Symbol.iterator]=function(){return this.createIterator()}},function(e,t,n){"use strict";n(0),n.d(t,"a",(function(){return u}));var i=n(38),r=n(138),a=n(84),o=n(205),s=n(161),l=n(143),c=n(134),u={mixinDependencies:[i.a,l.a,o.a],__classNameOutlet_addedHash:Object(a.b)(Object),staticMembers:{handler:s.a.create({nodeType:"CLASSNAMEOUTLET",generateLookupFunction:function(e,t){return function(e){return e=e.classList,t(e)}},register:function(e,t){var n=Object(c.a)(t),i="__templateObserver__previous"+t.name+Object(r.a)(t),a=Object(r.a)(t.parent);Object(c.c)(e,t,(function(e,t){var r=this.__classNameOutlet_addedHash[a]=this.__classNameOutlet_addedHash[a]||{},o=this[i];o&&(r[o]--,0===r[o]&&e.remove(o));var s=n(t);s&&(r[s]=r[s]||0,0===r[s]&&e.add(s),r[s]++),this[i]=s}))}})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(149),r=n(108),a=n(202),o=n(178),s=n(101),l=n(278),c=n(86),u=n(52),d=n(54),h={mixinDependencies:[c.a,l.a],init:function(e){var t,n,c=this,u=arguments;if(1!==arguments.length)for(c.__s._$K7$init.call(c),t=0,n=arguments.length;t<n;t++)this.add(arguments[t]);else if(!Object(i.a)(e)||Object(r.a)(e))c.__s._$K7$init.apply(c,u);else if(Object(a.a)(e))for(c.__s._$K7$init.call(c),t=0,n=e;t<n;t++)this.add(void 0);else if(Object(o.a)(e))for(c.__s._$K7$init.call(c),t=0,n=e.length;t<n;t++)this.add(e[t]);else Object(s.a)(e,l.a)?(c.__s._$K7$init.call(c),this.addEach(e)):(c.__s._$K7$init.call(c),this.add(e))},add:function(e){return this.encodedAdd(this.encode(e))},encodedAdd:Object(d.c)(u.a),addEach:function(e){e.forEach(this.add,this)},remove:function(e){return this.encodedRemove(this.encode(e))},encodedRemove:Object(d.c)(u.a),delete:function(){return this.remove.apply(this,arguments)},removeEach:function(e){e.forEach(this.remove,this)},constructNewInstance:function(){return this.constructor.create()},filter:function(e,t){for(var n=this.constructNewInstance(),i=this.createIterator().retain(),r=0;i.isValid;){r++;var a=i.value;!0===e.call(t,a,r,this)&&n.add(a),i.moveToNext()}return i.release(),n},__superMap:{_$K7$init:"init"}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g}));var i=n(17),r=n(101),a=n(407),o=n(281),s=n(200),l=n(159),c=n(133),u=n(99),d=n(201),h=[],f={then:function(e,t){var n=this.internalPromise,i=g.createEmpty();return this.isExceptionHandlingEnabled&&(e&&(e=p(i,e),i._resolveHandler=e),t&&(t=p(i,t,!0),i._rejectHandler=t,this._hasRejectionHandler=t),this._linkNestedPromise(i)),i.internalPromise=n.then(e,t),i},catch:function(e){return this.then(null,e)},finally:function(e){var t=this.internalPromise,n=g.create();n._hasRejectionHandler=!1;var i=function(t){e(t),n.resolve(t)},r=function(t){e(t),n.rejectWithExceptionHandling(t)};return e&&this.isExceptionHandlingEnabled?t.then(p(n,i),p(n,r,!0)):e&&t.then(i,r),this._linkNestedPromise(n)},promiseState:null,isExceptionHandlingEnabled:!0,resolve:function(e){if(this.promiseState===g.PENDING)if(e===this&&Object(i.b)("Promise cannot resolve with itself "+this,this),e instanceof Promise||Object(r.a)(e,g))e.then(this._resolveHandler.bind(this),this._rejectHandler.bind(this));else if(Object(a.a)(e))try{e.then(this._resolveHandler.bind(this),this._rejectHandler.bind(this))}catch(t){this._rejectHandler(t)}else this._resolveHandler(e)},reject:function(e){this.promiseState===g.PENDING&&(this._rejectHandlerWasCalledDirectly=!0,this._rejectHandler(e))},rejectWithExceptionHandling:function(e){this.promiseState===g.PENDING&&(this._hasRejectionHandlerInChain()?this._rejectHandler(e):(this._exceptionWasThrown=!0,Object(o.b)((function(){throw e}))))},init:function(){var e=this,t=arguments;e.__s._$2LW$init.apply(e,t),this.promiseState=g.PENDING,void 0===this.internalPromise&&(this.internalPromise=this._createPromise())},_createPromise:function(){var e=this;return new Promise((function(t,n){e.isExceptionHandlingEnabled?(e._resolveHandler=p(e,t),e._rejectHandler=p(e,n,!0)):(e._resolveHandler=function(n){e.promiseState=g.RESOLVED.FULFILLED,t(n)},e._rejectHandler=function(t){e.promiseState=g.RESOLVED.REJECTED,n(t)})}))},internalPromise:void 0,_resolveHandler:null,_rejectHandler:null,_hasRejectionHandler:!1,_rejectHandlerWasCalledDirectly:!1,_exceptionWasThrown:!1,_nestedPromises:null,_parentPromise:null,_linkNestedPromise:function(e){return this._nestedPromises=this._nestedPromises||(this._nestedPromises=[]),this._nestedPromises.push(e),e._parentPromise=this,e},_hasRejectionHandlerInChain:function(e){for(var t=this;t;){if(t._hasRejectionHandler&&t._hasRejectionHandler!==e&&t.promiseState===g.PENDING)return!0;t=t._parentPromise}return function e(t){var n=t._nestedPromises;if(n)for(var i=0,r=n.length;i<r;i++){var a=n[i];if(a._hasRejectionHandler||e(a))return!0}return!1}(this)},__superMap:{_$2LW$init:"init"}};function p(e,t,n){var i;return i=function(){var a,l=0,c=0,u=arguments.length;h.length=u+l-c;for(var d=c,f=l;d<u;d++,f++)h[f]=arguments[d];var p=h;try{(a=Object(s.c)(t,this,p))&&Object(r.a)(a,g)&&e._linkNestedPromise(a)}catch(v){var m=e._hasRejectionHandlerInChain(i);if(!Object(o.a)().exceptionWasHandled)throw m||(e._exceptionWasThrown=!0,Object(o.b)((function(){throw v}))),v}return e.promiseState=n?g.RESOLVED.REJECTED:g.RESOLVED.FULFILLED,a}}var m=Object(d.b)("PROMISE_STATES",(function(e){e("PENDING"),e("RESOLVED",(function(e){e("FULFILLED"),e("REJECTED")}))})),g=u.a.extend(m.toStaticMixin(),f,{staticMembers:{wrap:function(e){return e instanceof Promise?this.wrapPromise(e):Object(a.a)(e)?this.resolve(e):Object(l.a)(e)?this.wrapFunction(e):void Object(i.b)("CW.Promise.wrap can only be used with functions or thenables",e)},wrapPromise:function(e){return this.create({internalPromise:e})},wrapFunction:function(e){Object(l.a)(e)||Object(i.b)("CW.Promise.wrapFunction can only be used with a function.",e);var t=this;return function(){var n=t.create(),i=arguments;return Object(c.a)(function(){try{var t=e.apply(this,i);n.resolve(t)}catch(r){n.rejectWithExceptionHandling(r)}}.bind(this),0),n}},invokeFunction:function(e,t){var n=this.wrapFunction(e);return n.call(n,t)},createEmpty:function(){return this.create({internalPromise:null})},waterfall:function(e,t){var n=void 0!==t,i=n?this.invokeFunction(v(t)):void 0;if(0===e.length)return i||this.resolve();var r,a=0,o=e.length;for(n||(a=1,i=this.invokeFunction(v(e[0])));a<o;a++)r=v(e[a]),i=i.then(this.wrapFunction(r));return i},sequence:function(e){var t=[];if(0===e.length)return this.resolve(t);for(var n,i=function(e){t.push(e)},r=1,a=e.length,o=this.invokeFunction(v(e[0])).then(i);r<a;r++)n=v(e[r]),o=o.then(this.wrapFunction(n)).then(i);return o.then(v(t))},concurrent:function(e,t){if(t=t||1,0===e.length)return this.resolve([]);if(e.length<=t)return this.all(e);var n=this,i=this.create(),r=[],a=[],o=e;return function e(){for(var s,l,c;a.length<t&&o.length>0;)s=v(o.shift()),l=n.invokeFunction(s).then((function(t){r.push(t),c=a.indexOf(this),a.splice(c,1),e()})).catch(i.reject.bind(i)),a.push(l);a.length||o.length||i.resolve(r)}(),i},all:function(){return this.resolve(Promise.all.apply(Promise,arguments))},race:function(){return this.resolve(Promise.race.apply(Promise,arguments))},resolve:function(){var e=this.create();return e.resolve.apply(e,arguments),e},reject:function(){var e=this.create();return e.reject.apply(e,arguments),e},allSettled:function(e){return Array.isArray(e)||(e=Array.from(e)),this.all(e.map((function(e){return e.then((function(e){return{status:"fulfilled",value:e}}),(function(e){return{status:"rejected",reason:e}}))})))},__QUALIFIED_CLASS_NAME__:"CorePromise"}});function v(e){return Object(l.a)(e)?e:function(){return e}}},function(e,t,n){"use strict";function i(e){return e&&"function"===typeof e.then}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var i=n(268),r=n(83),a=n(204),o=n(321),s=["is-","are-","has-"],l=Object(a.a)(["isConnected","isInitialized","isDisposed","isAbstract","propertiesAreInitialized","window"]),c={},u=function(e,t,n){n=n||"";var r=Object(i.a)(e),a=r?l:c;for(var o in e)if(!a[o]&&"_"!==o[0]&&e.hasOwnProperty(o)){var s=r?e.get(o):e[o];d(o,s,t,n)}},d=function(e,t,n,i){i=i||"";var r=typeof t;if("boolean"===r){for(var a,l,c=Object(o.a)(e),u=0;a=s[u];u++)l=a.length,c.substring(0,l)===a&&(c=c.substring(l));c&&n.classList.toggle(c,t)}else{if("object"===r||"function"===r){var d=t&&t.toString;d!==h&&d!==f&&d!==p||(t=null)}var m=i+Object(o.a)(e);t||0===t?n.setAttribute(m,""+t):n.removeAttribute(m)}},h=Object.prototype.toString,f=Function.prototype.toString,p=r.a.prototype.toString},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(132),r=n(17),a=n(38),o=n(15),s={mixinDependencies:[a.a],target:Object(o.b)(),action:Object(o.b)(),callAction:function(){var e=this.action,t=this.target||this;Object(i.a)(e)||Object(r.b)("An action must be a method name only (as a string)",this);var n=t[e];n&&n.call||Object(r.b)("CW.TargetAction: The specified target did not respond to the action `"+e+"`.",this),n.call(t,this)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(86),r=n(52),a=n(150),o=n(325),s={mixinDependencies:[i.a],connect:r.a.define(),disconnect:r.a.define(),isDisconnected:a.a.define(),incomingMessage:o.a.define(),outgoingMessage:o.a.define(),send:r.a.define()}},function(e,t,n){"use strict";n(0),n.d(t,"a",(function(){return o})),n(3);var i=n(181),r=n(328),a=n(15),o=i.a.extend(r.a,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{signal:"titleDidRender"}}],classes:["title"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasLeftIcon",truevalue:"cw-has-left-icon",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasRightIcon",truevalue:"cw-has-right-icon",attributes:{}}],attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tooltip",attributes:{},attribute:"title"}}}},className:"cw-button",__QUALIFIED_CLASS_NAME__:"Button"},title:Object(a.b)(""),tooltip:Object(a.b)(""),hasLeftIcon:Object(a.b)(!1),hasRightIcon:Object(a.b)(!1)})},function(e,t,n){"use strict";n(0),n.d(t,"a",(function(){return l}));var i=n(15),r=n(38),a=n(181),o=n(133),s=n(128),l=a.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"contentView"}],classes:["cw-modal-dialog-background",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOpen",truevalue:"is-open",falsevalue:"is-closing",attributes:{}}]}},className:"cw-ui-modal-dialog",__QUALIFIED_CLASS_NAME__:"ModalDialog"},contentView:Object(i.b)(),isFocusable:!0,tabIndex:-1,dismissOnEscape:Object(i.b)(!0),animationDuration:250,isOpen:Object(i.b)(),animateOpen:function(e){this.isOpen=!0,e&&Object(o.a)(e,this.animationDuration)},animateClosed:function(e){var t=this;this.isOpen=!1,Object(o.a)((function(){t.sendEvent("modalDialogDidDismiss"),"function"===typeof e&&e()}),this.animationDuration)},_isAttachedDidChange:Object(r.f)("isAttached",(function(e){e&&this.animateOpen()})),pointerUp:function(e){e.targetView&&(this.contentView.element.contains(e.targetView.element)?this.sendEvent("modalContentWasClicked",this):this.sendEvent("modalBackgroundWasClicked",this))},keyDown:function(e){if(!this.dismissOnEscape||e.keyCode!==s.a.ESC)return!1;this.animateClosed()},hide:function(){this.sendEvent("dismissModalDialog")}})},function(e,t,n){"use strict";n(0),n.d(t,"a",(function(){return l}));var i=n(319),r=n(181),a=n(15),o=n(38),s=n(725),l=r.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"canvas",classes:["cw-spinner-view"],styles:{height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},unit:"px",property:"height"},width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},unit:"px",property:"width"},display:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"",falsevalue:"none",attributes:{},unit:null,property:"display"}},attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tooltip",attributes:{},attribute:"title"}}}},className:"cw-ui-spinner-view",__QUALIFIED_CLASS_NAME__:"SpinnerView"},size:Object(a.b)(32),color:"#000000",image:Object(a.b)({set:function(e){if("string"===typeof e){var t=new Image;return t.src=e,t}return e}}),tooltip:Object(a.b)(null),period:600,tickCount:12,tickReach:.54375,tickWidth:(12-90/255)/64,isVisible:Object(a.b)(!0),isAnimating:Object(a.b)({readOnly:!0,dependencies:["isVisible","isAttached"],get:Object.assign((function(){return this.isVisible&&this.isAttached}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])&&i.internalGet(this,t[1+n])}})}),drawStep:function(e){this._currentStep=e;var t=this._canvas,n=this._context,r=this.size*i.a.sharedInstance.devicePixelRatio;r!==t.width||r!==t.height?t.width=t.height=r:n.clearRect(0,0,r,r),this._backingSize=r,n.save(),n.translate(r/2,r/2),n.rotate(2*e*Math.PI/this.tickCount),this.image?this._drawImageContent():this._drawGeneratedContent(),n.restore()},drawTick:function(e,t,n){var i=this.tickReach*t/2,r=this.tickWidth*t/2;!function(e,t,n,i,r,a){a=Math.min(i/2,r/2,void 0===a?1/0:a),e.beginPath(),e.moveTo(t+a,n),e.arcTo(t+i,n,t+i,n+r,a),e.arcTo(t+i,n+r,t,n+r,a),e.arcTo(t,n+r,t,n,a),e.arcTo(t,n,t+i,n,a),e.closePath(),e.fill()}(e,-r/2,-t/2,r,i)},_tickOpacities:{12:[1,.90196,.76078,.65098,.54118,.43137,.38039,.32157,.25882,.21961,.2,.16863]},_animationFrameId:0,_backingSize:0,init:function(e){var t=this,n=arguments;t.__s._$28_$init.apply(t,n),this._canvas=this.element,this._context=this._canvas.getContext("2d")},dispose:function(){var e=this,t=arguments;cancelAnimationFrame(this._animationFrameId),e.__s._$2D7$dispose.apply(e,t)},_startOrStopAnimation:Object(o.f)("isAnimating",(function(e){if(e){if(this._animStartTime)return;this._animStartTime=Date.now(),this.drawStep(0),this._tick()}else this._animStartTime=null,cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null,this.isInitialized&&this.drawStep(0)})),_tick:function(){if(this.isAnimating){this._animationFrameId=Object(s.a)(this._tick.bind(this));var e=this.tickCount,t=this.period/e,n=((Date.now()-this._animStartTime)/t|0)%e;n!==this._currentStep&&this.drawStep(n)}},_drawImageContent:function(){var e=this.image,t=this._context,n=this._backingSize;t.drawImage(e,-n/2,-n/2,n,n)},_drawGeneratedContent:function(){var e=this._context,t=this._backingSize,n=this.tickCount;e.fillStyle=this.color;for(var i=0;i<n;i++)e.globalAlpha=this._opacityForTickOfCount(i,n),this.drawTick(e,t),e.rotate(-2*Math.PI/n);e.globalAlpha=1},_opacityForTickOfCount:function(e,t){var n=this._tickOpacities[t];if(n)return n[e];var i=2/t,r=e/(t-1),a=Math.pow(r,.6),o=.7*(.5-.5*Math.cos(a*Math.PI))+.3*a;return o*i+1*(1-o)},__superMap:{_$28_$init:"init",_$2D7$dispose:"dispose"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(86),r=n(150),a={mixinDependencies:[i.a],iframeView:r.a.define(),host:r.a.define()}},function(e,t,n){"use strict";n(0),n.d(t,"a",(function(){return l}));var i=n(181),r=n(404),a=n(15),o=n(413),s=n(84),l=(n(51),i.a.extend(r.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"TEXT",data:"    "},{type:"VIEWOUTLET",tagname:"view",name:"loadingView"},{type:"TEXT",data:"    "},{type:"ELEMENT",tagname:"iframe",name:"iframe",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isActive",truevalue:"",falsevalue:"cw-hidden",attributes:{}}],attributes:{id:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"appId",attributes:{},attribute:"id"},src:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"src",attributes:{},attribute:"src"}}}],classes:["hosted-application"]},className:"hak-hosted-application-view",__QUALIFIED_CLASS_NAME__:"HostedApplicationView"},appId:a.b({type:"string"}),src:a.b({type:"string"}),isActive:a.b({type:"boolean"}),loadingView:a.b({type:o.a,defaultValue:s.b(o.a.extend({isVisible:a.b({readOnly:!0,dependencies:["isActive"],get:Object.assign((function(){return!this.isActive}),{__CW__getter:function(e,t,n,i){return!i.internalGet(this,t[0+n])}})}),isActive:a.b({type:"boolean"})})),downstreamBindings:{isActive:"(owner).isActive"}})}))},function(e,t,n){"use strict";n(0),n.d(t,"a",(function(){return o}));var i=n(38),r=n(242),a=n(52),o={mixinDependencies:[i.a,r.a],initializeClass:function(){var e=this,t=arguments,r=n(685),a=r.RenderProperty,o=[];for(var s in this.getMetadataByType(a))o.push(s);o.push("element"),this.registerMetadata("_rerenderObserver",i.f({inputs:o,callback:function(){this.renderDOM()}})),e.__s._$Hr$initializeClass.apply(e,t)},renderDOM:a.a.define(),__superMap:{_$Hr$initializeClass:"initializeClass"}}},function(e,t,n){"use strict";var i=n(17),r=n(278),a=n(83),o=n(101),s=n(322),l=n(24),c=a.a.extend(s.a,{_index:0,_original:null,_queue:null,_references:null,_clones:null,init:function(e,t){if(this.source=e,this.__s._$Rx$init.call(this),Object(o.a)(t,this.constructor)){this._original=t._original,this._container=t._container;var n=this._index=t._index;(this._clones=t._clones).push(this),this._queue=t._queue,(this._references=t._references)[n]++}else this._clones=[this],this._queue=[],this._references=[1],this._original=t,this.moveToNext()},moveToNext:function(){if(this._isValid){var e,t=this._index,n=this._queue,i=this._references;if(e=t<n.length?n[t]:this._advanceOriginal(),0===--i[t]&&0===t){i.shift(),n.shift();for(var r=this._clones,a=0,o=r.length;a<o;a++)r[a].index--}else t++;i[t]++,this._index=t,this._container=e}},add:function(e){if(this.isValid){var t,n=this._queue;if(0===n.length||!n[n.length-1].done)do{t=this._advanceOriginal()}while(!t.done)}return this._container={done:!1,value:e},!0},_advanceOriginal:function(){var e=this._original.next();return this._references.push(0),this._queue.push(e),e},_container:null,isValid:Object(l.c)({readOnly:!0,defaultValue:!0,get:function(){return!this._container.done}}),value:Object(l.c)({readOnly:!0,get:function(){return this.source.decode(this._container.value)}}),encodedValue:Object(l.c)({readOnly:!0,get:function(){return this._container.value}}),clone:function(){return this.constructor.create(this,this)},__superMap:{_$Rx$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"NativeIteratorWrapper"}}).extend({_iterator:null,clone:function(){return this.constructor.create(this._map,this)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseMapIterator"}}),u=n(323),d=c.extend(u.a,{init:function(e,t){t||(t=e._map.entries()),this.__s._$A4$init.call(this,e,t)},add:function(e){var t=this,n=arguments,i=e[0],r=e[1],a=this.source;if(a.has(i))return!1;var o=t.__s._$DJ$add.apply(t,n);return a.set(i,r),o},remove:function(){if(this.isValid){var e=this.value;return this.source.delete(e[0]),this.moveToNext(),e}},value:Object(l.c)({readOnly:!1,set:function(e){var t=this.source,n=this._container.value;return t.delete(n[0]),this.add(e),e}}),__superMap:{_$A4$init:"init",_$DJ$add:"add"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MapEntryIterator"}}),h=c.extend(u.a,{init:function(e,t){t||(t=e._map.keys()),this.__s._$9M$init.call(this,e,t)},add:function(e,t){var n=this,i=arguments,r=this.source;if(r.has(e))return!1;var a=n.__s._$Bn$add.apply(n,i);return r.set(e,t),a},remove:function(){if(this.isValid){var e=this.value;return this.source.delete(e),this.moveToNext(),e}},value:Object(l.c)({readOnly:!1,set:function(e){var t=this.source,n=this._container.value,i=t.get(n);return t.delete(n),this.add(e,i),e}}),__superMap:{_$9M$init:"init",_$Bn$add:"add"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MapKeyIterator"}}),f=c.extend({init:function(e,t){t||(t=e._map.values()),this.__s._$88$init.call(this,e,t)},__superMap:{_$88$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MapValueIterator"}}),p=n(54),m=n(84);n.d(t,"a",(function(){return b}));var g=l.a.extend({get:function(){return this._map.size},staticMembers:{__QUALIFIED_CLASS_NAME__:"SizeProperty"}});function v(e){return this._map.has(e)}function _(e){return this._map.delete(e)}var b=a.a.extend(r.a,{_map:Object(m.b)(Map),get:function(e){return this.decode(this.encodedGet(e))},encodedGet:function(e){return this._map.get(e)},set:function(e,t){return this.encodedSet(e,this.encode(t))},encodedSet:function(e,t){return this._map.set(e,t),this},encodedContains:function(e){for(var t=this.values().retain();t.isValid;){if(e===t.encodedValue)return t.release(),!0;t.moveToNext()}return t.release(),!1},forEach:function(e,t){for(var n=this.createIterator().retain();n.isValid;){var i=n.value;e.call(t,i[1],i[0],this),n.moveToNext()}n.release()},reduce:function(e,t,n){var r,a=this.createIterator().retain();for(arguments.length>=2?r=t:a.isValid?(r=a.value[1],a.moveToNext()):Object(i.b)("reduce of empty array with no initial value");a.isValid;){var o=a.value;r=e.call(n,r,o[1],o[0],this),a.moveToNext()}return a.release(),r},find:function(e,t){for(var n=this.createIterator().retain();n.isValid;){var i=n.value;if(e.call(t,i[1],i[0],this))return n.release(),i;n.moveToNext()}n.release()},every:function(e,t){for(var n=this.createIterator().retain();n.isValid;){var i=n.value;if(!e.call(t,i[1],i[0],this))return n.release(),!1;n.moveToNext()}return n.release(),!0},some:function(e,t){for(var n=this.createIterator().retain();n.isValid;){var i=n.value;if(e.call(t,i[1],i[0],this))return n.release(),!0;n.moveToNext()}return n.release(),!1},containsKey:v,has:v,removeKey:_,delete:_,clear:function(){this._map.clear()},length:Object(p.c)(g),size:Object(p.c)(g),iteratorClass:Object(l.c)({readOnly:!0,defaultValue:d}),keys:function(){return h.create(this)},values:function(){return f.create(this)},entries:function(){return d.create(this)},staticMembers:{__QUALIFIED_CLASS_NAME__:"CoreMap"}})},function(e,t,n){"use strict";var i=n(83),r=n(327),a=n(52),o=n(38),s=n(15),l=n(149),c=n(410),u=n(269),d=n(202),h=n(108),f=n(180),p={mixinDependencies:[n(86).a],jsonRpcVersion:"0",generateCallMessageFor:a.a.define(),generateErrorMessageFor:a.a.define(),generateNotificationMessageFor:a.a.define(),generateResultMessageFor:a.a.define()},m=i.a.extend(u.a,p,{jsonRpcVersion:"2.0",generateCallMessageFor:function(e){for(var t={jsonrpc:this.jsonRpcVersion,id:v(),method:e},n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.length>0&&(t.params=i),t},generateNotificationMessageFor:function(e){for(var t={jsonrpc:this.jsonRpcVersion,method:e},n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.length>0&&(t.params=i),t},generateErrorMessageFor:function(e,t){var n=t.code;Object(d.a)(n)||(n=f.a.INTERNAL_ERROR);var i=t.message,r=t.data,a={jsonrpc:this.jsonRpcVersion,id:e,error:{code:n,message:i}};return Object(h.a)(r)&&(a.error.data=r),a},generateResultMessageFor:function(e,t){return{jsonrpc:this.jsonRpcVersion,id:e,result:t}},staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcMessageFormatterV2"}}),g=0;function v(){return"CW.JsonRpcMessageFormatterV2:"+ ++g}n.d(t,"a",(function(){return _}));var _=i.a.extend(o.a,{channel:Object(s.b)({type:c.a}),messageFormatter:m.sharedInstance,serializer:r.a.sharedInstance,shouldHandleMessage:a.a.define(),handleMessage:a.a.define(),incomingMessageListener:Object(o.f)("channel.incomingMessage",(function(e){if(e){var t=this.serializer.decode(e.context);Object(l.a)(t)&&this.shouldHandleMessage(t)&&this.handleMessage(t)}})),staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcBase"}})},function(e,t,n){"use strict";var i,r=n(142),a=n(17),o=n(133),s=n(108),l=n(160),c=n(35),u=n(38),d=n(24),h=n(83),f=n(206),p=n(66),m=n(86),g=n(269),v=n(52),_={mixinDependencies:[m.a,g.a],prepare:v.a.create(),send:v.a.create(),abort:v.a.create(),createResponse:v.a.create(),computeStatuses:v.a.create(),finalize:c.a},b=h.a.extend(_,{staticMembers:{_TransportClass:null,__QUALIFIED_CLASS_NAME__:"BaseTransport"},send:function(e,t){var n;e||Object(a.b)("No request to send",this),t?n=e.__transport:(e._retryCount=0,(n=e.__transport=new this.constructor._TransportClass)._request=e,e.triggerStatusEvent(p.b.WILLSEND)),this.prepare(e,t);var i=this.getBodyText(e);n.send(i),t||e._synchronous||e.triggerStatusEvent(p.b.SENT)},getBodyText:function(e){var t=e.get("bodySerializer"),n=e.get("body");return t&&(n=t.encode(n)),n},abort:function(e){e||Object(a.b)("No request to abort",this);var t=e.__transport;t?t.abort():f.b.warn("Cannot abort request because it is not in transit",e)},handleResponse:function(e,t){var n=this.createResponse(t);if(this._shouldFinalizeWithResponse(e,n)){e.set("response",n),e.set("state",p.b.COMPLETED);var i=this.computeStatuses(t);e._synchronous&&e.triggerStatusEvent(p.b.SENT),i&&e.triggerStatusEvents.apply(e,i),e.finalize()}},_shouldFinalizeWithResponse:function(e,t){var n=!0;if(e.shouldFinalizeWithResponse){var i=e._pendingRetryCallback=function(){i===e._pendingRetryCallback&&(delete e._pendingRetryCallback,e._retryCount++,this.send(e,!0))}.bind(this);n=e.shouldFinalizeWithResponse(t,i,e._retryCount)}return n},handleTimeout:function(e){this.abort(e);var t=this.createResponse(null);t.status=p.b.TIMEDOUT,this._shouldFinalizeWithResponse(e,t)&&(e.set("response",t),e.set("state",p.b.TIMEDOUT),e.triggerStatusEvent(p.b.FAILED),e.triggerStatusEvent(p.b.COMPLETED),e.finalize())},finalize:function(e){e&&(e.__transport&&(delete e.__transport._request,delete e.__transport),delete e._pendingRetryCallback,e._retryCount=0)}}),y=n(721);n.d(t,"a",(function(){return S}));var S=b.extend(u.a,{staticMembers:{_TransportClass:Object(d.c)({get:function(e){return e||XMLHttpRequest||I}}),supportsCORS:Object(d.c)({readOnly:!0,get:function(e){if("boolean"===typeof e)return e;try{e=!!("withCredentials"in new this._TransportClass)}catch(t){e=!1}return this._supportsCORS=e}}),__QUALIFIED_CLASS_NAME__:"XHR"},mimeType:null,prepare:function(e,t){var n=e.__transport,i=e.get("url").get("href"),a=!e._synchronous;n.open(e.get("method"),i,a),n.withCredentials=e.get("useCredentialsIfCrossOrigin"),n.addEventListener("readystatechange",w);var o=this.get("mimeType");return n.overrideMimeType&&o&&n.overrideMimeType(o),n.upload&&e.uploadProgress&&!t&&Object(r.a)(n.upload,"progress",E.bind(this,e,"uploadProgress")),e.progress&&!t&&Object(r.a)(n,"progress",E.bind(this,e,"progress")),function(e,t){if(!t||!Object(s.a)(t))return e;var n,i,r,a=Object.keys(t);for(i=0,r=a.length;i<r;i++)n=a[i],e.setRequestHeader(n,t[n])}(n,e.get("headers")),this.configureTimeout(e),n},abort:function(e){var t,n=this,i=arguments;e&&(t=e.__transport)||Object(a.b)("Attempted to abort an XHR request that was never sent",e),t.removeEventListener&&t.removeEventListener("readystatechange",w),n.__s._$1TR$abort.apply(n,i)},handleResponse:function(e,t){var n=this,i=arguments;this.clearTimeout(e),n.__s._$1WD$handleResponse.apply(n,i)},configureTimeout:function(e){var t=e.get("timeout");t&&(e._timer=Object(o.a)(this.handleTimeout.bind(this,e),t))},clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e&&e._timer&&(clearTimeout(e._timer),delete e._timer)})),computeStatuses:function(e){var t=e.status,n=Math.floor(t/100),r=Math.floor(t%100/10),a=t%10;return i||(i={}),i[t]?i[t]:i[t]=0===t?[t,p.b.FAILED,p.b.COMPLETED]:[t,n+"**",""+n+r+"*","*"+r+"*","*"+r+a,"**"+a,2===n?p.b.SUCCEEDED:p.b.FAILED,p.b.COMPLETED]},createResponse:function(e){return y.a.create(e?{status:e.status,encodedBody:e.responseText,headers:e.getAllResponseHeaders()}:null)},finalize:function(e){var t,n=this,i=arguments;e&&(t=e.__transport)||Object(a.b)("Error while finalizing an XHR request - no internal transport",e),t.removeEventListener&&t.removeEventListener("readystatechange",w),this.clearTimeout(e),n.__s._$2JJ$finalize.apply(n,i)},__superMap:{_$1TR$abort:"abort",_$1WD$handleResponse:"handleResponse",_$2JJ$finalize:"finalize"}});function I(){Object(a.b)("Your browser does not support sending requests")}var w=Object(l.a)((function(){var e=this._request,t=e.get("transport");4===this.readyState&&t.handleResponse(e,this)}));function E(e,t,n){var i=e[t];if(i){var r=!i.__lastWriteTime;i.__lastWriteTime=i.__lastWriteTime||Date.now();var a=i.__lastWriteTime,o=Date.now()-a;r||o>80?(i.setMultipleValues({bytesTransferred:n.loaded,bytesTotal:n.total,isDeterminate:n.lengthComputable}),i.__lastWriteTime=Date.now()):r?Object(c.a)(1):Object(c.a)(2)}}},function(e,t,n){"use strict";n(1),n(0),n(3),n(4),n(2);var i=n(742),r=n(24),a=n(84),o=n(406),s=n(201),l=n(15),c=n(56),u=n(17),d=n(761),h=n(270),f=n(744),p=n(741),m=n(149),g=n(206),v=n(180),_=n(418).a.extend({hasHandlerForProcedure:function(e){return Object(m.a)(y(e,this))},registerProcedure:function(e,t,n){!function(e,t,n,i){var r=i.channel,a=b.get(r);a||(a=new Map,b.set(r,a));var o=a.get(e);o&&Object(u.b)("A handler for `%{procedureName}` was already registered on this channel",{procedureName:e,registration:o}),a.set(e,{listener:i,target:t,handlerMethodName:n})}(e,t,n=n||e,this)},registerProcedures:function(e,t){for(var n=e.length,i=0;i<n;i++){var r=e[i];Array.isArray(r)?this.registerProcedure(r[0],t,r[1]):this.registerProcedure(r,t)}},unregisterProcedure:function(e){var t=this.channel,n=b.get(t);n&&n.get(e).listener===this&&(n.delete(e),0===n.size&&n.delete(t))},unregisterProcedures:function(e){var t=this;e.forEach((function(e){t.unregisterProcedure(e)}))},unregisterAllProcedures:function(){var e=b.get(this.channel);if(e)for(var t,n=e.entries();t=n.next().value;){var i=t[0];t[1].listener===this&&e.delete(i)}},shouldHandleMessage:function(e){var t=this;return(Array.isArray(e)?e:[e]).filter((function(e){return e&&Object(m.a)(e.jsonrpc)&&e.jsonrpc===t.messageFormatter.jsonRpcVersion&&Object(m.a)(e.method)})).length>0},handleMessage:function(e){var t=this,n=Array.isArray(e),i=n?e:[e],r=o.a.wrapFunction(S),a=this.messageFormatter,s=[],l={};return i.forEach((function(e){var n=e.id,i=r(e,t).then((function(e){l[n]=function(e,t,n){if(Object(m.a)(t))return e.generateResultMessageFor(t,n)}(a,n,e)})).catch((function(e){if(l[n]=I(a,n,e),!(e instanceof v.b))throw e}));s.push(i)})),o.a.all(s).then((function(){return w(t,i,l,n)}),(function(e){throw w(t,i,l,n),e}))},dispose:function(){this.unregisterAllProcedures(),this.__s._$36r$dispose.call(this)},__superMap:{_$36r$dispose:"dispose"},staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcListener"}}),b=new Map;function y(e,t){var n=b.get(t.channel);if(n){var i=n.get(e);if(i&&i.listener===t)return i}return null}function S(e,t){if(t.isDisposed)return new Promise((function(){}));var n=e.method,i=e.params,r=void 0===i?[]:i;if(Object(m.a)(r)&&!Array.isArray(r)){var a="JSON-RPC calls in JavaScript cannot support `params` as an Object, only as an Array";throw g.b.error(a,e),new v.d(a,{message:e})}var o=y(n,t);if(!o)throw g.b.error("The JSON-RPC registration was not found",e,t),new v.e("The JSON-RPC registration was not found",{message:e,listener:t});var s=o.target;if(!s)throw g.b.error("The JSON-RPC target was not found",e,t),new v.e("The JSON-RPC target was not found",{message:e,listener:t});var l=s[o.handlerMethodName];if(!l)throw g.b.error("The JSON-RPC method was not found",e,t),new v.e("The JSON-RPC method was not found",{message:e,listener:t});return l.call.apply(l,[s].concat(r))}function I(e,t,n){if(Object(m.a)(t))return e.generateErrorMessageFor(t,n)}function w(e,t,n,i){var r=e.messageFormatter,a=[];if(t.forEach((function(e){var t=e.id;if(Object(m.a)(t)){var i=n[t];if(!i){var o=new v.c("The JSON-RPC call was part of a batch which failed due to a fatal error thrown by another call.");i=I(r,t,o)}a.push(i)}})),a.length>0){var o=i?a:a[0];e.channel.send(e.serializer.encode(o))}}var E=n(38),C=n(35),A=n(133);n.d(t,"a",(function(){return D}));var T=i.a.extend({promise:r.c(a.b(o.a)),_primaryButtonClicked:function(e){this._showAlertResponse("primary")},_alternateButtonClicked:function(e){this._showAlertResponse("alternate")},_otherButtonClicked:function(e){this._showAlertResponse("other")},_showAlertResponse:function(e){this.promise.resolve({buttonClicked:e})},staticMembers:{__QUALIFIED_CLASS_NAME__:"HostedApplicationAlertViewController"}}),O=s.b("HostedApplicationState",{NOT_STARTED:"NOT_STARTED",STARTING:"STARTING",BEFORE_INACTIVE:"BEFORE_INACTIVE",INACTIVE:"INACTIVE",ACTIVE:"ACTIVE",BACKGROUND:"BACKGROUND"}),D={userInfo:l.b({type:Object,readOnly:!0,defaultValue:a.b(Object)}),processInfo:l.b({type:Object,readOnly:!0,defaultValue:a.b(Object)}),canShowAlert:l.b({type:Boolean,defaultValue:!0}),canReauthenticate:l.b({type:Boolean,defaultValue:!0}),canLaunchChildApp:l.b({type:Boolean,defaultValue:!0}),state:l.b({type:O,binding:c.c("_state"),readOnly:!0}),targetState:l.b({type:O,defaultValue:O.ACTIVE,didChange:function(){switch(this.targetState){case O.ACTIVE:case O.BACKGROUND:case O.NOT_STARTED:break;default:throw new u.a("HostedApplicationSupport: targetState can only be one of ACTIVE, BACKGROUND or NOT_STARTED.",{hostedApplication:this,url:this.urlWithRoute,targetState:this.targetState,state:this._state})}}}),route:l.b({type:String,defaultValue:""}),url:l.b({type:String}),urlWithRoute:l.b({readOnly:!0,dependencies:["url","route"],get:Object.assign((function(){var e=this.url,t=this.route;return t?e+"#"+t:e}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[1+n]);return a?r+"#"+a:r}})}),childAppClass:r.c({defaultValue:function(){return n(684).HostedApplicationPopupViewController}}),childApps:r.c(a.b({})),appAlerts:r.c(a.b(Set)),parentApp:r.c({defaultValue:null,strong:!0}),appId:l.b({readOnly:!0,defaultValue:function(){return"I-"+d.a()}}),isAppRunning:l.b({type:Boolean,readOnly:!0,dependencies:["_state","_isIframeLoaded"],get:Object.assign((function(){var e=this._state,t=this._isIframeLoaded,n=O.NOT_STARTED,i=O.STARTING;return t&&e!==n&&e!==i}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[1+n]),o=O.NOT_STARTED,s=O.STARTING;return a&&r!==o&&r!==s}})}),isActive:l.b({dependencies:["_state"],readOnly:!0,get:Object.assign((function(){return this._state===O.ACTIVE}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===O.ACTIVE}})}),hostAppOrigin:l.b({type:"string",dependencies:["url"],readOnly:!0,get:Object.assign((function(){return h.a.create(this.url).origin}),{__CW__getter:function(e,t,n,i){return h.a.create(i.internalGet(this,t[0+n])).origin}})}),channel:l.b({type:f.a,defaultValue:a.b(f.a),downstreamBindings:{remoteOrigin:"(owner).hostAppOrigin"}}),caller:l.b({type:p.a,defaultValue:a.b(p.a),downstreamBindings:{channel:"(owner).channel"}}),listener:l.b({type:_,defaultValue:a.b(_),downstreamBindings:{channel:"(owner).channel"}}),isReadyToReceiveMessages:E.g(),transition:C.a,authenticate:C.a,reauthenticate:C.a,didTimeout:function(){var e=this.iframeView,t=new u.a("HostedApplicationSupport: Timeout occurred on hosted app",{appId:e.appId,src:e.src});this.didEnd("UNCAUGHT_EXCEPTION",t)},didEnd:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.parentApp,i=this.appId,r=this.childApps,a=this.appAlerts;for(var o in n&&!n.isDisposed&&n.isAppRunning&&this.parentApp.childAppDidEnd(i,e,t),r)if(r.hasOwnProperty(o)){var s=r[o];!s.isDisposed&&s.isAppRunning&&s.parentAppDidEnd()}if(a.forEach((function(e){!e.isDisposed&&e.isAttached&&(g.b.warn("HostedApplicationSupport: Force removing the alert because app ended."),e.hide(),a.delete(e))})),this._stop(),"UNCAUGHT_EXCEPTION"===e){var l=t.title,c=void 0===l?"Unknown Error":l,d="HostedApplicationSupport: App did end with UNCAUGHT_EXCEPTION: "+c;throw new u.a(d,{appId:this.appId,url:this.urlWithRoute,error:t})}},parentAppDidEnd:function(){this._state!==O.NOT_STARTED&&this.didEnd()},childAppDidBecomeActive:function(e){g.b.debug("HostedApplicationSupport: Notifying childAppDidBecomeActive()"),this.caller.sendNotification("childAppDidBecomeActive",e)},childAppDidEnd:function(e,t,n){g.b.debug("HostedApplicationSupport: Notifying childAppDidEnd()"),delete this.childApps[e],this.caller.sendNotification("childAppDidEnd",e,t,n)},init:function(){var e=this,t=arguments;e.__s._$4bh$init.apply(e,t),this.host.addHostedApplication(this);var n=this.appId,i=this.parentApp,r=this.processInfo;r.appId=n,i&&(r.parentHostedAppId=i.appId);var a=this.channel;void 0===a.remoteOrigin&&(a.remoteOrigin=this.hostAppOrigin),void 0===this.caller.channel&&(this.caller.channel=a),void 0===this.listener.channel&&(this.listener.channel=a),this.listener.registerProcedures([["isReadyToReceiveMessages","_isReadyToReceiveMessages"],["setTitle","_setTitle"],["didEnd","_didEnd"],["reportNonFatalError","_reportNonFatalError"],["sendApplicationPreferences","_sendApplicationPreferences"],["recordException","_recordException"],["willUnload","_willUnload"],["isReadyToTerminateDidChange","_isReadyToTerminateDidChange"],["reauthenticate","_reauthenticate"],["logOut","_logOut"],["reloadApplication","_reloadApplication"],["getHostingState","_getHostingState"],["openHelp","_openHelp"],["recordStat","_recordStat"],["beginStat","_beginStat"],["endStat","_endStat"],["setRoute","_setRoute"],["launchChildApp","_launchChildApp"],["showAlert","_showAlert"]],this)},dispose:function(){var e=this,t=arguments;g.b.debug("HostedApplicationSupport: dispose()"),this.host.removeHostedApplication(this),e.__s._$5Kg$dispose.apply(e,t)},didDetach:function(){var e=this,t=arguments;e.__s._$5U1$didDetach.apply(e,t),this._state!==O.NOT_STARTED&&this.didEnd()},becomeActive:function(){g.b.debug("HostedApplicationSupport: becomeActive");var e=O.ACTIVE,t=o.a.create();return M(this,e,(function(){return t.resolve()})),this.targetState!==e&&(this.targetState=e),t},enterBackground:function(){g.b.debug("HostedApplicationSupport: enterBackground");var e=O.BACKGROUND,t=o.a.create();return M(this,e,(function(){return t.resolve()})),this.targetState!==e&&(this.targetState=e),t},shouldRefreshData:function(){},hostingStateDidChange:function(e,t,n){},hostDidReceiveFocus:function(){},hostDidLoseFocus:function(){},relayEvent:function(){},routeDidUpdate:function(e){g.b.debug("HostedApplicationSupport: routeDidUpdate('"+e+"')"),this.isAppRunning&&this.caller.sendNotification("routeDidUpdate",e),this.route=e},_state:l.b({type:O,defaultValue:O.NOT_STARTED}),_isIframeLoaded:l.b({type:Boolean,readOnly:!0,dependencies:["channel.isDisconnected","isAttached"],get:Object.assign((function(){var e=this.channel;return this.isAttached&&e&&!e.isDisconnected}),{__CW__getter:function(e,t,n,i){var r=this.channel;return i.internalGet(this,t[1+n])&&r&&!r.isDisconnected}})}),_loadAndRunTimer:r.c(null),_isReadyToReceiveMessages:function(){g.b.debug("HostedApplicationSupport: Received isReadyToReceiveMessages"),this.isReadyToReceiveMessages()},_didEnd:function(e,t){var n=this;g.b.debug("HostedApplicationSupport: Received didEnd('"+e+"', '"+t+"')"),A.a((function(){!n.isDisposed&&n.isAppRunning&&n.didEnd(e,t)}),1)},_setTitle:function(){},_reportNonFatalError:function(){},_sendApplicationPreferences:function(){},_recordException:function(){},_isReadyToTerminateDidChange:function(){},_reauthenticate:function(){if(!this.canReauthenticate)throw g.b.debug("HostedApplicationSupport: Rejecting reauthenticate()"),new v.b("Did not have access to reauthenticate",2e3,{state:this._state.value});return g.b.debug("HostedApplicationSupport: Received reauthenticate()"),this.reauthenticate()},_logOut:function(e){g.b.debug("HostedApplicationSupport: Received logOut(shouldForce: "+e+")"),this.host.logOut(!!e)},_reloadApplication:function(){g.b.debug("HostedApplicationSupport: Received reloadApplication()"),this._reset();var e=o.a.create();return M(this,this.targetState,(function(){return e.resolve()})),e},_getHostingState:function(){},_openHelp:function(e){this.host.openHelp(e)},_recordStat:function(e,t){this.host.recordStat(e,t)},_beginStat:function(){},_endStat:function(){},_setRoute:function(e){this.route=e,this.host.setRouteForApp(this,e)},_launchChildApp:function(e){if(g.b.debug("HostedApplicationSupport: Received launchChildApp("+e+")"),!this.canLaunchChildApp)throw g.b.debug("HostedApplicationSupport: Rejecting launchChildApp()"),new v.b("Did not have access to launch child app.",2e3,{state:this._state.value});var t=this.childAppClass.create({url:e,host:this.host,parentApp:this}),n=t.appId;return this.childApps[n]=t,t.show(),n},_showAlert:function(e){var t=this;if(g.b.debug("HostedApplicationSupport: Received showAlert()"),!this.canShowAlert)throw g.b.debug("HostedApplicationSupport: Rejecting showAlert()"),new v.b("Did not have access to showAlert.",2e3,{state:this._state.value});e||u.b("HostedApplication#showAlert: params are mandatory.");var n=e.alertType,i=e.message,r=e.description,a=e.primaryButton,o=e.alternateButton,s=e.otherButton;i&&a||u.b("HostedApplication#showAlert: message, and primaryButton are mandatory.");var l=["small"];a.action="_primaryButtonClicked";var c=a.additionalClassNames=l.slice(0);c.push("default-action"),a.isDestructive&&c.push("destructive"),[o,s].forEach((function(e){e&&(c=e.additionalClassNames=l.slice(0),e.isDestructive&&c.push("destructive"))})),o&&(o.action="_alternateButtonClicked"),s&&(s.action="_otherButtonClicked");var d=T.show({iconNames:n,message:i,description:r,primaryButton:a,alternateButton:o,otherButton:s}),h=this.appAlerts;return h.add(d),d.promise.then((function(e){return t.isDisposed||h.delete(d),e}))},_start:function(){var e=this,t=this._state,n=O.NOT_STARTED,i=O.STARTING;if(t!==n)throw new u.a("HostedApplicationSupport: _start can only be called while NOT_STARTED.",{hostedApplication:this,url:this.urlWithRoute,targetState:this.targetState,state:t});return this._state=i,o.a.invokeFunction((function(){return e.authenticate()})).then((function(){return!e.isDisposed&&e.isAttached&&e._load()})).then((function(){return!e.isDisposed&&e._isIframeLoaded&&e._run()}))},_stop:function(){var e=this._state,t=O.NOT_STARTED;if(e===t)throw new u.a("HostedApplicationSupport: _stop cannot be called when NOT_STARTED.",{hostedApplication:this,targetState:this.targetState,state:e});this.targetState=t,this._reset()},_reset:function(){this._stopLoadAndRunTimer(),this._unload(),this._state=O.NOT_STARTED},_startLoadAndRunTimer:function(){var e=this;if(this._loadAndRunTimer)throw new u.a("HostedApplicationSupport: _startLoadAndRunTimer cannot be called while another one is in flight.",{hostedApplication:this,url:this.urlWithRoute,timerId:this._loadAndRunTimer,targetState:this.targetState,state:this._state});this._loadAndRunTimer=A.a((function(){e.isDisposed||(e._loadAndRunTimer=null,e.didTimeout())}),3e4)},_stopLoadAndRunTimer:function(){this._loadAndRunTimer&&(globalThis.clearTimeout(this._loadAndRunTimer),this._loadAndRunTimer=null)},_load:function(){var e=o.a.create(),t=this.iframeView,n=this.channel,i=this.urlWithRoute;this._startLoadAndRunTimer();var r=this.listen("isReadyToReceiveMessages",(function(){g.b.debug("HostedApplicationSupport: Loaded iframe with src "+t.src),r.disconnect(),e.resolve()}));return n.bind("iframe",this.bindingFor("iframeView.iframe")),t.bind("appId",this.bindingFor("appId")),t.src=i,e},_unload:function(){var e=this.iframeView,t=this.channel;e.src="",e.unbind("appId"),t.unbind("iframe")},_run:function(){var e=this,t=this.userInfo,n=this.processInfo,i=this.host.hostInfo;return g.b.debug("HostedApplicationSupport: Calling run()"),this.caller.callRemoteProcedure("run",t,i,n).then((function(){!e.isDisposed&&e.isAttached&&(g.b.debug("HostedApplicationSupport: Received ack for run()"),e._stopLoadAndRunTimer(),e.urlWithRoute!==e.iframeView.src&&e.transceiver.sendNotification("routeDidUpdate",e.route),e._state=O.BACKGROUND)}))},_willEnterForeground:function(){var e=this;return g.b.debug("HostedApplicationSupport: Calling willEnterForeground()"),this._state=O.BEFORE_INACTIVE,this.caller.callRemoteProcedure("willEnterForeground").then((function(){g.b.debug("HostedApplicationSupport: Received ack for willEnterForeground()"),!e.isDisposed&&e.isAttached&&(e._state=O.INACTIVE)}))},_didBecomeActive:function(){g.b.debug("HostedApplicationSupport: Notifying didBecomeActive()"),this.caller.sendNotification("didBecomeActive");var e=this.parentApp,t=this.appId;e&&!e.isDisposed&&e.isAppRunning&&e.childAppDidBecomeActive(t),this._state=O.ACTIVE},_willResignActive:function(){g.b.debug("HostedApplicationSupport: Notifying willResignActive()"),this._state=O.INACTIVE,this.caller.sendNotification("willResignActive")},_didEnterBackground:function(){g.b.debug("HostedApplicationSupport: Notifying didEnterBackground()"),this.caller.sendNotification("didEnterBackground"),this._state=O.BACKGROUND},_becomeActive:function(){var e=this,t=O.BACKGROUND,n=this._state;if(n!==t)throw new u.a("HostedApplicationSupport: _becomeActive can only be called while ACTIVE.",{hostedApplication:this,url:this.urlWithRoute,targetState:this.targetState,state:n});return g.b.debug("HostedApplicationSupport: _becomeActive"),this._willEnterForeground().then((function(){return!e.isDisposed&&e.isAppRunning&&e.transition(!0)})).then((function(){return!e.isDisposed&&e.isAppRunning&&e._didBecomeActive()}))},_enterBackground:function(){var e=this,t=O.ACTIVE,n=this._state;if(n!==t)throw new u.a("HostedApplicationSupport: _enterBackground can only be called while ACTIVE.",{hostedApplication:this,url:this.urlWithRoute,targetState:this.targetState,state:n});return g.b.debug("HostedApplicationSupport: _enterBackground"),o.a.invokeFunction((function(){return e._willResignActive()})).then((function(){return!e.isDisposed&&e.isAppRunning&&e.transition(!1)})).then((function(){return!e.isDisposed&&e.isAppRunning&&e._didEnterBackground()}))},_hostedApplicationStateObserver:E.f({inputs:["isAttached","_state","targetState"],callback:function(e,t,n){var i=O.NOT_STARTED,r=O.BACKGROUND,a=O.ACTIVE;if(e)if(n===r)switch(t){case i:this._start();break;case a:this._enterBackground()}else if(n===a)switch(t){case i:this._start();break;case r:this._becomeActive()}}}),__superMap:{_$4bh$init:"init",_$5Kg$dispose:"dispose",_$5U1$didDetach:"didDetach"}};function M(e,t,n){if(e.state===t)n();else var i=e.listen("state",(function(e){e===t&&(i.disconnect(),i=null,n())}))}},function(e,t,n){"use strict";var i=n(83),r=n(38),a=n(15),o=n(150),s=n(17),l=n(142),c=n(243),u=n(410),d=n(740),h=n(270);n.d(t,"a",(function(){return f}));var f=i.a.extend(r.a,u.a,{autoconnect:!0,isDisconnected:Object(a.b)({readOnly:!0,get:function(){return this._isDisconnected}}),incomingMessage:Object(r.g)(),outgoingMessage:Object(r.g)(),outgoingWindow:o.a.define(),remoteOrigin:Object(a.b)({type:"string"}),_isDisconnected:!0,_messageHandler:null,connect:function(){this.isDisconnected&&(this.outgoingWindow&&this.outgoingWindow.postMessage||Object(s.b)("The `outgoingWindow` must be configured and support `postMessage()`"),Object(l.a)(window,"message",this._messageHandler),this._isDisconnected=!1,this.propertyChanged("isDisconnected"))},disconnect:function(){this.isDisconnected||(Object(c.a)(window,"message",this._messageHandler),this._isDisconnected=!0,this.propertyChanged("isDisconnected"))},init:function(){var e=this,t=arguments;this._messageHandler=p.bind(this),e.__s._$1At$init.apply(e,t)},send:function(e){this.isDisconnected&&Object(s.b)("Cannot send message because the channel has not been connected.",this);var t=this.remoteOrigin;t||Object(s.b)("Cannot send message without `remoteOrigin` specified.",this),this.outgoingWindow.postMessage(e,t),this.outgoingMessage(e)},outgoingWindowDidChange:Object(r.f)("outgoingWindow",(function(e){e?this.autoconnect&&this.connect():this.disconnect()})),__superMap:{_$1At$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"WindowPostMessageChannel"}});function p(e){var t=e.originalEvent,n=(t||e).origin,i=this.outgoingWindow,r=e.source,a=i===r;try{a||(a=i.actualOutgoingWindow===r)}catch(o){a=!1}a&&function(e,t){if("*"===e||"*"===t)return!0;var n=h.a.parse(e),i=h.a.parse(t);if(Object(d.a)(n.protocol)||Object(d.a)(i.protocol)||n.protocol!==i.protocol)return!1;if(Object(d.a)(n.hostname)||Object(d.a)(i.hostname)||n.hostname!==i.hostname)return!1;if(e===t)return!0;var r=n.port;Object(d.a)(r)&&(r="https:"===n.protocol?"443":"80");var a=i.port;return Object(d.a)(a)&&(a="https:"===i.protocol?"443":"80"),r===a}(n,this.remoteOrigin)&&this.incomingMessage((t||e).data)}},function(e,t,n){"use strict";n(0);var i=n(412),r=n(15),a={staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:["cw-modal-dialog"],attributes:{role:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"modalDialogRole",attributes:{},attribute:"role"},"aria-labelledby":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabelledByID",attributes:{},attribute:"aria-labelledby"},"aria-describedby":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaDescribedByID",attributes:{},attribute:"aria-describedby"},tabindex:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tabIndex",attributes:{},attribute:"tabindex"}}}}},isFocusable:!0,tabIndex:Object(r.b)(-1),ariaLabelledByID:Object(r.b)(),ariaDescribedByID:Object(r.b)(),modalDialogRole:Object(r.b)("dialog")},o=n(38),s=n(273),l=n(181);n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var c=1,u=l.a.extend(a,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",name:"alertIcon",classes:["alert-icon"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"message",attributes:{}}],classes:["message"],attributes:{id:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabelledByID",attributes:{},attribute:"id"},tabindex:"0"}},{type:"ELEMENT",tagname:"p",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"description",attributes:{}}],classes:["description"],attributes:{id:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaDescribedByID",attributes:{},attribute:"id"},tabindex:"0"}}],name:"contentWrapper",classes:["alert-text-container"]}],classes:["alert-main-content"]},{type:"VIEWOUTLET",tagname:"view",name:"accessoryView",classes:["alert-accessory-view"]}],classes:["main-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_hasText",truevalue:"",falsevalue:"cw-hidden",attributes:{}}]},{type:"MULTIVIEWOUTLET",tagname:"views",name:"buttonViews",classes:["alert-button-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_hasMoreThanTwoButtons",truevalue:"has-more-than-two-buttons",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_hasOtherButton",truevalue:"has-other-button",attributes:{}}]}],classes:["cw-alert",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"_alertStyleClassName",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"AlertContentView"},ariaLabelledByID:Object(r.b)({readOnly:!0,get:function(){return"alert-m-"+ ++c}}),ariaDescribedByID:Object(r.b)({readOnly:!0,get:function(){return"alert-d-"+c++}}),message:Object(r.b)(),description:Object(r.b)(),iconNames:Object(r.b)(),alertStyle:Object(r.b)(),_alertStyleClassName:Object(r.b)({readOnly:!0,dependencies:["alertStyle"],get:Object.assign((function(){return this.alertStyle?this.alertStyle.value:""}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?i.internalGet(this,t[0+n]).value:""}})}),_hasText:Object(r.b)({readOnly:!0,dependencies:["message","description"],get:Object.assign((function(){return Boolean(this.message||this.description)}),{__CW__getter:function(e,t,n,i){return Boolean(i.internalGet(this,t[0+n])||i.internalGet(this,t[1+n]))}})}),_hasMoreThanTwoButtons:Object(r.b)({dependencies:["buttonViews","buttonViews.contentsDidChange"],type:Boolean,readOnly:!0,get:Object.assign((function(){var e=this.buttonViews;return void 0!==e&&e.length>2}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return void 0!==r&&r.length>2}})}),_hasOtherButton:Object(r.b)({dependencies:["buttonViews","buttonViews.contentsDidChange"],type:Boolean,readOnly:!0,get:Object.assign((function(){var e=this.buttonViews;return void 0!==e&&e.length>1&&(e.length>2||!0!==e.objectAt(1).isAlternate)}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return void 0!==r&&r.length>1&&(r.length>2||!0!==r.objectAt(1).isAlternate)}})}),_iconNamesDidChange:Object(o.f)({inputs:["iconNames"],callback:function(e){var t=this.get("alertIcon");this._originalClassName?t.className=this._originalClassName:this._originalClassName=t.className,e&&(e instanceof Array?e.forEach((function(e){t.classList.add(e)})):t.classList.add(e))}}),disableAllButtons:function(){this.buttonViews.forEach((function(e){e.isDisabled=!0}))},enableAllButtons:function(){this.buttonViews.forEach((function(e){e.isDisabled=!1}))},buttonViews:Object(r.b)()}),d=i.a.extend({additionalClassNames:Object(s.a)(["cw-ui-alert-view","cw-alert-modal"]),buttonDidActivate:function(e){this.sendEvent("alertWillDismiss"),this.contentView&&this.contentView.disableAllButtons(),this.animateClosed()},dismissOnEscape:!1,staticMembers:{__QUALIFIED_CLASS_NAME__:"AlertView"}})},function(e,t,n){n(754),n(749),n(758),n(755),n(750),n(756),n(747),n(753),n(751),n(757),n(748),n(752),n(759),n(760),n(424),n(638),e.exports=n(697)},function(e,t,n){"use strict";n.r(t),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(247),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(472),n(473),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(533),n(534),n(535),n(536),n(538),n(539),n(540),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558),n(559),n(560),n(561),n(362),n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),n(586),n(587),n(588),n(589),n(590),n(591),n(592),n(593),n(594),n(595),n(596),n(597),n(598),n(599),n(600),n(601),n(602),n(603),n(604),n(605),n(606),n(607),n(608),n(609),n(610),n(611),n(612),n(613),n(614),n(615),n(616),n(617),n(618),n(619),n(620),n(621),n(622),n(623),n(624),n(626),n(629),n(630),n(631),n(632),n(633),n(636),n(369),n(637)},function(e,t,n){"use strict";var i=n(16),r=n(50),a=n(144),o=n(79),s=n(335),l=n(36),c=n(94),u=n(182),d=n(59),h=n(60),f=n(89),p=n(117),m=n(136),g=n(164),v=n(166),_=n(214),b=n(165),y=n(338),S=n(288),I=n(110),w=n(88),E=n(244),C=n(102),A=n(104),T=n(209),O=n(245),D=n(211),M=n(210),N=n(68),F=n(339),L=n(111),R=n(139),x=n(118),P=n(100).forEach,k=O("hidden"),U=N("toPrimitive"),j=x.set,B=x.getterFor("Symbol"),V=Object.prototype,$=r.Symbol,W=r.JSON,z=W&&W.stringify,G=I.f,H=w.f,K=y.f,Q=E.f,q=T("symbols"),Y=T("op-symbols"),X=T("string-to-symbol-registry"),J=T("symbol-to-string-registry"),Z=T("wks"),ee=r.QObject,te=!ee||!ee.prototype||!ee.prototype.findChild,ne=o&&l((function(){return 7!=v(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=G(V,t);i&&delete V[t],H(e,t,n),i&&e!==V&&H(V,t,i)}:H,ie=function(e,t){var n=q[e]=v($.prototype);return j(n,{type:"Symbol",tag:e,description:t}),o||(n.description=t),n},re=s&&"symbol"==typeof $.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof $},ae=function(e,t,n){e===V&&ae(Y,t,n),h(e);var i=m(t,!0);return h(n),c(q,i)?(n.enumerable?(c(e,k)&&e[k][i]&&(e[k][i]=!1),n=v(n,{enumerable:g(0,!1)})):(c(e,k)||H(e,k,g(1,{})),e[k][i]=!0),ne(e,i,n)):H(e,i,n)},oe=function(e,t){h(e);var n=p(t),i=_(n).concat(ue(n));return P(i,(function(t){o&&!se.call(n,t)||ae(e,t,n[t])})),e},se=function(e){var t=m(e,!0),n=Q.call(this,t);return!(this===V&&c(q,t)&&!c(Y,t))&&(!(n||!c(this,t)||!c(q,t)||c(this,k)&&this[k][t])||n)},le=function(e,t){var n=p(e),i=m(t,!0);if(n!==V||!c(q,i)||c(Y,i)){var r=G(n,i);return!r||!c(q,i)||c(n,k)&&n[k][i]||(r.enumerable=!0),r}},ce=function(e){var t=K(p(e)),n=[];return P(t,(function(e){c(q,e)||c(D,e)||n.push(e)})),n},ue=function(e){var t=e===V,n=K(t?Y:p(e)),i=[];return P(n,(function(e){!c(q,e)||t&&!c(V,e)||i.push(q[e])})),i};s||(A(($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=M(e),n=function(e){this===V&&n.call(Y,e),c(this,k)&&c(this[k],t)&&(this[k][t]=!1),ne(this,t,g(1,e))};return o&&te&&ne(V,t,{configurable:!0,set:n}),ie(t,e)}).prototype,"toString",(function(){return B(this).tag})),E.f=se,w.f=ae,I.f=le,b.f=y.f=ce,S.f=ue,o&&(H($.prototype,"description",{configurable:!0,get:function(){return B(this).description}}),a||A(V,"propertyIsEnumerable",se,{unsafe:!0})),F.f=function(e){return ie(N(e),e)}),i({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:$}),P(_(Z),(function(e){L(e)})),i({target:"Symbol",stat:!0,forced:!s},{for:function(e){var t=String(e);if(c(X,t))return X[t];var n=$(t);return X[t]=n,J[n]=t,n},keyFor:function(e){if(!re(e))throw TypeError(e+" is not a symbol");if(c(J,e))return J[e]},useSetter:function(){te=!0},useSimple:function(){te=!1}}),i({target:"Object",stat:!0,forced:!s,sham:!o},{create:function(e,t){return void 0===t?v(e):oe(v(e),t)},defineProperty:ae,defineProperties:oe,getOwnPropertyDescriptor:le}),i({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ce,getOwnPropertySymbols:ue}),i({target:"Object",stat:!0,forced:l((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(f(e))}}),W&&i({target:"JSON",stat:!0,forced:!s||l((function(){var e=$();return"[null]"!=z([e])||"{}"!=z({a:e})||"{}"!=z(Object(e))}))},{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(d(t)||void 0!==e)&&!re(e))return u(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!re(t))return t}),i[1]=t,z.apply(W,i)}}),$.prototype[U]||C($.prototype,U,$.prototype.valueOf),R($,"Symbol"),D[k]=!0},function(e,t,n){"use strict";var i=n(16),r=n(79),a=n(50),o=n(94),s=n(59),l=n(88).f,c=n(333),u=a.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},h=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof h?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};c(h,u);var f=h.prototype=u.prototype;f.constructor=h;var p=f.toString,m="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;l(f,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=p.call(e);if(o(d,e))return"";var n=m?t.slice(7,-1):t.replace(g,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:h})}},function(e,t,n){n(111)("asyncIterator")},function(e,t,n){n(111)("hasInstance")},function(e,t,n){n(111)("isConcatSpreadable")},function(e,t,n){n(111)("iterator")},function(e,t,n){n(111)("match")},function(e,t,n){n(111)("replace")},function(e,t,n){n(111)("search")},function(e,t,n){n(111)("species")},function(e,t,n){n(111)("split")},function(e,t,n){n(111)("toPrimitive")},function(e,t,n){n(111)("toStringTag")},function(e,t,n){n(111)("unscopables")},function(e,t,n){"use strict";var i=n(16),r=n(36),a=n(182),o=n(59),s=n(89),l=n(71),c=n(167),u=n(215),d=n(216),h=n(68)("isConcatSpreadable"),f=!r((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),p=d("concat"),m=function(e){if(!o(e))return!1;var t=e[h];return void 0!==t?!!t:a(e)};i({target:"Array",proto:!0,forced:!f||!p},{concat:function(e){var t,n,i,r,a,o=s(this),d=u(o,0),h=0;for(t=-1,i=arguments.length;t<i;t++)if(a=-1===t?o:arguments[t],m(a)){if(h+(r=l(a.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,h++)n in a&&c(d,h,a[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(d,h++,a)}return d.length=h,d}})},function(e,t,n){var i=n(16),r=n(340),a=n(154);i({target:"Array",proto:!0},{copyWithin:r}),a("copyWithin")},function(e,t,n){"use strict";var i=n(16),r=n(100).every;i({target:"Array",proto:!0,forced:n(145)("every")},{every:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(16),r=n(289),a=n(154);i({target:"Array",proto:!0},{fill:r}),a("fill")},function(e,t,n){"use strict";var i=n(16),r=n(100).filter;i({target:"Array",proto:!0,forced:!n(216)("filter")},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(16),r=n(100).find,a=n(154),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),i({target:"Array",proto:!0,forced:o},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("find")},function(e,t,n){"use strict";var i=n(16),r=n(100).findIndex,a=n(154),o=!0;"findIndex"in[]&&Array(1).findIndex((function(){o=!1})),i({target:"Array",proto:!0,forced:o},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findIndex")},function(e,t,n){"use strict";var i=n(16),r=n(341),a=n(89),o=n(71),s=n(129),l=n(215);i({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),n=o(t.length),i=l(t,0);return i.length=r(i,t,t,n,0,void 0===e?1:s(e)),i}})},function(e,t,n){"use strict";var i=n(16),r=n(341),a=n(89),o=n(71),s=n(112),l=n(215);i({target:"Array",proto:!0},{flatMap:function(e){var t,n=a(this),i=o(n.length);return s(e),(t=l(n,0)).length=r(t,n,n,i,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},function(e,t,n){"use strict";var i=n(16),r=n(342);i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(e,t,n){var i=n(16),r=n(343);i({target:"Array",stat:!0,forced:!n(246)((function(e){Array.from(e)}))},{from:r})},function(e,t,n){"use strict";var i=n(16),r=n(212).includes,a=n(154);i({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},function(e,t,n){"use strict";var i=n(16),r=n(212).indexOf,a=n(145),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0,l=a("indexOf");i({target:"Array",proto:!0,forced:s||l},{indexOf:function(e){return s?o.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(16),r=n(208),a=n(117),o=n(145),s=[].join,l=r!=Object,c=o("join",",");i({target:"Array",proto:!0,forced:l||c},{join:function(e){return s.call(a(this),void 0===e?",":e)}})},function(e,t,n){var i=n(16),r=n(347);i({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},function(e,t,n){"use strict";var i=n(16),r=n(100).map;i({target:"Array",proto:!0,forced:!n(216)("map")},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(16),r=n(36),a=n(167);i({target:"Array",stat:!0,forced:r((function(){function e(){}return!(Array.of.call(e)instanceof e)}))},{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)a(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var i=n(16),r=n(248).left;i({target:"Array",proto:!0,forced:n(145)("reduce")},{reduce:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(16),r=n(248).right;i({target:"Array",proto:!0,forced:n(145)("reduceRight")},{reduceRight:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(16),r=n(182),a=[].reverse,o=[1,2];i({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),a.call(this)}})},function(e,t,n){"use strict";var i=n(16),r=n(59),a=n(182),o=n(152),s=n(71),l=n(117),c=n(167),u=n(216),d=n(68)("species"),h=[].slice,f=Math.max;i({target:"Array",proto:!0,forced:!u("slice")},{slice:function(e,t){var n,i,u,p=l(this),m=s(p.length),g=o(e,m),v=o(void 0===t?m:t,m);if(a(p)&&("function"!=typeof(n=p.constructor)||n!==Array&&!a(n.prototype)?r(n)&&null===(n=n[d])&&(n=void 0):n=void 0,n===Array||void 0===n))return h.call(p,g,v);for(i=new(void 0===n?Array:n)(f(v-g,0)),u=0;g<v;g++,u++)g in p&&c(i,u,p[g]);return i.length=u,i}})},function(e,t,n){"use strict";var i=n(16),r=n(100).some;i({target:"Array",proto:!0,forced:n(145)("some")},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(16),r=n(112),a=n(89),o=n(36),s=n(145),l=[].sort,c=[1,2,3],u=o((function(){c.sort(void 0)})),d=o((function(){c.sort(null)})),h=s("sort");i({target:"Array",proto:!0,forced:u||!d||h},{sort:function(e){return void 0===e?l.call(a(this)):l.call(a(this),r(e))}})},function(e,t,n){n(184)("Array")},function(e,t,n){"use strict";var i=n(16),r=n(152),a=n(129),o=n(71),s=n(89),l=n(215),c=n(167),u=n(216),d=Math.max,h=Math.min;i({target:"Array",proto:!0,forced:!u("splice")},{splice:function(e,t){var n,i,u,f,p,m,g=s(this),v=o(g.length),_=r(e,v),b=arguments.length;if(0===b?n=i=0:1===b?(n=0,i=v-_):(n=b-2,i=h(d(a(t),0),v-_)),v+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=l(g,i),f=0;f<i;f++)(p=_+f)in g&&c(u,f,g[p]);if(u.length=i,n<i){for(f=_;f<v-i;f++)m=f+n,(p=f+i)in g?g[m]=g[p]:delete g[m];for(f=v;f>v-i+n;f--)delete g[f-1]}else if(n>i)for(f=v-i;f>_;f--)m=f+n-1,(p=f+i-1)in g?g[m]=g[p]:delete g[m];for(f=0;f<n;f++)g[f+_]=arguments[f+2];return g.length=v-i+n,u}})},function(e,t,n){n(154)("flat")},function(e,t,n){n(154)("flatMap")},function(e,t,n){"use strict";var i=n(16),r=n(50),a=n(249),o=n(184),s=a.ArrayBuffer;i({global:!0,forced:r.ArrayBuffer!==s},{ArrayBuffer:s}),o("ArrayBuffer")},function(e,t,n){var i=n(16),r=n(67);i({target:"ArrayBuffer",stat:!0,forced:!r.NATIVE_ARRAY_BUFFER_VIEWS},{isView:r.isView})},function(e,t,n){"use strict";var i=n(16),r=n(36),a=n(249),o=n(60),s=n(152),l=n(71),c=n(146),u=a.ArrayBuffer,d=a.DataView,h=u.prototype.slice;i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:r((function(){return!new u(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==h&&void 0===t)return h.call(o(this),e);for(var n=o(this).byteLength,i=s(e,n),r=s(void 0===t?n:t,n),a=new(c(this,u))(l(r-i)),f=new d(this),p=new d(a),m=0;i<r;)p.setUint8(m++,f.getUint8(i++));return a}})},function(e,t,n){var i=n(16),r=n(249);i({global:!0,forced:!n(67).NATIVE_ARRAY_BUFFER},{DataView:r.DataView})},function(e,t,n){var i=n(16),r=n(471);i({target:"Date",proto:!0,forced:Date.prototype.toISOString!==r},{toISOString:r})},function(e,t,n){"use strict";var i=n(36),r=n(294).start,a=Math.abs,o=Date.prototype,s=o.getTime,l=o.toISOString;e.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=l.call(new Date(-5e13-1))}))||!i((function(){l.call(new Date(NaN))}))?function(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+r(a(e),n?6:4,0)+"-"+r(this.getUTCMonth()+1,2,0)+"-"+r(this.getUTCDate(),2,0)+"T"+r(this.getUTCHours(),2,0)+":"+r(this.getUTCMinutes(),2,0)+":"+r(this.getUTCSeconds(),2,0)+"."+r(t,3,0)+"Z"}:l},function(e,t,n){"use strict";var i=n(16),r=n(36),a=n(89),o=n(136);i({target:"Date",proto:!0,forced:r((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=a(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var i=n(102),r=n(474),a=n(68)("toPrimitive"),o=Date.prototype;a in o||i(o,a,r)},function(e,t,n){"use strict";var i=n(60),r=n(136);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return r(i(this),"number"!==e)}},function(e,t,n){"use strict";var i=n(59),r=n(88),a=n(140),o=n(68)("hasInstance"),s=Function.prototype;o in s||r.f(s,o,{value:function(e){if("function"!=typeof this||!i(e))return!1;if(!i(this.prototype))return e instanceof this;for(;e=a(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var i=n(79),r=n(88).f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/;!i||"name"in a||r(a,"name",{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,n){var i=n(50);n(139)(i.JSON,"JSON",!0)},function(e,t,n){"use strict";var i=n(250),r=n(349);e.exports=i("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r,!0)},function(e,t,n){var i=n(16),r=n(350),a=Math.acosh,o=Math.log,s=Math.sqrt,l=Math.LN2;i({target:"Math",stat:!0,forced:!a||710!=Math.floor(a(Number.MAX_VALUE))||a(1/0)!=1/0},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?o(e)+l:r(e-1+s(e-1)*s(e+1))}})},function(e,t,n){var i=n(16),r=Math.asinh,a=Math.log,o=Math.sqrt;i({target:"Math",stat:!0,forced:!(r&&1/r(0)>0)},{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):a(t+o(t*t+1)):t}})},function(e,t,n){var i=n(16),r=Math.atanh,a=Math.log;i({target:"Math",stat:!0,forced:!(r&&1/r(-0)<0)},{atanh:function(e){return 0==(e=+e)?e:a((1+e)/(1-e))/2}})},function(e,t,n){var i=n(16),r=n(297),a=Math.abs,o=Math.pow;i({target:"Math",stat:!0},{cbrt:function(e){return r(e=+e)*o(a(e),1/3)}})},function(e,t,n){var i=n(16),r=Math.floor,a=Math.log,o=Math.LOG2E;i({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-r(a(e+.5)*o):32}})},function(e,t,n){var i=n(16),r=n(251),a=Math.cosh,o=Math.abs,s=Math.E;i({target:"Math",stat:!0,forced:!a||a(710)===1/0},{cosh:function(e){var t=r(o(e)-1)+1;return(t+1/(t*s*s))*(s/2)}})},function(e,t,n){var i=n(16),r=n(251);i({target:"Math",stat:!0,forced:r!=Math.expm1},{expm1:r})},function(e,t,n){n(16)({target:"Math",stat:!0},{fround:n(487)})},function(e,t,n){var i=n(297),r=Math.abs,a=Math.pow,o=a(2,-52),s=a(2,-23),l=a(2,127)*(2-s),c=a(2,-126);e.exports=Math.fround||function(e){var t,n,a=r(e),u=i(e);return a<c?u*(a/c/s+1/o-1/o)*c*s:(n=(t=(1+s/o)*a)-(t-a))>l||n!=n?u*(1/0):u*n}},function(e,t,n){var i=n(16),r=Math.hypot,a=Math.abs,o=Math.sqrt;i({target:"Math",stat:!0,forced:!!r&&r(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,i,r=0,s=0,l=arguments.length,c=0;s<l;)c<(n=a(arguments[s++]))?(r=r*(i=c/n)*i+1,c=n):r+=n>0?(i=n/c)*i:n;return c===1/0?1/0:c*o(r)}})},function(e,t,n){var i=n(16),r=n(36),a=Math.imul;i({target:"Math",stat:!0,forced:r((function(){return-5!=a(4294967295,5)||2!=a.length}))},{imul:function(e,t){var n=+e,i=+t,r=65535&n,a=65535&i;return 0|r*a+((65535&n>>>16)*a+r*(65535&i>>>16)<<16>>>0)}})},function(e,t,n){var i=n(16),r=Math.log,a=Math.LOG10E;i({target:"Math",stat:!0},{log10:function(e){return r(e)*a}})},function(e,t,n){n(16)({target:"Math",stat:!0},{log1p:n(350)})},function(e,t,n){var i=n(16),r=Math.log,a=Math.LN2;i({target:"Math",stat:!0},{log2:function(e){return r(e)/a}})},function(e,t,n){n(16)({target:"Math",stat:!0},{sign:n(297)})},function(e,t,n){var i=n(16),r=n(36),a=n(251),o=Math.abs,s=Math.exp,l=Math.E;i({target:"Math",stat:!0,forced:r((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(e){return o(e=+e)<1?(a(e)-a(-e))/2:(s(e-1)-s(-e-1))*(l/2)}})},function(e,t,n){var i=n(16),r=n(251),a=Math.exp;i({target:"Math",stat:!0},{tanh:function(e){var t=r(e=+e),n=r(-e);return t==1/0?1:n==1/0?-1:(t-n)/(a(e)+a(-e))}})},function(e,t,n){n(139)(Math,"Math",!0)},function(e,t,n){var i=n(16),r=Math.ceil,a=Math.floor;i({target:"Math",stat:!0},{trunc:function(e){return(e>0?a:r)(e)}})},function(e,t,n){"use strict";var i=n(79),r=n(50),a=n(213),o=n(104),s=n(94),l=n(135),c=n(296),u=n(136),d=n(36),h=n(166),f=n(165).f,p=n(110).f,m=n(88).f,g=n(187).trim,v=r.Number,_=v.prototype,b="Number"==l(h(_)),y=function(e){var t,n,i,r,a,o,s,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=g(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+c}for(o=(a=c.slice(2)).length,s=0;s<o;s++)if((l=a.charCodeAt(s))<48||l>r)return NaN;return parseInt(a,i)}return+c};if(a("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var S,I=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof I&&(b?d((function(){_.valueOf.call(n)})):"Number"!=l(n))?c(new v(y(t)),n,I):y(t)},w=i?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;w.length>E;E++)s(v,S=w[E])&&!s(I,S)&&m(I,S,p(v,S));I.prototype=_,_.constructor=I,o(r,"Number",I)}},function(e,t,n){n(16)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(e,t,n){n(16)({target:"Number",stat:!0},{isFinite:n(501)})},function(e,t,n){var i=n(50).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&i(e)}},function(e,t,n){n(16)({target:"Number",stat:!0},{isInteger:n(351)})},function(e,t,n){n(16)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,n){var i=n(16),r=n(351),a=Math.abs;i({target:"Number",stat:!0},{isSafeInteger:function(e){return r(e)&&a(e)<=9007199254740991}})},function(e,t,n){n(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){n(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var i=n(16),r=n(352);i({target:"Number",stat:!0,forced:Number.parseFloat!=r},{parseFloat:r})},function(e,t,n){var i=n(16),r=n(353);i({target:"Number",stat:!0,forced:Number.parseInt!=r},{parseInt:r})},function(e,t,n){"use strict";var i=n(16),r=n(129),a=n(354),o=n(295),s=n(36),l=1..toFixed,c=Math.floor,u=function(e,t,n){return 0===t?n:t%2===1?u(e,t-1,n*e):u(e*e,t/2,n)};i({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}))},{toFixed:function(e){var t,n,i,s,l=a(this),d=r(e),h=[0,0,0,0,0,0],f="",p="0",m=function(e,t){for(var n=-1,i=t;++n<6;)i+=e*h[n],h[n]=i%1e7,i=c(i/1e7)},g=function(e){for(var t=6,n=0;--t>=0;)n+=h[t],h[t]=c(n/e),n=n%e*1e7},v=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==h[e]){var n=String(h[e]);t=""===t?n:t+o.call("0",7-n.length)+n}return t};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(f="-",l=-l),l>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(l*u(2,69,1))-69)<0?l*u(2,-t,1):l/u(2,t,1),n*=4503599627370496,(t=52-t)>0){for(m(0,n),i=d;i>=7;)m(1e7,0),i-=7;for(m(u(10,i,1),0),i=t-1;i>=23;)g(1<<23),i-=23;g(1<<i),m(1,1),g(2),p=v()}else m(0,n),m(1<<-t,0),p=v()+o.call("0",d);return d>0?f+((s=p.length)<=d?"0."+o.call("0",d-s)+p:p.slice(0,s-d)+"."+p.slice(s-d)):f+p}})},function(e,t,n){"use strict";var i=n(16),r=n(36),a=n(354),o=1..toPrecision;i({target:"Number",proto:!0,forced:r((function(){return"1"!==o.call(1,void 0)}))||!r((function(){o.call({})}))},{toPrecision:function(e){return void 0===e?o.call(a(this)):o.call(a(this),e)}})},function(e,t,n){var i=n(16),r=n(355);i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(e,t,n){"use strict";var i=n(16),r=n(79),a=n(253),o=n(89),s=n(112),l=n(88);r&&i({target:"Object",proto:!0,forced:a},{__defineGetter__:function(e,t){l.f(o(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var i=n(16),r=n(79),a=n(253),o=n(89),s=n(112),l=n(88);r&&i({target:"Object",proto:!0,forced:a},{__defineSetter__:function(e,t){l.f(o(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},function(e,t,n){var i=n(16),r=n(356).entries;i({target:"Object",stat:!0},{entries:function(e){return r(e)}})},function(e,t,n){var i=n(16),r=n(220),a=n(36),o=n(59),s=n(168).onFreeze,l=Object.freeze;i({target:"Object",stat:!0,forced:a((function(){l(1)})),sham:!r},{freeze:function(e){return l&&o(e)?l(s(e)):e}})},function(e,t,n){var i=n(16),r=n(186),a=n(167);i({target:"Object",stat:!0},{fromEntries:function(e){var t={};return r(e,(function(e,n){a(t,e,n)}),void 0,!0),t}})},function(e,t,n){var i=n(16),r=n(36),a=n(117),o=n(110).f,s=n(79),l=r((function(){o(1)}));i({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},function(e,t,n){var i=n(16),r=n(79),a=n(285),o=n(117),s=n(110),l=n(167);i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){for(var t,n,i=o(e),r=s.f,c=a(i),u={},d=0;c.length>d;)void 0!==(n=r(i,t=c[d++]))&&l(u,t,n);return u}})},function(e,t,n){var i=n(16),r=n(36),a=n(338).f;i({target:"Object",stat:!0,forced:r((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:a})},function(e,t,n){var i=n(16),r=n(36),a=n(89),o=n(140),s=n(293);i({target:"Object",stat:!0,forced:r((function(){o(1)})),sham:!s},{getPrototypeOf:function(e){return o(a(e))}})},function(e,t,n){n(16)({target:"Object",stat:!0},{is:n(357)})},function(e,t,n){var i=n(16),r=n(36),a=n(59),o=Object.isExtensible;i({target:"Object",stat:!0,forced:r((function(){o(1)}))},{isExtensible:function(e){return!!a(e)&&(!o||o(e))}})},function(e,t,n){var i=n(16),r=n(36),a=n(59),o=Object.isFrozen;i({target:"Object",stat:!0,forced:r((function(){o(1)}))},{isFrozen:function(e){return!a(e)||!!o&&o(e)}})},function(e,t,n){var i=n(16),r=n(36),a=n(59),o=Object.isSealed;i({target:"Object",stat:!0,forced:r((function(){o(1)}))},{isSealed:function(e){return!a(e)||!!o&&o(e)}})},function(e,t,n){var i=n(16),r=n(89),a=n(214);i({target:"Object",stat:!0,forced:n(36)((function(){a(1)}))},{keys:function(e){return a(r(e))}})},function(e,t,n){"use strict";var i=n(16),r=n(79),a=n(253),o=n(89),s=n(136),l=n(140),c=n(110).f;r&&i({target:"Object",proto:!0,forced:a},{__lookupGetter__:function(e){var t,n=o(this),i=s(e,!0);do{if(t=c(n,i))return t.get}while(n=l(n))}})},function(e,t,n){"use strict";var i=n(16),r=n(79),a=n(253),o=n(89),s=n(136),l=n(140),c=n(110).f;r&&i({target:"Object",proto:!0,forced:a},{__lookupSetter__:function(e){var t,n=o(this),i=s(e,!0);do{if(t=c(n,i))return t.set}while(n=l(n))}})},function(e,t,n){var i=n(16),r=n(59),a=n(168).onFreeze,o=n(220),s=n(36),l=Object.preventExtensions;i({target:"Object",stat:!0,forced:s((function(){l(1)})),sham:!o},{preventExtensions:function(e){return l&&r(e)?l(a(e)):e}})},function(e,t,n){var i=n(16),r=n(59),a=n(168).onFreeze,o=n(220),s=n(36),l=Object.seal;i({target:"Object",stat:!0,forced:s((function(){l(1)})),sham:!o},{seal:function(e){return l&&r(e)?l(a(e)):e}})},function(e,t,n){n(16)({target:"Object",stat:!0},{setPrototypeOf:n(183)})},function(e,t,n){var i=n(104),r=n(532),a=Object.prototype;r!==a.toString&&i(a,"toString",r,{unsafe:!0})},function(e,t,n){"use strict";var i=n(219),r={};r[n(68)("toStringTag")]="z",e.exports="[object z]"!==String(r)?function(){return"[object "+i(this)+"]"}:r.toString},function(e,t,n){var i=n(16),r=n(356).values;i({target:"Object",stat:!0},{values:function(e){return r(e)}})},function(e,t,n){var i=n(16),r=n(352);i({global:!0,forced:parseFloat!=r},{parseFloat:r})},function(e,t,n){var i=n(16),r=n(353);i({global:!0,forced:parseInt!=r},{parseInt:r})},function(e,t,n){"use strict";var i,r,a,o,s=n(16),l=n(144),c=n(50),u=n(286),d=n(358),h=n(104),f=n(185),p=n(139),m=n(184),g=n(59),v=n(112),_=n(155),b=n(135),y=n(186),S=n(246),I=n(146),w=n(298).set,E=n(359),C=n(360),A=n(537),T=n(300),O=n(361),D=n(299),M=n(118),N=n(213),F=n(68)("species"),L=M.get,R=M.set,x=M.getterFor("Promise"),P=d,k=c.TypeError,U=c.document,j=c.process,B=c.fetch,V=j&&j.versions,$=V&&V.v8||"",W=T.f,z=W,G="process"==b(j),H=!!(U&&U.createEvent&&c.dispatchEvent),K=N("Promise",(function(){var e=P.resolve(1),t=function(){},n=(e.constructor={})[F]=function(e){e(t,t)};return!((G||"function"==typeof PromiseRejectionEvent)&&(!l||e.finally)&&e.then(t)instanceof n&&0!==$.indexOf("6.6")&&-1===D.indexOf("Chrome/66"))})),Q=K||!S((function(e){P.all(e).catch((function(){}))})),q=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},Y=function(e,t,n){if(!t.notified){t.notified=!0;var i=t.reactions;E((function(){for(var r=t.value,a=1==t.state,o=0;i.length>o;){var s,l,c,u=i[o++],d=a?u.ok:u.fail,h=u.resolve,f=u.reject,p=u.domain;try{d?(a||(2===t.rejection&&ee(e,t),t.rejection=1),!0===d?s=r:(p&&p.enter(),s=d(r),p&&(p.exit(),c=!0)),s===u.promise?f(k("Promise-chain cycle")):(l=q(s))?l.call(s,h,f):h(s)):f(r)}catch(m){p&&!c&&p.exit(),f(m)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&J(e,t)}))}},X=function(e,t,n){var i,r;H?((i=U.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),c.dispatchEvent(i)):i={promise:t,reason:n},(r=c["on"+e])?r(i):"unhandledrejection"===e&&A("Unhandled promise rejection",n)},J=function(e,t){w.call(c,(function(){var n,i=t.value;if(Z(t)&&(n=O((function(){G?j.emit("unhandledRejection",i,e):X("unhandledrejection",e,i)})),t.rejection=G||Z(t)?2:1,n.error))throw n.value}))},Z=function(e){return 1!==e.rejection&&!e.parent},ee=function(e,t){w.call(c,(function(){G?j.emit("rejectionHandled",e):X("rejectionhandled",e,t.value)}))},te=function(e,t,n,i){return function(r){e(t,n,r,i)}},ne=function(e,t,n,i){t.done||(t.done=!0,i&&(t=i),t.value=n,t.state=2,Y(e,t,!0))},ie=function(e,t,n,i){if(!t.done){t.done=!0,i&&(t=i);try{if(e===n)throw k("Promise can't be resolved itself");var r=q(n);r?E((function(){var i={done:!1};try{r.call(n,te(ie,e,i,t),te(ne,e,i,t))}catch(a){ne(e,i,a,t)}})):(t.value=n,t.state=1,Y(e,t,!1))}catch(a){ne(e,{done:!1},a,t)}}};K&&(P=function(e){_(this,P,"Promise"),v(e),i.call(this);var t=L(this);try{e(te(ie,this,t),te(ne,this,t))}catch(n){ne(this,t,n)}},(i=function(e){R(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(P.prototype,{then:function(e,t){var n=x(this),i=W(I(this,P));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=G?j.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&Y(this,n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new i,t=L(e);this.promise=e,this.resolve=te(ie,e,t),this.reject=te(ne,e,t)},T.f=W=function(e){return e===P||e===a?new r(e):z(e)},l||"function"!=typeof d||(o=d.prototype.then,h(d.prototype,"then",(function(e,t){var n=this;return new P((function(e,t){o.call(n,e,t)})).then(e,t)})),"function"==typeof B&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return C(P,B.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:K},{Promise:P}),p(P,"Promise",!1,!0),m("Promise"),a=u.Promise,s({target:"Promise",stat:!0,forced:K},{reject:function(e){var t=W(this);return t.reject.call(void 0,e),t.promise}}),s({target:"Promise",stat:!0,forced:l||K},{resolve:function(e){return C(l&&this===a?P:this,e)}}),s({target:"Promise",stat:!0,forced:Q},{all:function(e){var t=this,n=W(t),i=n.resolve,r=n.reject,a=O((function(){var n=v(t.resolve),a=[],o=0,s=1;y(e,(function(e){var l=o++,c=!1;a.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,a[l]=e,--s||i(a))}),r)})),--s||i(a)}));return a.error&&r(a.value),n.promise},race:function(e){var t=this,n=W(t),i=n.reject,r=O((function(){var r=v(t.resolve);y(e,(function(e){r.call(t,e).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},function(e,t,n){var i=n(50);e.exports=function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t,n){"use strict";var i=n(16),r=n(144),a=n(358),o=n(151),s=n(146),l=n(360),c=n(104);i({target:"Promise",proto:!0,real:!0},{finally:function(e){var t=s(this,o("Promise")),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),r||"function"!=typeof a||a.prototype.finally||c(a.prototype,"finally",o("Promise").prototype.finally)},function(e,t,n){var i=n(16),r=n(151),a=n(112),o=n(60),s=n(36),l=r("Reflect","apply"),c=Function.apply;i({target:"Reflect",stat:!0,forced:!s((function(){l((function(){}))}))},{apply:function(e,t,n){return a(e),o(n),l?l(e,t,n):c.call(e,t,n)}})},function(e,t,n){var i=n(16),r=n(151),a=n(112),o=n(60),s=n(59),l=n(166),c=n(541),u=n(36),d=r("Reflect","construct"),h=u((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),f=!u((function(){d((function(){}))})),p=h||f;i({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){a(e),o(t);var n=arguments.length<3?e:a(arguments[2]);if(f&&!h)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(c.apply(e,i))}var r=n.prototype,u=l(s(r)?r:Object.prototype),p=Function.apply.call(e,u,t);return s(p)?p:u}})},function(e,t,n){"use strict";var i=n(112),r=n(59),a=[].slice,o={},s=function(e,t,n){if(!(t in o)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";o[t]=Function("C,a","return new C("+i.join(",")+")")}return o[t](e,n)};e.exports=Function.bind||function(e){var t=i(this),n=a.call(arguments,1),o=function(){var i=n.concat(a.call(arguments));return this instanceof o?s(t,i.length,i):t.apply(e,i)};return r(t.prototype)&&(o.prototype=t.prototype),o}},function(e,t,n){var i=n(16),r=n(79),a=n(60),o=n(136),s=n(88);i({target:"Reflect",stat:!0,forced:n(36)((function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})})),sham:!r},{defineProperty:function(e,t,n){a(e);var i=o(t,!0);a(n);try{return s.f(e,i,n),!0}catch(r){return!1}}})},function(e,t,n){var i=n(16),r=n(60),a=n(110).f;i({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=a(r(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){var i=n(16),r=n(59),a=n(60),o=n(94),s=n(110),l=n(140);i({target:"Reflect",stat:!0},{get:function e(t,n){var i,c,u=arguments.length<3?t:arguments[2];return a(t)===u?t[n]:(i=s.f(t,n))?o(i,"value")?i.value:void 0===i.get?void 0:i.get.call(u):r(c=l(t))?e(c,n,u):void 0}})},function(e,t,n){var i=n(16),r=n(79),a=n(60),o=n(110);i({target:"Reflect",stat:!0,sham:!r},{getOwnPropertyDescriptor:function(e,t){return o.f(a(e),t)}})},function(e,t,n){var i=n(16),r=n(60),a=n(140);i({target:"Reflect",stat:!0,sham:!n(293)},{getPrototypeOf:function(e){return a(r(e))}})},function(e,t,n){n(16)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},function(e,t,n){var i=n(16),r=n(60),a=Object.isExtensible;i({target:"Reflect",stat:!0},{isExtensible:function(e){return r(e),!a||a(e)}})},function(e,t,n){n(16)({target:"Reflect",stat:!0},{ownKeys:n(285)})},function(e,t,n){var i=n(16),r=n(151),a=n(60);i({target:"Reflect",stat:!0,sham:!n(220)},{preventExtensions:function(e){a(e);try{var t=r("Object","preventExtensions");return t&&t(e),!0}catch(n){return!1}}})},function(e,t,n){var i=n(16),r=n(60),a=n(59),o=n(94),s=n(88),l=n(110),c=n(140),u=n(164);i({target:"Reflect",stat:!0},{set:function e(t,n,i){var d,h,f=arguments.length<4?t:arguments[3],p=l.f(r(t),n);if(!p){if(a(h=c(t)))return e(h,n,i,f);p=u(0)}if(o(p,"value")){if(!1===p.writable||!a(f))return!1;if(d=l.f(f,n)){if(d.get||d.set||!1===d.writable)return!1;d.value=i,s.f(f,n,d)}else s.f(f,n,u(0,i));return!0}return void 0!==p.set&&(p.set.call(f,i),!0)}})},function(e,t,n){var i=n(16),r=n(60),a=n(346),o=n(183);o&&i({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){r(e),a(t);try{return o(e,t),!0}catch(n){return!1}}})},function(e,t,n){var i=n(79),r=n(50),a=n(213),o=n(296),s=n(88).f,l=n(165).f,c=n(301),u=n(221),d=n(104),h=n(36),f=n(184),p=n(68)("match"),m=r.RegExp,g=m.prototype,v=/a/g,_=/a/g,b=new m(v)!==v;if(i&&a("RegExp",!b||h((function(){return _[p]=!1,m(v)!=v||m(_)==_||"/a/i"!=m(v,"i")})))){for(var y=function(e,t){var n=this instanceof y,i=c(e),r=void 0===t;return!n&&i&&e.constructor===y&&r?e:o(b?new m(i&&!r?e.source:e,t):m((i=e instanceof y)?e.source:e,i&&r?u.call(e):t),n?this:g,y)},S=function(e){e in y||s(y,e,{configurable:!0,get:function(){return m[e]},set:function(t){m[e]=t}})},I=l(m),w=0;I.length>w;)S(I[w++]);g.constructor=y,y.prototype=g,d(r,"RegExp",y)}f("RegExp")},function(e,t,n){"use strict";var i=n(16),r=n(254);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},function(e,t,n){var i=n(79),r=n(88),a=n(221);i&&"g"!=/./g.flags&&r.f(RegExp.prototype,"flags",{configurable:!0,get:a})},function(e,t,n){"use strict";var i=n(104),r=n(60),a=n(36),o=n(221),s=RegExp.prototype,l=s.toString,c=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),u="toString"!=l.name;(c||u)&&i(RegExp.prototype,"toString",(function(){var e=r(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in s)?o.call(e):n)}),{unsafe:!0})},function(e,t,n){"use strict";var i=n(250),r=n(349);e.exports=i("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},function(e,t,n){"use strict";var i=n(16),r=n(255).codeAt;i({target:"String",proto:!0},{codePointAt:function(e){return r(this,e)}})},function(e,t,n){"use strict";var i=n(16),r=n(71),a=n(302),o=n(103),s=n(303),l="".endsWith,c=Math.min;i({target:"String",proto:!0,forced:!s("endsWith")},{endsWith:function(e){var t=String(o(this));a(e);var n=arguments.length>1?arguments[1]:void 0,i=r(t.length),s=void 0===n?i:c(r(n),i),u=String(e);return l?l.call(t,u,s):t.slice(s-u.length,s)===u}})},function(e,t,n){var i=n(16),r=n(152),a=String.fromCharCode,o=String.fromCodePoint;i({target:"String",stat:!0,forced:!!o&&1!=o.length},{fromCodePoint:function(e){for(var t,n=[],i=arguments.length,o=0;i>o;){if(t=+arguments[o++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){"use strict";var i=n(16),r=n(302),a=n(103);i({target:"String",proto:!0,forced:!n(303)("includes")},{includes:function(e){return!!~String(a(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(256),r=n(60),a=n(71),o=n(103),s=n(257),l=n(258);i("match",1,(function(e,t,n){return[function(t){var n=o(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var o=r(e),c=String(this);if(!o.global)return l(o,c);var u=o.unicode;o.lastIndex=0;for(var d,h=[],f=0;null!==(d=l(o,c));){var p=String(d[0]);h[f]=p,""===p&&(o.lastIndex=s(c,a(o.lastIndex),u)),f++}return 0===f?null:h}]}))},function(e,t,n){"use strict";var i=n(16),r=n(294).end;i({target:"String",proto:!0,forced:n(363)},{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(16),r=n(294).start;i({target:"String",proto:!0,forced:n(363)},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(16),r=n(117),a=n(71);i({target:"String",stat:!0},{raw:function(e){for(var t=r(e.raw),n=a(t.length),i=arguments.length,o=[],s=0;n>s;)o.push(String(t[s++])),s<i&&o.push(String(arguments[s]));return o.join("")}})},function(e,t,n){n(16)({target:"String",proto:!0},{repeat:n(295)})},function(e,t,n){"use strict";var i=n(256),r=n(60),a=n(89),o=n(71),s=n(129),l=n(103),c=n(257),u=n(258),d=Math.max,h=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;i("replace",2,(function(e,t,n){return[function(n,i){var r=l(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,r,i):t.call(String(r),n,i)},function(e,a){var l=n(t,e,this,a);if(l.done)return l.value;var f=r(e),p=String(this),m="function"===typeof a;m||(a=String(a));var g=f.global;if(g){var v=f.unicode;f.lastIndex=0}for(var _=[];;){var b=u(f,p);if(null===b)break;if(_.push(b),!g)break;""===String(b[0])&&(f.lastIndex=c(p,o(f.lastIndex),v))}for(var y,S="",I=0,w=0;w<_.length;w++){b=_[w];for(var E=String(b[0]),C=d(h(s(b.index),p.length),0),A=[],T=1;T<b.length;T++)A.push(void 0===(y=b[T])?y:String(y));var O=b.groups;if(m){var D=[E].concat(A,C,p);void 0!==O&&D.push(O);var M=String(a.apply(void 0,D))}else M=i(E,p,C,A,O,a);C>=I&&(S+=p.slice(I,C)+M,I=C+E.length)}return S+p.slice(I)}];function i(e,n,i,r,o,s){var l=i+e.length,c=r.length,u=m;return void 0!==o&&(o=a(o),u=p),t.call(s,u,(function(t,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,i);case"'":return n.slice(l);case"<":s=o[a.slice(1,-1)];break;default:var u=+a;if(0===u)return t;if(u>c){var d=f(u/10);return 0===d?t:d<=c?void 0===r[d-1]?a.charAt(1):r[d-1]+a.charAt(1):t}s=r[u-1]}return void 0===s?"":s}))}}))},function(e,t,n){"use strict";var i=n(256),r=n(60),a=n(103),o=n(357),s=n(258);i("search",1,(function(e,t,n){return[function(t){var n=a(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var a=r(e),l=String(this),c=a.lastIndex;o(c,0)||(a.lastIndex=0);var u=s(a,l);return o(a.lastIndex,c)||(a.lastIndex=c),null===u?-1:u.index}]}))},function(e,t,n){"use strict";var i=n(256),r=n(301),a=n(60),o=n(103),s=n(146),l=n(257),c=n(71),u=n(258),d=n(254),h=n(36),f=[].push,p=Math.min,m=!h((function(){return!RegExp(4294967295,"y")}));i("split",2,(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=String(o(this)),a=void 0===n?4294967295:n>>>0;if(0===a)return[];if(void 0===e)return[i];if(!r(e))return t.call(i,e,a);for(var s,l,c,u=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,m=new RegExp(e.source,h+"g");(s=d.call(m,i))&&!((l=m.lastIndex)>p&&(u.push(i.slice(p,s.index)),s.length>1&&s.index<i.length&&f.apply(u,s.slice(1)),c=s[0].length,p=l,u.length>=a));)m.lastIndex===s.index&&m.lastIndex++;return p===i.length?!c&&m.test("")||u.push(""):u.push(i.slice(p)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var r=o(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,r,n):i.call(String(r),t,n)},function(e,r){var o=n(i,e,this,r,i!==t);if(o.done)return o.value;var d=a(e),h=String(this),f=s(d,RegExp),g=d.unicode,v=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),_=new f(m?d:"^(?:"+d.source+")",v),b=void 0===r?4294967295:r>>>0;if(0===b)return[];if(0===h.length)return null===u(_,h)?[h]:[];for(var y=0,S=0,I=[];S<h.length;){_.lastIndex=m?S:0;var w,E=u(_,m?h:h.slice(S));if(null===E||(w=p(c(_.lastIndex+(m?0:S)),h.length))===y)S=l(h,S,g);else{if(I.push(h.slice(y,S)),I.length===b)return I;for(var C=1;C<=E.length-1;C++)if(I.push(E[C]),I.length===b)return I;S=y=w}}return I.push(h.slice(y)),I}]}),!m)},function(e,t,n){"use strict";var i=n(16),r=n(71),a=n(302),o=n(103),s=n(303),l="".startsWith,c=Math.min;i({target:"String",proto:!0,forced:!s("startsWith")},{startsWith:function(e){var t=String(o(this));a(e);var n=r(c(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return l?l.call(t,i,n):t.slice(n,n+i.length)===i}})},function(e,t,n){"use strict";var i=n(16),r=n(187).trim;i({target:"String",proto:!0,forced:n(304)("trim")},{trim:function(){return r(this)}})},function(e,t,n){"use strict";var i=n(16),r=n(187).end,a=n(304)("trimEnd"),o=a?function(){return r(this)}:"".trimEnd;i({target:"String",proto:!0,forced:a},{trimEnd:o,trimRight:o})},function(e,t,n){"use strict";var i=n(16),r=n(187).start,a=n(304)("trimStart"),o=a?function(){return r(this)}:"".trimStart;i({target:"String",proto:!0,forced:a},{trimStart:o,trimLeft:o})},function(e,t,n){"use strict";var i=n(16),r=n(119);i({target:"String",proto:!0,forced:n(120)("anchor")},{anchor:function(e){return r(this,"a","name",e)}})},function(e,t,n){"use strict";var i=n(16),r=n(119);i({target:"String",proto:!0,forced:n(120)("big")},{big:function(){return r(this,"big","","")}})},function(e,t,n){"use strict";var i=n(16),r=n(119);i({target:"String",proto:!0,forced:n(120)("blink")},{blink:function(){return r(this,"blink","","")}})},function(e,t,n){"use strict";var i=n(16),r=n(119);i({target:"String",proto:!0,forced:n(120)("bold")},{bold:function(){return r(this,"b","","")}})},function(e,t,n){"use strict";var i=n(16),r=n(119);i({target:"String",proto:!0,forced:n(120)("fixed")},{fixed:function(){return r(this,"tt","","")}})},function(e,t,n){"use strict";var i=n(16),r=n(119);i({target:"String",proto:!0,forced:n(120)("fontcolor")},{fontcolor:function(e){return r(this,"font","color",e)}})},function(e,t,n){"use strict";var i=n(16),r=n(119);i({target:"String",proto:!0,forced:n(120)("fontsize")},{fontsize:function(e){return r(this,"font","size",e)}})},function(e,t,n){"use strict";var i=n(16),r=n(119);i({target:"String",proto:!0,forced:n(120)("italics")},{italics:function(){return r(this,"i","","")}})},function(e,t,n){"use strict";var i=n(16),r=n(119);i({target:"String",proto:!0,forced:n(120)("link")},{link:function(e){return r(this,"a","href",e)}})},function(e,t,n){"use strict";var i=n(16),r=n(119);i({target:"String",proto:!0,forced:n(120)("small")},{small:function(){return r(this,"small","","")}})},function(e,t,n){"use strict";var i=n(16),r=n(119);i({target:"String",proto:!0,forced:n(120)("strike")},{strike:function(){return r(this,"strike","","")}})},function(e,t,n){"use strict";var i=n(16),r=n(119);i({target:"String",proto:!0,forced:n(120)("sub")},{sub:function(){return r(this,"sub","","")}})},function(e,t,n){"use strict";var i=n(16),r=n(119);i({target:"String",proto:!0,forced:n(120)("sup")},{sup:function(){return r(this,"sup","","")}})},function(e,t,n){n(147)("Float32",4,(function(e){return function(t,n,i){return e(this,t,n,i)}}))},function(e,t,n){n(147)("Float64",8,(function(e){return function(t,n,i){return e(this,t,n,i)}}))},function(e,t,n){n(147)("Int8",1,(function(e){return function(t,n,i){return e(this,t,n,i)}}))},function(e,t,n){n(147)("Int16",2,(function(e){return function(t,n,i){return e(this,t,n,i)}}))},function(e,t,n){n(147)("Int32",4,(function(e){return function(t,n,i){return e(this,t,n,i)}}))},function(e,t,n){n(147)("Uint8",1,(function(e){return function(t,n,i){return e(this,t,n,i)}}))},function(e,t,n){n(147)("Uint8",1,(function(e){return function(t,n,i){return e(this,t,n,i)}}),!0)},function(e,t,n){n(147)("Uint16",2,(function(e){return function(t,n,i){return e(this,t,n,i)}}))},function(e,t,n){n(147)("Uint32",4,(function(e){return function(t,n,i){return e(this,t,n,i)}}))},function(e,t,n){"use strict";var i=n(67),r=n(340),a=i.aTypedArray;i.exportProto("copyWithin",(function(e,t){return r.call(a(this),e,t,arguments.length>2?arguments[2]:void 0)}))},function(e,t,n){"use strict";var i=n(67),r=n(100).every,a=i.aTypedArray;i.exportProto("every",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(67),r=n(289),a=i.aTypedArray;i.exportProto("fill",(function(e){return r.apply(a(this),arguments)}))},function(e,t,n){"use strict";var i=n(67),r=n(100).filter,a=n(146),o=i.aTypedArray,s=i.aTypedArrayConstructor;i.exportProto("filter",(function(e){for(var t=r(o(this),e,arguments.length>1?arguments[1]:void 0),n=a(this,this.constructor),i=0,l=t.length,c=new(s(n))(l);l>i;)c[i]=t[i++];return c}))},function(e,t,n){"use strict";var i=n(67),r=n(100).find,a=i.aTypedArray;i.exportProto("find",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(67),r=n(100).findIndex,a=i.aTypedArray;i.exportProto("findIndex",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(67),r=n(100).forEach,a=i.aTypedArray;i.exportProto("forEach",(function(e){r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(305),r=n(67),a=n(365);r.exportStatic("from",a,i)},function(e,t,n){"use strict";var i=n(67),r=n(212).includes,a=i.aTypedArray;i.exportProto("includes",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(67),r=n(212).indexOf,a=i.aTypedArray;i.exportProto("indexOf",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(50),r=n(67),a=n(247),o=n(68)("iterator"),s=i.Uint8Array,l=a.values,c=a.keys,u=a.entries,d=r.aTypedArray,h=r.exportProto,f=s&&s.prototype[o],p=!!f&&("values"==f.name||void 0==f.name),m=function(){return l.call(d(this))};h("entries",(function(){return u.call(d(this))})),h("keys",(function(){return c.call(d(this))})),h("values",m,!p),h(o,m,!p)},function(e,t,n){"use strict";var i=n(67),r=i.aTypedArray,a=[].join;i.exportProto("join",(function(e){return a.apply(r(this),arguments)}))},function(e,t,n){"use strict";var i=n(67),r=n(347),a=i.aTypedArray;i.exportProto("lastIndexOf",(function(e){return r.apply(a(this),arguments)}))},function(e,t,n){"use strict";var i=n(67),r=n(100).map,a=n(146),o=i.aTypedArray,s=i.aTypedArrayConstructor;i.exportProto("map",(function(e){return r(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(a(e,e.constructor)))(t)}))}))},function(e,t,n){"use strict";var i=n(67),r=n(305),a=i.aTypedArrayConstructor;i.exportStatic("of",(function(){for(var e=0,t=arguments.length,n=new(a(this))(t);t>e;)n[e]=arguments[e++];return n}),r)},function(e,t,n){"use strict";var i=n(67),r=n(248).left,a=i.aTypedArray;i.exportProto("reduce",(function(e){return r(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(67),r=n(248).right,a=i.aTypedArray;i.exportProto("reduceRight",(function(e){return r(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(67),r=i.aTypedArray,a=Math.floor;i.exportProto("reverse",(function(){for(var e,t=r(this).length,n=a(t/2),i=0;i<n;)e=this[i],this[i++]=this[--t],this[t]=e;return this}))},function(e,t,n){"use strict";var i=n(67),r=n(71),a=n(364),o=n(89),s=n(36),l=i.aTypedArray,c=s((function(){new Int8Array(1).set({})}));i.exportProto("set",(function(e){l(this);var t=a(arguments.length>1?arguments[1]:void 0,1),n=this.length,i=o(e),s=r(i.length),c=0;if(s+t>n)throw RangeError("Wrong length");for(;c<s;)this[t+c]=i[c++]}),c)},function(e,t,n){"use strict";var i=n(67),r=n(146),a=n(36),o=i.aTypedArray,s=i.aTypedArrayConstructor,l=[].slice,c=a((function(){new Int8Array(1).slice()}));i.exportProto("slice",(function(e,t){for(var n=l.call(o(this),e,t),i=r(this,this.constructor),a=0,c=n.length,u=new(s(i))(c);c>a;)u[a]=n[a++];return u}),c)},function(e,t,n){"use strict";var i=n(67),r=n(100).some,a=i.aTypedArray;i.exportProto("some",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(67),r=i.aTypedArray,a=[].sort;i.exportProto("sort",(function(e){return a.call(r(this),e)}))},function(e,t,n){"use strict";var i=n(67),r=n(71),a=n(152),o=n(146),s=i.aTypedArray;i.exportProto("subarray",(function(e,t){var n=s(this),i=n.length,l=a(e,i);return new(o(n,n.constructor))(n.buffer,n.byteOffset+l*n.BYTES_PER_ELEMENT,r((void 0===t?i:a(t,i))-l))}))},function(e,t,n){"use strict";var i=n(50),r=n(67),a=n(36),o=i.Int8Array,s=r.aTypedArray,l=[].toLocaleString,c=[].slice,u=!!o&&a((function(){l.call(new o(1))})),d=a((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!a((function(){o.prototype.toLocaleString.call([1,2])}));r.exportProto("toLocaleString",(function(){return l.apply(u?c.call(s(this)):s(this),arguments)}),d)},function(e,t,n){"use strict";var i=n(50),r=n(67),a=n(36),o=i.Uint8Array,s=o&&o.prototype,l=[].toString,c=[].join;a((function(){l.call({})}))&&(l=function(){return c.call(this)}),r.exportProto("toString",l,(s||{}).toString!=l)},function(e,t,n){"use strict";var i,r=n(50),a=n(185),o=n(168),s=n(250),l=n(366),c=n(59),u=n(118).enforce,d=n(332),h=!r.ActiveXObject&&"ActiveXObject"in r,f=Object.isExtensible,p=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},m=e.exports=s("WeakMap",p,l,!0,!0);if(d&&h){i=l.getConstructor(p,"WeakMap",!0),o.REQUIRED=!0;var g=m.prototype,v=g.delete,_=g.has,b=g.get,y=g.set;a(g,{delete:function(e){if(c(e)&&!f(e)){var t=u(this);return t.frozen||(t.frozen=new i),v.call(this,e)||t.frozen.delete(e)}return v.call(this,e)},has:function(e){if(c(e)&&!f(e)){var t=u(this);return t.frozen||(t.frozen=new i),_.call(this,e)||t.frozen.has(e)}return _.call(this,e)},get:function(e){if(c(e)&&!f(e)){var t=u(this);return t.frozen||(t.frozen=new i),_.call(this,e)?b.call(this,e):t.frozen.get(e)}return b.call(this,e)},set:function(e,t){if(c(e)&&!f(e)){var n=u(this);n.frozen||(n.frozen=new i),_.call(this,e)?y.call(this,e,t):n.frozen.set(e,t)}else y.call(this,e,t);return this}})}},function(e,t,n){"use strict";n(250)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(366),!1,!0)},function(e,t,n){n(16)({global:!0},{globalThis:n(50)})},function(e,t,n){n(625)},function(e,t,n){"use strict";var i=n(16),r=n(112),a=n(300),o=n(361),s=n(186);i({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),i=n.resolve,l=n.reject,c=o((function(){var n=r(t.resolve),a=[],o=0,l=1;s(e,(function(e){var r=o++,s=!1;a.push(void 0),l++,n.call(t,e).then((function(e){s||(s=!0,a[r]={status:"fulfilled",value:e},--l||i(a))}),(function(e){s||(s=!0,a[r]={status:"rejected",reason:e},--l||i(a))}))})),--l||i(a)}));return c.error&&l(c.value),n.promise}})},function(e,t,n){n(627),n(628)},function(e,t,n){n(111)("matchAll")},function(e,t,n){"use strict";var i=n(16),r=n(292),a=n(103),o=n(71),s=n(112),l=n(60),c=n(219),u=n(221),d=n(102),h=n(68),f=n(146),p=n(257),m=n(118),g=n(144),v=h("matchAll"),_=m.set,b=m.getterFor("RegExp String Iterator"),y=RegExp.prototype,S=y.exec,I=r((function(e,t,n,i){_(this,{type:"RegExp String Iterator",regexp:e,string:t,global:n,unicode:i,done:!1})}),"RegExp String",(function(){var e=b(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,i=function(e,t){var n,i=e.exec;if("function"==typeof i){if("object"!=typeof(n=i.call(e,t)))throw TypeError("Incorrect exec result");return n}return S.call(e,t)}(t,n);return null===i?{value:void 0,done:e.done=!0}:e.global?(""==String(i[0])&&(t.lastIndex=p(n,o(t.lastIndex),e.unicode)),{value:i,done:!1}):(e.done=!0,{value:i,done:!1})})),w=function(e){var t,n,i,r,a,s,c=l(this),d=String(e);return t=f(c,RegExp),void 0===(n=c.flags)&&c instanceof RegExp&&!("flags"in y)&&(n=u.call(c)),i=void 0===n?"":String(n),r=new t(t===RegExp?c.source:c,i),a=!!~i.indexOf("g"),s=!!~i.indexOf("u"),r.lastIndex=o(c.lastIndex),new I(r,d,a,s)};i({target:"String",proto:!0},{matchAll:function(e){var t,n,i,r=a(this);return null!=e&&(void 0===(n=e[v])&&g&&"RegExp"==c(e)&&(n=w),null!=n)?s(n).call(e,r):(t=String(r),i=new RegExp(e,"g"),g?w.call(i,t):i[v](t))}}),g||v in y||d(y,v,w)},function(e,t,n){var i=n(50),r=n(367),a=n(342),o=n(102);for(var s in r){var l=i[s],c=l&&l.prototype;if(c&&c.forEach!==a)try{o(c,"forEach",a)}catch(u){c.forEach=a}}},function(e,t,n){var i=n(50),r=n(367),a=n(247),o=n(102),s=n(68),l=s("iterator"),c=s("toStringTag"),u=a.values;for(var d in r){var h=i[d],f=h&&h.prototype;if(f){if(f[l]!==u)try{o(f,l,u)}catch(m){f[l]=u}if(f[c]||o(f,c,d),r[d])for(var p in a)if(f[p]!==a[p])try{o(f,p,a[p])}catch(m){f[p]=a[p]}}}},function(e,t,n){var i=n(50),r=n(298),a=!i.setImmediate||!i.clearImmediate;n(16)({global:!0,bind:!0,enumerable:!0,forced:a},{setImmediate:r.set,clearImmediate:r.clear})},function(e,t,n){var i=n(16),r=n(50),a=n(359),o=n(135),s=r.process,l="process"==o(s);i({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=l&&s.domain;a(t?t.bind(e):e)}})},function(e,t,n){"use strict";n(362);var i,r=n(16),a=n(79),o=n(368),s=n(50),l=n(336),c=n(104),u=n(155),d=n(94),h=n(355),f=n(343),p=n(255).codeAt,m=n(634),g=n(139),v=n(369),_=n(118),b=s.URL,y=v.URLSearchParams,S=v.getState,I=_.set,w=_.getterFor("URL"),E=Math.floor,C=Math.pow,A=/[A-Za-z]/,T=/[\d+\-.A-Za-z]/,O=/\d/,D=/^(0x|0X)/,M=/^[0-7]+$/,N=/^\d+$/,F=/^[\dA-Fa-f]+$/,L=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,R=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,x=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,P=/[\u0009\u000A\u000D]/g,k=function(e,t){var n,i,r;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=j(t.slice(1,-1))))return"Invalid host";e.host=n}else if(K(e)){if(t=m(t),L.test(t))return"Invalid host";if(null===(n=U(t)))return"Invalid host";e.host=n}else{if(R.test(t))return"Invalid host";for(n="",i=f(t),r=0;r<i.length;r++)n+=G(i[r],V);e.host=n}},U=function(e){var t,n,i,r,a,o,s,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(n=[],i=0;i<t;i++){if(""==(r=l[i]))return e;if(a=10,r.length>1&&"0"==r.charAt(0)&&(a=D.test(r)?16:8,r=r.slice(8==a?1:2)),""===r)o=0;else{if(!(10==a?N:8==a?M:F).test(r))return e;o=parseInt(r,a)}n.push(o)}for(i=0;i<t;i++)if(o=n[i],i==t-1){if(o>=C(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),i=0;i<n.length;i++)s+=n[i]*C(256,3-i);return s},j=function(e){var t,n,i,r,a,o,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,h=function(){return e.charAt(d)};if(":"==h()){if(":"!=e.charAt(1))return;d+=2,u=++c}for(;h();){if(8==c)return;if(":"!=h()){for(t=n=0;n<4&&F.test(h());)t=16*t+parseInt(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,c>6)return;for(i=0;h();){if(r=null,i>0){if(!("."==h()&&i<4))return;d++}if(!O.test(h()))return;for(;O.test(h());){if(a=parseInt(h(),10),null===r)r=a;else{if(0==r)return;r=10*r+a}if(r>255)return;d++}l[c]=256*l[c]+r,2!=++i&&4!=i||c++}if(4!=i)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;l[c++]=t}else{if(null!==u)return;d++,u=++c}}if(null!==u)for(o=c-u,c=7;0!=c&&o>0;)s=l[c],l[c--]=l[u+o-1],l[u+--o]=s;else if(8!=c)return;return l},B=function(e){var t,n,i,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=E(e/256);return t.join(".")}if("object"==typeof e){for(t="",i=function(e){for(var t=null,n=1,i=null,r=0,a=0;a<8;a++)0!==e[a]?(r>n&&(t=i,n=r),i=null,r=0):(null===i&&(i=a),++r);return r>n&&(t=i,n=r),t}(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),i===n?(t+=n?":":"::",r=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},V={},$=h({},V,{" ":1,'"':1,"<":1,">":1,"`":1}),W=h({},$,{"#":1,"?":1,"{":1,"}":1}),z=h({},W,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),G=function(e,t){var n=p(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},H={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},K=function(e){return d(H,e.scheme)},Q=function(e){return""!=e.username||""!=e.password},q=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Y=function(e,t){var n;return 2==e.length&&A.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},X=function(e){var t;return e.length>1&&Y(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},J=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Y(t[0],!0)||t.pop()},Z=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},ne={},ie={},re={},ae={},oe={},se={},le={},ce={},ue={},de={},he={},fe={},pe={},me={},ge={},ve={},_e={},be={},ye={},Se=function(e,t,n,r){var a,o,s,l,c,u=n||ee,h=0,p="",m=!1,g=!1,v=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(x,"")),t=t.replace(P,""),a=f(t);h<=a.length;){switch(o=a[h],u){case ee:if(!o||!A.test(o)){if(n)return"Invalid scheme";u=ne;continue}p+=o.toLowerCase(),u=te;break;case te:if(o&&(T.test(o)||"+"==o||"-"==o||"."==o))p+=o.toLowerCase();else{if(":"!=o){if(n)return"Invalid scheme";p="",u=ne,h=0;continue}if(n&&(K(e)!=d(H,p)||"file"==p&&(Q(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(K(e)&&H[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?u=fe:K(e)&&r&&r.scheme==e.scheme?u=ie:K(e)?u=se:"/"==a[h+1]?(u=re,h++):(e.cannotBeABaseURL=!0,e.path.push(""),u=_e)}break;case ne:if(!r||r.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==o){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,u=ye;break}u="file"==r.scheme?fe:ae;continue;case ie:if("/"!=o||"/"!=a[h+1]){u=ae;continue}u=le,h++;break;case re:if("/"==o){u=ce;break}u=ve;continue;case ae:if(e.scheme=r.scheme,o==i)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==o||"\\"==o&&K(e))u=oe;else if("?"==o)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",u=be;else{if("#"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),u=ve;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=ye}break;case oe:if(!K(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,u=ve;continue}u=ce}else u=le;break;case se:if(u=le,"/"!=o||"/"!=p.charAt(h+1))continue;h++;break;case le:if("/"!=o&&"\\"!=o){u=ce;continue}break;case ce:if("@"==o){m&&(p="%40"+p),m=!0,s=f(p);for(var _=0;_<s.length;_++){var b=s[_];if(":"!=b||v){var y=G(b,z);v?e.password+=y:e.username+=y}else v=!0}p=""}else if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&K(e)){if(m&&""==p)return"Invalid authority";h-=f(p).length+1,p="",u=ue}else p+=o;break;case ue:case de:if(n&&"file"==e.scheme){u=me;continue}if(":"!=o||g){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&K(e)){if(K(e)&&""==p)return"Invalid host";if(n&&""==p&&(Q(e)||null!==e.port))return;if(l=k(e,p))return l;if(p="",u=ge,n)return;continue}"["==o?g=!0:"]"==o&&(g=!1),p+=o}else{if(""==p)return"Invalid host";if(l=k(e,p))return l;if(p="",u=he,n==de)return}break;case he:if(!O.test(o)){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&K(e)||n){if(""!=p){var S=parseInt(p,10);if(S>65535)return"Invalid port";e.port=K(e)&&S===H[e.scheme]?null:S,p=""}if(n)return;u=ge;continue}return"Invalid port"}p+=o;break;case fe:if(e.scheme="file","/"==o||"\\"==o)u=pe;else{if(!r||"file"!=r.scheme){u=ve;continue}if(o==i)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==o)e.host=r.host,e.path=r.path.slice(),e.query="",u=be;else{if("#"!=o){X(a.slice(h).join(""))||(e.host=r.host,e.path=r.path.slice(),J(e)),u=ve;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=ye}}break;case pe:if("/"==o||"\\"==o){u=me;break}r&&"file"==r.scheme&&!X(a.slice(h).join(""))&&(Y(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),u=ve;continue;case me:if(o==i||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&Y(p))u=ve;else if(""==p){if(e.host="",n)return;u=ge}else{if(l=k(e,p))return l;if("localhost"==e.host&&(e.host=""),n)return;p="",u=ge}continue}p+=o;break;case ge:if(K(e)){if(u=ve,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=i&&(u=ve,"/"!=o))continue}else e.fragment="",u=ye;else e.query="",u=be;break;case ve:if(o==i||"/"==o||"\\"==o&&K(e)||!n&&("?"==o||"#"==o)){if(".."===(c=(c=p).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(J(e),"/"==o||"\\"==o&&K(e)||e.path.push("")):Z(p)?"/"==o||"\\"==o&&K(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Y(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(o==i||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",u=be):"#"==o&&(e.fragment="",u=ye)}else p+=G(o,W);break;case _e:"?"==o?(e.query="",u=be):"#"==o?(e.fragment="",u=ye):o!=i&&(e.path[0]+=G(o,V));break;case be:n||"#"!=o?o!=i&&("'"==o&&K(e)?e.query+="%27":e.query+="#"==o?"%23":G(o,V)):(e.fragment="",u=ye);break;case ye:o!=i&&(e.fragment+=G(o,$))}h++}},Ie=function(e){var t,n,i=u(this,Ie,"URL"),r=arguments.length>1?arguments[1]:void 0,o=String(e),s=I(i,{type:"URL"});if(void 0!==r)if(r instanceof Ie)t=w(r);else if(n=Se(t={},String(r)))throw TypeError(n);if(n=Se(s,o,null,t))throw TypeError(n);var l=s.searchParams=new y,c=S(l);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(l)||null},a||(i.href=Ee.call(i),i.origin=Ce.call(i),i.protocol=Ae.call(i),i.username=Te.call(i),i.password=Oe.call(i),i.host=De.call(i),i.hostname=Me.call(i),i.port=Ne.call(i),i.pathname=Fe.call(i),i.search=Le.call(i),i.searchParams=Re.call(i),i.hash=xe.call(i))},we=Ie.prototype,Ee=function(){var e=w(this),t=e.scheme,n=e.username,i=e.password,r=e.host,a=e.port,o=e.path,s=e.query,l=e.fragment,c=t+":";return null!==r?(c+="//",Q(e)&&(c+=n+(i?":"+i:"")+"@"),c+=B(r),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},Ce=function(){var e=w(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(i){return"null"}return"file"!=t&&K(e)?t+"://"+B(e.host)+(null!==n?":"+n:""):"null"},Ae=function(){return w(this).scheme+":"},Te=function(){return w(this).username},Oe=function(){return w(this).password},De=function(){var e=w(this),t=e.host,n=e.port;return null===t?"":null===n?B(t):B(t)+":"+n},Me=function(){var e=w(this).host;return null===e?"":B(e)},Ne=function(){var e=w(this).port;return null===e?"":String(e)},Fe=function(){var e=w(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Le=function(){var e=w(this).query;return e?"?"+e:""},Re=function(){return w(this).searchParams},xe=function(){var e=w(this).fragment;return e?"#"+e:""},Pe=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&l(we,{href:Pe(Ee,(function(e){var t=w(this),n=String(e),i=Se(t,n);if(i)throw TypeError(i);S(t.searchParams).updateSearchParams(t.query)})),origin:Pe(Ce),protocol:Pe(Ae,(function(e){var t=w(this);Se(t,String(e)+":",ee)})),username:Pe(Te,(function(e){var t=w(this),n=f(String(e));if(!q(t)){t.username="";for(var i=0;i<n.length;i++)t.username+=G(n[i],z)}})),password:Pe(Oe,(function(e){var t=w(this),n=f(String(e));if(!q(t)){t.password="";for(var i=0;i<n.length;i++)t.password+=G(n[i],z)}})),host:Pe(De,(function(e){var t=w(this);t.cannotBeABaseURL||Se(t,String(e),ue)})),hostname:Pe(Me,(function(e){var t=w(this);t.cannotBeABaseURL||Se(t,String(e),de)})),port:Pe(Ne,(function(e){var t=w(this);q(t)||(""==(e=String(e))?t.port=null:Se(t,e,he))})),pathname:Pe(Fe,(function(e){var t=w(this);t.cannotBeABaseURL||(t.path=[],Se(t,e+"",ge))})),search:Pe(Le,(function(e){var t=w(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Se(t,e,be)),S(t.searchParams).updateSearchParams(t.query)})),searchParams:Pe(Re),hash:Pe(xe,(function(e){var t=w(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Se(t,e,ye)):t.fragment=null}))}),c(we,"toJSON",(function(){return Ee.call(this)}),{enumerable:!0}),c(we,"toString",(function(){return Ee.call(this)}),{enumerable:!0}),b){var ke=b.createObjectURL,Ue=b.revokeObjectURL;ke&&c(Ie,"createObjectURL",(function(e){return ke.apply(b,arguments)})),Ue&&c(Ie,"revokeObjectURL",(function(e){return Ue.apply(b,arguments)}))}g(Ie,"URL"),r({global:!0,forced:!o,sham:!a},{URL:Ie})},function(e,t,n){"use strict";var i=/[^\0-\u007E]/,r=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",o=Math.floor,s=String.fromCharCode,l=function(e){return e+22+75*(e<26)},c=function(e,t,n){var i=0;for(e=n?o(e/700):e>>1,e+=o(e/t);e>455;i+=36)e=o(e/35);return o(i+36*e/(e+38))},u=function(e){var t,n,i=[],r=(e=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&r)<<10)+(1023&a)+65536):(t.push(r),n--)}else t.push(r)}return t}(e)).length,u=128,d=0,h=72;for(t=0;t<e.length;t++)(n=e[t])<128&&i.push(s(n));var f=i.length,p=f;for(f&&i.push("-");p<r;){var m=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=u&&n<m&&(m=n);var g=p+1;if(m-u>o((2147483647-d)/g))throw RangeError(a);for(d+=(m-u)*g,u=m,t=0;t<e.length;t++){if((n=e[t])<u&&++d>2147483647)throw RangeError(a);if(n==u){for(var v=d,_=36;;_+=36){var b=_<=h?1:_>=h+26?26:_-h;if(v<b)break;var y=v-b,S=36-b;i.push(s(l(b+y%S))),v=o(y/S)}i.push(s(l(v))),h=c(d,g,p==f),d=0,++p}}++d,++u}return i.join("")};e.exports=function(e){var t,n,a=[],o=e.toLowerCase().replace(r,".").split(".");for(t=0;t<o.length;t++)n=o[t],a.push(i.test(n)?"xn--"+u(n):n);return a.join(".")}},function(e,t,n){var i=n(60),r=n(218);e.exports=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return i(t.call(e))}},function(e,t,n){"use strict";n(16)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(e,t,n){var i=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function s(e,t,n,i){var r=t&&t.prototype instanceof u?t:u,a=Object.create(r.prototype),o=new I(i||[]);return a._invoke=function(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return{value:void 0,done:!0}}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=l(e,t,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(i){return{type:"throw",arg:i}}}e.wrap=s;var c={};function u(){}function d(){}function h(){}var f={};f[r]=function(){return this};var p=Object.getPrototypeOf,m=p&&p(p(w([])));m&&m!==t&&n.call(m,r)&&(f=m);var g=h.prototype=u.prototype=Object.create(f);function v(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function _(e,t){var i;this._invoke=function(r,a){function o(){return new t((function(i,o){!function i(r,a,o,s){var c=l(e[r],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"===typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return i("throw",e,o,s)}))}s(c.arg)}(r,a,i,o)}))}return i=i?i.then(o,o):o()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var i=l(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,c;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function y(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function w(e){if(e){var t=e[r];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=g.constructor=h,h.constructor=d,h[o]=d.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(_.prototype),_.prototype[a]=function(){return this},e.AsyncIterator=_,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new _(s(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},v(g),g[o]="Generator",g[r]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=w,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}},function(e,t,n){"use strict";if(globalThis.performance||(globalThis.performance={}),!globalThis.performance.now){var i,r=globalThis.performance.timing;i=r&&r.navigationStart?r.navigationStart:Date.now(),globalThis.performance.now=function(){return Date.now()-i}}},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,i=c(e),o=i[0],s=i[1],l=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),u=0,d=s>0?o-4:o;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,a=[],o=0,s=n-r;o<s;o+=16383)a.push(u(e,o,o+16383>s?s:o+16383));return 1===r?(t=e[n-1],a.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],a.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")),a.join("")};for(var i=[],r=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)i[s]=o[s],r[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,a,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(i[(a=r)>>18&63]+i[a>>12&63]+i[a>>6&63]+i[63&a]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,r){var a,o,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?r-1:0,h=n?-1:1,f=e[t+d];for(d+=h,a=f&(1<<-u)-1,f>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=h,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=i;u>0;o=256*o+e[t+d],d+=h,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,i),a-=c}return(f?-1:1)*o*Math.pow(2,a-i)},t.write=function(e,t,n,i,r,a){var o,s,l,c=8*a-r-1,u=(1<<c)-1,d=u>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:a-1,p=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*l-1)*Math.pow(2,r),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;e[n+f]=255&s,f+=p,s/=256,r-=8);for(o=o<<r|s,c+=r;c>0;e[n+f]=255&o,f+=p,o/=256,c-=8);e[n+f-p]|=128*m}},function(e,t,n){e.exports=r;var i=n(306).EventEmitter;function r(){i.call(this)}n(115)(r,i),r.Readable=n(307),r.Writable=n(649),r.Duplex=n(650),r.Transform=n(651),r.PassThrough=n(652),r.Stream=r,r.prototype.pipe=function(e,t){var n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function a(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",a),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",l));var o=!1;function s(){o||(o=!0,e.end())}function l(){o||(o=!0,"function"===typeof e.destroy&&e.destroy())}function c(e){if(u(),0===i.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",r),e.removeListener("drain",a),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",c),e.on("error",c),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e}},function(e,t){},function(e,t,n){"use strict";var i=n(130).Buffer,r=n(644);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t,n,r=i.allocUnsafe(e>>>0),a=this.head,o=0;a;)t=r,n=o,a.data.copy(t,n),o+=a.data.length,a=a.next;return r},e}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var i="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,r=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new a(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(646),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(87))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,r=1,a={},o=!1,s=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick((function(){u(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&u(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),i=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){u(e.data)},i=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;i=function(t){var n=s.createElement("script");n.onreadystatechange=function(){u(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():i=function(e){setTimeout(u,0,e)},l.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return a[r]=o,i(r),r++},l.clearImmediate=c}function c(e){delete a[e]}function u(e){if(o)setTimeout(u,0,e);else{var t=a[e];if(t){o=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{c(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(87),n(259))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(i){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}}}).call(this,n(87))},function(e,t,n){"use strict";e.exports=a;var i=n(376),r=n(223);function a(e){if(!(this instanceof a))return new a(e);i.call(this,e)}r.inherits=n(115),r.inherits(a,i),a.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(308)},function(e,t,n){e.exports=n(171)},function(e,t,n){e.exports=n(307).Transform},function(e,t,n){e.exports=n(307).PassThrough},function(e,t,n){"use strict";e.exports=n(654)},function(e,t,n){"use strict";var i,r,a,o,s;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,u=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(n){throw setTimeout(u,0),n}},d=Date.now();t.unstable_now=function(){return Date.now()-d},i=function(e){null!==l?setTimeout(i,0,e):(l=e,setTimeout(u,0))},r=function(e,t){c=setTimeout(e,t)},a=function(){clearTimeout(c)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,f=window.Date,p=window.setTimeout,m=window.clearTimeout,g=window.requestAnimationFrame,v=window.cancelAnimationFrame;if("undefined"!==typeof console&&("function"!==typeof g&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),"object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var _=f.now();t.unstable_now=function(){return f.now()-_}}var b=!1,y=null,S=-1,I=5,w=0;o=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):I=0<e?Math.floor(1e3/e):33.33};var E=new MessageChannel,C=E.port2;E.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();w=e+I;try{y(!0,e)?C.postMessage(null):(b=!1,y=null)}catch(n){throw C.postMessage(null),n}}else b=!1},i=function(e){y=e,b||(b=!0,C.postMessage(null))},r=function(e,n){S=p((function(){e(t.unstable_now())}),n)},a=function(){m(S),S=-1}}function A(e,t){var n=e.length;e.push(t);e:for(;;){var i=Math.floor((n-1)/2),r=e[i];if(!(void 0!==r&&0<D(r,t)))break e;e[i]=t,e[n]=r,n=i}}function T(e){return void 0===(e=e[0])?null:e}function O(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var a=2*(i+1)-1,o=e[a],s=a+1,l=e[s];if(void 0!==o&&0>D(o,n))void 0!==l&&0>D(l,o)?(e[i]=l,e[s]=n,i=s):(e[i]=o,e[a]=n,i=a);else{if(!(void 0!==l&&0>D(l,n)))break e;e[i]=l,e[s]=n,i=s}}}return t}return null}function D(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var M=[],N=[],F=1,L=null,R=3,x=!1,P=!1,k=!1;function U(e){for(var t=T(N);null!==t;){if(null===t.callback)O(N);else{if(!(t.startTime<=e))break;O(N),t.sortIndex=t.expirationTime,A(M,t)}t=T(N)}}function j(e){if(k=!1,U(e),!P)if(null!==T(M))P=!0,i(B);else{var t=T(N);null!==t&&r(j,t.startTime-e)}}function B(e,n){P=!1,k&&(k=!1,a()),x=!0;var i=R;try{for(U(n),L=T(M);null!==L&&(!(L.expirationTime>n)||e&&!o());){var s=L.callback;if(null!==s){L.callback=null,R=L.priorityLevel;var l=s(L.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?L.callback=l:L===T(M)&&O(M),U(n)}else O(M);L=T(M)}if(null!==L)var c=!0;else{var u=T(N);null!==u&&r(j,u.startTime-n),c=!1}return c}finally{L=null,R=i,x=!1}}function V(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var $=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var l=o.delay;l="number"===typeof l&&0<l?s+l:s,o="number"===typeof o.timeout?o.timeout:V(e)}else o=V(e),l=s;return e={id:F++,callback:n,priorityLevel:e,startTime:l,expirationTime:o=l+o,sortIndex:-1},l>s?(e.sortIndex=l,A(N,e),null===T(M)&&e===T(N)&&(k?a():k=!0,r(j,l-s))):(e.sortIndex=o,A(M,e),P||x||(P=!0,i(B))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_shouldYield=function(){var e=t.unstable_now();U(e);var n=T(M);return n!==L&&null!==L&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<L.expirationTime||o()},t.unstable_requestPaint=$,t.unstable_continueExecution=function(){P||x||(P=!0,i(B))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return T(M)},t.unstable_Profiling=null},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__89.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__88.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__87.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__86.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__85.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__84.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__83.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__82.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__81.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__80.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__79.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__78.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__77.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__76.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__75.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__74.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__73.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__72.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__71.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__70.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__68.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__67.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__66.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__65.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__13.png"},function(e,t){e.exports="/applications/iclouddrive/2019Project47/uk-ua/r$__53.js"},function(e,t,n){"use strict";n.r(t),n(1),n(0),n(3),n(4),n(2),n(51),n.d(t,"HostedApplicationPopupViewController",(function(){return h}));var i=n(329),r=n(15),a=n(271),o=n(84),s=n(56),l=n(414),c=n(420),u=n(415),d=n(730),h=i.a.extend(l.a,c.a,{contentController:r.b({type:a.a,defaultValue:o.b(a.a.extend({viewClass:u.a,isActive:r.b(),view:r.b({downstreamBindings:{isActive:"(owner).isActive"}})})),downstreamBindings:{isActive:"(owner).isActive"}}),iframeView:r.b(s.c("contentController.view")),host:r.b({type:d.a}),didEnd:function(){var e=this,t=arguments;e.__s._$QZ$didEnd.apply(e,t),this.isAttached&&this.hide(this)},__superMap:{_$QZ$didEnd:"didEnd"},staticMembers:{__QUALIFIED_CLASS_NAME__:"HostedApplicationPopupViewController"}})},function(e,t,n){"use strict";n.r(t),n(0),n.d(t,"RenderProperty",(function(){return a})),n.d(t,"renderProperty",(function(){return o}));var i=n(15),r=n(416),a=i.a.extend({requiresSupport:r.a,staticMembers:{__QUALIFIED_CLASS_NAME__:"RenderProperty"}}),o=a.define.bind(a)},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[110]}).call(this,n(87))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[109]}).call(this,n(87))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[107]}).call(this,n(87))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[106]}).call(this,n(87))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[105]}).call(this,n(87))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[104]}).call(this,n(87))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[103]}).call(this,n(87))},function(e,t){e.exports='<svg version="1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><circle fill="none" stroke-width="2" cx="22" cy="22" r="21"/><path fill="none" stroke-width="3" d="M22 28v-3c0-3.8 3.6-5.4 5-7 .7-.8 1-2 1-4 0-2.6-2.4-5.5-6-5.5-4.5 0-6 3.5-6 5.5"/><circle cx="22" cy="33.5" r="2"/></svg>'},function(e,t,n){},function(e,t){e.exports='<svg version="1.0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 48 48"><circle fill="#146FDF" stroke="#dcdcdc" stroke-width="2" cx="24" cy="24" r="23"/><polyline fill="none" stroke="#dcdcdc" stroke-width="4" points="12,25 19,32 35,16 "/></svg>\n'},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"CloudOSApplicationStateEnum",(function(){return Gv})),n.d(i,"Application",(function(){return Xv})),n.d(i,"BackwardCompatibleCK",(function(){return Zg})),n.d(i,"BackwardCompatibleCloudOS",(function(){return ev})),n.d(i,"BackwardCompatibleWindowApplication",(function(){return Jg})),n.d(i,"ApplicationLauncher",(function(){return Zv})),n.d(i,"BaseApplicationLauncher",(function(){return Jv})),n.d(i,"WindowApplicationLauncher",(function(){return b_})),n.d(i,"CloudOSServiceProtocol",(function(){return tv})),n.d(i,"ComposeEmailController",(function(){return y_})),n.d(i,"RPCChannelStateEnum",(function(){return $g})),n.d(i,"RPCBaseChannel",(function(){return Qg})),n.d(i,"RPCBaseInputChannel",(function(){return vv})),n.d(i,"RPCBaseOutputChannel",(function(){return qg})),n.d(i,"RPCInputChannel",(function(){return bv})),n.d(i,"RPCMessageEvent",(function(){return _v})),n.d(i,"RPCOutputChannel",(function(){return Yg})),n.d(i,"AdditionalRequestParams",(function(){return m_})),n.d(i,"ApplicationWindowProxy",(function(){return t_})),n.d(i,"AuthorizationBagProviderProtocol",(function(){return S_})),n.d(i,"CloudOSHost",(function(){return u_})),n.d(i,"KeyValueService",(function(){return __})),n.d(i,"KeyValueServiceProtocol",(function(){return I_})),n.d(i,"MockAuthorizationBagProvider",(function(){return w_})),n.d(i,"MockRegionFormatProvider",(function(){return p_})),n.d(i,"MockSetupService",(function(){return E_})),n.d(i,"RegionFormatProviderProtocol",(function(){return C_})),n.d(i,"RuntimeSetupService",(function(){return g_})),n.d(i,"SetupServiceProtocol",(function(){return A_})),n.d(i,"AuthBag",(function(){return dv})),n.d(i,"Environment",(function(){return gv})),n.d(i,"QuotaInfo",(function(){return hv})),n.d(i,"ServiceInfo",(function(){return nv})),n.d(i,"AppleIdEntryType",(function(){return cv})),n.d(i,"User",(function(){return uv})),n.d(i,"ContentVendorURL",(function(){return O_})),n.d(i,"Request",(function(){return F_})),n.d(i,"RequestReportingSupport",(function(){return M_})),n.d(i,"RequestSupport",(function(){return N_})),n.d(i,"ShardedURLSupport",(function(){return T_})),n.d(i,"URL",(function(){return D_})),n.d(i,"UploadRequest",(function(){return L_})),n.d(i,"EnumGroup",(function(){return Lg})),n.d(i,"createEnumGroup",(function(){return Rg})),n.d(i,"EnumGroupSupport",(function(){return Cg})),n.d(i,"EnumItem",(function(){return Dg})),n.d(i,"createEnumMainState",(function(){return Ng})),n.d(i,"EXIT_NON_FATAL",(function(){return Ev})),n.d(i,"EXIT_FATAL_ERROR",(function(){return Cv})),n.d(i,"EXIT_STARTUP_ERROR",(function(){return Av})),n.d(i,"EXIT_PCS_MISSING",(function(){return Tv})),n.d(i,"EXIT_PCS_INVALID",(function(){return Ov})),n.d(i,"ApplicationDriver",(function(){return Dv})),n.d(i,"ApplicationDriverStateEnum",(function(){return xg})),n.d(i,"BaseApplicationDriver",(function(){return Vg})),n.d(i,"TraceSupport",(function(){return Eg})),n.d(i,"AccountMenuPopoverViewController",(function(){return hb})),n.d(i,"AccountMenuViewController",(function(){return db})),n.d(i,"LogoutAlertViewController",(function(){return s_})),n.d(i,"AccountMenuItemView",(function(){return cb})),n.d(i,"AccountMenu",(function(){return ub})),n.d(i,"AppNameView",(function(){return Db})),n.d(i,"AppSwitcherButton",(function(){return Tb})),n.d(i,"ChevronView",(function(){return gb})),n.d(i,"AccountNameButton",(function(){return Mb})),n.d(i,"HelpButton",(function(){return Fb})),n.d(i,"AccountView",(function(){return Lb})),n.d(i,"CKRequest",(function(){return Pb})),n.d(i,"customCKRequest",(function(){return xb})),n.d(i,"FatalExceptionHandler",(function(){return Fv})),n.d(i,"region",(function(){return fv})),n.d(i,"Storage",(function(){return $b})),n.d(i,"addRootDomainQueryParameterHackAsAppropriate",(function(){return Wb})),n.d(i,"displayNameFor",(function(){return Ys})),n.d(i,"getUrlForServiceName",(function(){return zb})),n.d(i,"intToHexString",(function(){return Ag})),n.d(i,"matchesFormatOfAppleId",(function(){return iv})),n.d(i,"matchesFormatOfEmailAddress",(function(){return rv})),n.d(i,"matchesFormatOfPhoneNumberAppleId",(function(){return av})),n.d(i,"matchesFormatOfPhoneNumber",(function(){return ov})),n.d(i,"normalizePhoneNumber",(function(){return sv})),n.d(i,"reloadWithReason",(function(){return Gb})),n.d(i,"WindowApplication",(function(){return Hb})),n.d(i,"globals",(function(){return Xg})),n.d(i,"SizeClass",(function(){return Vv})),n(1),n(0),n(6),n(92),n(12),n(40),n(3),n(25),n(4),n(7),n(11),n(8);var r,a=n(116);a.b(a.c(),{"Date.Quarter.StandAlone.Q4.Full":"4-й квартал","Date.Month.StandAlone.December.Abbreviated":"груд.","Date.Month.Prepositional.December.Abbreviated":"Груд.","Date.Day.StandAlone.Tuesday.Abbreviated":"Вт","Date.Day.StandAlone.Saturday.Abbreviated":"Сб","Date.Day.Tuesday.Full":"вівторок","Date.Month.Prepositional.September.Full":"Вересень","Date.Month.StandAlone.November.Abbreviated":"лист.","Date.Month.StandAlone.September.Letter":"В","Date.Month.StandAlone.January.Abbreviated":"січ.","Date.Month.February.Abbreviated":"лют.","Date.Day.Sunday.Letter":"Н","Date.Month.Prepositional.November.Letter":"Л","Date.Month.StandAlone.June.Letter":"Ч","Date.Month.StandAlone.March.Full":"Березень","Date.Quarter.StandAlone.Q2.Full":"2-й квартал","Date.Day.Monday.Abbreviated":"Пн","Date.Era.BC.Full":"до нашої ери","Date.Month.December.Full":"грудня","Date.Month.June.Letter":"Ч","Date.Day.StandAlone.Thursday.Abbreviated":"Чт","Date.Month.January.Full":"січня","Date.Day.Saturday.Full":"субота","Date.Day.Sunday.Full":"неділя","Date.Quarter.Q2.Abbreviated":"2КВ","Date.Month.Prepositional.October.Abbreviated":"Жовт.","Date.Month.August.Letter":"С","Date.Day.Thursday.Full":"четвер","Date.Day.StandAlone.Tuesday.Full":"вівторок","Date.Month.StandAlone.July.Full":"Липень","Date.Month.March.Abbreviated":"бер.","Date.Month.StandAlone.October.Abbreviated":"жовт.","Date.Day.Thursday.Letter":"Ч","Date.Month.StandAlone.June.Abbreviated":"черв.","Date.Month.Prepositional.October.Letter":"Ж","Date.Month.StandAlone.May.Abbreviated":"трав.","Date.Day.StandAlone.Thursday.Letter":"Ч","Date.Month.September.Full":"вересня","Date.Month.Prepositional.March.Full":"Березень","Date.Month.Prepositional.June.Full":"Червень","AXGrabToggleButton.AriaLabel.Grabbed":"Переміщайтеся за допомогою стрілок. Натисніть клавішу Return чи Enter, щоб виконати дію, або Escape, щоб скасувати дію.","Date.Month.March.Letter":"Б","Date.Period.PM":"пп","Date.Quarter.Q4.Abbreviated":"4КВ","Date.Month.April.Letter":"К","Date.Month.Prepositional.September.Letter":"В","Date.Month.Prepositional.December.Letter":"Г","Date.Month.July.Full":"липня","Date.Day.StandAlone.Saturday.Letter":"С","Date.Month.April.Abbreviated":"квіт.","Date.Day.StandAlone.Friday.Full":"п’ятниця","Date.Day.Saturday.Letter":"С","Date.Month.June.Abbreviated":"черв.","Date.Day.StandAlone.Sunday.Full":"неділя","Date.Quarter.StandAlone.Q4.Abbreviated":"4КВ","Date.Month.November.Letter":"Л","Date.Quarter.Q3.Full":"3-й квартал","Date.Day.Tuesday.Letter":"В","Date.Month.StandAlone.April.Abbreviated":"квіт.","Date.Month.Prepositional.March.Letter":"M","Date.Month.StandAlone.April.Letter":"К","Date.Day.StandAlone.Friday.Abbreviated":"Пт","Date.Day.Friday.Letter":"П","Date.Month.June.Full":"червня","Date.Day.StandAlone.Sunday.Abbreviated":"Нд","Date.Day.Wednesday.Letter":"С","Date.Month.StandAlone.June.Full":"Червень","Date.Day.Wednesday.Full":"середа","Date.Period.AM":"дп","Date.Month.October.Full":"жовтня","Date.Day.StandAlone.Thursday.Full":"четвер","Date.Day.Tuesday.Abbreviated":"Вт","Date.Month.Prepositional.August.Full":"Серпень","Date.Month.Prepositional.November.Full":"Листопад","Date.Quarter.Q1.Abbreviated":"1КВ","Date.Day.Sunday.Abbreviated":"Нд","Date.Month.StandAlone.August.Letter":"С","Date.Month.September.Abbreviated":"вер.","Date.Month.StandAlone.September.Abbreviated":"вер.","Date.Month.StandAlone.October.Letter":"Ж","Date.Month.July.Abbreviated":"лип.","Date.Month.Prepositional.May.Abbreviated":"Трав.","Date.Month.StandAlone.April.Full":"Квітень","Date.Month.February.Full":"лютого","Date.Month.November.Full":"листопада","Date.Month.Prepositional.November.Abbreviated":"Лист.","Date.Month.Prepositional.March.Abbreviated":"Бер.","Date.Month.Prepositional.April.Letter":"К","Date.Month.January.Letter":"С","Date.Day.Monday.Full":"понеділок","AXGrabToggleButton.AriaLabel.Ungrabbed":"Змінити порядок %{title}","Date.Month.StandAlone.August.Abbreviated":"серп.","Date.Month.Prepositional.May.Letter":"M","Date.Month.StandAlone.May.Letter":"Т","Date.Month.Prepositional.August.Abbreviated":"Серп.","Date.Era.BC.Letter":"Д","Date.Month.StandAlone.July.Abbreviated":"лип.","Date.Day.StandAlone.Monday.Full":"понеділок","Date.Month.May.Abbreviated":"трав.","Date.Quarter.StandAlone.Q2.Abbreviated":"2КВ","Date.Month.StandAlone.December.Full":"Грудень","Date.Month.StandAlone.September.Full":"Вересень","Date.Month.StandAlone.November.Letter":"Л","Date.Month.StandAlone.January.Letter":"С","Date.Month.December.Abbreviated":"груд.","Date.Quarter.Q1.Full":"1-й квартал","Date.Day.Thursday.Abbreviated":"Чт","Date.Month.Prepositional.December.Full":"Грудень","Date.Month.Prepositional.July.Abbreviated":"Лип.","Date.Day.Friday.Full":"п’ятниця","Date.Quarter.Q3.Abbreviated":"3КВ","Date.Month.StandAlone.July.Letter":"Л","Date.Quarter.Q4.Full":"4-й квартал","Date.Day.Wednesday.Abbreviated":"Ср","Date.Month.Prepositional.April.Abbreviated":"Квіт.","Date.Day.StandAlone.Tuesday.Letter":"В","Date.Month.StandAlone.December.Letter":"Г","Date.Day.Friday.Abbreviated":"Пт","Date.Era.BC.Abbreviated":"до н.е.","ReorderableSimpleListViewController.CancelledMove":"Переміщення скасовано","Date.Day.StandAlone.Monday.Letter":"П","Date.Month.StandAlone.January.Full":"Січень","Date.Month.Prepositional.February.Letter":"F","Date.Day.StandAlone.Friday.Letter":"П","Date.Month.Prepositional.April.Full":"Квітень","Date.Month.October.Abbreviated":"жовт.","Date.Month.August.Full":"серпня","Date.Month.October.Letter":"Ж","Date.Month.StandAlone.August.Full":"Серпень","Date.Quarter.StandAlone.Q3.Abbreviated":"3КВ","Date.Era.AD.Full":"нашої ери","Date.Month.StandAlone.May.Full":"Травень","Date.Month.April.Full":"квітня","Date.Month.StandAlone.March.Letter":"Б","Date.Month.Prepositional.June.Abbreviated":"Черв.","Date.Month.May.Letter":"Т","Date.Quarter.StandAlone.Q1.Abbreviated":"1КВ","Date.Month.May.Full":"травня","Date.Day.StandAlone.Wednesday.Full":"середа","Date.Month.Prepositional.January.Full":"Січень","ReorderableSimpleListViewController.GrabbedItem.MovedUp":"Переміщено вище %{itemTitle}","Date.Month.StandAlone.November.Full":"Листопад","Date.Month.Prepositional.February.Abbreviated":"Лют.","Date.Month.Prepositional.May.Full":"Травень","Date.Day.StandAlone.Sunday.Letter":"Н","Date.Month.StandAlone.March.Abbreviated":"бер.","Date.Month.Prepositional.July.Letter":"J","Date.Month.Prepositional.August.Letter":"С","Date.Month.StandAlone.February.Abbreviated":"лют.","Date.Month.Prepositional.January.Abbreviated":"Січ.","Date.Month.February.Letter":"Л","Date.Era.AD.Letter":"Н","Date.Month.Prepositional.January.Letter":"J","Date.Quarter.StandAlone.Q1.Full":"1-й квартал","Date.Day.StandAlone.Wednesday.Abbreviated":"Ср","Date.Month.Prepositional.February.Full":"Лютий","Date.Month.November.Abbreviated":"лист.","Date.Quarter.Q2.Full":"2-й квартал","Date.Month.August.Abbreviated":"серп.","Date.Day.StandAlone.Wednesday.Letter":"С","Date.Month.StandAlone.February.Full":"Лютий","Date.Month.StandAlone.February.Letter":"Л","Date.Day.StandAlone.Saturday.Full":"субота","ReorderableSimpleListViewController.GrabbedItem.MovedDown":"Переміщено нижче %{itemTitle}","Date.Day.StandAlone.Monday.Abbreviated":"Пн","Date.Month.Prepositional.October.Full":"Жовтень","ReorderableSimpleListViewController.ItemDropped":"%{itemTitle} переміщено на позицію %{positionNumber}","Date.Day.Monday.Letter":"П","Date.Day.Saturday.Abbreviated":"Сб","Date.Month.Prepositional.September.Abbreviated":"Вер.","Date.Month.Prepositional.July.Full":"Липень","Date.Era.AD.Abbreviated":"н.е.","Date.Month.January.Abbreviated":"січ.","Date.Quarter.StandAlone.Q3.Full":"3-й квартал","Date.Month.StandAlone.October.Full":"Жовтень","Date.Month.Prepositional.June.Letter":"J","Date.Month.March.Full":"березня","Date.Month.July.Letter":"Л","Date.Month.September.Letter":"В","Date.Month.December.Letter":"Г"}),n(2),n(75),n(76),n(18),n(9),n(23),n(32),a.b(a.c(),{"DriveUI.Upload.Progress.ByteCount":"%{transferredSize} з %{totalSize}","DriveUI.Upload.PopoverDialog.AddFilesButton":"Завантажити ще…","DriveUI.Upload.Retry":"Повторно завантажити","DriveUI.Upload.PopoverDialogTitle":"Завантаження","DriveUI.Upload.Progress.Failed":"Помилка завантаження","DriveUI.Upload.Cancel":"Скасувати завантаження"}),a.b(a.c(),{"DriveUI.Common.Rename.Presentation":"Перейменувати презентацію","DriveUI.Common.Confirm":"OK","DriveUI.Common.Rename.Spreadsheet":"Перейменувати електронну таблицю","DriveUI.Common.NewFolder":"Нова скринька","DriveUI.Common.Rename.Document":"Перейменувати документ","DriveUI.Common.Progress.Waiting":"Очікування…","DriveUI.Common.Rename.File":"Перейменувати файл","DriveUI.Common.Cancel":"Скасувати","DriveUI.Common.Done":"Виконано","DriveUI.Common.Application.Title":"iCloud Drive","DriveUI.Common.Rename.Folder":"Перейменувати папку","DriveUI.Common.Button.OK":"OK","DriveUI.Common.Move":"Перенести"}),a.b(a.c(),{"DriveUI.NumberFormatter.Units.MB":"МБ","DriveUI.NumberFormatter.Units.kB":"КБ","DriveUI.NumberFormatter.Units.TiB":"ТБ","DriveUI.NumberFormatter.Units.KiB":"КБ","DriveUI.NumberFormatter.Units.GB":"ГБ","DriveUI.NumberFormatter.Units.TB":"ТБ","DriveUI.NumberFormatter.Units.GiB":"ГБ","DriveUI.NumberFormatter.Units.PiB":"ПБ","DriveUI.NumberFormatter.Units.PB":"ПБ","DriveUI.NumberFormatter.Units.MiB":"МБ","DriveUI.NumberFormatter.ItemSize":"%{number} %{sizeUnit}","DriveUI.NumberFormatter.Units.bytes":"байти"}),a.b(a.c(),{"RF.DateTime.Relative.LessThanAnHourAgo":"%{minutes} хв. тому","RF.DateTime.Relative.Yesterday":"Вчора","RF.DateTime.Relative.Tomorrow.TimeIncluded":"Завтра о %{time}","RF.DateTime.Relative.Tomorrow":"Завтра","RF.DateTime.Relative.Yesterday.TimeIncluded":"Учора о %{time}","RF.DateTime.Relative.OneMinuteAgo":"1 хв. тому","RF.DateTime.Relative.JustNow":"Тільки що"}),n(14),n(29),a.b(a.c(),{"CloudOS.Authentication.SignInButton.Title":"Увійти","Name.Display.NameIsCJK.FirstAndFamilyNames":"%{familyName}%{firstName}","Name.Display.FirstAndFamilyNames":"%{firstName} %{familyName}"}),n(105),n(113),n(121),n(122),n(123),n(124),n(57),n(96),n(61),n(19),n(114),n(95),n(97),function(e){e.OK="OK",e.CANCELLED="CANCELLED",e.FAILED="FAILED"}(r||(r={}));var o=function(){function e(e,t){this.status=e,this.data=t,this.ok=e===r.OK,this.cancelled=e===r.CANCELLED,this.failed=e===r.FAILED}return e.okResult=function(t){return new e(r.OK,t)},e.cancelledResult=function(t){return new e(r.CANCELLED,t)},e.failedResult=function(t){return new e(r.FAILED,t)},e}(),s=(n(125),n(222),n(169),n(157)),l=n.n(s);n(115),n(170),n(130),n(53),n(30),n(44),n(33),a.b(a.c(),{"CKSharing.ManageShare.Button.ShareOptions":"Опції оприлюднення","CKSharing.ConfirmationDialog.RemoveYourself.Message.Drive.Folder":"Ви справді хочете вилучити себе з цієї оприлюдненої папки?","CKSharing.CopyEmailOrPhone.Subtitle.Email":"Щоб вибрати адресу е-пошти, натисніть на неї.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Drive.File":"Додайте людей до цього файлу, а потім надішліть їм лінк.","CKSharing.ConfirmationDialog.StopSharing.Description.Drive.Folder":"Якщо припинити оприлюднення, інші більше не матимуть доступу до цієї папки, і її буде видалено з iCloud Drive на всіх їхніх пристроях.","CKSharing.AddParticipants.CopyLink.Participant.Title.Keynote":"Ось лінк на презентацію","CKSharing.ConfirmationDialog.RemoveYourself.Description.Drive.File":"Якщо вилучити себе з оприлюдненого файлу, його буде видалено з iCloud Drive на всіх пристроях.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Drive.Folder":"Всі, у кого є лінк, зможуть вносити зміни.","CKSharing.SummaryText.OwnerAdmin.Private.RW.WOption":"Змінювати можуть лише запрошені люди","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Drive.File":"Усі учасники будуть вилучені з цього файлу, а сам файл буде видалено з iCloud Drive на всіх їхніх пристроях.","CKSharing.ErrorDialog.ValidateTokens.SOME_INVALID_TOKENS.Message":"Деякі із вказаних адрес е-пошти або номерів телефонів недійсні.","CKSharing.ErrorDialog.ValidateTokens.Email.ONE_INVALID_TOKEN.Message":"“%{value}» не є дійсною адресою е-пошти.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Keynote":"Всі, у кого є лінк, зможуть переглянути.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Notes":"Відкрити зможуть лише запрошені люди.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Keynote":"Доступ матимуть тільки люди, запрошені користувачем %{ownerDisplayName}.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Drive.Folder":"Не вдається оприлюднити цю папку.","CKSharing.ManageShare.Title":"Люди","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Numbers":"Додайте людей до цієї таблиці, а потім надішліть їм лінк.","CKSharing.ErrorDialog.SEND_LINK.Message.Drive.Folder":"Не вдається надіслати лінк на цю папку.","CKSharing.AddParticipants.CurrentlyLoggedUser.NameAndAppleId":"%{displayName} (%{appleId})","CKSharing.InvalidToken.GeneralReason":"Недійсна адреса е-пошти або номер телефону.","CKSharing.CopyEmailOrPhone.Subtitle.Phone":"Щоб вибрати номер телефону, натисніть на нього.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Keynote":"Усі учасники будуть вилучені з цієї презентації, а сама презентація буде видалена з iCloud Drive на всіх їхніх пристроях.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.CloudKit":"Всі, у кого є лінк, зможуть вносити зміни.","CKSharing.ErrorDialog.SEND_LINK.Message.Pages":"Не вдається надіслати лінк на документ","CKSharing.AddParticipants.CopyLink.Participant.Title.CloudKit":"Ось лінк","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Keynote":"Переглянути зможуть лише запрошені люди.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Photos.Compact":"Хмара фото не оприлюднюється","CKSharing.ConfirmationDialog.RemoveYourself.Description.CloudKit.WithoutTitle":"Ви більше не матимете прав доступу.","CKSharing.ErrorDialog.TOO_MANY_INVITEES.Message":"Ви надіслали максимальну кількість запрошень.","CKSharing.ErrorDialog.UNKNOWN_ERROR.Description.Compact":"Повторіть спробу пізніше.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Notes":"Вилучення себе з оприлюдненої нотатки видалить її з усіх пристроїв.","ConfirmNativeMail.Message.Pages.Expanded":"Документ, до якого надано спільний доступ, готовий.","CKSharing.ErrorDialog.ValidateTokens.ALL_INVALID_TOKENS.Description":"Вкажіть правильні адреси е-пошти або номери телефонів, а потім знову спробуйте оприлюднити.","CKSharing.AddParticipants.AllowLabel.Title":"Дозвіл:","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Pages":"Переглянути зможуть лише запрошені люди.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Pages":"Відкрити зможуть лише запрошені люди.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Photos":"Ось посилання на фотографії, якими ви ділитеся з членами родини.","CKSharing.ErrorDialog.ValidateTokens.Email.ALL_INVALID_TOKENS.Description":"Введіть дійсні адреси електронної пошти, а потім знову спробуйте оприлюднити.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.CloudKit":"Доступ матимуть тільки люди, запрошені користувачем %{ownerDisplayName}.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Drive.Folder":"Усі учасники будуть вилучені з цієї папки, а саму папку буде видалено з iCloud Drive на всіх їхніх пристроях.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Keynote":"Не вдається оприлюднити презентацію","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Notes":"Відкрити оприлюднену нотатку:","CKSharing.PermissionsCombo.ViewOnly":"Лише перегляд","CKSharing.iWork.Numbers":"Numbers","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Keynote":"Відкрити оприлюднену презентацію:","CKSharing.ConfirmationDialog.RemoveFinalParticipant.Message":"Ви справді хочете вилучити користувача %{name}?","CKSharing.ConfirmationDialog.RemoveYourself.Message.Pages":"Ви справді хочете вилучити себе з оприлюдненого документа?","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Numbers":"Відкрити зможуть лише запрошені люди.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.CloudKit":"Ось лінк","CKSharing.ErrorDialog.AXMGroup.UNABLE_TO_FETCH_MEMBERS.Message":"Неможливо отримати членів «%{groupName}».","CKSharing.ErrorDialog.ValidateTokens.Email.ALL_INVALID_TOKENS.Message":"Введені адреси е-пошти недійсні.","CKSharing.ConfirmationDialog.StopSharing.Message.Pages":"Припинити оприлюднення документа?","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.CloudKit":"Всі, у кого є лінк, зможуть вносити зміни.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Drive.Folder":"Всі, у кого є лінк, зможуть переглянути.","CKSharing.SummaryText.OwnerAdmin.Public.RW.WOption":"Всі, у кого є лінк, можуть вносити зміни.","CKSharing.AddParticipants.InvitationsTextField.Placeholder":"Адреси е-пошти чи номери телефонів","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Pages":"Вносити зміни зможуть лише запрошені люди.","CKSharing.ErrorDialog.ADDED_ONLY_YOURSELF_EMAIL.Description":"Введіть адреси електронної пошти інших користувачів та повторіть спробу.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Numbers":"Всі, у кого є лінк, зможуть переглянути.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Keynote":"Вносити зміни зможуть лише запрошені люди.","CKSharing.ManageShare.Button.StopSharing":"Вимкнути оприлюднення","CKSharing.ErrorDialog.SEND_LINK.Message.Notes":"Не вдається надіслати лінк на нотатку","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Keynote":"Додайте людей до цієї презентації, а потім надішліть їм лінк.","CKSharing.ErrorDialog.ValidateTokens.SOME_INVALID_TOKENS.Description":"Вкажіть правильні адреси е-пошти або номери телефонів, а потім знову спробуйте оприлюднити.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Numbers":"Усі учасники будуть вилучені з цієї таблиці, а саму таблицю буде видалено з iCloud Drive на всіх їхніх пристроях.","CKSharing.ManageShare.ParticipantSettings.ViewOnly":"Лише перегляд","CKSharing.ConfirmationDialog.StopSharing.Description.CloudKit.WithoutTitle":"Якщо припинити оприлюднення, інші більше не матимуть доступу.","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.Pages":"Оприлюдніть цей документ, а потім надішліть лінк.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Pages":"Усі учасники будуть вилучені з цього документа, а сам документ буде видалено з iCloud Drive на всіх їхніх пристроях.","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Numbers":"Відкрити оприлюднену таблицю:","CKSharing.SummaryText.OwnerAdmin.Private.RO.WOption":"Лише запрошені люди можуть переглядати","CKSharing.ManageShare.Button.AddPeople":"Додати людей","CKSharing.ManageShare.Button.CopyLink":"Копіювати лінк","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Numbers":"Доступ матимуть тільки люди, запрошені користувачем %{ownerDisplayName}.","CKSharing.ErrorDialog.ACCESS_DENIED.Message":"Запит не може бути виконано.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Keynote":"Вилучення себе з оприлюдненої презентації видалить її з iCloud Drive на всіх пристроях.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Pages":"Вилучення себе з оприлюдненого документа видалить його з iCloud Drive на всіх пристроях.","CKSharing.PermissionsCombo.AllowEditing":"Може вносити зміни","CKSharing.ManageShare.List.Label.Me":" (я)","CKSharing.AddParticipants.AccessLabel.Title":"Хто має право доступу:","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.CloudKit":"Не вдається оприлюднити","CKSharing.ConfirmationDialog.StopSharing.Description.Keynote":"Якщо припинити оприлюднення, інші більше не матимуть доступу до цієї презентації, і її буде видалено з iCloud Drive на всіх їхніх пристроях.","CKSharing.AddParticipants.Public":"Всі, у кого є лінк","CKSharing.AddParticipants.TokenItemMenu.EditUnknown":"Редагувати","CKSharing.ErrorDialog.MailComposer.LoadTimeout.Message":"Не вдається відкрити програму «Пошта iCloud»","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Drive.Folder":"Доступ матимуть тільки люди, запрошені користувачем %{ownerDisplayName}.","CKSharing.iWork.Keynote":"Keynote","CKSharing.ErrorDialog.CONFLICT.Description":"Внесено зміни на іншому пристрої. Повторіть спробу.","CKSharing.AddParticipants.TokenItemMenu.RemoveEmail":"Вилучити адресу","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.CloudKit":"Вносити зміни зможуть лише запрошені люди.","CKSharing.ManageShare.Button.Close":"Готово","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Numbers":"Всі, у кого є лінк, зможуть вносити зміни.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Drive.Folder":"Переглянути зможуть лише запрошені люди.","CKSharing.InvalidToken.NotAXMContact":"Ви не можете поділитися з особою за межами вашої установи.","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.CloudKit":"Оприлюдніть, а потім надішліть лінк.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Numbers":"Ось лінк на таблицю","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Drive.File":"Всі, у кого є лінк, зможуть переглянути.","CKSharing.AddParticipants.Transports.EmailButton.Title":"Лист","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Drive.File":"Цей обліковий запис має обмеження щодо людей, яким можна оприлюднювати файли.","CKSharing.ErrorDialog.DESTROY.Message":"Не вдалося зупинити оприлюднення","CKSharing.ErrorDialog.AddingParticipants.MAIL_ADD_PARTICIPANTS_FAILED.Description":"Через помилку не вдається запросити одного або більше учасників.","CKSharing.Offline.Description":"Перевірте підключення до Інтернету.","CKSharing.iWork.Pages":"Pages","CKSharing.ManageShare.ParticipantSettings.ShowContactCard":"Показати картку контакту","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Drive.Folder":"Відкрити цю оприлюднену папку:","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.Numbers":"Оприлюдніть цю таблицю, а потім надішліть лінк.","CKSharing.ErrorDialog.ValidateTokens.Email.SOME_INVALID_TOKENS.Message":"Деякі введені адреси електронної пошти недійсні.","CKSharing.AddParticipants.CopyLink.CloseButton.Title":"Закрити","CKSharing.AddParticipants.OKButton.Share.Title":"Оприлюднити","CKSharing.ErrorDialog.AddingParticipants.MAIL_ADD_PARTICIPANTS_FAILED.Message":"Не вдається надіслати повідомлення","CKSharing.ConfirmationDialog.RemoveYourself.Description.CloudKit.WithTitle":"Вас буде видалено зі списку «%{shareTitle}».","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Notes":"Вносити зміни зможуть лише запрошені люди.","CKSharing.AddParticipants.Title.AddPeople":"Додати людей","ConfirmNativeMail.Message.Numbers.Expanded":"Таблиця, до якої надано спільний доступ, готова.","CKSharing.ConfirmationDialog.StopSharing.Message.Numbers":"Припинити оприлюднення таблиці?","CKSharing.AddParticipants.CopyLink.Participant.Title.Pages":"Ось лінк на документ","CKSharing.ManageShare.Button.SendLink":"Надіслати лінк","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Notes":"Відкрити оприлюднену нотатку:","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Drive.Folder":"Відкрити зможуть лише запрошені люди.","CKSharing.ErrorDialog.SEND_LINK.Message.Numbers":"Не вдається надіслати лінк на таблицю","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Numbers":"Цей обліковий запис має обмеження щодо людей, яким можна оприлюднювати таблиці.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Numbers":"Вносити зміни зможуть лише запрошені люди.","CKSharing.AddParticipants.CopyLink.Participant.Title.Numbers":"Ось лінк на таблицю","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Notes":"Доступ матимуть тільки люди, запрошені користувачем %{ownerDisplayName}.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Notes":"Цей обліковий запис має обмеження щодо людей, яким можна оприлюднювати нотатки.","CKSharing.ErrorDialog.ADDED_ONLY_YOURSELF.Message":"Неможливо оприлюднити за допомогою власної адреси електронної пошти iCloud.","CKSharing.InitiateShare.Title":"Додати людей","CKSharing.ConfirmationDialog.RemoveYourself.Message.CloudKit":"Ви справді хочете вилучити себе зі списку оприлюднення?","CKSharing.ConfirmationDialog.StopSharing.Description.Pages":"Якщо припинити оприлюднення, інші більше не матимуть доступу до цього документа, і його буде видалено з iCloud Drive на всіх їхніх пристроях.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Photos":"Цей обліковий запис має обмеження щодо людей, яким можна оприлюднювати фотографії.","CKSharing.AddParticipants.Subtitle.MultipleTransports":"Виберіть, як надіслати запрошення:","CKSharing.ConfirmationDialog.PublicToPrivate.Description.CloudKit.WithoutTitle":"Доки не запрошено інших людей, лише ви матимете доступ.","CKSharing.AddParticipants.CancelButton.Title":"Скасувати","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Pages":"Всі, у кого є лінк, зможуть переглянути.","CKSharing.RichLink.NoShareTitle":"Оприлюднено через програму «%{appName}»","CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.NOT_IN_ORG.Description":"Виберіть контактну особу, яка належить до вашої установи.","ConfirmNativeMail.ConfirmButton":"Відкрити програму «Пошта»","CKSharing.ErrorDialog.SEND_LINK.Message.Drive.File":"Не вдається надіслати лінк на файл","ConfirmNativeMail.Message.Drive.Folder.Expanded":"Спільна папка готова.","CKSharing.AddParticipants.Transports.CopyLinkButton.Title":"Копіювати лінк","CKSharing.ErrorDialog.INVITE_TO_PRIVATE.VIA_EMAIL.TO_PERSON.Message":"Не вдалося надіслати запрошення","CKSharing.AddParticipants.Private":"Лише запрошені люди","CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.Message":"«%{value}» — неправильна адреса е-пошти або номер телефону.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Drive.Folder":"Всі, у кого є лінк, зможуть вносити зміни.","CKSharing.ErrorDialog.ADDED_ONLY_YOURSELF.Description":"Введіть адреси електронної пошти або номери телефону інших користувачів, а потім повторіть спробу.","CKSharing.PermissionsCombo.Mixed":"Змішаний доступ","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Drive.File":"Відкрити оприлюднений файл:","CKSharing.ConfirmationDialog.StopSharing.Description.CloudKit.WithTitle":"Якщо припинити оприлюднення, інші більше не матимуть доступу до «%{shareTitle}».","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Numbers":"Відкрити оприлюднену таблицю:","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Pages":"Відкрити оприлюднений документ:","CKSharing.AddParticipants.Email.Subject.AppName":"Оприлюднено через програму «%{appName}»","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Drive.File":"Всі, у кого є лінк, зможуть вносити зміни.","CKSharing.ConfirmationDialog.RemoveFinalParticipant.Description":"Вилучення єдиного запрошеного учасника зупинить оприлюднення.","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Photos":"Відкрити оприлюднені фотографії:","CKSharing.SummaryText.OwnerAdmin.Private.RO.NoOption":"Запрошені люди можуть переглядати.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Drive.Folder":"Якщо вилучити себе з цієї оприлюдненої папки, документ буде видалено з iCloud Drive на всіх ваших пристроях.","CKSharing.AXMGroup.LoadingMembers":"Завантаження...","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Numbers":"Всі, у кого є лінк, зможуть вносити зміни.","CKSharing.ErrorDialog.UNKNOWN_ERROR.Description":"Можливо, виникла проблема із сервером. Повторіть спробу пізніше.","CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.OVER_SIZE.Ellipsis":"…","CKSharing.ManageShare.ParticipantSettings.CopyPhoneNumber":"Копіювати номер телефону","CKSharing.SummaryText.Participant.Private.RW":"Лише %{ownerName} може запрошувати людей.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Notes":"Переглянути зможуть лише запрошені люди.","CKSharing.ErrorDialog.TOO_MANY_INVITEES.Description":"Неможливо надіслати нові запрошення. Скоротіть кількість запрошених користувачів і повторіть спробу.","CKSharing.ManageShare.StatusText.Invited":"Запрошено","CKSharing.ConfirmationDialog.RemoveYourself.Message.Notes":"Ви справді хочете вилучити себе з оприлюдненої нотатки?","CKSharing.Offline.Title":"Ви офлайн","CKSharing.SummaryText.Participant.Private.RO":"Лише %{ownerName} може запрошувати людей.","CKSharing.Busy.Loading.Description":"Завантаження…","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Drive.File":"Ось лінк на файл","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Drive.Folder":"Цей обліковий запис має обмеження щодо людей, для яких можна оприлюднювати папки.","CKSharing.ErrorDialog.INVITE_TO_PRIVATE.VIA_EMAIL.TO_PEOPLE.Message":"Не вдалося надіслати запрошення","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Drive.File":"Доступ матимуть тільки люди, запрошені користувачем %{ownerDisplayName}.","CKSharing.ErrorDialog.INVITE_TO_PRIVATE.VIA_UNKNOWN.Message":"Не вдалося додати людей","CKSharing.ManageShare.List.Label.Owner":" (власник)","CKSharing.AddParticipants.Email.Subject.ShareTitle":"«%{shareTitle}»","ConfirmNativeMail.CloseButton":"Закрити","CKSharing.ManageShare.ParticipantSettings.CopyEmail":"Копіювати адресу е-пошти","CKSharing.Sending.Description":"Підготовка…","CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.NOT_IN_ORG.Message":"«%{value}» не є членом вашої установи.","CKSharing.ManageShare.StatusText.ViewOnly":"Лише перегляд","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Pages":"Ось лінк на документ","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Keynote":"Всі, у кого є лінк, зможуть вносити зміни.","ConfirmNativeMail.Message.Keynote.Expanded":"Презентація, до якої надано спільний доступ, готова.","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Pages":"Відкрити оприлюднений документ:","ConfirmNativeMail.Message.CloudKit.Expanded":"Готово до відправлення.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Pages":"Всі, у кого є лінк, зможуть вносити зміни.","ConfirmNativeMail.Message.Photos.Compact":"Фотографії, до яких надано спільний доступ, готові.","CKSharing.ErrorDialog.UPDATE.Message":"Не вдалося змінити опції оприлюднення","CKSharing.ErrorDialog.AXMGroup.UNABLE_TO_FETCH_MEMBERS.Description":"Можливо, виникла проблема із сервером. Повторіть спробу пізніше.","CKSharing.ManageShare.Settings.AllPermissionsToggle.ReadOnly":"Лише перегляд","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Drive.File":"Вносити зміни зможуть лише запрошені люди.","CKSharing.ConfirmationDialog.StopSharing.Message.CloudKit":"Припинити оприлюднення?","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.CloudKit":"Переглянути зможуть лише запрошені люди.","CKSharing.Busy.LoadingParticipants.Description":"Завантаження…","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Photos":"Не можна оприлюднити фотографії","CKSharing.ConfirmationDialog.RemoveYourself.Message.Keynote":"Ви справді хочете вилучити себе з оприлюдненої презентації?","ConfirmNativeMail.Description":"Відкрийте свій поштовий клієнт, щоб відправити посилання iCloud.","CKSharing.CopyEmailOrPhone.Title.Phone":"Номер телефону","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Keynote":"Цей обліковий запис має обмеження щодо людей, яким можна оприлюднювати презентації.","CKSharing.ConfirmationDialog.RemoveYourself.Message.Numbers":"Ви справді хочете вилучити себе з оприлюдненої таблиці?","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Pages":"Не вдається оприлюднити документ","CKSharing.SummaryText.OwnerAdmin.Private.RW.NoOption":"Запрошені люди можуть вносити зміни.","CKSharing.SummaryText.Participant.Public.RW":"Всі, у кого є лінк, можуть вносити зміни.","CKSharing.ErrorDialog.ValidateTokens.ALL_INVALID_TOKENS.Message":"Вказано неправильні адреси е-пошти або номери телефонів.","CKSharing.AddParticipants.TokenItemMenu.EditPhone":"Редагувати номер телефону","CKSharing.AddParticipants.CurrentlyLoggedUser.NameOrAppleId":"%{nameOrAppleId}","CKSharing.AddParticipants.TokenItemMenu.EditEmail":"Редагувати адресу","CKSharing.ConfirmationDialog.PublicToPrivate.Description.CloudKit.WithTitle":"Доки не запрошено інших людей, лише ви матимете доступ до «%{shareTitle}».","CKSharing.AddParticipants.Title.SendLink":"Надіслати лінк","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.Keynote":"Оприлюдніть цю презентацію, а потім надішліть лінк.","CKSharing.CopyEmailOrPhone.Title.Email":"Адреса е-пошти","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Numbers":"Всі, у кого є лінк, зможуть переглянути.","CKSharing.Dialog.Button.Continue":"Продовжити","CKSharing.Dialog.Button.Cancel":"Скасувати","CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.Description":"Вкажіть правильну адресу е-пошти або номер телефону, а потім знову спробуйте оприлюднити.","CKSharing.ConfirmationDialog.StopSharing.Message.Drive.Folder":"Припинити оприлюднення цієї папки?","CKSharing.SummaryText.Participant.Private.Mixed":"Лише %{ownerName} може запрошувати людей.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.CloudKit":"Всі, у кого є лінк, зможуть переглянути.","CKSharing.UnexpectedTerminationMessage":"Сталася неочікувана помилка","CKSharing.ManageShare.ParticipantSettings.RemoveMe":"Вилучити мене","CKSharing.ConfirmationDialog.StopSharing.Description.Drive.File":"Якщо припинити оприлюднення, інші більше не матимуть доступу до цього файлу, і його буде видалено з iCloud Drive на всіх їхніх пристроях.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Drive.Folder":"Вносити зміни зможуть лише запрошені люди.","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Keynote":"Відкрити оприлюднену презентацію:","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Pages":"Всі, у кого є лінк, зможуть переглянути.","CKSharing.ErrorDialog.SEND_LINK.Message.Keynote":"Не вдається надіслати лінк на презентацію","CKSharing.ConfirmationDialog.RemoveYourself.Message.Drive.File":"Ви справді хочете вилучити себе з оприлюдненого файлу?","CKSharing.AddParticipants.CopyLink.CopyButton.Title":"Копіювати лінк","ConfirmNativeMail.Message.Photos.Expanded":"Фотографії, до яких надано спільний доступ, готові.","CKSharing.AddParticipants.TokenItemMenu.AutocompleteItem.Title":"%{field} (%{label})","CKSharing.ConfirmationDialog.RemoveYourself.Description.Numbers":"Вилучення себе з оприлюдненої таблиці видалить її з iCloud Drive на всіх пристроях.","CKSharing.SummaryText.OwnerAdmin.Public.RO.NoOption":"Всі, у кого є лінк, можуть переглядати.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Keynote":"Відкрити зможуть лише запрошені люди.","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Drive.Folder":"Відкрити мою оприлюднену папку:","CKSharing.ConfirmationDialog.StopSharing.Description.Numbers":"Якщо припинити оприлюднення, інші більше не матимуть доступу до цієї таблиці, і її буде видалено з iCloud Drive на всіх їхніх пристроях.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Keynote":"Всі, у кого є лінк, зможуть переглянути.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Notes":"Ось лінк на нотатку","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.CloudKit":"Всі, у кого є лінк, зможуть переглянути.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Notes":"Додайте людей до цієї нотатки, а потім надішліть їм лінк.","CKSharing.AddParticipants.Transports.SchoolworkButton.Title":"Шкільні уроки","ConfirmNativeMail.Message.Drive.File.Expanded":"Файл, до якого надано спільний доступ, готовий.","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.Drive.Folder":"Оприлюдніть цю папку, а потім надішліть лінк.","CKSharing.AddParticipants.CopyLink.Participant.Title.Drive.File":"Ось лінк на файл","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Pages":"Доступ матимуть тільки люди, запрошені користувачем %{ownerDisplayName}.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Drive.Folder":"Всі, у кого є лінк, зможуть переглянути.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Drive.Folder":"Ось лінк на вашу папку.","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Drive.File":"Відкрити оприлюднений файл:","CKSharing.AddParticipants.OKButton.CopyLink.Title":"Копіювати лінк","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Drive.Folder":"Додайте людей до цієї папки, а потім надішліть їм лінк.","CKSharing.ErrorDialog.ValidateTokens.Email.SOME_INVALID_TOKENS.Description":"Введіть дійсні адреси електронної пошти, а потім знову спробуйте оприлюднити.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Keynote":"Всі, у кого є лінк, зможуть вносити зміни.","CKSharing.ManageShare.Settings.AllPermissionsToggle.ReadWrite":"Дозволити редагування","CKSharing.AddParticipants.TokenItemView.Add":"Додати:","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Numbers":"Переглянути зможуть лише запрошені люди.","CKSharing.ConfirmationDialog.PublicToPrivate.Message":"Змінити, щоб лише надсилати запрошення?","CKSharing.ErrorDialog.SEND_LINK.Message.CloudKit":"Зараз неможливо надіслати лінк.","CKSharing.SummaryText.OwnerAdmin.Public.RW.NoOption":"Всі, у кого є лінк, можуть вносити зміни.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Drive.File":"Всі, у кого є лінк, зможуть вносити зміни.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Drive.File":"Переглянути зможуть лише запрошені люди.","CKSharing.AddParticipants.ShareSettingsDisclosureButton.Title":"Опції оприлюднення","CKSharing.AddParticipants.CopyLink.Participant.Title.Drive.Folder":"Ось лінк на цю папку.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Notes":"Не вдається оприлюднити нотатку","CKSharing.AddParticipants.CopyLink.Participant.Title.Notes":"Ось лінк на нотатку","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.CloudKit":"Оприлюдніть, а потім надішліть лінк.","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.Drive.File":"Оприлюдніть цей файл, а потім надішліть лінк.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Drive.File":"Не вдається оприлюднити файл","CKSharing.ConfirmationDialog.StopSharing.Description.Notes":"Якщо припинити оприлюднення, інші більше не матимуть доступу до цієї нотатки, і її буде видалено з усіх їхніх пристроїв.","CKSharing.ManageShare.ParticipantSettings.RemoveAccess":"Вилучити доступ","CKSharing.SummaryText.OwnerAdmin.Public.RO.WOption":"Всі, у кого є лінк, можуть переглядати.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Numbers":"Не вдається оприлюднити таблицю","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Keynote":"Ось лінк на презентацію","CKSharing.ConfirmationDialog.StopSharing.Message.Keynote":"Припинити оприлюднення презентації?","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Drive.File":"Відкрити зможуть лише запрошені люди.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Pages":"Додайте людей до цього документа, а потім надішліть їм лінк.","CKSharing.Dialog.Button.OK":"ОК","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.CloudKit":"Відкрити зможуть лише запрошені люди.","CKSharing.ConfirmationDialog.StopSharing.Message.Notes":"Припинити оприлюднення нотатки?","CKSharing.ManageShare.Settings.AllPermissionsToggle.Label":"Установити всі дозволи","CKSharing.ConfirmationDialog.StopSharing.Message.Drive.File":"Припинити оприлюднення файлу?","CKSharing.SummaryText.Participant.Public.RO":"Всі, у кого є лінк, можуть переглядати.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Pages":"Всі, у кого є лінк, зможуть вносити зміни.","CKSharing.ErrorDialog.MailComposer.LoadTimeout.Description":"Можливо, виникла проблема із сервером. Повторіть спробу пізніше.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Drive.File":"Всі, у кого є лінк, зможуть переглянути.","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.NoOption":"Запрошені люди можуть відкривати.","CKSharing.ErrorDialog.OKButton.Title":"ОК","CKSharing.ErrorDialog.CopyLink.UNABLE_TO_ACQUIRE_LINK.Description":"Повторіть спробу пізніше.","CKSharing.AddParticipants.TokenItemMenu.RemovePhone":"Вилучити номер телефону","CKSharing.ErrorDialog.CopyLink.UNABLE_TO_ACQUIRE_LINK.Message":"Зараз неможливо надіслати лінк.","CKSharing.ManageShare.ParticipantSettings.CanEdit":"Може вносити зміни","ConfirmNativeMail.Message.Notes.Expanded":"Примітка, до якої надано спільний доступ, готова.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.CloudKit":"Цей обліковий запис має обмеження щодо людей, для яких можна використовувати функцію оприлюднення.","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.WOption":"Лише запрошені люди можуть відкривати","CKSharing.AddParticipants.TokenItemMenu.RemoveUnknown":"Вилучити","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Pages":"Цей обліковий запис має обмеження щодо людей, яким можна оприлюднювати документи.","CKSharing.Dialog.Button.Done":"Готово","CKSharing.ErrorDialog.ValidateTokens.Email.ONE_INVALID_TOKEN.Description":"Введіть дійсну адресу електронної пошти, а потім знову спробуйте оприлюднити."}),n(55),n(49),n(31),n(21),a.b(a.c(),{"Button.Help.Tooltip":"Довідка та підтримка","Name.Display.NameIsCJK.FirstAndFamilyNames":"%{familyName}%{firstName}","Name.Display.FirstAndFamilyNames":"%{firstName} %{familyName}","AccountMenu.AccountSettings":"Налаштування","Toolbar.AppSwitcher.Tooltip":"Змінити програму","HSA.SignoutDialog.Title":"Вийти з iCloud.com?","Toolbar.Button.Action.UserAction":"Параметри iCloud і вихід","HSA.SignoutDialog.SignoutButton":"Вийти","Button.Cancel":"Скасувати","HSA.SignoutDialog.CheckboxTitle":"Запам'ятати мої дані для входу в цьому веб-браузері, щоб оминути ідентифікацію наступного разу.","AccountMenu.SignOut":"Вийти"});var c=n(13),u=(n(48),n(72),n(80),n(81),n(73),n(5)),d=n.n(u),h=(n(77),n(22)),f=n.n(h),p=(n(20),n(62),n(63),n(65),n(39),n(42)),m=n.n(p);n(261),n(64),n(90),n(41),n(58),n(51),n(45),n(34),n(28),n(27),n(26),a.b(a.c(),{"ContactsAutocomplete.Error.NotFound":"Не вдалося завантажити контакти, оскільки не вдалося знайти сервер.","ContactsAutocomplete.PreviewTemplate.MatchRecentByName":"%{matchedName} — %{emailAddress}","ContactsAutocomplete.PreviewTemplate.MatchPersonByMiddleName":"%{middleName} (%{firstAndLastNameInProperOrder}) — %{contactValue}","ContactsAutocomplete.Category.CUSTOM":"інше значення","ContactsAutocomplete.SearchingProgress":"Пошук за фразою “%{searchString}”...","ContactsAutocomplete.Category.WORK":"робочий","ContactsAutocomplete.Category.MOBILE":"мобільний","ContactsAutocomplete.PreviewTemplate.MatchCompanyByLastName":"%{lastAndFirstNameInProperOrder} (%{companyName}) — %{contactValue}","ContactsAutocomplete.Category.BUSINESS":"робочий","ContactsAutocomplete.Recents.Delete.Group.Text":"Видалити останню групу?","ContactsAutocomplete.Category.SCHOOL":"навчального закладу","ContactsAutocomplete.PreviewTemplate.MatchCompanyByCompanyName":"%{companyName} (%{firstAndLastNameInProperOrder}) — %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchCompanyByNickName":"%{nickName} (%{firstAndLastNameInProperOrder}) (%{companyName}) — %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchPersonByNickAndLastName":"%{nickName} %{lastName} — %{contactValue}","ContactsAutocomplete.Category.HOMEFAX":"факс дом.","ContactsAutocomplete.PreviewTemplate.MatchPersonByLastName":"%{lastAndFirstNameInProperOrder} — %{contactValue}","ContactsAutocomplete.Category.PAGER":"пейджер","ContactsAutocomplete.PreviewTemplate.MatchPersonByContact":"%{contactValue} (%{firstAndLastNameInProperOrder})","ContactsAutocomplete.PreviewTemplate.MatchCompanyByContact":"%{contactValue} %{companyName} (%{firstAndLastNameInProperOrder})","ContactsAutocomplete.GroupSecondaryLabel.Single":"1 контакт","ContactsAutocomplete.PreviewTemplate.MatchPersonByFirstName":"%{firstAndLastNameInProperOrder} — %{contactValue}","ContactsAutocomplete.Category.WORKFAX":"факс роб.","ContactsAutocomplete.Error.Internal":"Внутрішня помилка","ContactsAutocomplete.Category.HOME":"домашній","ContactsAutocomplete.Category.MAIN":"основне","ContactsAutocomplete.PreviewTemplate.MatchCompanyByFirstName":"%{firstAndLastNameInProperOrder} (%{company}) — %{contactValue}","ContactsAutocomplete.Category.OTHER":"інше","ContactsAutocomplete.GroupMembers":"%{emailAddresses} і %{lastEmailAddress}","ContactsAutocomplete.GroupSecondaryLabel.Multiple":"%{numberOfContacts} конт.","ContactsAutocomplete.PreviewTemplate.MatchPersonByCompanyName":"%{companyName} (%{firstAndLastNameInProperOrder}) — %{contactValue}","ContactsAutocomplete.Category.RECENTS":"останні","ContactsAutocomplete.PreviewTemplate.MatchRecentByEmailAddress":"%{matchedEmail} (%{name})","ContactsAutocomplete.PreviewTemplate.MatchPersonByNickName":"%{nickName} (%{firstAndLastNameInProperOrder}) — %{contactValue}","ContactsAutocomplete.Recents.Delete.Recipient.Text":"Видалити останнього одержувача?","ContactsAutocomplete.Recents.Delete.Title":"Видалити з останніх","ContactsAutocomplete.Error.Generic":"Не вдалося завантажити контакти через помилку сервера.","ContactsAutocomplete.PreviewTemplate.MatchCompanyByMiddleName":"%{middleName} (%{firstAndLastNameInProperOrder}) (%{companyName}) — %{contactValue}"}),n(46),n(78),n(82);var g,v=n(69),_=n.n(v),b=n(74),y=n.n(b);!function(e){e.ADD="ADD",e.REMOVE="REMOVE",e.UPDATE="UPDATE",e.UPDATE_AND_REMOVE="UPDATE_AND_REMOVE"}(g||(g={}));var S,I=g;!function(e){e.LEFT="LEFT",e.RIGHT="RIGHT",e.BOTH="BOTH"}(S||(S={}));var w,E=S,C=Symbol("MERGE_FAILED_RESULT"),A=function(){function e(){}return e.prototype.valueForChange=function(e,t){if(e.type!==I.REMOVE){var n=e.direction;if(n===E.RIGHT)return e.rightValue;if(n===E.LEFT)return e.leftValue;var i=e.baseValue,r=e.leftValue,a=e.rightValue;if("object"===typeof i&&e.type===I.UPDATE){var o=t?t+"."+e.key:e.key;return x(i,r,a,this,o)}return y()(r,a)?r:C}},e}(),T=function(e,t){var n,i,r;if(e===t||!e&&!t)return!1;if(e&&!t)i=Object.keys(e);else if(!e&&t)r=Object.keys(t);else{var a,o,s,l,c,u={};for(a in i=[],n=[],e)o=Object.prototype.hasOwnProperty.call(e,a),s=e[a],l=Object.prototype.hasOwnProperty.call(t,a),c=t[a],!l&&o||void 0===c&&void 0!==s?i.push(a):y()(s,c)||n.push(a),u[a]=!0;for(a in r=[],t)u[a]||r.push(a)}return!!(r&&0!==r.length||i&&0!==i.length||n&&0!==n.length)&&{updated:n||[],removed:i||[],added:r||[]}},O=_()({proto:!0}),D={baseValue:null,direction:E.BOTH,key:null,type:I.ADD};function M(e,t,n,i,r,a,o,s,l){for(var c=a.added,u=c.length,d=0;d<u;d++){var h=c[d];if(o){if(o.updated.indexOf(h)>=0||o.removed.indexOf(h)>=0)return!1;var f=o.added,p=f.indexOf(h);p>=0&&f.splice(p,1)}var m=L(I.ADD,i,e,t,n,h);if(i.valueForChangeInChangeSets)s[h]=m;else{var g=i.valueForChange(m,l);if(g===C)return!1;var v=O(g);Array.isArray(r)?r.push(v):r[h]=v}}return!0}function N(e,t,n,i,r,a,o,s,l){for(var c=a.removed,u=c.length,d=0;d<u;d++){var h=c[d];if(o){if(o.added.indexOf(h)>=0)return!1;var f=o.removed,p=f.indexOf(h);p>=0&&f.splice(p,1)}var m=L(I.REMOVE,i,e,t,n,h);if(i.valueForChangeInChangeSets)s[h]=m;else{var g=i.valueForChange(m,l);if(g===C)return!1;void 0===g?Array.isArray(r)?r.pop():delete r[h]:r[h]=O(g)}}return!0}function F(e,t,n,i,r,a,o,s,l){for(var c=a.updated,u=c.length,d=0;d<u;d++){var h=c[d],f=!1;if(o){if(o.added.indexOf(h)>=0)return!1;var p=o.removed,m=p.indexOf(h);m>=0&&(p.splice(m,1),f=!0);var g=o.updated,v=g.indexOf(h);v>=0&&g.splice(v,1)}var _=L(f?I.UPDATE_AND_REMOVE:I.UPDATE,i,e,t,n,h);if(i.valueForChangeInChangeSets)s[h]=_;else{var b=i.valueForChange(_,l);if(b===C)return!1;void 0===b?Array.isArray(r)?r.pop():delete r[h]:r[h]=O(b)}}return!0}function L(e,t,n,i,r,a){var o,s,l,c=n[a],u=i[a],d=r[a];return e===I.ADD?(o=void 0!==u,s=void 0!==d):e===I.REMOVE?(o=void 0===u||void 0,s=void 0===d||void 0):e===I.UPDATE?(o=!y()(c,u),s=!y()(c,d)):o=s=!0,t.valueForChangeInChangeSets?l={baseValue:c,direction:o&&s?E.BOTH:o?E.LEFT:E.RIGHT,key:a,type:e}:((l=D).baseValue=c,l.direction=o&&s?E.BOTH:o?E.LEFT:E.RIGHT,l.key=a,l.type=e),l.leftValue=u,l.rightValue=d,l}function R(e,t,n,i,r,a,o){for(var s=Object.keys(n),l=s.length-1;l>=0;l--){var c=n[s[l]],u=e.valueForChangeInChangeSets(c,i,r,a,o);if(u===C)return!1;var d=c.key,h=c.type;Array.isArray(t)?h===I.ADD?t.push(u):h===I.REMOVE||h===I.UPDATE_AND_REMOVE&&void 0===u?t.pop():t[d]=u:h===I.REMOVE||h===I.UPDATE_AND_REMOVE&&void 0===u?delete t[d]:t[d]=u}return!0}var x=function(e,t,n,i,r){i||(i=w)||(i=w=new A);var a,o,s,l=T(e,t),c=T(e,n),u=i.valueForChangeInChangeSets;u&&(a={},o={},s={});var d=O(e),h=!1;return function(e,t,n,i,r,a,o,s,l){var c=!0;return a&&(c=F(e,t,n,i,r,a,o,s,l)),c&&o&&(c=F(e,t,n,i,r,o,a,s,l)),c}(e,t,n,i,d,l,c,a,r)&&function(e,t,n,i,r,a,o,s,l){var c=!0;return a&&(c=N(e,t,n,i,r,a,o,s,l)),c&&o&&(c=N(e,t,n,i,r,o,a,s,l)),c}(e,t,n,i,d,l,c,o,r)&&(h=function(e,t,n,i,r,a,o,s,l){var c=!0;return a&&(c=M(e,t,n,i,r,a,o,s,l)),c&&o&&(c=M(e,t,n,i,r,o,a,s,l)),c}(e,t,n,i,d,l,c,s,r)),h&&u&&(h=function(e,t,n,i,r,a){var o=!1;return R(e,t,n,n,i,r,a)&&R(e,t,i,n,i,r,a)&&(o=R(e,t,r,n,i,r,a)),o}(i,d,a,o,s,r)),h?d:C};a.b(a.c(),{"DriveFS.LocalizedItemName.Desktop":"Робочий стіл","DriveFS.LocalizedItemName.Documents":"Документи","DriveFS.LocalizedAppLibraryName.com.apple.numbers":"Numbers","DriveFS.LocalizedAppLibraryName.com.apple.pages":"Pages","DriveFS.LocalizedAppLibraryName.com.apple.keynote":"Keynote","DriveFS.InitiateShare.Title.Keynote":"Надати доступ до презентації","DriveFS.Default.FolderName.RecentlyDeleted":"Недавно видалені","DriveFS.InitiateShare.Title.Folder":"Надати доступ до папки","DriveFS.InitiateShare.Title.File":"Надати доступ до файлу","DriveFS.InitiateShare.Title.Numbers":"Надати доступ до таблиці","DriveFS.InitiateShare.Title.Pages":"Надати доступ до документа","DriveFS.RootFolderName":"iCloud Drive","DriveFS.LocalizedAppLibraryName.icloud.com.apple.homeroom":"Шкільні уроки"}),n(224),a.b(a.c(),{"DriveUI.TrashToolbar.Button.Recover.Title":"Відновити","DriveUI.TrashToolbar.Button.Delete.All.Title":"Видалити всі","DriveUI.TrashToolbar.Button.Delete.Title":"Видалити","DriveUI.TrashToolbar.Button.Recover.All.Title":"Відновити всі"}),n(188),n(106),n(225),n(226),n(137),a.b(a.c(),{"DriveUI.FilesGrid.FolderFooter.None":"0 елементів, %{quotaString} доступно на iCloud","DriveUI.FilesGrid.File.Type.m4r":"Мелодія дзвінка","DriveUI.FilesGrid.File.Type.pdf":"Файл PDF","DriveUI.FilesGrid.File.Type.keychain":"зв’язка ключів","DriveUI.FilesGrid.File.Type.icns":"Піктограма Apple","DriveUI.FilesGrid.File.Type.scpt":"Скрипт","DriveUI.FilesGrid.File.Type.rar":"Архів RAR","DriveUI.FilesGrid.Item.TimeRemaining.Minute.Zero":"0 хвилин","DriveUI.FilesGrid.DragDrop.Status.MoveItems":"Перемістити до «%{destinationName}»","DriveUI.FilesGrid.Default.Delete":"Видалити","DriveUI.FilesGrid.Panel.FileInfo.Label.Created":"Створено:","DriveUI.FilesGrid.File.Type.mp4":"Фільм у форматі MPEG-4","DriveUI.FilesGrid.File.Type.ibooks":"Книга ePub (Apple Books)","DriveUI.FilesGrid.EmptyTrash.Title":"Немає елементів","DriveUI.FilesGrid.File.Type.dae":"Collada ","DriveUI.FilesGrid.Item.Shared.Label.SharedWithMany":"Оприлюднено для %{initNames} і %{finalName}","DriveUI.FilesGrid.File.Type.cer":"Сертифікат","DriveUI.FilesGrid.Default.FolderName.NotNumbered":"безіменна папка","DriveUI.FilesGrid.SortBy.Kind":"Відсортувати за видом","DriveUI.FilesGrid.Error.OpenFile.Multiple.Mixed.Subtitle":"Спробуйте відкрити файли пізніше","DriveUI.FilesGrid.File.Type.avi":"Фільм у форматі AVI","DriveUI.FilesGrid.Error.OpenFile.Multiple.Attachment.Title":"Не вдалося надіслати електронною поштою файли (%{fileCount}).","DriveUI.FilesGrid.File.Type.blend":"Файл у форматі Blend","DriveUI.FilesGrid.File.Type.dmg":"Образ диска","DriveUI.FilesGrid.Item.Shared.Label.SharedWithOneAndOthers":"Оприлюднено для %{name} і %{number} інших користувачів","DriveUI.FilesGrid.Error.OpenFile.Multiple.ItemDetails.Generic.Subtitle":"Під час відкриття файлу виникла проблема. Повторіть спробу пізніше.","DriveUI.FilesGrid.Error.OpenFile.Multiple.Unshared.Subtitle":"Власник припинив оприлюднення або у вас більше немає дозволу на перегляд цих файлів.","DriveUI.FilesGrid.FolderFooter.Multiple":"%{folderItemsCount} елементів, %{quotaString} доступно на iCloud","DriveUI.FilesGrid.File.Type.csv":"розділені комою значення","DriveUI.FilesGrid.EmptyFolder.Subtitle":"Щоб завантажити файли, перетягніть їх сюди.","DriveUI.FilesGrid.File.Type.fbx":"Файл у форматі Filmbox","DriveUI.FilesGrid.Error.OpenFile.Multiple.Attachment.Subtitle":"Спробуйте надіслати ці файли електронною поштою знову.","DriveUI.FilesGrid.File.Type.m4p":"захищене аудіо у форматі MPEG-4","DriveUI.FilesGrid.File.Type.htm":"HTML-текст","DriveUI.FilesGrid.File.Type.epub":"Книга ePub (EPUB)","DriveUI.FilesGrid.File.Type.bin":"Архів MacBinary","DriveUI.FilesGrid.File.Type.indd":"Документ Adobe InDesign","DriveUI.FilesGrid.Cell.Cancel.Tooltip":"Скасувати вивантаження","DriveUI.FilesGrid.File.Type.wma":"Аудіо у форматі Windows media","DriveUI.FilesGrid.SortBy.Size":"Сортувати за розміром","DriveUI.FilesGrid.File.Type.ppsx":"Слайд-шоу Office Open XML","DriveUI.FilesGrid.Error.Email.AttachmentTooLarge.Title":"%{fileName} не можна надіслати е-поштою.","DriveUI.FilesGrid.File.Type.bmp":"Зображення Windows BMP","DriveUI.FilesGrid.File.Type.band":"Проект GarageBand","DriveUI.FilesGrid.File.Type.app":"Програма","DriveUI.FilesGrid.Error.OpenFile.Multiple.Generic.Subtitle":"Спробуйте відкрити ці файли знову.","DriveUI.FilesGrid.Item.TimeRemaining.Hour.One":"1 година","DriveUI.FilesGrid.Item.Shared.Label.SharedToMe":"Оприлюднює: %{name}","DriveUI.FilesGrid.File.Type.c":"Вихідний код C","DriveUI.FilesGrid.File.Type.m3u":"Список відтворення M3U","DriveUI.FilesGrid.Item.TimeRemaining.Hour.Plural":"%{count} год.","DriveUI.FilesGrid.SortButtonTitle.Kind":"Тип","DriveUI.FilesGrid.File.Type.doc":"Документ Microsoft Word 97–2004","DriveUI.FilesGrid.File.Type.ppt":"Презентація Microsoft PowerPoint 97–2004","DriveUI.FilesGrid.File.Type.js":"JavaScript","DriveUI.FilesGrid.File.Type.mpeg":"Фільм у форматі MPEG","DriveUI.FilesGrid.Error.ShareFolder.Message.SharedToMe":"Цю папку не можна оприлюднити.","DriveUI.FilesGrid.Item.Shared.Label.SharedWithManyAndOther":"Оприлюднено для %{names} і ще одного користувача","DriveUI.FilesGrid.Error.OpenFile.Multiple.Generic.Title":"Не вдалося відкрити файли (%{fileCount}).","DriveUI.FilesGrid.File.Type.gz":"Архів GZip","DriveUI.FilesGrid.Panel.FileInfo.Label.Where":"Де:","DriveUI.FilesGrid.Item.Kind.ApplicationLibrary":"Медіатека програми","DriveUI.FilesGrid.File.Type.ipa":"Програма iOS","DriveUI.FilesGrid.File.Type.dng":"Необроблене зображення Adobe","DriveUI.FilesGrid.Cell.Info.LastModified":"Востаннє змінено: %{date}","DriveUI.FilesGrid.SortButtonTitle.Cancel":"Скасувати","DriveUI.FilesGrid.EmptyDrive.Title":"Файлів у iCloud Drive немає","DriveUI.FilesGrid.SortButtonTitle.Message":"Сортувати за:","DriveUI.FilesGrid.File.Type.xhtml":"XHTML","DriveUI.FilesGrid.Error.ShareFolder.Description.SharedToMe":"Не можна оприлюднити папки, в яких містяться елементи, оприлюднені для вас.","DriveUI.FilesGrid.File.Type.m4v":"Фільм у форматі Apple MPEG-4","DriveUI.FilesGrid.Default.FolderName.NotNumbered.LowerCase":"Безіменна папка","DriveUI.FilesGrid.File.Type.class":"Клас Java","DriveUI.FilesGrid.File.Type.java":"Вихідний код Java","DriveUI.FilesGrid.File.Type.key":"Презентація Keynote","DriveUI.FilesGrid.Error.Email.AttachmentTooLarge.Subtitle":"Файл перевищує максимальний обсяг вкладень (%{maxFileSizeInMB} МБ).","DriveUI.FilesGrid.File.Type.tiff":"Зображення TIFF","DriveUI.FilesGrid.Error.OpenFile.Single.Attachment.Title":"Не вдалося надіслати %{fileName}","DriveUI.FilesGrid.EmptyFolder.Title":"Папка порожня","DriveUI.FilesGrid.Error.Loading.FolderContent.Subtitle":"Спробуйте відкрити папку пізніше.","DriveUI.FilesGrid.File.Type.h":"Файл заголовка C","DriveUI.FilesGrid.Panel.FileInfo.Label.SharedBy":"Оприлюднює:","DriveUI.FilesGrid.File.Type.png":"Зображення PNG","DriveUI.FilesGrid.File.Type.css":"Каскадна таблиця стилів CSS","DriveUI.FilesGrid.Cell.Info.Tooltip":"Досьє","DriveUI.FilesGrid.EmptyDrive.Subtitle":"Щоб завантажити файли, перетягніть їх сюди або скористайтеся програмою з підтримкою iCloud Drive.","DriveUI.FilesGrid.File.Type.xlsx":"Таблиця Office Open XML","DriveUI.FilesGrid.Item.Kind.Folder":"Папка","DriveUI.FilesGrid.File.Type.aiff":"Аудіо у форматі AIFF-C","DriveUI.FilesGrid.Error.OpenFile.Multiple.ItemDetails.Deleted.Subtitle":"Файл недоступний, тому що його було видалено.","DriveUI.FilesGrid.Item.TimeRemaining.Day.One":"1 день","DriveUI.FilesGrid.Item.Shared.Me":"Я","DriveUI.FilesGrid.File.Type.zip":"Архів ZIP","DriveUI.FilesGrid.File.Type.perl":"Скрипт Perl","DriveUI.FilesGrid.Error.Email.AttachmentsTooLarge.Title":"Файли не можна надіслати е-поштою","DriveUI.FilesGrid.File.Type.exe":"Програма Microsoft Windows","DriveUI.FilesGrid.Item.Kind.FileWithExtension":"Файл %{ext}","DriveUI.FilesGrid.File.Type.txt":"Текст","DriveUI.FilesGrid.Error.Loading.FolderContent.Title":"Сталася помилка завантаження контенту папки","DriveUI.FilesGrid.File.Type.m":"Вихідний код Objective-C","DriveUI.FilesGrid.Item.Shared.Label.SharedWithSeparator":", ","DriveUI.FilesGrid.Error.ShareFolder.Generic.Message":"Не вдалося оприлюднити файл «%{folderName}».","DriveUI.FilesGrid.SortButtonTitle.Date":"Дата","DriveUI.FilesGrid.Item.Kind.File":"Файл","DriveUI.FilesGrid.Error.OpenFile.Single.Attachment.Subtitle":"Спробуйте надіслати файл пізніше.","DriveUI.FilesGrid.Panel.FileInfo.Label.Modified":"Змінено:","DriveUI.FilesGrid.File.Type.xls":"Таблиця Microsoft Excel 97–2004","DriveUI.FilesGrid.Item.Shared.Label.SharedWithOne":"Оприлюднено для %{name}","DriveUI.FilesGrid.Error.ShareFolder.Generic.Description":"Під час оприлюднення цієї папки сталася помилка. Повторіть спробу пізніше.","DriveUI.FilesGrid.File.Type.otf":"Шрифт PostScript® OpenType™","DriveUI.FilesGrid.File.Type.xlam":"Microsoft Excel add-in","DriveUI.FilesGrid.File.Type.swift":"Файл Swift","DriveUI.FilesGrid.File.Type.obj":"Файл 3D-об’єкта Wavefront","DriveUI.FilesGrid.DragDrop.Status.UploadItems":"Завантажити до «%{destinationName}»","DriveUI.FilesGrid.File.Type.rtf":"форматований текст (RTF)","DriveUI.FilesGrid.Item.Shared.Label.SharedWithOneAndOther":"Оприлюднено для %{name} і ще одного користувача","DriveUI.FilesGrid.File.Type.hqx":"Архів BinHex","DriveUI.FilesGrid.File.Type.stl":"Файл STL","DriveUI.FilesGrid.File.Type.pages":"Документ Pages","DriveUI.FilesGrid.DragDrop.Status.UploadItems.ToRootContainer":"Завантажити до iCloud Drive","DriveUI.FilesGrid.Error.OpenFile.Multiple.Deleted.Subtitle":"Файли видалено і вони вже недоступні.","DriveUI.FilesGrid.File.Type.aac":"Аудіо у форматі AAC","DriveUI.FilesGrid.SortButtonTitle.Name":"Ім’я","DriveUI.FilesGrid.Error.ShareFile.UnsharedToMe.Message":"Файл %{fileName} вже недоступний.","DriveUI.FilesGrid.File.Type.vcf":"Електронна візитка","DriveUI.FilesGrid.File.Type.tar":"Архів Tar","DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Message":"«%{folderName}» більше не доступний.","DriveUI.FilesGrid.SortButtonTitle.Size":"Розмір","DriveUI.FilesGrid.File.Type.py":"Скрипт Python","DriveUI.FilesGrid.Error.ShareFile.Generic.Description":"Під час оприлюднення файлу сталася помилка. Повторіть спробу пізніше.","DriveUI.FilesGrid.Panel.FileInfo.Label.Size":"Обсяг:","DriveUI.FilesGrid.File.Type.mp3":"Аудіо у форматі MP3","DriveUI.FilesGrid.File.Type.apk":"Програма для Android","DriveUI.FilesGrid.File.Type.qt":"Фільм у форматі QuickTime","DriveUI.FilesGrid.DragDrop.Status.MoveItems.ToRootContainer":"Перемістити до iCloud Drive","DriveUI.FilesGrid.File.Type.c4d":"Файл Cinema 4D","DriveUI.FilesGrid.File.Type.xml":"XML-текст","DriveUI.FilesGrid.Error.OpenFile.Single.Deleted.Subtitle":"Файл недоступний, тому що його було видалено.","DriveUI.FilesGrid.Error.OpenFile.Single.Unshared.Subtitle":"Власник припинив оприлюднення або у вас більше немає дозволу на перегляд цього елемента.","DriveUI.FilesGrid.File.Type.numbers":"Таблиця Numbers","DriveUI.FilesGrid.File.Type.svg":"масштабована векторна графіка (SVG)","DriveUI.FilesGrid.File.Type.docx":"Текстовий документ Office Open XML","DriveUI.FilesGrid.Error.Email.AttachmentsTooLarge.Subtitle":"Файли перевищують максимальний обсяг вкладень (%{maxFileSizeInMB} МБ).","DriveUI.FilesGrid.File.Type.safariextz":"Розширення Safari","DriveUI.FilesGrid.Item.Shared.Label.SharedWithManyAndOthers":"Оприлюднено для %{names} і %{number} інших користувачів","DriveUI.FilesGrid.Error.ShareFile.Generic.Message":"Не вдалося оприлюднити файл «%{fileName}».","DriveUI.FilesGrid.File.Type.eps":"Зображення EPS","DriveUI.FilesGrid.File.Type.gif":"Зображення GIF","DriveUI.FilesGrid.Error.ShareFile.UnsharedToMe.Description":"Власник припинив оприлюднення або у вас більше немає дозволу на перегляд елемента.","DriveUI.FilesGrid.File.Type.sh":"Скрипт shell","DriveUI.FilesGrid.File.Type.ico":"Піктограма Windows","DriveUI.FilesGrid.Item.Shared.Label.SharedWithTwo":"Оприлюднено для %{firstName} і %{secondName}","DriveUI.FilesGrid.SortBy.Date":"Сортувати за датою","DriveUI.FilesGrid.File.Type.pps":"Слайд-шоу Microsoft Powerpoint 97–2004","DriveUI.FilesGrid.File.Type.jpg":"Зображення JPEG","DriveUI.FilesGrid.File.Type.ps":"PostScript","DriveUI.FilesGrid.File.Type.dxf":"Файл AutoCAD DXF","DriveUI.FilesGrid.File.Type.mid":"Аудіо у форматі Midi","DriveUI.FilesGrid.Item.TimeRemaining.Minute.One":"1 хвилина","DriveUI.FilesGrid.Item.TimeRemaining.Minute.Plural":"%{count} хв.","DriveUI.FilesGrid.File.Type.xcodeproj":"Проект Xcode","DriveUI.FilesGrid.Default.Share":"Все одно оприлюднити","DriveUI.FilesGrid.File.Type.ics":"Файл ICS","DriveUI.FilesGrid.File.Type.pptx":"Презентація Office Open XML","DriveUI.FilesGrid.SortBy.Name":"Сортувати за ім’ям","DriveUI.FilesGrid.File.Type.m4a":"Аудіо у форматі Apple MPEG-4","DriveUI.FilesGrid.File.Type.cpp":"Вихідний код C++","DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Description":"Власник припинив оприлюднення або у вас більше немає дозволу на перегляд цього елемента.","DriveUI.FilesGrid.Item.Shared.Label.SharedByMe":"Оприлюднено мною","DriveUI.FilesGrid.File.Type.wmv":"Windows media","DriveUI.FilesGrid.Cell.Upload.Progress.Uploading":"Завантаження…","DriveUI.FilesGrid.Panel.FileInfo.Label.Kind":"Тип:","DriveUI.FilesGrid.Item.TimeRemaining.Day.Plural":"%{count} дн.","DriveUI.FilesGrid.File.Type.wave":"Waveform аудіо","DriveUI.FilesGrid.File.Type.abbu":"Архівний файл контактів","DriveUI.FilesGrid.File.Type.psd":"Документ Adobe Photoshop","DriveUI.FilesGrid.File.Type.ttf":"Шрифт TrueType® OpenType™","DriveUI.FilesGrid.Default.FolderName.Numbered":"безіменна папка %{number}","DriveUI.FilesGrid.File.Type.ai":"Документ Adobe Illustrator","DriveUI.FilesGrid.File.Type.pkg":"Архів пакета інсталятора ","DriveUI.FilesGrid.FolderFooter.Single":"1 елемент, %{quotaString} доступно на iCloud","DriveUI.FilesGrid.Item.Info.DateTime.Format":"%{date:dd}.%{date:MM}.%{date:yyyy} %{date:HH}:%{date:mm}","DriveUI.FilesGrid.File.Type.iso":"Образ диска ISO","DriveUI.FilesGrid.Error.OpenFile.Single.Generic.Title":"Не вдалося відкрити %{fileName}","DriveUI.FilesGrid.Error.OpenFile.Multiple.ItemDetails.Unshared.Subtitle":"Власник припинив оприлюднення або у вас більше немає дозволу на перегляд цього файлу.","DriveUI.FilesGrid.File.Type.bat":"Пакетний файл","DriveUI.FilesGrid.Error.OpenFile.Single.Generic.Subtitle":"Спробуйте відкрити файл пізніше.","DriveUI.FilesGrid.File.Type.log":"Файл журналу"}),n(37),n(47),n(43),a.b(a.c(),{"DriveUI.DragDrop.Dialog.Move.FileShared.Button.Move":"Все одно перемістити","DriveUI.DragDrop.Dialog.Move.FileShared.All.Message.In":"Зараз ви надаєте доступ до цих файлів. Якщо перемістити їх у цю медіатеку програм, спільний доступ буде закрито.","DriveUI.DragDrop.Dialog.Move.FileShared.Some.Message.Out":"Ви оприлюднюєте %{fileCount} з %{fileCountTotal} файлів. Якщо перемістити їх із медіатеки програми, спільний доступ буде скасовано.","DriveUI.DragDrop.Dialog.Move.FileShared.Single.Message.Out":"Ви оприлюднюєте цей файл. Якщо перемістити його з медіатеки програми, спільний доступ буде скасовано.","DriveUI.DragDrop.Dialog.Move.FileShared.All.Message.Out":"Ви оприлюднюєте ці файли. Якщо перемістити їх із медіатеки програми, спільний доступ буде скасовано.","DriveUI.DragDrop.Dialog.Move.FileShared.Some.Title":"Переміщення оприлюднених файлів скасує доступ до них","DriveUI.DragDrop.Dialog.Move.FileShared.Some.Message.In":"Ви надаєте доступ до %{fileCount} з цих %{fileCountTotal} файлів. Якщо перемістити їх у медіатеку програми, спільний доступ буде закрито.","DriveUI.DragDrop.Dialog.Move.FileShared.Single.Title":"Переміщення файлу «%{fileName}» скасує його оприлюднення","DriveUI.DragDrop.Alert.CannotMoveToAppFolder.Multiple.Message":"Не вдалося перемістити файли в папку","DriveUI.DragDrop.Dialog.Move.FileShared.Single.Message.In":"Зараз ви надаєте доступ до цього файлу. Якщо перемістити його в медіатеку програми, спільний доступ буде закрито.","DriveUI.DragDrop.Dialog.Move.FileShared.All.Title":"Переміщення оприлюднених файлів скасує доступ до них"}),a.b(a.c(),{"DriveUI.Alert.Delete.Description.ShareByMe.Mix.SomeOfMany":"Якщо ви видалите ці елементи, інші люди більше не матимуть доступу до елементів (%{shareCount}), які ви оприлюднили, і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Delete.Description.ShareByMe.Spreadsheet.Plural":"Якщо видалити ці таблиці, інші люди більше не матимуть доступу до них і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Delete.Message.FileFolder.Any.Shared.Single":"Один із цих елементів оприлюднено. Ви дійсно хочете видалити елементи (%{count})?","DriveUI.Alert.TransactionError.RenameItem.File.Description":"Спробуйте перейменувати файл пізніше.","DriveUI.Alert.Move.Out.Message.Document.SharedToMe.Multiple":"Справді хочете перемістити ці оприлюднені документи?","DriveUI.Alert.Delete.Description.ShareToMe.SomeOfMany.Mix":"Елементи (%{shareCount}), які для вас оприлюднили, буде видалено з iCloud Drive на всіх ваших пристроях. Щоб знову приєднатися до цих оприлюднених файлів, скористайтеся посиланнями, за якими вас було запрошено.","DriveUI.Alert.LockedItem.Delete.Single.Folder.Description":"Папку не можна видаляти з iCloud Drive.","DriveUI.Alert.Delete.Description.DesktopDocuments":"Папки можуть бути потрібні Mac для збереження папок «Робочий стіл» і «Документи» в iCloud Drive.","DriveUI.Alert.Upload.AccessDenied.Message":"Переконайтеся, що маєте дозвіл на читання файлу.","DriveUI.Alert.Purge.Description.InSharedFolder.Presentation.Single":"Якщо видалити цю презентацію, інші більше не матимуть доступу до неї і її буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Move.Out.Message.File.SharedByMe.Single":"Справді хочете перемістити цей оприлюднений файл?","DriveUI.Alert.TransactionError.Group.CreateFolders.Message":"Не вдалося створити папки (%{count})","DriveUI.Alert.Upload.Coalesced.Default.Title":"Файли (%{fileCount}) не вдалося завантажити через помилку","DriveUI.Alert.Delete.Description.ShareToMe.AllOfMany.Document":"Їх буде видалено з iCloud Drive на всіх ваших пристроях. Щоб знову приєднатися до цих оприлюднених документів, скористайтеся посиланнями, за якими вас було запрошено.","DriveUI.Alert.Move.Out.Message.Folder.SharedByMe.Multiple":"Справді хочете перемістити ці оприлюднені папки?","DriveUI.Alert.Upload.Coalesced.BadFileTypeForAppLibrary.Description":"Можна завантажувати у медіатеку програми лише файли, які відкриваються у %{appName}.","DriveUI.Alert.TransactionError.CreateFolder.Message":"Під час створення «%{name}» виникла проблема","DriveUI.Alert.Upload.SizeTooBig.Title":"Файл «%{fileName}» завеликий, щоб його передати.","DriveUI.Alert.Delete.Message.Documents.File.Plural":"Видалити папку «Документи» та інші файли (%{count})?","DriveUI.Alert.Move.Out.Message.Item.SharedByMe.Multiple":"Справді хочете перемістити ці оприлюднені елементи?","DriveUI.Alert.Delete.Description.ShareByMe.Presentation.Single":"Якщо видалити цю презентацію, інші люди більше не матимуть доступу до неї та її буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Delete.Description.ShareByMeToMe.FoldersAndMixed":"Якщо ви видалите ці елементи, інші люди більше не матимуть доступу до папок, які ви оприлюднили, а папки, які оприлюднили для вас, буде видалено з iCloud Drive на всіх ваших пристроях.","DriveUI.Alert.Download.Multiple.Deleted.Subtitle":"Файли видалено і вони вже недоступні.","DriveUI.Alert.TransactionError.DeleteItems.Single.Folder.Description":"Спробуйте видалити папку пізніше.","DriveUI.Alert.Upload.UnsupportedExtension.Description":"Деякі типи та імена файлів наразі не підтримуються в iCloud Drive на  iCloud.com.","DriveUI.Alert.Upload.Coalesced.NotCompressed.Title":"Файли (%{fileCount}) не вдалося завантажити, тому що їх потрібно стиснути","DriveUI.Alert.Purge.Message.InSharedFolder.Presentation.Single":"Ви дійсно хочете видалити цю оприлюднену презентацію?","DriveUI.Alert.Delete.Message.Folder.Plural.Shared.Single":"Один із елементів в папках оприлюднено. Видалити папки (%{count})?","DriveUI.Alert.Move.Message.Item.SharedByMe.Multiple":"Ви дійсно хочете перемістити ці оприлюднені елементи?","DriveUI.Alert.Move.Description.SharedByMe.Single.Second":"Якщо цей елемент перемістити, він залишиться доступним лише людям, доданим до оприлюдненої папки «%{destinationFolderName}».","DriveUI.Alert.Move.Out.Description.Spreadsheet.SharedByMe.Single":"Якщо перенести цю таблицю в папку «%{destinationFolderName}», спільний доступ до неї в iCloud буде зупинено. Вона стане недоступною для інших користувачів і її буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Purge.Message.Mix":"Ви дійсно хочете видалити елементи (%{count})?","DriveUI.Alert.Delete.Description.ShareByMe.Document.Plural":"Якщо видалити ці документи, інші більше не матимуть доступу до них і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Purge.Message.InSharedFolder.Presentation.Multiple":"Ви дійсно хочете видалити ці оприлюднені презентації?","DriveUI.Alert.Purge.Description.InSharedFolder.Folder.Single":"Якщо видалити цю папку, інші більше не матимуть доступу до неї і його буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Purge.Description.InSharedFolder.File.Multiple":"Якщо видалити ці файли, інші більше не матимуть доступу до них і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Move.Message.AmbiguousFolder.Multiple":"Справді перемістити ці папки?","DriveUI.Alert.Delete.Message.SharedAndRegularFolder.Shared.Plural":"Деякі з цих папок оприлюднено. Видалити папки (%{count})?","DriveUI.Alert.Move.Message.Presentation.SharedByMe.Multiple":"Ви дійсно хочете перемістити ці оприлюднені презентації?","DriveUI.Alert.TransactionError.Group.RenameItems.Message":"Не вдалося перейменувати елементи (%{count})","DriveUI.Alert.Upload.Package.Title.Pages":"Щоб завантажити документи Pages у цьому браузері, створіть і перейменуйте архів","DriveUI.Alert.Move.Out.Description.Document.SharedToMe.Multiple":"Якщо перенести ці документи в папку «%{destinationFolderName}», спільний доступ до них в iCloud буде зупинено. Вони стануть недоступні для інших користувачів і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Purge.Description.File.Multiple":"Файли буде негайно видалено з iCloud Drive і на всіх пристроях з iCloud.","DriveUI.Alert.Move.Out.Message.Document.SharedByMe.Single":"Справді хочете перемістити цей оприлюднений документ?","DriveUI.Alert.Move.Message.Document.SharedToMe.SomeOfMany":"Один або кілька документів зі спільним доступом не можна перемістити.","DriveUI.Alert.Move.Message.Spreadsheet.SharedToMe.Multiple":"Ці оприлюднені таблиці не можна перемістити.","DriveUI.Alert.Delete.Description.ShareByMe.Folder.SomeOfMany":"Якщо ви видалите ці папки, інші люди більше не матимуть доступу до папок (%{shareCount}), які ви оприлюднили, і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.TransactionError.MovingItems.Single.Folder.Description":"Спробуйте перемістити папку пізніше.","DriveUI.Alert.Move.Message.SharedByMe.SomeOfMany":"Справді перемістити ці елементи?","DriveUI.Alert.Move.Message.File.SharedByMe.Single":"Ви дійсно хочете перемістити цей оприлюднений файл?","DriveUI.Alert.CannotRenameItem.Group.Message":"Неможливо перейменувати елементи (%{count}), оскільки їхні імена вже зайняті.","DriveUI.Alert.TransactionError.Group.RenameItems.Description":"Елементи не вдалося перейменувати через неочікувану помилку. Повторіть спробу пізніше.","DriveUI.Alert.EmptyName.File.Message":"Ім’я «%{fileNameWithExtension}» є недійсним","DriveUI.Alert.Upload.Coalesced.SizeTooBig.Description":"У iCloud Drive на iCloud.com є ліміт щодо завантажень, які туди можна передавати. Він становить 10 ГБ.","DriveUI.Alert.Delete.Description.ShareToMe.Maybe":"Всі оприлюднені вам елементи буде вилучено з усіх пристроїв. Щоб відновити доступ, скористайтеся посиланнями, за якими вас було запрошено.","DriveUI.Alert.TransactionError.RecoverItem.Message":"Під час відновлення елемента «%{name}» виникла проблема.","DriveUI.Alert.TransactionError.RenameItem.File.Message":"Під час перейменування %{name} виникла проблема","DriveUI.Alert.Upload.SizeTooSmall.DetailedDescription":"Під час завантаження файлу виникла проблема.","DriveUI.Alert.Delete.Message.Documents.Folder.Plural":"Видалити папку «Документи» та інші папки (%{count})?","DriveUI.Alert.TransactionError.Group.MoveItems.Generic.Description":"Елементи не вдалося перемістити через неочікувану помилку. Повторіть спробу пізніше.","DriveUI.Alert.Delete.Message.DesktopDocuments":"Видалити папки «Робочий стіл» і «Документи»?","DriveUI.Alert.Upload.SizeTooBig.DetailedDescription":"Файл завеликий, щоб його передати.","DriveUI.Alert.Move.Message.Item.SharedToMe.Multiple":"Ці оприлюднені елементи не можна перемістити.","DriveUI.Alert.TransactionError.DeleteItems.Single.File.Description":"Спробуйте видалити файл пізніше.","DriveUI.Alert.Move.Out.Description.Item.SharedToMe.Multiple":"Якщо перенести ці елементи в папку «%{destinationFolderName}», спільний доступ до них в iCloud буде зупинено. Вони стануть недоступні для інших користувачів і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Move.Out.Description.File.SharedByMe.Multiple":"Якщо перенести ці файли в папку «%{destinationFolderName}», спільний доступ до них в iCloud буде зупинено. Вони стануть недоступні для інших користувачів і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.LockedItem.Delete.Single.Message":"«%{name}» не можна видаляти.","DriveUI.Alert.Delete.Message.Documents":"Видалити папку «Документи»?","DriveUI.Alert.Move.Out.Message.Presentation.SharedByMe.Multiple":"Справді хочете перемістити ці оприлюднені презентації?","DriveUI.Alert.Upload.Package.Description.Keynote":"Щоб архів відкривався у Keynote, ім’я архівованого файлу має містити .%{extension}.zip.","DriveUI.Alert.Move.Out.Description.Folder.SharedByMe.Single":"Якщо перенести цю папку в папку «%{destinationFolderName}», спільний доступ до неї в iCloud буде зупинено. Вона стане недоступною для інших користувачів і її буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Delete.Description.ShareToMe.SomeOfMany.Folder":"Якщо ви видалите ці папки, інші люди більше не матимуть доступу до папок (%{shareCount}), які ви оприлюднили, і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Delete.Description.ShareByMe.File.Plural":"Якщо видалити ці файли, інші більше не матимуть доступу до них і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Purge.Description.File.Single":"Файл буде негайно видалено з iCloud Drive і на всіх пристроях з iCloud.","DriveUI.Alert.LockedItem.ListContents.Single.Message":"«%{name}» не можна відкривати.","DriveUI.Alert.Delete.Message.Shared.Folder.Single":"Справді хочете видалити цю оприлюднену папку?","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemDeleted.Folder":"Папку видалено раніше.","DriveUI.Alert.Download.Multiple.Mixed.Title":"Не вдалося завантажити файли (%{fileCount})","DriveUI.Alert.Download.Multiple.ItemDetails.Generic.Subtitle":"Під час завантаження файлу виникла проблема. Повторіть спробу пізніше.","DriveUI.Alert.Delete.Description.ShareToMe.Single.Folder":"Його буде видалено з iCloud Drive на всіх ваших пристроях. Щоб знову приєднатися до цієї оприлюдненої папки, скористайтеся посиланням, за яким вас було запрошено.","DriveUI.Alert.Move.Out.Description.File.SharedToMe.Multiple":"Якщо перенести ці файли в папку «%{destinationFolderName}», спільний доступ до них в iCloud буде зупинено. Вони стануть недоступні для інших користувачів і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Upload.HiddenFile.Description":"Неприпустиме ім’я файлу.","DriveUI.Alert.Purge.Message.InSharedFolder.File.Multiple":"Ви дійсно хочете видалити ці оприлюднені файли?","DriveUI.Alert.TransactionError.Group.DeleteItems.Message":"Не вдалося видалити елементи (%{count})","DriveUI.Alert.Upload.SizeTooSmall.Title":"Не вдалося завантажити файл %{fileName}","DriveUI.Alert.Move.Out.Message.Spreadsheet.SharedToMe.Single":"Справді хочете перемістити цю оприлюднену таблицю?","DriveUI.Alert.Move.Message.Document.SharedToMe.Multiple":"Ці оприлюднені документи не можна перемістити.","DriveUI.Alert.Upload.Coalesced.OutOfQuota.Description":"Видаліть файли з iCloud Drive або збільшіть обсяг сховища.","DriveUI.Alert.Move.Message.Presentation.SharedByMe.Single":"Ви дійсно хочете перемістити цю оприлюднену презентацію?","DriveUI.Alert.Move.Description.SharedToMe.Generic":"Оприлюднені для вас елементи не можна перемістити в оприлюднені папки.","DriveUI.Alert.Delete.Message.Spreadsheet.Single":"Справді хочете видалити цю оприлюднену таблицю?","DriveUI.Alert.TransactionError.Group.MoveItems.Generic.Message":"Не вдалося перемістити елементи (%{count})","DriveUI.Alert.Purge.Description.InSharedFolder.File.Single":"Якщо видалити цей файл, інші більше не матимуть доступу до нього і його буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.EmptyName.Folder.Message":"Ім’я «%{name}» є недійсним","DriveUI.Alert.Purge.Message.InSharedFolder.Spreadsheet.Single":"Ви дійсно хочете видалити цю оприлюднену таблицю?","DriveUI.Alert.CannotRenameItem.NoExtension.Message":"Ім’я «%{name}» уже зайняте.","DriveUI.Alert.Move.Out.Description.Presentation.SharedToMe.Single":"Якщо перенести цю презентацію в папку «%{destinationFolderName}», спільний доступ до неї в iCloud буде зупинено. Вона стане недоступною для інших користувачів і її буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Delete.Description.ShareToMe.Single":"Файл «%{itemName}» буде вилучено з усіх пристроїв. Щоб відновити доступ, скористайтеся посиланням, за яким вас було запрошено.","DriveUI.Alert.Download.Multiple.ItemDetails.Deleted.Subtitle":"Файл видалено і він вже недоступний.","DriveUI.Alert.Move.Message.Item.SharedToMe.SomeOfMany":"Один чи кілька елементів зі спільним доступом не можна перемістити.","DriveUI.Alert.Delete.Message.Folder.Single.Shared.Single":"Один із елементів у папці оприлюднено. Видалити папку «%{folderName}»?","DriveUI.Alert.TransactionError.DeleteItems.Single.Message":"Під час видалення «%{name}» виникла проблема","DriveUI.Alert.Delete.Description.ShareByMe.File.SomeOfMany":"Якщо ви видалите ці файли, інші люди більше не матимуть доступу до файлів (%{shareCount}), які ви оприлюднили, і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Move.Out.Message.File.SharedByMe.Multiple":"Справді хочете перемістити ці оприлюднені файли?","DriveUI.Alert.Download.Single.Generic.Title":"Не вдалося завантажити «%{fileName}»","DriveUI.Alert.Delete.Message.DesktopDocuments.Folder.Single":"Видалити папки «Робочий стіл», «Документи» та ще одну папку?","DriveUI.Alert.Delete.Message.File.Plural.Shared.Single":"Один із файлів оприлюднено. Видалити файли (%{count})?","DriveUI.Alert.Delete.Message.Folder.Plural.Shared.Plural":"Деякі елементи в папках оприлюднено. Видалити папки (%{count})?","DriveUI.Alert.Delete.Message.AppLibrary.Any.Item.Plural":"Видалити елементи (%{count})?","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemModified.Folder":"Папку змінено.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemMoved.Folder":"Папку переміщено.","DriveUI.Alert.CannotRenameItem.Group.Description":"Виберіть інші імена.","DriveUI.Alert.Move.Out.Message.Presentation.SharedToMe.Multiple":"Справді хочете перемістити ці оприлюднені презентації?","DriveUI.Alert.Delete.Description.ShareToMe.SingleOfMany.Spreadsheet":"«%{itemName}» буде видалено з iCloud Drive на всіх ваших пристроях. Щоб знову приєднатися до цього оприлюдненої таблиці, скористайтеся посиланням, за яким вас було запрошено.","DriveUI.Alert.HiddenName.Description":"Виберіть інше ім’я.","DriveUI.Alert.Purge.Description.InSharedFolder.Presentation.Multiple":"Якщо видалити ці презентації, інші більше не матимуть доступу до них і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Move.Description.SharedByMe.Multiple.Second":"Якщо їх перемістити, вони залишаться доступними лише людям, доданим до оприлюдненої папки «%{destinationFolderName}».","DriveUI.Alert.Delete.Description.ShareByMe.Document.Single":"Якщо видалити цей документ, інші більше не матимуть доступу до нього і його буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Delete.Message.FileFolder.Single.Shared.Single":"Один з елементів у папці оприлюднено. Видалити папку «%{folderName}»?","DriveUI.Alert.LockedItem.Delete.Single.File.Description":"Файл не можна видаляти з iCloud Drive.","DriveUI.Alert.Delete.Description.ShareToMe.Single.File":"Його буде видалено з iCloud Drive на всіх ваших пристроях. Щоб знову приєднатися до цього оприлюдненого файлу, скористайтеся посиланням, за яким вас було запрошено.","DriveUI.Alert.Delete.Message.FileFolder.Plural.Shared.Plural":"Деякі елементи в папках оприлюднено. Видалити елементи (%{count})?","DriveUI.Alert.Upload.SelectionContainsFolder.Title":"Завантаження папок в iCloud Drive не підтримується","DriveUI.Alert.Purge.Message.InSharedFolder.Spreadsheet.Multiple":"Ви дійсно хочете видалити ці оприлюднені таблиці?","DriveUI.Alert.Move.Out.Description.Folder.SharedToMe.Single":"Якщо перенести цю папку в папку «%{destinationFolderName}», спільний доступ до неї в iCloud буде зупинено. Вона стане недоступною для інших користувачів і її буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Move.Out.Description.Document.SharedByMe.Single":"Якщо перенести цей документ у папку «%{destinationFolderName}», спільний доступ до нього в iCloud буде зупинено. Він стане недоступним для інших користувачів і його буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Upload.Coalesced.Unknown.Title":"Файли (%{fileCount}) не вдалося завантажити через помилку","DriveUI.Alert.Move.Message.File.SharedToMe.Multiple":"Ці оприлюднені файли не можна перемістити.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemModified.File":"Файл змінено.","DriveUI.Alert.Delete.Description.InSharedFolder.OneTimeOnly":"Ви можете відновити або вилучити вміст із папки «Недавно видалені» протягом 30 днів.","DriveUI.Alert.Move.Description.SharedToMe":"Оприлюднені для вас елементи не можна перемістити в оприлюднені папки.","DriveUI.Alert.LockedItem.Delete.Multiple.Message":"Елементи не можна видаляти","DriveUI.Alert.Delete.Description.ShareToMe.SingleOfMany.Document":"«%{itemName}» буде видалено з iCloud Drive на всіх ваших пристроях. Щоб знову приєднатися до цього оприлюдненого документа, скористайтеся посиланням, за яким вас було запрошено.","DriveUI.Alert.Move.Message.File.SharedToMe.SomeOfMany":"Один чи кілька оприлюднених файлів не можна перемістити.","DriveUI.Alert.Move.Message.Document.SharedByMe.Single":"Ви дійсно хочете перемістити цей оприлюднений документ?","DriveUI.Alert.LockedItem.Delete.Multiple.Description":"Серед вибраних файлів є заблоковані, які не можна видаляти з iCloud Drive.","DriveUI.Alert.Purge.Message.File.Single":"Ви дійсно хочете видалити файл «%{name}»?","DriveUI.Alert.Upload.Package.Description.Pages":"Щоб архів відкривався у Pages, ім’я файлу має містити .pages.zip.","DriveUI.Alert.Delete.Description.ShareByMe.Plural":"Учасники більше не матимуть доступу до оприлюднених елементів (%{count}).","DriveUI.Alert.Move.Out.Message.File.SharedToMe.Single":"Справді хочете перемістити цей оприлюднений файл?","DriveUI.Alert.Move.Out.Message.Spreadsheet.SharedByMe.Single":"Справді хочете перемістити цю оприлюднену таблицю?","DriveUI.Alert.TransactionError.Group.DeleteItems.Description":"Папки не вдалося видалити через неочікувану помилку. Повторіть спробу пізніше.","DriveUI.Alert.TransactionError.RecoverItem.Folder.Description":"Спробуйте відновити папку пізніше.","DriveUI.Alert.Delete.Message.DesktopDocuments.Mix":"Видалити папки «Робочий стіл», «Документи» та інші елементи (%{count})?","DriveUI.Alert.InvalidName.Description":"Введіть ім’я, що складається з меншої кількості символів або не містить знаків пунктуації.","DriveUI.Alert.Delete.Message.File.Plural.Shared.All":"Ви дійсно хочете видалити ці оприлюднені файли?","DriveUI.Alert.Delete.Message.Presentation.Plural.Shared.All":"Справді хочете видалити ці оприлюднені презентації?","DriveUI.Alert.TransactionError.Group.CreateFolders.Description":"Папки не вдалося створити через неочікувану помилку. Повторіть спробу пізніше.","DriveUI.Alert.Delete.Message.Spreadsheet.Plural.Shared.All":"Справді хочете видалити ці оприлюднені таблиці?","DriveUI.Alert.Delete.Description.ShareToMe.AllOfMany.Folder":"Їх буде видалено з iCloud Drive на всіх ваших пристроях. Щоб знову приєднатися до цих оприлюднених папок, скористайтеся посиланнями, за якими вас було запрошено.","DriveUI.Alert.UpgradeInstructions":"Як збільшити сховище","DriveUI.Alert.Purge.Message.InSharedFolder.Folder.Single":"Ви дійсно хочете видалити цю оприлюднену папку?","DriveUI.Alert.Purge.Message.InSharedFolder.File.Single":"Ви дійсно хочете видалити цей оприлюднений файл?","DriveUI.Alert.Move.Message.Spreadsheet.SharedToMe.Single":"Цю оприлюднену таблицю не можна перемістити.","DriveUI.Alert.Move.Out.Description.Spreadsheet.SharedToMe.Multiple":"Якщо перенести ці таблиці в папку «%{destinationFolderName}», спільний доступ до них в iCloud буде зупинено. Вони стануть недоступні для інших користувачів і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Delete.Description.ShareToMe.SingleOfMany.Folder":"«%{itemName}» буде видалено з iCloud Drive на всіх ваших пристроях. Щоб знову приєднатися до цієї оприлюдненої папки, скористайтеся посиланням, за яким вас було запрошено.","DriveUI.Alert.Purge.Description.Folder.Multiple":"Папки буде негайно видалено з iCloud Drive і на всіх пристроях з iCloud.","DriveUI.Alert.Delete.Message.FileFolder.All.Shared.Plural":"Справді хочете видалити ці оприлюднені елементи?","DriveUI.Alert.Purge.Description.Mix":"Елементи буде негайно видалено з iCloud Drive і на всіх пристроях з iCloud.","DriveUI.Alert.Delete.Message.Folder.Single.Shared.Maybe":"Можливо, деякі елементи в папці оприлюднено. Видалити папку «%{folderName}»?","DriveUI.Alert.TransactionError.RecoverItem.File.Description":"Спробуйте відновити файл пізніше.","DriveUI.Alert.Upload.Coalesced.BadFileTypeForAppLibrary.Title":"Файли (%{num}) не вдалося завантажити, оскільки їх не можна відкрити в програмі %{appName}","DriveUI.Alert.Upload.Coalesced.Unknown.Description":"Спробуйте завантажити файли пізніше.","DriveUI.Alert.Move.Message.Folder.SharedToMe.Multiple":"Ці оприлюднені папки не можна перемістити.","DriveUI.Alert.Purge.Message.Folder.Multiple":"Ви дійсно хочете видалити папки (%{count})?","DriveUI.Alert.Upload.SizeTooBig.Description":"У iCloud Drive на iCloud.com є ліміт щодо завантажень, які туди можна передавати. Він становить 10 ГБ.","DriveUI.Alert.InvalidName.File.Message":"Ім’я «%{fileNameWithExtension}» використати не можна","DriveUI.Alert.Delete.Message.FileFolder.Single.Shared.Plural":"Деякі елементи в папці оприлюднено. Видалити папку «%{folderName}»?","DriveUI.Alert.Move.Description.Item.SharedToMe.OneOfMany":"Вам надано доступ до одного з цих елементів. Оприлюднені для вас елементи не можна перемістити в оприлюднені папки.","DriveUI.Alert.Move.Message.Spreadsheet.SharedByMe.Single":"Ви дійсно хочете перемістити цю оприлюднену таблицю?","DriveUI.Alert.Move.Out.Message.Folder.SharedByMe.Single":"Справді хочете перемістити цю оприлюднену папку?","DriveUI.Alert.Move.Message.Presentation.SharedToMe.Single":"Цю оприлюднену презентацію не можна перемістити.","DriveUI.Alert.Move.Message.Spreadsheet.SharedByMe.Multiple":"Ви дійсно хочете перемістити ці оприлюднені таблиці?","DriveUI.Alert.Move.Out.Description.Presentation.SharedByMe.Multiple":"Якщо перенести ці презентації в папку «%{destinationFolderName}», спільний доступ до них в iCloud буде зупинено. Вони стануть недоступні для інших користувачів і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Share.Folder.Message.SharedByMe":"Ви справді хочете оприлюднити цю папку?","DriveUI.Alert.Delete.Description.ShareByMe.File.Single":"Якщо видалити цей файл, інші більше не матимуть доступу до нього і його буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Move.Out.Description.File.SharedToMe.Single":"Якщо перенести цей файл у папку «%{destinationFolderName}», спільний доступ до нього в iCloud буде зупинено. Він стане недоступним для інших користувачів і його буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.HiddenName.File.Message":"Ім’я файлу не може починатися з крапки (.)","DriveUI.Alert.Upload.UnsupportedExtension.Title":"Тип чи ім'я файлу «%{fileName}» не підтримується","DriveUI.Alert.Move.Message.Presentation.SharedToMe.Multiple":"Ці оприлюднені презентації не можна перемістити.","DriveUI.Alert.Upload.HiddenFile.Title":"Не вдалося завантажити файл %{fileName}","DriveUI.Alert.Move.Out.Message.Item.SharedToMe.Multiple":"Справді хочете перемістити ці оприлюднені елементи?","DriveUI.Alert.Move.Message.Folder.SharedToMe.Single":"Цю оприлюднену папку не можна перемістити.","DriveUI.Alert.Download.Single.Generic.Subtitle":"Спробуйте завантажити файл пізніше.","DriveUI.Alert.Move.Description.SharedByMe.SomeOfMany":"Деякі з цих елементів використовуються спільно. Якщо їх перемістити, вони залишаться доступними лише людям, доданим до спільної папки «%{destinationFolderName}».","DriveUI.Alert.Delete.Message.FileFolder.Plural.Shared.Single":"Один із елементів в папках оприлюднено. Видалити елементи (%{count})?","DriveUI.Alert.TransactionError.RenameItem.Folder.Message":"Під час перейменування «%{name}» виникла проблема","DriveUI.Alert.Delete.Description.Documents":"Папка може бути потрібна Mac для збереження папки «Документи» в iCloud Drive.","DriveUI.Alert.Delete.Message.DesktopDocuments.Folder.Plural":"Видалити папки «Робочий стіл», «Документи» та інші папки (%{count})?","DriveUI.Alert.Delete.Message.Desktop.Mix":"Видалити папку «Робочий стіл» та інші елементи (%{count})?","DriveUI.Alert.Delete.Message.FileFolder.Plural.Shared.Maybe":"Можливо, деякі елементи в папках оприлюднено. Видалити елементи (%{count})?","DriveUI.Alert.LockedItem.ListContents.Single.Description":"Оскільки папку заблоковано, її вміст не можна переглядати на сайті iCloud.com.","DriveUI.Alert.Upload.Coalesced.SizeTooSmall.Title":"Файли (%{fileCount}) порожні","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.DestinationDeleted":"Папку призначення «%{folder}» видалено.","DriveUI.Alert.Delete.Message.Document.Plural.Shared.All":"Справді хочете видалити ці оприлюднені документи?","DriveUI.Alert.CannotRenameItem.Description":"Виберіть інше ім’я.","DriveUI.Alert.Delete.Description.AppLibrary.Single":"Медіатеку програми буде негайно видалено з iCloud Drive і на всіх пристроях iCloud.","DriveUI.Alert.Upload.Package.Description":"Створіть архів файлу на комп’ютері та завантажте отриманий .zip файл.","DriveUI.Alert.Download.Single.Deleted.Title":"Не вдалося завантажити «%{fileName}»","DriveUI.Alert.Download.Single.Deleted.Subtitle":"Файл видалено і він вже недоступний.","DriveUI.Alert.Move.Out.Message.File.SharedToMe.Multiple":"Справді хочете перемістити ці оприлюднені файли?","DriveUI.Alert.Upload.Package.Title":"Щоб завантажити файл такого типу, створіть архів","DriveUI.Alert.Download.Multiple.Deleted.Title":"Не вдалося завантажити файли (%{fileCount})","DriveUI.Alert.Delete.Message.Folder.Single.Shared.Plural":"Деякі елементи в папці оприлюднено. Видалити папку «%{folderName}»?","DriveUI.Alert.Move.Out.Message.Spreadsheet.SharedToMe.Multiple":"Справді хочете перемістити ці оприлюднені таблиці?","DriveUI.Alert.Move.Description.SharedToMe.Single":"Один із цих елементів оприлюднено для вас.","DriveUI.Alert.Delete.Description.ShareByMeToMe.Mixed":"Якщо ви видалите ці елементи, інші люди більше не матимуть доступу до елементів, які ви оприлюднили, а елементи, які оприлюднили для вас, буде видалено з iCloud Drive на всіх ваших пристроях.","DriveUI.Alert.Upload.Package.Title.Keynote":"Щоб завантажити презентації Keynote у цьому браузері, створіть і перейменуйте архів","DriveUI.Alert.Delete.Description.ShareToMe.Plural":"Оприлюднені вам елементи (%{count}) буде вилучено з усіх пристроїв. Щоб відновити доступ, скористайтеся посиланнями, за якими вас було запрошено.","DriveUI.Alert.Move.Description.AmbiguousFolder.Single":"Ця папка може містити елементи зі спільним доступом. Якщо їх перемістити, вони залишаться доступними лише людям, доданим до спільної папки «%{destinationFolderName}».","DriveUI.Alert.Upload.Coalesced.SizeTooSmall.Description":"iCloud Drive на iCloud.com обмежує завантаження файлів розміром нуль байтів.","DriveUI.Alert.Delete.Message.Shared.Folder.Plural":"Справді хочете видалити ці оприлюднені папки?","DriveUI.Alert.Move.Out.Message.Document.SharedByMe.Multiple":"Справді хочете перемістити ці оприлюднені документи?","DriveUI.Alert.Upload.BrowserNotSupported.Description":"Оновіть веб-браузер, щоб передавати файли до iCloud Drive.","DriveUI.Alert.TransactionError.DeleteItems.Single.AppLibrary.Description":"Спробуйте видалити медіатеку програми пізніше.","DriveUI.Alert.Open.Message.IWorkInSharedFolder":"Не вдалося відкрити цей документ.","DriveUI.Alert.Upload.BadFileTypeForAppLibrary.Message":"Можна завантажувати лише файли, які відкриваються у %{appName}.","DriveUI.Alert.Purge.Message.Folder.Single":"Ви дійсно хочете видалити папку «%{name}»?","DriveUI.Alert.Move.Out.Description.Folder.SharedToMe.Multiple":"Якщо перенести ці папки в папку «%{destinationFolderName}», спільний доступ до них в iCloud буде зупинено. Вони стануть недоступні для інших користувачів і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Delete.Message.Desktop":"Видалити папку «Робочий стіл»?","DriveUI.Alert.Purge.Description.InSharedFolder.Spreadsheet.Single":"Якщо видалити цю таблицю, інші більше не матимуть доступу до неї і її буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Upload.Package.Title.Numbers":"Щоб завантажити таблиці Numbers у цьому браузері, створіть і перейменуйте архів","DriveUI.Alert.Delete.Description.ShareByMeToMe.FilesAndMixed":"Якщо ви видалите ці елементи, інші люди більше не матимуть доступу до файлів, які ви оприлюднили, а файли, які оприлюднили для вас, буде видалено з iCloud Drive на всіх ваших пристроях.","DriveUI.Alert.Delete.Message.Document.Single":"Справді хочете видалити цей оприлюднений документ?","DriveUI.Alert.Move.Message.Folder.SharedByMe.Multiple":"Ви дійсно хочете перемістити ці оприлюднені папки?","DriveUI.Alert.Purge.Description.InSharedFolder.Spreadsheet.Multiple":"Якщо видалити ці таблиці, інші більше не матимуть доступу до них і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Upload.Coalesced.UnsupportedExtension.Description":"Деякі типи та імена файлів наразі не підтримуються в iCloud Drive на  iCloud.com.","DriveUI.Alert.Delete.Description.ShareByMe.Maybe":"Учасники більше не матимуть доступу до жодних оприлюднених елементів.","DriveUI.Alert.Delete.Message.Folder.Plural.Shared.All":"Справді хочете видалити ці оприлюднені папки?","DriveUI.Alert.Delete.Description.SomeSharedByMe.Single":"Якщо видалити «%{itemName}», інші люди більше не матимуть доступу до неї та її буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Move.Out.Description.Folder.SharedByMe.Multiple":"Якщо перенести ці папки в папку «%{destinationFolderName}», спільний доступ до них в iCloud буде зупинено. Вони стануть недоступні для інших користувачів і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Move.Out.Message.Presentation.SharedByMe.Single":"Справді хочете перемістити цю оприлюднену презентацію?","DriveUI.Alert.Delete.Description.ShareByMeToMe.OnlyFolders":"Якщо ви видалите ці папки, інші люди більше не матимуть доступу до папок, які ви оприлюднили, а папки, які оприлюднили для вас, буде видалено з iCloud Drive на всіх ваших пристроях.","DriveUI.Alert.Delete.Message.DesktopDocuments.File.Single":"Видалити папки «Робочий стіл», «Документи» та ще один файл?","DriveUI.Alert.Download.Multiple.Mixed.Subtitle":"Спробуйте завантажити файли пізніше.","DriveUI.Alert.TransactionError.MovingItems.Single.Message":"Під час переміщення %{name} до «%{folder}» виникла проблема","DriveUI.Alert.Delete.Message.Desktop.File.Plural":"Видалити папку «Робочий стіл» та інші файли (%{count})?","DriveUI.Alert.Move.Message.Spreadsheet.SharedToMe.SomeOfMany":"Одну чи кілька таблиць зі спільним доступом не можна перемістити.","DriveUI.Alert.Delete.Description.AppLibrary.Plural":"Медіатеки програм буде негайно видалено з iCloud Drive і на всіх пристроях iCloud.","DriveUI.Alert.Upload.Coalesced.OutOfQuota.Title":"Не можна завантажити файли (%{fileCount}), оскільки недостатньо обсягу в сховищі ","DriveUI.Alert.Upload.Coalesced.HiddenFile.Title":"Завантаження пакета скасовано, оскільки він містить файли з неприпустимими іменами","DriveUI.Alert.Move.Description.AmbiguousFolder.SomeOfMany":"Одна чи кілька папок можуть містити елементи зі спільним доступом. Якщо їх перемістити, вони залишаться доступними лише людям, доданим до спільної папки «%{destinationFolderName}».","DriveUI.Alert.Delete.Description.ShareByMe.Folder.Plural":"Якщо видалити ці папки, інші люди більше не матимуть доступу до них і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Delete.Description.ShareByMeToMe.OnlyFiles":"Якщо ви видалите ці файли, інші люди більше не матимуть доступу до файлів, які ви оприлюднили, а файли, які оприлюднили для вас, буде видалено з iCloud Drive на всіх ваших пристроях.","DriveUI.Alert.Upload.SizeTooSmall.Description":"Неможливо завантажити 0-байтові файли на iCloud Drive.","DriveUI.Alert.Move.Out.Description.Item.SharedByMe.Multiple":"Якщо перенести ці елементи в папку «%{destinationFolderName}», спільний доступ до них в iCloud буде зупинено. Вони стануть недоступні для інших користувачів і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Delete.Description.ShareToMe.Single.Presentation":"Його буде видалено з iCloud Drive на всіх ваших пристроях. Щоб знову приєднатися до цієї оприлюдненої презентації, скористайтеся посиланням, за яким вас було запрошено.","DriveUI.Alert.Purge.Description.InSharedFolder.Folder.Multiple":"Якщо видалити ці папки, інші більше не матимуть доступу до них і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Purge.Message.InSharedFolder.Document.Multiple":"Ви дійсно хочете видалити ці оприлюднені документи?","DriveUI.Alert.Move.Description.SharedByMe.OneOfMany":"Один із цих елементів використовується спільно. Якщо його перемістити, він залишиться доступними лише людям, доданим до спільної папки «%{destinationFolderName}».","DriveUI.Alert.Delete.Message.Folder.Plural.Shared.Maybe":"Можливо, деякі елементи в папках оприлюднено. Видалити папки (%{count})?","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.Default":"Неочікувана помилка. Повторіть спробу пізніше.","DriveUI.Alert.Move.Message.File.SharedToMe.Single":"Цей оприлюднений файл не можна перемістити.","DriveUI.Alert.TransactionError.RecoverItems.Description":"Не вдалося відновити елементи через несподівану помилку. Повторіть спробу пізніше.","DriveUI.Alert.Delete.Message.Desktop.File.Single":"Видалити папку «Робочий стіл» та ще один файл?","DriveUI.Alert.Move.Message.Folder.SharedToMe.SomeOfMany":"Одну чи кілька папок зі спільним доступом не можна перемістити.","DriveUI.Alert.Move.Message.AmbiguousFolder.Single":"Справді перемістити цю папку?","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemMoved.File":"Файл переміщено.","DriveUI.Alert.Delete.Description.ShareToMe.SingleOfMany.File":"«%{itemName}» буде видалено з iCloud Drive на всіх ваших пристроях. Щоб знову приєднатися до цього оприлюдненого файлу, скористайтеся посиланням, за яким вас було запрошено.","DriveUI.Alert.Move.Out.Description.Presentation.SharedByMe.Single":"Якщо перенести цю презентацію в папку «%{destinationFolderName}», спільний доступ до неї в iCloud буде зупинено. Вона стане недоступною для інших користувачів і її буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Delete.Message.SharedAndRegularFolder.Shared.Single":"Одна з цих папок оприлюднена. Справді хочете видалити папки (%{count})?","DriveUI.Alert.Delete.Description.ShareByMe.Presentation.Plural":"Якщо видалити ці презентації, інші люди більше не матимуть доступу до них і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Upload.Coalesced.HiddenFile.Description":"Перед завантаженням цих файлів спочатку перевірте, щоб їхні імена не починалися з крапки (.).","DriveUI.Alert.TransactionError.MovingItems.Single.File.Description":"Спробуйте перемістити файл пізніше.","DriveUI.Alert.Delete.Description.ShareToMe.SingleOfMany.Presentation":"«%{itemName}» буде видалено з iCloud Drive на всіх ваших пристроях. Щоб знову приєднатися до цієї оприлюдненої презентації, скористайтеся посиланням, за яким вас було запрошено.","DriveUI.Alert.Upload.Coalesced.UnsupportedExtension.Title":"Тип чи ім'я файлу «%{fileName}» не підтримується","DriveUI.Alert.TransactionError.RenameItem.Folder.Description":"Спробуйте перейменувати папку пізніше.","DriveUI.Alert.Move.Out.Description.Spreadsheet.SharedToMe.Single":"Якщо перенести цю таблицю в папку «%{destinationFolderName}», спільний доступ до неї в iCloud буде зупинено. Вона стане недоступною для інших користувачів і її буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Upload.OutOfQuota.Description":"Видаліть файли з iCloud Drive або збільшіть обсяг сховища.","DriveUI.Alert.Move.Message.Document.SharedToMe.Single":"Цей оприлюднений документ не можна перемістити.","DriveUI.Alert.Upload.Coalesced.SizeTooBig.Title":"Кілька файлів (%{fileCount}) завеликі, щоб їх передати.","DriveUI.Alert.Download.Multiple.Generic.Subtitle":"Спробуйте завантажити файли пізніше.","DriveUI.Alert.Upload.Coalesced.NotCompressed.Description":"Створіть архіви файлів на комп’ютері та завантажте отримані .zip файли.","DriveUI.Alert.Delete.Description.ShareToMe.AllOfMany.Presentation":"Їх буде видалено з iCloud Drive на всіх ваших пристроях. Щоб знову приєднатися до цих оприлюднених презентацій, скористайтеся посиланнями, за якими вас було запрошено.","DriveUI.Alert.Delete.Description.ShareToMe.Single.Spreadsheet":"Його буде видалено з iCloud Drive на всіх ваших пристроях. Щоб знову приєднатися до цього оприлюдненої таблиці, скористайтеся посиланням, за яким вас було запрошено.","DriveUI.Alert.Move.Message.Presentation.SharedToMe.SomeOfMany":"Одну чи кілька презентацій зі спільним доступом не можна перемістити.","DriveUI.Alert.Upload.SelectionContainsFolder.Description":"У браузері можна завантажувати тільки файли.","DriveUI.Alert.Delete.Description.ShareToMe.SomeOfMany.File":"Файли (%{shareCount}), якими з вами поділилися, буде видалено з iCloud Drive на всіх ваших пристроях. Щоб знову приєднатися до цих оприлюднених файлів, скористайтеся посиланнями, за якими вас було запрошено.","DriveUI.Alert.Move.Description.Item.SharedToMe.SomeOfMany":"Деякі з цих елементів оприлюднено для вас. Оприлюднені для вас елементи не можна перемістити в оприлюднені папки.","DriveUI.Alert.Delete.Message.File.Single":"Ви дійсно хочете видалити цей оприлюднений файл?","DriveUI.Alert.Purge.Description.InSharedFolder.Document.Single":"Якщо видалити цей документ, інші більше не матимуть доступу до нього і його буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Share.Folder.Description.Single.Item.SharedByMe":"У цій папці міститься елемент, який вже оприлюднено. Якщо оприлюднити цю папку, елементи в ній будуть доступні лише тим, кого ви до неї додасте.","DriveUI.Alert.Purge.Message.InSharedFolder.Folder.Multiple":"Ви дійсно хочете видалити ці оприлюднені папки?","DriveUI.Alert.Delete.Description.ShareByMe.Mix.Plural":"Якщо видалити ці елементи, інші люди більше не матимуть доступу до них і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Delete.Message.DesktopDocuments.File.Plural":"Видалити папки «Робочий стіл», «Документи» та інші файли (%{count})?","DriveUI.Alert.Move.Out.Message.Spreadsheet.SharedByMe.Multiple":"Справді хочете перемістити ці оприлюднені таблиці?","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemDeleted.AppLibrary":"Медіатеку програми видалено.","DriveUI.Alert.Move.Message.Document.SharedByMe.Multiple":"Ви дійсно хочете перемістити ці оприлюднені документи?","DriveUI.Alert.Delete.Message.FileFolder.Any.Shared.Plural":"Деякі елементи оприлюднено. \nВидалити елементи (%{count})?","DriveUI.Alert.Purge.Description.Folder.Single":"Папку буде негайно видалено з iCloud Drive і на всіх пристроях з iCloud.","DriveUI.Alert.Delete.Description.ShareByMe.Spreadsheet.Single":"Якщо видалити цю таблицю, інші люди більше не матимуть доступу до неї та її буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Delete.Message.FileFolder.Single.Shared.Maybe":"Можливо, деякі елементи в папці оприлюднено. Видалити елементи (%{count})?","DriveUI.Alert.Move.Out.Description.Presentation.SharedToMe.Multiple":"Якщо перенести ці презентації в папку «%{destinationFolderName}», спільний доступ до них в iCloud буде зупинено. Вони стануть недоступні для інших користувачів і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Move.Out.Description.Document.SharedToMe.Single":"Якщо перенести цей документ у папку «%{destinationFolderName}», спільний доступ до нього в iCloud буде зупинено. Він стане недоступним для інших користувачів і його буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Move.Out.Message.Folder.SharedToMe.Single":"Справді хочете перемістити цю оприлюднену папку?","DriveUI.Alert.Upload.Default.Title":"Не вдалося завантажити «%{fileName}»","DriveUI.Alert.Move.Description.SharedByMe.Single.First":"Один із цих елементів оприлюднено.","DriveUI.Alert.Open.Description.IWorkInSharedFolder":"Документи Pages, Keynote і Numbers у спільних папках ще не доступні в Інтернеті.","DriveUI.Alert.Upload.OutOfQuota.Title":"Недостатньо вільного обсягу, щоб завантажити «%{fileName}»","DriveUI.Alert.Delete.Message.Documents.Mix":"Видалити папку «Документи» та інші елементи (%{count})?","DriveUI.Alert.Purge.Description.InSharedFolder.Document.Multiple":"Якщо видалити ці документи, інші більше не матимуть доступу до них і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.OutOfQuota":"Недостатньо вільного обсягу","DriveUI.Alert.Purge.Description.InSharedFolder.Mix":"Якщо видалити ці елементи, інші більше не матимуть доступу до них і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Delete.Message.File.Plural.Shared.Plural":"Деякі файли оприлюднено. Ви дійсно хочете видалити файли (%{count})?","DriveUI.Alert.Move.Message.Folder.SharedByMe.Single":"Ви дійсно хочете перемістити цю оприлюднену папку?","DriveUI.Alert.Purge.Message.InSharedFolder.Document.Single":"Ви дійсно хочете видалити цей оприлюднений документ?","DriveUI.Alert.Purge.Message.InSharedFolder.Mix":"Ви дійсно хочете видалити ці оприлюднені елементи?","DriveUI.Alert.Upload.UnsupportedExtension.DetailedDescription":"Не вдалося завантажити файл цього типу або з таким ім'ям.","DriveUI.Alert.TransactionError.CreateFolder.Description":"Спробуйте створити папку пізніше.","DriveUI.Alert.Share.Folder.Description.Multiple.Item.SharedByMe":"У цій папці містяться елементи, які вже оприлюднено. Якщо оприлюднити цю папку, елементи в ній будуть доступні лише тим, кого ви до неї додасте.","DriveUI.Alert.Delete.Message.AppLibrary.Any.Item.Single":"Видалити «%{appLibraryName}»?","DriveUI.Alert.Upload.Default.Description":"Спробуйте завантажити файл пізніше.","DriveUI.Alert.Move.Message.File.SharedByMe.Multiple":"Ви дійсно хочете перемістити ці оприлюднені файли?","DriveUI.Alert.Move.Out.Message.Presentation.SharedToMe.Single":"Справді хочете перемістити цю оприлюднену презентацію?","DriveUI.Alert.Move.Out.Description.Document.SharedByMe.Multiple":"Якщо перенести ці документи в папку «%{destinationFolderName}», спільний доступ до них в iCloud буде зупинено. Вони стануть недоступні для інших користувачів і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.EmptyName.Description":"Виберіть інше ім’я.","DriveUI.Alert.Delete.Message.InSharedFolder.OneTimeOnly":"Видалені спільні елементи переміщуються в папку «Недавно видалені», й інші люди більше не матимуть доступу до них.","DriveUI.Alert.Delete.Description.ShareToMe.AllOfMany.File":"Їх буде видалено з iCloud Drive на всіх ваших пристроях. Щоб знову приєднатися до цих оприлюднених файлів, скористайтеся посиланнями, за якими вас було запрошено.","DriveUI.Alert.Move.Out.Description.Spreadsheet.SharedByMe.Multiple":"Якщо перенести ці таблиці в папку «%{destinationFolderName}», спільний доступ до них в iCloud буде зупинено. Вони стануть недоступні для інших користувачів і їх буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Upload.Package.Description.Numbers":"Щоб архів відкривався у Numbers, ім’я файлу має містити .numbers.zip.","DriveUI.Alert.Upload.BrowserNotSupported.Title":"У цьому браузері не підтримується передавання файлів.","DriveUI.Alert.TransactionError.RecoverItems.Message":"Не вдалося відновити елементи (%{count}).","DriveUI.Alert.Delete.Description.ShareToMe.AllOfMany.Spreadsheet":"Їх буде видалено з iCloud Drive на всіх ваших пристроях. Щоб знову приєднатися до цих оприлюднених таблиць, скористайтеся посиланнями, за якими вас було запрошено.","DriveUI.Alert.Delete.Message.Desktop.Folder.Single":"Видалити папку «Робочий стіл» та ще одну папку?","DriveUI.Alert.Delete.Message.Documents.Folder.Single":"Видалити папку «Документи» та ще одну папку?","DriveUI.Alert.Delete.Description.ShareToMe.AllOfMany.Mix":"Їх буде видалено з iCloud Drive на всіх ваших пристроях. Щоб знову приєднатися до цих оприлюднених елементів, скористайтеся посиланнями, за якими вас було запрошено.","DriveUI.Alert.HiddenName.Folder.Message":"Ім’я папки не може починатися з крапки (.)","DriveUI.Alert.Delete.Description.ShareByMe.Single":"Учасники більше не матимуть доступу до файлу «%{fileName}».","DriveUI.Alert.Delete.Message.Presentation.Single":"Справді хочете видалити цю оприлюднену презентацію?","DriveUI.Alert.Move.Out.Message.Folder.SharedToMe.Multiple":"Справді хочете перемістити ці оприлюднені папки?","DriveUI.Alert.Delete.Message.Desktop.Folder.Plural":"Видалити папку «Робочий стіл» та інші папки (%{count})?","DriveUI.Alert.Delete.Description.ShareByMe.Folder.Single":"Якщо видалити цю папку, інші люди більше не матимуть доступу до неї та її буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Move.Out.Message.Document.SharedToMe.Single":"Справді хочете перемістити цей оприлюднений документ?","DriveUI.Alert.Upload.BadFileTypeForAppLibrary.Title":"Завантажувати файли такого типу у медіатеку програми не можна.","DriveUI.Alert.Purge.Message.File.Multiple":"Ви дійсно хочете видалити файли (%{count})?","DriveUI.Alert.InvalidName.Folder.Message":"Ім’я «%{name}» використати не можна","DriveUI.Alert.Upload.Coalesced.Default.Description":"Не вдалося завантажити файли, докладніше дивіться нижче.","DriveUI.Alert.Move.Out.Description.File.SharedByMe.Single":"Якщо перенести цей файл у папку «%{destinationFolderName}», спільний доступ до нього в iCloud буде зупинено. Він стане недоступним для інших користувачів і його буде видалено з iCloud Drive на всіх їхніх пристроях.","DriveUI.Alert.Move.Description.SharedToMe.Multiple":"Деякі з цих елементів оприлюднено для вас.","DriveUI.Alert.Move.Description.SharedByMe.Multiple.First":"Деякі елементи оприлюднено. \n","DriveUI.Alert.Delete.Description.Desktop":"Папка може бути потрібна Mac для збереження папки «Робочий стіл» в iCloud Drive.","DriveUI.Alert.Upload.AccessDenied.Title":"Не вдалося передати файл.","DriveUI.Alert.Download.Multiple.Generic.Title":"Не вдалося завантажити файли (%{fileCount})","DriveUI.Alert.Delete.Description.ShareToMe.Single.Document":"Його буде видалено з iCloud Drive на всіх ваших пристроях. Щоб знову приєднатися до цього оприлюдненого документа, скористайтеся посиланням, за яким вас було запрошено.","DriveUI.Alert.Delete.Message.Documents.File.Single":"Видалити папку «Документи» та ще один файл?","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemDeleted.File":"Файл видалено раніше."}),n(262),n(189),a.b(a.c(),{"DriveUI.StatusBar.OneOrMoreItemsSelected":"Вибрано: %{numberOfSelectedItems} з %{totalNumberOfItems}","DriveUI.StatusBar.Text.SelectionAndQuota":"%{selectionInfo}, %{quotaSize}","DriveUI.StatusBar.Quota":"вільно: %{size}","DriveUI.StatusBar.Loading":"Завантаження…","DriveUI.StatusBar.NoItemsSelected.MultipleItemsAvailable":"Елементів: %{totalNumberOfItems}","DriveUI.StatusBar.NoItemsSelected.NoItemsAvailable":"0 елементів","DriveUI.StatusBar.Trash.NoItems":"Недавно видалені","DriveUI.StatusBar.Trash.HasItems":"Недавно видалені (%{totalNumberOfItems})","DriveUI.StatusBar.NoItemsSelected.OneItemAvailable":"1 елемент"}),n(227),n(228),n(190),a.b(a.c(),{"DriveUI.Sharing.Folder.Summary.Participant.Within":"Ця папка міститься в оприлюдненій папці «%{rootName}».","DriveUI.Sharing.File.Summary.Participant.Within":"Цей файл міститься в оприлюдненій папці «%{rootName}».","DriveUI.Sharing.Folder.ShowSharedFolder":"Показати спільну папку","DriveUI.Sharing.Header.Subtitle.SharedWithin":"Оприлюднено в %{folderName}","DriveUI.Sharing.File.Summary.Owner.Within":"Цей файл міститься в оприлюдненій папці «%{rootName}». Щоб змінити тих, хто може переглядати або змінювати цей елемент, відкрийте меню налаштувань «Показати користувачів» для оприлюдненої папки.","DriveUI.Sharing.Folder.Summary.Owner.Within":"Ця папка міститься в оприлюдненій папці «%{rootName}». Щоб змінити тих, хто може переглядати або змінювати цей елемент, відкрийте меню налаштувань «Показати користувачів» для оприлюдненої папки.","DriveUI.Sharing.Item.Summary.Participant.Public.RO":"Всі, у кого є лінк, можуть переглядати.","DriveUI.Sharing.Item.Summary.Participant.Public.RW":"Всі, у кого є лінк, можуть вносити зміни.","DriveUI.Sharing.Item.Summary.Participant.Private":"Лише %{fullOwnerName} може запрошувати людей."}),n(172),n(173);var P,k,U,j,B=!1,V={logger:console.log.bind(console),logLevel:"ERROR"};function $(){if("DEBUG"===V.logLevel){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("[Focusyn]:"),V.logger.apply(V.logger,t)}}function W(e,t){return!(!j||j!==e)||z(t)}function z(e){return!!B||(K(U)!==e||!H(e))&&(!P||!H(e))}function G(e,t){var n=e.types,i=e.roles,r=e.dataAttributes,a=t.getAttribute("role"),o=t.getAttribute("type");return!(!a||!i.has(a))||!!n.find((function(e){var n=e[0],i=e[1];if(t instanceof n)return!i||o&&i.has(o)}))||t instanceof HTMLElement&&!!r.find((function(e){var n=e[0],i=e[1];return t.dataset[n]===i}))}function H(e){return $("isFocusBlockedElement",e),!(!(e&&e instanceof Element)||G(q,e))&&(!!G(Q,e)||H(e.parentElement))}function K(e){return e instanceof HTMLLabelElement&&e.htmlFor&&document.getElementById(e.htmlFor)}var Q={types:[[HTMLButtonElement],[HTMLLabelElement],[HTMLInputElement,new Set(["checkbox","radio","range","submit","reset","file","color"])]],roles:new Set(["button","checkbox","radio","switch"]),dataAttributes:[["focusyn","block"]]},q={types:[],roles:new Set([]),dataAttributes:[["focusyn","allow"]]};a.b(a.c(),{"DriveUI.Alert.UnexpectedError.Message":"Сталася неочікувана помилка.","DriveUI.Alert.UnexpectedError.Description":"Повторіть спробу пізніше."}),n(309),n(310),n(229),n(230),n(191),a.b(a.c(),{"DriveUI.NotMigrated.Advice.Windows.Link":"Завантажити зараз","DriveUI.NotMigrated.Advice.Windows.URL":"https://support.apple.com/en-us/HT204283","DriveUI.NotMigrated.Advice.Windows":"Щоб користуватися iCloud Drive, завантажте iCloud для Windows і налаштуйте iCloud на своєму ПК.","DriveUI.NotMigrated.Footnote":"* Для роботи iCloud Drive потрібна iOS 8 або macOS Yosemite чи пізніших версій або ПК з Windows 7 чи Windows 8, на якому встановлено iCloud для Windows 4.0.","DriveUI.NotMigrated.Advice":"Щоб користуватися iCloud Drive, перейдіть до параметрів iCloud на пристрої iOS, виберіть iCloud Drive і виконайте вказівки з оновлення.","DriveUI.NotMigrated.Contents.Message":"iCloud забезпечує безпечне зберігання презентацій, електронних таблиць, файлів PDF, зображень та інших документів. Отримати доступ до них можна з iPhone, iPad, iPod touch, Mac, ПК чи на веб-сайті iCloud.com."}),n(311),n(156),n(148),n(174),n(263),a.b(a.c(),{"DriveUI.FolderToolbar.Button.Upload.Tooltip.Disabled":"Завантаження недоступно","DriveUI.FolderToolbar.Button.Sharing.Shared.Folder.Tooltip":"Керувати оприлюдненою папкою","DriveUI.FolderToolbar.Button.Sharing.Shared.File.Tooltip":"Керувати оприлюдненим файлом","DriveUI.FolderToolbar.Button.Delete.Tooltip":"Видалити","DriveUI.FolderToolbar.Button.Sharing.NotShared.Folder.Tooltip":"Надати доступ до папки","DriveUI.FolderToolbar.Button.Sharing.NotShared.File.Tooltip":"Надати доступ до файлу","DriveUI.FolderToolbar.Button.Download.Tooltip":"Завантажити","DriveUI.FolderToolbar.Button.Sharing.Shared.Keynote.Tooltip":"Керувати оприлюдненою презентацією","DriveUI.FolderToolbar.Button.Sharing.Shared.Pages.Tooltip":"Керувати оприлюдненим документом","DriveUI.FolderToolbar.Button.Sharing.NotShared.Keynote.Tooltip":"Надати доступ до презентації","DriveUI.FolderToolbar.Button.More.Tooltip":"Більше","DriveUI.FolderToolbar.Button.Email.Title":"Надіслати електронною поштою","DriveUI.FolderToolbar.Button.Email.Tooltip":"Надіслати","DriveUI.FolderToolbar.Button.Move.Items":"Перенести елементи","DriveUI.FolderToolbar.Button.NewFolder.Tooltip":"Нова папка","DriveUI.FolderToolbar.Button.Sharing.NotShared.Numbers.Tooltip":"Надати доступ до таблиці","DriveUI.FolderToolbar.Button.Info.Title":"Докладно","DriveUI.FolderToolbar.Button.Sharing.Shared.Numbers.Tooltip":"Керувати оприлюдненою таблицею","DriveUI.FolderToolbar.Button.Upload.Tooltip.Enabled":"Завантажити","DriveUI.FolderToolbar.Button.Sharing.NotShared.Pages.Tooltip":"Надати доступ до документа","DriveUI.FolderToolbar.Button.UploadMore.Tooltip.Enabled":"Завантажити ще"}),n(126),n(192),n(193),n(194),a.b(a.c(),{"DriveUI.NavigationBar.SelectButton.Title":"Виберіть","DriveUI.NavigationBar.DeselectAllButton.Title":"Скасувати вибір усіх","DriveUI.NavigationBar.SelectionModeTitle.1":"Вибрано один елемент","DriveUI.NavigationBar.SelectionModeTitle.0":"Вибір елементів","DriveUI.NavigationBar.DoneButton.Title":"Виконано","DriveUI.NavigationBar.SelectionModeTitle.N":"Вибрано елементів: %{number}","DriveUI.NavigationBar.SelectAllButton.Title":"Виділити все"}),n(195),n(264),n(231),a.b(a.c(),{"DriveUI.MoveItems.Retry":"Повторіть спробу пізніше","DriveUI.MoveItems.Header.Specific.Plural":"Елементи буде перенесено в «%{selectionName}» на %{rootName}","DriveUI.MoveItems.Header.Specific.Single":"Елемент буде перенесено в «%{selectionName}» на %{rootName}","DriveUI.Toolbar.Button.Help.Tooltip":"Довідка та підтримка","DriveUI.MoveItems.Selection.Plural":"Елементи %{selectionLength}","DriveUI.Toolbar.Button.AppsLauncher.Tooltip":"Змінити програму","DriveUI.MoveItems.Header.Generic.Single":"Виберіть нову локацію, щоб перенести цей елемент","DriveUI.MoveItems.Header.Generic.Plural":"Виберіть нову локацію, щоб перенести ці елементи","DriveUI.MoveItems.Fail":"Не вдалося перенести елементи","DriveUI.Toolbar.Button.UserAction.Tooltip":"Параметри iCloud і вихід","DriveUI.Toolbar.ApplicationTitle":"Drive"}),n(141),n(107),n(175),n(176),n(196),n(232),n(197),n(265),n(198),n(177);var Y=n(24),X=n(15),J=n(56),Z=n(406),ee=n(142),te=n(408),ne=n(201);function ie(e){var t="function"===typeof Map?new Map:void 0;return(ie=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return re(e,arguments,se(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),oe(i,e)})(e)}function re(e,t,n){return(re=ae()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&oe(r,n.prototype),r}).apply(null,arguments)}function ae(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le=function(e){var t,n;function i(t,n){var i;return(i=e.call(this,"Invalid state transition.  Expected state: "+t+", actual: "+n)||this).name="InvalidStateTransitionError",i}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(ie(Error)),ce=n(282),ue=n(108),de=n(708),he=ce.a.sharedInstance;function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=ue.a(e)?de.a(e):{},i=new Error;return n.calleeStack=pe(i.stack,t),n}function pe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e){var i=n;(he.isChrome||he.isEdge||he.isIE)&&i++;var r=e.split("\n");i<r.length&&(t=r.splice(i).join("\n"))}return t}function me(e,t,n){for(var i=new Array,r=t;r<n;r++)i.push(ge(e.stack,r));return i}function ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=pe(e,t);if(n){var i=n.split("\n"),r=i[0].trim();if(he.isChrome)return _e(r);if(he.isEdge||he.isIE)return ve(r);if(he.isSafari)return be(r);if(he.isFirefox)return ye(r)}return"(unknown function)"}function ve(e){var t=e.match(/^at\s+(.+)\s+\(/);return Array.isArray(t)&&t[1]||"(unknown function)"}function _e(e){var t=e.match(/^at\s+(.+)\s+\(/);return Array.isArray(t)&&t[1]||"(anonymous function)"}function be(e){var t=e.match(/^(.+)@/);return Array.isArray(t)&&t[1]||"(anonymous function)"}function ye(e){var t=e.match(/^(.+)@/);return Array.isArray(t)&&t[1]||"(anonymous function)"}var Se=n(101),Ie=n(267);function we(e,t){var n=!1;return Se.a(e,Ie.a)&&Se.a(t,ne.a)&&(n=e.group===t),n}function Ee(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(!e||!t||!Array.isArray(i))return!1;for(var a=0,o=[t].concat(i);a<o.length;a++){var s=o[a];if(!we(s,e))return!1}return!!i.find((function(e){return e===t}))}function Ce(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(!Ee.apply(void 0,[e,t].concat(i))){var a=new le(i,t),o=me(a,2,7);throw a.message=a.message+" => "+o.join(","),a}}var Ae=ne.b("ProcessState",{NONE:"NONE",LOADING:"LOADING",LOADED:"LOADED",RUNNING:"RUNNING",UNLOADING:"UNLOADING",UNLOADED:"UNLOADED",TERMINATED:"TERMINATED"});function Te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Ee.apply(void 0,[Ae,e].concat(n))}function Oe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Ce.apply(void 0,[Ae,e].concat(n))}var De=n(52),Me=n(86),Ne={mixinDependencies:[Me.a],name:Me.b.define(),version:Me.b.define()},Fe={mixinDependencies:[Ne],name:"MessagingToUIChildProtocol",version:.1,didBecomeActive:De.a.define(),willResignActive:De.a.define(),willEnterForeground:De.a.define(),didEnterBackground:De.a.define(),didReceiveSyntheticBrowserEvent:De.a.define()},Le={mixinDependencies:[Ne],name:"MessagingFromUIChildProtocol",version:.2,isReadyToBeDisplayed:De.a.define()},Re=n(206),xe=n(159),Pe=n(268),ke=n(391),Ue=n(178);function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Be(e,t){return We(e,t)||function(e,t){return Pe.a(e)&&We(e.constructor,t)&&$e(e,t)}(e,t)||function e(t,n){var i=!1;if(t&&n){var r=t.mixinDependencies;if(r&&r.length>0)if(r.includes(n))i=!0;else for(var a=0,o=r.length;a<o&&!(i=e(t,r[a]));a++);}return i}(e,t)}function Ve(e){if(null===(t=e)||"object"!==typeof t||!Ue.a(t.mixinDependencies))return null;var t,n=new Set;return function e(t,n){if(Object.entries(t).forEach((function(e){var t=e[0];(function(e){var t=e.constructor;return t&&"RequiredMethod"===t.__QUALIFIED_CLASS_NAME__})(e[1])&&n.add(t)})),t.mixinDependencies)for(var i=t.mixinDependencies,r=0,a=i.length;r<a;r++)e(i[r],n)}(e,n),n}function $e(e,t){if("object"!==typeof e)return!1;var n=Ve(t);if(!n)return!1;for(var i,r=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return je(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(n);!(i=r()).done;){var a=i.value;if(!xe.a(e[a]))return!1}return!0}function We(e,t){return ke.a(e)&&e.kindOf(t)}var ze=n(17),Ge=n(83),He=function(){function e(){}return e.every=function(e){Array.isArray(e)&&e.length&&e.every((function(e){return Object(Se.a)(e,Z.a)}))||Z.a.reject("An array containing one or more promises is required.");var t=0,n=e.length,i=Z.a.create(),r=new Array;return e.forEach((function(e,a){e.then((function(e){return r[a]=e})).catch((function(e){return r[a]=e})).finally((function(){return++t===n&&i.resolve(r)}))})),i},e}(),Ke=n(132),Qe=n(202),qe=n(397);function Ye(e){return e?{message:e.message,type:e.type,stack:function(e){if(!e||!Object(Ke.a)(e.stack))return null;var t=e.stack.trim().split("\n"),n=t.length;if(n>500){var i=n-500;t.splice(400,i,"\u2026 "+i+" lines truncated \u2026")}return t.join("\n")}(e),lineNumber:function(e){if(!e)return null;if(e.lineNumber)return e.lineNumber;if(e.line)return e.line;if(Object(Ke.a)(e.stack)){var t=e.stack.split("\n")[1];if(Object(Ke.a)(t)){var n=t.split(":"),i=n[n.length-2],r=parseInt(i,10);if(Object(Qe.a)(r)&&!Number.isNaN(r))return r}}return null}(e),context:Object(qe.a)(e.context)}:null}var Xe=Object(ne.b)("MessagingResponseStatus",{NONE:"NONE",OK:"OK",DISCONNECTED:"DISCONNECTED",CANCELED:"CANCELED",BAD_REQUEST:"BAD_REQUEST",TIMEOUT:"TIMEOUT",ERROR:"ERROR",UNDEFINED_ERROR_TYPE:"UNDEFINED_ERROR_TYPE"});function Je(e){var t="function"===typeof Map?new Map:void 0;return(Je=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return Ze(e,arguments,nt(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),tt(i,e)})(e)}function Ze(e,t,n){return(Ze=et()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&tt(r,n.prototype),r}).apply(null,arguments)}function et(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var it=function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this).name="MessagingError",n.isMessagingError=!0,n}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(Je(Error)),rt=function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this).name="MessagingArgumentError",n}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(it),at=Ge.a.extend({status:Y.c({type:Xe,defaultValue:Xe.NONE}),isOK:Y.c({readOnly:!0,get:function(){return this.status===Xe.OK}}),isDisconnected:Y.c({type:Boolean,readOnly:!0,get:function(){return this.status===Xe.DISCONNECTED}}),isCanceled:Y.c({type:Boolean,readOnly:!0,get:function(){return this.status===Xe.CANCELED}}),isTimeout:Y.c({type:Boolean,readOnly:!0,get:function(){return this.status===Xe.TIMEOUT}}),data:Y.c(),error:Y.c(),staticMembers:{createWithOptionalData:function(e){return at.create({status:Xe.OK,data:e})},createFromError:function(e){var t=Ye(e);return t?(t.buildInfo=globalThis.__CW_BUILD_INFO,Se.a(e,Error)||(t.message=JSON.stringify(e),t.stack=(new Error).stack)):t={message:"No error specified",stack:(new Error).stack},at.create({status:ot(e),error:t})},deserialize:function(e){if(!e)throw new rt("[MessagingResponse] no serialized data to deserialize");var t=at.create();t.status=Xe.getItemForValue(e.status);var n=e.data;n&&(t.data=n);var i=e.error;return i&&(t.error=i),st(t),t},__QUALIFIED_CLASS_NAME__:"MessagingResponse"},serialize:function(){st(this);var e={status:this.status.value},t=this.data;t&&(e.data=t);var n=this.error;return n&&(e.error=n),e}});function ot(e){var t=Xe.ERROR;return Se.a(e,Error)?e.isMessagingError&&"MessagingArgumentError"===e.name&&(t=Xe.BAD_REQUEST):t=Xe.UNDEFINED_ERROR_TYPE,t}function st(e){var t=e.status,n=e.error;if(t===Xe.NONE)throw new it("[MessagingResponse] status was never set");if(n&&(t===Xe.OK||t===Xe.NONE))throw new it("[MessagingResponse] error can not be set if the status is OK or NONE")}var lt=n(410),ct=n(235),ut=n(84),dt=n(731),ht=n(741),ft=n(133),pt=Ge.a.extend({protocolName:Y.c({type:String}),protocolMethodNames:Y.c({type:Set}),protocolTarget:Y.c({type:Object}),init:function(e,t){if(this.__s._$au$init.call(this),!e)throw new rt("ProtocolMetadata: no messagingProtocol specified");if(!t)throw new rt("ProtocolMetadata: no protocol target specified");if(!Be(e,Ne))throw new rt("ProtocolMetadata: The messagingProtocol class does not implement MessagingProtocol");if(!(this.protocolName=e.name))throw new rt("ProtocolMetadata: no protocol name");var n=this.protocolMethodNames=Ve(e);if(!n||0===n.count)throw new rt("ProtocolMetadata: Invalid list of protocol methods");this.protocolTarget=t},__superMap:{_$au$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ProtocolMetadata"}}),mt=n(407);function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function vt(e,t){if(!e)throw new rt("[wrapProtocolTargetMethods] no original protocol target specified");if(!t)throw new rt("[wrapProtocolTargetMethods] no protocol method names specified");for(var n,i=Ge.a.create({originalProtocolTarget:e}),r=function(){var t=n.value,r=e[t];if(!xe.a(r))throw new rt("Protocol method name "+t+" is not a Function");i[t]=function(){try{var n=e[t].apply(e,arguments);return n?mt.a(n)?n.then((function(e){return at.createWithOptionalData(e).serialize()})).catch((function(e){if(e&&!e.isMessagingError)throw e;return at.createFromError(e).serialize()})):Z.a.resolve(at.createWithOptionalData(n).serialize()):Z.a.resolve(at.createWithOptionalData().serialize())}catch(i){if(i&&!i.isMessagingError)throw i;return Z.a.resolve(at.createFromError(i).serialize())}}},a=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return gt(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gt(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(t);!(n=a()).done;)r();return i}var _t=n(418),bt=n(149),yt=n(180),St=_t.a.extend({hasHandlerForProcedure:function(e){return Object(bt.a)(wt(e,this))},registerProcedure:function(e,t,n){!function(e,t,n,i){var r=i.channel,a=It.get(r);a||(a=new Map,It.set(r,a));var o=a.get(e);o&&Object(ze.b)("A handler for `%{procedureName}` was already registered on this channel",{procedureName:e,registration:o}),a.set(e,{listener:i,target:t,handlerMethodName:n})}(e,t,n=n||e,this)},registerProcedures:function(e,t){for(var n=e.length,i=0;i<n;i++){var r=e[i];Array.isArray(r)?this.registerProcedure(r[0],t,r[1]):this.registerProcedure(r,t)}},unregisterProcedure:function(e){var t=this.channel,n=It.get(t);n&&n.get(e).listener===this&&(n.delete(e),0===n.size&&n.delete(t))},unregisterProcedures:function(e){var t=this;e.forEach((function(e){t.unregisterProcedure(e)}))},unregisterAllProcedures:function(){var e=It.get(this.channel);if(e)for(var t,n=e.entries();t=n.next().value;){var i=t[0];t[1].listener===this&&e.delete(i)}},shouldHandleMessage:function(e){var t=this;return(Array.isArray(e)?e:[e]).filter((function(e){return e&&Object(bt.a)(e.jsonrpc)&&e.jsonrpc===t.messageFormatter.jsonRpcVersion&&Object(bt.a)(e.method)})).length>0},handleMessage:function(e){var t=this,n=Array.isArray(e),i=n?e:[e],r=Z.a.wrapFunction(Et),a=this.messageFormatter,o=[],s={};return i.forEach((function(e){var n=e.id,i=r(e,t).then((function(e){s[n]=e!==Tt?function(e,t,n){if(Object(bt.a)(t))return e.generateResultMessageFor(t,n)}(a,n,e):Tt})).catch((function(e){if(s[n]=Ct(a,n,e),!(e instanceof yt.b))throw e}));o.push(i)})),Z.a.all(o).then((function(){return At(t,i,s,n)}),(function(e){throw At(t,i,s,n),e}))},dispose:function(){this.unregisterAllProcedures(),this.__s._$30y$dispose.call(this)},__superMap:{_$30y$dispose:"dispose"},staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcListenerFix"}}),It=new Map;function wt(e,t){var n=It.get(t.channel);if(n){var i=n.get(e);if(i&&i.listener===t)return i}return null}function Et(e,t){if(t.isDisposed)return new Promise((function(){}));var n=e.method,i=e.params,r=void 0===i?[]:i;if(Object(bt.a)(r)&&!Array.isArray(r)){var a="JSON-RPC calls in JavaScript cannot support `params` as an Object, only as an Array";throw Re.b.error(a,e),new yt.d(a,{message:e})}var o=wt(n,t);if(!o){if(function(e,t){var n=It.get(t);return!!n&&!!n.get(e)}(n,t.channel))return Tt;var s="A JSON-RPC registration was not found for method `"+n+"`.";throw Re.b.error(s,e,t),new yt.e(s,{message:e,listener:t})}var l=o.target;if(!l)throw Re.b.error("The JSON-RPC target was not found",e,t),new yt.e("The JSON-RPC target was not found",{message:e,listener:t});var c=l[o.handlerMethodName];if(!c)throw Re.b.error("The JSON-RPC method was not found",e,t),new yt.e("The JSON-RPC method was not found",{message:e,listener:t});return c.call.apply(c,[l].concat(r))}function Ct(e,t,n){if(Object(bt.a)(t))return e.generateErrorMessageFor(t,n)}function At(e,t,n,i){var r=e.messageFormatter,a=[];if(t.forEach((function(e){var t=e.id;if(Object(bt.a)(t)){var i=n[t];if(i)i!==Tt&&a.push(i);else{var o=new yt.c("The JSON-RPC call was part of a batch which failed due to a fatal error thrown by another call.");i=Ct(r,t,o)}}})),a.length>0){var o=i?a:a[0];e.channel.send(e.serializer.encode(o))}}var Tt=Symbol("Do not reply");function Ot(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Dt(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Mt=Ge.a.extend({channel:Y.c({type:lt.a}),connectionTimeout:Y.c({type:Number,defaultValue:5e3}),init:function(e,t){if(this.__s._$2fn$init.call(this),!Be(e,lt.a))throw new rt("MessagingChannel - A CW.ChannelProtocol is required");this.channel=e,t&&(this.connectionTimeout=t)},setListener:function(e,t){if(!Be(t,e))throw new rt("MessagingChannel: The specified protocol class target does not implement specified protocol");this._listenerProtocolMetadata=pt.create(e,t)},setConnection:function(e,t){this._connectionProtocolMetadata=pt.create(e,t)},start:function(){var e=this._listenerProtocolMetadata,t=this._connectionProtocolMetadata;if(!e&&!t)throw new rt("Messaging channel has not been configured");var n=this.channel,i=this.connectionTimeout;e&&this._configureListener(n,e),t&&this._configureConnection(n,i,t)},stop:function(){var e=this._connection,t=this._connectionProtocolMetadata,n=this._connectionPendingPromises,i=this._listener,r=this._listenerProtocolMetadata;if(i&&(r||ze.b("MessagingChannel listener exists without a corresponding protocol metadata"),this._unregisterListenerMethods(i,r),this._listener=void 0,this._listenerProtocolMetadata=void 0),e&&(t||ze.b("MessagingChannel connection exists without a corresponding protocol metadata"),this._connection=void 0,this._connectionProtocolMetadata=void 0,this._connectionPendingPromises=void 0,n.size)){var a=Array.from(n),o=at.create({status:Xe.DISCONNECTED});return a.every((function(e){return e.resolve(o)})),He.every(a).then((function(e){return e&&e.length||0}))}return Z.a.resolve(0)},_constructRPCMethodName:function(e,t){if(!e)throw new rt("MessagingUtils - no class name specified");if(!Ke.a(e))throw new rt("MessagingUtils - class name specified is not a string");if(!t)throw new rt("MessagingUtils - no method name specified");if(!Ke.a(t))throw new rt("MessagingUtils - method name specified is not a string");return e+"-"+t},_createJsonRpcListener:function(e){if(!e)throw new rt("MessagingChannel: _createJsonRpcListener - A CW.ChannelProtocol is required");return St.create({channel:e})},_createJsonRpcCaller:function(e){if(!e)throw new rt("MessagingChannel: _createJsonRpcCaller - A CW.ChannelProtocol is required");return ht.a.create({channel:e})},_listenerProtocolMetadata:Y.c({type:pt}),_listener:Y.c({type:St,strong:!0}),_connectionProtocolMetadata:Y.c({type:pt}),_connection:Y.c({type:ht.a,strong:!0}),_connectionPendingPromises:ut.b(Set),_configureListener:function(e,t){this._listener=this._setupJsonRpcListener(e,t)},_configureConnection:function(e,t,n){this._connection=this._setupJsonRpcCaller(e,t,n)},_setupJsonRpcCaller:function(e,t,n){for(var i,r=this,a=this._connectionPendingPromises,o=n.protocolName,s=n.protocolMethodNames,l=n.protocolTarget,c=ct.a(l),u=this._connection=this._createJsonRpcCaller(e),d=function(){var e=i.value,n=r._constructRPCMethodName(o,e);l[e]=function(){r._connection||ze.b("["+c+" => OUTBOUND] MesssgingChannel has no connection --\x3e '"+o+"."+e+"'");var i=Z.a.create();a.add(i);for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];u.callRemoteProcedure.apply(u,[n].concat(l)).then((function(e){i.resolve(at.deserialize(e))})).catch((function(e){i.resolve(at.createFromError(e))}));var h=ft.a((function(){i.resolve(at.create({status:Xe.TIMEOUT}))}),t);return i.finally((function(){globalThis.clearTimeout(h),a.delete(i)})),i}},h=Ot(s);!(i=h()).done;)d();return u},_setupJsonRpcListener:function(e,t){for(var n,i=t.protocolName,r=t.protocolMethodNames,a=t.protocolTarget,o=(ct.a(a),this._listener=this._createJsonRpcListener(e)),s=vt(a,r),l=Ot(r);!(n=l()).done;){var c=n.value,u=this._constructRPCMethodName(i,c),d=s[c];if(!xe.a(d))throw new rt("Protocol method name "+c+" is not a Function");o.registerProcedure(u,s,c)}return o},_unregisterListenerMethods:function(e,t){for(var n,i=t.protocolName,r=t.protocolMethodNames,a=t.protocolTarget,o=(ct.a(a),vt(a,r)),s=Ot(r);!(n=s()).done;){var l=n.value,c=this._constructRPCMethodName(i,l),u=o[l];xe.a(u)||ze.b("Protocol method name "+l+" is not a Function"),e.unregisterProcedure(c)}},__superMap:{_$2fn$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MessagingChannel"}}),Nt=n(740),Ft=n(160),Lt={invokeLater:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;xe.a(e)||ze.b("A method to invoke Function must be specified"),(!Qe.a(t)||t<0)&&ze.b("millisToWaitToInvoke must be a number >= 0"),n&&Nt.a(n)&&ze.b("When provided, optional methodToInvokeIdentifier must be a String with a length > 0");var i=this._scheduledInvokeLaterMethods;i||(i=this._scheduledInvokeLaterMethods=new Map);var r=n||e.toString();i.has(r)&&ze.b("An invokeLater has already been scheduled for "+r);var a=ft.a((function(){var t;i.delete(r),t=n?e(n):e(),mt.a(t)&&t.catch(Ft.a((function(e){throw e})))}),t);i.set(r,a)},isInvokeLaterScheduled:function(e){var t=this._getScheduledInvokeLaterMethodKeyWithValidation(e);return this._scheduledInvokeLaterMethods.has(t)},cancelInvokeLater:function(e){var t=this._getScheduledInvokeLaterMethodKeyWithValidation(e),n=this._scheduledInvokeLaterMethods,i=n.get(t);Qe.a(i)||ze.b("No invokeLater scheduled matching the methodToInvokeOrMethodToInvokeIdentifier"),globalThis.clearTimeout(i),n.delete(t)},cancelInvokeLaterMethods:function(){var e=this._scheduledInvokeLaterMethods;e&&(e.forEach((function(e){return globalThis.clearTimeout(e)})),e.clear(),this._scheduledInvokeLaterMethods=void 0)},_getScheduledInvokeLaterMethodKeyWithValidation:function(e){var t;return this._scheduledInvokeLaterMethods||ze.b("Invalid state scheduledInvokeLaterMethods is undefined"),xe.a(e)?t=e.toString():Nt.a(e)?ze.b("methodToInvokeOrMethodToInvokeIdentifier must be a non-empty String or a Function"):t=e,t},_scheduledInvokeLaterMethods:void 0},Rt={mixinDependencies:[Ne],name:"ServiceConnectionMessagingProtocol",version:1,registerService:De.a.define(),probeServiceRegistration:De.a.define(),connectToService:De.a.define(),invokeServiceMethod:De.a.define()},xt=ne.b("MessagingChannelType",{LISTENER:"LISTENER",CONNECTION:"CONNECTION",BIDIRECTIONAL:"BIDIRECTIONAL"}),Pt=Ge.a.extend({mixinDependencies:[Lt,Rt],processId:Y.c({type:String}),processState:Y.c({readOnly:!0,type:Ae,get:function(){return this._processState}}),isConnected:Y.c({readOnly:!0,type:Boolean,get:function(){return Te(this.processState,Ae.LOADING,Ae.LOADED,Ae.RUNNING)}}),isTerminated:Y.c({readOnly:!0,type:Boolean,get:function(){return Te(this.processState,Ae.TERMINATED)}}),delegate:Y.c(),channel:Y.c({type:lt.a}),localProtocol:Y.c(),localProtocolTarget:Y.c({type:Ge.a}),remoteProtocol:Y.c(),remoteProxy:Y.c({defaultValue:function(){var e=ct.a(this);return Ge.a.extend({staticMembers:{__QUALIFIED_CLASS_NAME__:e+".remoteProxy"}}).create()}}),connectionTimeout:Y.c({type:Number,defaultValue:1e4}),messagingChannelClass:Y.c({type:Mt.constructor,defaultValue:Mt}),connect:function(){Oe(this.processState,Ae.NONE),this._processState=Ae.LOADING;var e=this.localProtocol,t=this.localProtocolTarget,n=this.remoteProtocol,i=this.connectionTimeout;this.createMessagingChannel(e,t,n,i)},disconnect:function(){var e=this;Oe(this.processState,Ae.LOADING,Ae.LOADED,Ae.RUNNING),this._processState=Ae.UNLOADING;var t=Array.from(this._messagingChannels);return this.cancelInvokeLaterMethods(),this._messagingChannels.clear(),(t.length?He.every(t.map((function(e){return e.stop()}))):Z.a.resolve()).then((function(){e._processState=Ae.UNLOADED}))},terminate:function(){Oe(this.processState,Ae.UNLOADED),this._processState=Ae.TERMINATED;var e=this.remoteProxy,t=function(){ze.b("The remote proxy is no longer connected.")};Object.keys(e).forEach((function(n){xe.a(e[n])&&(e[n]=t)})),this.channel=null,this.remoteProxy=null,this._messagingChannels=null},createListenerOnlyMessagingChannel:function(e,t,n){this._createMessagingChannel({type:xt.LISTENER,localProtocol:e,localProtocolTarget:t,timeoutMS:n})},createConnectionOnlyMessagingChannel:function(e,t){this._createMessagingChannel({type:xt.CONNECTION,remoteProtocol:e,timeoutMS:t})},createMessagingChannel:function(e,t,n,i){this._createMessagingChannel({type:xt.BIDIRECTIONAL,localProtocol:e,localProtocolTarget:t,remoteProtocol:n,timeoutMS:i})},_processState:Y.c({type:Ae,defaultValue:Ae.NONE}),_messagingChannels:Y.c({type:Set,defaultValue:ut.b(Set)}),_createMessagingChannel:function(e){this._validateRequiredProperties(e);var t=xt.BIDIRECTIONAL,n=xt.LISTENER,i=xt.CONNECTION,r=this.channel,a=this.remoteProxy,o=this._messagingChannels,s=this.messagingChannelClass.create(r);e.type!==t&&e.type!==n||s.setListener(e.localProtocol,e.localProtocolTarget),e.type!==t&&e.type!==i||s.setConnection(e.remoteProtocol,a);var l=e.timeoutMS;l&&(s.connectionTimeout=l),s.start(),o.add(s)},_validateRequiredProperties:function(e){var t=this.delegate,n=this.remoteProxy,i=this.channel,r=this.messagingChannelClass,a=xt.BIDIRECTIONAL,o=xt.LISTENER,s=xt.CONNECTION;t||ze.b("A delegate is required"),Be(i,lt.a)&&!i.isDisconnected||ze.b("A connected CW.ChannelProtocol implementation is required"),"object"!==typeof n&&ze.b("A remoteProxy Object is required"),r||ze.b("A MessagingChannel Class is required."),e.type!==a&&e.type!==o||(Be(e.localProtocol,Ne)||ze.b("A valid localProtocol is required"),Pe.a(e.localProtocolTarget)||ze.b("A localProtocolTarget is required")),e.type!==a&&e.type!==s||Be(e.remoteProtocol,Ne)||ze.b("A valid remoteProtocol is required")},subscribeIdentifierToTopic:function(e,t){return dt.a.application.subscribeIdentifierToTopic(e,t)},publishMessageOnTopicFromIdentifier:function(e,t,n){return dt.a.application.publishMessageOnTopicFromIdentifier(e,t,n)},unsubscribeIdentifierFromTopic:function(e,t){return dt.a.application.unsubscribeIdentifierFromTopic(e,t)},registerService:function(e,t){return dt.a.application.registerService(e,t)},connectToService:function(e,t){return dt.a.application.connectToService(e,t)},invokeServiceMethod:function(e,t,n,i,r){return dt.a.application.invokeServiceMethod(e,t,n,i,r)},probeServiceRegistration:function(e){return dt.a.application.probeServiceRegistration(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ProcessReference"}});function kt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Ut(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var jt=Ge.a.extend({staticMembers:{every:function(e,t){return function(e,t){xe.a(t)||ze.b("The callback must be a function"),Array.isArray(e)||ze.b("processReferenceOperations must be an Array");for(var n,i=kt(e);!(n=i()).done;){var r=n.value;Se.a(r,jt)||ze.b("Must be an instance of ProcessReferenceRemoteOperation"),r.validate()}var a=new Map,o=new Map,s=new Array;if(0===e.length)return Z.a.resolve(t(o,a));for(var l,c=kt(e);!(l=c()).done;){var u=l.value,d=u.proxyMethod,h=u.params;s.push(d.apply(void 0,h))}return He.every(s).then((function(n){return n.forEach((function(t,n){Se.a(t,at)&&t.isOK?o.set(e[n],t):a.set(e[n],t)})),t(o,a)}))}(e,t)},__QUALIFIED_CLASS_NAME__:"ProcessReferenceRemoteOperation"},processReference:Y.c({type:Pt}),proxyMethod:void 0,params:Y.c({type:Array}),validate:function(){var e=this.processReference,t=this.proxyMethod;e||ze.b("Required process reference value is not set"),t&&xe.a(t)||ze.b("Required process reference proxy method is not set")}}),Bt=n(390),Vt=Object.freeze({USER_LAUNCH:"USER_LAUNCH",ITEMS_OPENED:"ITEMS_OPENED"}),$t={mixinDependencies:[Ne],name:"PublishSubscribeProtocol",version:.1,subscribeIdentifierToTopic:De.a.define(),publishMessageOnTopicFromIdentifier:De.a.define(),unsubscribeIdentifierFromTopic:De.a.define()},Wt={mixinDependencies:[Ne,$t,Rt],name:"MessagingFromChildProtocol",version:.1,isReadyToReceiveMessages:De.a.define(),didFinishLaunching:De.a.define(),isReadyToTerminateDidChange:De.a.define(),didEnd:De.a.define(),reportNonFatalError:De.a.define(),recordException:De.a.define(),willUnload:De.a.define(),wantsReload:De.a.define()},zt={mixinDependencies:[Ne,$t,Rt],name:"MessagingToChildProtocol",version:.1,beginLaunching:De.a.define(),hostingStateDidChange:De.a.define(),openItems:De.a.define()},Gt={mixinDependencies:[Me.a],childProcessReferenceWillFinishLaunching:De.a.define(),childProcessReferenceDidFinishLaunching:De.a.define(),childProcessReferenceWantsReload:De.a.define(),childProcessReferenceWillUnload:De.a.define(),childProcessReferenceReportNonFatalError:De.a.define(),childProcessReferenceRecordException:De.a.define(),childProcessReferenceDidTerminate:De.a.define(),childProcessReferenceIsReadyToTerminateDidChange:De.a.define(),childProcessReferenceStateDidChange:De.a.define()},Ht=n(91),Kt=Object.freeze({USER_INITIATED:"USER_INITIATED",UNCAUGHT_EXCEPTION:"UNCAUGHT_EXCEPTION",LAUNCH_DEPENDENCY_UNAVAILABLE:"LAUNCH_DEPENDENCY_UNAVAILABLE",CANNOT_LOAD_STARTUP_DATA:"CANNOT_LOAD_STARTUP_DATA",TIMEOUT:"TIMEOUT",DISCONNECTED:"DISCONNECTED"}),Qt={messagingResponseErrorTerminationMethod:Ht.a.define(),terminateIfMessagingResponseError:function(e){var t=this.messagingResponseErrorTerminationMethod;xe.a(t)||ze.b("A messagingResponseErrorTerminationMethod property returning a function is required"),Se.a(e,at)||ze.b("A MessagingResponse is required.");var n=!1;return e.isDisconnected||e.isCanceled||e.isOK||(t.call.apply(t,[this].concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Se.a(e,at)||ze.b("A MessagingResponse Instance is required.");var n=Kt.USER_INITIATED,i=Kt.TIMEOUT,r=Kt.DISCONNECTED,a=Kt.UNCAUGHT_EXCEPTION,o=a;e.isOK?o=n:e.isTimeout?o=i:e.isDisconnected&&(o=r);var s=fe(e.serialize(),t+1);return[o,s]}(e,2))),n=!0),n}},qt=Pt.extend({mixinDependencies:[Wt,Qt],isReadyToTerminate:Y.c({readOnly:!0,type:Boolean,get:function(){return this._isReadyToTerminate}}),processId:Y.c({readOnly:!0,type:String,get:function(){var e=this.processInfo;return e?e.processId:null}}),processInfo:Y.c({type:Object}),delegate:Y.c({type:Gt}),localProtocol:Wt,localProtocolTarget:Y.c({readOnly:!0,type:Wt,get:function(){return this}}),remoteProtocol:zt,messagingResponseErrorTerminationMethod:Y.c({readOnly:!0,type:Function,defaultValue:function(){return this.terminateWithReasonAndInfo}}),run:function(e,t,n){var i=this;Oe(this.processState,Ae.LOADED);var r=this.processInfo,a=this.remoteProxy;Se.a(e,Object)||ze.b("Invalid session info"),Se.a(t,Object)||ze.b("Invalid host info"),Se.a(n,Object)&&n.launchReason||ze.b("Invalid launch options were passed to ChildProcessReference.run"),r.launchOptions=n,a.beginLaunching(e,t,r).then((function(e){return i.terminateIfMessagingResponseError(e)}))},terminateWithReasonAndInfo:function(e,t){var n=this;return Ke.a(e)||ze.b("terminateWithReasonAndInfo requires a reason as an argument"),t&&!ue.a(t)&&ze.b("terminateWithReasonAndInfo optional info argument should be a hash"),(this.isConnected?this.disconnect():Z.a.resolve()).then((function(){n.isTerminated||(n._isReadyToTerminate=!0,n.terminate(),n.delegate.childProcessReferenceDidTerminate(n,e,t))}))},isReadyToReceiveMessages:function(){var e=this;Oe(this.processState,Ae.LOADING),this._processState=Ae.LOADED;var t=this.delegate,n={launchReason:Vt.USER_LAUNCH};this.invokeLater((function(){return t.childProcessReferenceWillFinishLaunching(e,n)}))},didFinishLaunching:function(e){var t=this;Oe(this.processState,Ae.LOADED),this._processState=Ae.RUNNING;var n=this.delegate,i=this.processInfo.launchOptions,r=void 0===i?{}:i;r.launchData=e,this.invokeLater((function(){return n.childProcessReferenceDidFinishLaunching(t,r)}))},isReadyToTerminateDidChange:function(e){Bt.a(e)&&(this._isReadyToTerminate=e)},didEnd:function(e,t){var n=this;this.invokeLater((function(){n.terminateWithReasonAndInfo(e,fe(t))}))},reportNonFatalError:function(e,t){this.delegate.childProcessReferenceReportNonFatalError(this,e,t)},recordException:function(e){this.delegate.childProcessReferenceRecordException(this,e)},willUnload:function(e){this.delegate.childProcessReferenceWillUnload(this,e)},wantsReload:function(){var e=this;this._isReadyToTerminate=!0,this.invokeLater((function(){e.delegate.childProcessReferenceWantsReload(e)}))},_processState:Y.c({type:Ae,defaultValue:Ae.NONE,get:function(){return this._internal_processState},set:function(e){var t=this.delegate;return this._internal_processState=e,t&&t.childProcessReferenceStateDidChange(this,e),e}}),_isReadyToTerminate:Y.c({type:Boolean,defaultValue:!0,get:function(){return this._internal_isReadyToTerminate},set:function(e){var t=this.delegate;this._internal_isReadyToTerminate!==e&&(this._internal_isReadyToTerminate=e,t&&t.childProcessReferenceIsReadyToTerminateDidChange(this,e))}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ChildProcessReference"}});function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Xt(e,t){if(!e||!e.constructor||!Array.isArray(e.constructor.ancestors)||!xe.a(t))return!1;for(var n,i=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Yt(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yt(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(e.constructor.ancestors);!(n=i()).done;)if(n.value.prototype[t.name])return!0;return!1}var Jt=Pt.extend({delegate:Y.c({type:zt}),localProtocol:zt,localProtocolTarget:Y.c({readOnly:!0,type:zt,get:function(){return this.delegate}}),remoteProtocol:Wt,notifyChildApplicationIsReady:function(){var e=this;return Oe(this.processState,Ae.LOADING),this._processState=Ae.LOADED,this.remoteProxy.isReadyToReceiveMessages().then((function(t){return t.isOK&&(Oe(e.processState,Ae.LOADED),e._processState=Ae.RUNNING),t}))},staticMembers:{__QUALIFIED_CLASS_NAME__:"ParentProcessReference"}}),Zt={mixinDependencies:[Me.a],identifier:Ht.a.define(),parentIdentifier:Ht.a.define(),parentProxy:Ht.a.define(),childProxyMap:Ht.a.define()},en=Ge.a.extend({localHandlers:Y.c({get:function(){return Object.freeze(Array.from(this._localHandlersSet))}}),addHandler:function(e){var t=!1;return this._localHandlersSet.has(e)||(t=!0,this._localHandlersSet.add(e)),t},removeHandler:function(e){return this._localHandlersSet.delete(e)},registeredIdentifiers:Y.c({get:function(){return Object.freeze(Array.from(this._registeredIdentifiersSet))}}),addIdentifier:function(e){var t=!1;return this._registeredIdentifiersSet.has(e)||(this._registeredIdentifiersSet.add(e),t=!0),t},removeIdentifier:function(e){return this._registeredIdentifiersSet.delete(e)},isEmpty:function(){return 0===this._localHandlersSet.size&&0===this._registeredIdentifiersSet.size},_localHandlersSet:ut.b(Set),_registeredIdentifiersSet:ut.b(Set),staticMembers:{__QUALIFIED_CLASS_NAME__:"MessagingHandlers"}});function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var nn=Ge.a.extend({registerLocalHandler:function(e,t){if(!e)throw new rt("[MessagingHandlersMap] registerLocalHandler: No key specified");if(!t)throw new rt("[MessagingHandlersMap] registerLocalHandler: No handler specified");var n=!1,i=this._map.get(e);return i?n=i.isEmpty():(i=en.create(),this._map.set(e,i),n=!0),i.addHandler(t),n},getLocalHandlers:function(e){if(!e)throw new rt("[MessagingHandlersMap] getLocalHandlers: No key specified");var t=this._map.get(e);return t?t.localHandlers:[]},unregisterLocalHandler:function(e,t){if(!e)throw new rt("[MessagingHandlersMap] unregisterLocalHandler: No key specified");if(!t)throw new rt("[MessagingHandlersMap] unregisterLocalHandler: No handler specified");var n=!1,i=this._map.get(e);return i&&(i.removeHandler(t),(n=i.isEmpty())&&this._map.delete(e)),n},registerIdentifier:function(e,t){if(!e)throw new rt("[MessagingHandlersMap] registerIdentifier: No key specified");if(!t)throw new rt("[MessagingHandlersMap] registerIdentifier: No identifier specified");var n=!1,i=this._map.get(e);return i?n=i.isEmpty():(i=en.create(),this._map.set(e,i),n=!0),i.addIdentifier(t),n},getRegisteredIdentifiers:function(e){if(!e)throw new rt("[MessagingHandlersMap] getRegisteredIdentifiers: No key specified");var t=this._map.get(e);return t?t.registeredIdentifiers:[]},unregisterIdentifier:function(e,t){if(!e)throw new rt("[MessagingHandlersMap] unregisterIdentifier: No key specified");if(!t)throw new rt("[MessagingHandlersMap] unregisterIdentifier: No identifier specified");var n=!1,i=this._map.get(e);return i&&(i.removeIdentifier(t),(n=i.isEmpty())&&this._map.delete(e)),n},serialize:function(){for(var e,t=[],n=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return tn(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tn(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(this._map);!(e=n()).done;){var i=e.value,r=i[0],a=i[1],o={topic:r,registeredLocalHandlerCount:a.localHandlers.length,subscribedNodes:a.registeredIdentifiers};t.push(o)}return t},_map:ut.b(Map),staticMembers:{__QUALIFIED_CLASS_NAME__:"MessagingHandlersMap"}}),rn=Ge.a.extend({responses:[],allResponsesAreOK:Y.c({readOnly:!0,get:function(){for(var e=!0,t=0,n=this.responses.length;t<n;t++)if(this.responses[t].status!==Xe.OK){e=!1;break}return e}}),init:function(e){if(this.__s._$Hk$init.call(this),!e)throw new rt("[GraphMessagingGroupResponse] no responses specified");this.responses=e},__superMap:{_$Hk$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"GraphMessagingGroupResponse"}});function an(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return on(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?on(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var sn=Ge.a.extend({proxies:Y.c({type:Map}),protocolClass:Y.c(),identifier:Y.c({type:String}),init:function(e,t,n){var i=this;if(this.__s._$J7$init.call(this),!e)throw new rt("[GraphMessagingGroupProxy] No proxies specified");if(!t)throw new rt("[GraphMessagingGroupProxy] No protocol class specified");for(var r,a=an(e);!(r=a()).done;){var o=r.value,s=o[0],l=o[1];if(!Be(l,t)&&!$e(l,t))throw new rt("[GraphMessagingGroupProxy] Proxy "+s+" does not implement protocol class")}this.identifier=n,this.proxies=e,this.protocolClass=t;for(var c,u=function(){var t=c.value;i[t]=function(){for(var n=[],i=[],r=rn.create(i),a=0,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];for(var c,u=an(e);!(c=u()).done;){var d=c.value,h=d[0],f=d[1],p=this.createProxyForMethod(h,f,t,s);try{n.push(p[t].apply(p,s))}catch(m){i[a]=m}a++}return He.every(n).then((function(t){for(var n=0,a=0,o=e.size;a<o;a++)i[a]||(i[a]=t[n],n++);return r}))}},d=an(Ve(t));!(c=d()).done;)u()},createProxyForMethod:function(e,t,n,i){return t},__superMap:{_$J7$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"GraphMessagingGroupProxy"}}),ln=Ge.a.extend({status:Y.c({type:Xe,defaultValue:Xe.None}),error:Y.c(),data:Y.c(),staticMembers:{createFromSerializedData:function(e){if(!e)throw new rt("[GraphMessagingResponse] createFromSerializedData - no data specified");if(Pe.a(e))throw new rt("[GraphMessagingResponse] createFromSerializedData - data is an object, was expecting a data hash");var t=this.create();return t.deserialize(e),t},__QUALIFIED_CLASS_NAME__:"GraphMessagingResponse"},deserialize:function(e){if(!e)throw new rt("[GraphMessagingResponse] deserialize - no data specified");var t=e.status;if(!t)throw new rt("[GraphMessagingResponse] deserialize - no status specified");this.status=Xe.getItemForValue(t);var n=e.data;n&&(this.data=n);var i=e.error;i&&(this.error=i)},serialize:function(){var e={status:this.status.value},t=this.data;t&&(e.data=t);var n=this.error;return n&&(e.error=n),e}}),cn=Ge.a.extend({graphMessagingProxyProtocol:Y.c({type:Zt}),protocolClass:Y.c(),init:function(e,t){if(this.__s._$IW$init.call(this),!e)throw new rt("[GraphMessagingTransport] No graph messaging proxy protocol specified");if(!t)throw new rt("[GraphMessagingTransport] No protocol class specified");this.graphMessagingProxyProtocol=e,this.protocolClass=t},parentProxy:Y.c({get:function(){var e=this._parentProxy;if(!e){var t=this.graphMessagingProxyProtocol,n=t.parentProxy;if(n){var i=t.identifier,r=t.parentIdentifier;e=this._parentProxy=this.createParentProxy(n,i,r)}}return e}}),getChildGroupProxy:function(e){var t=this._childGroupProxy;if(!t){var n=this.graphMessagingProxyProtocol,i=new Map(n.childProxyMap);if(i&&i.size>0){var r=n.identifier;i.delete(e),i&&i.size>0&&(t=this._childGroupProxy=this.createChildGroupProxy(i,r))}}return t},getChildProxy:function(e){return this.graphMessagingProxyProtocol.childProxyMap.get(e)},createParentProxy:function(e,t,n){return e},createChildGroupProxy:function(e,t){return sn.create(e,this.protocolClass,t)},createGraphMessagingResponse:function(e){return ln.create({status:e})},_parentProxy:Y.c({type:Object}),_childGroupProxy:Y.c({type:sn}),__superMap:{_$IW$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"GraphMessagingTransport"}}),un=Ge.a.extend({requestedIdentifier:Y.c({type:String}),operationName:Y.c({type:String}),arguments:Y.c({type:Object}),timeStarted:Y.c({defaultValue:Date.now()}),timeEnded:Y.c(),elapsedTimeMS:Y.c({readOnly:!0,get:function(){return this.timeEnded-this.timeStarted}}),response:Y.c({type:dn}),staticMembers:{deserialize:function(e){if(!e)throw new rt("[GraphMessagingTracingRequest] deserialize - no data specified");if(Pe.a(e))throw new rt("[GraphMessagingTracingRequest] deserialize - data is an object, was expecting a data hash");var t=un.create();t.requestedIdentifier=e.requestedIdentifier,t.operationName=e.operationName,t.arguments=e.arguments,t.timeStarted=e.timeStarted,t.timeEnded=e.timeEnded;var n=e.response;return n&&(t.response=dn.deserialize(n)),t},__QUALIFIED_CLASS_NAME__:"GraphMessagingTracingRequest"},serialize:function(){if(this.timeEnded=Date.now(),!this.response)throw new rt("[GraphMessagingTracingRequest] serialize - no response");return{requestedIdentifier:this.requestedIdentifier,operationName:this.operationName,arguments:this.arguments,timeStarted:this.timeStarted,timeEnded:this.timeEnded,elapsedTimeMS:this.elapsedTimeMS,response:this.response.serialize()}}}),dn=Ge.a.extend({identifier:Y.c({type:String}),responseData:Y.c(),error:Y.c(),parentRequest:Y.c({type:un}),childRequests:[],staticMembers:{deserialize:function(e){if(!e)throw new rt("[GraphMessagingTracingResponse] deserialize - no data specified");if(Pe.a(e))throw new rt("[GraphMessagingTracingResponse] deserialize - data is an object, was expecting a data hash");var t=dn.create();t.identifier=e.identifier;var n=e.parentRequest;n&&(t.parentRequest=un.deserialize(n));var i=e.childRequests;if(i)for(var r=0,a=i.length;r<a;r++){var o=i[r];t.childRequests.push(un.deserialize(o))}var s=e.responseData;s&&(t.responseData=s);var l=e.error;return l&&(t.error=l),t},__QUALIFIED_CLASS_NAME__:"GraphMessagingTracingResponse"},serialize:function(){var e={identifier:this.identifier},t=this.responseData;t&&(e.responseData=t);var n=this.error;n&&(e.error=n);var i=this.parentRequest;i&&(e.parentRequest=i.serialize());var r=this.childRequests;if(r.length>0){e.childRequests=[];for(var a=0,o=r.length;a<o;a++)e.childRequests.push(r[a].serialize())}return e}}),hn=ln.extend({tracingDetails:Y.c({type:dn}),deserialize:function(e){this.__s._$CA$deserialize.call(this,e);var t=e.tracingDetails;t&&(this.tracingDetails=dn.deserialize(t))},serialize:function(){var e=this.__s._$IB$serialize.call(this);return this.tracingDetails&&(e.tracingDetails=this.tracingDetails.serialize()),e},__superMap:{_$CA$deserialize:"deserialize",_$IB$serialize:"serialize"},staticMembers:{__QUALIFIED_CLASS_NAME__:"GraphMessagingTracingDetailsResponse"}});function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var pn=Ge.a.extend({originalProxy:Y.c(),identifier:Y.c({type:String}),requestedIdentifier:Y.c({type:String}),response:Y.c({type:dn}),init:function(e,t,n,i,r){var a=this;this.__s._$SV$init.call(this),this.identifier=t,this.requestedIdentifier=n,this.originalProxy=e,this.response=i;for(var o,s=function(){var e=o.value;a[e]=function(){for(var t,r=this,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var l=un.create();return l.requestedIdentifier=n,l.arguments=arguments,l.operationName=e,this.willMakeTracingRequest(l),(t=this.originalProxy)[e].apply(t,o).then((function(t){var a=null,o=null;if(t.status===Xe.OK){var s=t.data;if(!(o=(a=hn.createFromSerializedData(s)).tracingDetails))throw new rt("[TracingProxy] "+e+" no tracing response found for request")}else(a=hn.create()).status=t.status,a.error=t.error,(o=dn.create()).identifier=n,o.error=t.error;return l.response=o,a.tracingDetails=i,r.didReceiveTracingResponse(l,a),t.data=a.serialize(),t}))}},l=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return fn(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fn(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(Ve(r));!(o=l()).done;)s()},willMakeTracingRequest:function(e){},didReceiveTracingResponse:function(e,t){},__superMap:{_$SV$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TracingProxy"}}),mn=pn.extend({willMakeTracingRequest:function(e){this.response.childRequests.push(e)},didReceiveTracingResponse:function(e,t){},staticMembers:{__QUALIFIED_CLASS_NAME__:"ChildTracingProxy"}}),gn=sn.extend({response:Y.c({type:dn}),init:function(e,t,n,i){if(this.__s._$G_$init.call(this,e,i,t),!t)throw new rt("[GraphMessagingGroupProxy] No identifier specified");if(!n)throw new rt("[GraphMessagingGroupProxy] No response specified");this.response=n},createProxyForMethod:function(e,t,n,i){return mn.create(t,this.identifier,e,this.response,this.protocolClass)},__superMap:{_$G_$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"GraphMessagingGroupTracingProxy"}}),vn=pn.extend({willMakeTracingRequest:function(e){this.response.parentRequest=e},didReceiveTracingResponse:function(e,t){},staticMembers:{__QUALIFIED_CLASS_NAME__:"ParentTracingProxy"}}),_n=cn.extend({response:Y.c({type:dn}),init:function(e,t,n){this.__s._$Jg$init.call(this,e,t),this.response=dn.create(),this.response.identifier=e.identifier,this.response.responseData=n},createParentProxy:function(e,t,n){return vn.create(e,t,n,this.response,this.protocolClass)},createChildGroupProxy:function(e,t){return gn.create(e,t,this.response,this.protocolClass)},createGraphMessagingResponse:function(e){var t=hn.create({status:e});return t.tracingDetails=this.response,t},__superMap:{_$Jg$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"GraphMessagingTracingTransport"}});function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var yn={mixinDependencies:[{mixinDependencies:[Zt,$t],subscribeToTopic:function(e,t){if(!e)throw new rt("PublishSubscribeSupport: [subscribeToTopic] no topic specified");if(!t)throw new rt("PublishSubscribeSupport: [subscribeToTopic] no handler specified");var n=null,i=this._subscriptionMap.registerLocalHandler(e,t),r=this._createGraphMessagingTransport(),a=r.parentProxy;if(i&&a)n=a.subscribeIdentifierToTopic(e,this.identifier).then((function(e){var t=r.createGraphMessagingResponse(e.status);return t.error=e.error,t}));else{var o=r.createGraphMessagingResponse(Xe.OK);n=Z.a.resolve(o)}return n},publishMessageOnTopic:function(e,t){if(!e)throw new rt("PublishSubscribeSupport: [publishMessageOnTopic] no topic specified");if(!t)throw new rt("PublishSubscribeSupport: [publishMessageOnTopic] no message specified");var n=this.identifier,i=this._createGraphMessagingTransport();this._publishMessageToLocallyRegisteredHandlers(e,t);var r=i.getChildGroupProxy(n),a=i.parentProxy;if(r)return r.publishMessageOnTopicFromIdentifier(e,t,n).then((function(r){return a?a.publishMessageOnTopicFromIdentifier(e,t,n).then((function(e){return i.createGraphMessagingResponse(Xe.OK)})):i.createGraphMessagingResponse(Xe.OK)}));if(a)return a.publishMessageOnTopicFromIdentifier(e,t,n).then((function(e){return i.createGraphMessagingResponse(Xe.OK)}));var o=i.createGraphMessagingResponse(Xe.OK);return Z.a.resolve(o)},unsubscribeFromTopic:function(e,t){if(!e)throw new rt("PublishSubscribeSupport: [unsubscribeFromTopic] no topic specified");if(!t)throw new rt("PublishSubscribeSupport: [unsubscribeFromTopic] no handler specified");var n=null,i=this._subscriptionMap.unregisterLocalHandler(e,t),r=this._createGraphMessagingTransport(),a=r.parentProxy;if(i&&a)n=a.unsubscribeIdentifierFromTopic(e,this.identifier).then((function(e){var t=r.createGraphMessagingResponse(e.status);return t.error=e.error,t}));else{var o=r.createGraphMessagingResponse(Xe.OK);n=Z.a.resolve(o)}return n},subscribeIdentifierToTopic:function(e,t){var n=null;if(!e)throw new rt("PublishSubscribeSupport: [subscribeIdentifierToTopic] no topic specified");if(!t)throw new rt("PublishSubscribeSupport: [subscribeIdentifierToTopic] no subscribing identifier specified");var i=this._subscriptionMap.registerIdentifier(e,t),r=this._createGraphMessagingTransport(),a=r.parentProxy;if(i&&a)n=a.subscribeIdentifierToTopic(e,this.identifier).then((function(e){var t=r.createGraphMessagingResponse(e.status);return t.error=e.error,t.serialize()}));else{var o=r.createGraphMessagingResponse(Xe.OK);n=Z.a.resolve(o.serialize())}return n},publishMessageOnTopicFromIdentifier:function(e,t,n){var i=this;if(!e)throw new rt("PublishSubscribeSupport: [publishMessageOnTopicFromIdentifier] no topic specified");if(!t)throw new rt("PublishSubscribeSupport: [publishMessageOnTopicFromIdentifier] no message specified");if(!n)throw new rt("PublishSubscribeSupport: [publishMessageOnTopicFromIdentifier] no publisher identifier specified");var r=this._createGraphMessagingTransport();this._publishMessageToLocallyRegisteredHandlers(e,t);var a=r.getChildGroupProxy(n),o=r.parentProxy,s=this.identifier;return a?a.publishMessageOnTopicFromIdentifier(e,t,s).then((function(a){return o&&i.parentIdentifier!==n?o.publishMessageOnTopicFromIdentifier(e,t,s).then((function(e){return r.createGraphMessagingResponse(e.status).serialize()})):r.createGraphMessagingResponse(Xe.OK).serialize()})):o&&this.parentIdentifier!==n?o.publishMessageOnTopicFromIdentifier(e,t,s).then((function(e){return r.createGraphMessagingResponse(e.status).serialize()})):r.createGraphMessagingResponse(Xe.OK).serialize()},unsubscribeIdentifierFromTopic:function(e,t){var n=null;if(!e)throw new rt("PublishSubscribeSupport: [unsubscribeIdentifierFromTopic] no topic specified");if(!t)throw new rt("PublishSubscribeSupport: [unsubscribeIdentifierFromTopic] no subscriber identifier specified");var i=this._subscriptionMap.unregisterIdentifier(e,t),r=this._createGraphMessagingTransport(),a=r.parentProxy;if(i&&a)n=a.unsubscribeIdentifierFromTopic(e,this.identifier).then((function(e){var t=r.createGraphMessagingResponse(e.status);return t.error=e.error,t.serialize()}));else{var o=r.createGraphMessagingResponse(Xe.OK);n=Z.a.resolve(o.serialize())}return n},_subscriptionMap:ut.b(nn),_publishMessageToLocallyRegisteredHandlers:function(e,t){var n=this._subscriptionMap.getLocalHandlers(e);if(n)for(var i=0,r=n.length;i<r;i++)(0,n[i])(e,t)},_createGraphMessagingTransport:function(){return _n.create(this,$t,this._subscriptionMap.serialize())}}],_createGraphMessagingTransport:function(){return cn.create(this,$t,this._subscriptionMap.serialize())},identifier:Y.c({type:String,get:function(){return this.processId}}),parentIdentifier:Y.c({type:String,get:function(){return this.parentProcessId}}),parentProxy:Y.c({readOnly:!0,get:function(){return this.parentProcessReference?this.parentProcessReference.remoteProxy:null}}),childProxyMap:Y.c({readOnly:!0,get:function(){for(var e,t=new Map,n=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return bn(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bn(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(this.childProcessReferences);!(e=n()).done;){var i=e.value;t.set(i.processId,i.remoteProxy)}return t}})};function Sn(e){var t="function"===typeof Map?new Map:void 0;return(Sn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return In(e,arguments,Cn(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),En(i,e)})(e)}function In(e,t,n){return(In=wn()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&En(r,n.prototype),r}).apply(null,arguments)}function wn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function En(e,t){return(En=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var An=function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this).name="ServiceError",n.isServiceError=!0,n}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(Sn(Error)),Tn=Object(ne.b)("ServiceResponseStatus",{NONE:"NONE",OK:"OK",NOT_FOUND:"NOT_FOUND",DISCONNECTED:"DISCONNECTED",CANCELED:"CANCELED",BAD_REQUEST:"BAD_REQUEST",TIMEOUT:"TIMEOUT",ERROR:"ERROR",CONFLICT:"CONFLICT",UNDEFINED_ERROR_TYPE:"UNDEFINED_ERROR_TYPE",METHOD_NOT_FOUND:"METHOD_NOT_FOUND"});function On(e){var t="function"===typeof Map?new Map:void 0;return(On=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return Dn(e,arguments,Fn(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Nn(i,e)})(e)}function Dn(e,t,n){return(Dn=Mn()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&Nn(r,n.prototype),r}).apply(null,arguments)}function Mn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Nn(e,t){return(Nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ln=function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this).name="SerializationError",n}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(On(Error));function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var xn={serialize:function(){var e=this.getMetadataByType(Y.a),t={};for(var n in Vn(this),e){var i=e[n],r=i.key,a=i.serialization;if(!a||!a.ignore){var o=kn(this,i);void 0!==o&&(t[Pn(r,a)]=o)}}return t},staticMembers:{deserialize:function(e){var t=void 0;if(e&&ue.a(e)){var n=(t=this.create()).getMetadataByType(Y.a);for(var i in n){var r=n[i],a=r.key,o=r.serialization,s=e[Pn(a,o)];o&&o.ignore||(t[a]=jn(t,s,r))}Vn(t)}return t}}};function Pn(e,t){var n=e;if(t){var i=t.propertyName;i&&"string"===typeof i&&i.length>0&&(n=i)}return n}function kn(e,t,n){var i=t.key,r=t.type,a=t.getForObject(e);return $n(r)?function(e,t,n,i){var r;if(n){r=[];for(var a=0,o=n.length;a<o;a++){var s=n[a];r.push(Un(e,t,s))}}return r}(e,i,a):Wn(r)?function(e,t,n,i){var r;if(n){r={};for(var a,o=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Rn(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rn(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(n);!(a=o()).done;){var s=a.value,l=s[0],c=s[1];r[l]=Un(e,t,c)}}return r}(e,i,a):zn(r)?function(e,t,n,i){var r;return n&&(r={name:n.name,value:n.value}),r}(0,0,a):Un(e,i,a)}function Un(e,t,n){var i;if(void 0!==n&&null!==n)if(n.isObject){if(!n||!n.hasMixin(xn))throw new Ln("["+ct.a(e)+"] Property "+t+" does not support serialization");n&&(i=n.serialize())}else i=n;return i}function jn(e,t,n){var i=n.type,r=n.key;return $n(i)?function(e,t,n){var i,r=n.key,a=n.serialization;if(t){var o=Object;if(a){var s=a.collectionObjectType;s&&(o=s)}i=[];for(var l=0,c=t.length;l<c;l++){var u=t[l];i.push(Bn(e,r,o,u))}}return i}(e,t,n):Wn(i)?function(e,t,n){var i,r=n.key,a=n.serialization;if(t){var o=Object;if(a){var s=a.collectionObjectType;s&&(o=s)}for(var l in i=new Map,t){var c=t[l];i.set(l,Bn(e,r,o,c))}}return i}(e,t,n):zn(i)?function(e,t,n){var i,r=n.type;return t&&r&&(i=r.getItemForValue(t.value)),i}(0,t,n):Bn(e,r,i,t)}function Bn(e,t,n,i){var r,a="string"===typeof(r=n)?Gn(r):"function"===typeof r&&Gn(typeof r());if(i&&!a){if(n.hasMixin(xn))return n.deserialize(i);throw new Ln("["+ct.a(e)+"] Property "+t+" does not support serialization")}return i}function Vn(e){var t=e.getMetadataByType(Y.a),n=[];for(var i in t){var r=t[i],a=r.validators,o=r.key;if(a){for(var s=[],l=0;l<a.length;l++){var c=a[l];c.validate(r.getForObject(e),o,e)||s.push(c.message)}if(s&&s.length>0){var u="Validation for field "+o+" failed - "+s.join(", ")+".";n.push(u)}}}if(n&&n.length>0)throw new Ln("["+ct.a(e)+"] "+n.join(" "))}function $n(e){return"function"===typeof e&&Array.isArray(new e)}function Wn(e){return"function"===typeof e&&new e instanceof Map}function zn(e){return e&&e.instanceOf&&e.instanceOf(ne.a)}function Gn(e){return"string"===e||"number"===e||"boolean"===e||"object"===e}var Hn=Ge.a.extend({mixinDependencies:[xn],status:Y.c({type:Tn,defaultValue:Tn.None}),error:Y.c(),data:Y.c({type:Object}),staticMembers:{createOK:function(){return Hn.create({status:Tn.OK})},createWithOptionalData:function(e){return Hn.create({status:Tn.OK,data:e})},createFromError:function(e){var t=Ye(e);return t?(t.buildInfo=globalThis.__CW_BUILD_INFO,Se.a(e,Error)||(t.message=JSON.stringify(e),t.stack=(new Error).stack)):t={message:"No error specified",stack:(new Error).stack},Hn.create({status:Kn(e),error:t})},__QUALIFIED_CLASS_NAME__:"ServiceResponse"}});function Kn(e){var t=Tn.ERROR;return Se.a(e,Error)||(t=Tn.UNDEFINED_ERROR_TYPE),t}function Qn(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return qn(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qn(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Yn=Ge.a.extend({serviceIdentifier:Y.c({type:String}),serviceVersion:Y.c({type:String}),serviceIdentifierAndVersion:Y.c({type:String,readOnly:!0,get:function(){return this.serviceIdentifier+"@"+this.serviceVersion}}),connectRetryInterval:Y.c({type:Number,defaultValue:500}),connectRetryTimeout:Y.c({type:Number,defaultValue:5e3}),remoteProcessIdentifier:Y.c({type:String}),remoteObjectInterface:Y.c(),remoteObjectProxy:Y.c(),localProcessIdentifier:Y.c({get:function(){return this._serviceSupport?this._serviceSupport.processId:void 0}}),exportedInterface:Y.c(),exportedObject:Y.c(),isConnected:Y.c({type:Boolean,defaultValue:!1}),init:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dt.a.application,i=this;if(i.__s._$1KV$init.call(i),!e)throw new An("ServiceConnection - no service identifier specified");if(!t)throw new An("ServiceConnection - no service version specified");if(!n)throw new An("ServiceConnection - no serviceSupport specified");this.serviceIdentifier=e,this.serviceVersion=t,this._serviceSupport=n},staticMembers:{createWithServiceIdentifierAndVersionString:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt.a.application,n=e.split("@"),i=n[0],r=n[1];return Yn.create(i,r,t)},__QUALIFIED_CLASS_NAME__:"ServiceConnection"},connect:function(){if(!this.remoteObjectInterface)throw new An("ServiceConnection - no remote object interface specified");return this._pDidConnect=Z.a.create(),this._doConnect(this.connectRetryInterval,this.connectRetryTimeout),this._pDidConnect},_doConnect:function(e,t){var n=this;this._serviceSupport.connectServiceConnection(this).then((function(i){if(i.status===Tn.OK){var r=i.data,a=r.remoteObjectProxy,o=r.remoteProcessIdentifier;a&&o?(n._setRemoteObjectProxyAndProcessIdentifier(a,o),n.isConnected=!0,n._pDidConnect.resolve(Hn.createWithOptionalData({remoteObjectProxy:n.remoteObjectProxy}))):n._pDidConnect.resolve(Hn.create({status:Tn.UNDEFINED_ERROR_TYPE}))}else i.status===Tn.NOT_FOUND?t>0?ft.a((function(){return n._doConnect(e,t-e)}),e):n._pDidConnect.resolve(Hn.create({status:Tn.TIMEOUT})):n._pDidConnect.resolve(Hn.create({status:Tn.UNDEFINED_ERROR_TYPE}))}))},_setRemoteObjectProxyAndProcessIdentifier:function(e,t){var n=this.remoteObjectInterface,i=this.serviceIdentifierAndVersion,r=this.localProcessIdentifier;this.remoteProcessIdentifier=t;var a=this;if($e(e,n)){for(var o,s=Ve(n),l=Ge.a.create(),c=function(){var t=o.value;l[t]=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e[t].apply(e,i).then((function(e){return Hn.createWithOptionalData(e)}))}},u=Qn(s);!(o=u()).done;)c();this.remoteObjectProxy=l}else if($e(e,Rt)){for(var d,h=Ve(n),f=Ge.a.create(),p=function(){var n=d.value;f[n]=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e.invokeServiceMethod(r,i,t,n,s).then((function(e){if(e.status!==Xe.OK||!e.data)return a.isConnected=!1,Hn.create({status:Tn.UNDEFINED_ERROR_TYPE});var t=Hn.deserialize(e.data);return t.status===Tn.NOT_FOUND?(a.isConnected=!1,t):t.status===Tn.OK?t:(a.isConnected=!1,Hn.create({status:Tn.UNDEFINED_ERROR_TYPE}))}))}},m=Qn(h);!(d=m()).done;)p();this.remoteObjectProxy=f}},_serviceSupport:Y.c(),_pDidConnect:Y.c(),__superMap:{_$1KV$init:"init"}}),Xn=Ge.a.extend({setServiceListener:function(e,t){this._serviceListenerMap.set(e,t)},hasServiceListener:function(e){return this._serviceListenerMap.has(e)},getServiceListener:function(e){return this._serviceListenerMap.get(e)},setServiceProxy:function(e,t){this._serviceProxyMap.set(e,t)},getServiceProxy:function(e){return this._serviceProxyMap.get(e)},hasServiceProxy:function(e){return this._serviceProxyMap.has(e)},clearServiceProxy:function(e){this._serviceProxyMap.delete(e)},addServiceConnection:function(e){var t=e.serviceIdentifierAndVersion,n=e.remoteProcessIdentifier;this._connectionMap.has(t)||this._connectionMap.set(t,new Map),this._connectionMap.get(t).set(n,e)},getServiceConnection:function(e,t){return this.hasServiceConnection(e,t)?this._connectionMap.get(e).get(t):null},hasServiceConnection:function(e,t){return this._connectionMap.has(e)&&this._connectionMap.get(e).has(t)},clearServiceConnection:function(e,t){if(this.hasServiceConnection(e,t))return this._connectionMap.get(e).delete(t)},_serviceListenerMap:Y.c({type:Map,defaultValue:ut.b(Map)}),_serviceProxyMap:Y.c({type:Map,defaultValue:ut.b(Map)}),_connectionMap:Y.c({type:Map,defaultValue:ut.b(Map)}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ServiceRegistry"}}),Jn={mixinDependencies:[zt,Qt,Lt,yn,{mixinDependencies:[Rt],addServiceListener:function(e){var t=this._serviceRegistry,n=e.serviceIdentifierAndVersion;if(!n)throw new An("listener.serviceIdentifier required when adding a service listener");var i=Z.a.create();return t.hasServiceListener(n)?i.resolve(Hn.createOK()):this._hasParent?i=this._registerServiceWithParent(n).then((function(i){return i.status===Tn.OK&&t.setServiceListener(n,e),i})):(t.setServiceListener(n,e),i.resolve(Hn.createOK())),i},isDuplicateServiceListener:function(e){var t=this._serviceRegistry,n=e.serviceIdentifierAndVersion;return t.hasServiceListener(n)},connectServiceConnection:function(e){var t=this,n=e.serviceIdentifierAndVersion,i=this.processId;return this._connectToService(i,n).then((function(i){if(i.status===Tn.NOT_FOUND||i.status===Tn.UNDEFINED_ERROR_TYPE)return i;if(!i.data)return Hn.create({status:Tn.UNDEFINED_ERROR_TYPE});var r=null;if(t._serviceRegistry.hasServiceProxy(n))r=t._serviceRegistry.getServiceProxy(n);else{if(!t._serviceRegistry.hasServiceConnection(n,e.localProcessIdentifier))return Hn.create({status:Tn.UNDEFINED_ERROR_TYPE});r=t._serviceRegistry.getServiceConnection(n,e.localProcessIdentifier).exportedObject}return Hn.createWithOptionalData({remoteProcessIdentifier:i.data.remoteProcessIdentifier,remoteObjectProxy:r})}))},registerService:function(e,t){var n=this,i=this._serviceRegistry,r=Z.a.create();if(i.hasServiceListener(t))r.resolve(Hn.create({status:Tn.CONFLICT}).serialize());else if(i.hasServiceProxy(t)){var a=i.getServiceProxy(t);r=a.probeServiceRegistration(t).then((function(r){return r.status===Xe.OK&&r.data?Hn.deserialize(r.data).status!==Tn.OK?(i.clearServiceProxy(t),n.registerService(e,t)):a.processId!==e?Hn.create({status:Tn.CONFLICT}).serialize():Hn.create({status:Tn.OK}).serialize():(i.clearServiceProxy(t),n.registerService(e,t))}))}else if(this._hasParent)r=this._registerServiceWithParent(t).then((function(r){if(r.status===Tn.OK){var a=n._getChildProxyWithIdentifier(e);i.setServiceProxy(t,a)}return r.serialize()}));else{var o=this._getChildProxyWithIdentifier(e);i.setServiceProxy(t,o),r.resolve(Hn.create({status:Tn.OK}).serialize())}return r},probeServiceRegistration:function(e){var t=this._serviceRegistry,n=Z.a.create();return t.hasServiceListener(e)?n.resolve(Hn.createOK()):t.hasServiceProxy(e)?n=t.getServiceProxy(e).probeServiceRegistration(e).then((function(e){return e.status===Xe.OK&&e.data?Hn.deserialize(e.data):Hn.create({status:Tn.NOT_FOUND})})):n.resolve(Hn.create({status:Tn.NOT_FOUND})),n.then((function(e){return e.serialize()}))},connectToService:function(e,t){return this._connectToService(e,t).then((function(e){return e.serialize()}))},invokeServiceMethod:function(e,t,n,i,r){var a=this._serviceRegistry,o=Z.a.create();if(a.hasServiceConnection(t,e)){var s=a.getServiceConnection(t,e);if(s.localProcessIdentifier!==n)o.resolve(Hn.create({status:Tn.NOT_FOUND}).serialize());else{var l=s.exportedObject,c=l[i];xe.a(c)?c.apply(l,r).then((function(e){o.resolve(Hn.createWithOptionalData(e).serialize())})):o.resolve(Hn.create({status:Tn.METHOD_NOT_FOUND}).serialize())}}else if(a.hasServiceProxy(t)){var u=a.getServiceProxy(t);o=u.invokeServiceMethod(e,t,n,i,r).then((function(e){return e.data}))}else o.resolve(Hn.create({status:Tn.NOT_FOUND}).serialize());return o},_registerServiceWithParent:function(e){return this._getParentProxy().registerService(this.processId,e).then((function(e){if(e.status!==Xe.OK||!e.data)return Hn.create({status:Tn.UNDEFINED_ERROR_TYPE});var t=Hn.deserialize(e.data);return t.status===Tn.CONFLICT?Hn.create({status:Tn.CONFLICT}):t.status!==Tn.OK?Hn.create({status:Tn.UNDEFINED_ERROR_TYPE}):t}))},_connectToService:function(e,t){var n=this._serviceRegistry,i=Z.a.create();if(n.hasServiceConnection(t,e)){var r=n.getServiceConnection(t,e);i.resolve(Hn.createWithOptionalData({remoteProcessIdentifier:r.localProcessIdentifier}))}else if(n.hasServiceListener(t)){var a=n.getServiceListener(t),o=Yn.createWithServiceIdentifierAndVersionString(t,this);o.remoteProcessIdentifier=e,a.shouldAcceptNewConnection(o),n.addServiceConnection(o),i.resolve(Hn.createWithOptionalData({remoteProcessIdentifier:o.localProcessIdentifier}))}else if(n.hasServiceProxy(t))i=n.getServiceProxy(t).connectToService(e,t).then((function(e){return e.status===Xe.OK&&e.data?Hn.deserialize(e.data):Hn.create({status:Tn.UNDEFINED_ERROR_TYPE})}));else if(this._hasParent){var s=this._getParentProxy();i=s.connectToService(e,t).then((function(e){if(e.status!==Xe.OK||!e.data)return Hn.create({status:Tn.UNDEFINED_ERROR_TYPE});var i=Hn.deserialize(e.data);return i.status===Tn.OK&&n.setServiceProxy(t,s),i}))}else i.resolve(Hn.create({status:Tn.NOT_FOUND}));return i},_getParentProxy:function(){return this._createGraphMessagingTransport().parentProxy},_getChildProxyWithIdentifier:function(e){return this._createGraphMessagingTransport().getChildProxy(e)},_serviceRegistry:Y.c({defaultValue:ut.b(Xn)}),_hasParent:Y.c({get:function(){return!!this.parentProcessReference}})}],parentProcessReferenceClass:Y.c({type:Jt.constructor,defaultValue:Jt}),parentProcessReferenceDelegate:Y.c({type:zt,defaultValue:function(){return this}}),parentProcessReference:Y.c({type:Jt}),processState:Y.c({readOnly:!0,type:Ae,get:function(){return this._processState}}),isStarted:Y.c({readOnly:!0,type:Boolean,get:function(){return Te(this.processState,Ae.LOADING,Ae.LOADED,Ae.RUNNING)}}),isTerminated:Y.c({readOnly:!0,type:Boolean,get:function(){return Te(this.processState,Ae.TERMINATED)}}),channel:Y.c({type:lt.a}),sessionInfo:Y.c({type:Object,defaultValue:ut.b(Object)}),hostInfo:Y.c({type:Object,defaultValue:ut.b(Object)}),processInfo:Y.c({type:Object,defaultValue:ut.b(Object)}),processId:Y.c({type:String}),parentProcessId:Y.c({type:String}),messagingResponseErrorTerminationMethod:Y.c({readOnly:!0,type:Function,defaultValue:function(){return this.terminateWithReasonAndInfo}}),start:function(){var e=this;Oe(this.processState,Ae.NONE),this._processState=Ae.LOADING;var t=this.parentProcessReferenceClass,n=this.channel;if(t){Be(n,lt.a)||ze.b("A CW.ChannelProtocol implementation is required");var i=this._createParentProcessReference(n);i.connect(),i.notifyChildApplicationIsReady().then((function(t){t.isOK?e._processState=Ae.LOADED:e.terminateIfMessagingResponseError(t)}))}else this._processState=Ae.LOADED},run:De.a.define(),stop:function(){var e=this;Oe(this.processState,Ae.LOADING,Ae.LOADED,Ae.RUNNING),this._processState=Ae.UNLOADING,this.cancelInvokeLaterMethods();var t=this.parentProcessReference,n=Z.a.resolve();return t&&(this.parentProcessReference=null,t.isConnected&&(n=n.then((function(){return t.disconnect()}))),n=n.then((function(){return t.isTerminated||t.terminate()}))),n.then((function(){return e._processState=Ae.UNLOADED}))},terminate:function(){Oe(this.processState,Ae.UNLOADED),this._processState=Ae.TERMINATED,this.channel&&!this.channel.isDisconnected&&this.channel.disconnect(),this.processId=null,this.parentProcessId=null,this.hostInfo=null,this.sessionInfo=null,this.processInfo=null,this.channel=null},terminateWithReasonAndInfo:function(e,t){var n=this;Ke.a(e)||ze.b("terminateWithReasonAndInfo requires a reason as an argument"),t&&!ue.a(t)&&ze.b("terminateWithReasonAndInfo optional info argument should be a hash");var i=this.parentProcessReference;return i&&i.isConnected&&i.remoteProxy.didEnd(e,t),(this.isStarted?this.stop():Z.a.resolve()).then((function(){return n.isTerminated||n.terminate()}))},beginLaunching:function(e,t,n){var i=this;if(Oe(this.processState,Ae.LOADED),this._updateHostingAndSessionInfo(e,t),!Se.a(n,Object))throw new rt("Invalid process info");if(!Se.a(n.launchOptions,Object))throw new rt("Invalid launchOptions");if(!n.launchOptions.launchReason)throw new rt("Missing launchOptions.launchReason");n.launchOptions=Object.freeze(n.launchOptions),this.processInfo=Object.freeze(n),this.parentProcessId=n.parentProcessId,this.processId=n.processId,this.parentProcessReference&&(this.parentProcessReference.processId=n.parentProcessId),this.invokeLater((function(){return Z.a.resolve().then((function(){return i.run()})).then((function(){return i._processState=Ae.RUNNING})).then((function(){return i._notifyParentThatProcessDidFinishLaunchingIfNeeded()}))}))},openItems:function(e){},hostingStateDidChange:function(e,t){Oe(this.processState,Ae.RUNNING),this._updateHostingAndSessionInfo(e,t)},_processState:Y.c({type:Ae,defaultValue:Ae.NONE}),_launchData:Y.c({type:Object,defaultValue:{}}),_createParentProcessReference:function(e){var t=this.parentProcessReferenceClass,n=this.parentProcessReferenceDelegate,i=this.parentProcessId;t&&n||ze.b("A parentProcessReferenceClass and a parentProcessReferenceDelegate are required to create a ParentProcessReference.");var r=t.create({processId:i,delegate:n,channel:e});return this.parentProcessReference=r,r},_updateHostingAndSessionInfo:function(e,t){if(Oe(this.processState,Ae.LOADED,Ae.RUNNING),!Se.a(e,Object))throw new rt("Invalid session info");if(!Se.a(t,Object))throw new rt("Invalid host info");this.sessionInfo=Object.freeze(e),this.hostInfo=Object.freeze(t)},_notifyParentThatProcessDidFinishLaunchingIfNeeded:function(){var e=this;Oe(this.processState,Ae.RUNNING);var t=this.parentProcessReference,n=this._launchData;if(t&&t.isConnected)return t.remoteProxy.didFinishLaunching(n).then((function(t){return e.terminateIfMessagingResponseError(t)}))}};function Zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ti={mixinDependencies:[{mixinDependencies:[zt,Jn],childProcessReferences:Y.c({type:Set,readOnly:!0,defaultValue:function(){var e=this,t=new Set,n=t.add,i=t.delete;return t.add=function(i){Se.a(i,qt)||ze.b("Can only add ChildProcessReference instances");var r=n.call(t,i);return e.childProcessReferenceWasAdded(i),r},t.delete=function(n){Se.a(n,qt)||ze.b("Can only delete ChildProcessReference instances");var r=i.call(t,n);return r&&e.childProcessReferenceWasRemoved(n),r},t}}),childProcessReferenceWasAdded:function(e){},childProcessReferenceWasRemoved:function(e){},hostingStateDidChange:function(e,t){var n=new Array,i=this.childProcessReferences;Xt(this,this.hostingStateDidChange)&&this.__s._$1J2$hostingStateDidChange.call(this,e,t);for(var r,a=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Zn(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zn(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(i);!(r=a()).done;){var o=r.value,s=o.processState,l=o.remoteProxy;if(Te(s,Ae.RUNNING)){var c=jt.create({processReference:o,proxyMethod:l.hostingStateDidChange,params:[e,t]});n.push(c)}}return jt.every(n,(function(e,t){t.forEach((function(e,t){if(t.processReference){var n=t.processReference.processId;n&&Re.b.error('Child "'+n+'" hostingStateDidChange call failed')}}))}))},__superMap:{_$1J2$hostingStateDidChange:"hostingStateDidChange"}},Fe],didEnterBackground:function(){var e=new Array,t=this.childProcessReferences;Xt(this,this.didEnterBackground)&&this.__s._$ZV$didEnterBackground.call(this);for(var n,i=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return ei(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ei(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(t);!(n=i()).done;){var r=n.value,a=r.processState,o=r.remoteProxy;if(Te(a,Ae.RUNNING)&&ni(r)){var s=jt.create({processReference:r,proxyMethod:o.didEnterBackground});e.push(s)}}return jt.every(e,(function(e,t){e.forEach((function(e,t){})),t.forEach((function(e,t){var n=t.processReference.processId;Re.b.error('Child "'+n+'" willEnterBackground call failed')}))}))},__superMap:{_$ZV$didEnterBackground:"didEnterBackground"}};function ni(e){var t=e.remoteProxy;return t&&$e(t,Fe)}var ii=n(761),ri=n(271),ai=n(421).a.extend({outgoingWindow:Object(X.b)({readOnly:!0,get:function(){var e=window.parent;return e?{actualOutgoingWindow:e,postMessage:function(e,t){var n=this.actualOutgoingWindow;if(n.postMessage)return n.postMessage(e,t);Re.b.warn("ParentWindowChannel: postMessage of "+e+" to detached iframe at "+t+" was ignored")}}:null}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ParentWindowChannel"}}),oi=n(703),si=n(280),li=n(207),ci={mixinDependencies:[Me.a],applicationWillFinishLaunching:De.a.define(),applicationDidFinishLaunching:De.a.define()},ui={applicationWillFinishLaunching:function(e,t){},applicationDidFinishLaunching:function(e,t){}},di=Ge.a.extend(ci,ui,{staticMembers:{__QUALIFIED_CLASS_NAME__:"ApplicationDelegate"}}),hi=n(281);function fi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var pi=function(){function e(e,t,n){this._postMessageTarget=e,this._postMessageTargetOrigin=t,this._buildInfo=n}var t,n,i=e.prototype;return i.exceptionHandler=function(e){var t=Object.assign(Ye(e),{buildInfo:this._buildInfo}),n=this._createCrashMessage(t);this._postMessageTarget.postMessage(n,this._postMessageTargetOrigin)},i._createCrashMessage=function(e){var t={jsonrpc:"2.0",method:"MessagingFromChildProtocol-didEnd",params:["UNCAUGHT_EXCEPTION",e]};return JSON.stringify(t)},t=e,(n=[{key:"isExceptionHandlingEnabled",get:function(){return!0}},{key:"isExceptionHandlingFatal",get:function(){return!0}}])&&fi(t.prototype,n),e}(),mi=Ft.a((function(e,t){if(e&&!ue.a(e)&&ze.b("Application options specified is not a hash."),ue.a(t)||ze.b("initializationOptions specified is not a hash."),Object(oi.b)()){var n=globalThis.parent,i=Object(oi.a)(),r=globalThis.__CW_BUILD_INFO,a=new pi(n,i,r);hi.c(a)}var o=t.defaultApplicationClass,s=t.defaultDelegateClass,l=t.defaultDelegateClassProtocol;o&&s&&l||ze.b("initializationOptions must define defaultApplicationClass, defaultDelegateClass, and defaultDelegateClassProtocol");var c=function(e){var t={};return e&&Object.keys(e).forEach((function(n){t[n]=e[n]||void 0})),t}(e),u=c.applicationClass,d=void 0===u?o:u,h=c.delegateClass,f=void 0===h?s:h,p=c.rootViewControllerClass,m=void 0===p?ri.a:p;d===o||d.subclassOf(o)||ze.b("Specifed application class is not a subclass of "+ct.a(o)),f===s||f.subclassOf(s)||Be(f,l)||ze.b("Specified application delegate class is neither a subclass of "+ct.a(s)+" nor implements "+l),m===ri.a||m.subclassOf(ri.a)||ze.b("Specifed root view controller class is not a subclass of CW.ViewController");var g=d.create({rootViewController:m}),v=f!==d?f.create():g;g.delegate=v,g.setup()})),gi=dt.a.extend({mixinDependencies:[Jn],staticMembers:{main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ue.a(e)&&e.rootViewControllerClass&&ze.b("ProcessKit Application is not intended for UI display");var t={defaultApplicationClass:gi,defaultDelegateClass:di,defaultDelegateClassProtocol:ci};mi(e,t)},__QUALIFIED_CLASS_NAME__:"Application"},applicationName:Y.c({type:String,readOnly:!0,get:function(){var e=this.processInfo;return e?e.processName:void 0}}),primaryInteractionMode:X.b({readOnly:!0,type:String,binding:J.c("_primaryInteractionMode")}),platformType:X.b({readOnly:!0,type:String,binding:J.c("_platformType")}),deviceType:X.b({readOnly:!0,type:String,binding:J.c("_deviceType")}),sessionInfo:X.b({type:Object,defaultValue:ut.b(Object)}),hostInfo:X.b({type:Object,defaultValue:ut.b(Object)}),processState:X.b({readOnly:!0,binding:J.c("_processState")}),delegate:Y.c({type:ci}),setup:function(){if(Oe(this.processState,Ae.NONE),Object(oi.b)())this.channel=this._parentChannelProtocolClass.create({remoteOrigin:Object(oi.a)()}),this.start();else{this.parentProcessReferenceClass=null,this.start();var e=si.a.sharedInstance,t={primaryInteractionMode:e.primaryInteractionMode,platformType:e.platformType,deviceType:e.deviceType},n={processId:ii.a(),launchOptions:{launchReason:Vt.USER_LAUNCH}};this.beginLaunching({},t,n)}},run:function(){var e=this,t=this.delegate,n=this.processInfo.launchOptions;return Z.a.resolve().then((function(){return e.configureApplication()})).then((function(){return t.applicationWillFinishLaunching(e,n)})).then((function(){return dt.a.prototype.run.call(e)})).then((function(){return t.applicationDidFinishLaunching(e,n)})).catch(Ft.a((function(e){throw e})))},configureApplication:function(){Oe(this.processState,Ae.LOADED);var e=this.hostInfo,t=e.primaryInteractionMode,n=e.platformType,i=e.deviceType;if(!t||!Object.keys(li.a).includes(t))throw new rt("hostInfo must include a valid primary interaction mode");return this._primaryInteractionMode=t,this._platformType=n,this._deviceType=i,Z.a.resolve()},createMessagingChannel:function(e,t,n){var i=this.parentProcessReference;return i&&i.channel||ze.b("Unable to connect to parent. Can not create MessagingChannel"),i.createMessagingChannel(e,t,n),i.remoteProxy},presentViewController:function(e){var t,n=this,i=this,r=arguments;if(this._paneManager)t=i.__s._$58e$presentViewController.apply(i,r);else{var a=dt.a.prototype,o=a.Initializers,s=a.presentViewController;this.rootViewController=ri.a,t=Z.a.all(o.map((function(e){return e.create().run(n)}))).then((function(){return s.call(n,e)}))}return t},_processState:X.b({type:Ae,defaultValue:Ae.NONE}),_primaryInteractionMode:X.b({type:String}),_platformType:X.b({type:String}),_deviceType:X.b({type:String}),_parentChannelProtocolClass:Y.c({type:lt.a,defaultValue:ai}),__superMap:{_$58e$presentViewController:"presentViewController"}}),vi={mixinDependencies:[ci],applicationDidBecomeActive:De.a.define(),applicationWillResignActive:De.a.define(),applicationDidEnterBackground:De.a.define(),applicationWillEnterForeground:De.a.define()},_i={applicationDidBecomeActive:function(e){},applicationWillResignActive:function(e){},applicationDidEnterBackground:function(e){},applicationWillEnterForeground:function(e){}},bi=di.extend(vi,_i,{staticMembers:{__QUALIFIED_CLASS_NAME__:"UIApplicationDelegate"}}),yi=n(162),Si=yi.a.extend({action:function(){Object(si.c)()},staticMembers:{__QUALIFIED_CLASS_NAME__:"MobileBrowserInitializer"}}),Ii=n(715),wi=Object(ne.b)("UIState",{NONE:"NONE",BACKGROUND:"BACKGROUND",INACTIVE_FOREGROUND:"INACTIVE_FOREGROUND",ACTIVE_FOREGROUND:"ACTIVE_FOREGROUND"});function Ei(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Ce.apply(void 0,[wi,e].concat(n))}var Ci={main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};mi(e,{defaultApplicationClass:Ti,defaultDelegateClass:bi,defaultDelegateClassProtocol:vi})}},Ai={disableTouchScrolling:Y.c({type:Boolean,defaultValue:!1}),uiState:X.b({readOnly:!0,binding:J.c("_uiState")}),delegate:Y.c({type:vi}),run:function(){var e=this,t=this,n=arguments,i=t.__s._$qS$run.apply(t,n);return i.then((function(){e.parentProcessReference||e.invokeLater((function(){return e._transitionRootApplicationToActiveForeground()}))}))},configureApplication:function(){var e=this,t=this,n=arguments,i=t.__s._$15S$configureApplication.apply(t,n);return i.then((function(){return e._configureUIForInteractionMode()}))},stop:function(){var e=this,t=arguments;return this._uiState=wi.NONE,e.__s._$1Fh$stop.apply(e,t)},beginLaunching:function(){var e=this,t=arguments;this._waitForWindowLoad().then((function(){return e.__s._$1I0$beginLaunching.apply(e,t)}))},didBecomeActive:function(){Oe(this.processState,Ae.RUNNING),Ei(this.uiState,wi.INACTIVE_FOREGROUND),this._uiState=wi.ACTIVE_FOREGROUND,this.delegate.applicationDidBecomeActive(this)},willResignActive:function(){Oe(this.processState,Ae.RUNNING),Ei(this.uiState,wi.ACTIVE_FOREGROUND),this.delegate.applicationWillResignActive(this),this._uiState=wi.INACTIVE_FOREGROUND},willEnterForeground:function(){var e=this;Oe(this.processState,Ae.RUNNING),Ei(this.uiState,wi.NONE,wi.BACKGROUND),this.invokeLater((function(){return Z.a.resolve().then((function(){return e.delegate.applicationWillEnterForeground(e)})).then((function(){return e._uiState=wi.INACTIVE_FOREGROUND})).then((function(){return e._notifyParentThatProcessIsReadyToBeDisplayedIfNeeded()}))}))},didEnterBackground:function(){Oe(this.processState,Ae.RUNNING),Ei(this.uiState,wi.NONE,wi.INACTIVE_FOREGROUND),this._uiState=wi.BACKGROUND,this.delegate.applicationDidEnterBackground(this)},didReceiveSyntheticBrowserEvent:function(e){},_uiState:X.b({type:wi,defaultValue:wi.NONE}),_waitForWindowLoad:function(){var e=Z.a.create();return"complete"===document.readyState?e.resolve():ee.a(window,"load",(function(){e.resolve()})),e},_createParentProcessReference:function(e){var t=this,n=arguments,i=t.__s._$2r3$_createParentProcessReference.apply(t,n);return i.createMessagingChannel(Fe,this,Le),i},_configureUIForInteractionMode:function(){var e=this.primaryInteractionMode;e===li.a.TOUCH?this._configureUIForTouchInteractionMode():this._configureUIForMouseInteractionMode(),te.b("data-primary-interaction-mode",e.toLowerCase(),globalThis.document.documentElement)},_configureUIForTouchInteractionMode:function(){var e=this.disableTouchScrolling;this.Initializers.push(Si),e&&this.Initializers.push(Ii.a)},_configureUIForMouseInteractionMode:function(){},_transitionRootApplicationToActiveForeground:function(){var e=this,t=this.listen("uiState",(function(){e.uiState===wi.INACTIVE_FOREGROUND&&(t.disconnect(),e.invokeLater((function(){return e.didBecomeActive()})))}));this.willEnterForeground()},_notifyParentThatProcessIsReadyToBeDisplayedIfNeeded:function(){var e=this;Oe(this.processState,Ae.RUNNING),Ei(this.uiState,wi.INACTIVE_FOREGROUND);var t=this.parentProcessReference;if(t&&t.isConnected)return t.remoteProxy.isReadyToBeDisplayed().then((function(t){return e.terminateIfMessagingResponseError(t)}))},__superMap:{_$qS$run:"run",_$15S$configureApplication:"configureApplication",_$1Fh$stop:"stop",_$1I0$beginLaunching:"beginLaunching",_$2r3$_createParentProcessReference:"_createParentProcessReference"}},Ti=gi.extend(Object.assign(Ai,{mixinDependencies:[ti,Fe],staticMembers:Ci}),{staticMembers:{__QUALIFIED_CLASS_NAME__:"UIApplication"}}),Oi=n(743),Di=n(181),Mi=n(273),Ni=n(38),Fi=n(412),Li={targetModalOverlayPaneClass:Ht.a.define(),additionalClassNames:Mi.a(["underlay-pane"]),targetedPaneIsInPaneStack:X.b({readOnly:!0,dependencies:[dt.a.bindingFor("application.activePane")],get:function(){var e=dt.a.application._paneManager._paneStack,t=this.targetModalOverlayPaneClass;return e.some((function(e){return Se.a(e,t)}))}}),_targetedPaneIsInPaneStackDidChange:Ni.f({inputs:["isAttached","targetedPaneIsInPaneStack"],callback:function(e,t){if(e){var n=this.element.classList,i=dt.a.application,r=i.activePane&&i.activePane.view;Se.a(r,Fi.a)&&r.listen("isOpen",(function(e){return!e&&n.remove("overlay-is-active")})),!0===t&&(n.add("overlay-is-active"),this._targetPanePreviouslyAdded=!0),!0===this._targetPanePreviouslyAdded&&!1===t&&(n.remove("overlay-is-active"),this._targetPanePreviouslyAdded=!1)}}})},Ri=n(726),xi=n(10),Pi=n(411),ki=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"value",attributes:{}}],classes:["cw-label-view"]}},className:"cw-ui-label-view",__QUALIFIED_CLASS_NAME__:"LabelView"}}),Ui=n(723),ji=n(128),Bi=n(243),Vi=Di.a.extend(Ui.a,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"input",classes:["cw-text-field",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isFocused",truevalue:"cw-focused",attributes:{}}],attributes:{type:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"type",attributes:{},attribute:"type"},maxlength:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"maxLength",attributes:{},attribute:"maxlength"},autocomplete:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"autocomplete",attributes:{},attribute:"autocomplete"},autocorrect:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"autocorrect",attributes:{},attribute:"autocorrect"},autocapitalize:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"autocapitalize",attributes:{},attribute:"autocapitalize"},spellcheck:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"spellcheck",attributes:{},attribute:"spellcheck"},placeholder:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"placeholder",attributes:{},attribute:"placeholder"},"aria-invalid":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"hasInvalidValue",attributes:{},attribute:"aria-invalid"},id:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"id",attributes:{},attribute:"id"}}}},className:"cw-ui-views-text-field",__QUALIFIED_CLASS_NAME__:"TextField"},value:Object(X.b)(""),type:"text",placeholder:void 0,action:"submit",maxLength:null,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"default",id:null,needsDefaultTouch:!0,hasInvalidValue:!1,isEditable:Object(X.b)(!0),isFocusable:Object(X.b)({readOnly:!0,dependencies:["isDisabled"],get:Object.assign((function(){return!this.isDisabled}),{__CW__getter:function(e,t,n,i){return!i.internalGet(this,t[0+n])}})}),defaultFocusElement:Object(J.c)("element"),selection:Object(X.b)({cacheable:!1,dependencies:["element"],writeDependencies:["_selection"],get:function(){var e,t,n,i=this.controlElement,r=null;if(""===i.value?e=t=0:("selectionStart"in i&&(e=i.selectionStart),"selectionEnd"in i&&(t=i.selectionEnd)),null===e||null===t){var a=document.selection;if(a){var o=a.type;!o||"None"!==o&&"Text"!==o||(n=(r=a.createRange()).text.length,t=(e=Math.abs(r.moveStart("character",0-(i.value.length+1))))+n)}}return n=-1===e||-1===t?-1:t-e,Object.freeze({start:e,end:t,length:n,value:i.value.slice(e,t)})},set:Object.assign((function(e){this.set("_selection",e)}),{__CW__setter:function(e,t,n,i,r){n[0+i]=e}}),writeDependencySetPathMap:[!1]}),select:function(){var e=this.controlElement;e&&e.select()},isDefaultTabbingEnabled:!0,allowedCharacters:void 0,isIMEInputActive:Object(X.b)(!1),didFocus:function(){this.controlElement.focus()},didBlur:function(){this.sendEvent("didEndEditing",this)},input:function(e){this._elementValueDidChange(),this._compositionDidEnd=!1},keyDown:function(e){if(e.which===ji.a.RETURN){this.sendEvent("didEndEditing",this);var t=this.action,n=!1;return t&&(n=this.sendEvent(t,this)),this.select(),n}return!1},compositionStart:function(e){this.set("isIMEInputActive",!0)},compositionEnd:function(e){this._compositionDidEnd=!0,this.set("isIMEInputActive",!1)},_compositionDidEnd:!1,handleSelectionChange:function(e){this.propertyChanged("selection")},init:function(){var e=this,t=arguments;e.__s._$3Cw$init.apply(e,t);var n=this.controlElement,i=this.isDefaultTabbingEnabled;i||n.setAttribute("tabindex","-1");var r=this.placeholder;r&&n.setAttribute("aria-label",r);var a=this.allowedCharacters;!a||a instanceof RegExp||Object(ze.b)("Must use only RegExp for TextField character validation.")},_isPlaceholderShowing:Object(X.b)({dependencies:["value","isIMEInputActive"],readOnly:!0,get:Object.assign((function(){if(!this.isIMEInputActive){var e=this.value;if(!Object(bt.a)(e)||""===e)return!0}return!1}),{__CW__getter:function(e,t,n,i){if(!i.internalGet(this,t[1+n])){var r=i.internalGet(this,t[0+n]);if(!Object(bt.a)(r)||""===r)return!0}return!1}})}),_valueDidChange:Object(Ni.f)("value",(function(e){var t=this.controlElement;t.value!==e&&(t.value=Object(bt.a)(e)?e:"")})),_elementValueDidChange:function(){var e=this.controlElement,t=this.value,n=e.value;(this._compositionDidEnd||t!==n)&&(this.isIMEInputActive?this.value=n:this._isInputAllowed(n)?this.set("value",n):e.value=t||"")},_isInputAllowed:function(e){var t=this.allowedCharacters;return!t||!e||t.test(e)},_selectionEventElement:null,_attachmentDidChange:Object(Ni.e)("element","isAttached",(function(e,t){var n=this._selectionEventElement;!n||n===e&&t||(Object(Bi.a)(n,"select",this._handleSelectionChangeBound),this._selectionEventElement=null),e&&t&&(this._selectionEventElement=e,Object(ee.a)(e,"select",this._handleSelectionChangeBound))})),_handleSelectionChangeBound:Object(Y.c)((function(){return this.handleSelectionChange.bind(this)})),_selection:Object(X.b)(),_selectionDidChange:Object(Ni.f)("_selection",(function(e){if(e){var t=this.controlElement,n=e.start,i=e.end;this.focus();var r=null;if(t.setSelectionRange)t.setSelectionRange(n,i);else{(r=t.createTextRange()).move("character",n),r.moveEnd("character",i-n);try{r.select()}catch(a){return null}}}})),_statusDidChange:Object(Ni.f)("isDisabled","isEditable",(function(e,t){var n=this.controlElement;e?n.setAttribute("disabled","disabled"):n.removeAttribute("disabled"),t?n.removeAttribute("readonly"):n.setAttribute("readonly","readonly")})),__superMap:{_$3Cw$init:"init"}}),$i=n(163),Wi=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"leftView"},{type:"VIEWOUTLET",tagname:"view",name:"titleLabel"},{type:"VIEWOUTLET",tagname:"view",name:"rightView"}],classes:["navigation-bar"]}},__QUALIFIED_CLASS_NAME__:"NavigationBarView"},items:X.b({readOnly:!0,strong:!0,defaultValue:function(){return $i.b.create()}}),topItem:X.b(),prevItem:X.b(),leftView:X.b(J.c("prevItem.leftView")),titleLabel:X.b(J.c("topItem.titleLabel")),rightView:X.b(J.c("topItem.rightView"))}),zi={mixinDependencies:[Ni.a],errors:Object(X.b)(),validate:function(e){var t,n,i,r,a,o=this.getMetadataByType(Y.a),s=Object.keys(o),l=!0;e&&(s=Array.isArray(e)?e:[e]);var c={};for(t in o)if(o.hasOwnProperty(t)&&-1!==s.indexOf(t)){if(!(i=(n=o[t]).validators))continue;for(a=0;a<i.length;a++)(r=i[a]).validate(n.getForObject(this),t,this)||(void 0===c[t]&&(c[t]=[]),c[t].push(r.message),l=!1)}return this.errors=c,l}},Gi=n(239),Hi=n(203),Ki=n(714),Qi=n(204);function qi(e,t,n){var i,r,a;if(e===t||!e&&!t)return!1;if(e&&!t)r=Object.keys(e);else if(!e&&t)a=Object.keys(t);else{var o,s=null;n&&(s=Object(Qi.a)(n));var l,c,u,d,h={};for(o in r=[],i=[],e)h[o]=!0,s&&s[o]||(l=Object.prototype.hasOwnProperty.call(e,o),c=e[o],u=Object.prototype.hasOwnProperty.call(t,o),d=t[o],!u&&l||void 0===d&&void 0!==c?r.push(o):Object(Ki.a)(c,d)||i.push(o));for(o in a=[],t)h[o]||a.push(o)}return!!(a&&0!==a.length||r&&0!==r.length||i&&0!==i.length)&&{updated:i||[],removed:r||[],added:a||[]}}var Yi=n(707),Xi=n(237),Ji=Object(ne.b)("STATUS",(function(e){e("LOADED",(function(e){e("RELOADING",(function(e){e("QUEUED"),e("ACTIVE")}))})),e("NOT_LOADED",(function(e){e("LOADING",(function(e){e("QUEUED"),e("ACTIVE")})),e("ERRORED"),e("MIXED_STATE")}))})),Zi=(Ji.LOADED,Ji.NOT_LOADED),er=(Zi.LOADING,Zi.ERRORED,Zi.MIXED_STATE,Object(ne.b)("ACTIONS",(function(e){e("READ",(function(e){e("LOAD"),e("LIST")})),e("WRITE",(function(e){e("CREATE"),e("UPDATE"),e("DESTROY"),e("BULK")}))}))),tr=er.READ,nr=(tr.LOAD,tr.LIST,er.WRITE),ir=(nr.CREATE,nr.UPDATE,nr.DESTROY,nr.BULK,[]);function rr(){return ir}var ar,or={};function sr(){return ar}function lr(e){var t=ar;return e&&e.retain&&e.retain(),ar=e,t&&t.release&&t.release(),ar}var cr=n(99).a.extend({head:null,tail:null,length:0,insertBetween:function(e,t,n){return n&&t||Object(ze.b)("_DoublyLinkedList: invalid insertion",{item:e,next:n,prev:t}),t._nextDoublyLinkedItem=e,e._previousDoublyLinkedItem=t,e._nextDoublyLinkedItem=n,e._owningDoublyLinkedList=this,n._previousDoublyLinkedItem=e,this.length++,e},remove:function(e){var t=e._previousDoublyLinkedItem,n=e._nextDoublyLinkedItem,i=this.head,r=this.tail;if(n&&t&&i&&r)return this.length--,e===i&&e===r?this.head=this.tail=null:(e===i?this.head=n:e===r&&(this.tail=t),n._previousDoublyLinkedItem=t,t._nextDoublyLinkedItem=n),e._nextDoublyLinkedItem=null,e._previousDoublyLinkedItem=null,e._owningDoublyLinkedList=null,e},push:function(e){return this.insertBetween(e,this.tail||e,this.head||e),this.tail=e,this.head||(this.head=e),this},pop:function(){return this.remove(this.tail)},unshift:function(e){return this.insertBetween(e,this.tail||e,this.head||e),this.head=e,this.tail||(this.tail=e),this},shift:function(){return this.remove(this.head)},staticMembers:{__QUALIFIED_CLASS_NAME__:"_DoublyLinkedList"}});cr.prototype.enqueue=cr.prototype.unshift,cr.prototype.dequeue=cr.prototype.pop;var ur={mixinDependencies:[{_nextDoublyLinkedItem:null,_previousDoublyLinkedItem:null,_owningDoublyLinkedList:null}],staticMembers:{maxUnusedInstanceCount:200,shouldKeepInstanceAlive:function(e){return!0},shouldKeepFlushingCacheQueue:function(e){return e.length>this.maxUnusedInstanceCount},flushCacheQueue:function(){for(var e=this._keepaliveQueue;this.shouldKeepFlushingCacheQueue(e);){var t=e.dequeue();t._isInKeepaliveQueue=!1,t.release(this,hr)}},_keepaliveQueue:null,init:function(){var e=this,t=arguments;this._keepaliveQueue=cr.create(),e.__s._$1qT$init.apply(e,t)},create:function(){var e=this,t=arguments,n=e.__s._$1xE$create.apply(e,t);return n.retain(this,dr),n},_enqueueInstanceForEviction:function(e){this.shouldKeepInstanceAlive(e)?(this._keepaliveQueue.enqueue(e),e.retain(this,hr),e._isInKeepaliveQueue=!0,e.release(this,dr),this.flushCacheQueue()):e.release(this,dr)},_rescueInstanceFromEviction:function(e){return this._keepaliveQueue.remove(e),e._isInKeepaliveQueue=!1,e.retain(this,dr),e.release(this,hr),e},__superMap:{_$1qT$init:"init",_$1xE$create:"create"}},_isInKeepaliveQueue:!1,retain:function(e,t){var n=this,i=arguments,r=n.__s._$2WC$retain.apply(n,i);return this._isInKeepaliveQueue&&e!==this.constructor&&t!==dr?this.constructor._rescueInstanceFromEviction(this):r},release:function(){var e=this,t=arguments,n=e.__s._$2hH$release.apply(e,t);return 1!==this._retainCount||this._isInKeepaliveQueue||this.constructor._enqueueInstanceForEviction(this),n},__superMap:{_$2WC$retain:"retain",_$2hH$release:"release"}},dr="CW._CacheableSupport self-reference: Not queued for eviction.",hr="CW._CacheableSupport self-reference: queued for eviction.",fr=Object(ne.b)("STATUS",(function(e){e("ACTIVE",(function(e){e("QUEUED"),e("TRANSMITTING")})),e("IDLE")})),pr=Object(ne.b)("LOAD_STATUS",(function(e){e("NOT_LOADED"),e("LOADED"),e("ERRORED")})),mr=n(388),gr=n(179),vr=n(717),_r=Ge.a.extend(Ni.a,vr.a,{store:Object(X.b)(),modelClass:Object(X.b)(),encode:function(e){if(!Object(bt.a)(e))return e;var t=this.store.constructor;return Object(Se.a)(e,Mr)?t.getStoreIdForPrimaryKey(e.constructor,e.getPrimaryKey()):Object(ue.a)(e)?t.getStoreIdForPrimaryKey(e.type,e.id):t.getStoreIdForPrimaryKey(this.modelClass,e)},decode:function(e){return Object(bt.a)(e)?this.store.materializeModel(e):e},staticMembers:{__QUALIFIED_CLASS_NAME__:"ModelStoreIdSerializer"}});function br(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return yr(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yr(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Sr=$i.b.extend(mr.a,{store:Object(Y.c)(),modelClass:Object(Y.c)(),loadObjectAt:function(e){var t=this.objectAt(e);return t?t.load():Z.a.reject("No object at index: "+e)},loadAll:function(){for(var e=this,t=new Map,n=0,i=this.length;n<i;n++){var r=this.modelClassForObjectAt(n),a=t.get(r)||[];t.set(r,a),a.push(this.primaryKeyForObjectAt(n))}if(1===t.size){var o=t.entries().next().value,s=o[0],l=o[1];return s.load(l)}for(var c,u=[],d=br(t.entries());!(c=d()).done;){var h=c.value,f=h[0],p=h[1];u.push(f.load(p))}return Z.a.all(u).then((function(){return e}))},storeIdForObjectAt:function(e){return this._array[e]},modelClassForObjectAt:function(e){var t=this.storeIdForObjectAt(e);return this.store.constructor.getModelClassForStoreId(t)},primaryKeyForObjectAt:function(e){var t=this.storeIdForObjectAt(e);return this.store.constructor.getPrimaryKeyForStoreId(t)},storeDataForObjectAt:function(e){var t=this.storeIdForObjectAt(e);return this.store.readData(t)},isObjectAtIndexMaterialized:function(e){var t=this.storeIdForObjectAt(e);return this.store.hasExistingModel(t)},storeIds:Object(X.b)({dependencies:["length"],readOnly:!0,get:function(){return Object(gr.b)(this._array)}}),spliceStoreIds:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return this._array.splice.apply(this._array,arguments)},addEach:function(e){var t=this,n=arguments;if(!e||e.constructor!==Sr)return t.__s._$1cO$addEach.apply(t,n);if(this.constructor!==Sr)return t.__s._$1cO$addEach.apply(t,n);var i=e._array,r=this.length,a=i.length;this.itemsWillChange(),this.itemsWillBeInserted(r,a);var o=this._array;o.length+=a;for(var s=0;s<a;s++)o[s+r]=i[s];this.itemsWereInserted(r,a),this.itemsDidChange()},filter:function(e,t){e||Object(ze.b)("CW.Data.ModelArray#filter: No filter function provided: %{modelArray}",{modelArray:this});var n,i,r=this.store;r||Object(ze.b)("CW.Data.ModelArray#filter: Model arrays must be store backed to be filtered: %{modelArray}",{filterFunction:e,modelArray:this});for(var a=!0,o=[],s=0,l=this.length;s<l;s++){var c=this.storeIdForObjectAt(s),u=this.modelClassForObjectAt(s),d=this.store.getExistingModel(c),h=void 0;if(!d){h=(n=n||new Map).get(u);var f=this.storeDataForObjectAt(s);h||(h=u.create().retain(this,"filter: tempModel")),n.set(u,h),h.replaceData(f)}e.call(t,d||h,s,this)&&(o.push(c),i&&i!==u&&(a=!1),i=u)}if(n)for(var p,m=br(n.values());!(p=m()).done;)p.value.release(this,"filter: tempModel");return this.constructor.createFromStoreIds(o,a?i:null,r)},clone:function(){return this.constructor.createFromStoreIds(this._array,this.modelClass,this.store)},serializer:Object(X.b)((function(){return _r.create({store:this.store,modelClass:this.modelClass})})),staticMembers:{createFromStoreIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=this.create(void 0,t,n);return i._array=e.slice(),i},createFromIterable:function(e){var t,n,i,r=!0;if(Object(Se.a)(e,Sr))return e.clone();var a=e.map((function(e,a){var o=e._cwStore,s=e.constructor;i&&i!==s&&(r=!1),i=s,t=t||o,n=n||t.constructor,t!==o&&Object(ze.b)("CW.Data.ModelArray.createFromIterable: Expected a model in "+t+" but found a model in "+o+" at index "+a);var l=e.getPrimaryKey();return n.getStoreIdForPrimaryKey(s,l)}));return Array.isArray(a)||(a=a.toArray()),Object(Nt.a)(a)&&Object(ze.b)("CW.Data.ModelArray.createFromIterable: Cannot create from an empty iterable"),this.createFromStoreIds(a,r?i:null,t)},__QUALIFIED_CLASS_NAME__:"ModelArray"},init:function(e,t,n){this.modelClass=t,this.store=n||sr(),this.__s._$47l$init.call(this,e)},constructNewInstance:function(){return this.constructor.create([],this.modelClass,this.store)},indexOf:function(e){var t=this._array;return t?t.indexOf(e._cwStoreId):-1},__superMap:{_$1cO$addEach:"addEach",_$47l$init:"init"}}),Ir=n(706),wr=Ir.a.extend({storeIds:Object(Y.c)({readOnly:!0,get:function(){var e=this._storeIdsArray;if(!e){if(0===this.length)return;e=this._storeIdsArray=this.toArray().map((function(e){return e.storeId}))}return e}}),models:Object(Y.c)({readOnly:!0,get:function(){var e=this._modelArray;return e||(e=this._modelArray=Sr.createFromStoreIds(this.storeIds,null,sr())),e}}),operation:Object(Y.c)({readOnly:!0,get:function(){var e=this.length;if(1===e)return this.objectAt(0).operation;if(e>1){var t=this._bulkOperation;return t||(t=this._bulkOperation={type:er.WRITE.BULK,context:{changes:this}}),t}}}),merge:function(e){for(var t,n=e.createIterator().retain();t=n.value;)this.recordChange(t),n.moveToNext();return n.release(),this},recordChange:function(e){var t=e.storeId,n=this._changesByStoreId||(this._changesByStoreId={}),i=n[t];if(i>=0){var r=this.objectAt(i);this.setIndex(i,r.merge(e))}else this.push(e),n[t]=this.length-1,this._invalidateCaches();return e},getChangeForStoreId:function(e){var t=(this._changesByStoreId||(this._changesByStoreId={}))[e];if(t>=0)return this.objectAt(t)},removeChangeForStoreId:function(e){var t=this._changesByStoreId;if(t){var n=t[e];if(n>=0){var i=this.objectAt(n);for(var r in this.splice(n,1),delete t[e],this._invalidateCaches(),t){var a=t[r];a>n&&(t[r]=a-1)}return i}}},_modelArray:Object(Y.c)({type:Sr}),_storeIdsArray:Object(Y.c)({type:Array}),_invalidateCaches:function(){this._modelArray=null,this._storeIdsArray=null},staticMembers:{__QUALIFIED_CLASS_NAME__:"ChangeSet"}}),Er=Ge.a.extend({storeId:Object(Y.c)({readOnly:!0}),originalData:Object(Y.c)({readOnly:!0}),newData:Object(Y.c)({readOnly:!0}),changeType:Object(Y.c)({readOnly:!0,get:function(){var e=this._changeType;return e||(e=this.originalData?this.newData?er.WRITE.UPDATE:er.WRITE.DESTROY:er.WRITE.CREATE,this._changeType=e),e}}),operation:Object(Y.c)({readOnly:!0,get:function(){var e=this._operation;return e||(e=this._operation={type:this.modelClass,operation:{context:this,type:this.changeType}}),e}}),model:Object(Y.c)({readOnly:!0,get:function(){return sr().materializeModel(this.storeId)}}),primaryKey:Object(Y.c)({readOnly:!0,get:function(){return Cr.getPrimaryKeyForStoreId(this.storeId)}}),modelClass:Object(Y.c)({readOnly:!0,get:function(){return Cr.getModelClassForStoreId(this.storeId)}}),diff:Object(Y.c)({readOnly:!0,get:function(){return qi(this.originalData,this.newData)}}),init:function(e,t,n,i){this.__s._$k5$init.call(this),this._storeId=e,this._originalData=t,this._newData=n,i&&(this._operation=i)},merge:function(e){return this.constructor.create(this.storeId,this.originalData,Object.assign(this.newData||{},e.newData))},reverse:function(){return this.constructor.create(this.storeId,Object.assign({},this.newData),Object.assign({},this.originalData))},__superMap:{_$k5$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DataChange"}}),Cr=Ge.a.extend(Ni.a,{staticMembers:{getStoreIdForPrimaryKey:function(e,t){return e||Object(ze.b)("CW.Data.Store.getStoreIdForPrimaryKey: No model class provided.",{store:this}),t||Object(ze.b)("CW.Data.Store.getStoreIdForPrimaryKey: No primary key provided.",{store:this,modelClass:e}),this.getPrimaryKeysToStoreIds(e)[t]||this.registerPrimaryKey(e,t)},setPrimaryKeyForStoreId:function(e,t){e||Object(ze.b)("CW.Data.Store.setPrimaryKeyForStoreId: No storeId provided.",{store:this}),t||Object(ze.b)("CW.Data.Store.setPrimaryKeyForStoreId: No primary key provided.",{store:this});var n=Cr.getModelClassForStoreId(e);n||Object(ze.b)("CW.Data.Store.setPrimaryKeyForStoreId: No model class could be found for storeId: %{storeId}",{store:this,storeId:e}),this.registerPrimaryKey(n,t,e)},getModelClassForStoreId:function(e){return Cr.storeIdsToModelClass[e]},getPrimaryKeyForStoreId:function(e){return Cr.storeIdsToPrimaryKey[e]},getPrimaryKeysToStoreIds:function(e){var t=e.primaryKeysToStoreIds;if(!t){var n=this.modelClassToPrimaryKeysToStoreIds;(t=n.get(e))||(t={},n.set(e,t)),e.primaryKeysToStoreIds=t}return t},storeIdsToModelClass:{},storeIdsToPrimaryKey:{},modelClassToPrimaryKeysToStoreIds:new Map,resetStoreIds:function(){for(var e=this.storeIdsToModelClass,t=0,n=Object.values(e);t<n.length;t++)n[t].primaryKeysToStoreIds=null;this.storeIdsToModelClass={},this.storeIdsToPrimaryKey={},this.modelClassToPrimaryKeysToStoreIds=new Map},registerPrimaryKey:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:++Tr,i=this.storeIdsToPrimaryKey,r=i[n];if(t===r)return n;var a=this.getPrimaryKeysToStoreIds(e);return a[t]=n,this.storeIdsToModelClass[n]=e,r&&delete a[r],i[n]=t,n},__QUALIFIED_CLASS_NAME__:"Store"},autocommit:!1,forkOnRead:!1,commit:function(){Object(ze.b)("CW.Store#commit is not implemented. Only stores mixing in CW.DataManager may commit at this time.")},commitStoreIds:function(e){Object(ze.b)("CW.Store#commitStoreIds is not implemented. Only stores mixing in CW.DataManager may commit at this time.")},commitPrimaryKeys:function(e,t){Object(ze.b)("CW.Store#commitPrimaryKeys is not implemented. Only stores mixing in CW.DataManager may commit at this time.")},MergeStrategy:void 0,getStoreStatus:function(e,t){e||Object(ze.b)("CW.Data.Store#getStoreStatus: No model class provided.",{store:this}),t||Object(ze.b)("CW.Data.Store#getStoreStatus: No primary key provided.",{store:this,modelClass:e});var n=this.constructor.getStoreIdForPrimaryKey(e,t);if(this.isDataForked(n)){var i=Ar.DIRTY,r=this._changes,a=r&&r.getChangeForStoreId(n),o=a&&a.changeType;return o===er.WRITE.CREATE?i.CREATED:o===er.WRITE.UPDATE?i.UPDATED:o===er.WRITE.DESTROY?i.DESTROYED:i.READ}return null===this.readData(n)?Ar.CLEAN.DESTROYED:Ar.CLEAN},getModel:function(e,t){e||Object(ze.b)("CW.Data.Store#getModel: No model class provided.",{store:this}),t||Object(ze.b)("CW.Data.Store#getModel: No primary key provided.",{store:this,modelClass:e});var n=this.constructor.getStoreIdForPrimaryKey(e,t);if(this.hasDataFor(n))return this.materializeModel(n)},getAllModels:function(e){var t=this;e||Object(ze.b)("CW.Data.Store#getAllModels: No model class provided.",{store:this});var n=Array.from(Object.values(this.constructor.getPrimaryKeysToStoreIds(e))).filter((function(e){return t.hasDataFor(e)}));return Sr.createFromStoreIds(n,e,this)},materializeModel:function(e){e||Object(ze.b)("CW.Data.Store#materializedModel: No store ID provided.",{store:this});var t=this._materializedModels,n=t[e];if(!n&&this.hasDataFor(e)){var i=this.constructor.getModelClassForStoreId(e);i||Object(ze.b)("CW.Data.Store#materializeModel: No model class defined for store ID: `"+e+"`",{store:this,storeId:e}),this.constructor.getPrimaryKeyForStoreId(e)||Object(ze.b)("CW.Data.Store#materializeModel: No primary key defined for store ID: `"+e+"`",{store:this,modelClass:i,storeId:e}),n=i.createWithStore(this,e),t[e]=n}return n&&n.isPooled&&n.constructor.reclaim(n),n},getExistingModel:function(e){return this._materializedModels[e]},hasExistingModel:function(e){return!!this.getExistingModel(e)},linkModel:function(e,t,n){var i,r;e||Object(ze.b)("CW.Data.Store#linkModel: No model provided.",{store:this}),t||(r=e.constructor,void 0!==(i=e.getPrimaryKey())&&null!==i||!n||(i=n[r.getDataKeyForKey(r.primaryKey)]),t=this.constructor.getStoreIdForPrimaryKey(r,i));var a=e._cwStore;if(a){if(a===this)return;Object(ze.b)("CW.Data.Store#linkModel: Model has previously been linked to a store.",{store:this,storeId:t,model:e,primaryKey:i,previousStore:a,newStore:this})}this.hasDataFor(t)||(this.writeData(t,n||e.getDataHash()),delete e.__cwDataHash),e._cwStore=this;var o=this._materializedModels;o[t]&&Object(ze.b)("CW.Data.Store#linkModel: Attempting to register model that already exists.",{store:this,storeId:t,modelClass:r,primaryKey:i,previousRegisteredModel:o[t],newRegisteredModel:e}),o[t]=e,e._cwStoreId=t},unlinkModel:function(e){e||Object(ze.b)("CW.Data.Store#unlinkModel: No model provided.",{store:this}),e._cwStore=null;var t=this._materializedModels;t&&delete t[e._cwStoreId],e._cwStoreId=null},deleteModels:function(e,t){var n;if(Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var a=t[i];n=this.constructor.getStoreIdForPrimaryKey(e,a),this.deleteData(n)}else n=this.constructor.getStoreIdForPrimaryKey(e,t),this.deleteData(n);this.dataDidChange()},dataDidChange:Object(Ni.g)(),didChangeDataForStoreIds:function(e){var t=this;if(e&&0!==e.length&&function(e){var t=e.downstreamNodes.dataDidChangeForPrimaryKeys;xi.a.getChildrenIDs(t,Or);var n=Or.length>0;return Or.length=0,n}(this)){var n=e.reduce((function(e,n){var i=t.constructor.getPrimaryKeyForStoreId(n),r=t.constructor.getModelClassForStoreId(n);return e.has(r)?e.get(r).add(i):e.set(r,new Set([i])),e}),new Map);this.dataDidChangeForPrimaryKeys(n)}},dataDidChangeForPrimaryKeys:Object(Ni.g)(),readData:function(e){if(this.forkOnRead){this._forkIfNeeded(e);var t=this._materializedModels[e];t&&t.propertyChanged("storeStatus")}return this._dataHashes[e]},readDataForPrimaryKey:function(e,t){var n=this.constructor.getStoreIdForPrimaryKey(e,t);return this.readData(n)},readOriginalData:function(e){var t=this._originalDataHashes;if(t)return t[e]},willWriteData:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._forkIfNeeded(e,t)},didWriteData:function(e){this.recordChangeToData(e),this.didChangeDataForStoreIds([e])},writeData:function(e,t){this.willWriteData(e,!1),this._dataHashes[e]=t,this.didWriteData(e)},writeDataForPrimaryKey:function(e,t,n){var i=this.constructor.getStoreIdForPrimaryKey(e,t);this.writeData(i,n)},writeDataProperty:function(e,t,n){var i=this._dataHashes;if(this.hasDataFor(e)){var r=i[e][t];if(Object(Ki.a)(r,n))return}this.willWriteData(e);var a=i[e];a||(a=i[e]={}),a[t]=n,this.didWriteData(e)},updateData:function(e,t){if(this.hasDataFor(e)){this.willWriteData(e);var n=this._dataHashes[e];for(var i in t)n[i]=t[i];this.didWriteData(e)}else this.writeData(e,t)},resetData:function(e){delete this._dataHashes[e];var t=this._originalDataHashes;t&&delete t[e],this._changes&&this._changes.removeChangeForStoreId(e),this.didChangeDataForStoreIds([e])},resetAllData:function(){for(var e=this._dataHashes,t=Object.keys(e),n=0,i=t.length;n<i;n++)delete e[t[n]];delete this._originalDataHashes,this.didChangeDataForStoreIds(t)},deleteData:function(e){return this.writeData(e,null)},hasDataFor:function(e){return!!this._dataHashes[e]},isDataForked:function(e){return this._dataHashes.hasOwnProperty(e)},_dataHashes:Object(ut.b)(Object),_materializedModels:Object(ut.b)(Object),_originalDataHashes:null,_autocommitOnChange:Object(Ni.f)("dataDidChange",(function(){this.autocommit&&this._changes&&this._changes.length>0&&this.commit()})),_forkIfNeeded:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.isDataForked(e)){var n=this._dataHashes,i=n[e],r=this._originalDataHashes||(this._originalDataHashes={});return r[e]=Object(de.a)(i),n[e]=i&&t?Object(de.a)(i):{},!0}return!1},recordChangeToData:function(e){if(!e)throw Object(ze.b)("Recording changes in Store for non-existent storeId",{storeId:e});var t=this.readOriginalData(e),n=this.readData(e),i=Er.create(e,t,n);(this._changes||(this._changes=wr.create())).recordChange(i);var r=this._materializedModels[e];return r&&r.propertyChanged("storeStatus"),i},_changes:null}),Ar=Object(ne.b)("STATUS",(function(e){e("CLEAN",(function(e){e("DESTROYED")})),e("DIRTY",(function(e){e("READ"),e("CREATED"),e("UPDATED"),e("DESTROYED")}))})),Tr=0,Or=[],Dr=new Map,Mr=Ge.a.extend(Ni.a,zi,ur,{staticMembers:{getStoreIdForPrimaryKey:function(e){return Cr.getStoreIdForPrimaryKey(this,e)},setPrimaryKeyForStoreId:function(e,t){return Cr.setPrimaryKeyForStoreId(e,t)},replacePrimaryKeyInStore:function(e,t){var n=this.getStoreIdForPrimaryKey(e);return this.setPrimaryKeyForStoreId(n,t)},primaryKeysToStoreIds:null,find:function(e,t){return e||Object(ze.b)("CW.Data.Model.find: No primary key provided.",{modelClass:this}),(t=t||sr())||Object(ze.b)("CW.Data.Model.find: No store provided and no Data Manager has been created.",{modelClass:this,primaryKey:e}),t.getModel(this,e)},findAll:function(e){return(e=e||sr())||Object(ze.b)("CW.Data.Model.findAll: No store provided and no Data Manager has been created.",{modelClass:this}),e.getAllModels(this)},findByPrimaryKeys:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sr(),i=n.constructor,r=e.map((function(e){return i.getStoreIdForPrimaryKey(t,e)}));return Sr.createFromStoreIds(r,this,n)},findOrCreatePlaceholder:function(e,t){e||Object(ze.b)("CW.Data.Model.findOrCreatePlaceholder: No primary key provided.",{modelClass:this});var n=this.find(e,t);return n||(n=this.createPlaceholder(e,t)),n},createFromDataHash:function(e,t,n){if(!e)return this.createWithStore(t,n);var i=Object(de.a)(e);return i[Nr]=!0,this.create(i,t,n)},createWithStore:function(e,t){return this.create(null,e,t)},createPlaceholder:function(e,t){var n;e||Object(ze.b)("CW.Data.Model.createPlaceholder: No primary key provided.",{modelClass:this});var i=sr();i||Object(ze.b)("CW.Data.Model.createPlaceholder: No Data Manager has been created.",{modelClass:this,primaryKey:e});var r=((n={})[this.getDataKeyForKey(this.primaryKey)]=e,n);return i.loadData(this,r,!0),this.find(e,t||i)},createEmbedded:function(e,t,n){xi.a.pause();var i=this.create();return i._cwParent=e,i._cwParentKey=t,i._cwParentIndex=n,i.retain(),xi.a.resume(),i},hasMaterializedInstance:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sr(),n=this.getStoreIdForPrimaryKey(e);return t.hasExistingModel(n)},performOperation:function(e,t){e||Object(ze.b)("CW.Data.Model.performOperation: No operation name provided.",{modelClass:this,operationType:this,operationContext:t});var n=sr();return n||Object(ze.b)("CW.Data.Model.performOperation: No Data Manager has been created.",{modelClass:this,operationType:this,operationName:e,operationContext:t}),n.performOperation({type:this,operation:{type:e,context:t||{}}})},load:function(e,t){e||Object(ze.b)("CW.Data.Model.load: No primary key(s) provided.",{modelClass:this});var n,i,r=sr();if(r||Object(ze.b)("CW.Data.Model.load: No Data Manager has been created.",{modelClass:this,primaryKey:e}),t)return this.performOperation(er.READ.LOAD,{primaryKeys:e});if(Array.isArray(e)){for(var a,o,s=Sr.create(e,this),l=0,c=e.length;l<c;l++){var u=e[l];r.getNetworkStatus(this,u)!==fr.IDLE&&(a=a||[],(i=r.getActiveTransactions(this,u))&&i.length>0)?a.push.apply(a,i):r.getLoadStatus(this,u)!==pr.LOADED&&(o=o||[]).push(u)}if(o){var d=this.performOperation(er.READ.LOAD,{primaryKeys:o});(a=a||[]).push(d)}return n=Z.a.create(),a?Z.a.all(a).then((function(){n.resolve(s)}),(function(e){n.reject(e)})):(n.resolve(s),n)}return r.getNetworkStatus(this,e)!==fr.IDLE&&(n=Z.a.create(),(i=r.getActiveTransactions(this,e))&&i.length>0)?Z.a.all(i).then(function(){n.resolve(this.find(e))}.bind(this),(function(e){n.reject(e)})):r.getLoadStatus(this,e)===pr.LOADED?Z.a.resolve(this.find(e)):this.performOperation(er.READ.LOAD,{primaryKeys:e})},loadAll:function(){return this.performOperation(er.READ.LIST)},destroy:function(e,t){e||Object(ze.b)("CW.Data.Model.destroy: No primary key(s) provided.",{modelClass:this}),(t=t||sr())||Object(ze.b)("CW.Data.Model.destroy: No store provided and no Data Manager has been created.",{modelClass:this,primaryKeys:e}),t.deleteModels(this,e)},getKeyForDataKey:function(e){e||Object(ze.b)("CW.Data.Model.getKeyForDataKey: No data key provided.",{modelClass:this});var t=this.__cwDataKeyMap;return t&&t[e]||e},getDataKeyForKey:function(e){e||Object(ze.b)("CW.Data.Model.getDataKeyForKey: No key provided.",{modelClass:this});var t=this.prototype.getMetadata(e);return t&&t.dataKey||e},primaryKey:null,init:function(){var e=this,t=arguments;e.__s._$6ox$init.apply(e,t),this.primaryKeysToStoreIds=null,rr().push(this)},_setKeyForDataKey:function(e,t){var n=this.__cwDataKeyMap;(n?this.hasOwnProperty("__cwDataKeyMap")?n:this.__cwDataKeyMap=Object.create(n):this.__cwDataKeyMap={})[t]=e},_registerDataActionHandler:function(e,t){Dr.set(e,t)},__superMap:{_$6ox$init:"init"},__QUALIFIED_CLASS_NAME__:"Model"},networkStatus:Object(X.b)({get:function(){var e=this.getPrimaryKey();e||Object(ze.b)("CW.Data.Model#networkStatus: No primary key.",{modelClass:this.constructor,model:this});var t=sr();return t||Object(ze.b)("CW.Data.Model#networkStatus: No Data Manager has been created.",{modelClass:this.constructor,model:this,primaryKey:e}),t.getNetworkStatus(this.constructor,e)}}),loadStatus:Object(X.b)({get:function(){var e=this.getPrimaryKey();e||Object(ze.b)("CW.Data.Model#loadStatus: No primary key.",{modelClass:this.constructor,model:this});var t=sr();return t||Object(ze.b)("CW.Data.Model#loadStatus: No Data Manager has been created.",{modelClass:this.constructor,model:this,primaryKey:e}),t.getLoadStatus(this.constructor,e)}}),storeStatus:Object(X.b)({cacheable:!1,get:function(){var e=this.getPrimaryKey();e||Object(ze.b)("CW.Data.Model#storeStatus: No primary key.",{modelClass:this.constructor,model:this});var t=this._cwStore;return t||Object(ze.b)("CW.Data.Model#storeStatus: No store linked to model.",{modelClass:this.constructor,model:this,primaryKey:e}),t.getStoreStatus(this.constructor,e)}}),isStoreModel:Object(Y.c)({readOnly:!0,get:function(){return!!this._cwStore}}),parentModel:Object(Y.c)({readOnly:!0,get:function(){return this._cwParent}}),isEmbeddedModel:Object(Y.c)({readOnly:!0,get:function(){return!!this.parentModel}}),embeddedKeyPathArray:Object(Y.c)({readOnly:!0,get:function(){if(this.isEmbeddedModel){for(var e=[],t=this;t.isEmbeddedModel;)e=[t._cwParentKey],void 0!==t._cwParentIndex&&e.push(t._cwParentIndex),t=t._cwParent;return e}}}),embeddedKeyPath:Object(Y.c)({readOnly:!0,get:function(){return this.embeddedKeyPathArray.join(".")}}),embeddedRoot:Object(Y.c)({readOnly:!0,get:function(){for(var e=this;e.isEmbeddedModel;)e=e._cwParent;return e}}),hasDataForKey:function(e){var t=this.getDataHash();return t&&void 0!==t[e]},load:function(){var e=this.getPrimaryKey();return e||Object(ze.b)("CW.Data.Model#load: No primary key.",{modelClass:this.constructor,model:this}),this.constructor.load(e)},reload:function(){var e=this.getPrimaryKey();return e||Object(ze.b)("CW.Data.Model#reload: No primary key.",{modelClass:this.constructor,model:this}),this.constructor.load(e,!0)},save:function(){var e=this._cwStore;return e||Object(ze.b)("CW.Data.Model#save: No store linked to model.",{modelClass:this.constructor,model:this,primaryKey:this.getPrimaryKey()}),e.commit()},saveWithoutRelated:function(){var e=this._cwStore;return e||Object(ze.b)("CW.Data.Model#save: No store linked to model.",{modelClass:this.constructor,model:this,primaryKey:this.getPrimaryKey()}),e.commitStoreIds(this._cwStoreId)},reset:function(){this.isStoreModel||Object(ze.b)("CW.Data.Model.reset: Cannot reset a non-store model.",{modelClass:this.constructor,model:this}),this._cwStore.resetData(this._cwStoreId)},destroy:function(){var e=this.getPrimaryKey();e||Object(ze.b)("CW.Data.Model#destroy: No primary key.",{modelClass:this.constructor,model:this}),this.constructor.destroy(e,this._cwStore)},replaceData:function(e){var t=this.getDataHash(),n=this._cwStore;n?n.writeData(this._cwStoreId,e):this.__cwDataHash=e;var i=qi(t,this.getDataHash());if(i){var r={diff:qi(t,e),originalData:t,updatedData:this.getDataHash()},a=Object(Yi.a)([],i.added,i.removed,i.updated);this._notifyOnDataAction(a,r)}},updateData:function(e){var t=Object(de.a)(this.getDataHash()),n=this._cwStore;if(n)n.updateData(this._cwStoreId,e);else{var i=this.getDataHash();for(var r in e)i[r]=e[r]}var a=this.getDataHash(),o={diff:qi(t,a),originalData:t,updatedData:a};this._notifyOnDataAction(Object.keys(e),o)},_notifyOnDataAction:function(e,t){xi.a.pause();for(var n=this.constructor,i=0,r=e.length;i<r;i++){var a=n.getKeyForDataKey(e[i]),o=this.getMetadata(a);if(o){var s=Dr.get(o.constructor);s?s(this,a,t):this.propertyChanged(a)}}xi.a.resume()},toJSON:function(){return Object(de.a)(this.getDataHash())},_cwStore:null,_cwStoreId:null,_cwParent:null,_cwParentKey:null,getDataHash:function(){var e=this._cwParent;if(e){var t=this._cwParentKey,n=this._cwParentIndex,i=e.getDataHash();if(!i)return;return(i=i[t])&&void 0!==n&&(i=i[n]),i}var r=this._cwStore;return r?r.readData(this._cwStoreId):this.__cwDataHash||(this.__cwDataHash={})},getPrimaryKey:function(){var e=this.constructor.primaryKey;return e||Object(ze.b)("CW.Data.Model#getPrimaryKey: No primary key property defined.",{modelClass:this.constructor,model:this}),this.get(e)},init:function(e,t,n){var i,r;if(e)if(e[Nr])delete e[Nr],i=e;else{var a=this.getMetadataByType(Fr);for(var o in i={},r=Object(de.a)(e),a){var s=a[o],l=s.dataKey||o,c=r[o];void 0!==c&&(i[l]=s._encodeValue(this,l,c),delete r[o])}}t?this._cwStore||t.linkModel(this,n,i):this.__cwDataHash=i,this.__s._$D1R$init.call(this,r)},dispose:function(){var e=this,t=arguments,n=this._cwStore;n&&n.unlinkModel(this),e.__s._$D61$dispose.apply(e,t)},notifyOfDataChange:function(){var e;this.dataDidChange.apply(this,arguments),this.isEmbeddedModel&&(e=this._cwParent).notifyOfDataChange.apply(e,arguments)},propertyChanged:function(e){var t=this.getMetadata(e);if(t){var n=t.clearCachedValueForObject;n&&n.call(t,this,e),this.__s._$DJU$propertyChanged.call(this,e)}},dataDidLoad:Object(Ni.g)(),dataDidChange:Object(Ni.g)(),_dataDidChangeDidFire:Object(Ni.e)("dataDidChange",(function(){var e=this._cwStore;e&&e.dataDidChange()})),__superMap:{_$D1R$init:"init",_$D61$dispose:"dispose",_$DJU$propertyChanged:"propertyChanged"}}),Nr=Symbol("PURE_MODEL_DATA"),Fr=X.a.extend({requiresSupport:Mr,type:null,isPrimaryKey:!1,dataKey:null,encode:null,decode:null,setInitialValueForObject:function(e,t,n){var i=this,r=arguments;void 0!==n&&Object(ze.b)("Initial values are not supported on ModelProperties: "+e+"#"+t,{object:e,key:t,initialValue:n}),i.__s._$Dzq$setInitialValueForObject.apply(i,r)},downstreamNodeManagerClass:Gi.a.extend({calculateValueForNode:function(e,t,n){if(n){var i=xi.a.getStateIDForNode(t);xi.a._sanitizeNodeID(i)>0&&xi.a.getValueForNode(i)}var r=this.key,a=this.property,o=a.getRawValueForObject(e,r);return a._materializeValue(e,r,o)},isCacheable:!1}),upstreamNodeManagerClass:Hi.b.extend({calculateValueForNode:function(e,t,n){var i;if(n){var r=xi.a.getStateIDForNode(t);(i=this.pullDataFromParent(t,r))===Hi.a&&(i=xi.a.getDataForNode(t))}else i=xi.a.getStateDataForNode(t);var a=this.key,o=this.property;return i!==o._getCachedValueForObject(e,a)&&(o.clearCachedValueForObject(e,a),i=o._encodeValue(e,a,i),o.setRawValueForObject(e,a,i)),i},notifyNode:function(e,t){var n=this.key,i=xi.a.getDataForNode(t);e.dataDidChange(n,i)}}),init:function(e){var t=this,n=arguments;e&&void 0!==e.defaultValue&&(this._hadDefaultValue=!0,delete e.defaultValue),t.__s._$EaG$init.apply(t,n)},initializeNodeFlags:function(){var e=this,t=arguments;e.__s._$EbF$initializeNodeFlags.apply(e,t),this.upstreamNodeFlags|=xi.a.PULL_ON_FLUSH|xi.a.NOTIFY},setRawValueForObject:function(e,t,n){if(t=this.dataKey||t,e.isStoreModel)e._cwStore.writeDataProperty(e._cwStoreId,t,n);else if(e.isEmbeddedModel){for(var i=e._cwParent,r=i;r.isEmbeddedModel;)r=r._cwParent;var a=r._cwStore,o=r._cwStoreId;a&&a.willWriteData(o);var s=e.getDataHash();s||Object(ze.b)("Can't write value for key to undefined data hash",{key:t,value:n,object:e,type:e.constructor}),s[t]=n,a&&a.didWriteData(o),i.notifyOfDataChange()}else{var l=e.getDataHash();l||Object(ze.b)("Can't write value for key to undefined data hash",{key:t,value:n,object:e,type:e.constructor}),l[t]=n}return n},getRawValueForObject:function(e,t){var n,i=this.dataKey||t,r=e.getDataHash();return r&&(n=r[i]),void 0===n?null:n},_encodeValue:function(e,t,n){var i,r,a,o=e.__cwMaterializedValues,s=o&&o[t],l=Object(Se.a)(n,Mr);return s&&l&&(function(e){var t=e._cwParent;t||Object(ze.b)("CW.Data.Model#detachFromParent: Model is not attached to a parent.",{embeddedModel:e});var n=t.getDataHash(),i=e._cwParentKey;e.__cwDataHash=n[i],n[i]=null,e._cwParent=null,e._cwParentKey=null,e.release()}(s),this.clearCachedValueForObject(e,t)),l?(r=n,a=t,(i=e)||Object(ze.b)("CW.Data.ModelProperty#attachToParent: No parent model provided.",{embeddedModel:r,parentKey:a}),r||Object(ze.b)("CW.Data.ModelProperty#attachToParent: No embedded model provided.",{parentModel:i,parentKey:a}),a||Object(ze.b)("CW.Data.ModelProperty#attachToParent: No parent key provided.",{parentModel:i,embeddedModel:r}),i.getDataHash()[a]=r.getDataHash(),r._cwParent=i,r._cwParentKey=a,delete r.__cwDataHash,r.retain(),this._setCachedValueForObject(e,t,n),n=n.getDataHash()):Object(Se.a)(n,Ie.a)&&(n=n.value),Object(xe.a)(this.encode)&&(n=this.encode.call(e,n)),n&&n.toJSON?n.toJSON():n},_materializeValue:function(e,t,n){var i=this._getCachedValueForObject(e,t);if(void 0!==i)return i;var r=this.type,a=(Object(xe.a)(this.decode)?this.decode:function(e,t){var n=String(e).toLowerCase();return e===Boolean||"boolean"===n?Lr:e===String||"string"===n?Rr:e===Array||"array"===n||e===$i.b||"cw.observablearray"===n||t instanceof Array?xr:e===Date||"date"===n?Pr:Object(Se.a)(e,ne.a)?kr:Xi.a}(r,n)).call(e,n,r),o=a!==n;if(Object(Se.a)(a,$i.b)){var s=this.dataKey||t;a.listen("contentsDidChange",(function(n){var i=e.getDataHash()[s];i||(i=e.getDataHash()[s]=[]),n.context.forEach((function(e){e.operation===$i.b.INSERT?i.splice(e.index,0,e.item):i.splice(e.index,1)})),e.notifyOfDataChange(t,a)}))}return o&&(this._setCachedValueForObject(e,t,a),a&&a.retain&&a.retain()),a},clearCachedValueForObject:function(e,t){var n=this._getCachedValueForObject(e,t);n&&n.release&&n.release(),e.__cwMaterializedValues&&delete e.__cwMaterializedValues[t]},_getCachedValueForObject:function(e,t){var n=e.__cwMaterializedValues;return n&&n[t]},_setCachedValueForObject:function(e,t,n){var i=e.__cwMaterializedValues;return i||(i=e.__cwMaterializedValues={}),i[t]=n},wasRegistered:function(e,t){var n=this,i=arguments,r=this.type;r&&(this.type=null),n.__s._$Gqn$wasRegistered.apply(n,i),r&&(this.type=r);var a=e.constructor,o=this.dataKey;if(o&&o!==t&&a._setKeyForDataKey(t,o),this.isPrimaryKey){var s=a.primaryKey;s&&s!==t&&Object(ze.b)("CW.Data.ModelProperty#wasRegistered: Models cannot define multiple primary keys.",{existingPrimaryKey:s,newPrimaryKey:t,modelClass:a}),a.primaryKey=t}this._hadDefaultValue&&Object(ze.b)("Default values are not supported on ModelProperties: "+e+"#"+t,{object:e,key:t})},_hadDefaultValue:!1,__superMap:{_$Dzq$setInitialValueForObject:"setInitialValueForObject",_$EaG$init:"init",_$EbF$initializeNodeFlags:"initializeNodeFlags",_$Gqn$wasRegistered:"wasRegistered"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ModelProperty"}});function Lr(e){return!!e}function Rr(e){return null===e?null:void 0!==e?String(e):void 0}function xr(e){return $i.b.create(e)}function Pr(e){return"string"===typeof e&&(e=Date.parse(e)),e?new Date(e):null}function kr(e,t){return t.getItemForValue(e)}var Ur=function(e){return"object"!==typeof e&&(e={defaultValue:e}),Fr.create(e)},jr=n(386),Br=n(127),Vr=n(35),$r=Sr.extend({relatedObject:Object(Y.c)(),relationshipKey:Object(Y.c)(),_embeddedCache:Object(Y.c)(),shouldDoPostInitProcessing:!1,hasBackingData:Object(Y.c)({readOnly:!0,get:function(){var e=this.relatedObject;return!(!e||!e.getDataHash())}}),_array:Object(Y.c)({get:function(){if(this.hasBackingData){var e=this.relatedObject,t=this.relationshipKey;return e.getDataHash()[t]}},set:function(e){if(this.hasBackingData)return this.relatedObject.getDataHash()[this.relationshipKey]=e,e}}),init:function(e,t,n){var i=t.relatedObject,r=t.relationshipKey,a=t.type,o=e&&e.length||0,s=this._embeddedCache=new Array(o),l=this;this.serializer={encode:function(e,t){return Object(Se.a)(e,Mr)&&(e=e.getDataHash()),e},decode:function(e,t){if(!e)return e;if(void 0===t)return a.create(e);var n=s[t];if(void 0!==n)return n;var i=a.createEmbedded(l.relatedObject,l.relationshipKey,t);return s[t]=i,i}},this.__s._$1Fp$init.call(this,e,a,n),this.relatedObject=i,this.relationshipKey=r,this.listen("contentsDidChange",(function(e){0!==e.context.length&&i.notifyOfDataChange()})),this.retain("Model#__cwMaterializedValues cache"),this.postInitProcessing()},postInitProcessing:function(){var e=this._array;if(e)for(var t,n,i=this._embeddedCache||(this._embeddedCache=[]),r=0,a=e.length;r<a;r++)t=e[r],Object(Se.a)(t,Mr)&&(n=t.getDataHash(),t.isEmbeddedModel||this._embedModel(t,r),i[r]=t,e[r]=n)},constructNewInstance:function(){return $i.b.create({serializer:this.serializer})},itemsWillChange:function(){var e=this,t=arguments;this._array||(this._array=[]),e.__s._$1rN$itemsWillChange.apply(e,t);var n=this.relatedObject.embeddedRoot;n.isStoreModel&&n._cwStore._forkIfNeeded(n._cwStoreId)},itemsDidChange:function(){var e=this,t=arguments;e.__s._$1wm$itemsDidChange.apply(e,t);var n=this.relatedObject.embeddedRoot;n.isStoreModel&&n._cwStore.recordChangeToData(n._cwStoreId)},itemsWillBeRemoved:function(e,t){var n=this,i=arguments;if(n.__s._$21X$itemsWillBeRemoved.apply(n,i),0!==t){for(var r=this._embeddedCache,a=e+t,o=e;o<a;o++){var s=r[o];s&&(s.__cwDataHash=Object(de.a)(s.getDataHash()),s._cwParent=s._cwParentKey=s._cwParentIndex=void 0)}r.splice(e,t)}},itemsWillBeInserted:function(e,t){var n=this,i=arguments;if(n.__s._$2Db$itemsWillBeInserted.apply(n,i),0!==t){var r=this._embeddedCache;Wr[0]=e,Wr[1]=0,r.splice.apply(r,Wr),Wr.length=2}},itemsWereRemoved:function(e,t){var n=this,i=arguments;if(n.__s._$2N5$itemsWereRemoved.apply(n,i),0!==t){var r=this._embeddedCache,a=this.relatedObject&&this.relatedObject.getDataHash(),o=a&&a[this.relationshipKey];if(o){var s,l,c,u=t;for(s=e,l=o.length;s<l;s++)(c=r[s])&&(c._cwParentIndex-=u)}}},itemsWereInserted:function(e,t){var n=this,i=arguments;if(n.__s._$2bH$itemsWereInserted.apply(n,i),0!==t){var r=this._embeddedCache,a=this.relatedObject,o=this.relationshipKey,s=a&&a.getDataHash(),l=s&&s[o];if(l)for(var c,u=l.length,d=e+t,h=e;h<u;h++)(c=r[h])&&(h<d?this._embedModel(c,h):c._cwParentIndex+=t)}},_embedModel:function(e,t){var n=e.parentModel;if(n&&n!==this.relatedObject&&Object(ze.b)("Trying to embed a model that already has a different parent",{model:e,parent:n}),!n){n=this.relatedObject;var i=this.relationshipKey;e._cwParent=n,e._cwParentKey=i,e._cwParentIndex=t,e.__cwDataHash=void 0}return e},rawSplice:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var a=this,o=arguments;return this._cacheValues.apply(this,i),a.__s._$3Ej$rawSplice.apply(a,o)},push:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this,r=arguments;return this._cacheValues.apply(this,t),i.__s._$3G9$push.apply(i,r)},unshift:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this,r=arguments;return this._cacheValues.apply(this,t),i.__s._$3Hd$unshift.apply(i,r)},insertAt:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=this,a=arguments;return this._cacheValues.apply(this,n),r.__s._$3JE$insertAt.apply(r,a)},setIndex:function(e,t){var n=this,i=arguments;return this._cacheValues(t),n.__s._$3Ki$setIndex.apply(n,i)},_cacheValues:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.length;Wr.length=i+2;for(var r=0;r<i;r++){var a=t[r];Object(Se.a)(a,Mr)&&(Wr[r+2]=a)}},filter:function(){Object(ze.b)("Filter cannot be used safely on an embedded relationship array, use filterCloned instead.",{source:this})},filterCloned:function(e,t){var n=[],i=this.relatedObject,r=this.relationshipKey,a=i&&i.getDataHash(),o=a&&a[r];if(o)for(var s=this.modelClass,l=s.create(),c=0,u=o.length;c<u;c++){var d=o[c];l.replaceData(d),e.call(t,l,c,o)&&n.push(s.createFromDataHash(d))}return $i.b.create(n)},indexOf:function(e){var t=this._array;return t&&Object(Se.a)(e,this.modelClass)?t.indexOf(e.getDataHash()):-1},isObjectAtIndexMaterialized:function(e){var t=this._embeddedCache;return t&&!!t[e]},__superMap:{_$1Fp$init:"init",_$1rN$itemsWillChange:"itemsWillChange",_$1wm$itemsDidChange:"itemsDidChange",_$21X$itemsWillBeRemoved:"itemsWillBeRemoved",_$2Db$itemsWillBeInserted:"itemsWillBeInserted",_$2N5$itemsWereRemoved:"itemsWereRemoved",_$2bH$itemsWereInserted:"itemsWereInserted",_$3Ej$rawSplice:"rawSplice",_$3G9$push:"push",_$3Hd$unshift:"unshift",_$3JE$insertAt:"insertAt",_$3Ki$setIndex:"setIndex"},staticMembers:{__QUALIFIED_CLASS_NAME__:"EmbeddedRelationshipArray"}}),Wr=[0,0],zr=Sr.extend({relatedObject:Object(Y.c)({weak:!0}),relationshipKey:Object(Y.c)(),hasBackingData:Object(Y.c)({readOnly:!0,get:function(){var e=this.relatedObject;return!(!e||!e.getDataHash())}}),_array:Object(Y.c)({get:function(){if(this.hasBackingData){var e=this.relatedObject,t=this.relationshipKey;return e.getDataHash()[t]}},set:function(e){if(this.hasBackingData)return this.relatedObject.getDataHash()[this.relationshipKey]=e,e}}),_storeIdCache:Object(ut.b)(Map),serializer:function(){var e=this;return{encode:function(t){return Object(bt.a)(t)?(Object(Se.a)(t,Mr)?(t.constructor!==e.modelClass&&Object(ze.b)("Invalid Model type %{type}, expected %{configured}",{type:t.constructor,configured:e.modelClass}),t=t.getPrimaryKey()):Object(ue.a)(t)&&(t.hasOwnProperty("id")&&t.hasOwnProperty("type")||Object(ze.b)("Foreign object tuple must contain keys 'id' and 'type'",{value:t})),t):t},decode:function(t){if(!Object(bt.a)(t))return t;var n=e.storeIdForForeignObjectReference(t),i=e.store,r=i.materializeModel(n);if(r)return r;var a=i.constructor.getModelClassForStoreId(n),o=i.constructor.getPrimaryKeyForStoreId(n);return a.createPlaceholder(o,i)}}},shouldDoPostInitProcessing:!1,init:function(e,t,n){t&&t.type?t&&t.relationshipKey?t&&t.relatedObject||Object(ze.b)("No relationship object provided in options",{options:t}):Object(ze.b)("No relationship key provided in options",{options:t}):Object(ze.b)("No model type provided in options",{options:t});var i=t.relationshipKey,r=t.relatedObject;this.__s._$1kd$init.call(this,e,t.type,n),this.relationshipKey=i,this.relatedObject=r;var a=r.__cwMaterializedValues;a||(a=r.__cwMaterializedValues={}),a[i]&&Object(ze.b)("A CW.Data.RelationshipArray instance already exists for this relationship",{relatedObject:r,relationshipKey:i,cache:a}),a[i]=this,this.retain("Model#__cwMaterializedValues cache"),this.shouldDoPostInitProcessing=!0,this.postInitProcessing()},itemsWillChange:function(){var e=this,t=arguments;this._array||(this._array=[]),e.__s._$26k$itemsWillChange.apply(e,t),this.store&&this.store._forkIfNeeded(this.relatedObject._cwStoreId)},itemsDidChange:function(){var e=this,t=arguments;if(this.store){var n=this.relatedObject._cwStoreId;n&&this.store.recordChangeToData(n)}e.__s._$2FX$itemsDidChange.apply(e,t),this.relatedObject.notifyOfDataChange()},storeIdForForeignObjectReference:function(e){if(!Object(bt.a)(e))return e;var t=this._storeIdCache.get(e);if(void 0===t){var n=e,i=this.modelClass;Object(ue.a)(e)&&(n=e.id,i=e.type),t=Cr.getStoreIdForPrimaryKey(i,n),this._storeIdCache.set(e,t)}return t},storeIdForObjectAt:function(e){if(this._array){var t=this._array[e];return t&&this.storeIdForForeignObjectReference(t)}},storeIds:Object(X.b)({dependencies:["length"],readOnly:!0,get:function(){if(!this._array)return[];var e=this.storeIdForForeignObjectReference.bind(this);return this._array.map(e)}}),spliceStoreIds:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];for(var a=2,o=arguments.length;a<o;a++){var s=this.store.constructor.getPrimaryKeyForStoreId(arguments[a]),l=this.store.constructor.getModelClassForStoreId(s);l!==this.modelClass&&(s={id:s,type:l}),arguments[a]=s}return this._array||(this._array=[]),this._array.splice.apply(this._array,arguments)},objectAt:function(){var e=this,t=arguments;return this._array&&e.__s._$2x4$objectAt.apply(e,t)},encodedObjectAt:function(){var e=this,t=arguments;return this._array&&e.__s._$2ys$encodedObjectAt.apply(e,t)},constructNewInstance:function(){var e={relatedObject:this.relatedObject,relationshipKey:this.relationshipKey,type:this.modelClass};return this.constructor.create([],e,this.store)},filter:function(e,t){e||Object(ze.b)("CW.Data.RelationshipArray#filter: No filter function provided: %{relationshipArray}",{relationshipArray:this});var n=this.store;n||Object(ze.b)("CW.Data.RelationshipArray#filter: Model arrays must be store backed to be filtered: %{relationshipArray}",{filterFunction:e,relationshipArray:this});var i,r=this.modelClass;r||Object(ze.b)("CW.Data.RelationshipArray#filter: No model class defined on model array: %{relationshipArray}",{filterFunction:e,relationshipArray:this,store:n});for(var a=[],o=0,s=this.length;o<s;o++){var l=this.storeIdForObjectAt(o),c=this.store.getExistingModel(l);if(!c){var u=this.storeDataForObjectAt(o);i||(i=r.create().retain(this,"filter: tempModel")),i.replaceData(u)}e.call(t,c||i,o,this)&&a.push(l)}return i&&i.release(this,"filter: tempModel"),Sr.createFromStoreIds(a,r,n)},indexOf:function(e){var t=this._array;return t&&Object(Se.a)(e,this.modelClass)?t.indexOf(e.getPrimaryKey()):-1},__superMap:{_$1kd$init:"init",_$26k$itemsWillChange:"itemsWillChange",_$2FX$itemsDidChange:"itemsDidChange",_$2x4$objectAt:"objectAt",_$2ys$encodedObjectAt:"encodedObjectAt"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RelationshipArray"}}),Gr=function(e){return Kr.create(e)},Hr=function(e){return Qr.create(e)},Kr=Fr.extend({embedded:!1,_encodeValue:function(e,t,n){return this.encode?this.encode(n):(Object(Se.a)(n,Mr)?(i=n.constructor,this.embedded?((e.__cwMaterializedValues||(e.__cwMaterializedValues={}))[t]=n,n.retain(),n=n.toJSON()):n=n.getPrimaryKey()):i=Object(ue.a)(n)&&n.type&&n.id?(n=n.id).type:this.type,i?(e.__relationshipTypes||(e.__relationshipTypes={}))[t]=i:Object(ze.b)("CW.Data.ToOneRelationshipProperty#_encodeValue: Unable to determine type for: `"+n+"`."),n);var i},getType:function(e,t){var n=e.__relationshipTypes;return n&&n[t]||this.type},hasMaterializedInstance:function(e,t){if(this.embedded)return!!this._getCachedValueForObject(e,t);var n=e._cwStore,i=qr(this.getType(e,t),e.constructor),r=e.getDataHash();if(!r)return!1;var a=r[this.dataKey||t];return i.hasMaterializedInstance(a,n)},_materializeValue:function(e,t,n){var i=e.__cwMaterializedValues,r=i&&i[t];if(r)return r;if(!n)return null;if(this.decode)return this.decode(n);var a=qr(this.getType(e,t),e.constructor);return a||Object(ze.b)("CW.Data.ToOneRelationshipProperty#_materializeValue: Unable to determine model class for: `"+n+"`."),this.embedded?(i||(i=e.__cwMaterializedValues={}),i[t]=a.createEmbedded(e,this.dataKey||t)):a.findOrCreatePlaceholder(n,e._cwStore)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ToOneRelationshipProperty"}}),Qr=Fr.extend({embedded:!1,upstreamNodeManagerClass:Object(Mi.a)({nodeWillFree:function(e){var t=e.__cwMaterializedValues,n=t&&t[this.key];n&&(Object(Br.e)(n,e,"ToManyRelationshipProperty: releasing materialized RelationshipArray"),t[this.key]=null)}}),downstreamNodeManagerClass:Gi.a.extend({calculateValueForNode:function(e,t,n,i){n&&xi.a._sanitizeNodeID(i)>0&&xi.a.getValueForNode(i);var r=this.key,a=this.property.getRawValueForObject(e,r);return this.property._materializeValue(e,r,a)}}),_encodeValue:function(e,t,n){return n},_materializeValue:function(e,t,n){var i=e.__cwMaterializedValues||(e.__cwMaterializedValues={}),r=i[t];if(r)return r.hasBackingData?r:void 0;var a,o={type:qr(this.type,e.constructor),relatedObject:e,relationshipKey:this.dataKey||t};if(this.embedded)a=$r.create(n,o);else{if(n&&n.length>0)for(var s=0,l=n.length;s<l;s++){var c=n[s];Object(Se.a)(c,Mr)?n[s]=c.getPrimaryKey():Object(ue.a)(c)&&c.id&&(n[s]=c.id)}a=zr.create(n,o,e._cwStore)}return i[t]=a,a.hasBackingData?a:void 0},clearCachedValueForObject:Vr.a,strong:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"ToManyRelationshipProperty"}});function qr(e,t){var n;return e&&e.isClass?n=e:"(self)"===e||"self"===e?n=t:Object(Ke.a)(e)&&(n=function(e){if(void 0===or[e])for(var t=0,n=ir.length;t<n;t++){var i=ir[t],r=Object(ct.a)(i);if(r===e){or[r]=i;break}}return or[e]}(e)),n||Object(ze.b)("CW.Data.Relationship: Unable to compute class for relationship type: `"+e+"`."),n}Mr._registerDataActionHandler(Qr,(function(e,t,n){var i=e[t];i.contentsDidChangeUntracked();var r=n.originalData[t]||[],a=n.updatedData[t]||[],o=$i.a.fromArrays(r,a,i);i.contentsDidChange(o)}));var Yr=ne.b("BRApp.ItemShareState",{TO_ME:"TO_ME",BY_ME:"FROM_ME"}),Xr=Object.freeze({FILE:"FILE",FOLDER:"FOLDER",APP_LIBRARY:"APP_LIBRARY",SHARED_BY_ME_FILE:"SHARED_BY_ME_FILE",SHARED_BY_ME_FOLDER:"SHARED_BY_ME_FOLDER",SHARED_TO_ME_FILE:"SHARED_TO_ME_FILE",SHARED_TO_ME_FOLDER:"SHARED_TO_ME_FOLDER",FILE_IN_SHARED_BY_ME_FOLDER:"FILE_IN_SHARED_BY_ME_FOLDER",FOLDER_IN_SHARED_BY_ME_FOLDER:"FOLDER_IN_SHARED_BY_ME_FOLDER",FILE_IN_SHARED_TO_ME_FOLDER:"FILE_IN_SHARED_TO_ME_FOLDER",FOLDER_IN_SHARED_TO_ME_FOLDER:"FOLDER_IN_SHARED_TO_ME_FOLDER",UNKNOWN:"UNKNOWN"}),Jr=ne.b("BRApp.ItemTransactionStateEnum",(function(e){e("Prepared"),e("Staged"),e("Committing")})),Zr=n(138),ea=n(734),ta=n(405),na=n(392),ia=n(323),ra=n(315),aa=Ge.a.extend(ia.a,{source:null,_map:null,_keys:null,init:function(e,t){this.source=e;var n=this._map=e._map;this._keys=t||Object.keys(n),this.__s._$92$init.call(this)},moveToNext:function(){return this._keys.pop(),this},isValid:Object(Y.c)({readOnly:!0,get:function(){return!!this._keys.length}}),_getCurrentItem:function(){var e=this._keys;return this._map[e[e.length-1]]},value:Object(Y.c)({get:function(){return this.source.decode(this.encodedValue)},set:function(e){this.encodedValue=this.source.encode(e)}}),encodedValue:Object(Y.c)({get:function(){return this._getCurrentItem()},set:function(e){var t=this._getCurrentItem();return this.source.encodedRemove(t),this.source.encodedAdd(e),this._keys.pop(),this._keys.push(Object(Zr.a)(e)),e}}),clone:function(){return this.constructor.create(this.source,Object(ra.a)(this._keys))},remove:function(){var e=this.get("value"),t=this.source.remove(e);return this.moveToNext(),t},add:function(e){return this._keys.pop(),this._keys.push(Object(Zr.a)(e)),this.source.add(e)},__superMap:{_$92$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"SetIterator"}});function oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var sa=Ge.a.extend(ta.a,mr.a,Ni.a,{init:function(){var e=this,t=arguments;e.__s._$Hb$init.apply(e,t),this._previousSerializer=this.serializer},_map:Object(ut.b)(Object),length:Object(Y.c)({readOnly:!0,defaultValue:0}),size:Object(Y.c)({readOnly:!0,get:function(){return this.length}}),encodedAdd:function(e){var t=Object(Zr.a)(e),n=this._map;return!n.hasOwnProperty(t)&&(n[t]=e,this._length++,!0)},encodedRemove:function(e){var t=Object(Zr.a)(e),n=this._map;return!!n.hasOwnProperty(t)&&(delete n[t],this._length--,!0)},clear:function(){var e=this._map;for(var t in e)e.hasOwnProperty(t)&&delete e[t];this._length=0},has:function(){return this.contains.apply(this,arguments)},encodedContains:function(e){var t=Object(Zr.a)(e);return this._map.hasOwnProperty(t)},iteratorClass:Object(Y.c)({readOnly:!0,defaultValue:aa}),encodedToArray:function(){var e=this._map;return Object.keys(e).map((function(t){return e[t]}))},clone:function(){return this.constructor.create({serializer:this.serializer,_map:Object(na.a)(this._map),length:this.length})},serializer:Object(X.b)(),_previousSerializer:null,_reencodeItemsWhenSerializerChanges:Object(Ni.f)({inputs:["serializer"],notifyOnCreate:!1,callback:function(e){var t=this._previousSerializer;if(t!==e){var n=this.encodedToArray();t&&(n=n.map((function(e){return t.decode(e)}))),e&&(n=n.reduce((function(t,n){try{t.push(e.encode(n))}catch(i){}return t}),[])),this.clear();for(var i,r=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return oa(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oa(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(n);!(i=r()).done;){var a=i.value;this.encodedAdd(a)}}this._previousSerializer=e}}),__superMap:{_$Hb$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CoreSet"}}),la={},ca=[],ua=sa.extend(ea.a,{_array:Object(ut.b)(Array),encodedRawSplice:function(e,t){var n,i,r,a=this._map,o=this._array,s=e+t;for(n=e;n<s;n++)i=o[n],delete a[Object(Zr.a)(i)];for(ca.length=2,ca[0]=e,ca[1]=t,s=arguments.length,n=2;n<s;n++)i=arguments[n],r=Object(Zr.a)(i),a.hasOwnProperty(r)||(a[r]=e+ca.length-2,ca.push(i));return o.splice.apply(o,ca)},encodedAdd:function(e){var t=Object(Zr.a)(e),n=this._map;return!n.hasOwnProperty(t)&&(n[t]=this._array.push(e)-1,!0)},encodedRemove:function(e){var t=Object(Zr.a)(e),n=this._map;if(!n.hasOwnProperty(t))return!1;var i=n[t];delete n[t];var r=this._array,a=r[i];if(!Object.is(a,e))for(var o=this.get("length"),s=0;s<o;s++){var l=r[s];if(Object.is(l,e)){i=s;break}}return r.splice(i,1),!0},encodedContains:function(e){return sa.prototype.encodedContains.apply(this,arguments)},encodedObjectAt:function(e){return this._array[e]},length:Object(Y.c)({readOnly:!1,get:da,set:function(e){e<0&&Object(ze.b)("Invalid length %{length}. Must be a positive integer.",{length:e,object:this});var t=this.get("_internalLength"),n=t-e;n>0?this.splice(e,n):n<0&&this.splice(t,0,void 0)}}),_internalLength:Object(Y.c)({readOnly:!0,get:da}),swap:function(e,t){var n=this.objectAt(t),i=this.objectAt(e);return this.setIndex(e,la),this.setIndex(t,i),this.setIndex(e,n),this},staticMembers:{__QUALIFIED_CLASS_NAME__:"OrderedSet"}});function da(){return this._array.length}var ha=["folderContent","folderContent.changed","folderContent.loadState","folderContent.dataState","folderContent.transactionCount"],fa=Ge.a.extend(Ni.a,{isOverQuota:X.b({defaultValue:!0}),selection:X.b(),folderContent:X.b(),isEditing:X.b(!1),remoteActionService:X.b(),webServicesConfiguration:Y.c(),determineShouldAllowMoveItemsToFolder:function(e,t,n){return n.acceptsItems(e)},determineShouldAllowChangeDirectory:function(e,t){return!0},determineShouldAllowSelection:function(e){if(Se.a(e,Ea)){var t=this.selectableFileTypes;return!(e.isFile&&t&&!t.contains(e.extension))}return!1},determineShouldAllowDragAndDropUploadToDestination:function(e){var t=this.folderContent,n=jr.a(t,"folder");return!this.isEditing&&ma(e,this.isOverQuota)&&(e!==n||e===n&&pa(t))},shouldAllowDownloading:X.b({defaultValue:!1,readOnly:!0,dependencies:["selection"].concat(ha),get:function(){var e=this.selection;return pa(this.folderContent)&&va(e)&&ba(e)}}),shouldAllowNewFolder:X.b({defaultValue:!1,readOnly:!0,dependencies:["selection","folderContent.folder.sharedFolderFromHierarchy.fullShareRecordHash"].concat(ha),get:function(){var e=this.folderContent;return pa(e)&&function(e){return e.folder.isSharedToMe?!Ia(e.folder)&&!Sa(e.folder):e.folder.isDriveRoot||e.folder.depth<60}(e)}}),shouldAllowMoveToTrash:X.b({defaultValue:!1,readOnly:!0,dependencies:["selection"].concat(ha),get:function(){var e=this.selection;return pa(this.folderContent)&&va(e)&&function(e){var t=!1,n=!1,i=!1;return e.forEach((function(e){var r=e.isAppLibrary;t|=r,n|=!r,i|=e.transactionState!==Jr.Prepared})),!!(t^n)&&!i}(e)&&!Sa(e.createIterator().value)}}),shouldAllowEmailFiles:X.b({defaultValue:!1,readOnly:!0,dependencies:["selection"].concat(ha),get:function(){var e=this.selection,t=this.folderContent,n=this.webServicesConfiguration;return pa(t)&&n&&n.hasWebService("mail")&&n.isWebServiceActive("mail")&&va(e)&&ba(e)}}),shouldAllowInfoPopover:X.b({defaultValue:!1,readOnly:!0,dependencies:["folderContent","selection"].concat(ha),get:function(){var e=this.selection;return pa(this.folderContent)&&_a(e)}}),shouldAllowMoveItems:X.b({defaultValue:!1,readOnly:!0,dependencies:["selection"].concat(ha),get:function(){var e=this.selection;return e&&e.length&&!e.some((function(e){return e.type.value===Xr.APP_LIBRARY}))}}),shouldAllowSharing:X.b({defaultValue:!1,readOnly:!0,dependencies:["selection"].concat(ha),get:function(){var e,t=this.selection,n=this.folderContent,i=ga(t)?jr.a(n,"folder"):_a(t)?t.createIterator().value:null;return pa(n)&&bt.a(i)&&!((e=i).isSystemFolder||e.isAppLibrary||e.isFolder&&"iCloud.com.apple.homeroom"===e.zone)&&!e.isInTrash&&e.transactionState===Jr.Prepared}}),shouldAllowUploading:X.b({defaultValue:!1,readOnly:!0,dependencies:["isOverQuota","selection","folderContent.folder.sharedFolderFromHierarchy.fullShareRecordHash"].concat(ha),get:function(){var e=this.folderContent,t=jr.a(e,"folder");return pa(e)&&ma(t,this.isOverQuota)}}),selectableFileTypes:X.b({type:ua,set:function(e){if(e instanceof Array)return ua.create(e)}}),isItemShared:X.b({defaultValue:!1,readOnly:!0,dependencies:["selection"].concat(ha),get:function(){var e=this.selection,t=this.folderContent,n=ga(e)?jr.a(t,"folder"):_a(e)?e.createIterator().value:null;return pa(t)&&bt.a(n)&&(n.isSharedByMe||n.isSharedToMe)}}),sharingListener:Ni.f("shouldAllowSharing","isItemShared","remoteActionService",(function(e,t,n){this.remoteActionService&&this.remoteActionService.updateSharePolicy({shouldAllowSharing:e,isItemShared:t})})),uploadListener:Ni.f("shouldAllowUploading",(function(e){this.remoteActionService&&this.remoteActionService.updateUploadPolicy(e)})),downloadListener:Ni.f("shouldAllowDownloading",(function(e){this.remoteActionService&&this.remoteActionService.updateDownloadPolicy(e)})),moveToTrashListener:Ni.f("shouldAllowMoveToTrash",(function(e){this.remoteActionService&&this.remoteActionService.updateDeletePolicy(e)})),staticMembers:{__QUALIFIED_CLASS_NAME__:"ActionPolicy"}});function pa(e){return e&&e.hasLoadedContent}function ma(e,t){return!t&&!Sa(e)&&!Ia(e)}function ga(e){return bt.a(e)&&0===e.size}function va(e){return bt.a(e)&&e.size>0}function _a(e){return bt.a(e)&&1===e.size}function ba(e){return!e.some((function(e){return!e.isFile||e.transactionState!==Jr.Prepared}))}function ya(e){return!bt.a(e)||"READ_ONLY"===e.currentUserParticipant.permission}function Sa(e){var t=jr.a(e,"sharedFolderFromHierarchy.fullShareRecordHash");return Boolean(jr.a(e,"isSharedIndirectly")&&jr.a(e,"isSharedToMe"))&&ya(t)}function Ia(e){var t=jr.a(e,"fullShareRecordHash");return Boolean(jr.a(e,"isSharedDirectly")&&jr.a(e,"isFolder")&&jr.a(e,"isSharedToMe"))&&ya(t)}var wa=ne.b("BRApp.ItemTypeEnum",{FILE:"FILE",FOLDER:"FOLDER",APP_LIBRARY:"APP_LIBRARY"}),Ea=Mr.extend({staticMembers:{createPlaceholder:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xr.UNKNOWN,i=this;if(bt.a(e)||n!==Xr.UNKNOWN||Re.b.warn("Placeholder DriveFS Item created without proper drivews prefix!"),bt.a(e))return i.__s._$T3$createPlaceholder.call(i,e,t);var r=ii.a();return i.__s._$T3$createPlaceholder.call(i,n+"::"+r+"::"+r,t)},validateItemIsVisible:function(e){return!/^\./.test(e.name)},validateItemNameIsNotEmpty:function(e){return 0!==e.name.length},validateItemNameInvalidCharacters:function(e){return!e.name.match(/[:\n\r]/g)},validateItemNameIsUnique:function(e,t,n){var i;return!(i=e.isFile?n.findFileWithNameAndExtension(t,e.extension):n.findFolderWithName(t))||i.id===e.id&&e.name===t},__superMap:{_$T3$createPlaceholder:"createPlaceholder"},__QUALIFIED_CLASS_NAME__:"Item"},clientId:Ur(),dateExpiration:Ur({type:Date}),dateModified:Ur({type:Date}),deleted:Ur(),docwsid:Ur(),nonAliasedDocWsId:Y.c({get:function(){return this.isSharedDirectly&&this.isSharedToMe?this.shareID.recordName:this.docwsid}}),id:Ur({isPrimaryKey:!0}),isChainedToParent:Ur(),isDeleted:Ur({decode:function(e){return!!e}}),etag:Ur(),lastOpenTime:Ur({type:Date}),owner:Ur({firstName:null,lastName:null,appleId:null}),parentId:Ur(),restorePath:Ur(),sanitizedName:Ur({dataKey:"name"}),share:Ur({encode:function(e){return e},decode:function(e){return Yr.getItemForValue(e)}}),shareID:Ur(),sharingToken:Ur(),shortGUID:Ur(),size:Ur(),type:Ur({encode:function(e){return e},decode:function(e){return wa.getItemForValue(e)}}),zone:Ur(),canBeMoved:X.b({dependencies:["transactionState"],readOnly:!0,get:function(){return!this.isSystemFolder&&!this.isAppLibrary&&this.canEdit&&this.transactionStateIsPrepared()}}),canBeRenamed:X.b({readOnly:!0,dependencies:["isSharedToMe","isSharedIndirectly","sharedFolderFromHierarchy.fullShareRecordHash","transactionState"],get:function(){return!Sa(this)&&this.transactionStateIsPrepared()}}),canDelete:X.b(!0),canEdit:X.b(!0),ckContentRecordTag:Y.c({get:function(){var e=this.etag;if(this.isFile){var t=e.split("::");t&&t.length>1&&(e=t[1])}return e},set:function(e){if(this.isFile){var t=this.etag.split("::")[0];this.etag=t+"::"+e}else this.etag=e}}),ckRecordHash:Y.c({readOnly:!0,get:function(){var e,t,n=this._ckRecordHashCached;n||(n={},this._ckRecordHashCached=n),this.isFolder?(e="directory",t="structure"):(e="documentContent",t="content"),n.recordName=e+"/"+this.docwsid,n.recordType=t,n.recordChangeTag=this.ckContentRecordTag,n.shortGUID=this.shortGUID;var i=this.shareID;return i?this.share===Yr.BY_ME?n.share=i:n.share={recordName:i.shareName}:delete n.share,n}}),contextualType:X.b({readOnly:!0,dependencies:["idParts","share","parent.contextualType"],get:Object.assign((function(){var e=this.idParts,t=this.share,n=this.parent,i=jr.a(n,"contextualType"),r=t===Yr.BY_ME,a=bt.a(i)&&(i===Xr.SHARED_BY_ME_FOLDER||i===Xr.FOLDER_IN_SHARED_BY_ME_FOLDER),o=bt.a(e)?e[0]:null,s=!!this.isSystemFolder;return bt.a(o)?s?Xr.FOLDER:"APP_LIBRARY"===o?Xr.APP_LIBRARY:"FILE_IN_SHARED_FOLDER"===o?Xr.FILE_IN_SHARED_TO_ME_FOLDER:"FOLDER_IN_SHARED_FOLDER"===o?Xr.FOLDER_IN_SHARED_TO_ME_FOLDER:"SHARED_FILE"===o?Xr.SHARED_TO_ME_FILE:"SHARED_FOLDER"===o?Xr.SHARED_TO_ME_FOLDER:r?"FOLDER"===o?Xr.SHARED_BY_ME_FOLDER:Xr.SHARED_BY_ME_FILE:a?"FOLDER"===o?Xr.FOLDER_IN_SHARED_BY_ME_FOLDER:Xr.FILE_IN_SHARED_BY_ME_FOLDER:"FOLDER"===o?Xr.FOLDER:Xr.FILE:Xr.UNKNOWN}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[1+n]),o=this.parent,s=jr.a(o,"contextualType"),l=a===Yr.BY_ME,c=bt.a(s)&&(s===Xr.SHARED_BY_ME_FOLDER||s===Xr.FOLDER_IN_SHARED_BY_ME_FOLDER),u=bt.a(r)?r[0]:null,d=!!this.isSystemFolder;return bt.a(u)?d?Xr.FOLDER:"APP_LIBRARY"===u?Xr.APP_LIBRARY:"FILE_IN_SHARED_FOLDER"===u?Xr.FILE_IN_SHARED_TO_ME_FOLDER:"FOLDER_IN_SHARED_FOLDER"===u?Xr.FOLDER_IN_SHARED_TO_ME_FOLDER:"SHARED_FILE"===u?Xr.SHARED_TO_ME_FILE:"SHARED_FOLDER"===u?Xr.SHARED_TO_ME_FOLDER:l?"FOLDER"===u?Xr.SHARED_BY_ME_FOLDER:Xr.SHARED_BY_ME_FILE:c?"FOLDER"===u?Xr.FOLDER_IN_SHARED_BY_ME_FOLDER:Xr.FILE_IN_SHARED_BY_ME_FOLDER:"FOLDER"===u?Xr.FOLDER:Xr.FILE:Xr.UNKNOWN}})}),depth:Y.c({readOnly:!0,get:function(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}}),fullName:X.b(null),idParts:X.b({readOnly:!0,dependencies:["id"],get:Object.assign((function(){var e=this.id;return bt.a(e)?e.split("::"):null}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return bt.a(r)?r.split("::"):null}})}),isAppLibrary:Y.c({readOnly:!0,get:function(){return this.type===wa.APP_LIBRARY}}),isFile:Y.c({readOnly:!0,get:function(){return this.type===wa.FILE}}),isFolder:Y.c({readOnly:!0,get:function(){return this.type===wa.FOLDER||this.type===wa.APP_LIBRARY}}),isInTrash:X.b({readOnly:!0,dependencies:["parent.isInTrash"],get:function(){var e=this.parent;return Boolean(e&&e.isInTrash)}}),isSharedByMe:X.b({readOnly:!0,dependencies:["contextualType"],get:Object.assign((function(){var e=this.contextualType;return e===Xr.SHARED_BY_ME_FILE||e===Xr.SHARED_BY_ME_FOLDER||e===Xr.FILE_IN_SHARED_BY_ME_FOLDER||e===Xr.FOLDER_IN_SHARED_BY_ME_FOLDER}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r===Xr.SHARED_BY_ME_FILE||r===Xr.SHARED_BY_ME_FOLDER||r===Xr.FILE_IN_SHARED_BY_ME_FOLDER||r===Xr.FOLDER_IN_SHARED_BY_ME_FOLDER}})}),isSharedToMe:X.b({readOnly:!0,dependencies:["contextualType"],get:Object.assign((function(){var e=this.contextualType;return e===Xr.SHARED_TO_ME_FILE||e===Xr.SHARED_TO_ME_FOLDER||e===Xr.FILE_IN_SHARED_TO_ME_FOLDER||e===Xr.FOLDER_IN_SHARED_TO_ME_FOLDER}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r===Xr.SHARED_TO_ME_FILE||r===Xr.SHARED_TO_ME_FOLDER||r===Xr.FILE_IN_SHARED_TO_ME_FOLDER||r===Xr.FOLDER_IN_SHARED_TO_ME_FOLDER}})}),isSharedDirectly:X.b({readOnly:!0,dependencies:["contextualType"],get:Object.assign((function(){var e=this.contextualType;return e===Xr.SHARED_BY_ME_FILE||e===Xr.SHARED_TO_ME_FILE||e===Xr.SHARED_BY_ME_FOLDER||e===Xr.SHARED_TO_ME_FOLDER}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r===Xr.SHARED_BY_ME_FILE||r===Xr.SHARED_TO_ME_FILE||r===Xr.SHARED_BY_ME_FOLDER||r===Xr.SHARED_TO_ME_FOLDER}})}),isSharedIndirectly:X.b({readOnly:!0,dependencies:["isSharedDirectly","isSharedByMe","isSharedToMe"],get:Object.assign((function(){return(this.isSharedByMe||this.isSharedToMe)&&!this.isSharedDirectly}),{__CW__getter:function(e,t,n,i){return(i.internalGet(this,t[1+n])||i.internalGet(this,t[2+n]))&&!i.internalGet(this,t[0+n])}})}),isSharedDirectlyOrIndirectly:X.b({readOnly:!0,dependencies:["isSharedByMe","isSharedToMe"],get:Object.assign((function(){return this.isSharedByMe||this.isSharedToMe}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])||i.internalGet(this,t[1+n])}})}),isUploading:X.b(!1),name:X.b({dependencies:["sanitizedName"],get:Object.assign((function(){var e=this.sanitizedName;return e&&(this.isFile||this.isFolder)&&(e=e.replace(/:/g,"/")),e||""}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r&&(this.isFile||this.isFolder)&&(r=r.replace(/:/g,"/")),r||""}}),set:Object.assign((function(e){return(this.isFile||this.isFolder)&&(e=e.replace(/\//g,":")),this.sanitizedName=e,e}),{__CW__setter:function(e,t,n,i,r){return(this.isFile||this.isFolder)&&(e=e.replace(/\//g,":")),n[0+i]=e,e}}),writeDependencySetPathMap:[!1]}),parent:Gr({dataKey:"parentId",type:"Folder"}),fullShareRecordHash:X.b(null),path:X.b({dependencies:["parent.path"],readOnly:!0,get:Object.assign((function(){var e=this.getPath("parent.path"),t=e?e.slice():[];return t.push(this),t}),{__CW__getter:function(e,t,n,i){var r=i.internalGetPath(this,t[0+n]),a=r?r.slice():[];return a.push(this),a}})}),ownerFromHierarchy:X.b({readOnly:!0,dependencies:["isSharedByMe","isSharedToMe","owner","parent.ownerFromHierarchy"],get:Object.assign((function(){var e=this.parent,t=this.isSharedByMe,n=this.isSharedToMe;return t||n?this.isSharedDirectly?this.owner:bt.a(e)?e.ownerFromHierarchy:null:null}),{__CW__getter:function(e,t,n,i){var r=this.parent,a=i.internalGet(this,t[0+n]),o=i.internalGet(this,t[1+n]);return a||o?this.isSharedDirectly?i.internalGet(this,t[2+n]):bt.a(r)?r.ownerFromHierarchy:null:null}})}),sharedFolderFromHierarchy:X.b({readOnly:!0,dependencies:["isSharedByMe","isSharedToMe","isSharedDirectly","parent.sharedFolderFromHierarchy"],get:Object.assign((function(){var e=this.parent,t=this.isSharedByMe,n=this.isSharedToMe,i=this.isFolder,r=this.isSharedDirectly;return t||n?i&&r?this:bt.a(e)?e.sharedFolderFromHierarchy:null:null}),{__CW__getter:function(e,t,n,i){var r=this.parent,a=i.internalGet(this,t[0+n]),o=i.internalGet(this,t[1+n]),s=this.isFolder,l=i.internalGet(this,t[2+n]);return a||o?s&&l?this:bt.a(r)?r.sharedFolderFromHierarchy:null:null}})}),shareIDFromHierarchy:X.b({readOnly:!0,dependencies:["isSharedByMe","isSharedToMe","shareID","parent.shareIDFromHierarchy"],get:Object.assign((function(){var e=this.parent,t=this.shareID,n=this.isSharedByMe,i=this.isSharedToMe;return n||i?bt.a(t)?t:bt.a(e)?e.shareIDFromHierarchy:null:null}),{__CW__getter:function(e,t,n,i){var r=this.parent,a=i.internalGet(this,t[2+n]),o=i.internalGet(this,t[0+n]),s=i.internalGet(this,t[1+n]);return o||s?bt.a(a)?a:bt.a(r)?r.shareIDFromHierarchy:null:null}})}),uploadProgress:X.b(null),zoneIDHash:Y.c({readOnly:!0,get:function(){var e=this._zoneIDHashCached;if(!e){var t=this.share;e=t&&t===Yr.TO_ME?this.shareID.zoneID:{zoneName:this.zone},this._zoneIDHashCached=e}return e}}),_ckRecordHashCached:null,_zoneIDHashCached:null,transactionState:X.b(Jr.Prepared),getDateExpiration:function(){for(var e=this;e instanceof Object;){var t=e.dateExpiration;if(t instanceof Date)return t;e=e.parent}},transactionStateIsPrepared:function(){return this.transactionState===Jr.Prepared},transactionStateIsStaged:function(){return this.transactionState===Jr.Staged},transactionStateIsCommitting:function(){return this.transactionState===Jr.Committing},validateItemIsVisible:function(){return this.constructor.validateItemIsVisible(this)},validateItemNameIsNotEmpty:function(){return this.constructor.validateItemNameIsNotEmpty(this)},validateItemNameInvalidCharacters:function(){return this.constructor.validateItemNameInvalidCharacters(this)},validateItemNameIsUnique:function(e,t){return this.constructor.validateItemNameIsUnique(this,e,t)}}),Ca=ne.b("SizeClass",{COMPACT:"COMPACT",REGULAR:"REGULAR"}),Aa=ne.b("BRApp.IconDisplaySizes",(function(e){e("EXTRA_LARGE"),e("LARGE"),e("EXTRA_MEDIUM"),e("MEDIUM"),e("REGULAR")})),Ta={staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",styles:{display:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"displayStyle",attributes:{},unit:null,property:"display"}}}}},visible:X.b(!0),displayStyle:X.b({readOnly:!0,dependencies:["visible"],get:Object.assign((function(){return!0===this.visible?void 0:"none"}),{__CW__getter:function(e,t,n,i){return!0===i.internalGet(this,t[0+n])?void 0:"none"}})})},Oa=n(313),Da=n(725),Ma=n(238),Na=n(98),Fa=n(93),La=n(70),Ra=-1,xa=++Na.f.typeCount,Pa={memory:Na.f,typeId:xa,count:0,activeCount:0,arrayCount:0,dumpStats:function(){return"Variable: "+this.count+"; "+this.activeCount+" active"},alloc:function(){var e=-1;return Ra>0?(e=Ra,0===(Ra=this.memory.INT_32[e>>2])&&ze.b("Next free item is NULL; this is not right.")):(e=Na.b(64,8),this.count++),this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.INT_32[e+40>>2]=0,this.memory.INT_32[e+44>>2]=-1,this.memory.INT_32[e+48>>2]=-1,this.memory.INT_32[e+52>>2]=-1,this.memory.INT_32[e+56>>2]=-1,this.memory.UINT_8[e+60>>0]=0,this.activeCount++,e},allocArray:function(e){var t=64*e,n=Na.a(t);return this.memory.INT_32[1+(n>>2)]=e,this._initArray(n),this.arrayCount++,n},free:function(e){e<0||(this.clear(e),this.memory.INT_32[e>>2]=Ra,Ra=e,this.activeCount--)},freeShallow:function(e){e<0||(this.clearShallow(e),this.memory.INT_32[e>>2]=Ra,Ra=e,this.activeCount--)},freeArray:function(e){e<0||(this._disposeArray(e),Na.c(e),this.arrayCount--)},clear:function(e){e<0||(this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.INT_32[e+40>>2]=0,this.memory.INT_32[e+44>>2]=-1,Fa.Animation.free(this.memory.INT_32[e+48>>2]),this.memory.INT_32[e+48>>2]=-1,Fa.Animation.free(this.memory.INT_32[e+52>>2]),this.memory.INT_32[e+52>>2]=-1,this.memory.INT_32[e+56>>2]=-1,this.memory.UINT_8[e+60>>0]=0)},clearShallow:function(e){e<0||(this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.INT_32[e+40>>2]=0,this.memory.INT_32[e+44>>2]=-1,this.memory.INT_32[e+48>>2]=-1,this.memory.INT_32[e+52>>2]=-1,this.memory.INT_32[e+56>>2]=-1,this.memory.UINT_8[e+60>>0]=0)},_disposeArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],n=0;n<t;n++){var i=e+8+64*n;this.clear(i)}},_initArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],n=0;n<t;n++){var i=e+8+64*n;this.clearShallow(i)}},clone:function(e){var t=this.alloc();return Na.e(e,t,16),this._cloneFieldsFrom(t,e),t},_cloneFieldsFrom:function(e,t){var n=-1,i=-1;i=(n=this.memory.INT_32[e+48>>2])>0?Fa.Animation.clone(n):-1,this.memory.INT_32[e+48>>2]=i,i=(n=this.memory.INT_32[e+52>>2])>0?Fa.Animation.clone(n):-1,this.memory.INT_32[e+52>>2]=i},dump:function(e,t){if(t||(t=[]),t.indexOf(e)>=0)return"Circular reference";t.push(e);var n={offset:this.memory.FLOAT_64[e+0>>3],finalValue:this.memory.FLOAT_64[e+8>>3],velocity:this.memory.FLOAT_64[e+16>>3],acceleration:this.memory.FLOAT_64[e+24>>3],value:this.memory.FLOAT_64[e+32>>3],dataFlowNode:this.memory.INT_32[e+40>>2],nextScheduledVariable:function(){var n=this.memory.INT_32[e+44>>2];return n>0?Pa.dump(n,t):null}.bind(this)(),baseAnimation:function(){var n=this.memory.INT_32[e+48>>2];return n>0?Fa.Animation.dump(n,t):null}.bind(this)(),animation:function(){var n=this.memory.INT_32[e+52>>2];return n>0?Fa.Animation.dump(n,t):null}.bind(this)(),previousScheduledVariable:function(){var n=this.memory.INT_32[e+56>>2];return n>0?Pa.dump(n,t):null}.bind(this)(),flags:this.memory.UINT_8[e+60>>0]};return t.pop(),n},dumpArray:function(e,t){for(var n=this.memory.INT_32[1+(e>>2)],i=[],r=0;r<n;r++)i.push(this.dump(e+8+64*r,t));return{array:i,length:n,allocatedSpace:this.memory.INT_32[e>>2]}},arrayFromJSArray:function(e,t){for(var n=e.length,i=this.allocArray(n),r=0;r<n;r++){var a=e[r],o=i+8+64*r;Na.e(a,o,16),t?this.freeShallow(a):this._cloneFieldsFrom(o,a)}return i},putArrayIntoJSArray:function(e,t,n){var i=this.memory.INT_32[1+(e>>2)];t.length=i;for(var r=0;r<i;r++)t[r]=e+8+64*r},itemAtIndex:function(e,t){return e+8+64*t},lengthForArray:function(e){return this.memory.INT_32[1+(e>>2)]},getOffset:function(e){return this.memory.FLOAT_64[e+0>>3]},setOffset:function(e,t){this.memory.FLOAT_64[e+0>>3]=t},getFinalValue:function(e){return this.memory.FLOAT_64[e+8>>3]},setFinalValue:function(e,t){this.memory.FLOAT_64[e+8>>3]=t},getVelocity:function(e){return this.memory.FLOAT_64[e+16>>3]},setVelocity:function(e,t){this.memory.FLOAT_64[e+16>>3]=t},getAcceleration:function(e){return this.memory.FLOAT_64[e+24>>3]},setAcceleration:function(e,t){this.memory.FLOAT_64[e+24>>3]=t},getValue:function(e){return this.memory.FLOAT_64[e+32>>3]},setValue:function(e,t){this.memory.FLOAT_64[e+32>>3]=t},getDataFlowNode:function(e){return this.memory.INT_32[e+40>>2]},setDataFlowNode:function(e,t){this.memory.INT_32[e+40>>2]=t},getNextScheduledVariable:function(e){return this.memory.INT_32[e+44>>2]},setNextScheduledVariable:function(e,t){this.memory.INT_32[e+44>>2],this.memory.INT_32[e+44>>2]=t},takeNextScheduledVariable:function(e){var t=this.memory.INT_32[e+44>>2];return this.memory.INT_32[e+44>>2]=-1,t},getBaseAnimation:function(e){return this.memory.INT_32[e+48>>2]},setBaseAnimation:function(e,t){var n=this.memory.INT_32[e+48>>2];this.memory.INT_32[e+48>>2]=t,n>0&&Fa.Animation.free(n)},takeBaseAnimation:function(e){var t=this.memory.INT_32[e+48>>2];return this.memory.INT_32[e+48>>2]=-1,t},getAnimation:function(e){return this.memory.INT_32[e+52>>2]},setAnimation:function(e,t){var n=this.memory.INT_32[e+52>>2];this.memory.INT_32[e+52>>2]=t,n>0&&Fa.Animation.free(n)},takeAnimation:function(e){var t=this.memory.INT_32[e+52>>2];return this.memory.INT_32[e+52>>2]=-1,t},getPreviousScheduledVariable:function(e){return this.memory.INT_32[e+56>>2]},setPreviousScheduledVariable:function(e,t){this.memory.INT_32[e+56>>2],this.memory.INT_32[e+56>>2]=t},takePreviousScheduledVariable:function(e){var t=this.memory.INT_32[e+56>>2];return this.memory.INT_32[e+56>>2]=-1,t},getFlags:function(e){return this.memory.UINT_8[e+60>>0]},setFlags:function(e,t){this.memory.UINT_8[e+60>>0]=t},getWantsFreed:function(e){return 1&this.memory.UINT_8[e+60>>0]},setWantsFreed:function(e,t){var n=this.memory.UINT_8[e+60>>0];t?n|=1:n&=-2,this.memory.UINT_8[e+60>>0]=n},getIsScheduled:function(e){return 2&this.memory.UINT_8[e+60>>0]},setIsScheduled:function(e,t){var n=this.memory.UINT_8[e+60>>0];t?n|=2:n&=-3,this.memory.UINT_8[e+60>>0]=n},getIsInFrame:function(e){return 4&this.memory.UINT_8[e+60>>0]},setIsInFrame:function(e,t){var n=this.memory.UINT_8[e+60>>0];t?n|=4:n&=-5,this.memory.UINT_8[e+60>>0]=n}};Na.g(Pa),Na.h(Pa.typeId,Pa);var ka=-1,Ua=Date.now(),ja=!1,Ba=-1,Va=-1,$a=[],Wa=-1,za=[],Ga=!1,Ha=!1;function Ka(){if(Ga)Ha=!0;else{Ga=!0,ja=!1;var e,t=-1,n=Date.now(),i=Math.max(n-Ua,1);for(za.length=0,t=Ba;t>0;)so(e=La.Callback.getMethod(t),n),t=La.Callback.getNextCallback(e);for(var r=ka,a=-1;r>0;)za.push(r),Pa.setIsScheduled(r,!1),Pa.setIsInFrame(r,!0),a=Pa.getNextScheduledVariable(r),Pa.setPreviousScheduledVariable(r,-1),Pa.setNextScheduledVariable(r,-1),r=a;ka=-1;var o=0,s=za.length;for(o=0;o<s;o++)r=za[o],Pa.getWantsFreed(r)||Ya(r,i);for(xi.a.pause(),o=0;o<s;o++)r=za[o],Pa.setIsInFrame(r,!1),Pa.getWantsFreed(r)?no(r):xi.a.setNodeToDirtyFromParent(Pa.getDataFlowNode(r));for(xi.a.resume(),t=Va;t>0;)so(e=La.Callback.getMethod(t),n),t=La.Callback.getNextCallback(e);Ga=!1,Ha&&(Ha=!1,Ka())}}function Qa(){ja||(Ua=Date.now(),ja=!0,Da.a((function(){Ka()})))}function qa(e){if(Pa.getIsScheduled(e)){var t=Pa.getPreviousScheduledVariable(e),n=Pa.getNextScheduledVariable(e);t>0?Pa.setNextScheduledVariable(t,n):ka=n,n>0&&Pa.setPreviousScheduledVariable(n,t),Pa.setIsScheduled(e,!1)}}function Ya(e,t){var n=Pa.getAnimation(e);if(!(n<1)){var i=Fa.Animation.getAnimator(n);i<1&&ze.b("No animator in animation"),Fa.Animation.getAnimatorType(n).tick(i,e,t)}}var Xa=[],Ja=0;function Za(e,t){var n=Pa.getAnimation(e);if(n!==t){var i,r=Ja>0?Xa[--Ja]:[],a=0;if(n>0&&n!==Pa.getBaseAnimation(e)){var o=Fa.Animation.getAnimator(n);o<1&&ze.b("No animator in the old animation"),Fa.Animation.getAnimatorType(n).stop(o,e);for(var s=Fa.Animation.getFirstCallback(n);s>0;)a=La.Callback.getMethod(s),r.push(a),s=La.Callback.getNextCallback(s);Fa.Animation.setFirstCallback(n,-1)}if(Pa.setValue(e,to(e)),Pa.setOffset(e,0),t>0){var l=Fa.Animation.getAnimator(t);l<1&&ze.b("No animator in the new animation"),Fa.Animation.getAnimatorType(t).start(l,e)}Pa.setAnimation(e,t);for(var c=0;c<r.length;c++)so(a=r[c],e),oo(a);(i=r).length=0,Xa[Ja++]=i}}function eo(e){Pa.setVelocity(e,0),Pa.setAcceleration(e,0),Za(e,Pa.getBaseAnimation(e))}function to(e){return Pa.getValue(e)+Pa.getOffset(e)}function no(e){if(Pa.getIsInFrame(e))Pa.setWantsFreed(e,!0);else{qa(e),eo(e);var t=Pa.getDataFlowNode(e);xi.a.freeNode(t),Pa.free(e)}}var io=Ma.a.extend({isCacheable:!0,calculateValueForNode:function(e,t){return Pa.getValue(e)}}).create();function ro(e,t){var n=Fa.Animation.alloc();return Fa.Animation.setAnimator(n,e,t),n}function ao(e){var t=Wa;t>=0?(Wa=$a[t],$a[t]=e):(t=$a.length,$a.push(e));var n=La.Callback.alloc();return La.Callback.setMethod(n,t),n}function oo(e){$a[e]=Wa,Wa=e}function so(e,t){$a[e](t)}var lo={frame:Ka,requestFrame:Qa,requestFrameForVariable:function(e){Pa.getIsScheduled(e)||(ka>0&&Pa.setPreviousScheduledVariable(ka,e),Pa.setNextScheduledVariable(e,ka),ka=e,Pa.setIsScheduled(e,!0),Qa())},cancelRequestedFrameForVariable:qa,addPreFrameCallback:function(e){var t=ao(e),n=Ba;return La.Callback.setNextCallback(t,n),n>0&&La.Callback.setPreviousCallback(n,t),Ba=t,t},removePreFrameCallback:function(e){var t=La.Callback.getPreviousCallback(e),n=La.Callback.takeNextCallback(e),i=La.Callback.getMethod(e);n>0&&La.Callback.setPreviousCallback(n,t),t>0?La.Callback.setNextCallback(t,n):(Ba=n,La.Callback.free(e)),oo(i)},addPostFrameCallback:function(e){var t=ao(e),n=Ba;return La.Callback.setNextCallback(t,n),n>0&&La.Callback.setPreviousCallback(n,t),Ba=t,t},removePostFrameCallback:function(e){var t=La.Callback.getPreviousCallback(e),n=La.Callback.takeNextCallback(e),i=La.Callback.getMethod(e);n>0&&La.Callback.setPreviousCallback(n,t),t>0?La.Callback.setNextCallback(t,n):(Va=n,La.Callback.free(e)),oo(i)},setAnimationForVariable:Za,stopAnimatingVariable:eo,getValueForVariable:to,setValueForVariable:function(e,t){eo(e),Pa.setValue(e,t),Pa.setFinalValue(e,t),xi.a.setNodeToDirtyFromParent(Pa.getDataFlowNode(e))},rebaseCurrentValueForVariable:function(e,t){Pa.setOffset(e,t-Pa.getValue(e))},getFinalValueForVariable:function(e){return Pa.getFinalValue(e)+Pa.getOffset(e)},rebaseFinalValueForVariable:function(e,t){Pa.setOffset(e,t-Pa.getFinalValue(e))},performFrameForVariable:Ya,allocVariable:function(){var e=Pa.alloc(),t=xi.a.allocNode(io,e);return Pa.setDataFlowNode(e,t),e},freeVariable:no,getDataFlowNodeForVariable:function(e){return Pa.getDataFlowNode(e)},createAnimationWithAnimator:ro,addCallbackToAnimation:function(e,t){"function"!==typeof t&&ze.b("addCallbackToAnimation expected a callback");var n=ao(t),i=Fa.Animation.takeFirstCallback(e);return La.Callback.setNextCallback(n,i),i>0&&La.Callback.setPreviousCallback(i,n),Fa.Animation.setFirstCallback(e,n),n},defineAnimator:function(e,t){t.createData||ze.b("An implementation of createData must be passed to defineAnimator");var n=Object.create(e),i=++Na.f.typeCount;return Object.assign(n,{typeId:i,freeData:Vr.a,tick:Vr.a,start:Vr.a,stop:Vr.a,free:function(t){this.freeData(t),e.free(t)},createAnimation:function(){var e=this.createData.apply(this,arguments);return ro(e,this)}},t),Na.h(i,n),n}},co=-1,uo=++Na.f.typeCount,ho={memory:Na.f,typeId:uo,count:0,activeCount:0,arrayCount:0,dumpStats:function(){return"SmoothAnimatorData: "+this.count+"; "+this.activeCount+" active"},alloc:function(){var e=-1;return co>0?(e=co,0===(co=this.memory.INT_32[e>>2])&&ze.b("Next free item is NULL; this is not right.")):(e=Na.b(128,8),this.count++),this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.FLOAT_64[e+40>>3]=0,this.memory.FLOAT_64[e+48>>3]=0,this.memory.FLOAT_64[e+56>>3]=0,this.memory.FLOAT_64[e+64>>3]=0,this.activeCount++,e},allocArray:function(e){var t=128*e,n=Na.a(t);return this.memory.INT_32[1+(n>>2)]=e,this._initArray(n),this.arrayCount++,n},free:function(e){e<0||(this.clear(e),this.memory.INT_32[e>>2]=co,co=e,this.activeCount--)},freeShallow:function(e){e<0||(this.clearShallow(e),this.memory.INT_32[e>>2]=co,co=e,this.activeCount--)},freeArray:function(e){e<0||(this._disposeArray(e),Na.c(e),this.arrayCount--)},clear:function(e){e<0||(this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.FLOAT_64[e+40>>3]=0,this.memory.FLOAT_64[e+48>>3]=0,this.memory.FLOAT_64[e+56>>3]=0,this.memory.FLOAT_64[e+64>>3]=0)},clearShallow:function(e){e<0||(this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.FLOAT_64[e+40>>3]=0,this.memory.FLOAT_64[e+48>>3]=0,this.memory.FLOAT_64[e+56>>3]=0,this.memory.FLOAT_64[e+64>>3]=0)},_disposeArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],n=0;n<t;n++){var i=e+8+128*n;this.clear(i)}},_initArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],n=0;n<t;n++){var i=e+8+128*n;this.clearShallow(i)}},clone:function(e){var t=this.alloc();return Na.e(e,t,32),this._cloneFieldsFrom(t,e),t},_cloneFieldsFrom:function(e,t){},dump:function(e,t){if(t||(t=[]),t.indexOf(e)>=0)return"Circular reference";t.push(e);var n={duration:this.memory.FLOAT_64[e+0>>3],elapsedTime:this.memory.FLOAT_64[e+8>>3],startValue:this.memory.FLOAT_64[e+16>>3],endValue:this.memory.FLOAT_64[e+24>>3],startVelocity:this.memory.FLOAT_64[e+32>>3],startAcceleration:this.memory.FLOAT_64[e+40>>3],startJerk:this.memory.FLOAT_64[e+48>>3],startSnap:this.memory.FLOAT_64[e+56>>3],startCrackle:this.memory.FLOAT_64[e+64>>3]};return t.pop(),n},dumpArray:function(e,t){for(var n=this.memory.INT_32[1+(e>>2)],i=[],r=0;r<n;r++)i.push(this.dump(e+8+128*r,t));return{array:i,length:n,allocatedSpace:this.memory.INT_32[e>>2]}},arrayFromJSArray:function(e,t){for(var n=e.length,i=this.allocArray(n),r=0;r<n;r++){var a=e[r],o=i+8+128*r;Na.e(a,o,32),t?this.freeShallow(a):this._cloneFieldsFrom(o,a)}return i},putArrayIntoJSArray:function(e,t,n){var i=this.memory.INT_32[1+(e>>2)];t.length=i;for(var r=0;r<i;r++)t[r]=e+8+128*r},itemAtIndex:function(e,t){return e+8+128*t},lengthForArray:function(e){return this.memory.INT_32[1+(e>>2)]},getDuration:function(e){return this.memory.FLOAT_64[e+0>>3]},setDuration:function(e,t){this.memory.FLOAT_64[e+0>>3]=t},getElapsedTime:function(e){return this.memory.FLOAT_64[e+8>>3]},setElapsedTime:function(e,t){this.memory.FLOAT_64[e+8>>3]=t},getStartValue:function(e){return this.memory.FLOAT_64[e+16>>3]},setStartValue:function(e,t){this.memory.FLOAT_64[e+16>>3]=t},getEndValue:function(e){return this.memory.FLOAT_64[e+24>>3]},setEndValue:function(e,t){this.memory.FLOAT_64[e+24>>3]=t},getStartVelocity:function(e){return this.memory.FLOAT_64[e+32>>3]},setStartVelocity:function(e,t){this.memory.FLOAT_64[e+32>>3]=t},getStartAcceleration:function(e){return this.memory.FLOAT_64[e+40>>3]},setStartAcceleration:function(e,t){this.memory.FLOAT_64[e+40>>3]=t},getStartJerk:function(e){return this.memory.FLOAT_64[e+48>>3]},setStartJerk:function(e,t){this.memory.FLOAT_64[e+48>>3]=t},getStartSnap:function(e){return this.memory.FLOAT_64[e+56>>3]},setStartSnap:function(e,t){this.memory.FLOAT_64[e+56>>3]=t},getStartCrackle:function(e){return this.memory.FLOAT_64[e+64>>3]},setStartCrackle:function(e,t){this.memory.FLOAT_64[e+64>>3]=t}};Na.g(ho),Na.h(ho.typeId,ho);var fo,po=lo.defineAnimator(ho,{createData:function(e,t,n){var i=this.alloc();return this.setDuration(i,t),this.setEndValue(i,e),this.setStartValue(i,void 0===n?Number.MAX_VALUE:n),i},start:function(e,t){this.setElapsedTime(e,0);var n=this.getStartValue(e);n===Number.MAX_VALUE&&(n=Pa.getValue(t));var i=this.getEndValue(e),r=i-n,a=this.getDuration(e),o=Pa.getVelocity(t),s=Pa.getAcceleration(t),l=(10*r-3*a*(s*a+2*o))/Math.pow(a,3),c=(a*(3*s*a+8*o)-15*r)/Math.pow(a,4),u=(6*r-a*(s*a+3*o))/Math.pow(a,5);this.setStartValue(e,n),this.setStartVelocity(e,o),this.setStartAcceleration(e,s),this.setStartJerk(e,l),this.setStartSnap(e,c),this.setStartCrackle(e,u),Pa.setFinalValue(t,i),lo.requestFrameForVariable(t)},tick:function(e,t,n){if((n+=this.getElapsedTime(e))<this.getDuration(e)){var i,r=this.getStartValue(e),a=this.getStartVelocity(e),o=this.getStartAcceleration(e),s=this.getStartJerk(e),l=this.getStartSnap(e),c=this.getStartCrackle(e);i=r+a*n+o*Math.pow(n,2)+s*Math.pow(n,3)+l*Math.pow(n,4)+c*Math.pow(n,5);var u=a+2*o*n+3*s*Math.pow(n,2)+4*l*Math.pow(n,3)+5*c*Math.pow(n,4),d=2*o+6*s*n+12*l*Math.pow(n,2)+20*c*Math.pow(n,3);Pa.setValue(t,i),Pa.setVelocity(t,u),Pa.setAcceleration(t,d),lo.requestFrameForVariable(t)}else Pa.setValue(t,this.getEndValue(e)),Pa.setVelocity(t,0),Pa.setAcceleration(t,0),lo.stopAnimatingVariable(t);this.setElapsedTime(e,n)},stop:function(e,t){}}),mo={mixinDependencies:[Ni.a],isAnimating:X.b({readOnly:!0,dependencies:["animationsInProgress"],get:Object.assign((function(){return this.animationsInProgress>0}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])>0}})}),animationsInProgress:X.b(0),_animatedVariables:ut.b(Array),dispose:function(){for(var e=this,t=arguments,n=this._animatedVariables,i=0,r=n.length;i<r;i++)lo.freeVariable(n[i]);e.__s._$D1$dispose.apply(e,t)},animate:function(e,t,n,i){return this.animateWithAnimator(e,po,t,n,i)},animateWithAnimator:function(e,t,n){var i=Oa.a(arguments,0,2),r=n,a=null,o=i[i.length-1],s=typeof o;"function"!==s&&"undefined"!==s&&null!==o||(a=i.pop());var l=this.getAdaptedCurrentValueForTarget(e,r);i.push(l),r=this.processTargetValue(e,r),i[0]=r;var c=t.createAnimation.apply(t,i);return this.animateWithAnimation(e,c,a),c},animateWithAnimation:function(e,t,n){var i=xi.a.getContextForNode(this.downstreamNodes[e]);return n&&lo.addCallbackToAnimation(t,n),this.set("animationsInProgress",this.get("animationsInProgress")+1),lo.addCallbackToAnimation(t,function(){this.set("animationsInProgress",this.get("animationsInProgress")-1)}.bind(this)),lo.setAnimationForVariable(i,t),t},getAdaptedCurrentValueForTarget:function(e,t){var n=this._properties[e].adaptStartingLocationForTarget,i=xi.a.getContextForNode(this.downstreamNodes[e]),r=lo.getValueForVariable(i);return n&&(r=n(this,e,r,t)),r},processTargetValue:function(e,t){var n=t,i=this._properties[e].set;return i&&(n=i(this,e,n)),n},resetAnimation:function(e){var t=this._properties[e],n=t.get,i=t.set,r=xi.a.getContextForNode(this.downstreamNodes[e]);if(n||i){var a=lo.getValueForVariable(r);n&&(a=n.call(this,this,e,a)),i&&(a=i.call(this,this,e,a)),lo.setValueForVariable(r,a)}else lo.stopAnimatingVariable(r)},getFinalValue:function(e){var t=xi.a.getContextForNode(this.downstreamNodes[e]),n=lo.getFinalValueForVariable(t),i=this._properties[e].get;return i&&(n=i.call(this,this,e,n)),n},rebaseCurrentValue:function(e,t){var n=xi.a.getContextForNode(this.downstreamNodes[e]);lo.rebaseCurrentValueForVariable(n,t)},rebaseFinalValue:function(e,t){var n=xi.a.getContextForNode(this.downstreamNodes[e]);lo.rebaseFinalValueForVariable(n,t)},__superMap:{_$D1$dispose:"dispose"}};fo=X.a.extend({init:function(e,t){this.defaultValue=e,this.priority=t,this.get||(this.usesBuiltinGet=!0),this.set||(this.usesBuiltinSet=!0),this.__s._$2Hi$init.call(this,e)},initForObject:function(e,t){var n=lo.allocVariable(),i=lo.getDataFlowNodeForVariable(n);lo.setValueForVariable(n,this.defaultValue),e.downstreamNodes[t]=i,e._animatedVariables.push(n)},setInitialValueForObject:function(){},wasRegistered:function(e){this.finalGetForObject=this.usesBuiltinGet?this.getForObject:this.getForObjectWithGetter,this.finalSetForObject=this.usesBuiltinSet?this.setForObject:this.setForObjectWithSetter,this.setUpNativeAccessors(e)},getForObjectWithGetter:function(e,t){var n=xi.a.getContextForNode(e.downstreamNodes[t]);return this.get(e,t,lo.getValueForVariable(n))},setForObjectWithSetter:function(e,t,n){var i=xi.a.getContextForNode(e.downstreamNodes[t]);lo.set(i,this.set(e,t,n))},getForObject:function(e,t){var n=e.downstreamNodes;if(n){var i=xi.a.getContextForNode(n[t]);return lo.getValueForVariable(i)}},setForObject:function(e,t,n){var i=e.downstreamNodes;if(i){var r=xi.a.getContextForNode(i[t]);lo.setValueForVariable(r,n)}},setUpNativeAccessors:function(e){var t=this,n=this.key;Object.defineProperty(e,n,{get:function(){return t.getForObject(this,n)},set:function(e){return t.setForObject(this,n,e)},configurable:!0})},requiresSupport:mo,__superMap:{_$2Hi$init:"init"}});var go=function(e){return fo.create(e)},vo={mixinDependencies:[mo],scale:go(1),opacity:go(1),_updateDOMForAnimation:Ni.f("scale","opacity",(function(e,t){this.get("style").scale(e).set("opacity",t)}))},_o=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"cssClassnameForDisplaySize",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"ShowcaseView"},prepareForReuse:Vr.a,displaySize:X.b(),cssClassnameForDisplaySize:X.b()}),bo=Di.a.extend({mixinDependencies:[vo,Ta],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",classes:["file-icon",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"iconClassNameOrDefault",attributes:{}}],styles:{display:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"hasIcon",truevalue:"",falsevalue:"none",attributes:{},unit:null,property:"display"}}},{type:"ELEMENT",tagname:"div",children:[{type:"TEXT",data:"\n                            "},{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"extText",attributes:{}},{type:"TEXT",data:"\n                        "}],classes:["file-extension",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"extSize",attributes:{}}],styles:{display:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"hasIcon",truevalue:"none",attributes:{},unit:null,property:"display"}}}],classes:["file-icon-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasSharedFolderAdornment",truevalue:"has-shared-folder-adornment",attributes:{}}]}],classes:["x-showcase","x-file"]}},__QUALIFIED_CLASS_NAME__:"GenericFileShowcaseView"},iconService:Y.c(),content:X.b(),fileExt:X.b({readOnly:!0,dependencies:["content"],get:Object.assign((function(){var e=this.content;if(e){var t=e.extension;return"string"===typeof t?t:void 0}}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(r){var a=r.extension;return"string"===typeof a?a:void 0}}})}),hasSharedFolderAdornment:X.b(J.c("content.isSharedIndirectly")),hasIcon:X.b(!1),iconClassName:X.b("blank"),iconClassNameOrDefault:X.b({readOnly:!0,dependencies:["iconClassName"],get:Object.assign((function(){return this.iconClassName||"blank"}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])||"blank"}})}),extText:X.b({readOnly:!0,dependencies:["hasIcon","fileExt"],get:Object.assign((function(){if(!this.hasIcon){var e=this.fileExt;if(!("string"!==typeof e||e.length>7))return e}}),{__CW__getter:function(e,t,n,i){if(!i.internalGet(this,t[0+n])){var r=i.internalGet(this,t[1+n]);if(!("string"!==typeof r||r.length>7))return r}}})}),extSize:X.b({readOnly:!0,dependencies:["extText"],get:Object.assign((function(){var e=this.extText;if("string"===typeof e){var t=e.length;return t<4?"size-default":4===t||5===t?"size-"+t:t<8?"size-long":void 0}}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if("string"===typeof r){var a=r.length;return a<4?"size-default":4===a||5===a?"size-"+a:a<8?"size-long":void 0}}})})}),yo={key:null,keynote:null,"key-tef":null,"keynote-tef":null,kth:null,pages:null,"pages-tef":null,template:null,numbers:null,"numbers-tef":null,nmbtemplate:null},So=_o.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"genericShowcaseView"},{type:"VIEWOUTLET",tagname:"view",name:"appIconShowcaseView"},{type:"VIEWOUTLET",tagname:"view",name:"staticSharedFolderAdornmentView"},{type:"VIEWOUTLET",tagname:"view",name:"thumbnailShowcaseView"}],classes:["x-showcase","x-file"]}},__QUALIFIED_CLASS_NAME__:"FileShowcaseView"},showcaseViewPool:Y.c(),iconService:Y.c(),thumbnailCanvasFactory:Y.c(),thumbnailStatsReporterService:Y.c(),content:X.b({didChange:function(e){e&&this.thumbnailStatsReporterService.registerFile(e)}}),fileType:X.b({readOnly:!0,dependencies:["content"],get:Object.assign((function(){var e=this.content;if(e){var t=e.extension;return"string"===typeof t&&t.length>0?t:void 0}}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(r){var a=r.extension;return"string"===typeof a&&a.length>0?a:void 0}}})}),showThumbnailsWhenAvailable:!0,init:function(e,t,n,i,r){this.iconService=e,this.showcaseViewPool=t,this.thumbnailCanvasFactory=n,this.thumbnailStatsReporterService=i,this.__s._$m4$init.call(this,r)},forceCenterAlignment:Y.c(!1),suspendThumbnailLoading:function(){if(!this._thumbnailLoadingIsPaused){this._thumbnailLoadingIsPaused=!0;var e=this.thumbnailShowcaseView;e&&e.suspendThumbnailLoading()}},resumeThumbnailLoading:function(){if(this._thumbnailLoadingIsPaused){this._thumbnailLoadingIsPaused=!1;var e=this.thumbnailShowcaseView;e&&e.resumeThumbnailLoading()}},prepareForReuse:function(){this.__s._$11a$prepareForReuse.call(this),this._thumbnailLoadingIsPaused||(this._thumbnailLoadingIsPaused=!0);var e=this.thumbnailShowcaseView;e&&e.prepareForReuse(),this.content=null},_thumbnailLoadingIsPaused:X.b(!1),iconClassName:X.b({readOnly:!0,dependencies:["fileType"],get:Object.assign((function(){var e=this.fileType;return!(!e||"string"!==typeof e)&&this.iconService.getGlyphClassNameForFileType(e)}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return!(!r||"string"!==typeof r)&&this.iconService.getGlyphClassNameForFileType(r)}})}),_fileDetails:X.b({readOnly:!0,dependencies:["fileType","content"],get:Object.assign((function(){if(this.content){var e=this.fileType,t="string"===typeof e?e.toLowerCase():"UNK",n=t in yo;return{fileType:t,canvasClassName:n?"pages"===this.iconService._getContainerTypeForAppLibrary(t)?"iwork-icon-pages":"iwork-icon":"app-icon",iconPrerendered:n,isIWorkFile:n,displaySize:this.displaySize}}}),{__CW__getter:function(e,t,n,i){if(i.internalGet(this,t[1+n])){var r=i.internalGet(this,t[0+n]),a="string"===typeof r?r.toLowerCase():"UNK",o=a in yo;return{fileType:a,canvasClassName:o?"pages"===this.iconService._getContainerTypeForAppLibrary(a)?"iwork-icon-pages":"iwork-icon":"app-icon",iconPrerendered:o,isIWorkFile:o,displaySize:this.displaySize}}}})}),iconURL:X.b({readOnly:!0,dependencies:["_fileDetails"],get:Object.assign((function(){var e=this._fileDetails;if(e)return this.showcaseViewPool.getIconURL(e)}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(r)return this.showcaseViewPool.getIconURL(r)}})}),hasIcon:X.b({readOnly:!0,dependencies:["iconClassName","iconURL"],get:Object.assign((function(){return"string"===typeof this.iconClassName||"string"===typeof this.iconURL}),{__CW__getter:function(e,t,n,i){return"string"===typeof i.internalGet(this,t[0+n])||"string"===typeof i.internalGet(this,t[1+n])}})}),genericShowcaseView:X.b({readOnly:!0,strong:!0,get:function(){return bo.create({iconService:this.iconService,content:this.bindingFor("content"),iconClassName:this.bindingFor("iconClassName"),hasIcon:this.bindingFor("hasIcon")})}}),_appIconShowcaseView:void 0,appIconShowcaseView:X.b({readOnly:!0,strong:!0,dependencies:["content","iconURL","_fileDetails"],get:Object.assign((function(){var e=this._appIconShowcaseView;if(e&&(this.showcaseViewPool.releaseShowcaseView(e),this._appIconShowcaseView=void 0),this.content){var t=this.iconURL;if("string"===typeof t){var n=this.showcaseViewPool,i=this._fileDetails,r=n.createShowcaseViewReuseIdentifier(i),a=n.getShowcaseViewFromCacheWithReuseIdentifier(r);return a||(a=n.createAppIconShowcaseViewFromFileDetails(i,t,r)),this._appIconShowcaseView=a}}}),{__CW__getter:function(e,t,n,i){var r=this._appIconShowcaseView;if(r&&(this.showcaseViewPool.releaseShowcaseView(r),this._appIconShowcaseView=void 0),i.internalGet(this,t[0+n])){var a=i.internalGet(this,t[1+n]);if("string"===typeof a){var o=this.showcaseViewPool,s=i.internalGet(this,t[2+n]),l=o.createShowcaseViewReuseIdentifier(s),c=o.getShowcaseViewFromCacheWithReuseIdentifier(l);return c||(c=o.createAppIconShowcaseViewFromFileDetails(s,a,l)),this._appIconShowcaseView=c}}}})}),staticSharedFolderAdornmentView:X.b({readOnly:!0,strong:!0,dependencies:["content.isSharedIndirectly"],get:Object.assign((function(){if(this.displaySize===Aa.REGULAR&&this.content.isSharedIndirectly)return Di.a.extend({mixinDependencies:[vo,Ta],additionalClassNames:["shared-folder-adornment"]}).create()}),{__CW__getter:function(e,t,n,i){if(this.displaySize===Aa.REGULAR&&i.internalGetPath(this,t[0+n]))return Di.a.extend({mixinDependencies:[vo,Ta],additionalClassNames:["shared-folder-adornment"]}).create()}})}),_thumbnailShowcaseView:void 0,thumbnailShowcaseView:X.b({readOnly:!0,strong:!0,dependencies:["content","content.etag","_thumbnailLoadingIsPaused","displaySize"],get:Object.assign((function(){var e=this._thumbnailShowcaseView;e&&(e.suspendThumbnailLoading(),this.showcaseViewPool.releaseShowcaseView(e),this._thumbnailShowcaseView=void 0);var t=this.content;if(t&&t.docwsid&&this.showThumbnailsWhenAvailable){var n=this.showcaseViewPool,i=n.createThumbnailShowcaseViewUniqueIdentifier(t,this.displaySize),r=n.getShowcaseViewFromCacheWithReuseIdentifier(i);if(!r&&!this._thumbnailLoadingIsPaused){var a=this.thumbnailCanvasFactory.createThumbnailShowcaseViewForFile(t,this.displaySize,i,this.forceCenterAlignment);if(!a.success)return void("PAUSED"===a.reason?this._thumbnailLoadingIsPaused=!0:Re.b.error("Unexpected failure getting ThumbnailShowcaseView!"));r=a.thumbnailShowcaseView}return r&&!this._thumbnailLoadingIsPaused&&(r.isReadyForDisplay()?t.etag!==t.thumbnailMetadata.etag&&r.update():r.startLoading()),this._thumbnailShowcaseView=r}}),{__CW__getter:function(e,t,n,i){var r=this._thumbnailShowcaseView;r&&(r.suspendThumbnailLoading(),this.showcaseViewPool.releaseShowcaseView(r),this._thumbnailShowcaseView=void 0);var a=i.internalGet(this,t[0+n]);if(a&&a.docwsid&&this.showThumbnailsWhenAvailable){var o=this.showcaseViewPool,s=o.createThumbnailShowcaseViewUniqueIdentifier(a,i.internalGet(this,t[3+n])),l=o.getShowcaseViewFromCacheWithReuseIdentifier(s);if(!l&&!i.internalGet(this,t[2+n])){var c=this.thumbnailCanvasFactory.createThumbnailShowcaseViewForFile(a,i.internalGet(this,t[3+n]),s,this.forceCenterAlignment);if(!c.success)return void("PAUSED"===c.reason?this._thumbnailLoadingIsPaused=!0:Re.b.error("Unexpected failure getting ThumbnailShowcaseView!"));l=c.thumbnailShowcaseView}return l&&!i.internalGet(this,t[2+n])&&(l.isReadyForDisplay()?a.etag!==a.thumbnailMetadata.etag&&l.update():l.startLoading()),this._thumbnailShowcaseView=l}}})}),_opacityUpdater:Ni.f({inputs:["genericShowcaseView","appIconShowcaseView","thumbnailShowcaseView","appIconShowcaseView.updated","thumbnailShowcaseView.updated","staticSharedFolderAdornmentView"],callback:function(e,t,n,i,r,a){var o=[];n&&n.isReadyForDisplay()?o.push(n):t?(o.push(e,t),a&&o.push(a)):(o.push(e),a&&o.push(a));for(var s=r instanceof Object,l=0,c=[e,t,a,n];l<c.length;l++){var u=c[l];if(u instanceof Object){var d=o.includes(u),h=d?1:0;s?(d&&(u.visible=d),u.animate("opacity",h,500)):(u.visible=d,u.opacity=h)}}}}),__superMap:{_$m4$init:"init",_$11a$prepareForReuse:"prepareForReuse"}}),Io=n(319),wo=n(269),Eo=Ge.a.extend(wo.a,{_cookieString:null,_cookiesObj:null,getCookies:function(){var e=document.cookie;if(this._cookieString===e)return this._cookiesObj;var t={};if(this._cookieString=e,e)for(var n=e.split(";"),i=0,r=n.length;i<r;i++){var a=n[i].split("="),o=a.shift().trim(),s=a.join("=").trim();t[o]=s}return this._cookiesObj=t},getCookie:function(e){return this.getCookies()[e]},removeCookie:function(e,t,n){var i=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT";t&&(i=i+"; domain="+t),n&&(i=i+"; path="+n),document.cookie=i},removeCookies:function(e,t,n){var i,r;if(e instanceof Array)for(i=0,r=e.length;i<r;i++)this.removeCookie(e[i],t,n);else{var a=document.cookie.split(";");for(i=0,r=a.length;i<r;i++){var o=a[i],s=o.indexOf("="),l=s>-1?o.substr(0,s):o;e.test(l)&&this.removeCookie(l,t,n)}}},setCookie:function(e,t){var n=e+"="+t+";";document.cookie=n},staticMembers:{__QUALIFIED_CLASS_NAME__:"CookieManager"}}),Co={getListOfAvailableCookiesAsConcatenatedString:function(){for(var e=this.getListOfAvailableCookiesAsHash(),t=Object.keys(e),n="",i=0;i<t.length;i++){var r=t[i];n+=r+":"+e[r]+";"}return n},getListOfAvailableCookiesAsHash:function(){return Eo.create().getCookies()}},Ao=[[4352,4607],[11904,12031],[12032,12255],[12288,12351],[12352,12447],[12448,12543],[12544,12591],[12592,12687],[12688,12703],[12704,12735],[12800,13055],[13056,13311],[13312,19893],[19968,40959],[40960,42127],[42128,42191],[44032,55203],[63744,64255],[65072,65103]],To=function(e){var t,n=Ao;if(!e)return!1;for(var i=0,r=n.length;i<r;++i)if(e>=(t=n[i])[0]&&e<=t[1])return!0;return!1},Oo=function(e){if(0===(e=e.trim()).length)return!1;for(var t=0,n=e.length-1;t<=n;)if(!To(e.charCodeAt(t++))||!To(e.charCodeAt(n--)))return!1;return!0};function Do(e){var t="function"===typeof Map?new Map:void 0;return(Do=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return Mo(e,arguments,Lo(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Fo(i,e)})(e)}function Mo(e,t,n){return(Mo=No()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&Fo(r,n.prototype),r}).apply(null,arguments)}function No(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Fo(e,t){return(Fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lo(e){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ro=function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this).name="SerializationError",n}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(Do(Error));function xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Po={serialize:function(){var e=this.getMetadataByType(Y.a),t={};for(var n in $o(this),e){var i=e[n],r=i.key,a=i.serialization;if(!a||!a.ignore){var o=Uo(this,i);void 0!==o&&(t[ko(r,a)]=o)}}return t},staticMembers:{deserialize:function(e){var t=void 0;if(e&&ue.a(e)){var n=(t=this.create()).getMetadataByType(Y.a);for(var i in n){var r=n[i],a=r.key,o=r.serialization,s=e[ko(a,o)];o&&o.ignore||(t[a]=Bo(t,s,r))}$o(t)}return t}}};function ko(e,t){var n=e;if(t){var i=t.propertyName;i&&"string"===typeof i&&i.length>0&&(n=i)}return n}function Uo(e,t,n){var i=t.key,r=t.type,a=t.getForObject(e);return Wo(r)?function(e,t,n,i){var r;if(n){r=[];for(var a=0,o=n.length;a<o;a++){var s=n[a];r.push(jo(e,t,s))}}return r}(e,i,a):zo(r)?function(e,t,n,i){var r;if(n){r={};for(var a,o=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return xo(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xo(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(n);!(a=o()).done;){var s=a.value,l=s[0],c=s[1];r[l]=jo(e,t,c)}}return r}(e,i,a):jo(e,i,a)}function jo(e,t,n){var i;if(void 0!==n&&null!==n)if(n.isObject){if(!n||!n.hasMixin(Po))throw new Ro("["+ct.a(e)+"] Property "+t+" does not support serialization");n&&(i=n.serialize())}else i=n;return i}function Bo(e,t,n){var i=n.type,r=n.key;return Wo(i)?function(e,t,n){var i,r=n.key,a=n.serialization;if(t){var o=Object;if(a){var s=a.collectionObjectType;s&&(o=s)}i=[];for(var l=0,c=t.length;l<c;l++){var u=t[l];i.push(Vo(e,r,o,u))}}return i}(e,t,n):zo(i)?function(e,t,n){var i,r=n.key,a=n.serialization;if(t){var o=Object;if(a){var s=a.collectionObjectType;s&&(o=s)}for(var l in i=new Map,t){var c=t[l];i.set(l,Vo(e,r,o,c))}}return i}(e,t,n):Vo(e,r,i,t)}function Vo(e,t,n,i){var r,a="string"===typeof(r=n)?Go(r):"function"===typeof r&&Go(typeof r());if(i&&!a){if(n.hasMixin(Po))return n.deserialize(i);throw new Ro("["+ct.a(e)+"] Property "+t+" does not support serialization")}return i}function $o(e){var t=e.getMetadataByType(Y.a),n=[];for(var i in t){var r=t[i],a=r.validators,o=r.key;if(a){for(var s=[],l=0;l<a.length;l++){var c=a[l];c.validate(r.getForObject(e),o,e)||s.push(c.message)}if(s&&s.length>0){var u="Validation for field "+o+" failed - "+s.join(", ")+".";n.push(u)}}}if(n&&n.length>0)throw new Ro("["+ct.a(e)+"] "+n.join(" "))}function Wo(e){return"function"===typeof e&&Array.isArray(new e)}function zo(e){return"function"===typeof e&&new e instanceof Map}function Go(e){return"string"===e||"number"===e||"boolean"===e||"object"===e}var Ho=ne.b("UserType",{REGULAR:"Regular",MAID:"ManagedAppleID",LITE:"Lite"}),Ko=Ge.a.extend(Ni.a,{mixinDependencies:[Po],staticMembers:{displayNameForComponents:function(e){var t,n,i=e.givenName,r=e.familyName,o=e.emailAddress,s=e.phoneNumber,l=e.nickname,c=e.companyName,u=l||i;return u&&r&&(n=Oo(u)&&Oo(r)?"Name.Display.NameIsCJK.FirstAndFamilyNames":"Name.Display.FirstAndFamilyNames",t=a.d(n,{firstName:u,familyName:r})),qo(t)||(t=qo(u)||qo(r)||qo(o)||qo(s)||qo(c)),t},__QUALIFIED_CLASS_NAME__:"AuthenticatedUser"},dsid:X.b({type:String}),alternateDSID:X.b({type:String,serialization:{propertyName:"aDsID"}}),firstName:X.b({type:String}),lastName:X.b({type:String}),fullName:X.b({type:String}),appleId:X.b({type:String}),statusCode:X.b({type:Number}),appleIdEntries:X.b({type:Array}),isManagedAppleID:X.b({type:Boolean}),brMigrated:Y.c({type:Boolean}),tantorMigrated:Y.c({type:Boolean}),completedAuthenticationStep:X.b({type:Number}),totalAuthenticationSteps:X.b({type:Number}),isAuthenticated:X.b({dependencies:["completedAuthenticationStep","totalAuthenticationSteps"],type:Boolean,readOnly:!0,get:Object.assign((function(){var e=this.completedAuthenticationStep,t=this.totalAuthenticationSteps;return e>0&&e===t}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[1+n]);return r>0&&r===a}}),serialization:{ignore:!0}}),isMAIDAccount:X.b({dependencies:["isManagedAppleID"],readOnly:!0,type:Boolean,get:Object.assign((function(){return this.isManagedAppleID}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])}}),serialization:{ignore:!0}}),isiCloudLiteAccount:X.b({dependencies:["statusCode"],readOnly:!0,type:Boolean,get:Object.assign((function(){return 4===this.statusCode}),{__CW__getter:function(e,t,n,i){return 4===i.internalGet(this,t[0+n])}}),serialization:{ignore:!0}}),hasPhoneNumberAsAppleId:X.b({dependencies:["appleIdEntries"],readOnly:!0,type:Boolean,get:Object.assign((function(){return Qo(this.appleIdEntries,"PHONE_NUMBER")}),{__CW__getter:function(e,t,n,i){return Qo(i.internalGet(this,t[0+n]),"PHONE_NUMBER")}}),serialization:{ignore:!0}}),hasEmailAddressAsAppleId:X.b({dependencies:["appleIdEntries"],readOnly:!0,type:Boolean,get:Object.assign((function(){return Qo(this.appleIdEntries,"EMAIL")}),{__CW__getter:function(e,t,n,i){return Qo(i.internalGet(this,t[0+n]),"EMAIL")}}),serialization:{ignore:!0}}),accountType:X.b({type:String}),userType:X.b({dependencies:["isMAIDAccount","isiCloudLiteAccount"],readOnly:!0,type:Ie.a,get:Object.assign((function(){var e=Ho.REGULAR;return this.isMAIDAccount?e=Ho.MAID:this.isiCloudLiteAccount&&(e=Ho.LITE),e}),{__CW__getter:function(e,t,n,i){var r=Ho.REGULAR;return i.internalGet(this,t[0+n])?r=Ho.MAID:i.internalGet(this,t[1+n])&&(r=Ho.LITE),r}}),serialization:{ignore:!0}})});function Qo(e,t){if(Nt.a(e))return!1;var n=e.find((function(e){return e.isPrimary}));return!!n&&n.type===t}function qo(e){return e&&!/^\s*$/.test(e)?e:""}var Yo={mixinDependencies:[Me.a],authenticationStepDidComplete:De.a.define(),authenticationDidComplete:De.a.define()},Xo=Ge.a.extend({mixinDependencies:[Po],user:Y.c({type:Ko,serialization:{propertyName:"dsInfo"}}),dataUserDomain:Y.c({type:String}),webServices:Y.c({type:Map,serialization:{collectionObjectType:Object}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"Session"}}),Jo={_sessionSupportSessionInfo:X.b({readOnly:!0,binding:dt.a.bindingFor("application.sessionInfo")}),_sessionSupportSessionInfoDidChange:Ni.e("_sessionSupportSessionInfo",(function(e){var t=Xo.deserialize(e);this.sessionDidChange(t)})),sessionDidChange:De.a.define()},Zo=[{domain:"icloud.com.cn",countryCode:"CHN",dataUserDomain:"cn",iCloudLogo:"icloud.cn.logo",suffix:".com.cn"},{domain:"icloud.com",countryCode:void 0,iCloudLogo:"icloud.logo",suffix:".com"}],es=Ge.a.extend(Ni.a,wo.a,{staticMembers:{subDomains:Object.freeze({WWW:"www",BETA:"beta",FUTURE:"future",CARRY:"carry"}),__QUALIFIED_CLASS_NAME__:"DomainManager"},current:X.b({type:Object,readOnly:!0,binding:J.c("_current")}),setDomainFromCountryCode:function(e){for(var t=0;t<Zo.length;++t){var n=Zo[t];if(n.countryCode===e){if(this.current.countryCode!==e){var i=de.a(n),r=this._current,a=r.domain,o=r.subdomain;i.domain=a,i.subdomain=o,this._currentFromCountryCode=i}break}}},_currentFromCountryCode:X.b(),_current:X.b({type:Object,readOnly:!0,dependencies:["_currentFromCountryCode"],get:Object.assign((function(){var e=this._currentFromCountryCode;if(!e){var t=globalThis.location.hostname.split("."),n=t.shift();if(-1===Object.values(es.subDomains).indexOf(n))return ze.b("subdomain "+n+" is not supported"),null;for(var i=t.join("."),r=0;r<Zo.length;++r){var a=Zo[r];a.domain===i&&((e=de.a(a)).subdomain=n)}}return e}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(!r){var a=globalThis.location.hostname.split("."),o=a.shift();if(-1===Object.values(es.subDomains).indexOf(o))return ze.b("subdomain "+o+" is not supported"),null;for(var s=a.join("."),l=0;l<Zo.length;++l){var c=Zo[l];c.domain===s&&((r=de.a(c)).subdomain=o)}}return r}})})}),ts={mixinDependencies:[Me.a],webServices:Ht.a.define()},ns=es.sharedInstance.current.suffix,is=new Map;function rs(e){return ss.sharedInstance.hasWebService(e)}function as(e,t){return ss.sharedInstance.urlForServiceName(e,t)}function os(e){return ss.sharedInstance.serviceNameForUrl(e)}is.set("ckdatabasews",{url:"https://ckdatabasews.icloud"+ns,status:"active"}),is.set("docws",{url:"https://docws.icloud"+ns,status:"active"}),is.set("feedbackws",cs());var ss=Ge.a.extend({mixinDependencies:[wo.a],configurationProvider:Y.c({type:ts}),webServices:Y.c({readOnly:!0,type:Map,get:function(){var e=this.configurationProvider;return e||ze.b("[WebServicesConfiguration] No configuration provider found"),e?e.webServices:void 0}}),hasWebService:function(e){var t=this.webServices;return!!t&&!!ls(t,e,"hasWebService",!1)},isWebServiceActive:function(e){var t=this.webServices;return!!t&&"active"===ls(t,e,"isWebServiceActive").status},urlForServiceName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ls(this.webServices,e,"urlForServiceName"),i=n.url;return i+"/"+t},serviceNameForUrl:function(e){var t;if(this.configurationProvider){var n=this.webServices;n&&n.forEach((function(n,i){var r=n.url;r&&(r.endsWith(":443")&&(r=r.match("(.*):443")[1]),e.startsWith(r)&&(t=i))}))}return t},staticMembers:{__QUALIFIED_CLASS_NAME__:"WebServicesConfiguration"}});function ls(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Nt.a(t)?ze.b(n+": a serviceName must be specified"):e||ze.b(n+": No services found, searched for "+t);var r=e.get(t);return r||"feedbackws"!==t?i&&!r&&ze.b(n+": Service "+t+" was not found"):(r=cs(e),e.set("feedbackws",r)),r}function cs(e){var t="";if(e&&".com.cn"===ns){var n,i=/^https:\/\/(p\d{2,})/g,r={};for(var a in e.forEach((function(e){var t=e.url,n=i.exec(t);if(n&&n.length){var a=n[1];r[a]?r[a]=1:r[a]+=1}})),r)(!n||r[a]>r[n])&&(n=a);n&&(t=n+"-")}return{url:"https://"+t+"feedbackws.icloud"+ns,status:"active"}}var us=Ge.a.extend(Ni.a,{mixinDependencies:[Jo,ts],staticMembers:{initializeWithApplication:function(e){us._frameworkInitializerInstance&&ze.b("[cloudos-kit] Framework has already been initialized"),e&&e.instanceOf(gi)||ze.b("[cloudos-kit] Framework initializer must be an instance of ProcessKit Application");var t=e.hostInfo;t||ze.b("[cloudos-kit] The application is not a child application - no host information");var n=t.clientId;n||ze.b("[cloudos-kit] The application is not a child application - no client identifier");var i=e.parentProcessReference,r=e.applicationName;i||ze.b("[cloudos-kit] The application is not a child application - no process reference"),r||ze.b("[cloudos-kit] The application is not a child application - no application name");var a=globalThis.__CW_BUILD_INFO,o={appName:r,masteringNumber:a.masteringNumber,buildNumber:a.buildNumber};us._frameworkInitializerInstance=us.create(e,o,n)},sharedInstance:Y.c({type:us,get:function(){var e=us._frameworkInitializerInstance;return e||ze.b("[cloudos-kit] The framework has not been initialized. Please ensure no API has been called before the application delegate method applicationWillFinishLaunching has been called."),e}}),_frameworkInitializerInstance:Y.c({type:us}),__QUALIFIED_CLASS_NAME__:"FrameworkInitializer"},processReference:Y.c({type:Pt,readOnly:!0,get:function(){return this._application.parentProcessReference}}),hostInfo:Y.c({type:Object,readOnly:!0,get:function(){return this._application.hostInfo}}),sessionInfo:Y.c({type:Object,readOnly:!0,get:function(){return this._application.sessionInfo}}),session:Y.c({type:Xo,readOnly:!0,get:function(){return Xo.deserialize(this.sessionInfo)}}),applicationName:Y.c({type:String,readOnly:!0,get:function(){return this.applicationInfo.appName}}),masteringBuildNumber:Y.c({readOnly:!0,type:String,get:function(){return this.applicationInfo.masteringNumber}}),buildNumber:Y.c({readOnly:!0,type:String,get:function(){return this.applicationInfo.buildNumber}}),applicationInfo:Y.c({type:Object,readOnly:!0,get:function(){return this._internalApplicationInfo}}),clientId:Y.c({type:String,readOnly:!0,get:function(){return this._internalClientId}}),webServices:Y.c({type:Map,readOnly:!0,get:function(){var e=this.session;return e?e.webServices:void 0}}),init:function(e,t,n){this.__s._$1x1$init.call(this),e||ze.b("FrameworkInitializer: init: no application specified"),t||ze.b("FrameworkInitializer: init: no application info specified"),n||ze.b("FrameworkInitializer: init: no client id specified");var i=t.appName,r=t.masteringNumber,a=t.buildNumber;i||ze.b("FrameworkInitializer: init: no applicationName specified"),r||ze.b("FrameworkInitializer: init: no mastering build number specified"),a||ze.b("FrameworkInitializer: init: no build number specified"),this._application=e,this._internalApplicationInfo=t,this._internalClientId=n,ss.sharedInstance.configurationProvider=this,this.sessionDidChange(this.session)},_internalClientId:Y.c({type:String}),_internalApplicationInfo:Y.c({type:Object}),_application:Y.c({type:gi}),sessionDidChange:function(e){if(e){var t=e.dataUserDomain;t&&es.sharedInstance.setDomainFromCountryCode(t)}},__superMap:{_$1x1$init:"init"}});function ds(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var hs,fs={frameworkInitializer:Y.c({type:us,readOnly:!0,get:function(){return us.sharedInstance}}),processReference:Y.c({type:Pt,readOnly:!0,get:function(){return this.frameworkInitializer?this.frameworkInitializer.processReference:void 0}}),remoteProxy:Y.c({type:Object,readOnly:!0,get:function(){var e=this.processReference;return e?e.remoteProxy:this._remoteProxyNotConnected}}),configureListenerOnlyMessagingChannel:function(e){var t=this.processReference;t&&t.createListenerOnlyMessagingChannel(e,this)},configureConnectionOnlyMessagingChannel:function(e,t){var n=this.processReference;n?n.createConnectionOnlyMessagingChannel(e,t):this._configureRemoteProxyNotConnected(e)},configureBidirectionalMessagingChannel:function(e,t,n,i){var r=this.processReference;r?r.createMessagingChannel(e,t,n,i):this._configureRemoteProxyNotConnected(n)},_configureRemoteProxyNotConnected:function(e){for(var t,n=ct.a(this),i=Ge.a.extend({staticMembers:{__QUALIFIED_CLASS_NAME__:n+".remoteProxyNotConnected"}}).create(),r=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return ds(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ds(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(Ve(e));!(t=r()).done;)i[t.value]=function(){var e=at.create({status:Xe.DISCONNECTED});return Z.a.resolve(e)};this._remoteProxyNotConnected=i},_remoteProxyNotConnected:Y.c({type:Object})};!function(e){e.OK="OK",e.CANCELLED="CANCELLED",e.FAILED="FAILED"}(hs||(hs={}));var ps=function(e,t){this.status=e,this.data=t,this.isOk=e===hs.OK,this.isCancelled=e===hs.CANCELLED,this.isFailed=e===hs.FAILED};ps.okResult=function(e){return new ps(hs.OK,e)},ps.cancelledResult=function(e){return new ps(hs.CANCELLED,e)},ps.failedResult=function(e){return new ps(hs.FAILED,e)};var ms={mixinDependencies:[Ne],name:"AuthenticationServiceProtocol",version:"0.0.1",authenticate:De.a.define(),unauthenticate:De.a.define()},gs={mixinDependencies:[Ne],name:"AuthenticationServiceFromChildProtocol",version:"1.0.0",authenticateUser:De.a.define(),unauthenticateUser:De.a.define(),reauthenticateUser:De.a.define(),retrieveSession:De.a.define()},vs={mixinDependencies:[Ne],name:"AuthenticationServiceToChildProtocol",version:"0.0.1",authenticationStepDidComplete:De.a.define(),authenticationDidComplete:De.a.define(),authenticationDidCancel:De.a.define(),retrieveSessionDidComplete:De.a.define(),retrieveSessionDidCancel:De.a.define()};function _s(e,t){var n;return e.isOK?(n=ps.okResult(),t&&t.hasMixin(Po)&&(n.data=t.deserialize(e.data))):n=bs(e),n}function bs(e){return ps.failedResult({status:e.status.value,underlyingError:e.error})}var ys=Ge.a.extend({mixinDependencies:[fs,vs],delegate:Y.c({type:vs}),isBackwardsCompatabilityMode:Y.c({type:Boolean}),init:function(e,t){this.__s._$Rx$init.call(this),this.delegate=t,this.isBackwardsCompatabilityMode=e,e?this.configureConnectionOnlyMessagingChannel(ms,1e11):this.configureBidirectionalMessagingChannel(vs,this,gs)},authenticate:function(){return this.isBackwardsCompatabilityMode?this.remoteProxy.authenticate().then((function(e){return function(e){return e.isOK?e.data?ps.okResult():ps.cancelledResult():bs(e)}(e)})):this.remoteProxy.authenticateUser().then((function(e){return _s(e)}))},unauthenticate:function(){var e;return this.isBackwardsCompatabilityMode?(e=Z.a.create(),this.remoteProxy.unauthenticate()):e=this.remoteProxy.unauthenticateUser(),e.then((function(e){return _s(e)}))},reauthenticate:function(e,t){return this._pendingAuthenticationInstance&&ze.b("[AuthenticationConnection] An existing authentication connection is still pending"),this._pendingAuthenticationInstance=e,this.remoteProxy.reauthenticateUser(t).then((function(e){return _s(e)}))},retrieveSession:function(e,t,n,i){return this._pendingAuthenticationInstance&&ze.b("[AuthenticationConnection] An existing authentication connection is still pending"),this._pendingAuthenticationInstance=e,this.remoteProxy.retrieveSession(t,n,i).then((function(e){return _s(e)}))},authenticationStepDidComplete:function(e){this.delegate.authenticationStepDidComplete(e)},authenticationDidComplete:function(e){this.delegate.authenticationDidComplete(e)},authenticationDidCancel:function(){this.delegate.authenticationDidCancel()},retrieveSessionDidComplete:function(e){var t=this._pendingAuthenticationInstance;t&&(t.retrieveSessionDidComplete(e),this._pendingAuthenticationInstance=void 0)},retrieveSessionDidCancel:function(){var e=this._pendingAuthenticationInstance;e&&(e.retrieveSessionDidCancel(),this._pendingAuthenticationInstance=void 0)},__superMap:{_$Rx$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"AuthenticationConnection"}}),Ss={mixinDependencies:[Me.a],authenticatedUserDidChange:De.a.define()},Is=Ge.a.extend(Ni.a,{mixinDependencies:[Jo],delegate:Y.c({type:Ss}),init:function(){this.__s._$8n$init.call(this)},sessionDidChange:function(e){var t=e&&e.user?e.user:void 0;(this._user?this._user.serialize():void 0)!==(t?t.serialize():void 0)&&(this._user=t,this.delegate.authenticatedUserDidChange(this,t))},_user:Y.c({type:Ko}),__superMap:{_$8n$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Authentication_v1"}}),ws=Ge.a.extend({mixinDependencies:[vs,Ss],staticMembers:{defaultInstance:Y.c({type:ws,readOnly:!0,get:function(){var e=this._defaultInstance;if(!e){var t=us.sharedInstance;t||ze.b("[Authentication] Authentication framework not initialized");var n=t.hostInfo,i=t.session;n||ze.b("[Authentication] Authentication host information missing");var r=n.protocolVersion;isNaN(r)&&ze.b("[Authentication] Invalid Authentication host information");var a=r<2,o=i?i.user:void 0;e=this._defaultInstance=ws.create(),a?(e._authentication_v1=Is.create(),e._authentication_v1.delegate=e,o&&(e._totalNumberOfAuthenticationSteps=2,e._completedAuthenticationStep=2)):o&&(e._totalNumberOfAuthenticationSteps=o.totalAuthenticationSteps,e._completedAuthenticationStep=o.completedAuthenticationStep),e._user=o,e._connection=this._sharedConnection=ys.create(a,e)}return e}}),_defaultInstance:Y.c({type:ws}),_sharedConnection:Y.c({type:ys}),__QUALIFIED_CLASS_NAME__:"Authentication"},delegate:Y.c({type:Yo}),totalNumberOfAuthenticationSteps:Y.c({type:Number,readOnly:!0,get:function(){return this.user?this.user.totalAuthenticationSteps:0}}),completedAuthenticationStep:Y.c({type:Number,readOnly:!0,get:function(){return this.user?this.user.completedAuthenticationStep:0}}),isAuthenticated:Y.c({readOnly:!0,type:Boolean,get:function(){return!!this.user&&this.user.isAuthenticated}}),user:Y.c({readOnly:!0,type:Ko,get:function(){return this._user}}),isBackwardsCompatibilityMode:Y.c({type:Boolean,readOnly:!0,get:function(){return void 0!==this._authentication_v1&&null!==this._authentication_v1}}),appleId:Y.c({type:Boolean,readOnly:!0,get:function(){var e=this._appleId;if(e)return e;var t=this.user;return t?t.appleId:void 0}}),init:function(e){this.__s._$2Y0$init.call(this),this._appleId=e,this._connection=ws._sharedConnection},authenticate:function(){var e=this;return this!==ws.defaultInstance&&ze.b("[Authentication] only Authentication.defaultInstance can call authenticate()"),this.isBackwardsCompatibilityMode?this._connection.authenticate():this._connection.authenticate().then((function(t){return t.isOk?e._authenticationRequestPromise=Z.a.create():t}))},unauthenticate:function(){return this!==ws.defaultInstance&&ze.b("[Authentication] only Authentication.defaultInstance can call unauthenticate()"),this._connection.unauthenticate()},reauthenticate:function(e){var t=this;return this!==ws.defaultInstance&&ze.b("[Authentication] only Authentication.defaultInstance can call unauthenticate()"),this._connection.reauthenticate(this,e).then((function(e){return e.isOk?t._authenticationSessionPromise=Z.a.create():e}))},retrieveSession:function(e,t){var n=this;return this._connection.retrieveSession(this,this._appleId,e,t).then((function(e){return e.isOk?n._authenticationSessionPromise=Z.a.create():e}))},authenticationStepDidComplete:function(e){e||ze.b("[Authentication] no user info for authentication step"),this._user=Ko.deserialize(e);var t=this.delegate;if(t){var n=this._user,i=n.completedAuthenticationStep,r=n.totalAuthenticationSteps;t.authenticationStepDidComplete(this,i,r)}},authenticationDidComplete:function(e){e||ze.b("[Authentication] no user info for authentication complete");var t=this.delegate;this._user=Ko.deserialize(e),t&&t.authenticationDidComplete(this);var n=this._authenticationRequestPromise;n&&(n.resolve(ps.okResult()),this._authenticationRequestPromise=void 0)},authenticationDidCancel:function(){var e=this._authenticationRequestPromise;e&&(e.resolve(ps.cancelledResult()),this._authenticationRequestPromise=void 0)},retrieveSessionDidComplete:function(e){var t=this._authenticationSessionPromise;t&&(t.resolve(ps.okResult(e)),this._authenticationSessionPromise=void 0)},retrieveSessionDidCancel:function(){var e=this._authenticationSessionPromise;e&&(e.resolve(ps.cancelledResult()),this._authenticationSessionPromise=void 0)},_user:Y.c({type:Ko}),_connection:Y.c({type:ys}),_authenticationRequestPromise:Y.c({type:Z.a}),_authentication_v1:Y.c({type:Is}),authenticatedUserDidChange:function(e,t){if(t){this._totalNumberOfAuthenticationSteps=2;var n=this.delegate;n?(this._completedAuthenticationStep=1,n.authenticationStepDidComplete(this,void 0,void 0,1,this._totalNumberOfAuthenticationSteps),this._completedAuthenticationStep=2,n.authenticationStepDidComplete(this,void 0,void 0,2,this._totalNumberOfAuthenticationSteps),this._user=t,n.authenticationDidComplete(this)):(this._completedAuthenticationStep=2,this._user=t)}},__superMap:{_$2Y0$init:"init"}});function Es(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Cs(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cs(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function Cs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var As=ne.b("BRApp.IconServiceIconFamilies",(function(e){e("DEFAULT"),e("APP_LIBRARY"),e("IWORK")})),Ts={"script editor":["applescript","scpt"],automator:["action","workflow","caction","definition"],keynote:["key","keynote","key-tef","keynote-tef","kth"],numbers:["numbers","numbers-tef","nmbtemplate"],pages:["pages","pages-tef","template"]},Os={keynote:n(658),"keynote-retina":n(659),"keynote-file":n(660),"keynote-file-retina":n(661),numbers:n(662),"numbers-retina":n(663),"numbers-file":n(664),"numbers-file-retina":n(665),pages:n(666),"pages-retina":n(667),"pages-file":n(668),"pages-file-retina":n(669),imovie:n(670),"imovie-retina":n(671),ibooks:n(672),"ibooks-retina":n(673),garageband:n(674),"garageband-retina":n(675),automator:n(676),"automator-retina":n(677),"automator-file":n(678),"automator-file-retina":n(679),"generic-icon":n(680),"generic-icon-retina":n(681)},Ds={key:Os.keynote,"key-tef":Os.keynote,key_retina:Os["keynote-retina"],"key-tef_retina":Os["keynote-retina"],keynote:Os.keynote,"keynote-tef":Os.keynote,kth:Os.keynote,keynote_retina:Os["keynote-retina"],"keynote-tef_retina":Os["keynote-retina"],kth_retina:Os["keynote-retina"],numbers:Os.numbers,"numbers-tef":Os.numbers,nmbtemplate:Os.numbers,numbers_retina:Os["numbers-retina"],"numbers-tef_retina":Os["numbers-retina"],nmbtemplate_retina:Os["numbers-retina"],pages:Os.pages,"pages-tef":Os.pages,template:Os.pages,pages_retina:Os["pages-retina"],"pages-tef_retina":Os["pages-retina"],template_retina:Os["pages-retina"],imovielibrary:Os.imovie,imovielibrary_retina:Os["imovie-retina"],imoviemobile:Os.imovie,imoviemobile_retina:Os["imovie-retina"],band:Os.garageband,band_retina:Os["garageband-retina"],ibooks:Os.ibooks,ibooks_retina:Os["ibooks-retina"],"br.__default":Os["generic-icon"],"br.__default_retina":Os["generic-icon-retina"],"br.__keynote-file":Os["keynote-file"],"br.__keynote-file_retina":Os["keynote-file-retina"],"br.__numbers-file":Os["numbers-file"],"br.__numbers-file_retina":Os["numbers-file-retina"],"br.__pages-file":Os["pages-file"],"br.__pages-file_retina":Os["pages-file-retina"],automator:Os.automator,action:Os.automator,workflow:Os.automator,caction:Os.automator,definition:Os.automator,automator_retina:Os.automator_retina,action_retina:Os.automator_retina,workflow_retina:Os.automator_retina,caction_retina:Os.automator_retina,definition_retina:Os.automator_retina,"br.__automator-file":Os["automator-file"],"br.__automator-file_retina":Os["automator-file-retina"]},Ms={key:"IOS","key-tef":"IOS",key_retina:"IOS","key-tef_retina":"IOS","keynote-tef":"IOS",keynote_retina:"IOS","keynote-tef_retina":"IOS",kth:"IOS",kth_retina:"IOS",numbers:"IOS","numbers-tef":"IOS",nmbtemplate:"IOS",numbers_retina:"IOS","numbers-tef_retina":"IOS",nmbtemplate_retina:"IOS",pages:"IOS","pages-tef":"IOS",pages_retina:"IOS","pages-tef_retina":"IOS",template:"IOS",template_retina:"IOS",imovielibrary:"IOS",imovielibrary_retina:"IOS",imoviemobile:"IOS",imoviemobile_retina:"IOS",band:"IOS",band_retina:"IOS",ibooks:"IOS",ibooks_retina:"IOS","br.__default":"IOS","br.__default_retina":"IOS",automator:"IOS",workflow:"IOS",action:"IOS",caction:"IOS",definition:"IOS"},Ns={png:"image",jpeg:"image",jpg:"image",gif:"image",bmp:"image",tif:"image",tiff:"image",aac:"audio",wav:"audio",m4a:"audio",m4p:"audio",aiff:"audio",midi:"audio",wave:"audio",mp3:"audio",mp4:"video",m4v:"video",mov:"video",vcf:"vcard",vcard:"vcard",eml:"email",crt:"cert",csr:"cert",ical:"cal",ics:"cal",ifb:"cal",vpn:"vpn",doc:"msword",docx:"msword",xlam:"msexcel",xls:"msexcel",xlsx:"msexcel",ppt:"msppoint",pptx:"msppoint",rtf:"rtf",txt:"txt",csv:"csv",mobileprovision:"prov-profile"},Fs=Ge.a.extend(Ni.a,{init:function(e,t){this.fileSystem=e,this.user=ws.defaultInstance.user,this.__s._$24F$init.call(this,t)},user:null,fileSystem:X.b(),_fileSystemDidFetchFolderContentObserver:Ni.f({inputs:["fileSystem.didFetchFolderContent"],callback:function(e){if(e){var t=e.context,n=t.parentFolder,i=t.content;n.isDriveRoot&&this.registerIconsForAppLibraries(i)}}}),registerIconsForAppLibraries:function(e){for(var t,n=e.length,i=0;i<n;i++){var r=e[i];if(r.get("isAppLibrary")){var a=r.get("icons");if(a){var o=r.get("sanitizedName");if(1===a.length)t=a.objectAt(0),this._updateIconMapForLibrary(o,t.url,t.type);else{var s="IOS"===a.objectAt(0).type?0:1;t=a.objectAt(s),this._updateIconMapForLibrary(o,t.url,t.type)}}}}},getGlyphClassNameForFileType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Ns[e]},getIconURL:function(e,t){switch(t){case As.APP_LIBRARY:return this._getIconURLForAppLibrary(e);case As.IWORK:return this._getIWorkIconURLForExtension(e);default:return this._getIconURLForFileType(e)}},_getIconURLForFileType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"br.__default",t=Io.a.sharedInstance.devicePixelRatio,n=t>1?"_retina":"",i=e+n,r=Ds[i];return this.isDriveWsURL(r)&&(r+="&validateToken="+this.getValidateCookie(),r+="&dsid="+this.user.dsid),r},_getIconURLForAppLibrary:function(e){if(!e)return this._getIconURLForFileType(null);var t=e.toLowerCase(),n=Ts[t];return this._getIconURLForFileType(n?n[0]:null)},_getContainerTypeForAppLibrary:function(e){var t=e.toLowerCase(),n=Ts[t];return n?n[0]:null},_iconByExt:function(){var e={},t={"br.__keynote-file":["key","keynote","key-tef","keynote-tef","kth"],"br.__numbers-file":["numbers","numbers-tef","nmbtemplate"],"br.__pages-file":["pages","pages-tef","template"]};for(var n in t)for(var i,r=Es(t[n]);!(i=r()).done;)e[i.value]=n;return e}(),_getIWorkIconURLForExtension:function(e){var t=Io.a.sharedInstance.devicePixelRatio,n=this._iconByExt[e];return Ds[(void 0===n?"br.__default":n)+(t>1?"_retina":"")]},getIconTypeForFileType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"br.__default",t=Io.a.sharedInstance.devicePixelRatio,n=t>1?"_retina":"",i=e+n;return Ms[i]},getIconTypeForAppLibrary:function(e){if(!e)return this.getIconTypeForFileType(null);var t=e.toLowerCase(),n=Ts[t];return this.getIconTypeForFileType(n?n[0]:null)},getValidateCookie:function(){var e=this.fileSystem.hostService;try{return e.getValidateToken()}catch(n){var t=Co.getListOfAvailableCookiesAsConcatenatedString();ze.b("Error in DriveUI~IconService requesting validation cookie",{error:n,cookies:t})}},isDriveWsURL:function(e){return!!e&&"drivews"===os(e)},getIconSizeForType:function(e,t){if(t){if(t===Aa.EXTRA_LARGE)return 94;if(t===Aa.EXTRA_MEDIUM)return"IOS"===e?38:"OSX"===e?40:0;if(t===Aa.MEDIUM)return"IOS"===e?20:"OSX"===e?22:0}return"IOS"===e?60:"OSX"===e?64:0},getIconCanvasSizeForType:function(e,t){return this.getIconSizeForType(e,t)},_updateIconMapForLibrary:function(e,t,n){var i=e.toLowerCase(),r=Ts[i];if(!r){var a="br._container_"+i.replace(/ /g,"");Ts[i]=[a],r=[a]}for(var o=r.length,s=0;s<o;s++){var l=r[s];Ds[l]=t,Ms[l]=n,Ds[l+="_retina"]=t,Ms[l]=n}},__superMap:{_$24F$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"IconService"}}),Ls=n(709),Rs=Ge.a.extend({isDisposed:Y.c({readOnly:!0,get:function(){return this._disposed}}),init:function(e){this.__s._$4L$init.call(this,e),this._tracer=e.tracer,this._traceGroupTag=e.traceGroupTag,this._observer=e.observer,this._disposed=!1},dispose:function(){if(!this._disposed){var e=this._tracer,t=this._traceGroupTag,n=this._observer;e.removeObserver(t,n),this._disposed=!0}},__superMap:{_$4L$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TraceObserveHandler"}}),xs=null,Ps=Ge.a.extend({staticMembers:{default:Y.c({readOnly:!0,get:function(){return xs||(xs=Ps.create()),xs}}),__QUALIFIED_CLASS_NAME__:"Tracer"},init:function(){this.__s._$IY$init.call(this),this._observers={}},addObserver:function(e,t){var n=this._observers,i=n[e];if(i||(i=n[e]=[]),!(i.indexOf(t)>=0))return i.push(t),Rs.create({tracer:this,traceGroupTag:e,observer:t})},removeObserver:function(e,t){var n=this._observers[e];n&&Ls.a(t,n)},trace:function(e,t){var n=this._observers[e];if(n){t.groupTag=e;for(var i=0,r=n.length;i<r;i++)(0,n[i])(t)}},__superMap:{_$IY$init:"init"}});function ks(e,t){Ps.get("default").trace(e,t)}var Us,js=ne.b("ImageStateEnum",["Prepared","Loading","Cancel","Loaded","Error"]),Bs=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"img",attributes:{draggable:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"isDraggable",attributes:{},attribute:"draggable"}}}},TRACE_GROUP:"brkit.image",TRACE_STATUS_LOADING_IMAGE:"loading_image",TRACE_STATUS_LOADED_IMAGE:"loaded_image",TRACE_STATUS_LOADING_IMAGE_ERROR:"loading_image_error",TRACE_STATUS_LOADING_IMAGE_CANCELLED:"loading_image_cancelled",__QUALIFIED_CLASS_NAME__:"ImageView"},additionalClassNames:Mi.a(["image"]),alwaysShow:!1,src:X.b({didChange:function(e){this.state===js.Loading&&(this._trace("loading_image_cancelled"),this.state=js.Cancel,this.removeEventListeners()),"string"===typeof e&&e.length>0?(this._loadStartTime=Date.now(),this._trace("loading_image"),this.state=js.Loading,this.addEventListeners(),this.element.src=e):(this.state=js.Prepared,this.element.src="")}}),state:X.b(js.Prepared),isLoaded:X.b({readOnly:!0,dependencies:["state"],get:Object.assign((function(){return this.state===js.Loaded}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===js.Loaded}})}),isDraggable:X.b(!1),width:X.b({readOnly:!0,dependencies:["isLoaded"],get:Object.assign((function(){return this.isLoaded?this.element.width:0}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?this.element.width:0}})}),height:X.b({readOnly:!0,dependencies:["isLoaded"],get:Object.assign((function(){return this.isLoaded?this.element.height:0}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?this.element.height:0}})}),visible:X.b({readOnly:!0,dependencies:["isLoaded"],get:Object.assign((function(){return this.alwaysShow||this.isLoaded}),{__CW__getter:function(e,t,n,i){return this.alwaysShow||i.internalGet(this,t[0+n])}})}),didPrepEventListeners:!1,prepEventListeners:function(){this.didPrepEventListeners||(this._didLoad=this._didLoad.bind(this),this._didError=this._didError.bind(this),this.didPrepEventListeners=!0)},hasEventListeners:!1,addEventListeners:function(){var e=this.element;this.prepEventListeners(),ee.a(e,"load",this._didLoad),ee.a(e,"error",this._didError),this.hasEventListeners=!0},removeEventListeners:function(){var e=this.element;Bi.a(e,"load",this._didLoad),Bi.a(e,"error",this._didError),this.hasEventListeners=!1},reset:function(){this.src=void 0},_didLoad:function(){if(this.state===js.Loading){var e=Date.now()-this._loadStartTime;this._trace("loaded_image",{duration:e}),this.state=js.Loaded,this.removeEventListeners()}},_didError:function(){this.state===js.Loading&&(this._trace("loading_image_error"),this.state=js.Error,this.removeEventListeners())},_trace:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.src=this.src,t.id=Zr.a(this),t.status=e,t.timestamp=Date.now(),ks("brkit.image",t)},dispose:function(){var e=this,t=arguments;this.hasEventListeners&&this.removeEventListeners(),e.__s._$1GA$dispose.apply(e,t)},__superMap:{_$1GA$dispose:"dispose"}}),Vs=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"imageView"}],classes:["icon-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"roundedCornerMask",truevalue:"rounded-corner-mask",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isMediumDisplaySize",truevalue:"medium",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isExtraMediumDisplaySize",truevalue:"extra-medium",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"iconClassName",attributes:{}}],styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},unit:"px",property:"width"},height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},unit:"px",property:"height"}}}},__QUALIFIED_CLASS_NAME__:"IconView"},iconClassName:X.b(),imageView:X.b({readOnly:!0,strong:!0,get:function(){return Bs.create({src:this.bindingFor("src")})}}),reuseIdentifier:null,roundedCornerMask:X.b(!0),src:X.b(""),size:X.b(60),displaySize:X.b(Aa.LARGE),backgroundColor:X.b("transparent"),error:Ni.g(),isError:X.b({readOnly:!0,dependencies:["imageView.state"],get:Object.assign((function(){return this.imageView.state===js.Error}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])===js.Error}}),didChange:function(e){this.disposed||this.isAttached&&e&&this.error()}}),_isMediumDisplaySize:X.b({readOnly:!0,dependencies:["displaySize"],get:Object.assign((function(){return this.displaySize===Aa.MEDIUM}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===Aa.MEDIUM}})}),_isExtraMediumDisplaySize:X.b({readOnly:!0,dependencies:["displaySize"],get:Object.assign((function(){return this.displaySize===Aa.EXTRA_MEDIUM}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===Aa.EXTRA_MEDIUM}})})}),$s={"com.apple.Pages":"pages","com.apple.Numbers":"numbers","com.apple.Keynote":"keynote"},Ws=_o.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"iconView"}],classes:["showcase","folder","library"]}},__QUALIFIED_CLASS_NAME__:"AppFolderShowcaseView"},init:function(e,t){this.iconService=e,this.__s._$H2$init.call(this,t)},content:X.b(),iconService:X.b(),iconView:X.b({readOnly:!0,strong:!0,get:function(){return Vs.create({iconClassName:this.bindingFor("iconClassName"),src:this.bindingFor("iconSrc"),size:this.bindingFor("iconSize"),displaySize:this.bindingFor("displaySize"),roundedCornerMask:this.bindingFor("isIOSIcon")})}}),isShowingPlaceholderIcon:X.b(J.c("iconView.isError")),iconType:X.b({readOnly:!0,dependencies:["content"],get:Object.assign((function(){var e=this.content;if(e){var t=this.iconService.getIconTypeForAppLibrary(e.sanitizedName);return"string"===typeof t?t:"IOS"}}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(r){var a=this.iconService.getIconTypeForAppLibrary(r.sanitizedName);return"string"===typeof a?a:"IOS"}}})}),iconSize:X.b({readOnly:!0,dependencies:["iconType","displaySize"],get:Object.assign((function(){return this.iconService.getIconSizeForType(this.iconType,this.displaySize)}),{__CW__getter:function(e,t,n,i){return this.iconService.getIconSizeForType(i.internalGet(this,t[0+n]),i.internalGet(this,t[1+n]))}})}),iconSrc:X.b({readOnly:!0,dependencies:["content","iconType"],get:Object.assign((function(){var e=this.content;if(e){if(!this.iconType){var t=$s[e.zone];return void 0!==t?this.iconService.getIconURL(t,As.DEFAULT):this.iconService.getIconURL(null,As.APP_LIBRARY)}return this.iconService.getIconURL(e.sanitizedName,As.APP_LIBRARY)}}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(r){if(!i.internalGet(this,t[1+n])){var a=$s[r.zone];return void 0!==a?this.iconService.getIconURL(a,As.DEFAULT):this.iconService.getIconURL(null,As.APP_LIBRARY)}return this.iconService.getIconURL(r.sanitizedName,As.APP_LIBRARY)}}})}),isIOSIcon:X.b({readOnly:!0,dependencies:["iconType"],get:Object.assign((function(){return"IOS"===this.iconType}),{__CW__getter:function(e,t,n,i){return"IOS"===i.internalGet(this,t[0+n])}})}),iconClassName:X.b({readOnly:!0,dependencies:["iconType"],get:Object.assign((function(){var e=this.iconType;if("string"===typeof e)return"OSX"===e?"mac-app-icon":"ios-app-icon"}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if("string"===typeof r)return"OSX"===r?"mac-app-icon":"ios-app-icon"}})}),__superMap:{_$H2$init:"init"}}),zs=c.CloudKit.ShareParticipantAcceptanceStatus,Gs=c.CloudKit.ShareParticipantPermission;!function(e){e.PUBLIC="PUBLIC",e.PRIVATE="PRIVATE"}(Us||(Us={}));var Hs,Ks=Us,Qs=Mr.extend({created:Ur(),fields:Ur(),modified:Ur(),recordChangeTag:Ur({type:String}),recordName:Ur({type:String}),recordType:Ur({type:String}),staticMembers:{__QUALIFIED_CLASS_NAME__:"CKRecord"}});!function(e){e.OWNER="OWNER",e.USER="USER",e.ADMINISTRATOR="ADMINISTRATOR"}(Hs||(Hs={}));var qs=Hs;function Ys(e){var t,n,i=e.givenName,r=e.familyName,o=e.emailAddress,s=e.phoneNumber,l=e.nickname,c=e.companyName,u=l||i;return u&&r&&(n=Oo(u)&&Oo(r)?"Name.Display.NameIsCJK.FirstAndFamilyNames":"Name.Display.FirstAndFamilyNames",t=a.d(n,{firstName:u,familyName:r})),Xs(t)||(t=Xs(u)||Xs(r)||Xs(o)||Xs(s)||Xs(c)),t}function Xs(e){return e&&!/^\s*$/.test(e)?e:""}var Js=n(733),Zs={1:"us",7:"ru",20:"eg",27:"za",30:"gr",31:"nl",32:"be",33:"fr",34:"es",36:"hu",39:"it",40:"ro",41:"ch",43:"at",44:"gb",45:"dk",46:"se",47:"no",48:"pl",49:"de",51:"pe",52:"mx",53:"cu",54:"ar",55:"br",56:"cl",57:"co",58:"ve",60:"my",61:"au",62:"id",63:"ph",64:"nz",65:"sg",66:"th",81:"jp",82:"kr",84:"vn",86:"cn",90:"tr",91:"in",92:"pk",93:"af",94:"lk",95:"mm",98:"ir",211:"ss",212:"ma",213:"dz",216:"tn",218:"ly",220:"gm",221:"sn",222:"mr",223:"ml",224:"gn",225:"ci",226:"bf",227:"ne",228:"tg",229:"bj",230:"mu",231:"lr",232:"sl",233:"gh",234:"ng",235:"td",236:"cf",237:"cm",238:"cv",239:"st",240:"gq",241:"ga",242:"cg",243:"cd",244:"ao",245:"gw",246:"io",247:"ac",248:"sc",249:"sd",250:"rw",251:"et",252:"so",253:"dj",254:"ke",255:"tz",256:"ug",257:"bi",258:"mz",260:"zm",261:"mg",262:"re",263:"zw",264:"na",265:"mw",266:"ls",267:"bw",268:"sz",269:"km",290:"sh",291:"er",297:"aw",298:"fo",299:"gl",350:"gi",351:"pt",352:"lu",353:"ie",354:"is",355:"al",356:"mt",357:"cy",358:"fi",359:"bg",370:"lt",371:"lv",372:"ee",373:"md",374:"am",375:"by",376:"ad",377:"mc",378:"sm",379:"va",380:"ua",381:"rs",382:"me",383:"xk",385:"hr",386:"si",387:"ba",389:"mk",420:"cz",421:"sk",423:"li",500:"fk",501:"bz",502:"gt",503:"sv",504:"hn",505:"ni",506:"cr",507:"pa",508:"pm",509:"ht",590:"gp",591:"bo",592:"gy",593:"ec",594:"gf",595:"py",596:"mq",597:"sr",598:"uy",599:"bq",672:"aq",673:"bn",674:"nr",675:"pg",676:"to",677:"sb",678:"vu",679:"fj",680:"pw",681:"wf",682:"ck",683:"nu",685:"ws",686:"ki",687:"nc",688:"tv",689:"pf",690:"tk",691:"fm",692:"mh",800:"xt",850:"kp",852:"hk",853:"mo",855:"kh",856:"la",880:"bd",886:"tw",960:"mv",961:"lb",962:"jo",963:"sy",964:"iq",965:"kw",966:"sa",967:"ye",968:"om",970:"ps",971:"ae",972:"il",973:"bh",974:"qa",975:"bt",976:"mn",977:"np",992:"tj",993:"tm",994:"az",995:"ge",996:"kg",998:"uz"},el={createFormattedString:function(e,t,n,i,r,a,o){if(!e||!t)return"";var s,l,c,u,d,h,f,p,m,g,v,_=!1,b=!1;h=-1!==(f=this.getIndexOfPauses(e,",;")),d=e,e=-1!==f?e.substr(0,f):e,l=bt.a(t)?t.length:0,g=e.length,p=/[a-zA-Z*#]/.exec(e),m=e.indexOf(p),s="",v=-1!==t.indexOf("c"),r&&!v&&(s+="+"===o?o+i+" ":o+" "+i+" ",r=!1,a=!1,u=!0),-1===t.indexOf("n")&&a&&(s+=n,u=!0);for(var y=0,S=0;y<l&&S<g;++y)switch(t[y]){case"#":isNaN(this.convertFullWidthDigits(e[S]))?(_&&bt.a(/[a-zA-Z*#]/.exec(e[S]))&&(s=s.replace("(",""),_=!1),s+=e[S],++S):(s+=e[S],b=!0,++S);break;case"(":_=!0,s+=t[y];break;case")":_&&(s+=t[y],_=!1);break;case" ":b&&""!==s&&(-1===m||S<=m)&&(s+=t[y]);break;case"n":n&&!u&&(r||a)&&(s+=n,a=!1,u=!0,b=!0);break;case"c":i&&!c&&r&&!u&&(s+=i,c=!0,b=!0);break;default:(-1===m||S<=m)&&(s+=t[y])}if(_){var I,w,E=t.indexOf(")")-t.indexOf("(")-1,C="";I=s.indexOf("("),w=s.length-1-I;for(var A=0;A<E-w;A++)C+=" ";s+=C,s+=")",_=!1}return r&&c&&(s="+"===o?o+s:o+" "+s),s=s.replace("()",""),(s+=h?d.substr(f):"")?s.replace(/\[\[9\]\]|\[\[8\]\]/g,""):""},getInternationalOrNationalAccessCode:function(e,t,n){var i,r,a,o,s,l,c,u,d;if(!t)return"";if(e=e.replace(" ",""),!(r=n?t.nationalAccessCode:t.internationalAccessCode))return"";a="",r=r.split(",");for(var h=0;h<r.length;++h)if(u=(s=(s=r[h])?s.replace(/\"/g,""):"").length,c=(l=this.normalizeString(s)).length,l.split("#").length,-1!==(o=l.indexOf("#"))&&(l=l.substr(0,o)),e.substr(0,l.length).trim()===l){var f=-1===o?l:e.substr(0,c);bt.a(s)&&-1!==(i=s.toString().indexOf(" "))&&(f=f.substr(0,i)+" "+f.substr(i)),d=f;for(var p=0;p<u;p++)"#"===s[p]&&(d=d.substr(0,p)+"#"+d.substr(p+1));if(d===s){a=f;break}}return a},getCountryCodeFromInput:function(e,t){var n,i=Zs,r=this.normalizeString(e);if((r=r.substr(t,e.length))&&0!==t&&i){r=this.convertFullWidthDigits(r);for(var a=0;a<=3&&(n=i[r.substr(0,a)],!bt.a(n));++a);return n}return null},internationalPrefixForDigits:function(e,t){if(e)return"+"===e.charAt(0)?"+":this.getInternationalOrNationalAccessCode(e,t,!1).trim()},getMatchedFormatFromFormatsArray:function(e,t,n,i,r,a,o){for(var s,l,c,u,d,h,f,p,m,g,v,_,b=i.phoneFormats,y=b.length,S=0,I=!1,w=0;w<y;w++)if(l=(s=b[w]).format,u=(e=-1!==(c=this.getIndexOfPauses(e,",;"))?e.substr(0,c):e).length,f=l?l.split("#").length-1:0,h=u<(d=s.rangeBegin.toString().length)?"":e.substr(0,d),(h=this.convertFullWidthDigits(h))>=s.rangeBegin&&h<=s.rangeEnd&&u<=f){if(I&&f>S)continue;var E=-1!==s.format.indexOf("n"),C=-1!==s.format.indexOf("c");I=!0,S=f,p=!!r,(!bt.a(m)||a&&!_&&E||p&&!g&&C||!p&&!a&&v<d||v<d&&!_||v<d&&(p&C||a&E)||_&&E&&v<d)&&(m=s,g=C,_=E,v=d)}return m},getFormattedStringUsingMatchedFormat:function(e,t,n,i,r,a,o,s){var l,c=e,u=this.getMatchedFormatFromFormatsArray(e,t,n,i,r,a,o);if(bt.a(u)&&(l=u.format),s&&(s.format=l,s.nationalAccessCode=t,s.countryCode=n),!bt.a(l)){var d=c.indexOf("x");if(-1!==d){var h=c.substring(0,d),f=c.substring(d,c.length),p=this.getFormattedStringUsingMatchedFormat(h,t,n,i,r,a,o,s);return p&&p!==h?p+" "+f:c}var m=this.getInternationalOrNationalAccessCode(c,i,!0),g=this.normalizeString(m),v=g.length;if(m&&o&&n&&"+"===o){c=c.substr(v,c.length);var _=this.getFormattedStringUsingMatchedFormat(c,"",n,i,!1,!1,"",s);if(_&&_!==c){var b=o+n+" ("+g+") "+_;return-1!==b.indexOf(") (")&&(b=b.replace(") (","")),b}return o+n+" ("+g+") "+c}return this.createFormattedString(c,l,t,n,r,a,o)||""}return this.createFormattedString(c,l,t,n,r,a,o)||""},getIndexOfPauses:function(e,t){for(var n=e.length,i=n,r=-1,a=0;a<t.length;a++)-1!==(r=e.indexOf(t[a]))&&i>r&&(i=r);return i===n?-1:i},formatEntryforDigits:function(e,t,n,i){var r,a,o,s,l,c,u=this.normalizeString(t).length,d=this.normalizeString(e),h=d.length,f=d,p=!1,m=!1;0===u&&(n=""),a=this.getInternationalOrNationalAccessCode(d,i,!0),o=this.normalizeString(a).length,a&&0!==o&&0===u&&(m=!0,f=d.substr(o,h)),c=i.numericCountryCode,s=this.getIndexOfPauses(e,",;"),t&&n&&1!==s?(f=d.substr(u+c.length,h),p=!0):p=!1;var g={};if(0===(r=this.getFormattedStringUsingMatchedFormat(f,a,c,i,p,m,t,g)).length&&p){var v=u+c.length,_=-1!==s?e.substr(0,s):e;l=_.length===v||isNaN(_[u])?e:"+"!==t?t+" "+c+" "+f:t+c+" "+f}return{formatted:r=r?r.trim():l,canonical:"+"+c+" "+((this.getFormattedStringUsingMatchedFormat(f,"","",i,p,m,"")||"").trim()||f),nationalNumber:f,prefix:t,numericCode:c,format:g.format,nationalAccessCode:g.nationalAccessCode,countryCode:g.countryCode}},normalizeString:function(e){return e?e.replace(/[^a-zA-Z0-9\uff10-\uff19\u0966-\u096f+,;@.*#\'\"<>\[\]]/g,""):""},convertFullWidthDigits:function(e){return e.replace(/[\uff10-\uff19]/g,(function(e){switch(e){case"\uff10":return"0";case"\uff11":return"1";case"\uff12":return"2";case"\uff13":return"3";case"\uff14":return"4";case"\uff15":return"5";case"\uff16":return"6";case"\uff17":return"7";case"\uff18":return"8";case"\uff19":return"9";default:return e}}))}},tl=Ge.a.extend(Ni.a,wo.a,{basePhoneNumberDataPath:"/phone_numbers/2/",defaultCountryCode:X.b(),format:function(e,t,n){t=t||this.defaultCountryCode;var i=this,r=t&&this._loadedFormats[t];if(t&&!r)return this.load(t).then((function(n){return i.format(e,t)}));var a=el.normalizeString(e),o=this._getCountryCodeFromNumber(a,r)||t;return o?this.load(o).then((function(t){var a=el.internationalPrefixForDigits(e,r),s=t.numericCountryCode,l=el.formatEntryforDigits(e,a,o,t),c=l.formatted;c||(c=e);var u={countryCode:o,numericCountryCode:s,internationalPrefix:a,input:e,output:c,canonical:l.canonical,format:l.format,nationalPart:l.nationalNumber};return u.isValid=!!n||i.isResultValid(u),u})):Z.a.resolve({countryCode:void 0,internationalPrefix:void 0,input:e,output:e,canonical:e,format:void 0,isValid:!1})},load:function(e){var t=this._loadedFormats[e];if(mt.a(t))return t;if(t)return t.failure?Z.a.reject(t.error):Z.a.resolve(t);var n=this.basePhoneNumberDataPath+e+".json",i=Js.a.create({method:"GET",timeout:15e3,url:n}),r=this;return this._loadedFormats[e]=i.send().then((function(t){var n=JSON.parse(t.encodedBody.replace(/^'/,"").replace(/'\s*$/,""));return n=r._decompressFormats(n),r._loadedFormats[e]=n,n})).catch((function(t){throw r._loadedFormats[e]={failure:!0,error:t},t}))},_loadedFormats:{},_decompressFormat:function(e){var t=/^\[(\d+)](.*)$/.exec(e),n=/^\[(\d+)-(\d+)](.*)$/.exec(e);return n&&4===n.length?{rangeBegin:n[1],rangeEnd:n[2],format:n[3]}:t&&3===t.length?{rangeBegin:t[1],rangeEnd:t[1],format:t[2]}:e},_decompressFormats:function(e){for(var t=e.split("|"),n=t.slice(4),i=n.length;i--;)n[i]=this._decompressFormat(n[i]);return{countryCode:t[0],numericCountryCode:t[1],internationalAccessCode:t[2],nationalAccessCode:t[3],phoneFormats:n}},_getCountryCodeFromNumber:function(e,t){if(!e)return this.defaultCountryCode;var n=el.internationalPrefixForDigits(e,t);return(n=n.replace(/\s+/g,""))?el.getCountryCodeFromInput(e,n.length):this.defaultCountryCode},isResultValid:function(e){var t=e.nationalPart,n=e.format;if(!t||!n||!e.countryCode||!e.canonical)return!1;var i=(t.match(/[0-9]/g)||[]).length,r=n.match(/#+/g);if(!r||!r.length)return!1;for(var a=0,o=0,s=r.length;s--;){var l=r[s].length;o?a+=l:o=l}return i>=a+Math.max(o-2,.5*o)},staticMembers:{__QUALIFIED_CLASS_NAME__:"PhoneNumberFormatter"}}),nl=Ge.a.extend({nestingPairs:{'"':'"',"'":"'","<":">","[":"]","(":")","{":"}"},escapeCharacters:{"\\":!0},delimiters:{",":!0,";":!0},tokenClasses:{},staticMembers:{valueForNode:function e(t){if("string"===typeof t)return t;for(var n=[],i=0;i<t.length;++i)n.push(e(t[i]));return n.join("")},visit:function e(t,n,i,r){if(r=r||[],"string"===typeof t)return i&&i.push(t),n(t,t,r);r.push(t);for(var a=[],o=0;o<t.length;++o)e(t[o],n,a,r);r.pop();var s=a.join("");return i&&i.push(s),n(t,s,r)},__QUALIFIED_CLASS_NAME__:"TreeTokenizer"},classifyCharacter:function(e){var t=this.tokenClasses;for(var n in t)if(t[n].test(e))return n},ascend:function(e){e&&this.currentNode.push(e),this.groupInterDelimiterContent(this.currentNode),this.terminators.pop();var t=this.parentNodes.pop();t&&(this.currentNode=t)},descend:function(e,t){this.terminators.push(t),this.parentNodes.push(this.currentNode);var n=[e];this.currentNode.push(n),this.currentNode=n},newToken:function(){var e=this.token;e&&(this.currentNode.push(e),this.token="")},groupInterDelimiterContent:function(e){for(var t=0,n=e.length-1;n>t&&e[n]===this.nestingPairs[e[t]];)++t,--n;for(var i=!1,r=n;r>=t;--r){var a=e[r];"string"===typeof a&&this.delimiters[a]&&(i=!0,n-r>1&&e.splice(r+1,n-r,e.slice(r+1,n+1)),n=r-1)}i&&n>1&&e.splice(t,n-t+1,e.slice(t,n+1))},build:function(e){var t,n,i;this.rootNode=[],this.currentNode=this.rootNode,this.parentNodes=[],this.terminators=[],this.token="";for(var r=0,a=e.length;r<a;++r){if(t=n,n=e.charAt(r),!this.escapeCharacters[t]){if(this.delimiters[n]){this.newToken(),this.currentNode.push(n);continue}if(n===this.terminators[this.terminators.length-1]){this.newToken(),this.ascend(n);continue}var o=this.nestingPairs[n];if(o){this.newToken(),this.descend(n,o);continue}}var s=this.classifyCharacter(n);s!==i&&(i=s,this.newToken()),this.token+=n}for(this.newToken();this.parentNodes.length;)this.ascend();return this.groupInterDelimiterContent(this.rootNode),this.rootNode}}),il=Mr.extend({staticMembers:{currentUserRecordName:X.b(),isCurrentUserUnauthenticated:X.b(),createFromString:function(e){return this.create(_l(e))},isValidEmailAddress:pl,splitAddressString:function e(t){if(t=(t||"").trim(),/[\r\n]+/.test(t)){for(var n=t.split(/\s*[\r\n]+\s*/),i=[],r=n&&n.length||0,a=0;a<r;++a){var o=n[a];o&&(i=i.concat(e(o)))}return i}if(!/[,;]+/.test(t))return[t];t=gl(t,hl);for(var s=fl.build(t),l=[],c="",u=s.length,d=0;d<u;++d){var h=nl.valueForNode(s[d]);if(/^[\s,;]+$/.test(h)){var f=_l(c).lookupInfo;!f||f.phoneNumber||f.emailAddress?(l.push(c.trim()),c=""):c+=h}else c+=h}return l.push(c.trim()),l},__QUALIFIED_CLASS_NAME__:"UserIdentity"},userRecordName:Ur(),lookupInfo:Ur(),nameComponents:Ur(),givenName:X.b({dependencies:["nameComponents"],readOnly:!0,get:Object.assign((function(){var e=this.nameComponents;return e?e.givenName:null}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r?r.givenName:null}})}),familyName:X.b({dependencies:["nameComponents"],readOnly:!0,get:Object.assign((function(){var e=this.nameComponents;return e?e.familyName:null}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r?r.familyName:null}})}),emailAddress:X.b({dependencies:["lookupInfo"],readOnly:!0,get:Object.assign((function(){var e=this.lookupInfo;return e?e.emailAddress:null}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r?r.emailAddress:null}})}),phoneNumber:X.b({dependencies:["lookupInfo"],readOnly:!0,get:Object.assign((function(){var e=this.lookupInfo;return e?e.phoneNumber:null}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r?r.phoneNumber:null}})}),formattedPhoneNumber:X.b({dependencies:["phoneNumber"],readOnly:!0,get:Object.assign((function(){var e=this.phoneNumber;if(!e)return"";var t=e;/^\s*\+/.test(t)||(t="+"+t);var n=this._phoneNumberFormatterResults;if(n&&n.input===t)return n.output;var i=this;return tl.sharedInstance.format(t).then((function(e){i._phoneNumberFormatterResults=e,i.propertyChanged("formattedPhoneNumber")})).catch((function(t){return i._phoneNumberFormatterResults=null,e})),e}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(!r)return"";var a=r;/^\s*\+/.test(a)||(a="+"+a);var o=this._phoneNumberFormatterResults;if(o&&o.input===a)return o.output;var s=this;return tl.sharedInstance.format(a).then((function(e){s._phoneNumberFormatterResults=e,s.propertyChanged("formattedPhoneNumber")})).catch((function(e){return s._phoneNumberFormatterResults=null,r})),r}})})});function rl(e){return e&&e===il.currentUserRecordName}il.prototype.registerMetadata("isCurrentlyLoggedInUser",X.b({allowAtCreate:!0,readOnly:!0,dependencies:["userRecordName",il.bindingFor("currentUserRecordName")],get:Object.assign((function(){return rl(this.userRecordName)}),{__CW__getter:function(e,t,n,i){return rl(i.internalGet(this,t[0+n]))}})}));var al=/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,30}/gi,ol=/[a-z\u007E-\uFFFF0-9._%+-]+@[a-z\u007E-\uFFFF0-9.-]+\.[a-z\u007E-\uFFFF]{2,30}/gi,sl=/([a-z\u007E-\uFFFF0-9._%+-]+@[a-z\u007E-\uFFFF0-9.-]+\.[a-z\u007E-\uFFFF]{2,30}\s*){2,}/gi,ll="0-9\\uff10-\\uff19\\u0660-\\u0669\\u06F0-\\u06F9\\u0966-\\u096F\\u09E6-\\u09FF\\u0E50-\\u0E59",cl=new RegExp("([+\\(])?((["+ll+"]+)([\\(\\)\\s\\-\\+\\.\\,]{1,3}|x|ext))+(["+ll+"]+)","gi"),ul=new RegExp("([+\\(])?(["+ll+"]+)(([\\(\\)\\s\\-\\+\\.\\,]{1,3}|x|ext)(["+ll+"a-z]+))+","gi"),dl=new RegExp("\\+?(["+ll+"]+)","gi"),hl={"<":">","(":")","{":"}","'":"'",'"':'"'},fl=nl.create();function pl(e){al.lastIndex=0;var t=al.exec(e);return!(!t||1!==t.length||t[0]!==e)}function ml(e,t,n,i,r,a){t.lastIndex=0;var o=t.exec(e),s=o&&o[0].trim();if(r&&s&&(s=r(s)),!s)return e;i[n]=s;var l=e.indexOf(s),c=l+s.length,u=e.substr(0,l).trim(),d=e.substr(c).trim();if(a)for(;d.charAt(0)===a[u.charAt(u.length-1)]&&d.charAt(0);)u=u.substr(0,u.length-1),d=d.substr(1);return u+d}function gl(e,t){for(e=e.trim();e.charAt(e.length-1)===t[e.charAt(0)];)e=e.substr(1,e.length-2);return e}function vl(e,t){var n=e=(e=(e=gl(e,hl)).replace(/^[,;\s]*(.*)[,;\s]*$/,"$1")).replace(/,\s*[A-Z]+$/i,""),i="",r=/^(.*)\s(\S+)\s*$/.exec(e);r&&3===r.length&&(n=r[2],i=r[1]),t.familyName=n.trim(),t.givenName=i.trim()}function _l(e){var t={nameComponents:{},lookupInfo:{}};return e=e.replace(/[\u00A0\u1680\u180e\u2000-\u2009\u200a\u200b\u202f\u205f\u3000]/g," "),sl.lastIndex=0,sl.test(e)?(vl(e,t.nameComponents),t):(e=function(e,t){var n=ml(e,ol,"emailAddress",t,null,hl);return pl(t.emailAddress)?n:(delete t.emailAddress,e)}(e,t.lookupInfo),t.lookupInfo.emailAddress||(e=function(e,t){function n(e){return e.replace(new RegExp("[^"+ll+"]","g"),"").length>=5?e:null}return e=ml(e,cl,"phoneNumber",t,n,hl),t.phoneNumber?e:(e=ml(e,ul,"phoneNumber",t,(function(e){return e.replace(new RegExp("[^"+ll+"]","g"),"").length+e.replace(/[^A-Za-z]/g,"").length>=5?e:null}),hl),t.phoneNumber?e:e=ml(e,dl,"phoneNumber",t,n,hl))}(e,t.lookupInfo)),vl(e,t.nameComponents),t)}var bl={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u0100":"A","\u0102":"A","\u0104":"A","\u01cd":"A","\u01de":"A","\u01e0":"A","\u01fa":"A","\u0200":"A","\u0202":"A","\u0226":"A","\u1e00":"A","\u1ea0":"A","\u1ea2":"A","\u1ea4":"A","\u1ea6":"A","\u1ea8":"A","\u1eaa":"A","\u1eac":"A","\u1eae":"A","\u1eb0":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\u212b":"A","\u1e02":"B","\u1e04":"B","\u1e06":"B","\xc7":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u1e08":"C","\u010e":"D","\u1e0a":"D","\u1e0c":"D","\u1e0e":"D","\u1e10":"D","\u1e12":"D","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u0228":"E","\u1e14":"E","\u1e16":"E","\u1e18":"E","\u1e1a":"E","\u1e1c":"E","\u1eb8":"E","\u1eba":"E","\u1ebc":"E","\u1ebe":"E","\u1ec0":"E","\u1ec2":"E","\u1ec4":"E","\u1ec6":"E","\u1e1e":"F","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u01e6":"G","\u01f4":"G","\u1e20":"G","\u0124":"H","\u021e":"H","\u1e22":"H","\u1e24":"H","\u1e26":"H","\u1e28":"H","\u1e2a":"H","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1e2c":"I","\u1e2e":"I","\u1ec8":"I","\u1eca":"I","\u0134":"J","\u0136":"K","\u01e8":"K","\u1e30":"K","\u1e32":"K","\u1e34":"K","\u0139":"L","\u013b":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u1e3a":"L","\u1e3c":"L","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\xd1":"N","\u0143":"N","\u0145":"N","\u0147":"N","\u01f8":"N","\u1e44":"N","\u1e46":"N","\u1e48":"N","\u1e4a":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\u014c":"O","\u014e":"O","\u0150":"O","\u01a0":"O","\u01d1":"O","\u01ea":"O","\u01ec":"O","\u020c":"O","\u020e":"O","\u022a":"O","\u022c":"O","\u022e":"O","\u0230":"O","\u1e4c":"O","\u1e4e":"O","\u1e50":"O","\u1e52":"O","\u1ecc":"O","\u1ece":"O","\u1ed0":"O","\u1ed2":"O","\u1ed4":"O","\u1ed6":"O","\u1ed8":"O","\u1eda":"O","\u1edc":"O","\u1ede":"O","\u1ee0":"O","\u1ee2":"O","\u1e54":"P","\u1e56":"P","\u0154":"R","\u0156":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e58":"R","\u1e5a":"R","\u1e5c":"R","\u1e5e":"R","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u0218":"S","\u1e60":"S","\u1e62":"S","\u1e64":"S","\u1e66":"S","\u1e68":"S","\u0162":"T","\u0164":"T","\u021a":"T","\u1e6a":"T","\u1e6c":"T","\u1e6e":"T","\u1e70":"T","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u01af":"U","\u01d3":"U","\u01d5":"U","\u01d7":"U","\u01d9":"U","\u01db":"U","\u0214":"U","\u0216":"U","\u1e72":"U","\u1e74":"U","\u1e76":"U","\u1e78":"U","\u1e7a":"U","\u1ee4":"U","\u1ee6":"U","\u1ee8":"U","\u1eea":"U","\u1eec":"U","\u1eee":"U","\u1ef0":"U","\u1e7c":"V","\u1e7e":"V","\u0174":"W","\u1e80":"W","\u1e82":"W","\u1e84":"W","\u1e86":"W","\u1e88":"W","\u1e8a":"X","\u1e8c":"X","\xdd":"Y","\u0176":"Y","\u0178":"Y","\u0232":"Y","\u1e8e":"Y","\u1ef2":"Y","\u1ef4":"Y","\u1ef6":"Y","\u1ef8":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u1e90":"Z","\u1e92":"Z","\u1e94":"Z","\u1fef":"`","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u0101":"a","\u0103":"a","\u0105":"a","\u01ce":"a","\u01df":"a","\u01e1":"a","\u01fb":"a","\u0201":"a","\u0203":"a","\u0227":"a","\u1e01":"a","\u1ea1":"a","\u1ea3":"a","\u1ea5":"a","\u1ea7":"a","\u1ea9":"a","\u1eab":"a","\u1ead":"a","\u1eaf":"a","\u1eb1":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\u1e03":"b","\u1e05":"b","\u1e07":"b","\xe7":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u1e09":"c","\u010f":"d","\u1e0b":"d","\u1e0d":"d","\u1e0f":"d","\u1e11":"d","\u1e13":"d","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u0229":"e","\u1e15":"e","\u1e17":"e","\u1e19":"e","\u1e1b":"e","\u1e1d":"e","\u1eb9":"e","\u1ebb":"e","\u1ebd":"e","\u1ebf":"e","\u1ec1":"e","\u1ec3":"e","\u1ec5":"e","\u1ec7":"e","\u1e1f":"f","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u01e7":"g","\u01f5":"g","\u1e21":"g","\u0125":"h","\u021f":"h","\u1e23":"h","\u1e25":"h","\u1e27":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1e2d":"i","\u1e2f":"i","\u1ec9":"i","\u1ecb":"i","\u0135":"j","\u01f0":"j","\u0137":"k","\u01e9":"k","\u1e31":"k","\u1e33":"k","\u1e35":"k","\u013a":"l","\u013c":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u1e3b":"l","\u1e3d":"l","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\xf1":"n","\u0144":"n","\u0146":"n","\u0148":"n","\u01f9":"n","\u1e45":"n","\u1e47":"n","\u1e49":"n","\u1e4b":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\u014d":"o","\u014f":"o","\u0151":"o","\u01a1":"o","\u01d2":"o","\u01eb":"o","\u01ed":"o","\u020d":"o","\u020f":"o","\u022b":"o","\u022d":"o","\u022f":"o","\u0231":"o","\u1e4d":"o","\u1e4f":"o","\u1e51":"o","\u1e53":"o","\u1ecd":"o","\u1ecf":"o","\u1ed1":"o","\u1ed3":"o","\u1ed5":"o","\u1ed7":"o","\u1ed9":"o","\u1edb":"o","\u1edd":"o","\u1edf":"o","\u1ee1":"o","\u1ee3":"o","\u1e55":"p","\u1e57":"p","\u0155":"r","\u0157":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e59":"r","\u1e5b":"r","\u1e5d":"r","\u1e5f":"r","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0219":"s","\u1e61":"s","\u1e63":"s","\u1e65":"s","\u1e67":"s","\u1e69":"s","\u0163":"t","\u0165":"t","\u021b":"t","\u1e6b":"t","\u1e6d":"t","\u1e6f":"t","\u1e71":"t","\u1e97":"t","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u01b0":"u","\u01d4":"u","\u01d6":"u","\u01d8":"u","\u01da":"u","\u01dc":"u","\u0215":"u","\u0217":"u","\u1e73":"u","\u1e75":"u","\u1e77":"u","\u1e79":"u","\u1e7b":"u","\u1ee5":"u","\u1ee7":"u","\u1ee9":"u","\u1eeb":"u","\u1eed":"u","\u1eef":"u","\u1ef1":"u","\u1e7d":"v","\u1e7f":"v","\u0175":"w","\u1e81":"w","\u1e83":"w","\u1e85":"w","\u1e87":"w","\u1e89":"w","\u1e98":"w","\u1e8b":"x","\u1e8d":"x","\xfd":"y","\xff":"y","\u0177":"y","\u0233":"y","\u1e8f":"y","\u1e99":"y","\u1ef3":"y","\u1ef5":"y","\u1ef7":"y","\u1ef9":"y","\u017a":"z","\u017c":"z","\u017e":"z","\u1e91":"z","\u1e93":"z","\u1e95":"z"};function yl(e,t){var n,i;if(e||t)return!(e&&!Sl(n=e.trim().charAt(0).toUpperCase()))&&(!(t&&!Sl(i=t.trim().charAt(0).toUpperCase()))&&Ys({givenName:n,familyName:i}).replace(/\s+/g,""))}function Sl(e){return!Oo(e)&&/^[a-zA-Z]*$/g.test(function(e){for(var t="",n=0,i=e.length;n<i;n++){var r=e.charAt(n);t+=bl[r]||r}return t}(e))}var Il=Mr.extend({type:Ur({type:String}),permission:Ur(),acceptanceStatus:Ur(),isOrgUser:Ur({dataKey:"orgUser"}),userIdentity:Gr({type:il,embedded:!0}),isOwner:X.b({readOnly:!0,dependencies:["type"],get:Object.assign((function(){return this.type===qs.OWNER}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===qs.OWNER}})}),displayName:X.b({readOnly:!0,dependencies:["addressBookContact.firstName","addressBookContact.lastName","userIdentity","userIdentity.givenName","userIdentity.familyName","userIdentity.emailAddress","userIdentity.phoneNumber","userIdentity.formattedPhoneNumber","isMe","isOwner"],get:Object.assign((function(){var e,t,n=this.addressBookContact;n&&(e=n.firstName,t=n.lastName);var i=this.userIdentity;return(!e||!t||this.isMe&&this.isOwner)&&(e=i.givenName,t=i.familyName),Ys({givenName:e,familyName:t,emailAddress:i.emailAddress,phoneNumber:i.formattedPhoneNumber})}),{__CW__getter:function(e,t,n,i){var r,a,o=this.addressBookContact;o&&(r=o.firstName,a=o.lastName);var s=i.internalGet(this,t[2+n]);return(!r||!a||i.internalGet(this,t[8+n])&&i.internalGet(this,t[9+n]))&&(r=s.givenName,a=s.familyName),Ys({givenName:r,familyName:a,emailAddress:s.emailAddress,phoneNumber:s.formattedPhoneNumber})}})}),displayNameIsPhoneNumber:X.b({readOnly:!0,dependencies:["displayName","userIdentity.formattedPhoneNumber"],get:Object.assign((function(){return this.displayName===this.getPath("userIdentity.formattedPhoneNumber")}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===i.internalGetPath(this,t[1+n])}})}),displayNameInitials:X.b({readOnly:!0,dependencies:["addressBookContact.firstName","addressBookContact.lastName","userIdentity.givenName","userIdentity.familyName"],get:Object.assign((function(){var e=this.getPath("addressBookContact.firstName"),t=this.getPath("addressBookContact.lastName");return e&&t||(e=this.getPath("userIdentity.givenName"),t=this.getPath("userIdentity.familyName")),yl(e,t)}),{__CW__getter:function(e,t,n,i){var r=i.internalGetPath(this,t[0+n]),a=i.internalGetPath(this,t[1+n]);return r&&a||(r=i.internalGetPath(this,t[2+n]),a=i.internalGetPath(this,t[3+n])),yl(r,a)}})}),isMe:X.b({readOnly:!0,dependencies:["userIdentity.isCurrentlyLoggedInUser"],get:Object.assign((function(){return this.getPath("userIdentity.isCurrentlyLoggedInUser")}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])}})}),addressBookContact:X.b(),addressBookContactDidChange:Ni.f("addressBookContact",(function(e){e&&e.loadImageData()})),loadAddressBookContact:function(e){var t=this,n=this.isMe,i=this.getPath("userIdentity.emailAddress"),r=this.getPath("userIdentity.phoneNumber");n?this.addressBookContact=e.getMeCard():i?e.lookUpContactByEmailAddress(i).then((function(e){return t.addressBookContact=e})):r&&e.lookUpContactByPhoneNumber(r).then((function(e){return t.addressBookContact=e}))},additionalParticipantInfo:X.b(),isInvalid:Y.c(),invalidReason:Y.c(),staticMembers:{__QUALIFIED_CLASS_NAME__:"Participant"}}),wl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.trim().toLowerCase()},El={"\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u0966":"0","\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u09e6":"0","\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ff":"9","\u0e50":"0","\u0e51":"1","\u0e52":"2","\u0e53":"3","\u0e54":"4","\u0e55":"5","\u0e56":"6","\u0e57":"7","\u0e58":"8","\u0e59":"9",a:"2",b:"2",c:"2",d:"3",e:"3",f:"3",g:"4",h:"4",i:"4",j:"5",k:"5",l:"5",m:"6",n:"6",o:"6",p:"7",q:"7",r:"7",s:"7",t:"8",u:"8",v:"8",w:"9",x:"9",y:"9",z:"9"},Cl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e=(e=e.toLowerCase()).replace(/./g,(function(e){return El[e]||e})))&&e.replace(/[^0-9+]/g,"")},Al=Qs.extend({staticMembers:{processDataHashThroughModel:function(e){return this.create(e).getDataHash()},__QUALIFIED_CLASS_NAME__:"Share"},currentUserParticipant:Gr({embedded:!0,type:Il}),forRecord:Ur(),pluginFields:Ur(),publicPermission:Ur(),anonymousPublicAccess:Ur(),recordType:Ur({readOnly:!0}),share:Ur(),displayedHostname:Ur({type:String}),shortGUID:Ur({type:String}),participants:Hr({embedded:!0,type:Il}),owner:Gr({embedded:!0,type:Il}),effectiveAccess:X.b({dependencies:["publicPermission"],readOnly:!0,get:Object.assign((function(){return this.publicPermission===Gs.NONE?Ks.PRIVATE:Ks.PUBLIC}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===Gs.NONE?Ks.PRIVATE:Ks.PUBLIC}})}),effectivePermission:X.b({dependencies:["publicPermission","participants","participants.contentsDidChange","participantPermissionChanged","_fallbackPermission"],readOnly:!0,get:Object.assign((function(){if(this.publicPermission===Gs.NONE){var e=this.participants,t=this._fallbackPermission;return 1===e.length&&t?t:Tl(e)}return this.publicPermission}),{__CW__getter:function(e,t,n,i){if(i.internalGet(this,t[0+n])===Gs.NONE){var r=i.internalGet(this,t[1+n]),a=i.internalGet(this,t[4+n]);return 1===r.length&&a?a:Tl(r)}return i.internalGet(this,t[0+n])}})}),_fallbackPermission:X.b(null),isPublic:X.b({cacheable:!1,dependencies:["effectiveAccess"],readOnly:!0,get:Object.assign((function(){return this.effectiveAccess===Ks.PUBLIC}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===Ks.PUBLIC}})}),isPrivate:X.b({cacheable:!1,dependencies:["effectiveAccess"],readOnly:!0,get:Object.assign((function(){return this.effectiveAccess===Ks.PRIVATE}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===Ks.PRIVATE}})}),loggedInUserCanEditShare:X.b({dependencies:["participants","participants.contentsDidChange","owner","recordName",il.bindingFor("currentUserRecordName")],readOnly:!0,get:Object.assign((function(){var e;if(this.recordName){var t=this._getCurrentUserParticipant();if(t){var n=t.type;e=n===qs.OWNER||n===qs.ADMINISTRATOR}else e=!0}else e=!0;return e}),{__CW__getter:function(e,t,n,i){var r;if(i.internalGet(this,t[3+n])){var a=this._getCurrentUserParticipant();if(a){var o=a.type;r=o===qs.OWNER||o===qs.ADMINISTRATOR}else r=!0}else r=!0;return r}})}),participantPermissionChanged:Ni.g(),assignFieldUpdates:function(e){var t=this.fields;if(t)for(var n=Object.keys(e),i=0,r=n.length;i<r;i++){var a=n[i],o=t[a],s=e[a];o&&o.value===s.value||(t[a]=s)}else this.fields=e},findEquivalentParticipant:function(e){var t=this.participants;if(e&&t){if(t.indexOf(e)>=0)return e;for(var n=wl(e.userIdentity.lookupInfo.emailAddress),i=Cl(e.userIdentity.lookupInfo.phoneNumber),r=t&&t.length||0;r--;){var a=t.objectAt(r);if(n&&wl(a.userIdentity.lookupInfo.emailAddress)===n)return a;if(i&&Cl(a.userIdentity.lookupInfo.phoneNumber)===i)return a}}},addParticipantsIgnoringDupes:function(e,t){if(e){var n=this,i=this.participants,r=[];return e.forEach((function(e){var a=n.findEquivalentParticipant(e);if(bt.a(a)){var o=a.permission;t&&t!==o&&(a.permission=t,r.push({type:"MODIFY",subject:a,details:{permission:o}}))}else{var s=Il.create(e.getDataHash());t&&(s.permission=t),i.push(s),r.push({type:"INSERT",subject:e,details:{index:i.length-1}})}})),t&&this.participantPermissionChanged(),r}},removeEquivalentParticipants:function(e){for(var t=this.participants,n=0,i=e&&e.length||0;n<i;++n){var r=this.findEquivalentParticipant(e[n]);t.remove(r)}},setEffectiveAccess:function(e,t){if(e===Ks.PRIVATE)this.publicPermission=Gs.NONE;else{var n=this.effectivePermission;n&&n!==Gs.UNKNOWN||(n=t),this.publicPermission=n;for(var i=this.participants,r=i.length-1;r>=0;r--){var a=i.objectAt(r);a.isOwner||(a.acceptanceStatus!==zs.ACCEPTED?i.remove(a):a.permission=n)}}},setEffectivePermission:function(e){this.effectiveAccess===Ks.PUBLIC?this.publicPermission=e:this.setValueOnParticipants("permission",e)},setValueOnParticipants:function(e,t){for(var n=this.participants||[],i=0,r=n.length;i<r;++i){var a=n.objectAt(i);a.isOwner||(a[e]=t)}"permission"===e&&(this._fallbackPermission=t,n.length>1&&this.participantPermissionChanged())},toSanitizedJSON:function(){var e=this.toJSON();return delete e.currentUserParticipant,e},_getCurrentUserParticipant:function(){var e,t,n,i,r=this.participants;for(e=0,t=r.length;e<t;++e)if((n=r.objectAt(e)).getPath("userIdentity.isCurrentlyLoggedInUser")){i=n;break}return i}});function Tl(e){for(var t,n=0,i=e.length;n<i;++n){var r=e.objectAt(n);if(!r.isOwner){if(t&&t!==r.permission){t=Gs.UNKNOWN;break}t=r.permission}}return t}var Ol={"\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u0966":"0","\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u09e6":"0","\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ff":"9","\u0e50":"0","\u0e51":"1","\u0e52":"2","\u0e53":"3","\u0e54":"4","\u0e55":"5","\u0e56":"6","\u0e57":"7","\u0e58":"8","\u0e59":"9"},Dl={"\xc4":"\xc5","\xe4":"\xe5"};function Ml(e){return(e=Ol[e]||e)>="0"&&e<="9"}function Nl(e,t){for(var n="";;){var i=e.charAt(t++);if((i=Ol[i]||i)<"0"||i>"9")return n;n+=i}}function Fl(e){return e<32?1:e<33?1:e<48?0:e<58?1:e<65?0:e<91?1:e<97?0:e<123?1:0}function Ll(e){return e<="Z"?2:e<="z"?1:3}function Rl(e,t,n){if(e===t)return 0;if(""===e)return-1;if(""===t)return 1;if(Dl[e]===t||Dl[t]===e){var i=e;e=t,t=i}var r=(bl[e]||e).toUpperCase(),a=(bl[t]||t).toUpperCase(),o=Fl(r.charCodeAt(0)),s=Fl(a.charCodeAt(0));if(o!==s)return o<s?-1:1;if(r!==a)return r<a?-1:1;if(!n)return 0;var l=Ll(e),c=Ll(t);return l!==c?l<c?-1:1:e<t?-1:1}function xl(e,t){if(Object(Qe.a)(e)&&Object(Qe.a)(t))return e<t?-1:e>t?1:0;e+="",t+="";for(var n=0,i=0,r=!1;;){var a=e.charAt(n),o=t.charAt(i);if(""!==a||""!==o)if(Ml(a)&&Ml(o)){var s=Nl(e,n),l=Nl(t,i);if(n+=s.length,i+=l.length,(s=parseInt(s,10))!==(l=parseInt(l,10)))return s<l?-1:1}else{++n,++i;var c=Rl(a,o,r);if(c)return c}else{if(r)return 0;r=!0,n=i=0}}}function Pl(e,t){var n=kl(e),i=kl(t);return n<i?-1:n>i?1:xl(e.displayName,t.displayName)}function kl(e){if(e.isOrgUser)return 1;if(e.isMe)return 2;if(e.isOwner)return 3;var t=e.additionalParticipantInfo;return t&&t.isOnline?4:e.acceptanceStatus===zs.ACCEPTED?5:6}var Ul=null;function jl(e,t){return Ul||(Ul=document.createElement("canvas").getContext("2d")),Ul.font=t,Ul.measureText(e)}var Bl=["content","content.isSharedToMe","content.isSharedByMe","content.ownerFromHierarchy"],Vl={content:X.b(),sharedByNameStringWithoutAttribution:X.b({dependencies:Bl,readOnly:!0,get:function(){return $l(this.content)}}),sharedByNameStringWithAttribution:X.b({dependencies:Bl,readOnly:!0,get:function(){return Wl(this.content)}}),sharedWithNamesString:X.b({dependencies:["content.sharedFolderFromHierarchy.fullShareRecordHash","content.fullShareRecordHash","sharedWithNamesStringMaxWidth","sharedWithNamesStringFont"].concat(Bl),readOnly:!0,get:function(){return zl(this.content,this.sharedWithNamesStringFont,this.sharedWithNamesStringMaxWidth)}}),sharedWithNamesStringMaxWidth:X.b(void 0),sharedWithNamesStringFont:X.b(""),shouldAppearAsShared:X.b({readOnly:!0,dependencies:["content.isSharedDirectly"],get:function(){var e=this.content;return e&&e.isSharedDirectly}})},$l=function(e){return e?e.isSharedToMe?Gl(e.ownerFromHierarchy):e.isSharedByMe?a.d("DriveUI.FilesGrid.Item.Shared.Me"):"":""},Wl=function(e){return e?e.isSharedToMe?a.d("DriveUI.FilesGrid.Item.Shared.Label.SharedToMe",{name:Gl(e.ownerFromHierarchy)}):e.isSharedByMe?a.d("DriveUI.FilesGrid.Item.Shared.Label.SharedByMe"):"":""},zl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;if(jr.a(e,"isSharedDirectlyOrIndirectly")){var i=e.isSharedDirectly?e:e.sharedFolderFromHierarchy,r=jr.a(i,"isSharedToMe")||!bt.a(jr.a(i,"fullShareRecordHash"));if(r)return Wl(i);var a=Al.create(i.fullShareRecordHash),o=Array.from(a.participants).sort(Pl).filter((function(e){return!(e.isOwner||e.isMe)})).map((function(e){return e.displayName}));return 0===o.length?Wl(i):Kl(o,t,n,Wl(e))}return""};function Gl(e){var t=e&&e.firstName||"",n=e&&e.lastName||"",i=e&&e.appleId||"";return Ko.displayNameForComponents({givenName:t,familyName:n,emailAddress:i})}var Hl,Kl=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=0,a=e.length;if(e.length>0&&bt.a(t)&&bt.a(n))for(;a-r>0;){var o=(a-r>>1)+r+1,s=Ql(e.slice(0,o),e.length-o,i),l=jl(s,t).width;l>n?a=o-1:r=o}return Ql(e.slice(0,a),e.length-a,i)},Ql=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i="DriveUI.FilesGrid.Item.Shared.Label.";return 0===e.length?n:1===e.length?0===t?a.d(i+"SharedWithOne",{name:e[0]}):1===t?a.d(i+"SharedWithOneAndOther",{name:e[0]}):a.d(i+"SharedWithOneAndOthers",{name:e[0],number:t}):2===e.length&&0===t?a.d(i+"SharedWithTwo",{firstName:e[0],secondName:e[1]}):0===t?a.d(i+"SharedWithMany",{initNames:e.slice(0,-1).join(a.d(i+"SharedWithSeparator")),finalName:e.slice(-1)[0]}):1===t?a.d(i+"SharedWithManyAndOther",{names:e.join(a.d(i+"SharedWithSeparator"))}):a.d(i+"SharedWithManyAndOthers",{names:e.join(a.d(i+"SharedWithSeparator")),number:t})},ql=_o.extend(Vl,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldAppearAsShared",truevalue:"appear-as-shared",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"FolderShowcaseView"},additionalClassNames:Mi.a(["showcase","folder"])}),Yl={_appFolderShowcaseView:X.b({readOnly:!0,strong:!0,get:function(){return Ws.create(this.iconService,{content:J.c("parent.content"),displaySize:this.bindingFor("displaySize"),cssClassnameForDisplaySize:this.bindingFor("cssClassnameForDisplaySize")})}}),_folderShowcaseView:X.b({readOnly:!0,strong:!0,get:function(){return ql.create({iconService:this.iconService,content:J.c("parent.content"),displaySize:this.bindingFor("displaySize"),cssClassnameForDisplaySize:this.bindingFor("cssClassnameForDisplaySize")})}}),_fileShowcaseView:X.b({readOnly:!0,strong:!0,get:function(){return So.create(this.iconService,this.showcaseViewPool,this.thumbnailCanvasFactory,this.thumbnailStatsReporterService,{content:J.c("parent.content"),displaySize:this.bindingFor("displaySize"),cssClassnameForDisplaySize:this.bindingFor("cssClassnameForDisplaySize")})}}),displaySize:X.b(Aa.REGULAR),cssClassnameForDisplaySize:X.b({readOnly:!0,dependencies:["displaySize"],get:Object.assign((function(){var e=this.displaySize;if(e&&e.name)return e.name.toLowerCase().replace(/_/g,"-")}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(r&&r.name)return r.name.toLowerCase().replace(/_/g,"-")}})}),showcaseView:X.b({readOnly:!0,strong:!0,dependencies:["content"],get:Object.assign((function(){var e,t=this.content;return t instanceof Object&&(e=t.isAppLibrary?this._appFolderShowcaseView:t.isFolder?this._folderShowcaseView:this._fileShowcaseView),e}),{__CW__getter:function(e,t,n,i){var r,a=i.internalGet(this,t[0+n]);return a instanceof Object&&(r=a.isAppLibrary?this._appFolderShowcaseView:a.isFolder?this._folderShowcaseView:this._fileShowcaseView),r}})}),iconService:X.b(),showcaseViewPool:X.b(),thumbnailCanvasFactory:X.b(),thumbnailStatsReporterService:X.b()},Xl=ri.a.extend({init:function(e,t,n,i,r,a,o,s){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},c=this;Object.defineProperties(this,{_title:{value:o}}),c.__s._$Th$init.call(c,Object.assign({},l,{iconService:e,showcaseViewPool:t,thumbnailCanvasFactory:n,thumbnailStatsReporterService:i,content:s})),this.bind("_sizeClassVertical",r),this.bind("_sizeClassHorizontal",a)},_sizeClassHorizontal:X.b(),_sizeClassVertical:X.b(),createView:function(){var e=this,t=arguments;xi.a.pause();var n=e.__s._$bh$createView.apply(e,t);n.bind("_sizeClassHorizontal",this.bindingFor("_sizeClassHorizontal")),n.bind("_sizeClassVertical",this.bindingFor("_sizeClassVertical"));var i=this.iconService,r=this.showcaseViewPool,a=this.thumbnailCanvasFactory,o=this.thumbnailStatsReporterService,s=this.content,l=this._title,c={iconService:i,showcaseViewPool:r,thumbnailCanvasFactory:a,thumbnailStatsReporterService:o,content:s,_title:l,_textFieldValue:s&&s.name};return Object.assign(n,c),xi.a.resume(),n},viewClass:Di.a.extend(Yl,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"navigationView"},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"showcaseView"}],classes:["showcase-container"]},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"namingTextField"},{type:"VIEWOUTLET",tagname:"view",name:"clearButton"}],classes:["textfield-wrapper",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_shouldHideButton",truevalue:"no-btn",attributes:{}}]}],classes:["wrapper"]}],classes:["container"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isCompactHorizontal",truevalue:"compact-horizontal",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isCompactVertical",truevalue:"compact-vertical",attributes:{}}]}}},additionalClassNames:["navigation"],navigationView:Y.c({readOnly:!0,get:function(){return Wi.create({leftView:Pi.a.create({title:a.d("DriveUI.Common.Cancel"),action:"cancel"}),titleLabel:ki.create({value:this._title}),rightView:Pi.a.create({title:a.d("DriveUI.Common.Done"),action:"textFieldDidComplete",isDisabled:this.bindingFor("_textFieldHasNoValue")})})}}),namingTextField:X.b({readOnly:!0,get:function(){var e=this.bindingFor("_textFieldValue"),t=this.bindingFor("_textFieldIsDisabled");return Vi.extend({keyDown:function(e){var t=e.which,n=this,i=arguments;(t!==ji.a.RETURN||this.value)&&n.__s._$1X7$keyDown.apply(n,i)},didFocus:function(){var e=this,t=arguments;this.select(),e.__s._$1Z8$didFocus.apply(e,t)},__superMap:{_$1X7$keyDown:"keyDown",_$1Z8$didFocus:"didFocus"}}).create({value:e,isDisabled:t,action:"textFieldDidComplete"})}}),textFieldDidComplete:function(){this.sendEvent("completeNaming",this.content,this._textFieldValue)},clearButton:X.b({readOnly:!0,get:function(){return Pi.a.create({title:null,hasRightIcon:!0,action:"clearTextField"})}}),clearTextField:function(){this.namingTextField.value="",this.namingTextField.focus()},_textFieldValue:X.b(),_textFieldIsDisabled:X.b({readOnly:!0,dependencies:["content"],get:Object.assign((function(){return this.content&&this.content.isAppLibrary}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])&&i.internalGet(this,t[0+n]).isAppLibrary}})}),_shouldHideButton:X.b({readOnly:!0,dependencies:["_textFieldHasNoValue","_textFieldIsDisabled"],get:Object.assign((function(){return this._textFieldHasNoValue||this._textFieldIsDisabled}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])||i.internalGet(this,t[1+n])}})}),_textFieldHasNoValue:X.b({readOnly:!0,dependencies:["_textFieldValue"],get:Object.assign((function(){return!this._textFieldValue}),{__CW__getter:function(e,t,n,i){return!i.internalGet(this,t[0+n])}})}),_isCompactHorizontal:X.b({readOnly:!0,dependencies:["_sizeClassHorizontal"],get:Object.assign((function(){var e=this._sizeClassHorizontal;return bt.a(e)&&e.value===Ca.COMPACT.value}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return bt.a(r)&&r.value===Ca.COMPACT.value}})}),_isCompactVertical:X.b({readOnly:!0,dependencies:["_sizeClassVertical"],get:Object.assign((function(){var e=this._sizeClassVertical;return bt.a(e)&&this._sizeClassVertical.value===Ca.COMPACT.value}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return bt.a(r)&&i.internalGet(this,t[0+n]).value===Ca.COMPACT.value}})}),_sizeClassHorizontal:X.b(),_sizeClassVertical:X.b(),content:X.b({type:Ea,strong:!0}),displaySize:X.b(Aa.EXTRA_LARGE)}),__superMap:{_$Th$init:"init",_$bh$createView:"createView"},staticMembers:{__QUALIFIED_CLASS_NAME__:"NamingModalContentViewController"}}),Jl=Ri.a.extend({staticMembers:{show:function(){return Jl.create.apply(Jl,arguments).show()},__QUALIFIED_CLASS_NAME__:"NamingModalViewController"},init:function(e,t,n,i,r,a,o,s,l,c,u){var d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:{},h=this;Object.defineProperties(this,{loggingService:{value:u},_namingPromise:{value:c},_validationCheck:{value:l},_displayPromise:{value:Z.a.create()}});var f=Xl.create(e,t,n,i,r,a,o,s);h.__s._$gJ$init.call(h,Object.assign({},d,{contentController:f}))},show:function(){var e=this,t=arguments;return e.__s._$hS$show.apply(e,t),this._displayPromise},completeNaming:function(e,t){var n=this,i=e;i&&i.isSharedDirectlyOrIndirectly&&this.loggingService.recordStat("AttemptedToCreateFolderInsideSharedFolder",{dest_isChainedToParent:i.isChainedToParent?"true":"false",dest_isSharedByMe:i.isSharedByMe?"true":"false",dest_isSharedToMe:i.isSharedToMe?"true":"false",dest_isSharedDirectly:i.isSharedDirectly?"true":"false",dest_isSharedIndirectly:i.isSharedIndirectly?"true":"false"}),this._validationCheck(e,t).ok&&(this.dismissModalDialog(),this._namingPromise(e,t).then((function(e){return n._displayPromise.resolve(e)})))},cancel:function(){this.dismissModalDialog(),this._displayPromise.resolve(o.okResult())},viewClass:Fi.a.extend({animationDuration:500,additionalClassNames:Mi.a(["drive-ui","naming-modal-background"])}),__superMap:{_$gJ$init:"init",_$hS$show:"show"}}),Zl=Di.a.extend({mixinDependencies:[Li],targetModalOverlayPaneClass:Y.c(Jl),staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"content"}],classes:["drive-ui","root"]}},__QUALIFIED_CLASS_NAME__:"RootView"}}),ec=ri.a.extend({viewClass:Zl,contentViewController:Oi.b({viewOutlet:"content"}),staticMembers:{__QUALIFIED_CLASS_NAME__:"RootViewController"}});$("start",Hl=window.document.body),Hl.addEventListener("mousedown",(function(e){if($("mousedownHandler",e.target,P),P=e.target,!W(document.activeElement,P)&&(e.preventDefault(),P instanceof HTMLInputElement&&"range"===P.getAttribute("type"))){var t=P.getBoundingClientRect(),n=t.x,i=t.width,r=P;k=function(e){var t=e.clientX,a=Math.min(Math.max(t,n),i+n)-n,o=parseInt(r.min)||0,s=((parseInt(r.max)||100)-o)/i,l=Math.round(a*s);r.value=""+l},window.addEventListener("mousemove",k)}}),!0),Hl.addEventListener("mouseup",(function(e){if($("mouseupHandler",e.target,P),!W(document.activeElement,P)){e.preventDefault();var t=K(P);t&&!z(t)&&t instanceof HTMLInputElement&&(t.disabled=!0,setTimeout((function(){t.disabled=!1;var e=new MouseEvent("click");t.dispatchEvent(e)}),0))}k&&window.removeEventListener("mousemove",k),k=null,P=null,U=e.target}),!0),Hl.addEventListener("focus",(function(e){if($("focusHandler",e.target,e.relatedTarget),!z(e.target))return e.preventDefault(),e.stopPropagation(),void(document.activeElement===P&&(j=document.activeElement).blur());$("focus",e.target,e.relatedTarget)}),!0),Hl.addEventListener("blur",(function(e){$("blurHandler",e.target,e.relatedTarget,P,U),W(e.target,e.relatedTarget||P)?$("blur",e.target):(e.preventDefault(),e.stopPropagation(),j=null)}),!0),Hl.addEventListener("keydown",(function(e){B=!0}),!0),Hl.addEventListener("keyup",(function(e){B=!1}),!0);var tc,nc,ic,rc,ac=n(326),oc=function(){return(oc=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},sc=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i};function lc(e){var t=e.children,n=Object(u.useContext)(mc);return Object(u.useRef)(!!n||!!rc).current?d.a.createElement(d.a.Fragment,null,t):d.a.createElement(cc,null,t)}function cc(e){var t=e.children,n=Object(u.useState)([[],[]]),i=n[0],r=i[0],a=i[1],o=n[1],s=Object(u.useState)((function(){return{showPane:function(e,t,n,i,r){o((function(a){return function(e,t,n,i,r,a){var o=e[0],s=e[1],l={pane:t,key:i,type:n,classNameFromOptions:r.className,ariaClosePaneDescription:r.ariaClosePaneDescription,onRequestClose:r.onRequestClose,animates:nc.IN_AND_OUT,animating:"in"};r&&(void 0!==r.animates&&(l.animates=r.animates),r.animates!==nc.NONE&&r.animates!==nc.OUT||(l.animating="not"),r.initialFocus&&(l.initialFocus=r.initialFocus),r.onClose&&(l.onClose=r.onClose),r.onRequestClose&&(l.onRequestClose=r.onRequestClose)),a&&!1===a.animate&&(l.animating="not");var c=sc(o),u=c.findIndex((function(e){return e.key===i}));-1!==u?c[u]=l:c.push(l);var d=void 0;return-1!==s.findIndex((function(e){return e.key===i}))&&(d=sc(s)).splice(u,1),[c,d||s]}(a,e,t,n,i,r)}))},updatePane:function(e,t){o((function(n){var i=n[0],r=n[1],a=i.findIndex((function(e){return e.key===t}));if(-1===a)return n;var o=sc(i);return o[a]=oc(oc({},o[a]),{pane:e}),[o,r]}))},hidePane:function(e,t){o((function(n){return dc(n,e,t)}))}}}))[0],l=Object(u.useRef)(!1);if(rc&&rc!==s)throw new Error("PaneProvider: In order to support certain use cases, only one PaneProvider may be specified per window.\nPlease reach out to the CoreWeb team if you have a need for this.");rc||(rc=s,l.current=!0),Object(u.useEffect)((function(){return function(){l.current&&(rc=void 0)}}),[]),Object(u.useEffect)((function(){0!==a.length&&(a.forEach((function(e){e.onClose&&e.onClose(),e.notifiedOnClose=!0})),o((function(e){var t=e[0],n=e[1];if(!n.length)return e;var i=n.filter((function(e){return!e.notifiedOnClose}));return i.length===n.length?e:[t,i]})))}),[a]);for(var c=r.length-1,h=-1,f=!1,p=c;p>=0;p--)if((g=r[p]).type===fc.MODAL){h=p,"out"===g.animating&&(f=!0);break}var m=-1;for(p=h-1;p>=0;p--){var g;if((g=r[p]).type===fc.MODAL){m=p;break}}function v(e){o((function(t){var n=t[0],i=t[1],a=r.findIndex((function(t){return t.key===e}));if(-1===a)return t;var o=sc(n);return o[a]=oc(oc({},o[a]),{animating:"not"}),[o,i]}))}function _(e){o((function(t){return function(e,t){return dc(e,t,{animate:!1})}(t,e)}))}var b=r.length>0;return Object(u.useLayoutEffect)((function(){b?document.body.classList.add("ui-pane-provider-has-open-panes"):document.body.classList.remove("ui-pane-provider-has-open-panes")}),[b]),d.a.createElement(mc.Provider,{value:s},d.a.createElement("ui-main-pane",{inert:c<0?void 0:""},t),r.map((function(e,t){return d.a.createElement(uc,{key:e.key,paneFinishedAnimatingIn:v,paneFinishedAnimatingOut:_,paneDef:e,isTopPane:t>=c,isTopModalPane:t===h,isBecomingTopModalPaneAgain:t===m&&f})})))}function uc(e){var t,n=e.paneDef,i=e.paneFinishedAnimatingIn,r=e.paneFinishedAnimatingOut,a=e.isTopPane,o=e.isTopModalPane,s=e.isBecomingTopModalPaneAgain,l=n.pane,c=n.key,h=n.type,p=n.animating,m=void 0===p?"not":p,g=n.onRequestClose,v=n.classNameFromOptions,_=n.ariaClosePaneDescription,b=Object(u.useRef)(null),y=Object(u.useRef)(null);function S(e){return e===b.current||e.parentElement===b.current}"in"===m?t=function(e){S(e.target)&&(w(),i(c))}:"out"===m&&(t=function(e){S(e.target)&&(w(),r(c))});var I=Object(u.useRef)();function w(){void 0!==I.current&&(window.clearTimeout(I.current),I.current=void 0)}Object(u.useEffect)((function(){return"in"===m&&(I.current=window.setTimeout((function(){console.error(vc(n.type,"in"))}),2500)),"out"===m&&(I.current=window.setTimeout((function(){console.error(vc(n.type,"out"))}),2500)),w}),[m,n.type]);var E=Object(u.useRef)(n.initialFocus),C=Object(u.useRef)(document.activeElement);Object(u.useEffect)((function(){var e,t=E.current;if(t instanceof HTMLElement)e=t;else if("function"===typeof t)e=t();else if("object"===typeof t&&"current"in t)e=t.current;else if("string"===typeof t){var n=document.querySelector(t);n instanceof HTMLElement&&(e=n)}e||(e=b.current),e.focus({preventScroll:!0}),"INPUT"===e.tagName&&e.select&&e.select();var i=C.current;return function(){setTimeout((function(){i&&document.body.contains(i)&&i instanceof HTMLElement&&i.focus({preventScroll:!0})}),0)}}),[]);var A=h===fc.DISMISSABLE,T=_;return _||(T="Close pane"),d.a.createElement(d.a.Fragment,null,d.a.createElement("ui-pane-backdrop",{ref:y,role:A?"button":void 0,"aria-label":A?T:void 0,class:f()(hc(h),a?"top":null,o?"top-modal":null,s?"becoming-top-modal-again":null,"in"===m?"is-opening":null,"out"===m?"is-closing":null,v),onMouseUp:function(){h===fc.DISMISSABLE&&g(tc.MOUSE_UP)}}),d.a.createElement("ui-pane",{ref:b,class:f()(hc(h),"in"===m?"is-opening":null,"out"===m?"is-closing":null,v),inert:a?void 0:"true",tabindex:-1,"aria-modal":h===fc.MODAL,onKeyDown:function(e){switch(e.key){case"Escape":h===fc.DISMISSABLE&&g(tc.ESCAPE)}},onTransitionEnd:t,onAnimationEnd:t},l))}function dc(e,t,n){var i=e[0],r=e[1],a=i.findIndex((function(e){return e.key===t}));if(-1===a)return e;var o,s=i[a],l=s.animates===nc.IN_AND_OUT||s.animates===nc.OUT,c=!n||n.animate;return l&&c?((o=sc(i))[a]=oc(oc({},s),{animating:"out"}),[o,r]):((o=sc(i)).splice(a,1),[o,sc(r,[s])])}function hc(e){switch(e){case fc.MODAL:return"modal";case fc.DISMISSABLE:return"dismissable"}}!function(e){e[e.ESCAPE=0]="ESCAPE",e[e.MOUSE_UP=1]="MOUSE_UP"}(tc||(tc={})),function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT",e[e.IN_AND_OUT=2]="IN_AND_OUT",e[e.NONE=3]="NONE"}(nc||(nc={})),function(e){e[e.OpenPlease=0]="OpenPlease",e[e.ClosePlease=1]="ClosePlease",e[e.None=2]="None"}(ic||(ic={}));var fc,pc=0,mc=d.a.createContext(void 0);function gc(e){switch(e){case fc.DISMISSABLE:return"usePane";case fc.MODAL:return"useModalPane"}}function vc(e,t){var n=gc(e);return n+" animate-"+t+" 2.5s timeout:\n- If your pane doesn\u2019t have any animation (or doesn\u2019t animate "+t+"), you must call "+n+" with `{ animates: PaneAnimates.NONE }` (or `{ animates: PaneAnimates."+("in"===t?"OUT":"IN")+" }`).\n- If your pane has an animation, it must be on the `ui-pane` element or the outermost element of its content.\nFor more, see the \u201cAnimating Panes\u201d section in the `PaneProvider` docs."}!function(e){e.MODAL="MODAL",e.DISMISSABLE="DISMISSABLE"}(fc||(fc={}));var _c=yi.a.extend({dependencies:[ac.a],action:function(e){var t=e.rootElement,n=document.createElement("div");m.a.render(d.a.createElement(lc,null),n),t.appendChild(n),e.rootElement=n.firstElementChild},staticMembers:{__QUALIFIED_CLASS_NAME__:"PaneProviderInitializer"}}),bc=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};function yc(e,t,n){return n!==e.get(t)&&e.set(t,n),e}function Sc(e,t,n){window.addEventListener("NonFatalError",n),window.addEventListener("FatalError",t),window.__startFilteringErrors(e)}function Ic(e,t,n){window.addEventListener("NonFatalUnhandledRejection",n),window.addEventListener("FatalUnhandledRejection",t),window.__startFilteringUnhandledRejections(e)}var wc=n(698),Ec=n(389),Cc=Ge.a.extend(Ec.a,{staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseValidator"}}).extend({message:"Validation.InvalidPattern",pattern:Object(Y.c)({type:RegExp,defaultValue:/.*/i}),validate:function(e){return this.get("pattern").test(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"PatternValidator"}}).extend({message:"INVALID_URL_ERROR",pattern:/[a-zA-Z0-9]{1,256}:\/\/[a-zA-Z0-9\-./]{1,256}/i,staticMembers:{__QUALIFIED_CLASS_NAME__:"URLValidator"}}),Ac=Ge.a.extend(zi,{urlString:Y.c({defaultValue:"",validators:[Cc]}),requestProperties:{},staticMembers:{__QUALIFIED_CLASS_NAME__:"HostInfo"}}),Tc={no:"nb","no-NO":"nb-NO","iw-IL":"he-IL","vi-VI":"vi","zh-CN":"zh-Hans-CN","zh-TW":"zh-Hant-TW","zh-Hant-CN":"zh-Hant"};function Oc(e,t,n){e||ze.b("[RegionFormatter] no locale specified to load"),t||ze.b("[RegionFormatter] no base url specified to load from"),n||ze.b("[RegionFormatter] no version specified to load"),t=t.replace(/\/$/,"");var i=Ac.create({urlString:t+"/"+n,requestProperties:{useCredentialsIfCrossOrigin:!1}});return Dc.loadFormattingRules(i,e).catch((function(e){Re.b.error("Could not load formatting rules",e)}))}var Dc=wc.region;Dc.rulesVersion=5;var Mc,Nc={mixinDependencies:[Ne],name:"HostApplicationServiceFromChildProtocol",version:"0.0.1",minimizeApplication:De.a.define(),switchToApplication:De.a.define(),showAccountSettings:De.a.define(),showAccountMenu:De.a.define(),setTitle:De.a.define(),updateShareGUID:De.a.define()},Fc={mixinDependencies:[Ne],name:"HostApplicationServiceToChildProtocol",version:"0.0.1",didReceiveRemoteNotification:De.a.define()},Lc={mixinDependencies:[Me.a],didReceiveRemoteNotification:De.a.define()},Rc=Ge.a.extend({mixinDependencies:[wo.a,fs,Nc,Fc],init:function(){this.__s._$GI$init.call(this),this.configureBidirectionalMessagingChannel(Fc,this,Nc)},delegate:Y.c({type:Lc}),minimizeApplication:function(){return this.remoteProxy.minimizeApplication().then((function(e){return _s(e)}))},switchToApplication:function(e){return this.remoteProxy.switchToApplication(e).then((function(e){return _s(e)}))},showAccountSettings:function(){return this.remoteProxy.showAccountSettings().then((function(e){return _s(e)}))},showAccountMenu:function(e){return this.remoteProxy.showAccountMenu(e).then((function(e){return _s(e)}))},setTitle:function(e){return this.remoteProxy.setTitle(e).then((function(e){return _s(e)}))},updateShareGUID:function(e){return this.remoteProxy.updateShareGUID(e).then((function(e){return _s(e)}))},didReceiveRemoteNotification:function(e){this.delegate.didReceiveRemoteNotification(e)},__superMap:{_$GI$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"HostApplicationServiceConnection"}}),xc={mixinDependencies:[Ne],name:"TelemetryServiceProtocol",version:"0.0.1",recordStat:De.a.define(),recordPerfStat:De.a.define()},Pc=Ge.a.extend({mixinDependencies:[fs],staticMembers:{sharedInstance:Y.c({type:Pc,readOnly:!0,get:function(){var e=this._telemetryServiceInstance;return e||(e=this._telemetryServiceInstance=Pc.create()),e}}),_telemetryServiceInstance:Y.c({type:Pc}),__QUALIFIED_CLASS_NAME__:"TelemetryConnection"},init:function(){this.__s._$Mi$init.call(this),this.configureConnectionOnlyMessagingChannel(xc)},sendStat:function(e,t){var n=this.frameworkInitializer||{},i=n.applicationName,r=n.masteringBuildNumber,a=n.buildNumber;return this.remoteProxy.recordStat(i,r,a,e,t)},sendPerfStat:function(e,t){var n=this.frameworkInitializer||{},i=n.applicationName,r=n.masteringBuildNumber,a=n.buildNumber;return this.remoteProxy.recordPerfStat(i,r,a,e,t)},__superMap:{_$Mi$init:"init"}}),kc=Ge.a.extend({init:function(){this.__s._$Eh$init.call(this),this._telemetryService=Pc.sharedInstance},recordStat:function(e,t){return this._telemetryService.sendStat(e,t)},recordPerfStat:function(e,t){return this._telemetryService.sendPerfStat(e,t)},_telemetryService:Y.c({type:Pc}),__superMap:{_$Eh$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Telemetry"}}),Uc=["icloud\\.developer\\.apple","icloud"],jc="("+Uc.join("|")+")\\.com.*\\/index\\.html",Bc="("+Uc.join("|")+")\\.com.*\\/main\\.js",Vc=new RegExp(jc),$c=new RegExp(Bc);function Wc(e){var t=e.detail,n=t.message,i=t.filename,r=t.lineno,a=t.colno,o=t.error;return{error:o&&o.message?o.message:n,url:i,lineNumber:r,columnNumber:a,stack:o?o.stack:"not available"}}function zc(e,t){Mc||(Mc=kc.create()),Mc.recordStat(e,t)}var Gc,Hc="("+["icloud\\.developer\\.apple","icloud"].join("|")+")\\.com.*\\/main\\.js",Kc=new RegExp(Hc);function Qc(e){var t=(e.detail.nativeEvent.reason||{}).stack;if("string"!==typeof t)return{error:"unknown"};var n=t.split("\n"),i=n.length>1?n[0]:n[0].substring(0,80),r=(n[1]||n[0]).match(/at (http.*icloud\.com.*\/main\.js):([0-9]+):([0-9]+)/);return r?{error:i,url:r[1],lineNumber:r[2],columnNumber:r[3],stack:t}:{error:i,stack:t}}function qc(e,t){Gc||(Gc=kc.create()),Gc.recordStat(e,t)}var Yc={mixinDependencies:[Me.a],didFetchStartup:De.a.define()},Xc={mixinDependencies:[Ne],name:"StartupInfoServiceFromChildProtocol",version:"0.0.1",setStartupInfo:De.a.define(),setStartupUrl:De.a.define(),startupDataIsLoaded:De.a.define()},Jc={mixinDependencies:[Ne],name:"StartupInfoServiceToChildProtocol",version:"0.0.1",didFetchStartup:De.a.define()},Zc=Ge.a.extend({mixinDependencies:[wo.a,fs,Xc,Jc],init:function(){this.__s._$Fb$init.call(this),this.configureBidirectionalMessagingChannel(Jc,this,Xc)},delegate:Y.c({type:Yc}),setStartupInfo:function(e,t){return this.remoteProxy.setStartupInfo(e,t).then((function(e){return _s(e)}))},setStartupUrl:function(e,t){return this.remoteProxy.setStartupUrl(e,t).then((function(e){return _s(e)}))},startupDataIsLoaded:function(){return this.remoteProxy.setStartupUrl().then((function(e){return _s(e)}))},didFetchStartup:function(e,t){this.delegate.didFetchStartup(e,t)},__superMap:{_$Fb$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"StartupInfoServiceConnection"}}),eu=Ge.a.extend({staticMembers:{sharedInstance:Y.c({readOnly:!0,get:function(){var e=this._performanceTimingInstance;return e||(e=this._performanceTimingInstance=eu.create()),e}}),createWith:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=eu.sharedInstance();r.shouldIncludeRedirectData=e,r.shoulIncludeConnectionData=t,r.shouldIncludeRequestData=n,r.shouldIncludeDOMData=i},_performanceTimingInstance:Y.c({type:eu}),__QUALIFIED_CLASS_NAME__:"WindowPerformanceTiming"},init:function(){this.__s._$QA$init.call(this),this.stats=this._getPerformanceData()},shouldIncludeRedirectData:Y.c({type:Boolean,defaultValue:!0}),shoulIncludeConnectionData:Y.c({type:Boolean,defaultValue:!0}),shouldIncludeRequestData:Y.c({type:Boolean,defaultValue:!0}),shouldIncludeDOMData:Y.c({type:Boolean,defaultValue:!0}),stats:Y.c({type:Map,defaultValue:ut.b(Map)}),statsHash:Y.c({type:Object,dependencies:["stats"],readOnly:!0,get:Object.assign((function(){var e=this.stats,t={};return e?(e.forEach((function(e,n){t[n]=e})),t):t}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a={};return r?(r.forEach((function(e,t){a[t]=e})),a):a}})}),_getPerformanceData:function(){var e=new Map;if(window&&window.performance&&window.performance.timing){var t=window.performance.timing,n=t.navigationStart,i=t.domainLookupStart,r=t.domainLookupEnd,a=t.connectStart,o=t.connectEnd,s=t.secureConnectionStart,l=t.fetchStart,c=t.requestStart,u=t.responseStart,d=t.responseEnd,h=t.loadEventStart,f=t.loadEventEnd,p=t.domLoading,m=t.domInteractive,g=t.domContentLoadedEventStart,v=t.domContentLoadedEventEnd,_=this.shouldIncludeRedirectData,b=this.shoulIncludeConnectionData,y=this.shouldIncludeDOMData,S=this.shouldIncludeRequestData;_&&(e.set("redirectTime",l-n),e.set("appCacheTime",l-n)),b&&(e.set("dnsLookupTime",r-i),e.set("tcpTime",o-a),e.set("secureConnectionStart",s>0?o-s:0)),y&&(e.set("processingTime",h-p),e.set("timeToLoadDOMContent",v-g),e.set("timeBeforeUserCanInteract",m-p)),S&&(e.set("fetchTime",d-l),e.set("requestTime",u-o),e.set("totalDocumentRequestTime",d-c),e.set("documentDownloadTime",d-u),e.set("timeToFirstByteOfDocument",u-c)),e.set("totalPageLoadTime",f-n)}return e},__superMap:{_$QA$init:"init"}}),tu={preferencesDidUpdate:De.a.define()},nu={setPreferences:De.a.define()},iu=Ge.a.extend({mixinDependencies:[Me.a],connectionDelegate:{type:nu},preferencesDelegate:Y.c({type:tu}),getPreferences:function(e){return this._preferencesStore&&this._preferencesStore[e]},setPreferences:function(e,t){var n;"string"!==typeof e&&ze.b("[CorePreferencesStore] Expected key for preferences to save"),Se.a(t,Object)||ze.b("[CorePreferencesStore] Expected values for preferences values to save");var i=this._serializeApps(((n={})[e]=t,n));return this._setRawPreferences(i)},registerDelegate:function(e){return!this.preferencesDelegate&&(this.preferencesDelegate=e,!0)},unregisterDelegate:function(e){this.preferencesDelegate!==e?ze.b("[CorePreferencesStore] Delegate is not currently registered."):this.preferencesDelegate=void 0},preferencesDidUpdate:function(e){this._registry=[],this._registryVersions={},this._preferencesStore={},this._updateDataInPlace(e);var t=this.preferencesDelegate;t&&t.preferencesDidUpdate()},_setRawPreferences:function(e){if(this.connectionDelegate)return this.connectionDelegate.setPreferences(e)},_deserializeApps:function(e){var t={};if(e)for(var n in e)t[e[n]["app-id"]]=this._deserializeKeys(e[n].keys);return t},_deserializeKeys:function(e){var t={};if(e)for(var n in e){var i=e[n],r=i.name,a=i.data;t[r]=a}return t},_serializeKeys:function(e){var t=[];for(var n in e)t.push({data:e[n],name:n});return t},_serializeApps:function(e){var t=[];for(var n in e){var i;t.push(((i={})["app-id"]=n,i["registry-version"]=this._registryVersions[n],i.keys=this._serializeKeys(e[n]),i))}return t},_updateDataInPlace:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this._registry,i=this._preferencesStore;t.forEach((function(t){for(var i=t["app-id"],r=!1,a=0;a<n.length;a++)if(i===n[a]["app-id"]){e._registry[a]=t,r=!0;break}r||e._registry.push(t);var o=t["registry-version"];e._registryVersions[i]=o}));var r=this._deserializeApps(t);for(var a in r){var o=r[a];i[a]=o}},_preferencesStore:Y.c({defaultValue:{},type:Object}),_registry:Y.c({defaultValue:[],type:Array}),_registryVersions:Y.c({defaultValue:{},type:Object}),_registryData:Y.c({type:Array}),staticMembers:{__QUALIFIED_CLASS_NAME__:"CorePreferencesStore"}}),ru=iu.create(),au={mixinDependencies:[Ne],name:"PreferencesServiceFromChildProtocol",version:"0.0.1",setPreferences:De.a.define()},ou={mixinDependencies:[Ne],name:"PreferencesServiceToChildProtocol",version:"0.0.1",preferencesDidUpdate:De.a.define()},su=Ge.a.extend({mixinDependencies:[wo.a,nu,au,ou,fs],init:function(){this.__s._$Gz$init.call(this),this.configureBidirectionalMessagingChannel(ou,this,au)},storeDelegate:Y.c({defaultValue:ru,type:iu}),setPreferences:function(e){return this.remoteProxy.setPreferences(e)},preferencesDidUpdate:function(e){var t=this.storeDelegate;t&&t.preferencesDidUpdate(e)},__superMap:{_$Gz$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PreferencesServiceConnection"}}),lu=Ti.extend({mixinDependencies:[Lc,Yc],applicationRedirectName:Y.c({type:String}),sizeClassHorizontal:X.b({dependencies:["_sizeClassHorizontal"],readOnly:!0,type:Ca,get:Object.assign((function(){return this._sizeClassHorizontal}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])}})}),sizeClassVertical:X.b({dependencies:["_sizeClassVertical"],readOnly:!0,type:Ca,get:Object.assign((function(){return this._sizeClassVertical}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])}})}),locale:Y.c({type:String,get:function(){return this.hostInfo.locale}}),regionFormatInfo:Y.c({type:String,get:function(){return this.hostInfo.regionFormat}}),secondaryLocale:Y.c({type:String,get:function(){return this.hostInfo.secondaryLocale}}),supportedLocales:Y.c({type:Array,get:function(){return this.hostInfo.supportedLocales}}),localesSupportedByAllApplications:Y.c({type:Array,get:function(){return this.hostInfo.localesSupportedByAllApplications}}),capitalizedName:Y.c({readOnly:!0,get:function(){var e=this.applicationName;return e&&(e="i"!==e.charAt(0)?bc(e):"i"+bc(e.substring(1))),e}}),_sizeClassHorizontal:X.b({strong:!0,type:Ca}),_sizeClassVertical:X.b({strong:!0,type:Ca}),_maintainSizeClass:Ni.f({inputs:["hostInfo"],callback:function(e){var t=Ca.getItemForValue(e&&e.sizeClassHorizontal)||Ca.REGULAR,n=Ca.getItemForValue(e&&e.sizeClassVertical)||Ca.REGULAR;yc(this,"_sizeClassHorizontal",t),yc(this,"_sizeClassVertical",n)}}),disableTouchScrolling:!0,errorFilter:function(e){var t=e.filename;if(!t||Vc.test(t)){var n=e.error.stack;if(n){var i=n.split("\n");t=i[1]||i[0]}}return $c.test(t)},fatalErrorHandler:function(e){var t=Wc(e);t.isFatal=!0,zc("OnFatalError",t);var n=e.detail.error,i=hi.a();i.exceptionHandler(n),i.exceptionWasHandled=!0},nonFatalErrorHandler:function(e){var t=Wc(e);t.isFatal=!1,zc("OnNonFatalError",t)},unhandledRejectionFilter:function(e){var t=e.reason;if(t){var n,i=t.stack,r=t.sourceURL;if(r)n=r;else if(i){var a=i.split("\n");n=a[1]||a[0]}return Kc.test(n)}return!1},fatalUnhandledRejectionHandler:function(e){var t=Qc(e);t.isFatal=!0,qc("OnFatalUnhandledRejection",t)},nonFatalUnhandledRejectionHandler:function(e){var t=Qc(e);t.isFatal=!1,qc("OnNonFatalUnhandledRejection",t)},init:function(){var e=this,t=arguments;Sc(this.errorFilter,this.fatalErrorHandler.bind(this),this.nonFatalErrorHandler.bind(this)),Ic(this.unhandledRejectionFilter,this.fatalUnhandledRejectionHandler.bind(this),this.nonFatalUnhandledRejectionHandler.bind(this)),e.__s._$24_$init.apply(e,t),this._redirectToCloudOSIfNeeded()},run:function(){var e=this,t=Ti.prototype.run;return this._loadRunDependencies().then((function(){return e._waitForWindowLoad()})).then((function(){return t.call(e)}))},_launchData:Y.c({type:Object,get:function(){return{windowPerfStats:eu.sharedInstance.statsHash}}}),_loadRunDependencies:function(){var e=this,t=this.hostInfo,n=t.regionFormat,i=t.locale,r=[this._initializeFramework()];return Z.a.all(r).then((function(){return Rc.sharedInstance.delegate=e,Zc.sharedInstance.delegate=e,ru.connectionDelegate=su.sharedInstance,e._configureFontCapability(),e._initializeRegionFormatter(i,n)}))},_configureFontCapability:function(){var e=Io.a.sharedInstance,t=e.osMajorVersion,n=e.osMinorVersion;if(e.isMac){if(t<10||n<14)return}else{if(!e.isiOS)return;if(t<12)return}Object(si.b)()},_initializeFramework:function(){var e=Z.a.resolve();return us.initializeWithApplication(this),e},_waitForWindowLoad:function(){var e=Z.a.create();return"complete"===document.readyState?e.resolve():ee.a(window,"load",(function(){ft.a((function(){e.resolve()}),0)})),e},_initializeRegionFormatter:function(e,t){return function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"icloud.com";e||ze.b("[RegionFormatter] No locale specfied info");var r="https://www."+i+"/locales/",a=wc.region;if(t){var o=t.version,s=t.rules,l=t.baseUrl,c=t.localeMap;a.localeMap=c||Tc,o===a.rulesVersion&&s?(a.registerRegionFormat(s),n=Z.a.resolve()):n=Oc(e,l||r,a.rulesVersion)}else n=Oc(e,r,a.rulesVersion);return n}(e,t,es.sharedInstance.current.domain)},_redirectToCloudOSIfNeeded:function(){if(!Object(oi.b)()){var e=globalThis.location.pathname.match(/\/applications\/(.*?)\//);if(e&&e[1]){var t=this.applicationRedirectName,n=Ke.a(t)?t:e[1];globalThis.location="https://"+globalThis.location.hostname+"/"+n+"/"}}},didReceiveRemoteNotification:function(e){},didFetchStartup:function(e,t){},__superMap:{_$24_$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK2Application"}}),cu=lu.extend({fileSystem:X.b(),disableTouchScrolling:!1,didFetchStartup:function(e,t){"function"===typeof jr.a(this,"delegate.didFetchStartup")&&this.delegate.didFetchStartup(e,t)},Initializers:Mi.a([_c]),staticMembers:{__QUALIFIED_CLASS_NAME__:"Application"}});function uu(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return setInterval.apply(void 0,[Object(Ft.a)(e),t].concat(i))}var du=function(e,t){var n,i,r=t.delay||50,a=t.timeout||1e4,o=t.testString||"MMMMMMMIIIa%@!",s=t.testFontFamily||'"Comic Sans MS"',l=t.testFontSize||"300px",c=t.fail,u=t.success,d=t.complete,h=t.fontWeight;h=h?h+" ":"";var f=document.createElement("canvas").getContext("2d");f.font=""+h+l+" "+s;var p=f.measureText(o).width;i=uu((function(){f.font=""+h+l+' "'+e+'", '+s,f.measureText(o).width!==p&&0!==p&&(clearInterval(i),clearTimeout(n),u&&u(),d&&d(!0))}),r),n=Object(ft.a)((function(){clearInterval(i),c&&c(),d&&d(!1)}),a)},hu=n(270),fu={mixinDependencies:[Ne],name:"URLRequestServiceProtocol",version:.1,didReceiveSpecialResponse:De.a.define(),requestSent:De.a.define(),requestReceived:De.a.define()},pu={mixinDependencies:[Me.a],notifySpecialResponseReceived:De.a.define(),notifyRequestSent:De.a.define(),notifyResponseReceived:De.a.define()},mu=Ge.a.extend({mixinDependencies:[fs,pu],staticMembers:{sharedInstance:Y.c({type:mu,get:function(){var e=mu._urlConnectionInstance;if(!e){var t=us.sharedInstance;if(t){var n=t.applicationInfo,i=t.clientId;e=mu._urlConnectionInstance=mu.create(n,i)}}return e}}),initialize:function(e){mu._urlConnectionInstance&&ze.b("ServiceInitializer: initialize: An initializer was already set"),mu._urlConnectionInstance=e},_urlConnectionInstance:Y.c({type:mu}),__QUALIFIED_CLASS_NAME__:"URLRequestConnection"},applicationInfo:Y.c({type:Object}),clientId:Y.c({type:String}),init:function(e,t){this.__s._$jg$init.call(this),e||ze.b("URLRequestConnection: no application info specified"),t||ze.b("URLRequestConnection: no client id specified"),this.applicationInfo=e,this.clientId=t,this.configureConnectionOnlyMessagingChannel(fu)},notifySpecialResponseReceived:function(e,t,n){return this.remoteProxy.didReceiveSpecialResponse(this.applicationInfo,e,t,n)},notifyRequestSent:function(){return this.remoteProxy.requestSent(this.applicationInfo)},notifyResponseReceived:function(e,t,n,i){return this.remoteProxy.requestReceived(this.applicationInfo,e,t,n,i)},__superMap:{_$jg$init:"init"}}),gu=n(66),vu={mixinDependencies:[Me.a],arrayBuffer:De.a.define(),blob:De.a.define(),formData:De.a.define(),json:De.a.define(),text:De.a.define()},_u=ne.b("HttpStatusClass",{NONE:"0",SUCCESS:"2",REDIRECT:"3",REQUEST_ERROR:"4",SERVER_ERROR:"5"});function bu(e){(!e||e<200||e>599)&&(e=0);var t=e.toString()[0];return _u.getItemForValue(t)}var yu=Ge.a.extend({mixinDependencies:[vu],init:function(e,t,n){this.__s._$Dk$init.call(this,n),this._encodedBody=e,this._jsonBody=t},headers:Y.c({type:Object}),ok:Y.c({readOnly:!0,type:Boolean,get:function(){return bu(this.status)===_u.SUCCESS}}),redirected:Y.c({readOnly:!0,type:Boolean,get:function(){ze.b("URLResponse: redirected: not implmented")}}),status:Y.c({type:Number}),statusText:Y.c({type:String}),type:Y.c({type:String,defaultValue:"default"}),url:Y.c({type:String}),useFinalUrl:Y.c({type:Boolean}),body:Y.c({readOnly:!0,get:function(){ze.b("URLResponse: body: not implemented")}}),bodyUsed:Y.c({readOnly:!0,type:Boolean,get:function(){ze.b("URLResponse: bodyUsed: not implemented")}}),clone:function(){ze.b("URLResponse: clone: not implemented")},error:function(){ze.b("URLResponse: error: not implemented")},redirect:function(e,t){ze.b("URLResponse: redirect: not implemented")},arrayBuffer:function(){ze.b("URLResponse: arrayBuffer: not implemented")},blob:function(){ze.b("URLResponse: blob: not implemented")},formData:function(){ze.b("URLResponse: formData: not implemented")},json:function(){return Z.a.resolve(this._jsonBody)},text:function(){return Z.a.resolve(this._encodedBody)},_encodedBody:Y.c({type:String}),_jsonBody:Y.c({type:Object}),__superMap:{_$Dk$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"URLResponse"}}),Su=Js.a.extend({init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;e||ze.b("URLRequest: no url specified");var i=t.credentials;if(i&&!t.hasOwnProperty("useCredentialsIfCrossOrigin"))switch(i){case"include":t.useCredentialsIfCrossOrigin=!0}t.url=e,n.__s._$FL$init.call(n,t)},__superMap:{_$FL$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"URLRequest"}}),Iu={timeRequestSent:Y.c({type:Number,defaultValue:void 0}),timeResponseReceived:Y.c({type:Number,defaultValue:void 0}),duration:Y.c({type:Number,readOnly:!0,get:function(){return this._timeRequestSent||ze.b("No request sent time set"),this._timeResponseReceived||ze.b("No response time set"),this._timeResponseReceived-this._timeRequestSent}}),shouldReportSuccess:Y.c({type:Boolean,defaultValue:!0}),shouldReportFailure:Y.c({type:Boolean,defaultValue:!0}),reportingPathname:Y.c({defaultValue:null}),reportingMethod:null},wu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.maxAttempts=5,this.getRetryWaitTime=void 0,this.getShouldRetry=void 0;var t=e.maxAttempts,n=e.getRetryWaitTime,i=e.getShouldRetry;"number"===typeof t&&(this.maxAttempts=t),this.getRetryWaitTime="function"===typeof n?n:function(e){return 200*Math.pow(2,e.responseList.length)},this.getShouldRetry="function"===typeof i?i:function(e){return 2!==Math.floor(e.response.status/100)}},Eu=Su.extend({mixinDependencies:[Iu],staticMembers:{from:function(e){Se.a(e,Eu)||ze.b("URLRetryableRequest: from: attempted to create from non retryable request");var t=Eu.create(e.url,e._options,e._retryOptions);return t.responseList=[].concat(e.responseList),t.requestPromise=e.requestPromise,t},__QUALIFIED_CLASS_NAME__:"URLRetryableRequest"},init:function(e,t,n){this.__s._$zK$init.call(this,e,t),t&&(this._options=t),n&&(this._retryOptions=n),n.maxAttempts&&(this.maxAttempts=n.maxAttempts)},retryWaitTime:Y.c({type:Number,get:function(){return this._retryOptions.getRetryWaitTime(this)}}),shouldRetry:Y.c({type:Boolean,get:function(){var e=this.response;return!!bt.a(e)&&this._retryOptions.getShouldRetry(this)}}),requestPromise:Y.c({type:Z.a}),maxAttempts:Y.c({type:Number,defaultValue:5}),currentRetryCount:Y.c({type:Number,get:function(){return this.responseList.length+1}}),_options:Y.c({type:Object}),_retryOptions:Y.c({type:Object}),responseList:Y.c({type:Array,defaultValue:[]}),record:function(e){this.responseList.push(e)},__superMap:{_$zK$init:"init"}}),Cu=yu.extend({staticMembers:{fromNormalizedResponse:function(e,t){var n=e._encodedBody,i=e._jsonBody,r=e.status,a=e.url,o=e.headers;return Cu.create(n,i,{status:r,url:a,headers:o},t)},__QUALIFIED_CLASS_NAME__:"URLRetryableResponse"},init:function(e,t,n,i){this.__s._$Hq$init.call(this,e,t,n),i||ze.b("URLRetryableResponse: init: no response list specified"),this.responseList=i},responseList:Y.c({type:Array}),totalResponseCount:Y.c({readOnly:!0,get:function(){return this.responseList.length+1}}),__superMap:{_$Hq$init:"init"}}),Au=n(720).a.extend({mixinDependencies:[wo.a],decode:function(e){var t=this,n=arguments;if(!Ke.a(e))return t.__s._$8I$decode.apply(t,n);try{return JSON.parse(e),t.__s._$8I$decode.apply(t,n)}catch(i){return null}},__superMap:{_$8I$decode:"decode"},staticMembers:{__QUALIFIED_CLASS_NAME__:"XHRBodySerializerNoWarnings"}}),Tu=Ge.a.extend({fetch:function(e,t){var n=Su.create(e,t);return this.fetchRequest(n)},fetchWithRetry:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new wu,i=Eu.create(e,t,n);return this.fetchRequest(i)},fetchRequest:function(e){var t,n=this;return e||ze.b("URLConnection: fetchRequest: no request specified"),Se.a(e,Eu)?(t=e.requestPromise=Z.a.create(),this._fetchRetryableRequest(e)):(this.willSendRequest(e),t=e.send().then((function(t){return n._responseWasReceived(e,t)}),(function(t){return n._responseWasReceived(e,t)}))),this.didSendRequest(e),t},willSendRequest:function(e){},didSendRequest:function(e){},didReceiveResponseForRequest:function(e,t){},_fetchRetryableRequest:function(e){var t=this;this.willSendRequest(e),e.send().catch(Xi.a).then((function(n){return e.shouldRetry?t._retryRequest(e,n):t._resolveRetryableRequest(e,n)}))},_resolveRetryableRequest:function(e,t){var n=Ou(e,t),i=Cu.fromNormalizedResponse(n,e.responseList);this.didReceiveResponseForRequest(e,i),e.requestPromise.resolve(i)},_retryRequest:function(e,t){var n=this,i=e.maxAttempts,r=e.currentRetryCount,a=e.retryWaitTime;if(r<i){var o=Ou(e,t),s=Eu.from(e);s.record(o),ft.a((function(){return n._fetchRetryableRequest(s)}),a)}else this._resolveRetryableRequest(e,t)},_responseWasReceived:function(e,t){var n=Ou(e,t);return this.didReceiveResponseForRequest(e,n),n},staticMembers:{__QUALIFIED_CLASS_NAME__:"URLConnection"}});function Ou(e,t){t.serializer=Au.sharedInstance;var n=t.headers,i=t.status,r=t.body,a=t.encodedBody,o=e.url,s=function(e){return Qe.a(e)?e:0}(i);return yu.create(a,r,{status:s,url:o.toString(),headers:Du(n)})}function Du(e){var t={};if(e)for(var n=e.split("\n"),i=0;i<n.length;i++)if(!(n[i].length<1)){var r=n[i].split(": "),a=r.shift(),o=r.join(":");t[a]=o}return t}var Mu={mixinDependencies:[Me.a],fetch:De.a.define()},Nu=Tu.extend({mixinDependencies:[Mu],clientId:Y.c({type:String}),masteringNumber:Y.c({type:String}),buildNumber:Y.c({type:String}),init:function(e,t,n){this.__s._$a0$init.call(this),e||ze.b("[CloudOSURLFetchService] no client id specified"),t||ze.b("[CloudOSURLFetchService] no mastering number specified"),n||ze.b("[CloudOSURLFetchService] no build number specified"),this.clientId=e,this.masteringNumber=t,this.buildNumber=n},willSendRequest:function(e){var t=e.url,n=this.clientId,i=this.masteringNumber;Fu(t,"clientBuildNumber",this.buildNumber),Fu(t,"clientMasteringNumber",i),Fu(t,"clientId",n)},__superMap:{_$a0$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CoreOSURLConnection"}});function Fu(e,t,n){e.setQueryParameter(t,n)}var Lu,Ru=Su.extend({init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;t.hasOwnProperty("credentials")||t.hasOwnProperty("useCredentialsIfCrossOrigin")||(t.credentials="include"),n.__s._$FQ$init.call(n,e,t)},__superMap:{_$FQ$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CloudOSRequest"}}).extend({mixinDependencies:[Iu],staticMembers:{__QUALIFIED_CLASS_NAME__:"URLReportingRequest"}}),xu=[330,401,421,423,503];function Pu(e){var t=e.status;return-1!==xu.indexOf(t)}function ku(e,t){return Lu||(Lu=ju.create()),Lu.fetch(e,t)}function Uu(e,t,n){return Lu||(Lu=ju.create()),Lu.fetchWithRetry(e,t,n)}var ju=Nu.extend({mixinDependencies:[Mu],fetch:function(e,t){var n=Ru.create(e,t);return this.fetchRequest(n)},willSendRequest:function(e){this.__s._$T2$willSendRequest.call(this,e),e.timeRequestSent=globalThis.performance.now(),this.handleWillSendReportingRequest(e)},didReceiveResponseForRequest:function(e,t){var n=this;e.timeResponseReceived=globalThis.performance.now();var i=t.text(),r=t.json();Z.a.all([i,r]).then((function(i){var r=i[0],a=i[1];n.handleDidReceiveResponseForReportingRequest(e,t,r,a)}))},handleWillSendReportingRequest:function(e){var t=this.dsid;t&&e.url.setQueryParameter("dsid",t),this.willSendReportingRequest(e)},handleDidReceiveResponseForReportingRequest:function(e,t,n,i){this._handleStat(e,t,n),Pu(t)&&this.handleSpecialResponseWasReceived(e,t,n,i),this._responseWasHandledForRequest(e,t)},willSendReportingRequest:function(e){},recordStat:function(e,t,n,i){},handleSpecialResponseWasReceived:function(e,t,n,i){e||ze.b("[CloudOSUrlService]: handleSpecialResponseWasReceived: No request specified"),t||ze.b("[CloudOSUrlService]: handleSpecialResponseWasReceived: No request specified");var r=e.duration,a=t.status,o={timeTaken:r},s=i&&i.retryAfter;s&&(o.retryAfter=s),this.specialResponseWasReceived(a,n,o)},specialResponseWasReceived:function(e,t,n){},_handleStat:function(e,t,n){e||ze.b("[CloudOSUrlService]: handleDidReceiveResponseForReportingRequest: No reporting request specified"),t||ze.b("[CloudOSUrlService]: handleDidReceiveResponseForReportingRequest: No response specified");var i=e.url,r=e.method,a=e.reportingMethod,o=e.duration,s=e.state,l=e.reportingPathname,c=e.dontReportServerError,u=null,d=t.status,h=e.serviceName;h||(h=function(e){var t;return(t=os(e.toString()))||(t=e.toString().match("https://p*[0-9]*-*([a-zA-Z0-9]*).")[1]),t}(i)),function(e,t){var n=t.status;return e.shouldReportFailure&&function(e){var t=bu(e);return 421!==e&&(t===_u.NONE||t===_u.REQUEST_ERROR||t===_u.SERVER_ERROR)}(n)||e.shouldReportSuccess&&function(e){return bu(e)===_u.SUCCESS}(n)||Pu(t)}(e,t)&&(u=Object.assign({httpMethod:a?a+" VIA "+r:r,statusCode:d,hostname:i.hostname,serviceName:h,clientTiming:o,net_uncompressedResponseSize:n?n.length:null,timedOut:s===gu.b.TIMEDOUT,urlPath:l||i.pathname},c&&{dontReportServerError:c})),this.recordStat(u,d,i.toString(),n)},_responseWasHandledForRequest:function(e,t){},__superMap:{_$T2$willSendRequest:"willSendRequest"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ReportingURLConnection"}}).extend({urlRequestConnection:Y.c({type:pu}),init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mu.sharedInstance,t=this;e||ze.b("CloudOSClientURLConnection: No CloudOS url request service specified");var n=e.clientId,i=e.applicationInfo,r=i.masteringNumber,a=i.buildNumber;t.__s._$xA$init.call(t,n,r,a),this.urlRequestConnection=e},dsid:Y.c({type:String,readOnly:!0,get:function(){var e,t=ws.defaultInstance;if(t){var n=t.user;n&&(e=n.dsid)}return e}}),willSendReportingRequest:function(e){this.urlRequestConnection.notifyRequestSent()},recordStat:function(e,t,n,i){this.urlRequestConnection.notifyResponseReceived(e,t,n,i)},specialResponseWasReceived:function(e,t,n){this.urlRequestConnection.notifySpecialResponseReceived(e,t,n)},__superMap:{_$xA$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CloudOSClientURLConnection"}});function Bu(e,t){return ku(e,t)}var Vu=Object.freeze(Object.assign({},Kt,{PCS_REQUIRED:"PCS_REQUIRED"}));function $u(e){return 2===Math.floor(e/100)}var Wu=n(745),zu={mixinDependencies:[Me.a],handleQueryFolderContentFailure:De.a.define()},Gu={FULL_ACCESS:{WARM_BOOT:1,COLD_BOOT:2},NEEDS_MIGRATION:3,NEEDS_ZONE:4,NONE:{PCS_MISSING:5,PCS_INVALID:6,STARTUP_ERROR:7},UNKNOWN:8};Object.freeze(Gu);var Hu=Ge.a.extend(wo.a,{init:function(e){e||Object(ze.b)("Storage#init requires a storage type."),this.__s._$Iw$init.call(this),this.storageType=e},storageType:null,getItem:function(e,t){var n=Ku(this.storageType);return n&&n.getItem?(t&&(e=t+"."+e),n.getItem(e)):null},setItem:function(e,t,n){var i=Ku(this.storageType);if(i&&i.setItem){n&&(e=n+"."+e);try{return i.setItem(e,t),!0}catch(r){}}return!1},getKeys:function(e){var t=Ku(this.storageType),n=[];if(t){var i=(e=e?e+".":"").length,r=function(t){return 0===t.indexOf(e)},a=function(e){return e.substring(i)};if(void 0!==t.length&&"function"===typeof t.key)for(var o=0,s=t.length;o<s;o++){var l=t.key(o);r(l)&&n.push(a(l))}else n=Object.keys(t).filter(r).map(a)}return n},removeItem:function(e,t){var n=Ku(this.storageType);if(n&&n.removeItem){t&&(e=t+"."+e);try{return n.removeItem(e),!0}catch(i){}}return!1},clear:function(e){var t=Ku(this.storageType);if(t){if(e){for(var n=this.getKeys(e),i=0,r=n.length;i<r;i++)this.removeItem(n[i],e);return!0}try{return t.clear(),!0}catch(a){}}return!1},__superMap:{_$Iw$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"StorageManager"}}).extend({init:function(){this.__s._$1mn$init.call(this,"sessionStorage")},__superMap:{_$1mn$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"SessionStorage"}});function Ku(e){try{return window[e]}catch(t){Re.b.warn("Could not get storage object for %@: %@",e,t)}}var Qu=X.a.extend({staticMembers:{booleanProperty:function(e){return qu.create(e)},numberProperty:function(e){return Yu.create(e)},stringProperty:function(e){return Xu.create(e)},enumProperty:function(e,t){return Ju.create(e,t)},__QUALIFIED_CLASS_NAME__:"ConfigProperty"},downstreamNodeManagerClass:Gi.a.extend({calculateValueForNode:function(e,t,n){if(n){var i=xi.a.getStateIDForNode(t);i>0&&xi.a.getValueForNode(i)}var r=e._config_debugValues[this.key];return void 0===r&&(r=this.get.call(e)),r},debugType:"Config"}),upstreamNodeManagerClass:Hi.b.extend({calculateValueForNode:function(e,t,n){var i,r=this.key;if(n){var a=xi.a.getStateIDForNode(t);xi.a.setStateDataForNode(void 0,t),xi.a.getValueForNode(a)}void 0===(i=xi.a.getStateDataForNode(t))?delete e._config_debugValues[r]:e._config_debugValues[r]=i},debugType:"Config"}),wasRegistered:function(){var e=this,t=arguments;e.__s._$vb$wasRegistered.apply(e,t),this.readOnly=!1},setInitialValueForObject:function(e,t,n){this.usesBuiltinGet?e._config_defaultValues[t]=n:e._config_defaultValues[t]=void 0},didChange:function(e){this.writeToSessionStorage&&this.writeToSessionStorage()},__superMap:{_$vb$wasRegistered:"wasRegistered"}}),qu=Qu.extend({type:"boolean",configType:"boolean",parse:function(e){return"boolean"===typeof e?e:"true"===e},staticMembers:{__QUALIFIED_CLASS_NAME__:"BooleanConfigProperty"}}),Yu=Qu.extend({type:"number",configType:"number",parse:function(e){return e=parseFloat(e),isNaN(e)?void 0:e},staticMembers:{__QUALIFIED_CLASS_NAME__:"NumberConfigProperty"}}),Xu=Qu.extend({type:"string",configType:"string",parse:function(e){return e+""},staticMembers:{__QUALIFIED_CLASS_NAME__:"StringConfigProperty"}}),Ju=Qu.extend({configType:"enum",allowedValues:null,parse:function(e){if(""!==e){var t=this.allowedValues;if(t.indexOf(e)>-1)return e;Object(ze.b)("Not a recognized value in enum: "+e,{value:e,allowedValues:t})}},init:function(e,t){var n=this;1===arguments.length&&Object(ue.a)(e)?n.__s._$1ZQ$init.call(n,e):(this.allowedValues=e,n.__s._$1ZQ$init.call(n,t))},__superMap:{_$1ZQ$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"EnumConfigProperty"}}),Zu=Ge.a.extend(Ni.a,wo.a,{staticMembers:{booleanProperty:Qu.booleanProperty,numberProperty:Qu.numberProperty,stringProperty:Qu.stringProperty,enumProperty:Qu.enumProperty,__QUALIFIED_CLASS_NAME__:"Config"},_config_debugValues:null,_config_urlValues:null,_config_defaultValues:null,_shouldWriteChangesToSessionStorage:!1,init:function(){this._config_defaultValues={},this._config_urlValues=Object.create(this._config_defaultValues),this._config_debugValues=Object.create(this._config_urlValues),this.__s._$1It$init.call(this),this.constructor===Zu?Object(ze.b)("CW.Config cannot be instantiated directly, must subclass."):this.constructor.storageKey||Object(ze.b)("Must define a `storageKey` static member for CW.Config subclasses."),this._computedStorageKey="Apple:Config:"+this.constructor.storageKey,ed.call(this),nd.call(this)&&this.didLoadConfigFromSessionStorage(),this._shouldWriteChangesToSessionStorage=!0,Object(ee.a)(window,"hashchange",ed.bind(this))},didLoadConfigFromSessionStorage:function(){},setFromString:function(e,t){this.set(e,this.getMetadata(e).parse(t))},typeOf:function(e){return this.getMetadata(e).configType},dump:function(e){e||(e="");var t=this._config_debugValues,n=this._config_urlValues,i="",r="",a="",o=[],s=this.getMetadataByType(Qu);for(i in s)s.hasOwnProperty(i)&&(r=e+i+": ",a="",t.hasOwnProperty(i)&&(a+=this.getDebugValue(i)+" (Debug); "),n.hasOwnProperty(i)&&(a+=this.getURLValue(i)+" (URL); "),a+=this.getDefaultValue(i)+" (Default)",o.push(r+a));return o.join("\n")},getDefaultValue:function(e){return void 0!==this._config_defaultValues[e]?this._config_defaultValues[e]:this.getMetadata(e).getForObject(this,e)},setDefaultValue:function(e,t){this._config_defaultValues[e]=t,this.propertyChanged(e)},getURLValue:function(e){if(this._config_urlValues.hasOwnProperty(e))return this._config_urlValues[e]},getDebugValue:function(e){if(this._config_debugValues.hasOwnProperty(e))return this._config_debugValues[e]},clearDebugValues:function(){var e=this.getMetadataByType(Qu);for(var t in e)e.hasOwnProperty(t)&&this.set(t,void 0)},writeToSessionStorage:function(){this._shouldWriteChangesToSessionStorage&&this._computedStorageKey&&td.setItem(this._computedStorageKey,JSON.stringify(this._config_debugValues))},__superMap:{_$1It$init:"init"}});function ed(){var e=function(e){var t={};if("#cw_config:"!==e.substr(0,"#cw_config:".length))return t;var n,i,r,a,o=(e=e.substr("#cw_config:".length)).split("&"),s=o.length;for(i=0;i<s;i++){var l=(n=o[i]).indexOf("=");l<0?(r=n,a="true"):(r=n.substr(0,l),a=n.substr(l+1)),r=decodeURIComponent(r),a=decodeURIComponent(a),t[r]=a}return t}(window.location.hash);for(var t in e)if(e.hasOwnProperty(t)){var n=e[t],i=this.getMetadata(t);i&&(void 0!==(n=i.parse(n))?this._config_urlValues[t]=n:delete this._config_urlValues[t],this.propertyChanged(t))}}var td=Hu.get("sharedInstance");function nd(){var e=td.getItem(this._computedStorageKey),t=this._config_defaultValues,n=!1;if(e)try{for(var i in e=JSON.parse(e))e.hasOwnProperty(i)&&t.hasOwnProperty(i)&&(this.set(i,e[i]),n=!0)}catch(r){}return n}var id=Zu.extend({staticMembers:{storageKey:"DriveFS"},uploadInitPathTemplate:Zu.stringProperty("/ws/%{zone}/upload/web"),uploadCommitPathTemplate:Zu.stringProperty("/ws/%{zone}/update/documents"),driveRootFolderId:Zu.stringProperty("FOLDER::com.apple.CloudDocs::root"),browseRootFolderId:Zu.stringProperty("FOLDER::com.apple.CloudDocs::root"),trashRootFolderId:Zu.stringProperty("TRASH_ROOT")}).create(),rd=ne.b("BRKit.ChangeSetInfoAction",["None","Insert","Remove","Move","Update"]),ad=Ge.a.extend({staticMembers:{createInsertItem:function(e,t){return ad.create({value:e,beforeIndex:null,afterIndex:bt.a(t)?t:null,action:rd.Insert})},createRemoveItem:function(e,t){return ad.create({value:e,beforeIndex:bt.a(t)?t:null,afterIndex:null,action:rd.Remove})},createMoveItem:function(e,t,n){return ad.create({value:e,beforeIndex:bt.a(t)?t:null,afterIndex:bt.a(n)?n:null,action:rd.Move})},createUpdateItem:function(e,t,n,i){return ad.create({value:e,diff:t||null,beforeIndex:bt.a(n)?n:null,afterIndex:bt.a(i)?i:null,action:rd.Update})},__QUALIFIED_CLASS_NAME__:"ChangeSetItem"},value:null,beforeIndex:null,afterIndex:null,action:null}),od=Ge.a.extend({init:function(e){this.__s._$TN$init.call(this),this._items=e.items,this._counter=0},hasNext:function(){return this._counter<this._items.length},next:function(){var e=null;return this.hasNext()&&(e=this._items[this._counter],this._counter++),e},__superMap:{_$TN$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ChangeSetIterator"}}),sd=Ge.a.extend({staticMembers:{Action:rd,__QUALIFIED_CLASS_NAME__:"ChangeSet"},items:Y.c({readOnly:!0,get:function(){return this._items}}),length:Y.c({readOnly:!0,get:function(){return this._items.length}}),count:Y.c({readOnly:!0,get:function(){return this._items.length}}),hasItems:Y.c({readOnly:!0,get:function(){return this._items.length>0}}),iterator:Y.c({readOnly:!0,get:function(){return od.create({items:this._items.slice()})}}),init:function(e){this.__s._$my$init.call(this,e),this._items=[]},getItemAtIndex:function(e){return this._items[e]||null},addChangeSetItem:function(e){this._items.push(e)},recordInsert:function(e,t){var n=ad.createInsertItem(e,t);return this.addChangeSetItem(n),n},recordRemove:function(e,t){var n=ad.createRemoveItem(e,t);return this.addChangeSetItem(n),n},recordMove:function(e,t,n){var i=ad.createMoveItem(e,t,n);return this.addChangeSetItem(i),i},recordUpdate:function(e,t,n,i){var r=ad.createUpdateItem(e,t,n,i);return this.addChangeSetItem(r),r},forEach:function(e){this._items.forEach(e)},filter:function(e){var t=sd.create();return this._items.forEach((function(n){!1!==e(n)&&t.addChangeSetItem(n)})),t},map:function(e){return this._items.map(e)},toString:function(){for(var e,t="[ChangeSet: ",n=this._items,i=n.length,r=0;r<i;r++){switch((e=n[r]).get("action")){case rd.Insert:t+="<Insert: "+e.get("value")+">";break;case rd.Remove:t+="<Remove: "+e.get("value")+">";break;case rd.Update:t+="<Update: "+e.get("value")+">";break;case rd.Move:t+="<Move: "+e.get("value")+">"}r<i-1&&(t+=", ")}return 0===i&&(t+="EMPTY"),t+"]"},__superMap:{_$my$init:"init"}}),ld=n(324),cd=ne.b("BRApp.FolderContentSortTypeEnum",["Name","Kind","DateModified","Size"]),ud=function(e,t){return Id(e,t)?wd(e,t):gd(_d,bd,vd)(e,t)},dd=function(e,t){return e-t},hd=xl,fd=function(e){return function(t,n){return-e(t,n)}},pd=function(e){return function(t){return t[e]}},md=function(e,t){return function(n,i){return t(e(n),e(i))}},gd=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){for(var i=0,r=t.length;i<r;i++){var a=(0,t[i])(e,n);if(0!==a)return a}return 0}},vd=md(pd("id"),hd),_d=gd(md(pd("name"),hd),md(pd("extension"),hd)),bd=md(("dateModified",function(e){var t=pd("dateModified"),n=function(e){return function(t){return bt.a(t)?t:e}}(e);return function(e){var i=t(e);return n(i)}})(0),fd(dd)),yd=function(e){return e.isFolder?0:1},Sd=function(e){return t=yd,n=[md(pd("name"),hd),e],function(e,i){var r=t(e),a=t(i);return r===a?n[r](e,i):r-a};var t,n},Id=function(e,t){return null===e||void 0===e||null===t||void 0===t},wd=function(e,t){return void 0===e||null===e?void 0===t||null===t?0:-1:void 0===t||null===t?1:void 0};function Ed(e){return this[e]}function Cd(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ed,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xi.a,a=e.length;if(0===a)return 0;for(var o=0,s=a-1,l=r.call(e,t,e);o<=s;){var c=Math.trunc((o+s)/2),u=i.call(e,c,e),d=r.call(e,u,e),h=n(l,d);if(h<0)s=c-1;else{if(!(h>0))return c;o=c+1}}return o}function Ad(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xi.a,a=i.call(e,t,e),o=r.call(e,a,e),s=0===t,l=s?void 0:i.call(e,t-1,e),c=s||n(o,r.call(e,l,e))>0;if(c){var u=t===e.length-1,d=u?void 0:i.call(e,t+1,e),h=u||n(o,r.call(e,d,e))<0;return h}return!1}var Td=ne.b("BRApp.FolderContentLoadStateEnum",["NotLoading","Loading"]),Od=ne.b("BRApp.FolderContentDataStateEnum",["NotLoaded","Loaded","Error"]),Dd=Ge.a.extend(Ni.a,{staticMembers:{isItemHidden:function(e){return e.name.startsWith(".")||e.isFolder&&e.isTrashRoot},isItemExpired:function(e){var t=e.getDateExpiration();return t instanceof Date&&t<Date.now()},isItemExpiredInTrash:function(e){return this.isItemExpired(e)&&e.isInTrash},isItemUnpurgedInTrash:function(e){var t=e.getDateExpiration();return this.isItemExpiredInTrash(e)&&Date.now()-t>=1296e6},__QUALIFIED_CLASS_NAME__:"FolderContent"},folder:X.b({readOnly:!0,type:Md}),_fileSystem:X.b(dt.a.bindingFor("application.fileSystem")),length:X.b(J.c("visibleContent.length")),isVirtual:X.b(J.c("folder.isVirtual")),sortType:X.b(J.c("_fileSystem.sortType")),sortComparators:X.b(J.c("_fileSystem.sortComparators")),isInTrash:Y.c({readOnly:!0,get:function(){return this.folder.isInTrash}}),isRemoteSyncing:X.b(!1),isLoading:X.b({readOnly:!0,dependencies:["loadState"],get:Object.assign((function(){return this.loadState===Td.Loading}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===Td.Loading}})}),hasLoadedContent:X.b({readOnly:!0,dependencies:["dataState"],get:Object.assign((function(){return this.dataState===Od.Loaded}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===Od.Loaded}})}),hasError:X.b({readOnly:!0,dependencies:["dataState"],get:Object.assign((function(){return this.dataState===Od.Error}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===Od.Error}})}),loadState:X.b(Td.NotLoading),dataState:X.b(Od.NotLoaded),sortComparator:X.b({readOnly:!0,dependencies:["sortType","sortComparators"],get:function(){var e=this.sortType,t=void 0===e?cd.Name:e;return this.sortComparators[t]},didChange:function(e){var t=this.visibleContent;t.beginBatchedChanges(),t.sort(e),t.endBatchedChanges()}}),transactionCount:X.b(0),changed:Ni.g(),init:function(e,t){this.folder=e,this.__s._$1TQ$init.call(this,t)},visibleContent:X.b({readOnly:!0,defaultValue:ut.b(Sr)}),_filterFoundExpiredItem:!1,_filterFoundUnpurgedItem:!1,isItemVisible:function(e){var t=this.constructor,n=!1;if(e.isInTrash){n=t.isItemExpiredInTrash(e);var i=t.isItemUnpurgedInTrash(e);this._filterFoundExpiredItem=this._filterFoundExpiredItem||n,this._filterFoundUnpurgedItem=this._filterFoundUnpurgedItem||i}return!t.isItemHidden(e)&&!n},_updateVisibleContent:Ni.f({inputs:["allContent","allContent.contentsDidChange","sortComparator"],callback:function(e,t,n){this._filterFoundExpiredItem=!1,this._filterFoundUnpurgedItem=!1;var i=this.visibleContent;if(t instanceof Object){i.beginBatchedChanges();for(var r=t.context,a=i.store,o=i.storeIdForObjectAt,s=a.materializeModel.bind(a),l=0,c=r.length;l<c;l++){var u=r[l],d=u.encodedItem,h=u.item;if(u.operation===ld.a.INSERT&&this.isItemVisible(h)){var f=Cd(i,d,n,o,s);i.encodedObjectAt(f)!==d&&i.encodedSplice(f,0,d)}else{var p=r[l+1];if(p instanceof Object&&p.operation===ld.a.INSERT&&p.encodedItem===d)if(this.isItemVisible(h)){var m=i.encodedIndexOf(d);Ad(i,m,n,o,s)?l++:i.removeAt(m)}else l++;else i.encodedRemove(d)}}i.endBatchedChanges()}else{var g=e.toArray().filter(this.isItemVisible,this).sort(n);i.splice.apply(i,[0,this.visibleContent.length].concat(g))}var v=this._fileSystem.loggingService;this._filterFoundExpiredItem&&v.recordStat("purgeableItemsReceived"),this._filterFoundUnpurgedItem&&v.recordStat("purgedItemsReceived")}}),findFirstItemMatchingName:function(e){var t=e?e.toLowerCase():"";return this.allContent.find((function(e){return(e.name?e.name.toLowerCase():"")===t}))},findItemMatchingShareRecordName:function(e){return this.allContent.find((function(t){return(t.shareID?t.shareID.shareName:"")===e}))},findFolderWithName:function(e){var t=e?e.toLowerCase():"";return this.allContent.find((function(e){if(e.isFile)return!1;var n=e.sanitizedName?e.sanitizedName.toLowerCase():"",i=e.name?e.name.toLowerCase():"";return t===n||t===i}))},findFileWithNameAndExtension:function(e,t){return this.allContent.find((function(n){return!!n.isFile&&(n.name?n.name.toLowerCase():"")===(e?e.toLowerCase():"")&&(n.extension?n.extension.toLowerCase():"")===(t?t.toLowerCase():"")}))},hasFileWithNameAndExtension:function(e,t){return!!this.findFileWithNameAndExtension(e,t)},hasItemMatchingName:function(e){return!!this.findFirstItemMatchingName(e)},allContent:X.b({readOnly:!0,defaultValue:ut.b(Sr)}),_allContentSet:ut.b(globalThis.Set),allContentObserver:Ni.f({inputs:["allContent","allContent.contentsDidChange"],callback:function(e,t){if(e)if(e&&!t)this._allContentSet=new Set(e);else{var n=t.context;this._allContentSet||(this._allContentSet=new Set);for(var i=this._allContentSet,r=0,a=n.length;r<a;r++){var o=n[r],s=o.operation,l=o.item;s===ld.a.INSERT?i.add(l):s===ld.a.REMOVE&&i.delete(l)}this.changed(t.context)}else this._allContentSet=new Set}}),loaded:function(){this.loadState=Td.NotLoading,this.dataState=Od.Loaded},delegate:null,handleRemoteFolderUnshare:function(){var e=this.folder,t=this.delegate;t&&t.folderWasUnsharedRemotely&&"function"===typeof t.folderWasUnsharedRemotely&&t.folderWasUnsharedRemotely(e),e.parent&&e.parent.content&&"function"===typeof e.parent.content.removeItem&&e.parent.content.removeItem(e)},beginChanges:function(){this.allContent.beginBatchedChanges()},endChanges:function(){this.allContent.endBatchedChanges()},addItem:function(e){this._allContentSet.has(e)||(this.isVirtual||(e.parentId=this.folder.id),this._allContentSet.add(e),this.allContent.add(e))},addItems:function(e){this.beginChanges();for(var t=0,n=e.length;t<n;t++)this.addItem(e[t]);this.endChanges()},removeItem:function(e){this._allContentSet.has(e)&&(this.isVirtual||(e.parentId=null),this._allContentSet.delete(e),this.allContent.remove(e))},removeItems:function(e){this.beginChanges();for(var t=0,n=e.length;t<n;t++)this.removeItem(e[t]);this.endChanges()},updateItem:function(e){this.beginChanges(),this.removeItem(e),this.addItem(e),this.endChanges()},startRemoteSynchronization:function(){this.isRemoteSyncing||(this.isRemoteSyncing=!0,this._scheduleNextSync())},stopRemoteSynchronization:function(){this.isRemoteSyncing&&(this._cancelScheduledSync(),this.isRemoteSyncing=!1)},shouldAllowSync:X.b({readOnly:!0,dependencies:["isRemoteSyncing","hasLoadedContent","isLoading","transactionCount"],get:Object.assign((function(){return!(!this.isRemoteSyncing||!this.hasLoadedContent||this.isLoading||this._syncPromise||this.transactionCount>0)}),{__CW__getter:function(e,t,n,i){return!(!i.internalGet(this,t[0+n])||!i.internalGet(this,t[1+n])||i.internalGet(this,t[2+n])||this._syncPromise||i.internalGet(this,t[3+n])>0)}})}),_scheduleNextSync:function(){if(this.shouldAllowSync){var e,t=this._syncScheduleStart;Number.isFinite(t)?(e=3e4-(Date.now()-this._syncScheduleStart))<0&&(e=0):(t=this._syncScheduleStart=Date.now(),e=3e4);var n=this;this._syncTimeoutHandle=ft.a((function(){n.sync()}),e)}},_cancelScheduledSync:function(){this._syncTimeoutHandle&&(clearTimeout(this._syncTimeoutHandle),this._syncTimeoutHandle=null)},sync:function(){return this._syncScheduleStart=null,this.shouldAllowSync?this._forceSync():Z.a.resolve(!1)},_forceSync:function(){var e=this;if(this._syncPromise)return this._syncPromise;this._cancelScheduledSync();var t=this._syncPromise=this._fileSystem.fetchFolderContentChangeSet({folder:this.folder}).then((function(n){if(!e._syncPromise||t===e._syncPromise){var i=n.data;n.ok?e._fetchFolderContentChangeSetDidResolve(i):e._fetchedFolderContentChangeSetDidReject(i)}}));return t},_fetchFolderContentChangeSetDidResolve:function(e){var t=this;this._syncPromise&&(!0===e.folderWasUnshared&&this.handleRemoteFolderUnshare(),this.beginChanges(),e.forEach((function(e){var n=e.value;switch(e.action){case sd.Action.Insert:t.addItem(n);break;case sd.Action.Remove:t.removeItem(n);break;case sd.Action.Update:t.updateItem(n)}})),this.endChanges(),this._syncPromise=null,this._scheduleNextSync())},_fetchedFolderContentChangeSetDidReject:function(e){this._syncPromise=null,this._scheduleNextSync()},loadAllContent:function(){var e=this;if(this.isLoading)return this._fetchFolderContentPromise;this.loadState=Td.Loading,this._cancelScheduledSync();var t=this._fileSystem.fetchFolderContent({folder:this.folder}).then((function(t){e._fetchFolderContentPromise=null;var n=t.data;return t.ok?e._fetchFolderContentDidComplete(n):e._fetchFolderContentDidFail(n),t}));return this._fetchFolderContentPromise=t,t},_fetchFolderContentDidComplete:function(e){this.loadState=Td.NotLoading,this.dataState=Od.Loaded,this.beginChanges();var t=e.items;this.isVirtual||t.forEach((function(e){var t=e.parent;null!==e.parentId&&bt.a(t)&&t.content.removeItem(e)})),this.addItems(t),this.endChanges(),this._scheduleNextSync()},_fetchFolderContentDidFail:function(e){this.loadState=Td.NotLoading,this.dataState=Od.Error},prepareForTransaction:function(e){this.transactionCount++,this._cancelScheduledSync(),this._syncPromise=null},finalizeForTransaction:function(e){this.transactionCount--,0===this.transactionCount&&this._scheduleNextSync()},__superMap:{_$1TQ$init:"init"}}),Md=Ea.extend({staticMembers:{createPlaceholder:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xr.FOLDER,i=this;return i.__s._$Dz$createPlaceholder.call(i,e,t,n)},isASystemRootFolder:function(e){return Md.isDriveRootFolder(e)||Md.isTrashRootFolder(e)},isDriveRootFolder:function(e){return e===id.driveRootFolderId},isTrashRootFolder:function(e){return e===id.trashRootFolderId},isBrowseRootFolder:function(e){return e===id.browseRootFolderId},__superMap:{_$Dz$createPlaceholder:"createPlaceholder"},__QUALIFIED_CLASS_NAME__:"Folder"},numberOfItems:Ur(),sharedByMeCount:Ur({dataKey:"shareCount"}),fileCount:Ur(),sharedToMeCount:Ur({dataKey:"shareAliasCount"}),assetQuota:Ur(),supportedExtensions:Ur(),canModifyContents:X.b(!0),canListContents:X.b(!0),cascadeAccessRights:X.b(!0),fullName:X.b({readOnly:!0,dependencies:[".name"],get:function(){return this.name}}),isDriveRoot:X.b({dependencies:["id"],readOnly:!0,get:Object.assign((function(){return this.constructor.isDriveRootFolder(this.id)}),{__CW__getter:function(e,t,n,i){return this.constructor.isDriveRootFolder(i.internalGet(this,t[0+n]))}})}),isBrowseRoot:X.b({dependencies:["id"],readOnly:!0,get:Object.assign((function(){return this.constructor.isBrowseRootFolder(this.id)}),{__CW__getter:function(e,t,n,i){return this.constructor.isBrowseRootFolder(i.internalGet(this,t[0+n]))}})}),isTrashRoot:X.b({dependencies:["id"],readOnly:!0,get:Object.assign((function(){return this.constructor.isTrashRootFolder(this.id)}),{__CW__getter:function(e,t,n,i){return this.constructor.isTrashRootFolder(i.internalGet(this,t[0+n]))}})}),isInTrash:X.b({dependencies:Mi.a(["isTrashRoot"]),get:function(){var e=this,t=arguments,n=this.isTrashRoot;return n||(n=e.__s._$1Hn$get.apply(e,t)),n},__superMap:{_$1Hn$get:"get"}}),isSystemFolder:Y.c({readOnly:!0,get:function(){var e=this.sanitizedName,t=this.constructor,n=t.isASystemRootFolder(this.id),i=t.isASystemRootFolder(this.parentId)&&("Desktop"===e||"Documents"===e);return n||i}}),sanitizedName:Ur({dataKey:"name",decode:function(e){return this.isAppLibrary&&!e?function(e){var t=e.zone;return"iCloud.com.savysoda.iSpreadsheet"===t?"iSpreadsheet":(dt.a.application.fileSystem.loggingService.recordStat("DetectedAnAppLibraryWithNoName"),(t=t&&t.replace(/^iCloud\./,""))||"")}(this):e}}),name:X.b({dependencies:["sanitizedName","zone"],get:Object.assign((function(){var e=a.a.sharedInstance,t=this.sanitizedName;if(this.isSystemFolder){if(this.isDriveRoot)return a.d("DriveFS.RootFolderName");if(this.isTrashRoot)return a.d("DriveFS.Default.FolderName.RecentlyDeleted");var n="DriveFS.LocalizedItemName."+t;if(e.hasValue(n))return a.d(n)}else if(this.zone){var i="DriveFS.LocalizedAppLibraryName."+this.zone.toLowerCase();if(this.isAppLibrary&&e.hasValue(i))return a.d(i)}return Nd(t)}),{__CW__getter:function(e,t,n,i){var r=a.a.sharedInstance,o=i.internalGet(this,t[0+n]);if(this.isSystemFolder){if(this.isDriveRoot)return a.d("DriveFS.RootFolderName");if(this.isTrashRoot)return a.d("DriveFS.Default.FolderName.RecentlyDeleted");var s="DriveFS.LocalizedItemName."+o;if(r.hasValue(s))return a.d(s)}else if(i.internalGet(this,t[1+n])){var l="DriveFS.LocalizedAppLibraryName."+i.internalGet(this,t[1+n]).toLowerCase();if(this.isAppLibrary&&r.hasValue(l))return a.d(l)}return Nd(o)}}),set:Object.assign((function(e){return(this.isFile||this.isFolder)&&(e=e.replace(/\//g,":")),this.sanitizedName=e,e}),{__CW__setter:function(e,t,n,i,r){return(this.isFile||this.isFolder)&&(e=e.replace(/\//g,":")),n[0+i]=e,e}}),writeDependencySetPathMap:[!1]}),icons:Ur(),content:X.b({readOnly:!0,get:function(){var e=this._folderContent;return e||(e=this._folderContent=this.loadFolderContent()),e}}),isVirtual:X.b(!1),getAllDescendents:function(){return function e(t,n){for(var i=t.content,r=0;r<i.length;r++){var a=i.objectAt(r);n.add(a),(a.isFolder||a.isAppLibrary)&&e(a,n)}return n}(this,new Set)},loadFolderContent:function(){return Dd.create(this)},acceptsItems:function(e){var t=this,n=this.transactionState===Jr.Prepared,i=this.canModifyContents,r=Sa(this),a=this.isSharedToMe&&bt.a(this.fullShareRecordHash)&&"READ_ONLY"===jr.a(this,"fullShareRecordHash.currentUserParticipant.permission");if(!n||!i||r||a)return!1;var o=this.depth,s=this.zone,l=this.acceptsFilesWithExtension.bind(this);return!e.some((function(e){return function(e){return e===t}(e)||function(e){return e.parent===t}(e)||function(e){return!e.canBeMoved}(e)||function(e){return(e.isFolder||e.share===Yr.TO_ME)&&e.zone!==s||e.isFile&&!l(e.extension)}(e)||function(e){return e.isFolder&&e.depth+o>60}(e)}))},acceptsFilesWithExtension:function(e){var t=this.isAppLibrary?this:this.getContainingAppLibrary();if(t){var n=t.supportedExtensions,i=e?e.toLowerCase():null;if(n&&n.indexOf(i)<0)return!1}return!0},getContainingAppLibrary:function(){for(var e=this.parent;e;){if(e.isAppLibrary)return e;e=e.parent}return null},getAppLibrary:function(){if(this.isAppLibrary)return this;for(var e=this.parent;e;){if(e.isAppLibrary)return e;e=e.parent}return null},prepareForTransaction:function(e){this.content.prepareForTransaction(e)},finalizeForTransaction:function(e){this.content.finalizeForTransaction(e)}});function Nd(e){var t=e;return t&&(t=(t=t.replace(/:/g,"/")).replace(/(\n|\r)/g," ")),t||""}var Fd,Ld=Ge.a.extend({run:Vr.a,staticMembers:{__QUALIFIED_CLASS_NAME__:"Query"}}),Rd=function(e){return function(t){return function(n){return[].concat(n.slice(0,e),[t(n[e])],n.slice(e+1))}}},xd=Rd(0),Pd=Rd(1),kd=function(e){return function(t){return function(n){return t(e(n))}}},Ud=xd(kd(kd((function(e){return Se.a(e,hu.a)?e:hu.a.create(e)}))((function(e){var t=jr.a(dt.a,"application.applicationName")||"unknown";return e.appendQueryParameter("appIdentifier",t),e})))((function(e){var t=ii.a();return e.appendQueryParameter("reqIdentifier",t),e}))),jd=Pd((function(e){return e.useCredentialsIfCrossOrigin=!0,e})),Bd=kd(Ud)(jd),Vd=(Fd=Bd,function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(void 0,Fd(n))}}),$d=Vd(ku),Wd=Vd(Uu),zd=n(199);function Gd(e){var t=e.ok;return e.json().then((function(e){return o.okResult(e)})).catch((function(){return o.failedResult(null)})).then((function(e){var n=e.ok,i=e.data;return n?t?o.okResult(i):o.failedResult(i):o.failedResult(null)}))}function Hd(e){var t=bt.a(e)?e.status:null,n=jr.a(e,"body.errorReason");return 503===t&&("RETRY"===n||"THROTTLED"===n||"CROSS_ZONE_MIGRATION_IN_PROGRESS"===n)}var Kd={mixinDependencies:[Me.a],recordStat:De.a.define()},Qd=Ge.a.extend(Kd,{init:function(){this.telemetry=kc.create(),this.__s._$74$init.call(this)},telemetry:null,recordStat:function(e,t){return dt.a.application.processState!==Ae.TERMINATED?this.telemetry.recordStat(e,t):Z.a.resolve()},__superMap:{_$74$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ICloudDriveLoggingService"}}),qd=ne.b("BRApp.ErrorType",["Unknown","Server","Client","AccountNotMigrated","PCSMissing","PCSInvalid","QuotaExceeded","Prefetch"]),Yd=(qd.Unknown,Ge.a.extend({maxAttempts:3,determineShouldRetryRequest:function(e){var t=e.response;return bt.a(t)&&Hd(t)},determineRetryWaitTime:function(e){var t=e.response,n=bt.a(t)?function(e){if(Hd(e)){var t=function(e){var t=e.headers;if("string"===typeof t){for(var n={},i=(t=t.split("\n")).length;i--;){var r=/^\s*(.+?)\s*:\s*(.*)\s*$/.exec(t[i]);r&&3===r.length&&(n[r[1].toLowerCase()]=r[2])}return n}return t}(e),n=t&&parseInt(t["retry-after"]);if(n)return n;var i=e.body,r=i&&i.errors;if(r)for(var a=r.length;a--;){var o=r[a];if(n=o&&parseInt(o.retryAfterSeconds))return n}}}(t):null;return bt.a(n)?n:1e3*Math.pow(2,e.responseList.length)},transport:null,serviceName:"drivews",fetch:Wd,_reportingPermitList:["/retrieveSharedItemDetailsInFolders","/retrieveItemDetailsInFolders","/retrieveItemDetails","/retrieveTrashDetails","/createFolders","/deleteItemsInTrash","/deleteItems","/moveItemsToTrash","/moveItems","/renameItems","/shareFolder"],_timeoutPermitList:["/retrieveSharedItemDetailsInFolders","/retrieveItemDetailsInFolders","/retrieveItemDetails","/retrieveTrashDetails"],init:function(e){var t=this,n=arguments;t.__s._$15i$init.apply(t,n),this._reportingPermitList=Qi.a(this._reportingPermitList),this._timeoutPermitList=Qi.a(this._timeoutPermitList)},post:function(e,t,n,i,r){var a=gu.a.POST;return this._sendRequest(e,t,n,i,r,a)},_getUrlForRequest:function(e,t){if(rs(this.serviceName)){var n=hu.a.create(as(this.serviceName,e));if(t)for(var i=0,r=Object.entries(t);i<r.length;i++){var a=r[i],o=a[0],s=a[1];n.appendQueryParameter(o,s)}return n}return null},_getOptionsForRequest:function(e,t,n,i){var r={method:n,body:t,headers:{"Content-Type":"text/plain"}},a=this.transport;return a&&(r.transport=a),this._reportingPermitList[e]&&(r.reportingPathname=null,r.shouldReportSuccess=!0,r.shouldReportFailure=!0),i?r.timeout=i:this._timeoutPermitList[e]&&(r.timeout=18e4),r},_getRetryOptions:function(){return{getRetryWaitTime:this.determineRetryWaitTime.bind(this),getShouldRetry:this.determineShouldRetryRequest.bind(this),maxAttempts:this.maxAttempts}},_sendRequest:function(e,t,n,i,r,a){var s=this,l=this._getUrlForRequest(e,r);if(bt.a(l)){var c=l,u=this._getOptionsForRequest(e,t,a,n),d=this._getRetryOptions();return this.fetch(c,u,new wu(d)).catch((function(e){return e})).then((function(n){var i=n.status;return n.json().then((function(n){if($u(i))return o.okResult(n);var r;if(i>=500)r=qd.Server;else if(i<400)r=qd.Unknown;else switch(i){case 402:r=qd.AccountNotMigrated;break;case 423:r=qd.PCSMissing;break;case 424:r=qd.PCSInvalid;break;default:r=qd.Client}var l=zd.a("%{service}: Request failed for %{method} %{path}",{service:s.serviceName,method:a,path:e}),c=new Error(l);return c.type=r,c.status=i,c.body=t||null,o.failedResult(c)}))}))}var h=this.serviceName+": app lost auth token at runtime",f=new Error(h);return f.type=qd.PCSMissing,f.body=null,Qd.create().recordStat(h).then((function(){return o.failedResult(f)}))},__superMap:{_$15i$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DriveWebService"}})),Xd=Ge.a.extend({service:Y.c({readOnly:!0,get:function(){return this._service}}),init:function(){var e=this,t=arguments;e.__s._$5I$init.apply(e,t),this._service=Yd.create()},__superMap:{_$5I$init:"init"}}).create().service,Jd=function(){function e(){this.state=ih.NOT_LOADED,this.url=null,this.expiration=null,this.etag=null}var t=e.prototype;return t.load=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Zd.apply(void 0,[this].concat(t))},t.initialize=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eh.apply(void 0,[this].concat(t))},t.reset=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return th.apply(void 0,[this].concat(t))},e}(),Zd=function(e){return nh(e,rh.LOAD)},eh=function(e,t,n){var i=bt.a(t)?rh.INITIALIZE.PRESENT:rh.INITIALIZE.ABSENT,r=nh(e,i),a=r.ok,o=r.data;return a&&(o.url=t,o.etag=n,o.expiration=new Date(Date.now()+6e5)),r},th=function(e){var t=rh.UNLOAD,n=nh(e,t),i=n.ok,r=n.data;return i&&(r.url=null,r.etag=null,r.expiration=null),n},nh=function(e,t){var n=e.state,i=ah(n,t),r=i.ok,a=i.data;return r?(e.state=a,o.okResult(e)):o.failedResult(e)},ih=Object.freeze({NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:Object.freeze({PRESENT:"PRESENT",ABSENT:"ABSENT"})}),rh=Object.freeze({LOAD:"LOAD",INITIALIZE:Object.freeze({PRESENT:"PRESENT",ABSENT:"ABSENT"}),UNLOAD:"UNLOAD"}),ah=function(e,t){return e===ih.NOT_LOADED?t===rh.LOAD?o.okResult(ih.LOADING):o.failedResult():e===ih.LOADING?t===rh.INITIALIZE.PRESENT?o.okResult(ih.LOADED.PRESENT):t===rh.INITIALIZE.ABSENT?o.okResult(ih.LOADED.ABSENT):o.failedResult():e===ih.LOADED.PRESENT?t===rh.UNLOAD?o.okResult(ih.NOT_LOADED):o.failedResult():e===ih.LOADED.ABSENT&&t===rh.UNLOAD?o.okResult(ih.NOT_LOADED):o.failedResult()},oh=ih,sh=Ea.extend({staticMembers:{createPlaceholder:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xr.FILE,i=this;return i.__s._$8j$createPlaceholder.call(i,e,t,n)},__superMap:{_$8j$createPlaceholder:"createPlaceholder"},__QUALIFIED_CLASS_NAME__:"File"},fullName:X.b({readOnly:!0,dependencies:[".name",".extension"],get:function(){var e=this.extension;return e?this.name+"."+e:this.name}}),extension:Ur({decode:function(e){return e||""}}),nativeFileData:null,thumbnailMetadata:Y.c({defaultValue:function(){return new Jd}})});function lh(e,t){var n,i,r=sr(),a=e.drivewsid;switch(wa.getItemForValue(e.type)){case wa.FILE:n=sh;var o=e.extension;e.extension=o?o.toLowerCase():o;break;case wa.FOLDER:case wa.APP_LIBRARY:n=Md;break;default:Re.b.error('Invalid item type: "'+e.type+'".  Skipping item "'+a+'" in directory.')}return n?(i=e.id=a,delete e.drivewsid,e.parentId||(e.parentId=null),r.loadData(n,e)):t.recordStat("unsupportedItemTypeReceived",{type:e.type}),i}function ch(e,t){var n=[];return e.forEach((function(e){var i=lh(e,t);i&&n.push(i)})),n}var uh=Ld.extend({staticMembers:{handleRetrieveItemDetailsInFoldersResponse:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e.ok){var r=uh.parseResponseData(e.data,n,i);return o.okResult(r)}return t&&t.isSharedDirectlyOrIndirectly&&n.loggingService.recordStat("Failed to access /retrieveItemDetailsInFolders for shared folder"),e},parseResponseData:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e[0],r=i.items||[],o=i.hierarchy?i.hierarchy:[];i.id=i.drivewsid,delete i.items,delete i.hierarchy,i.id===id.browseRootFolderId&&(i.parentId=null);var s,l=o.findIndex((function(e){return e.drivewsid===id.browseRootFolderId})),c=l>=0?l:o.length;o=(o=o.slice(c)).map((function(e){return e.id=e.drivewsid,delete e.drivewsid,e}));var u=i;if(n.partialData)s=r.map((function(e){return{id:e.drivewsid,etag:e.etag}}));else{Md.isDriveRootFolder(i.id)&&(i.name=a.d("DriveFS.RootFolderName"));for(var d=r.length,h=0;h<d;h++){var f=r[h];f.parentId=i.id}if(i.id!==id.trashRootFolderId){var p=lh(i,t.loggingService);bt.a(p)&&(u=t.getItemById(p))}var m=ch(r,t.loggingService);s=t.getItemsByIds(m)}var g=o.some((function(e){return!e.id&&!e.drivewsid}));return g&&t.loggingService.recordStat("DriveWS: Response hierarchy item is missing id"),{items:s,folderInfo:u,hierarchy:o&&0!==o.length?o:null}},__QUALIFIED_CLASS_NAME__:"FolderContentQuery"},folderID:null,partialData:!1,includeHierarchy:!1,init:function(e,t,n){this.fileSystem=e,this.folderID=t,this.__s._$28b$init.call(this,n)},run:function(){var e=this.folderID,t=this.partialData,n=this.includeHierarchy,i=this.fileSystem,r={drivewsid:e,partialData:t,includeHierarchy:n},a=i.getItemById(e);return a&&a.isSharedToMe&&(r.shareID=a.shareIDFromHierarchy),this.post("retrieveItemDetailsInFolders",[r]).then((function(e){return uh.handleRetrieveItemDetailsInFoldersResponse(e,a,i,{partialData:t,includeHierarchy:n})}))},post:function(e,t){return Xd.post(e,t)},willFinishProcessingSuccessfulResponse:Vr.a,__superMap:{_$28b$init:"init"}}),dh=Ld.extend({itemInfos:null,init:function(e,t,n){this.fileSystem=e,this.itemInfos=t,this.__s._$Oy$init.call(this,n)},run:function(){var e=this,t=this.itemInfos,n=t.map((function(e){var t=e.id,n=e.shareID,i={drivewsid:t};return bt.a(n)&&(i.shareID=n),i}));return Xd.post("retrieveItemDetails",{items:n},null,this.trace).then((function(n){if(n.ok){var i=e.fileSystem,r=n.data.items,a=r.find((function(e){return e.drivewsid===id.browseRootFolderId}));bt.a(a)&&(a.parentId=null);var s=ch(r,i.loggingService);return o.okResult(s.map((function(e){return i.getItemById(e)})))}return t[0]&&t[0].shareID&&e.fileSystem.loggingService.recordStat("Failed to access /retrieveItemDetails for shared item",{message:n.data.message}),n}))},__superMap:{_$Oy$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemDetailsQuery"}}),hh=ne.b("RootFolderQueryMode",(function(e){e("AllContent"),e("DetailsOnly")})),fh=hh,ph=Ld.extend({init:function(e,t){this.fileSystem=e,this.__s._$CA$init.call(this,t)},fileSystem:null,staticMembers:{Mode:hh,__QUALIFIED_CLASS_NAME__:"RootFolderQuery"},queryMode:fh.AllContent,run:function(){switch(this.queryMode){case fh.AllContent:return this._queryAllContent();case fh.DetailsOnly:return this._queryDetailsOnly();default:ze.b("Cannot query. Invalid query mode",{query:this})}},_queryAllContent:function(){return uh.create(this.fileSystem,id.driveRootFolderId).run().then((function(e){if(e.ok){var t=e.data,n=t.folder,i=t.items,r=n.content;return r.loaded(),r.addItems(i),o.okResult(n)}return e}))},_queryDetailsOnly:function(){var e=this.fileSystem;return dh.create(e,[{id:id.browseRootFolderId}],{trace:"3"}).run().then((function(e){return e.ok?o.okResult(e.data[0]):e}))},__superMap:{_$CA$init:"init"}});function mh(e,t,n,i,r){var a=arguments;return gh(t,n,i,r).then((function(t){var n=t.ok,r=t.data;if(n)return r.accessType===Gu.NEEDS_ZONE?e.createZone().then((function(e){if(e.ok)return mh.apply(null,a);var t="Unable to create zone: Error: "+e.data;return i.recordStat(t),o.failedResult({accessType:Gu.NONE.STARTUP_ERROR})})):o.okResult(r);var s="Unable to validate access to iCloud Drive services. Error: "+r;i.recordStat(s);var l=r.type,c=l===qd.PCSMissing?Gu.NONE.PCS_MISSING:l===qd.PCSInvalid?Gu.NONE.PCS_INVALID:Gu.NONE.STARTUP_ERROR;return o.failedResult({accessType:c})}))}function gh(e,t,n,i){var r=function(e){return Boolean(e.webServices.drivews)&&"active"===e.webServices.drivews.status}(e),a=vh(e);return r&&a?bt.a(t)?Z.a.resolve(o.okResult({accessType:Gu.FULL_ACCESS.WARM_BOOT})):_h(n,e,i):r&&!a?_h(n,e,i):Z.a.resolve(o.okResult({accessType:Gu.NEEDS_MIGRATION}))}function vh(e){return Boolean(e.dsInfo.brMigrated)}function _h(e,t,n){return function(e){return ph.create(e,{queryMode:ph.Mode.DetailsOnly}).run()}(n).then((function(n){var i=n.data;return n.ok?(vh(t)||(function(e){ku("https://setup.icloud.com/setup/ws/1/updateAccount",{body:{brMigrated:!0},headers:{"Content-Type":"text/plain"},method:"POST"}).catch((function(e){return e})).then((function(t){var n=t.status;if(!$u(n)){var i=new Error("Update account migration failed");i.status=n,i.type="unknown",e.recordStat("Failed to update setup service migrated state",i)}}))}(e),t.dsInfo.brMigrated=!0),o.okResult({accessType:Gu.FULL_ACCESS.COLD_BOOT,rootFolder:i})):402===i.status?4===t.dsInfo.statusCode?o.okResult({accessType:Gu.NEEDS_ZONE}):o.okResult({accessType:Gu.NEEDS_MIGRATION}):o.failedResult(i)}))}var bh,yh=n(716),Sh=Ge.a.extend({runAction:null,resolveAction:null,duration:null,_timer:null,isPolling:Y.c({readOnly:!0,get:function(){return this._timer&&this._timer.isRunning}}),init:function(e,t,n,i){this.delay=e,this.runAction=t,this.resolveAction=n,this.__s._$Go$init.call(this,i),this._timer=yh.a.create({delay:e,timesToFire:1/0,target:this,action:"_runAction"})},start:function(){return this.isPolling&&ze.b("Cannot start. Currently polling",{service:this}),this.runAction||ze.b("Cannot start. Requires a run action",{service:this}),this.resolveAction||ze.b("Cannot start. Requires a resolve action",{service:this}),this._timer.start(),this._promise=Z.a.create()},stop:function(){this.isPolling||ze.b("Cannot stop. Not currently polling",{service:this}),this._timer.stop(),this._promise=null},_runAction:function(){this.runAction().then(this._actionDidComplete.bind(this)).catch(this._actionDidReject.bind(this))},_actionDidComplete:function(e){var t=this.resolveAction;(!t||t(e))&&(this._promise&&this._promise.resolve(e),this.isPolling&&this.stop())},_actionDidReject:function(e){this._promise.reject(e),this.stop()},__superMap:{_$Go$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PollingService"}}),Ih={mixinDependencies:[Me.a],tabBarControllerDidSelect:De.a.define()},wh={mixinDependencies:[Me.a],activate:De.a.define(),deactivate:De.a.define(),updateTitle:De.a.define(),isActive:Ht.a.define()},Eh=Ge.a.extend(wh,Ni.a,{init:function(e,t,n){Object.defineProperties(this,{_hostApplicationServiceConnection:{value:e},_cwdObserver:{value:null,writable:!0},_isActive:{value:!1,writable:!0}}),this.__s._$Ys$init.call(this,n),this.bind("activeSession",t)},activeSession:X.b(),activate:function(){return this._isActive=!0,(this._cwdObserver=Ni.b.create(this,"activeSession.currentWorkingDirectory",this.updateTitle.bind(this))).connect(),Z.a.resolve(o.okResult())},deactivate:function(){var e=this._cwdObserver;return null!==e&&e.disconnect(),this._isActive=!1,this._cwdObserver=null,Z.a.resolve(o.okResult())},updateTitle:function(e){var t=this._hostApplicationServiceConnection,n=this.isActive;if(!bt.a(e)||!1===n)return Z.a.resolve(o.failedResult());var i=e.name,r=Md.isDriveRootFolder(e.id)?"iCloud Drive":"iCloud Drive - "+i;return t.setTitle(r),Z.a.resolve(o.okResult(r))},isActive:Y.c({readOnly:!0,get:function(){return this._isActive}}),__superMap:{_$Ys$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TitleManagementService"}}),Ch=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"TEXT",data:"\n                            "},{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_messageTitle",attributes:{}},{type:"TEXT",data:"\n                        "}],classes:["not-migrated-message-title"]},{type:"ELEMENT",tagname:"div",children:[{type:"TEXT",data:"\n                                "},{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_messageContents",attributes:{}},{type:"TEXT",data:"\n                        "}],classes:["not-migrated-message-contents"]},{type:"ELEMENT",tagname:"div",children:[{type:"TEXT",data:"\n                            "},{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_messageNotEnabled",attributes:{}},{type:"TEXT",data:"\n                        "}],classes:["not-migrated-message-notenabled",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isWindows",truevalue:"",falsevalue:"show",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"TEXT",data:"\n                            "},{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_messageNotEnabledWindows",attributes:{}},{type:"TEXT",data:"\n                            "},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_messageNotEnabledWindowsLink",attributes:{}}],attributes:{id:"windowsDownloadLink"}}],classes:["not-migrated-message-notenabled",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isWindows",truevalue:"show",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"TEXT",data:"\n                            "},{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_messageFootnote",attributes:{}},{type:"TEXT",data:"\n                        "}],classes:["not-migrated-message-footnote"]}],classes:["not-migrated-message"],name:"messageContainerEl",styles:{top:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_messageTop",attributes:{},unit:"px",property:"top"},left:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_messageLeft",attributes:{},unit:"px",property:"left"},width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_messageWidth",attributes:{},unit:"px",property:"width"}}},{type:"ELEMENT",tagname:"img",classes:["not-migrated-image"],styles:{left:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_imageLeft",attributes:{},unit:"px",property:"left"},top:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_imageTop",attributes:{},unit:"px",property:"top"},height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_imageHeight",attributes:{},unit:"px",property:"height"}},attributes:{src:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"imageUrl",attributes:{},attribute:"src"}}}],classes:["not-migrated"]}},__QUALIFIED_CLASS_NAME__:"NotMigratedView"},_messageTitle:a.d("DriveUI.Common.Application.Title"),_messageContents:a.d("DriveUI.NotMigrated.Contents.Message"),_messageNotEnabled:a.d("DriveUI.NotMigrated.Advice"),_messageNotEnabledWindows:a.d("DriveUI.NotMigrated.Advice.Windows"),_messageNotEnabledWindowsLink:a.d("DriveUI.NotMigrated.Advice.Windows.Link"),_messageFootnote:a.d("DriveUI.NotMigrated.Footnote"),_messageWidth:X.b(590),_messageLeft:X.b(30),_messageTop:X.b(),_imageLeft:X.b(),_imageTop:X.b(),_imageHeight:X.b(),imageUrl:X.b({readOnly:!0,dependencies:[Io.a.sharedInstance.bindingFor("devicePixelRatio")],get:Object.assign((function(){return Io.a.sharedInstance.devicePixelRatio>1?n(383):n(384)}),{__CW__getter:function(e,t,i,r){return r.internalGet(this,t[0+i])>1?n(383):n(384)}})}),_updateLayout:Ni.f({inputs:["isAttached",ce.a.sharedInstance.bindingFor("window.width"),ce.a.sharedInstance.bindingFor("window.height"),Io.a.sharedInstance.bindingFor("devicePixelRatio")],callback:function(e){var t=this.element,n=t.clientWidth,i=t.clientHeight;if(n>0&&i>0){n<950&&(n=950);var r=this.messageContainerEl,a=.58*n;this._setMessageStyle(r.clientWidth,a,r.clientHeight,i),this._setImageStyle(i,a)}}}),_setMessageStyle:function(e,t,n,i){var r=t/2-e/2*1.18;r<30&&(r=30,e=t-60),this._messageWidth=e,this._messageLeft=r;var a=i/2-n/2*1.14;this._messageTop=a},_setImageStyle:function(e,t){var n=.125*e,i=e-2*n;n>155&&(n=(e-(i=931))/2),this._imageTop=n,this._imageHeight=i,this._imageLeft=t},_isWindows:function(){return Io.a.sharedInstance.isWindows},_openWindowsDownloadWindow:function(){globalThis.open(a.d("DriveUI.NotMigrated.Advice.Windows.URL"),"Download iCloud for Windows")},pointerDown:function(e){return"windowsDownloadLink"===e.target.id&&this._openWindowsDownloadWindow(),!0}}),Ah=Ge.a.extend({id:null,sender:null,context:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"Notification"}}),Th=Ge.a.extend({staticMembers:{addTargetActionForNotification:function(e,t,n){var i=Oh[n];i||(i=Oh[n]=[]),i.push({target:e,action:t})},removeTargetActionForNotification:function(e,t,n){var i=Oh[n];if(i){for(var r=null,a=0,o=i.length;a<o;a++){var s=i[a];if(s.target===e&&s.action===t){r=a;break}}r>=0&&i.splice(r,1)}},dispatchNotification:function(e){var t=e.get("id"),n=Oh[t];if(n)for(var i=0,r=n.length;i<r;i++){var a=n[i],o=a.target;o[a.action].call(o,e)}},__QUALIFIED_CLASS_NAME__:"NotificationCenter"}}),Oh={},Dh=Ge.a.extend({init:function(e){this.__s._$5l$init.call(this,e);var t=document.createElement("a");this.isDownloadAttributeSupported=void 0!==t.download},isDownloadAttributeSupported:null,__superMap:{_$5l$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"LinkCapabilities"}}).create(),Mh=Ge.a.extend(Me.a,{staticMembers:{dequeuedErrorMessage:"Action dequeued from `%{processorClassName}` queue",canceledErrorMessage:"Action canceled from `%{processorClassName}` while active",__QUALIFIED_CLASS_NAME__:"BaseProcessor"},processAction:De.a.define(),maxConcurrentActions:Object(Y.c)({defaultValue:5,set:function(e){var t=this._maxConcurrentActions;return void 0!==t&&e>t&&(this.needsProcessing=!0),e}}),enqueue:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e=this.preprocessActionData?this.preprocessActionData.apply(this,n):n;var r=Z.a.create();return this.enqueueActionData(e,this._queue),this._actionDataToPromiseMap.set(e,r),this._promiseToActionDataMap.set(r,e),this.needsProcessing=!0,r},preprocessActionData:null,enqueueActionData:function(e,t){t.push(e)},dequeue:function(e,t){var n=this._queue,i=this._promiseToActionDataMap.get(e);return-1!==n.indexOf(i)&&(t=void 0!==t?t:this.payloadForDequeue(i),e.reject(t),this._clearQueuedAction(i,e),!0)},cancel:function(e,t){if(this.dequeue(e,t))return!0;var n=this._promiseToActionDataMap.get(e);return this._active.indexOf(n)>-1&&(t=void 0!==t?t:this.payloadForCancel(n),e.reject(t),this._clearActiveAction(n,e),this.needsProcessing=!0,!0)},payloadForDequeue:function(e){return new ze.a(this.constructor.dequeuedErrorMessage,{processorClassName:Object(ct.a)(this),processor:this,action:e})},payloadForCancel:function(e){return new ze.a(this.constructor.canceledErrorMessage,{processorClassName:Object(ct.a)(this),processor:this,action:e})},clearQueue:function(e){for(var t=this._queue,n=this._actionDataToPromiseMap,i=this._promiseToActionDataMap,r=0,a=t.length;r<a;r++){var o=t[r];e=void 0!==e?e:this.payloadForDequeue(o);var s=n.get(o);s.reject(e),n.delete(o),i.delete(s)}t.length=0},abort:function(e){this.clearQueue(e);for(var t=this._active,n=this._actionDataToPromiseMap,i=this._promiseToActionDataMap,r=0,a=t.length;r<a;r++){var o=t[r];e=void 0!==e?e:this.payloadForCancel(o);var s=n.get(o);s.reject(e),n.delete(o),i.delete(s)}t.length=0},needsProcessing:Object(Y.c)({defaultValue:!1,set:function(e){return e?this._processingTimer.start():this._processingTimer.stop(),e}}),process:function(e,t){this.willProcess(e,t);for(var n=this._shouldSpreadActionData,i=0;this.shouldContinueProcessing(e,i,t);){var r=e[i];if(this.shouldProcessAction(r,e,t)){e.splice(i,1),t.push(r);var a;a=n&&r?this.processAction.apply(this,r):this.processAction(r),this.completeAction(r,a),this.didProcessAction(r,e,t)}else i+=1}this.didProcess(e,t)},willProcess:Vr.a,shouldContinueProcessing:function(e,t,n){return e.length>t&&n.length<this.maxConcurrentActions},shouldProcessAction:function(e,t,n){return!0},completeAction:function(e,t){"object"===typeof t&&"function"===typeof t.then?t.then(this._resolveAction.bind(this,e),this._rejectAction.bind(this,e)):Object(ft.a)(this._resolveAction.bind(this,e,t),0)},didProcessAction:Vr.a,didProcess:Vr.a,init:function(){var e=this,t=arguments;e.__s._$7_M$init.apply(e,t),null===this._shouldSpreadActionData&&(this._shouldSpreadActionData=!this.preprocessActionData)},_shouldSpreadActionData:null,_queue:Object(ut.b)(Array),_active:Object(ut.b)(Array),_promiseToActionDataMap:Object(ut.b)(Map),_actionDataToPromiseMap:Object(ut.b)(Map),_resolveAction:function(e,t){var n=this._actionDataToPromiseMap.get(e);this._clearActiveAction(e,n),this.needsProcessing=!0,n.resolve(t)},_rejectAction:function(e,t){var n=this._actionDataToPromiseMap.get(e);this._clearActiveAction(e,n),this.needsProcessing=!0,n.reject(t)},_clearQueuedAction:function(e,t){var n=this._queue,i=n.indexOf(e);n.splice(i,1),this._actionDataToPromiseMap.delete(e),this._promiseToActionDataMap.delete(t)},_clearActiveAction:function(e,t){var n=this._active,i=n.indexOf(e);n.splice(i,1),this._actionDataToPromiseMap.delete(e),this._promiseToActionDataMap.delete(t)},_processingTimer:Object(ut.b)(yh.a,{delay:0,timesToFire:1,action:"_reprocess"}),_reprocess:function(){this.process(this._queue,this._active),this.needsProcessing=!1},__superMap:{_$7_M$init:"init"}}),Nh=Object(ne.b)("IFrameDownloadCompletionStatus",(function(e){e("FAILED"),e("SURVIVED")})),Fh=Mh.extend({init:function(){var e=this,t=arguments;this._availableIFramePool=[],this._materializedIFrames=[],e.__s._$bd$init.apply(e,t),this.maxConcurrentActions=this.maximumConcurrentIFrames},maximumConcurrentIFrames:Object(Y.c)({defaultValue:10,set:function(e){return this.maxConcurrentActions=e,e}}),msToWaitForDownloadToStart:5e3,downloadFromURL:function(e){return this.enqueue(e)},downloadFromURLs:function(e){var t=e.map(this.downloadFromURL,this);return Z.a.all(t)},cleanup:function(){this._materializedIFrames.forEach((function(e){e.parentElement.removeChild(e)}))},_availableIFramePool:Object(Y.c)({type:Array,readOnly:!0}),_materializedIFrames:Object(Y.c)({type:Array,readOnly:!0}),_materializeIFrameForPool:function(){var e=document.createElement("iframe");return e.style.display="none",document.body.appendChild(e),this._materializedIFrames.push(e),e},_acquireIFrame:function(){var e=this._availableIFramePool;return 0===e.length?this._materializeIFrameForPool():e.pop()},_returnToIFramePool:function(e){this._availableIFramePool.push(e)},processAction:function(e){var t=this._acquireIFrame();return function(e,t,n){var i=Z.a.create();Object(ft.a)((function(){return i.resolve(Nh.SURVIVED)}),n);var r=Z.a.create(),a=function(){return r.resolve(Nh.FAILED)};return Object(ee.a)(e,"load",a),e.id=t,e.src=t,Z.a.race([i,r]).finally((function(){Object(Bi.a)(e,"load",a)}))}(t,e,this.msToWaitForDownloadToStart).finally(this._returnToIFramePool.bind(this,t))},__superMap:{_$bd$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"IFrameDownloader"}}),Lh=Ge.a.extend({downloadFromURL:function(e){return this._createLinkAndTrigger(e.toString()),Z.a.resolve(e)},downloadFromURLs:function(e){for(var t=e.length,n=new Array(t),i=0;i<t;i++)n[i]=this.downloadFromURL(e[i]);return n},_createLinkAndTrigger:function(e){var t=document.createElement("a");t.href=e,t.download="";var n=document.createEvent("MouseEvents");n.initEvent("click",!0,!0),t.dispatchEvent(n)},staticMembers:{__QUALIFIED_CLASS_NAME__:"LinkDownloader"}}),Rh=Ge.a.extend({_downloader:null,init:function(){var e=this,t=arguments;e.__s._$Fs$init.apply(e,t);var n=ce.a.sharedInstance;Dh.isDownloadAttributeSupported&&(n.isChrome&&n.majorVersion<65||n.isEdge)?this._downloader=this.linkDownloaderClass.create():this._downloader=this.iframeDownloaderClass.create()},downloadFromURL:function(e){return this._downloader.downloadFromURL(e)},downloadFromURLs:function(e){return this._downloader.downloadFromURLs(e)},iframeDownloaderClass:Fh,linkDownloaderClass:Lh,__superMap:{_$Fs$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownloadManager"}}),xh={mixinDependencies:[Ne],name:"CoreTypesServiceFromChildProtocol",version:"0.0.1",fetchConformingTypes:De.a.define()},Ph={mixinDependencies:[Ne],name:"CoreTypesServiceToChildProtocol",version:"0.0.1",didFetchConformingTypes:De.a.define(),failedToFetchConformingTypes:De.a.define()},kh=Ge.a.extend({mixinDependencies:[wo.a,xh,Ph,fs],init:function(){this.__s._$CK$init.call(this),this.configureBidirectionalMessagingChannel(Ph,this,xh)},fetchConformingTypes:function(e){var t=this._fetchPromise;return t||(t=this._fetchPromise=Z.a.create(),this.remoteProxy.fetchConformingTypes(e)),t},didFetchConformingTypes:function(e){this._fetchPromise.resolve(ps.okResult(e)),this._fetchPromise=null},failedToFetchConformingTypes:function(){this._fetchPromise.resolve(ps.failedResult()),this._fetchPromise=null},_fetchPromise:Y.c({type:Z.a}),__superMap:{_$CK$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CoreTypesServiceConnection"}}),Uh={mixinDependencies:[Ne],name:"QuotaServiceFromChildProtocol",version:"0.0.1",fetchStorageQuota:De.a.define()},jh={mixinDependencies:[Ne],name:"QuotaServiceToChildProtocol",version:"0.0.1",didFetchStorageQuota:De.a.define(),failedToFetchStorageQuota:De.a.define()},Bh=Ge.a.extend({mixinDependencies:[Po],mediaKey:Y.c({type:String}),displayLabel:Y.c({type:String}),displayColor:Y.c({type:String}),usageInBytes:Y.c({type:Number}),staticMembers:{__QUALIFIED_CLASS_NAME__:"StorageQuotaMedium"}}),Vh=Ge.a.extend({mixinDependencies:[Po],appleId:Y.c({type:String}),dsid:Y.c({type:Number}),id:Y.c({type:String}),firstName:Y.c({type:String}),fullName:Y.c({type:String}),lastName:Y.c({type:String}),usageInBytes:Y.c({type:Number}),staticMembers:{__QUALIFIED_CLASS_NAME__:"FamilyMemberStorageQuota"}}),$h=Ge.a.extend({mixinDependencies:[Po],mediaKey:Y.c({type:String}),displayLabel:Y.c({type:String}),displayColor:Y.c({type:String}),usageInBytes:Y.c({type:Number}),familyMembers:Y.c({type:Array,serialization:{collectionObjectType:Vh}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"FamilyStorageQuota"}}),Wh=Ge.a.extend({mixinDependencies:[Po],compStorageInBytes:Y.c({type:Number}),usedStorageInBytes:Y.c({type:Number}),totalStorageInBytes:Y.c({type:Number}),commerceStorageInBytes:Y.c({type:Number}),staticMembers:{__QUALIFIED_CLASS_NAME__:"StorageUsageInfo"}}),zh=Ge.a.extend({mixinDependencies:[Po],overQuota:Y.c({type:Boolean}),haveMaxQuotaTier:Y.c({type:Boolean}),almostFull:Y.c({type:Boolean,serialization:{propertyName:"almost-full"}}),paidQuota:Y.c({type:Boolean}),staticMembers:{__QUALIFIED_CLASS_NAME__:"StorageQuotaStatus"}}),Gh=Ge.a.extend({mixinDependencies:[Po],storageUsageByMedia:Y.c({type:Array,serialization:{collectionObjectType:Bh}}),storageUsageInfo:Y.c({type:Wh}),quotaStatus:Y.c({type:zh}),familyStorageUsageInfo:Y.c({type:$h}),staticMembers:{__QUALIFIED_CLASS_NAME__:"StorageQuota"}}),Hh=Ge.a.extend({mixinDependencies:[wo.a,Uh,jh,fs],init:function(){this.__s._$CV$init.call(this),this.configureBidirectionalMessagingChannel(jh,this,Uh)},fetchStorageQuota:function(){var e=this._fetchPromise;return e||(e=this._fetchPromise=Z.a.create(),this.remoteProxy.fetchStorageQuota()),e},didFetchStorageQuota:function(e){var t=Gh.deserialize(e);this._fetchPromise.resolve(ps.okResult(t)),this._fetchPromise=null},failedToFetchStorageQuota:function(){this._fetchPromise.resolve(ps.failedResult()),this._fetchPromise=null},_fetchPromise:Y.c({type:Z.a}),__superMap:{_$CV$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"QuotaServiceConnection"}}),Kh={mixinDependencies:[Me.a],getValidateToken:De.a.define(),getConformingTypes:De.a.define(),refreshQuotaData:De.a.define(),isReadyToTerminateDidChange:De.a.define(),setAppPreference:De.a.define(),getCachedAppPreference:De.a.define()},Qh=Ge.a.extend(Kh,{getValidateToken:function(){return Co.getListOfAvailableCookiesAsHash()["X-APPLE-WEBAUTH-VALIDATE"]},getConformingTypes:function(e){return kh.sharedInstance.fetchConformingTypes(e)},refreshQuotaData:function(){return Hh.sharedInstance.fetchStorageQuota().then((function(e){if(e.isOk){var t=e.data;return o.okResult({overQuota:t.quotaStatus.overQuota,totalStorageInBytes:t.storageUsageInfo.totalStorageInBytes,usedStorageInBytes:t.storageUsageInfo.usedStorageInBytes})}return o.failedResult(e.data)}))},isReadyToTerminateDidChange:function(e){var t=dt.a.application,n=bt.a(t)?t.parentProxy:null;bt.a(n)&&n.isReadyToTerminateDidChange(e)},setAppPreference:function(e,t){var n,i=dt.a.application.applicationName;return ru.setPreferences(i,((n={})[e]=t,n))},getCachedAppPreference:function(e){var t=dt.a.application.applicationName,n=ru.getPreferences(t);return bt.a(n)?n[e]:void 0},staticMembers:{__QUALIFIED_CLASS_NAME__:"ICloudDriveHostService"}}),qh=Ge.a.extend(wo.a,{action:function(e,t){var n=t.get("storeId");return e.isDataForked(n)&&e.resetData(n),Z.a.resolve()},staticMembers:{__QUALIFIED_CLASS_NAME__:"HardResetMergeStrategy"}}),Yh=Ge.a.extend(wo.a,{action:function(e,t){var n=t.storeId;if(t.changeType===er.WRITE.DESTROY)return e.deleteData.bind(e,n);var i=t.newData;for(var r in i)e.writeDataProperty(n,r,i[r]);return Z.a.resolve()},staticMembers:{__QUALIFIED_CLASS_NAME__:"OverwriteMergeStrategy"}}),Xh=n(54),Jh=Object(ne.b)("TRANSACTION_STATES",(function(e){e("PENDING"),e("ACTIVE"),e("COMPLETED"),e("FAILED"),e("CANCELLED")})),Zh=Ge.a.extend(Jh.toStaticMixin(),Z.b,Ni.a,{operation:Object(Y.c)(),subtransactions:Object(Y.c)(),changes:Object(Y.c)(),storeIds:Object(Y.c)({readOnly:!0,get:function(){var e=this.changes;if(e)return e.storeIds;var t=this.operation,n=t&&t.type,i=t&&t.operation,r=i&&i.context,a=r&&r.primaryKeys;if(n&&Array.isArray(a)){for(var o=[],s=0,l=a.length;s<l;s++){var c=a[s];o.push(Cr.getStoreIdForPrimaryKey(n,c))}return o}return n&&a?[Cr.getStoreIdForPrimaryKey(n,a)]:void 0}}),status:Object(X.b)(Jh.PENDING),activate:function(){this.status=Jh.ACTIVE},complete:function(e){this.status=Jh.COMPLETED,this.resolve(e)},fail:function(e){this.status=Jh.FAILED,this.reject(e)},cancel:function(e){this.status=Jh.CANCELLED,this.reject(e)},toString:function(){for(var e=this.operation,t=e.type.toString();e=e.operation;)t+=": "+e.type.toString();return t},staticMembers:{__QUALIFIED_CLASS_NAME__:"Transaction"}}),ef=ua.extend({transactions:Object(Y.c)({get:function(){return this._array}}),add:function(e){var t=this,n=arguments;if(t.__s._$Ah$add.apply(t,n)){var i=e.storeIds;if(i)for(var r=this._storeIdSet,a=0,o=i.length;a<o;a++){var s=i[a],l=r[s];l||(l=r[s]=sa.create()),l.add(e)}}},remove:function(e){var t=this,n=arguments;if(t.__s._$MP$remove.apply(t,n)){var i=e.storeIds;if(i)for(var r=this._storeIdSet,a=0,o=i.length;a<o;a++){var s=i[a],l=r[s];l&&(l.remove(e),0===l.length&&delete r[s])}}},containsStoreId:function(e){var t=this._storeIdSet;if(t.hasOwnProperty(e)){var n=t[e];return n&&n.length>0}return!1},getTransactionsForStoreId:function(e){var t=this._storeIdSet;if(t.hasOwnProperty(e)){var n=t[e];return n&&n.toArray()}},_storeIdSet:Object(ut.b)(Object),__superMap:{_$Ah$add:"add",_$MP$remove:"remove"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionList"}}),tf=Ge.a.extend({process:Object(Xh.c)(De.a),addTransaction:function(e){return!this.supportsBulkTransactions&&this.isBulkTransaction(e)?this.addTransactions(this.splitTransaction(e)):(this._pendingTransactions.add(e),this._process(),e)},addTransactions:function(e){for(var t=0,n=e.length;t<n;t++)this._pendingTransactions.add(e[t]);return this._process(),e},sendTransaction:function(e){var t=sr();return t||Object(ze.b)("No DataManager to receive transaction."),e.finally(this._transactionDidFinish.bind(this,e)).catch(Vr.a),t.sendTransaction(e),this._transactionsSentDuringProcess.push(e),e},removeTransaction:function(e){return this._transactionsRemovedDuringProcess.push(e),e},cancelTransaction:function(e){return e.cancel(),this._transactionsRemovedDuringProcess.push(e),e},canSendTransaction:function(e){var t=Object(Zr.a)(e),n=this._transactionDependencies[t];if(n)for(var i=0,r=n.length;i<r;i++)if(n[i].status!==Zh.COMPLETED)return!1;return!0},linkTransactions:function(e,t){var n=this._transactionDependencies,i=Object(Zr.a)(t),r=n[i];r||(r=n[i]=bh&&bh.pop()||[]),r.push(e)},splitTransaction:function(e){e.status===Zh.ACTIVE&&Object(ze.b)("CW.Data.TransactionProcessor#splitTransaction: Can not split a transaction that is already active.",{transaction:e});for(var t=e.changes,n=[],i=0,r=t.length;i<r;i++){var a=wr.create();a.recordChange(t.objectAt(i));var o=Zh.create({changes:a,operation:a.operation});n[i]=o}return Z.a.all(n).then((function(t){e.complete(t)}),(function(t){e.fail(t)})),this._transactionsRemovedDuringProcess.push(e),n},splitTransactions:function(e){var t,n=e.length;if(1===n)t=this.splitTransaction(e[0]);else{t=[];for(var i=0;i<n;i++){var r=this.splitTransaction(e[i]);Object(Yi.a)(t,r)}}return t||null},supportsBulkTransactions:Object(Y.c)(!0),isBulkTransaction:function(e){var t=e.operation;return t&&t.type===er.WRITE.BULK},getNetworkStatus:function(e,t){e||Object(ze.b)("CW.Data.TransactionProcessor#getNetworkStatus: No model class provided.",{dataManager:this}),t||Object(ze.b)("CW.Data.TransactionProcessor#getNetworkStatus: No primary key provided.",{dataManager:this,modelClass:e});var n=Cr.getStoreIdForPrimaryKey(e,t);return this._activeTransactions.containsStoreId(n)?fr.ACTIVE.TRANSMITTING:this._pendingTransactions.containsStoreId(n)?fr.ACTIVE.QUEUED:fr.IDLE},getActiveTransactions:function(e,t){e||Object(ze.b)("CW.Data.TransactionProcessor#getActiveTransactions: No model class provided.",{dataManager:this}),t||Object(ze.b)("CW.Data.TransactionProcessor#getActiveTransactions: No primary key provided.",{dataManager:this,modelClass:e});var n,i=Cr.getStoreIdForPrimaryKey(e,t),r=this._activeTransactions;r.containsStoreId(i)&&(n=r.getTransactionsForStoreId(i).slice(0));var a=this._pendingTransactions;return a.containsStoreId(i)&&(n=n||[]).push.apply(n,a.getTransactionsForStoreId(i)),n},_pendingTransactions:Object(ut.b)(ef),_activeTransactions:Object(ut.b)(ef),_transactionsSentDuringProcess:Object(ut.b)(Array),_transactionsRemovedDuringProcess:Object(ut.b)(Array),_transactionDependencies:Object(ut.b)(Object),_process:function(){if(!this._isProcessing){this._isProcessing=!0;var e=this._pendingTransactions,t=this._activeTransactions;this.process(e.transactions,t.transactions),this._isProcessing=!1;var n=this._transactionsSentDuringProcess,i=n.length;if(i>0){for(var r=0;r<i;r++){var a=n[r];e.remove(a),t.add(a)}n.length=0}var o=this._transactionsRemovedDuringProcess,s=o.length;if(s>0){for(var l=0;l<s;l++){var c=o[l];e.remove(c),t.remove(c)}o.length=0}}},_transactionDidFinish:function(e){this._activeTransactions.remove(e),function(e,t){var n=Object(Zr.a)(t),i=e[n];Array.isArray(i)&&(i.length=0,(bh||(bh=[])).push(i)),delete e[n]}(this._transactionDependencies,e),0!==this._pendingTransactions.length&&this._process()},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionProcessor"}}).extend({maximumActiveTransactions:6,prioritizeReads:!1,process:function(e,t){var n=this.maximumActiveTransactions-t.length;if(!(n<=0)){var i;if(this.prioritizeReads){i=[];for(var r=e.length,a=0;a<r&&i.length<n;a++){var o=e[a];o.isRead&&i.push(o)}for(var s=0;s<r&&i.length<n;s++){var l=e[s];l.isRead||i.push(l)}}else i=e.slice(0,n);for(var c=0,u=i.length;c<u;c++)this.sendTransaction(i[c])}},staticMembers:{__QUALIFIED_CLASS_NAME__:"ParallelTransactionProcessor"}}).extend({maximumActiveTransactions:1,prioritizeReads:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"SerializedTransactionProcessor"}});function nf(e,t){if(e||Object(ze.b)("findHandlerForOperationType must receive a type"),t)for(var n=0,i=t.length;n<i;n++){var r=t[n],a=r.handlesType;if(a===e||!a&&nf(e,r.nestedOperationHandlers))return r}}var rf=[],af={mixinDependencies:[Ni.a],loadData:function(e,t,n){e||Object(ze.b)("CW.Data.DataManager#loadData: No model class provided.",{dataManager:this}),t||Object(ze.b)("CW.Data.DataManager#loadData: No data hash provided.",{dataManager:this,modelClass:e});var i,r,a=wr.create(),o=this._loadedStoreIds;if(Array.isArray(t))for(var s=0,l=t.length;s<l;s++)r=df(e,t[s]),i=Cr.getStoreIdForPrimaryKey(e,r),n||(o[i]=!0),a.recordChange(this.createChangeForDataItem(i,t[s],n));else r=df(e,t),i=Cr.getStoreIdForPrimaryKey(e,r),n||(o[i]=!0),a.recordChange(this.createChangeForDataItem(i,t,n));return this.merge(a).then(this.didLoadData.bind(this,a))},removeData:function(e,t){e||Object(ze.b)("CW.Data.DataManager#removeData: No model class provided.",{dataManager:this}),t||Object(ze.b)("CW.Data.DataManager#removeData: No primary key(s) provided.",{dataManager:this,modelClass:e});var n,i=wr.create();if(Array.isArray(t))for(var r=0,a=t.length;r<a;r++)n=Cr.getStoreIdForPrimaryKey(e,t[r]),i.recordChange(this.createChangeForDataItem(n,null));else n=Cr.getStoreIdForPrimaryKey(e,t),i.recordChange(this.createChangeForDataItem(n,null));return this.merge(i).then(this.didRemoveData.bind(this,i))},didLoadData:function(e){return this.didChangeDataForStoreIds(e.storeIds),e},didRemoveData:function(e){return this.didChangeDataForStoreIds(e.storeIds),e},MergeStrategy:qh,willMergeData:function(e){return e},didMergeData:function(e){return e},merge:function(e){var t,n,i=this,r=this.getPath("MergeStrategy.sharedInstance"),a=e.length;this.willMergeData(e);var o=[];for(n=0;n<a;n++)t=e.objectAt(n),o.push(r.action(this,t));for(n=0;n<a;n++)t=e.objectAt(n),this.notifyModel(t.storeId,cf,t);return Z.a.all(o).then((function(){return i.didMergeData(e)}))},notifyModel:function(e,t){var n=this._materializedModels,i=n&&n[e];if(i){var r=1,a=2,o=arguments.length;rf.length=o+r-a;for(var s=a,l=r;s<o;s++,l++)rf[l]=arguments[s];var c=rf;c[0]=i,t.apply(this,c)}},getNetworkStatus:function(e,t){e||Object(ze.b)("CW.Data.DataManager#getNetworkStatus: No model class provided.",{dataManager:this}),t||Object(ze.b)("CW.Data.DataManager#getNetworkStatus: No primary key provided.",{dataManager:this,modelClass:e});var n=this.transactionProcessor;return n||Object(ze.b)("CW.Data.DataManager#getNetworkStatus: No transaction processor defined.",{dataManager:this,modelClass:e,primaryKey:t}),n.getNetworkStatus(e,t)},getLoadStatus:function(e,t){e||Object(ze.b)("CW.Data.DataManager#getLoadStatus: No model class provided.",{dataManager:this}),t||Object(ze.b)("CW.Data.DataManager#getLoadStatus: No primary key provided.",{dataManager:this,modelClass:e});var n=Cr.getStoreIdForPrimaryKey(e,t);return this._loadedStoreIds[n]?pr.LOADED:pr.NOT_LOADED},transactionProcessor:Object(ut.b)(tf),operationHandlers:Object(ut.b)(Array),getActiveTransactions:function(e,t){e||Object(ze.b)("CW.Data.DataManager#getActiveTransactions: No model class provided.",{dataManager:this}),t||Object(ze.b)("CW.Data.DataManager#getActiveTransactions: No primary key provided.",{dataManager:this,modelClass:e});var n=this.transactionProcessor;return n||Object(ze.b)("CW.Data.DataManager#getActiveTransactions: No transaction processor defined.",{dataManager:this,modelClass:e,primaryKey:t}),n.getActiveTransactions(e,t)},performOperation:function(e,t){e||Object(ze.b)("CW.Data.DataManager#performOperation: No operation provided.",{dataManager:this}),Object(Ke.a)(e)&&(e={type:e}),t?e.context?Object(ze.b)("CW.Data.DataManager#performOperation: Conflict with `context` parameter; `operation` already contains a `context`. You must only provide one context per operation.",{dataManager:this,operation:e}):e.context=t:t=e.context||{},Object(ue.a)(t)||Object(ze.b)("CW.Data.DataManager#performOperation: context must be of type: object.",{dataManager:this}),t.operation=e;var n=this.transactionProcessor;n||Object(ze.b)("CW.Data.DataManager#performOperation: No transaction processor defined.");var i=Zh.create(t),r=this._outstandingTransactions,a=Object(Zr.a)(i);return r[a]=i,i.finally((function(){delete r[a]})).catch(Vr.a),n.addTransaction(i),i},commit:function(){var e,t=this._changes;if(this._changes=null,t&&t.length){e=this.performOperation(t.operation);for(var n=0,i=t.length;n<i;n++){var r=t.objectAt(n);this._commitChange(r)}}else(e=Zh.create()).complete();return e},commitStoreIds:function(e){var t=this,n=this._changes;if(!n){var i=Zh.create();return i.complete(),i}Array.isArray(e)||(e=[e]);var r=e.map((function(e){return n.removeChangeForStoreId(e)})).filter(bt.a);if(0===r.length){var a=Zh.create();return a.complete(),a}var o=r.reduce((function(e,t){return e.recordChange(t),e}),wr.create()),s=void 0;o.getPath("operation.context")||(s={changes:o});var l=this.performOperation(o.operation,s);return r.forEach((function(e){return t._commitChange(e)})),l},commitPrimaryKeys:function(e,t){var n;return n=Array.isArray(t)?t.map((function(t){return Cr.getStoreIdForPrimaryKey(e,t)})):Cr.getStoreIdForPrimaryKey(e,t),this.commitStoreIds(n)},findHandlerForOperation:function(e){return nf(e.type,this.operationHandlers)},sendTransaction:function(e){e||Object(ze.b)("CW.Data.DataManager#sendTransaction: No transaction provided.",{dataManager:this}),e.status===Zh.ACTIVE&&Object(ze.b)("CW.Data.DataManager#sendTransaction: Transaction is already active.",{dataManager:this,transaction:e});var t=e.operation,n=this.findHandlerForOperation(t);if(n){e.activate();var i=e.changes;if(i)for(var r=0,a=i.length;r<a;r++){var o=i.objectAt(r);this.notifyModel(o.storeId,uf)}n.action(t).then(function(t){if(Object(Se.a)(t,Er))this.notifyModel(t.storeId,uf),t=t.model;else if(Object(Se.a)(t,wr))if(1===t.length)t=t.objectAt(0).model,this.notifyModel(t.storeId,uf);else{for(var n=0,i=t.length;n<i;n++){var r=t.objectAt(n);this.notifyModel(r.storeId,uf)}t=t.models}e.complete(t)}.bind(this),(function(t){e.fail(t)}))}else{for(var s,l=ke.a,c=ct.a,u=[],d=t;d;)s=l(d.type)?c(d.type):String(d.type),u.push(s),d=d.operation;e.fail("No handler for operation: "+u.join(" > "))}},cancelAllTransactions:function(){this.cancelAllActiveTransactions(),this.cancelAllPendingTransactions()},cancelAllActiveTransactions:function(){lf(this._outstandingTransactions,"cancel",Zh.ACTIVE)},cancelAllPendingTransactions:function(){lf(this._outstandingTransactions,"cancel",Zh.PENDING)},failAllTransactions:function(){this.failAllActiveTransactions(),this.failAllPendingTransactions()},failAllActiveTransactions:function(){lf(this._outstandingTransactions,"fail",Zh.ACTIVE)},failAllPendingTransactions:function(){lf(this._outstandingTransactions,"fail",Zh.PENDING)},_outstandingTransactions:Object(ut.b)(Object),createChangeForDataItem:function(e,t){var n=Object(de.a)(this._persistenceStore.readData(e));if(t)for(var i in t)this._persistenceStore.writeDataProperty(e,i,t[i]);else this._persistenceStore.deleteData(e);return Er.create(e,n,t)},_loadedStoreIds:Object(ut.b)(Object),init:function(e){var t=this,n=arguments,i=sr();i&&Object(ze.b)("CW.Data.DataManager#init: Data manager already exists. Only one data manager can be instantiated.",{existingDataManager:i,erroringDataManager:this}),lr(this),t.__s._$8R0$init.apply(t,n),this._dataHashes=Object.create(this._persistenceStore._dataHashes)},_persistenceStore:Object(Y.c)({readOnly:!0,defaultValue:function(){return Cr.create({MergeStrategy:Yh})}}),_commitChange:function(e){var t=e.storeId,n=e.newData,i=e.modelClass;this.notifyModel(t,uf);var r=n&&df(i,n);null!==r&&void 0!==r&&r!==Cr.getPrimaryKeyForStoreId(t)&&Cr.setPrimaryKeyForStoreId(t,r)},__superMap:{_$8R0$init:"init"}},of=["updated","added","removed"],sf=[];function lf(e,t,n){for(var i in e){var r=e[i];r.status===n&&r[t]()}}function cf(e,t){var n=t.newData;if(n){var i=t.diff;if(i){var r=sf;r.length=0;for(var a=t.modelClass,o=0,s=of.length;o<s;o++)for(var l=i[of[o]],c=0,u=l.length;c<u;c++){var d=l[c];if(n.hasOwnProperty(d)){var h=a.getKeyForDataKey(d),f=e.get(h),p=void 0;if(Object(Se.a)(f,Ir.a)){var m=Object(Se.a)(f,zr)||Object(Se.a)(f,$r),g=n[d];if(g)if(m){var v=t.originalData,_=$i.a.fromArrays(v&&v[d],g,e);f.contentsDidChange(_)}else{var b=Object(de.a)(g);b.unshift(f.length),b.unshift(0),f.splice.apply(f,b)}else p=e.getMetadata(h),Object(Se.a)(p,Fr)&&p.clearCachedValueForObject(e,h)}p=p||e.getMetadata(h),Object(Se.a)(p,Fr)&&r.push(h)}}xi.a.pause();for(var y=0,S=r.length;y<S;y++)e.propertyChanged(r[y]);e.propertyChanged("loadStatus"),e.propertyChanged("networkStatus"),e.dataDidLoad(),xi.a.resume(),r.length=0}}}function uf(e){e.propertyChanged("networkStatus")}function df(e,t){var n=e.primaryKey;return n||Object(ze.b)("CW.Data.DataManager#getPrimaryKeyFromData: Attempted to locate primary key on a model class that does not specify one.",{data:t,modelClass:e}),t[e.getDataKeyForKey(n)]}function hf(e,t){for(var n=e+t,i=e;i<n;i++)Object(Br.f)(this.objectAt(i),this,"StrongArray: item retain")}function ff(e,t){for(var n=e+t,i=e;i<n;i++)Object(Br.d)(this.objectAt(i),this,"StrongArray: item retain")}var pf={strong:!0,init:function(){var e=this,t=arguments;e.__s._$AM$init.apply(e,t),hf.call(this,0,this.length)},itemsWereInserted:function(e,t){var n=this,i=arguments;hf.call(this,e,t),n.__s._$D3$itemsWereInserted.apply(n,i)},itemsWillBeRemoved:function(e,t){var n=this,i=arguments;ff.call(this,e,t),n.__s._$F4$itemsWillBeRemoved.apply(n,i)},dispose:function(){ff.call(this,0,this.length),this.__s._$Gj$dispose.call(this)},__superMap:{_$AM$init:"init",_$D3$itemsWereInserted:"itemsWereInserted",_$F4$itemsWillBeRemoved:"itemsWillBeRemoved",_$Gj$dispose:"dispose"}},mf=$i.b.extend(pf,{changesClass:$i.c,staticMembers:{__QUALIFIED_CLASS_NAME__:"StrongObservableArray"}}),gf=ne.b("AccessRights",["Allow","Deny"]),vf={Desktop:{parentId:"FOLDER::com.apple.CloudDocs::root",cascadeAccessRights:!1,rights:{DELETE:gf.Allow,EDIT:gf.Deny}},Documents:{parentId:"FOLDER::com.apple.CloudDocs::root",cascadeAccessRights:!1,rights:{DELETE:gf.Allow,EDIT:gf.Deny}}},_f=Ge.a.extend({assignRightsToContent:function(e,t){this._cascadeParentFolderRestrictions(e,t);for(var n=0;n<t.length;n++){var i=t[n],r=this._getSettingsForMatchInAccessRightsAssignment(i);r&&i&&(!0!==Se.a(i,sh)&&!0!==Se.a(i,Md)||this._processSettingsForItem(i,r))}},_getSettingsForMatchInAccessRightsAssignment:function(e){var t=e.id,n=vf[t];if(n)return n;var i=e.sanitizedName,r=e.parentId;if(n=vf[i]){var a=n.parentId;if(a&&a===r)return n}return null},_processSettingsForItem:function(e,t){var n=t.rights;for(var i in n){var r=n[i];switch(i){case"DELETE":r===gf.Deny&&(e.canDelete=!1);break;case"EDIT":r===gf.Deny&&(e.canEdit=!1);break;case"EDIT_CONTENTS":r===gf.Deny&&(e.canModifyContents=!1);break;case"LIST_CONTENTS":r===gf.Deny&&(e.canListContents=!1)}}if(e.isFolder){var a=t.cascadeAccessRights;!1===a&&void 0!==a&&(e.cascadeAccessRights=!1)}},_cascadeParentFolderRestrictions:function(e,t){if(e.cascadeAccessRights)for(var n=e.canDelete,i=e.canEdit,r=e.canModifyContents,a=e.canListContents,o=0;o<t.length;o++){var s=t[o];n||(s.canDelete=!1),i||(s.canEdit=!1),s.isFolder&&(r||(s.canModifyContents=!1),a||(s.canListContents=!1))}},staticMembers:{__QUALIFIED_CLASS_NAME__:"AccessRightsAssignmentManager"}}),bf=ne.b("BRKit.RunState",(function(e){e("Pending"),e("Running"),e("Cancelled"),e("Completed",(function(e){e("Failed"),e("Succeeded")}))})),yf=Ge.a.extend(Ni.a,{runState:Y.c({readOnly:!0,get:function(){return this._taskRunState}}),isCancellable:Y.c({readOnly:!0,get:function(){return function(e){var t=e.runState;return t!==bf.Cancelled&&t!==bf.Completed&&e.shouldAllowCancel()}(this)}}),cancelled:Ni.g(),init:function(){var e=this,t=arguments;e.__s._$8e$init.apply(e,t),Object.defineProperties(this,{_taskRunState:{value:bf.Pending,writable:!0},_isCancellingRun:{value:!1,writable:!0}})},run:function(){var e=this;return this._taskRunState!==bf.Pending&&ze.b("Invalid state. Cannot run",{task:this}),this._taskRunState=bf.Running,this.startRun().then((function(t){var n=t.data;return t.ok?e.finishRunWithSuccess(n):t.cancelled?e.finishCancellingRun(n):e.finishRunWithFailure(n),t}))},cancel:function(e){this.get("isCancellable")||ze.b("Cannot cancel task. Not allowed.",{task:this});var t=this._taskRunState;this._isCancellingRun=!0,this._taskRunState=bf.Cancelled,t===bf.Pending&&(this.finishCancellingRun(),this.cancelled(o.cancelledResult()))},shouldAllowCancel:function(){return!1},startRun:function(){return Z.a.resolve(o.okResult())},finishRunWithSuccess:function(e){this._taskRunState=bf.Completed.Succeeded},finishRunWithFailure:function(e){this._taskRunState=bf.Completed.Failed},finishCancellingRun:function(e,t){t&&!0===t.force?(this._taskRunState=bf.Cancelled,this._isCancellingRun=!0):this._isCancellingRun||ze.b("Cannot finish cancelling. Invalid call.",{task:this}),this._isCancellingRun=!1},__superMap:{_$8e$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Task"}}),Sf=ne.b("BRApp.TransactionCommitInfoItemStatus",{OK:"OK",DestinationInvalid:"DESTINATION_ID_INVALID",DestinationDeleted:"DESTINATION_ID_DELETED",ItemDeleted:"ID_DELETED",ItemUnshared:"ID_INVALID",ItemModified:"ETAG_CONFLICT",Unknown:"UNKNOWN",FatalError:"FATAL_ERROR",Forbidden:"FORBIDDEN",Cancelled:"CANCELLED"}),If=Ge.a.extend({infoItems:Y.c({readOnly:!0,get:function(){return this._infoItems}}),committedInfoItems:Y.c({readOnly:!0,get:function(){return this._committedInfoItems}}),uncommittedInfoItems:Y.c({readOnly:!0,get:function(){return this._uncommittedInfoItems}}),commitedItemIDs:Y.c({readOnly:!0,get:function(){return this._getIDsFromStatusItems(this._committedInfoItems)}}),uncommittedItemIDs:Y.c({readOnly:!0,get:function(){return this._getIDsFromStatusItems(this._uncommittedInfoItems)}}),isFullyCommitted:Y.c({readOnly:!0,get:function(){return this.hasCommittedItems&&!this.hasUncommittedItems}}),isPartiallyCommitted:Y.c({readOnly:!0,get:function(){return this.hasCommittedItems&&this.hasUncommittedItems}}),hasCommittedItems:Y.c({readOnly:!0,get:function(){return this._committedInfoItems.length>0}}),hasUncommittedItems:Y.c({readOnly:!0,get:function(){return this._uncommittedInfoItems.length>0}}),hasFatalError:Y.c({readOnly:!0,get:function(){return!!this._fatalError}}),fatalError:Y.c({readOnly:!0,get:function(){return this._fatalError}}),cancelled:Y.c({readOnly:!0,get:function(){return this._cancelled}}),hasItemsForStatus:function(e){return!!this._statusToInfoItemMap[e]},getItemsForStatus:function(e){return this._statusToInfoItemMap[e]||null},getStatusKeys:function(){return this._statusToInfoItemMap.keys()},init:function(e){var t=this,n=arguments;t.__s._$lm$init.apply(t,n),this._fatalError=e?e.fatalError:null,this._cancelled=!!e&&e.cancelled,this._infoItems=[],this._committedInfoItems=[],this._uncommittedInfoItems=[],this._statusToInfoItemMap={}},addInfoItem:function(e){var t=e.status;if(this._infoItems.push(e),e.status===Sf.OK)this._committedInfoItems.push(e);else{this._uncommittedInfoItems.push(e);var n=this._statusToInfoItemMap[t];n||(n=this._statusToInfoItemMap[t]=[]),n.push(e)}},addInfoItems:function(e){for(var t=e.length,n=0;n<t;n++)this.addInfoItem(e[n])},_getIDsFromStatusItems:function(e){for(var t=e.length,n=new Array(t),i=0;i<t;i++)n[i]=e[i].itemID;return n},__superMap:{_$lm$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionCommitInfo"}}),wf=function(e){this.itemID=e.itemID,e.status===Sf.ItemModified&&bt.a(e.details)&&!0===e.details.isDeleted?this.status=Sf.ItemDeleted:this.status=e.status,this.clientID=e.clientID||null,this.details=e.details||null,this.fileSystem=e.fileSystem||null};wf.create=function(e){var t=new wf(e);return t.fileSystem=dt.a.application.fileSystem,Object.freeze(t),t},wf.prototype.hasConflict=function(){switch(this.status){case Sf.ItemUnshared:case Sf.DestinationInvalid:case Sf.DestinationDeleted:case Sf.ItemDeleted:case Sf.ItemModified:return!0;default:return!1}},wf.prototype.hasTransactionItemMoved=function(){var e=this.fileSystem.getItemById(this.itemID);return!!e&&e.parentId!==this.details.parentId},wf.prototype.getTransactionItem=function(){var e=this.fileSystem,t=this.clientID,n=e.getItemById(this.itemID);return!n&&t&&(n=e.getItemById(t)),n||null};var Ef=wf.Status=Sf,Cf=yf.extend({init:function(e,t,n,i){this.__s._$AP$init.call(this,Object.assign({clientId:e,folderName:t},i)),this._destinationFolderId=n.id,this._destinationFolderShareID=n.shareIDFromHierarchy},clientId:null,folderName:null,webService:Xd,_destinationFolderId:null,_destinationFolderShareID:null,loggingService:null,startRun:function(){var e=this,t={destinationDrivewsId:this._destinationFolderId,folders:[{clientId:this.clientId,name:this.folderName}]},n=this._destinationFolderShareID;return n&&(t.shareID=n),this.webService.post("createFolders",t).then((function(t){if(t.ok){var n=e._parseResponseData(t.data,e.loggingService);return n.isFullyCommitted?o.okResult(n):o.failedResult(n)}return t}))},_parseResponseData:function(e,t){for(var n=e.folders,i=[],r=If.create(),a=0,o=n.length;a<o;a++){var s=n[a],l=Ef.getItemForValue(s.status),c=wf.create({itemID:s.drivewsid,status:l,clientID:s.clientId});r.addInfoItem(c),l===Ef.OK&&(Md.replacePrimaryKeyInStore(s.clientId,s.drivewsid),i.push(s)),delete s.status,delete s.clientId}return ch(i,t),r},__superMap:{_$AP$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CreateFolderCommitTask"}}),Af=Ge.a.extend({init:function(e,t){this.item=e,this.__s._$4y$init.call(this,t)},item:null,__superMap:{_$4y$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorDetails"}}),Tf=Ge.a.extend({init:function(e,t,n){this.type=e,this.details=t,this.__s._$Cc$init.call(this,n)},type:Y.c({type:Ie.a}),details:Y.c({type:Af,defaultValue:null}),__superMap:{_$Cc$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorItem"}}),Of=ne.b("BRApp.TransactionType",["CreateFolder","DeleteItems","DuplicateItems","MoveItems","MoveItemsToTrash","MoveItemsFromTrash","PurgeRecentlyDeletedItems","PutItemsBackFromTrash","RenameItem","UploadItem","RetrieveSharedItemDetailsInFolders"]),Df=ne.b("BRApp.TransactionItemConflictType",["None","DestinationInvalid","DestinationDeleted","ItemUnshared","ItemMoved","ItemModified","ItemDeleted","OutOfQuota","Unknown"]),Mf=ne.b("TransactionCommitErrorItemType",["MoveItemError","MoveItemToAppLibraryError","DeleteItemError","DuplicateItemError","CreateFolderError","RenameItemError","UploadItemError","PutItemBackFromTrashError"]),Nf=ne.b("BRApp.NativeFileUploadErrorType",["DestinationDeleted","Unknown","OutOfQuota","FatalError"]),Ff=Af.extend({init:function(e,t,n,i){this.conflictType=t,this.transactionType=n,this.__s._$F1$init.call(this,e,i)},conflictType:Y.c({type:Df,defaultValue:null}),transactionType:Y.c({type:Of,defaultValue:null}),destinationFolder:Y.c({type:"string",defaultValue:null}),__superMap:{_$F1$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionCommitErrorDetails"}}),Lf=Tf.extend({type:Y.c({type:Mf}),details:Y.c({TransactionCommitErrorDetails:Ff}),staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionCommitErrorItem"}}),Rf=Ge.a.extend({errorItemType:null,createErrorItem:function(e,t){return Lf.create(this.errorItemType,this.getDetails(e,t))},getDetails:function(e,t){var n=this.getTransactionItem(e,t),i=this.getConflictType(e,t),r=e.destinationFolder,a=e._sourceFolder,o=this.getDestinationFolderName(e),s=this.getSourceFolderName(e),l=this.isFolderSharedToMe(r),c=this.isFolderSharedToMe(a);return Ff.create(n,i,e.type,{destinationFolder:o,sourceFolderName:s,isDestinationFolderSharedToMe:l,isSourceFolderSharedToMe:c})},getTransactionItem:function(e,t){return e.item?e.item:t.getTransactionItem()},getConflictType:function(e,t){var n;switch(t.status){case Sf.DestinationInvalid:case Sf.DestinationDeleted:n=Df.DestinationDeleted;break;case Sf.ItemUnshared:n=Df.ItemUnshared;break;case Sf.ItemDeleted:n=Df.ItemDeleted;break;case Sf.ItemModified:n=t.hasTransactionItemMoved()?Df.ItemMoved:Df.ItemModified;break;default:n=Df.Unknown}return n},getDestinationFolderName:function(e){var t=e.destinationFolder||null;return t?t.fullName:null},getSourceFolderName:function(e){var t=e._sourceFolder||null;return t?t.fullName:null},isFolderSharedToMe:function(e){return!!bt.a(e)&&e.isSharedToMe&&e.sharedFolderFromHierarchy},staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorItemGenerator"}}),xf=Rf.extend({errorItemType:Mf.CreateFolderError,getTransactionItem:function(e,t){return e.stagedFolder},staticMembers:{__QUALIFIED_CLASS_NAME__:"CreateFolderErrorItemGenerator"}}),Pf=Rf.extend({errorItemType:Mf.UploadItemError,getDetails:function(e,t){var n=this.__s._$1hT$getDetails.call(this,e,t);return n.nativeFile=e.nativeFile,n},getTransactionItem:function(e,t){return e.stagedFile},getConflictType:function(e,t){var n;switch(e.commitInfo.fatalError.type){case Nf.OutOfQuota:n=Df.OutOfQuota;break;case Nf.DestinationDeleted:n=Df.DestinationDeleted;break;default:n=this.__s._$1uP$getConflictType.call(this,e,t)}return n},__superMap:{_$1hT$getDetails:"getDetails",_$1uP$getConflictType:"getConflictType"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadFileErrorItemGenerator"}}),kf=Rf.extend({errorItemType:null,createErrorItem:function(e,t){var n=Mf.MoveItemError;return e.destinationFolder.isAppLibrary?n=Mf.MoveItemToAppLibraryError:e.destinationFolder.isTrashRoot&&(n=Mf.DeleteItemError),Lf.create(n,this.getDetails(e,t))},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemErrorItemGenerator"}}),Uf=Rf.extend({errorItemType:Mf.DuplicateItemError,getTransactionItem:function(e,t){return e.getStagedFileById(t.itemID)},getConflictType:function(e,t){return Df.Unknown},getDestinationFolderName:function(e){return""},staticMembers:{__QUALIFIED_CLASS_NAME__:"DuplicateItemErrorItemGenerator"}}),jf={};jf[Of.DeleteItems]=Rf.create({errorItemType:Mf.DeleteItemError}),jf[Of.RenameItem]=Rf.create({errorItemType:Mf.RenameItemError}),jf[Of.PurgeRecentlyDeletedItems]=Rf.create({errorItemType:Mf.DeleteItemError}),jf[Of.PutItemsBackFromTrash]=Rf.create({errorItemType:Mf.PutItemBackFromTrashError}),jf[Of.CreateFolder]=xf.create(),jf[Of.UploadItem]=Pf.create(),jf[Of.MoveItemsToTrash]=kf.create(),jf[Of.MoveItems]=kf.create(),jf[Of.DuplicateItems]=Uf.create();var Bf=ne.b("BRApp.TransactionStateEnum",(function(e){e("Init"),e("Prepared"),e("Staging"),e("Staged"),e("Commit",(function(e){e("Prepared"),e("Running")})),e("Completed",(function(e){e("Success"),e("Fail")})),e("Cancelled"),e("Finalizing"),e("Finalized")})),Vf=Bf.Init,$f=Bf.Prepared,Wf=Bf.Staging,zf=Bf.Staged,Gf=Bf.Commit.Prepared,Hf=Bf.Commit.Running,Kf=Bf.Completed.Success,Qf=Bf.Completed.Fail,qf=Bf.Cancelled,Yf=Bf.Finalizing,Xf=Bf.Finalized,Jf=Ge.a.extend(Ni.a,{staticMembers:{stateEnum:Y.c({readOnly:!0,get:function(){return Bf}}),__QUALIFIED_CLASS_NAME__:"Transaction"},type:null,delegate:null,fileSystem:Y.c(),isCancelled:Y.c({readOnly:!0,get:function(){var e=this.commitInfo;return!!e&&e.cancelled}}),isCancellable:Y.c({readOnly:!0,get:function(){switch(this.state){case $f:case zf:break;case Gf:case Hf:if(!this.shouldAllowCancelDuringCommit())return!1;break;default:return!1}var e=this.delegate;if(e){var t=e.transactionShouldAllowCancel;if(t&&!t.call(e,this))return!1}return!0}}),state:X.b({readOnly:!0,get:function(){return this._state}}),commitInfo:Y.c({readOnly:!0,get:function(){return this._commitInfo}}),transactionItems:Y.c({readOnly:!0,get:function(){return this._transactionItems}}),finalized:Ni.g(),init:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this;Object.assign(n,{delegate:t,fileSystem:e}),i.__s._$183$init.call(i,n),Object.defineProperties(this,{_state:{value:Vf,writable:!0},_transactionItems:{value:[],writable:!0}})},prepare:function(){this._throwFatalErrorIfNotInState(Vf,"Cannot prepare"),this.didStartPreparing(),this._setState($f)},stage:function(){this._throwFatalErrorIfNotInState($f,"Cannot stage"),this._setState(Wf),this.didStartStaging(),this._changeTransactionItemsState(Jr.Staged),this._setState(zf);var e=this.fileSystem;this._transactionItems.forEach((function(t){e.registerItemAsStaged(t)}))},commit:function(){var e=this;return this._state===$f&&this.stage(),this._throwFatalErrorIfNotInState(zf,"Cannot commit"),this._setState(Gf),this._changeTransactionItemsState(Jr.Committing),this.run().then((function(t){var n=t.data;if(t.ok)e.completeCommitWithSuccess(n);else{if(!t.cancelled){e.completeCommitWithFailure(n);var i=function(e){var t=e.type,n=jf[t];if(n)return function(e,t){return e.commitInfo.uncommittedInfoItems.map((function(n){return t.createErrorItem(e,n)}))}(e,n);ze.b("No alert generator found for transaction type: "+t)}(e);return o.failedResult(i)}e.completeCommitWithCancellation(n)}return t}))},cancel:function(){this.isCancellable||ze.b("Cannot cancel. Not allowed",{transaction:this});var e=this._state;e!==$f&&e!==zf&&e!==Gf||this.completeCommitWithCancellation()},run:function(){this._throwFatalErrorIfNotInState(Gf,"Cannot run"),this._setState(Hf)},addTransactionItem:function(e){this.transactionItems.push(e)},addTransactionItems:function(e){for(var t=this.transactionItems,n=e.length,i=0;i<n;i++){var r=e[i];t.push(r)}},getTransactionItemsForFullRevert:function(){return[]},shouldAllowCancelDuringCommit:function(){return!1},didStartPreparing:function(){},didStartStaging:function(){},didCancel:function(){},didBeginTransactionItemsStateChange:function(){},didEndTransactionItemsStateChange:function(){},didChangeTransactionStateForItem:function(e,t){},completeCommitWithSuccess:function(e){this._throwFatalErrorIfNotInState(Hf,"Cannot finalize commit with success"),this._setState(Kf),this._commitInfo=e,this._finalize()},completeCommitWithFailure:function(e){this._throwFatalErrorIfNotInState(Hf,"Cannot finalize commit with failure"),this._setState(Qf);var t=this._createTransactionCommitInfoForFullRevert({fatalError:e});this._commitInfo=t,this._finalize()},completeCommitWithCancellation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e={cancelled:!0});var t=null;switch(this._state){case $f:t=If.create(e);break;case zf:case Gf:case Hf:t=this._createTransactionCommitInfoForFullRevert(e)}this._commitInfo=t,this._setState(qf),this.didCancel(),this._finalize()},_finalize:function(){switch(this._state){case Vf:case Wf:case Xf:case Yf:this._throwFatalInvalidStateError("Cannot finalize")}this._setState(Yf),this._completeFinalizing()},_completeFinalizing:function(){var e=this._commitInfo.infoItems,t=this.delegate;this.willBeginFinalizingItems();for(var n=e.length,i=0;i<n;i++){var r=e[i];switch(r.status){case Sf.OK:this.applyChangeForCommitInfoItem(r);break;case Sf.Cancelled:this.revertChangeForCommitInfoItem(r);break;default:t&&t.transactionResolveConflictForItem(this,r)}}this.didEndFinalizingItems(),this._changeTransactionItemsState(Jr.Prepared);var a=this.fileSystem;this._transactionItems.forEach((function(e){a.unregisterItemAsStaged(e)})),this._setState(Xf),this.didFinalize(),t&&t.transactionDidFinalize(this),this.finalized(this)},didFinalize:function(){},willBeginFinalizingItems:function(){},didEndFinalizingItems:function(){},applyChangeForCommitInfoItem:function(e){},revertChangeForCommitInfoItem:function(e){},_setState:function(e){this._state=e,this.propertyChanged("state")},_changeTransactionItemsState:function(e){var t=this.transactionItems;this.didBeginTransactionItemsStateChange();for(var n=t.length,i=0;i<n;i++){var r=t[i];r.transactionState=e,this.didChangeTransactionStateForItem(r,e)}this.didEndTransactionItemsStateChange()},_createTransactionCommitInfoForFullRevert:function(e){var t=If.create(e),n=Sf.OK,i=null;if(t.cancelled)n=Sf.Cancelled;else if(t.hasFatalError){var r=t.fatalError.infoItems;if(r&&r.length>0){var a=r[0];n=a.status,i=a.details}else n=Sf.FatalError}for(var o=this.getTransactionItemsForFullRevert(),s=o.length,l=0;l<s;l++){var c=o[l],u=wf.create({itemID:c.id,status:n,details:i});t.addInfoItem(u)}return t},_throwFatalErrorIfNotInState:function(e,t){this._state!==e&&this._throwFatalInvalidStateError(t)},_throwFatalErrorIfInState:function(e,t){this._state===e&&this._throwFatalInvalidStateError(t)},_throwFatalInvalidStateError:function(e){ze.b(e+". Invalid state",{transaction:this})},__superMap:{_$183$init:"init"}}),Zf=ne.b("TaskScheduler.TaskStatus",["Pending","Running","Done"]),ep=Ge.a.extend(Ni.a,{delegate:null,traceId:null,trace:!1,allowedMaximumRunningTasks:1,suspend:function(){this._suspended||(this._suspended=!0)},resume:function(){if(this._suspended){this._suspended=!1;var e=this._tasksQueue;e&&e.length>0&&this._tryRunningNextTask()}},isActive:X.b({readOnly:!0,dependencies:["hasScheduledTasks","hasRunningTasks"],get:Object.assign((function(){return!(!this.hasScheduledTasks&&!this.hasRunningTasks)}),{__CW__getter:function(e,t,n,i){return!(!i.internalGet(this,t[0+n])&&!i.internalGet(this,t[1+n]))}})}),isSuspended:X.b({readOnly:!0,get:function(){return this._suspended}}),hasScheduledTasks:X.b({readOnly:!0,get:function(){return this._tasksQueue.length>0}}),hasRunningTasks:X.b({readOnly:!0,get:function(){return this._runningTasksCount>0}}),runningTasksCount:Y.c({readOnly:!0,get:function(){return this._runningTasksCount}}),scheduledTasksCount:Y.c({readOnly:!0,get:function(){return this._tasksQueue.length}}),init:function(e){this.__s._$g9$init.call(this,e),this._suspended=!1,this._tasksQueue=[],this._runningTasks={},this._runningTasksCount=0},scheduleTask:function(e){var t=this,n=Z.a.create(),i={status:Zf.Pending,task:e,promise:n};return i.cancelObserver=e.listen("cancelled",(function(e){e&&t._taskDidCancel(i,e.context)})),this._tasksQueue.push(i),this.didScheduleTask(e),this.propertyChanged("hasScheduledTasks"),this._logTrace("scheduled task for run",e),this._tryRunningNextTask(),n},cancelAllQueuedTasks:function(){var e=this;if(!this._isCancellingTasks){this._isCancellingTasks=!0;var t=this._tasksQueue,n=[];t.forEach((function(t){var i=t.task;i.isCancellable?(i.cancel(),e.taskDidCancel(t)):n.push(t)})),this._tasksQueue=n,this._isCancellingTasks=!1,this.propertyChanged("hasScheduledTasks"),this._notifyFinishingScheduledTasksIfNeeded(),this._tryRunningNextTask()}},_tryRunningNextTask:function(){if(!this._suspended)for(var e=this.allowedMaximumRunningTasks,t=this._tasksQueue;;){if(this._runningTasksCount===e)return void this._logTrace("Maximum number of tasks currently running. Cannot run another task");var n=t.shift();if(!n)return void this._logTrace("queue empty. No tasks to run");this._runTask(n)}},_runTask:function(e){var t=this,n=e.task;this._logTrace("running task",n),this.willStartRunningTask(n),e.status=Zf.Running,this._runningTasks[Zr.a(n)]=e,this._runningTasksCount++,this.propertyChanged("hasRunningTasks"),this.propertyChanged("hasScheduledTasks"),n.run().then((function(n){n.ok?t._taskDidComplete(e,n):n.cancelled?t._taskDidCancel(e,n):t._taskDidFail(e,n)})),this.didStartRunningTask(n)},_taskDidComplete:function(e,t){var n=e.task,i=e.promise;this._logTrace("task completed",n),this._beginFinalizingTask(e),i.resolve(t),this.taskDidComplete(n),this._endFinalizingTask(n)},_taskDidFail:function(e,t){var n=e.task,i=e.promise;this._logTrace("task failed",n),this._beginFinalizingTask(e),i.resolve(t),this.taskDidFail(n,t.data),this._endFinalizingTask(n)},_taskDidCancel:function(e,t){var n=e.task,i=e.promise;this._logTrace("task cancelled",n),this._beginFinalizingTask(e),i.resolve(t),this.taskDidCancel(n),this._endFinalizingTask(n)},_beginFinalizingTask:function(e){switch(e.status){case Zf.Pending:this._isCancellingTasks||(Ls.a(e,this._tasksQueue),this.propertyChanged("hasScheduledTasks"));break;case Zf.Running:var t=e.task;delete this._runningTasks[Zr.a(t)],this._runningTasksCount--,this.propertyChanged("hasRunningTasks")}e.status=Zf.Done,e.cancelObserver.disconnect()},_endFinalizingTask:function(e){this._isCancellingTasks||(this._tryRunningNextTask(),this._notifyFinishingScheduledTasksIfNeeded())},_notifyFinishingScheduledTasksIfNeeded:function(){var e=this._runningTasksCount,t=this._tasksQueue.length;0===e&&0===t&&this.didFinishRunningScheduledTasks()},didScheduleTask:function(e){var t=this.delegate,n=t?t.taskSchedulerDidScheduleTask:null;n&&n.call(t,this,e)},didFinishRunningScheduledTasks:function(){var e=this.delegate,t=e?e.taskSchedulerDidFinishRunningScheduledTasks:null;t&&t.call(e,this)},willStartRunningTask:function(e){var t=this.delegate,n=t?t.taskSchedulerWillStartRunningTask:null;n&&n.call(t,this,e)},didStartRunningTask:function(e){var t=this.delegate,n=t?t.taskSchedulerDidStartRunningTask:null;n&&n.call(t,this,e)},taskDidComplete:function(e){var t=this.delegate,n=t?t.taskSchedulerTaskDidComplete:null;n&&n.call(t,this,e)},taskDidFail:function(e,t){var n=this.delegate,i=n?n.taskSchedulerTaskDidFail:null;i&&i.call(n,this,e,t)},taskDidCancel:function(e){var t=this.delegate,n=t?t.taskSchedulerTaskDidCancel:null;n&&n.call(t,this,e)},_logTrace:function(e,t){if(this.trace){var n=this.traceId,i=(n?"[BRKit.TaskScheduler: "+n+"]":this)+" "+e;t&&(i+=": "+t),Re.b.debug(i)}},__superMap:{_$g9$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TaskScheduler"}}),tp=Ge.a.extend({scheduler:Y.c({get:function(){return this._scheduler}}),init:function(e){var t=this,n=arguments;t.__s._$4f$init.apply(t,n),this._scheduler=this.loadTaskScheduler()},loadTaskScheduler:function(){return ep.create({trace:!1,traceId:"file system",allowedMaximumRunningTasks:1})},__superMap:{_$4f$init:"init"}}).create().get("scheduler"),np=Jf.extend({init:function(e,t,n,i,r){this.__s._$BR$init.call(this,e,t,Object.assign({},r,{folderName:n,destinationFolder:i}))},type:Of.CreateFolder,destinationFolder:void 0,folderName:void 0,stagedFolder:void 0,getTransactionItemsForFullRevert:function(){return[this.stagedFolder]},didStartPreparing:function(){this.destinationFolder.prepareForTransaction(this)},didStartStaging:function(){var e=this.stagedFolder=Md.createPlaceholder();Object.assign(e,{name:this.folderName,type:wa.FOLDER.value,parentId:this.destinationFolder.id,fileSystem:this.fileSystem}),this.addTransactionItem(e),this.destinationFolder.content.addItem(e)},run:function(){this.__s._$RZ$run.call(this);var e=this.stagedFolder,t=Cf.create(e.id,e.sanitizedName,this.destinationFolder,{loggingService:this.fileSystem.loggingService});return tp.scheduleTask(t)},applyChangeForCommitInfoItem:function(e){this.destinationFolder.content.updateItem(this.stagedFolder)},revertChangeForCommitInfoItem:function(e){this.destinationFolder.content.removeItem(this.stagedFolder)},didFinalize:function(){this.destinationFolder.content.finalizeForTransaction(this)},__superMap:{_$BR$init:"init",_$RZ$run:"run"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CreateFolderTransaction"}}),ip=Ld.extend({folderID:null,includeHierarchy:!1,init:function(e,t,n){this.__s._$Qj$init.call(this,Object.assign({},n,{folderID:e,fileSystem:t}))},run:function(){var e=this;return uh.create(this.fileSystem,this.folderID,{partialData:!0,includeHierarchy:this.includeHierarchy}).run().then((function(t){var n=t.data;if(t.ok)return e._completeFolderContentChangeSetQuery(n);var i=new Error("Unable to query folder content change set");return i.folderID=e.folderID,i.body=n||null,o.failedResult(i)}))},_completeFolderContentChangeSetQuery:function(e){var t=this,n=e.items,i=e.hierarchy,r=e.folderInfo,a=r.id,s=this.fileSystem.getFolderById(a),l=s&&s.content,c=s.getDataHash(),u={hierarchy:i,folderInfo:r},d=this.fileSystem,h=this._diffFolderContent(c,r,l,n),f=h.filter((function(e){var t=e.value,n=e.action;return!d.itemIsStaged(t)&&(n===sd.Action.Insert||n===sd.Action.Update)})).map((function(e){var t={id:e.value.id};return s.isSharedToMe&&(t.shareID=s.shareIDFromHierarchy),t}));return 0===f.length?(u.changes=h,o.okResult(u)):dh.create(d,f,{trace:"2"}).run().then((function(e){var n=e.data;if(e.ok)return h.forEach((function(e){var t=e.value,i=n.find((function(e){return e.id===t.id}));i?e.value=i:e.action=sd.Action.Remove})),u.changes=h,o.okResult(u);var i=new Error("Unable to process folder content change set");return i.folderID=t.folderID,i.body=n||null,o.failedResult(i)}))},_diffFolderContent:function(e,t,n,i){var r=this,a=rp.create({remoteFolderDataHash:t,localFolderDataHash:e}),o={},s=n.allContent;return s.forEach((function(e){o[e.id]=e})),i.forEach((function(e){var t=e.id,n=o[t];if(n)n.etag!==e.etag&&a.recordUpdate(e),o[t]=null;else{var i=r.fileSystem.getItemById(t);i&&i.isInTrash||a.recordInsert(e)}})),s.forEach((function(e){o[e.id]&&a.recordRemove(e)})),a},__superMap:{_$Qj$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"FolderContentChangeSetQuery"}}),rp=sd.extend({remoteFolderDataHash:Y.c(),localFolderDataHash:Y.c(),folderWasUnshared:Y.c({readOnly:!0,get:function(){var e=this.remoteFolderDataHash,t=this.localFolderDataHash;return t.id===e.id&&t.shareAliasCount>0&&!e.shareAliasCount&&"ID_INVALID"===e.status}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"FolderContentChangeset"}}),ap=wf.Status,op=yf.extend({destinationFolder:null,items:null,stagedItems:null,loggingService:null,_path:Y.c({readOnly:!0,get:function(){return"moveItemsFromTrash"}}),startRun:function(){for(var e=this,t=this.items,n=this.stagedItems,i=t.length,r=new Array(i),a=0;a<i;a++){var s=t[a],l=s.id;n&&(l=n[a].id),r[a]={drivewsid:s.id,etag:s.etag,clientId:l}}var c={destinationDrivewsId:this.destinationFolder.id,items:r};return Xd.post(this._path,c).then((function(t){return t.ok?o.okResult(function(e,t){for(var n=e.items,i=[],r=If.create(),a=0,o=n.length;a<o;a++){var s=n[a],l=ap.getItemForValue(s.status);l===ap.OK&&i.push(s);var c=wf.create({itemID:s.drivewsid,status:l,clientID:s.clientId,details:s});delete s.status,delete s.clientId,r.addInfoItem(c)}return ch(i,t),r}(t.data,e.loggingService)):t}))},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemsFromTrashCommitTask"}}),sp=wf.Status,lp=yf.extend({init:function(e,t,n){this.items=e,this.loggingService=t,this.__s._$Bl$init.call(this,n)},items:null,loggingService:null,webService:Xd,startRun:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cp,n=this.items.map((function(e){return{drivewsid:e.id,etag:e.etag}})),i={items:n};return this.webService.post("putBackItemsFromTrash",i).then((function(n){if(n.ok){var i=t(n.data,e.loggingService);return i.isFullyCommitted?o.okResult(i):o.failedResult(i)}return n}))},__superMap:{_$Bl$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PutItemsBackFromTrashCommitTask"}});function cp(e,t){for(var n=e.items,i=[],r=If.create(),a=0,o=n.length;a<o;a++){var s=n[a],l=sp.getItemForValue(s.status);l===sp.OK&&i.push(s);var c=wf.create({itemID:s.drivewsid,status:l,details:s});delete s.status,delete s.clientId,r.addInfoItem(c)}return ch(i,t),r}var up=Jf.extend({commitTask:Y.c({readOnly:!0,get:function(){return lp.create(this.items,this.fileSystem.loggingService)}}),destinationFolders:X.b({dependencies:["items"],readOnly:!0,type:Array,get:Object.assign((function(){for(var e=[],t=this.items,n=0,i=t.length;n<i;n++){var r=t[n].restorePath,a=this._getFolderFromRestorePath(r);e.push(a)}return e}),{__CW__getter:function(e,t,n,i){for(var r=[],a=i.internalGet(this,t[0+n]),o=0,s=a.length;o<s;o++){var l=a[o].restorePath,c=this._getFolderFromRestorePath(l);r.push(c)}return r}})}),uniqueDestinationFoldersInMemory:X.b({dependencies:["destinationFolders"],readOnly:!0,type:Array,get:Object.assign((function(){for(var e=[],t=this.destinationFolders,n=0,i=t.length;n<i;n++){var r=t[n];r&&e.indexOf(r)<0&&e.push(r)}return e}),{__CW__getter:function(e,t,n,i){for(var r=[],a=i.internalGet(this,t[0+n]),o=0,s=a.length;o<s;o++){var l=a[o];l&&r.indexOf(l)<0&&r.push(l)}return r}})}),items:X.b({type:Array}),originalParentFolder:null,type:Of.PutItemsBackFromTrash,didStartPreparing:function(){this.originalParentFolder.prepareForTransaction(this),this._prepareFoldersForTransaction(this.uniqueDestinationFoldersInMemory)},didStartStaging:function(){var e=this.items,t=this.uniqueDestinationFoldersInMemory,n=this.originalParentFolder,i=n.content;this.addTransactionItems(e),i.removeItems(e),this._beginFolderContentChanges(t);for(var r=this.destinationFolders,a=0,o=e.length;a<o;a++){var s=e[a],l=r[a];l&&l.content.addItem(s)}this._endFolderContentChanges(t);var c=this.fileSystem;n===c.trashRootFolder&&c.trashDetailsService.stageShallowCountChangeOf(-e.length)},getTransactionItemsForFullRevert:function(){return this.items},init:function(e,t,n,i){this.items=n,this.__s._$1LB$init.call(this,e,t,i);var r=this.originalParentFolder=n[0].parent;r||ze.b("Cannot prepare. Missing parent folder",{transaction:this});for(var a=r.id,o=0,s=n.length;o<s;o++){var l=n[o];l.isInTrash?l.parentId!==a&&ze.b("Cannot prepare put items back from trash transaction. All items do not belong to the same parent folder",{transaction:this}):ze.b("Cannot prepare. Some items are marked as not being in the trash folder",{transaction:this})}},run:function(){return this.__s._$1fB$run.call(this),tp.scheduleTask(this.commitTask)},willBeginFinalizingItems:Vr.a,applyChangeForCommitInfoItem:function(e){var t=this.fileSystem,n=t.trashRootFolder;this.originalParentFolder===n&&t.trashDetailsService.commitShallowCountChangeOf(-1)},revertChangeForCommitInfoItem:function(e){var t=this.fileSystem,n=t.getItemById(e.itemID),i=this.originalParentFolder,r=n.parent;r&&r.content.removeItem(n),i.content.addItem(n),i===t.trashRootFolder&&t.trashDetailsService.unstageShallowCountChangeOf(-1)},didEndFinalizingItems:Vr.a,didFinalize:function(){this.originalParentFolder.content.finalizeForTransaction(this);var e=this.uniqueDestinationFoldersInMemory;this._finalizeFoldersForTransaction(e)},_prepareFoldersForTransaction:function(e){for(var t=0,n=e.length;t<n;t++)e[t].prepareForTransaction(this)},_beginFolderContentChanges:function(e){for(var t=0,n=e.length;t<n;t++)e[t].content.beginChanges()},_endFolderContentChanges:function(e){for(var t=0,n=e.length;t<n;t++)e[t].content.endChanges()},_finalizeFoldersForTransaction:function(e){for(var t=0,n=e.length;t<n;t++)e[t].content.finalizeForTransaction(this)},_getFolderFromRestorePath:function(e){var t=this.fileSystem.driveRootFolder;if(e){var n=e.split("/");if(n.length>1)for(var i=n.length-1,r=0;r<i&&(t=t.content.findFolderWithName(n[r]));r++);}return t},__superMap:{_$1LB$init:"init",_$1fB$run:"run"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PutItemsBackFromTrashTransaction"}}),dp=up.extend({init:function(e,t,n,i,r){this.destinationFolder=i,this.__s._$EG$init.call(this,e,t,n,r)},commitTask:Y.c({readOnly:!0,get:function(){return op.create({destinationFolder:this.destinationFolder,items:this.items})}}),destinationFolder:X.b(),destinationFolders:X.b({dependencies:["destinationFolder","items"],readOnly:!0,type:Array,get:Object.assign((function(){return Array(this.items.length).fill(this.destinationFolder)}),{__CW__getter:function(e,t,n,i){return Array(i.internalGet(this,t[1+n]).length).fill(i.internalGet(this,t[0+n]))}})}),type:Of.MoveItemsFromTrash,__superMap:{_$EG$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemsFromTrashTransaction"}}),hp=wf.Status,fp=function(e,t){var n=If.create();return n.addInfoItems(e.committedInfoItems),n.addInfoItems(t.infoItems),n},pp=function(e,t,n){for(var i=[],r=t.length,a=0;a<r;a++){var o=t[a];if(o.status===Sf.ItemModified){var s=e[a];n(s)===o.details.parentId&&i.push({item:s,infoItem:o})}}return i},mp=yf.extend({items:null,parentIdForItem:null,trashRootFolderId:null,loggingService:null,webService:Xd,_path:Y.c({readOnly:!0,get:function(){return"moveItemsToTrash"}}),startRun:function(){for(var e=this,t=this.items,n=t.length,i=new Array(n),r=0;r<n;r++){var a=t[r];i[r]={drivewsid:a.id,etag:a.etag,clientId:a.id}}var s={items:i};return this.webService.post(this._path,s).then((function(t){if(t.ok){var n=e.parseResponseData(t.data,e.trashRootFolderId,e.loggingService);return n.isFullyCommitted?o.okResult(n):e.rerun(n)}return t}))},rerun:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pp,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fp,r=n(this.items,e.infoItems,this.parentIdForItem);if(r.length!==e.uncommittedInfoItems.length)return o.failedResult(e);for(var a=r.length,s=new Array(a),l=0;l<a;l++){var c=r[l],u=c.item,d=c.infoItem;s[l]={drivewsid:u.id,etag:d.details.etag,clientId:u.id}}var h={items:s};return this.webService.post(this._path,h).then((function(n){if(n.ok){var r=t.parseResponseData(n.data,t.trashRootFolderId,t.loggingService),a=i(e,r);return r.isFullyCommitted?o.okResult(a):o.failedResult(a)}return o.failedResult(e)}))},parseResponseData:function(e,t,n){for(var i=e.items,r=[],a=If.create(),o=0,s=i.length;o<s;o++){var l=i[o],c=hp.getItemForValue(l.status);c===hp.OK&&(l.parentId=t,r.push(l));var u=wf.create({itemID:l.drivewsid,status:c,clientID:l.clientId,details:l});delete l.status,delete l.clientId,a.addInfoItem(u)}return ch(r,n),a},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemsToTrashCommitTask"}}),gp=function(e){return function(t,n,i){if(0!==n||0!==i)for(;t;){var r=Math.max(0,e(t.sharedByMeCount||0,n||0)),a=Math.max(0,e(t.sharedToMeCount||0,i||0));Object.assign(t,{sharedByMeCount:r,sharedToMeCount:a}),t=t.parent}}},vp=gp((function(e,t){return e+t})),_p=gp((function(e,t){return e-t})),bp={destByMeChange:0,destToMeChange:0,sourceByMeChange:0,sourceToMeChange:0};function yp(e,t,n){var i=bp;i.destByMeChange=0,i.destToMeChange=0,i.sourceByMeChange=0,i.sourceToMeChange=0;var r=n.isSharedDirectlyOrIndirectly,a=t.isSharedDirectlyOrIndirectly;return e.isSharedDirectly&&e.isSharedByMe?(r||(i.destByMeChange+=1),a||(i.sourceByMeChange-=1)):e.isSharedDirectly&&e.isSharedToMe?(r||(i.destToMeChange+=1),a||(i.sourceToMeChange-=1)):!e.isSharedIndirectly&&e.isFolder&&(i.destByMeChange+=e.sharedByMeCount,i.destToMeChange+=e.sharedToMeCount,i.sourceByMeChange-=e.sharedByMeCount,i.sourceToMeChange-=e.sharedToMeCount),i}function Sp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ip=Jf.extend({type:Of.MoveItemsToTrash,items:null,taskScheduler:tp,init:function(e,t,n,i){Object.defineProperties(this,{_sourceFolder:{value:n[0].parent}}),this.__s._$Mc$init.call(this,e,t,Object.assign({},i,{destinationFolder:e.trashRootFolder,items:n}))},getTransactionItemsForFullRevert:function(){return this.items},didStartPreparing:function(){var e=this,t=this._parents={},n=this._itemToParentMap={};this.items.forEach((function(i){var r=i.parent;if(r){var a=r.id;n[i.id]=a,a in t||(t[a]=[],r.prepareForTransaction(e)),t[a].push(i)}}));var i=this.destinationFolder;i&&i.prepareForTransaction(this)},didStartStaging:function(){var e=this.fileSystem,t=this.items;this.addTransactionItems(t);var n=this._parents;for(var i in n){var r=e.getItemById(i);r&&r.content.removeItems(n[i])}var a=this.destinationFolder;a&&a.content.addItems(t);var o=this._sourceFolder;if(bt.a(o)){for(var s,l=0,c=0,u=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Sp(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sp(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(t);!(s=u()).done;){var d=yp(s.value,o,a);l+=d.sourceByMeChange,c+=d.sourceToMeChange}o.isSharedDirectlyOrIndirectly||vp(o,l,c)}e.trashDetailsService.stageShallowCountChangeOf(t.length)},run:function(){var e=this;this.__s._$1FB$run.call(this);var t=this.fileSystem,n=this.items,i=mp.create({items:n,parentIdForItem:function(t){return e._itemToParentMap[t.id]},trashRootFolderId:id.trashRootFolderId,loggingService:t.loggingService});return this.taskScheduler.scheduleTask(i).then((function(t){var i=t.failed,r=t.data;if(i){var a=e.fileSystem.loggingService;if(a){var o=bt.a(r)&&bt.a(r.message)?r.message:"DriveWS: MoveItemsToTrashCommitTask failed",s=e._sourceFolder,l=[];if(bt.a(s)){if(!0!==s.isSharedDirectlyOrIndirectly)for(var c=n.length;c-- >0;){var u=n[c];u.isSharedDirectlyOrIndirectly&&l.push({chained:!0===u.isChainedToParent,byMe:!0===u.isSharedByMe,directly:!0===u.isSharedDirectly,indirectly:!0===u.isSharedIndirectly,toMe:!0===u.isSharedToMe,file:!0===u.isFile,folder:!0===u.isFolder})}a.recordStat(o,{op:"moveToTrash",itemsCount:n.length,srcFolder_isChainedToParent:!0===s.isChainedToParent,srcFolder_isSharedByMe:!0===s.isSharedByMe,srcFolder_isSharedDirectly:!0===s.isSharedDirectly,srcFolder_isSharedIndirectly:!0===s.isSharedIndirectly,srcFolder_isSharedToMe:!0===s.isSharedToMe,sharedItems:l})}}}return t}))},applyChangeForCommitInfoItem:function(e){var t=this.fileSystem.getItemById(e.itemID);t.share!==Yr.TO_ME&&(this.destinationFolder||(t.parentId=id.trashRootFolderId),this._cleanSharingInformation(t),this.fileSystem.trashDetailsService.commitShallowCountChangeOf(1))},_cleanSharingInformation:function(e){var t=this;e.share===Yr.TO_ME?this.fileSystem.destroyItem(e):(e.share=null,e.shareID=null,e.sharingToken=null,e.isFolder&&e.content.visibleContent.forEach((function(e){t._cleanSharingInformation(e)})))},revertChangeForCommitInfoItem:function(e){var t=this.fileSystem,n=e.itemID,i=t.getItemById(n);if(i){var r=i.parent;r&&r.content.removeItem(i);var a=this._itemToParentMap[n];if(a){var o=t.getItemById(a);o&&o.content.addItem(i)}var s=this.destinationFolder,l=this._sourceFolder;if(bt.a(l)){var c=yp(i,l,s);_p(l,c.sourceByMeChange,c.sourceToMeChange)}t.trashDetailsService.unstageShallowCountChangeOf(1)}},didFinalize:function(){for(var e in this._parents){var t=this.fileSystem.getItemById(e);t&&t.content.finalizeForTransaction(this)}var n=this.destinationFolder;n&&n.content.finalizeForTransaction(this)},__superMap:{_$Mc$init:"init",_$1FB$run:"run"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemsToTrashTransaction"}}),wp=wf.Status,Ep=yf.extend({loggingService:null,webService:Xd,init:function(e,t,n,i){this.__s._$Ek$init.call(this,i),Object.defineProperties(this,{_destinationFolder:{value:e},_requestItems:{value:t},_parentIdForItem:{value:n}})},_path:Y.c({readOnly:!0,get:function(){return"moveItems"}}),startRun:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cp,n=this._destinationFolder,i={destinationDrivewsId:n.id,items:this._requestItems},r=n.shareIDFromHierarchy;return bt.a(r)&&n.isSharedToMe&&(i.shareID=r),this.webService.post(this._path,i).then((function(n){if(n.ok){var i=t(n.data,e.loggingService);return i.isFullyCommitted?o.okResult(i):e.rerun(i)}return n}))},rerun:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pp,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cp,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fp,a=n(this._requestItems,e.infoItems,this._parentIdForItem);if(a.length!==e.uncommittedInfoItems.length)return o.failedResult(e);for(var s=a.length,l=new Array(s),c=0;c<s;c++){var u=a[c],d=u.item,h=u.infoItem;l[c]={drivewsid:d.drivewsid,etag:h.details.etag,clientId:d.clientId}}var f={destinationDrivewsId:this._destinationFolder.id,items:l};return this.webService.post(this._path,f).then((function(n){if(n.ok){var a=i(n.data,t.loggingService),s=r(e,a);return a.isFullyCommitted?o.okResult(s):o.failedResult(s)}return o.failedResult(e)}))},__superMap:{_$Ek$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemsCommitTask"}});function Cp(e,t){for(var n=e.items,i=[],r=If.create(),a=n.length,o=0;o<a;o++){var s=n[o],l=wp.getItemForValue(s.status);l===wp.OK&&i.push(s);var c=wf.create({itemID:s.drivewsid,status:l,clientID:s.clientId,details:s});delete s.status,delete s.clientId,r.addInfoItem(c)}return ch(i,t),r}function Ap(e,t,n){for(var i=[],r=e.length,a=0;a<r;a++){var o=e[a];i.push(Tp(o,t,n))}return i}function Tp(e,t,n){var i=null,r=!1;bt.a(t)&&(i=t.shareIDFromHierarchy,r=t.isSharedToMe);var a={drivewsid:e.id,etag:e.etag};return n&&(a.clientId=n.id),r&&(a.shareID=i),a}var Op=Jf.extend({type:Of.MoveItems,items:null,destinationFolder:null,_stagingMap:null,_stagedItemsForMove:null,_requestItemsForTask:null,taskScheduler:tp,fatalError:ze.b,init:function(e,t,n,i,r){this.__s._$OH$init.call(this,e,t,Object.assign({},r,{destinationFolder:i,items:n}));var a=this.items[0].parent;if(a){for(var o=a.id,s=n.length,l=new Array(s),c={},u=new Array(s),d=new Array(s),h=0,f=0,p=0,m=0,g=0;g<s;g++){var v=n[g];v.parentId!==o&&this.fatalError("Cannot prepare. All items do not belong to the same source folder",{transaction:this});var _=null,b=v.etag,y={name:v.name,etag:b};if(v.isFolder)_=Md,y.type="FOLDER";else if(v.isFile){_=sh,y.type="FILE",y.extension=v.extension,y.thumbnailMetadata=v.thumbnailMetadata;var S=v.dateModified;i.isAppLibrary&&(S=new Date(Date.now())),y.dateModified=S.toJSON()}var I=bt.a(jr.a(v,"idParts"))?v.idParts[0]:void 0,w=_.createPlaceholder(void 0,void 0,I),E=w.id;Object.assign(w,y),l[g]=w,c[v.id]=c[E]={stagedItem:w,movedItem:v},u[g]=Tp(v,a,w),d[g]=v.parentId;var C=yp(v,a,i);h+=C.destByMeChange,f+=C.destToMeChange,p+=C.sourceByMeChange,m+=C.sourceToMeChange}i.isSharedDirectlyOrIndirectly||vp(i,h,f),a.isSharedDirectlyOrIndirectly||vp(a,p,m),this._sourceFolder=a,this._stagedItemsForMove=l,this._stagingMap=c,this._requestItemsForTask=u,this._requestItemParentsForTask=d}else this.fatalError("Cannot prepare. Missing source folder",{transaction:this})},_commitTask:Y.c({readOnly:!0,get:function(){return ze.b("MoveItemsTransaction class does not implement a _commitTask property."),null}}),getTransactionItemsForFullRevert:function(){return this.items},didStartPreparing:function(){this.destinationFolder.prepareForTransaction(this),this._sourceFolder.prepareForTransaction(this)},didStartStaging:function(){var e=this.items,t=this._stagedItemsForMove;this.addTransactionItems(e),this.addTransactionItems(t),this._sourceFolder.content.removeItems(e),this.destinationFolder.content.addItems(t)},run:function(){var e=this;this.__s._$2nw$run.call(this);var t=Ep.create(this.destinationFolder,this._requestItemsForTask,(function(t){return e._requestItemParentsForTask[e._requestItemsForTask.indexOf(t)]}),{loggingService:this.fileSystem.loggingService});return this.taskScheduler.scheduleTask(t)},willBeginFinalizingItems:function(){this.destinationFolder.content.beginChanges(),this._sourceFolder.content.beginChanges()},didEndFinalizingItems:function(){this.destinationFolder.content.endChanges(),this._sourceFolder.content.endChanges()},applyChangeForCommitInfoItem:function(e){var t=this.destinationFolder,n=t.content,i=this.fileSystem.getItemById(e.itemID),r=this._stagingMap[e.clientID].stagedItem;i.etag=e.details.etag,i.parentId=t.id,r.thumbnailMetadata&&(i.thumbnailMetadata=r.thumbnailMetadata),n.removeItem(r),n.addItem(i)},revertChangeForCommitInfoItem:function(e){var t=this.destinationFolder,n=this._sourceFolder,i=e.itemID,r=this._stagingMap[i],a=yp(r.movedItem,n,t);_p(t,a.destByMeChange,a.destToMeChange),_p(n,a.sourceByMeChange,a.sourceToMeChange),n.content.addItem(r.movedItem),t.content.removeItem(r.stagedItem)},_changeTransactionItemsState:function(e){var t=this.transactionItems;this.didBeginTransactionItemsStateChange();for(var n=t.length,i=0;i<n;i++){var r=t[i];r.isDisposed||(r.transactionState=e,this.didChangeTransactionStateForItem(r,e))}this.didEndTransactionItemsStateChange()},didFinalize:function(){this.destinationFolder.finalizeForTransaction(this),this._sourceFolder.finalizeForTransaction(this),this._stagingMap=null,this._stagedItemsForMove=null,this._requestItemsForTask=null,this.items=null},__superMap:{_$OH$init:"init",_$2nw$run:"run"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemsTransaction"}}),Dp=Ge.a.extend(wo.a,{action:function(e,t){var n=t.storeId;if(t.changeType===er.WRITE.DESTROY)e.deleteData(n);else{var i=t.originalData,r=t.newData;if(e.writeData(n,r),i&&r&&void 0===r.isInTrash){var a=i.isInTrash,o=void 0!==a&&a;e.writeDataProperty(n,"isInTrash",o)}r&&("restorePath"in r||e.writeDataProperty(n,"restorePath",null),"share"in r||e.writeDataProperty(n,"share",null),"shareID"in r||e.writeDataProperty(n,"shareID",null))}return Z.a.resolve()},staticMembers:{__QUALIFIED_CLASS_NAME__:"OverwriteEntireHashStrategy"}}),Mp=wf.Status,Np=yf.extend({init:function(e,t,n){Object.defineProperties(this,{_items:{value:e},_sourceFolder:{value:t}}),this.__s._$Id$init.call(this,n)},_path:Y.c({readOnly:!0,get:function(){return"deleteItems"}}),webService:Xd,startRun:function(){var e=this,t={items:Ap(this._items,this._sourceFolder)};return this.webService.post(this._path,t).then((function(t){if(t.ok){var n=e.parseResponseData(t.data);return n.isFullyCommitted?o.okResult(n):o.failedResult(n)}return t}))},parseResponseData:function(e){for(var t=e.items,n=If.create(),i=0,r=t.length;i<r;i++){var a=t[i],o=Mp.getItemForValue(a.status);delete a.status;var s=wf.create({itemID:a.drivewsid,status:o,details:a});n.addInfoItem(s)}return n},__superMap:{_$Id$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DeleteItemsCommitTask"}}),Fp=Np.extend({_path:Y.c({readOnly:!0,get:function(){return"deleteItemsInTrash"}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"PurgeRecentlyDeletedItemsCommitTask"}}),Lp=Jf.extend({init:function(e,t,n,i){Object.defineProperties(this,{_sourceFolder:{value:n[0].parent}}),this.__s._$G9$init.call(this,e,t,Object.assign({},i,{items:n}))},commitTaskClass:Y.c({readOnly:!0,type:yf,get:function(){return Np}}),parents:X.b({dependencies:["items"],readOnly:!0,get:Object.assign((function(){var e={},t=this.items;return t&&t.forEach((function(t){var n=t.parent;if(n){var i=n.id;i in e||(e[i]=[]),e[i].push(t)}})),e}),{__CW__getter:function(e,t,n,i){var r={},a=i.internalGet(this,t[0+n]);return a&&a.forEach((function(e){var t=e.parent;if(t){var n=t.id;n in r||(r[n]=[]),r[n].push(e)}})),r}})}),items:X.b({type:Array}),type:Of.DeleteItems,didStartPreparing:function(){var e=this.parents;for(var t in e){var n=this.fileSystem.getItemById(t);n&&n.prepareForTransaction(this)}this.itemToParentMap=this.getItemToParentIdMap(this.items)},didStartStaging:function(){var e=this.items;this.addTransactionItems(e);var t=this.parents;for(var n in t){var i=this.fileSystem.getItemById(n);i&&i.content.removeItems(t[n])}},getTransactionItemsForFullRevert:function(){return this.items},getItemToParentIdMap:function(e){var t={};return e&&e.forEach((function(e){var n=e.parent;n&&(t[e.id]=n.id)})),t},run:function(){this.__s._$v5$run.call(this);var e=this.commitTaskClass.create(this.items,this._sourceFolder);return tp.scheduleTask(e)},revertChangeForCommitInfoItem:function(e){var t=this.fileSystem,n=e.itemID,i=t.getItemById(n);if(i){var r=this.itemToParentMap[n];if(r){var a=t.getItemById(r);a&&a.content.addItem(i)}}},didFinalize:function(){for(var e in this.parents){var t=this.fileSystem.getItemById(e);t&&t.content.finalizeForTransaction(this)}},__superMap:{_$G9$init:"init",_$v5$run:"run"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TombstoneItemsTransaction"}}),Rp=Lp.extend({commitTaskClass:Y.c({readOnly:!0,type:yf,get:function(){return Fp}}),type:Of.PurgeRecentlyDeletedItems,didStartStaging:function(){var e=this,t=arguments,n=this.fileSystem,i=this.parents,r=i[n.trashRootFolder.id];e.__s._$HN$didStartStaging.apply(e,t),r&&r.length&&n.trashDetailsService.stageShallowCountChangeOf(-r.length)},applyChangeForCommitInfoItem:function(e){var t=e.itemID,n=this.fileSystem;this.itemToParentMap[t]===n.trashRootFolder.id&&n.trashDetailsService.commitShallowCountChangeOf(-1);var i=n.getItemById(t);n.destroyItem(i)},revertChangeForCommitInfoItem:function(e){var t=this,n=arguments;t.__s._$Wa$revertChangeForCommitInfoItem.apply(t,n);var i=this.fileSystem,r=this.itemToParentMap[e.itemID];r===i.trashRootFolder.id&&i.trashDetailsService.unstageShallowCountChangeOf(-1)},__superMap:{_$HN$didStartStaging:"didStartStaging",_$Wa$revertChangeForCommitInfoItem:"revertChangeForCommitInfoItem"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PurgeRecentlyDeletedItemsTransaction"}}),xp=wf.Status,Pp=yf.extend({init:function(e,t,n){this.item=e,this.loggingService=t,this.__s._$BX$init.call(this,n)},item:null,loggingService:null,webService:Xd,startRun:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kp,n=this.item,i={drivewsid:n.id,etag:n.etag,name:n.sanitizedName,extension:n.extension},r=n.shareIDFromHierarchy;r&&(i.shareID=r);var a={items:[i]};return this.webService.post("renameItems",a).then((function(n){if(n.ok){var i=t(n.data,e.loggingService);return i.isFullyCommitted?o.okResult(i):o.failedResult(i)}return n}))},__superMap:{_$BX$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RenameItemCommitTask"}});function kp(e,t){for(var n=e.items,i=[],r=If.create(),a=0,o=n.length;a<o;a++){var s=n[a],l=xp.getItemForValue(s.status);l===xp.OK&&i.push(s);var c=wf.create({itemID:s.drivewsid,status:l,details:s});delete s.status,delete s.clientId,r.addInfoItem(c)}return ch(i,t),r}var Up=Jf.extend({init:function(e,t,n,i,r){this.__s._$91$init.call(this,e,t,Object.assign({},r,{item:n,name:i}))},type:Of.RenameItem,item:X.b(),name:null,parent:X.b(J.c("item.parent")),sourceFolder:Y.c({readOnly:!0,get:function(){return this._sourceFolder}}),originalName:Y.c({readOnly:!0,get:function(){return this._originalName}}),getTransactionItemsForFullRevert:function(){return[this.item]},didStartPreparing:function(){this.parent.prepareForTransaction(this);var e=this.item;this._originalName=e.name,this.addTransactionItem(e)},didStartStaging:function(){var e=this.item;e.name=this.name,this.addTransactionItem(e),this.parent.content.updateItem(e)},run:function(){var e=this;this.__s._$QW$run.call(this);var t=Pp.create(this.item,this.fileSystem.loggingService);return tp.scheduleTask(t).then((function(t){var n=t.failed,i=t.data;if(n){var r=e.fileSystem.loggingService;if(r){var a=bt.a(i)&&bt.a(i.message)?i.message:"DriveWS: RenameItemCommitTask failed",o=e.item;r.recordStat(a,{op:"rename",isChainedToParent:!0===o.isChainedToParent,isSharedByMe:!0===o.isSharedByMe,isSharedDirectly:!0===o.isSharedDirectly,isSharedIndirectly:!0===o.isSharedIndirectly,isSharedToMe:!0===o.isSharedToMe})}}return t}))},revertChangeForCommitInfoItem:function(e){var t=this.item;t.name=this._originalName,this.parent.content.updateItem(t)},didFinalize:function(){this.parent.content.finalizeForTransaction(this)},didChangeTransactionStateForItem:function(e,t){var n=e.parent;n&&n.content.updateItem(e)},__superMap:{_$91$init:"init",_$QW$run:"run"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RenameItemTransaction"}}),jp=["folderContent","folderContent.changed","folderContent.loadState","folderContent.dataState","folderContent.transactionCount"],Bp=Ge.a.extend(Ni.a,{selection:X.b(null),folderContent:X.b(null),shouldAllowPutBackFiles:X.b({defaultValue:!1,readOnly:!0,dependencies:["folderContent.visibleContent","folderContent.visibleContent.contentsDidChange","selection"].concat(jp),get:function(){var e,t=this.folderContent;return!Vp(t)&&t.isInTrash&&(0!==((e=this.shouldOperateOnAllTrashItems?t.visibleContent:this.selection)?e.length:0)&&!e.some((function(e){return e.transactionState!==Jr.Prepared})))}}),shouldAllowTombstoneFiles:X.b({defaultValue:!1,readOnly:!0,dependencies:["folderContent.visibleContent","folderContent.visibleContent.contentsDidChange","selection"].concat(jp),get:function(){var e,t=this.folderContent;return!Vp(t)&&t.isInTrash&&(0!==((e=this.shouldOperateOnAllTrashItems?t.visibleContent:this.selection)?e.length:0)&&!e.some((function(e){return e.transactionState!==Jr.Prepared})))}}),shouldOperateOnAllTrashItems:X.b({defaultValue:!1,readOnly:!0,dependencies:["selection"].concat(jp),get:function(){var e=this.folderContent,t=this.selection;return!!t&&(Vp(e)||e.isInTrash&&0===t.length)}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"TrashActionPolicy"}});function Vp(e){return!e||e.isLoading}var $p,Wp=ne.b("LocalEditValidationErrorItemType",["DuplicateName","HiddenFile","EmptyName","InvalidName"]),zp=Af.extend({init:function(e,t,n){this.newName=t,this.__s._$8f$init.call(this,e,n)},item:Y.c({type:Ea}),newName:Y.c({type:"string"}),__superMap:{_$8f$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"LocalEditValidationErrorDetails"}}),Gp=Tf.extend({type:Y.c({type:Wp}),details:Y.c({type:zp}),staticMembers:{__QUALIFIED_CLASS_NAME__:"LocalEditValidationErrorItem"}}),Hp=ne.b("UploadValidationErrorItemType",["AccessDenied","IEFolderDropZeroFileCount","BadAppLibraryType","NotCompressed","HiddenFile","BrowserNotSupported","SizeTooBig","Unknown","UnsupportedExtension","SizeTooSmall"]),Kp=Tf.extend({type:Y.c({type:Hp}),details:Y.c(null),staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadValidationErrorItem"}}),Qp=Af.extend({init:function(e,t,n){this.destination=t,this.__s._$JS$init.call(this,e,n)},item:Y.c({defaultValue:null}),destination:Y.c({type:Md,defaultValue:null}),meta:null,__superMap:{_$JS$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadValidationErrorDetails"}}),qp=Ge.a.extend(Ni.a,{init:function(e,t,n){this.id=ii.a(),this.fileSystem=e,this.initialWorkingDirectory=t,this.currentWorkingDirectory=t,this.__s._$jb$init.call(this,n),this.actionPolicy||(this.actionPolicy=fa.create()),this.trashPolicy||(this.trashPolicy=Bp.create())},id:Y.c({readOnly:!0}),fileSystem:X.b(),actionPolicy:X.b(),trashPolicy:X.b(),initialWorkingDirectory:Y.c({readOnly:!0}),currentWorkingDirectory:X.b(),trashRootFolder:X.b(J.c("fileSystem.trashRootFolder")),browseRootFolder:X.b(J.c("fileSystem.browseRootFolder")),changeDirectory:function(e){e&&e.constructor.kindOf&&e.constructor.kindOf(Md)||ze.b("changeDirectory can only change directory to Folder objects");var t=this.currentWorkingDirectory,n=o.failedResult(t);return!0===this.actionPolicy.determineShouldAllowChangeDirectory(t,e)&&(this.currentWorkingDirectory=e,n=o.okResult(e)),Z.a.resolve(n)},changeDirectoryUp:function(){var e=this.currentWorkingDirectory;if(e.isBrowseRoot)return Z.a.resolve();var t=e.parent;return t&&t.constructor.kindOf&&t.constructor.kindOf(Md)?this.changeDirectory(t):ze.b("Parent directory not found for current working directory")},navigateOutFromRemotelyUnsharedFolder:function(){var e,t=this.fileSystem,n=(e=this.currentWorkingDirectory.parent)&&e.parent?e:t.driveRootFolder;this.changeDirectory(n)},listContents:function(){var e=this.currentWorkingDirectory.content;return e.hasLoadedContent?Z.a.resolve(e):e.loadAllContent()},createFolder:function(e,t){return t=t||this.currentWorkingDirectory,this.fileSystem.generateCreateFolderTransaction(e,t).commit()},uploadFile:function(e,t,n){t=t||this.currentWorkingDirectory;var i=this.fileSystem,r=i.generateUploadFileTransaction(e,t);return i.commitUploadFileTransaction(r,n)},uploadFiles:function(e,t,n,i){var r=e.length;if((n=n||{}).multipleFiles=r>1,0===r){var a=Kp.create(Hp.IEFolderDropZeroFileCount,null);return Z.a.resolve([i([a])])}for(var o=new Array(r),s=0;s<r;s++){var l=e[s];o[s]=this.uploadFile(l,t,n).then(this.uploadFileCallback(i))}return Z.a.all(o)},uploadFileCallback:function(e){var t=this;return function(n){return n.ok?n:n.failed?(n.data[0].details.conflictType===Df.DestinationDeleted&&t.navigateOutFromRemotelyUnsharedFolder(),e(n.data)):void 0}},cancelUploadForFile:function(e){this.fileSystem.cancelUploadForFile(e)},moveItems:function(e,t){var n=this.currentWorkingDirectory;return(!(t=t||n).isInTrash&&e[0].isInTrash?this.fileSystem.generateMoveItemsFromTrashTransaction(e,t):this.fileSystem.generateMoveItemsTransaction(e,t)).commit()},moveItemsToTrash:function(e){return this.fileSystem.generateMoveItemsToTrashTransaction(e).commit()},putItemsBackFromTrash:function(e){return this.fileSystem.generatePutItemsBackFromTrashTransaction(e).commit()},renameItem:function(e,t){var n=this.validateRenameItem(e,t);return!1!==n?Z.a.reject(n):this.fileSystem.generateRenameItemTransaction(e,t).commit()},validateRenameItem:function(e,t){var n;n=e.isFile?sh.create({name:t,id:Xr.FILE+"::unspecified::unspecified",isFolder:!1}):Md.create({id:Xr.FOLDER+"::unspecified::unspecified",name:t,isFolder:!0});var i=e.parent?e.parent.content:null,r=zp.create(e,t),a=[];a.push({validation:n.validateItemIsVisible.bind(n),arguments:[],fail:function(){return Gp.create(Wp.HiddenFile,r)}}),a.push({validation:n.validateItemNameIsNotEmpty.bind(n),arguments:[],fail:function(){return Gp.create(Wp.EmptyName,r)}}),a.push({validation:n.validateItemNameInvalidCharacters.bind(n),arguments:[],fail:function(){return Gp.create(Wp.InvalidName,r)}}),i&&a.push({validation:e.validateItemNameIsUnique.bind(e),arguments:[t,i],fail:function(){return Gp.create(Wp.DuplicateName,r)}});for(var o=0;o<a.length;o++){var s=a[o];if(!s.validation.apply(this,s.arguments))return s.fail()}return!1},tombstoneItems:function(e){return this.fileSystem.generateTombstoneItemsTransaction(e).commit()},tombstoneRecentlyDeletedItems:function(e){return this.fileSystem.generatePurgeRecentlyDeletedItemsTransaction(e).commit()},_itemSynchronizationObserver:Ni.f({inputs:["fileSystem.itemsDidSynchronize"],callback:function(e){if(e){var t=e.context;t?this._fileSystemDidSynchronizeItems(t):this.changeDirectory(this.browseRootFolder)}}}),_currentWorkingDirectoryObserver:Ni.f({inputs:["currentWorkingDirectory"],callback:function(){this._synchronizeCurrentWorkingDirectory()}}),_fileSystemDidSynchronizeItems:function(e){var t=this.currentWorkingDirectory;if(t){var n=t.path,i={};e.forEach((function(e){i[e.id]=e})),n.find((function(e){return!!i[e.id]}))&&this._synchronizeCurrentWorkingDirectory()}},_synchronizeCurrentWorkingDirectory:function(){var e=this.currentWorkingDirectory;if(!e)return!1;var t,n=this.fileSystem,i=e.path;e.isDeleted&&(i.slice().reverse().find((function(e){var i=n.getFolderById(e.id);return!(!i||i.isDeleted)&&(t=i,!0)})),t&&!t.isDeleted?this.changeDirectory(t):ze.b("Could not synchronize current working directory: Valid parent not found for deleted directory"))},__superMap:{_$jb$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Session"}}),Yp=Ge.a.extend({init:function(e,t){this.fileSystem=e,this.__s._$79$init.call(this,t)},fileSystem:null,delegate:null,resolveTransactionConflictForItem:function(e,t){switch(t.status){case Sf.DestinationInvalid:case Sf.DestinationDeleted:this._resolveDestinationDeletedConflict(e,t);break;case Sf.ItemUnshared:this._resolveItemUnsharedConflict(e,t);break;case Sf.ItemDeleted:this._resolveItemDeletedConflict(e,t);break;case Sf.ItemModified:this._resolveItemModifiedConflict(e,t);break;default:e.revertChangeForCommitInfoItem(t)}},_resolveItemUnsharedConflict:function(e,t){e.revertChangeForCommitInfoItem(t);var n=e._sourceFolder;this._deleteItem(n)},_resolveDestinationDeletedConflict:function(e,t){e.revertChangeForCommitInfoItem(t);var n=e.destinationFolder;this._deleteItem(n)},_resolveItemDeletedConflict:function(e,t){e.revertChangeForCommitInfoItem(t);var n=this.fileSystem.getItemById(t.itemID);this._deleteItem(n)},_resolveItemModifiedConflict:function(e,t){var n=this.fileSystem,i=n.getItemById(t.itemID),r=qi(i.getDataHash(),t.details),a=!1;if(e.revertChangeForCommitInfoItem(t),r){for(var o=0,s=r.updated.length;o<s;o++){var l=r.updated[o];"parentId"!==l?i.set(l,t.details[l]):a=!0}if(a){var c=i.parent;bt.a(c)&&c.content.removeItem(i);var u=n.getFolderById(t.details.parentId);u&&u.content.addItem(i),i.parentId=t.details.parentId}}else Re.b.error("TransactionConflictResolver: Reached unexpected condition trying to resolve item modified conflict")},_deleteItem:function(e){if(e.parentId){e.parent.content.removeItem(e);var t=this.delegate,n=t?t.transactionConflictResolverDidDeleteItem:null;n&&n.call(t,this,e)}},__superMap:{_$79$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionConflictResolver"}}),Xp=Ld.extend({includeShallowCount:!0,run:function(){return Xd.post("retrieveTrashDetails",{includeShallowCount:this.includeShallowCount})},staticMembers:{__QUALIFIED_CLASS_NAME__:"TrashDetailsQuery"}}),Jp=Ge.a.extend(Ni.a,{isEmpty:X.b({readOnly:!0,dependencies:["_isEmpty"],get:Object.assign((function(){return this._isEmpty}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])}})}),isPolling:X.b({defaultValue:!1,type:Boolean}),pollDelay:Y.c({defaultValue:3e4,type:"integer"}),shallowCount:X.b({readOnly:!0,dependencies:["_shallowCount"],get:Object.assign((function(){return this._shallowCount}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])}})}),beginPolling:function(){this.isPolling||0!==this._stagingCount||(this.isPolling=!0,this._refreshDetailsFromServer())},endPolling:function(){this.isPolling&&(globalThis.clearTimeout(this._timeoutId),this._timeoutId=null,this.isPolling=!1)},stageShallowCountChangeOf:function(e){bt.a(this._shallowCount)&&(this._shallowCount+=e),this._stagingCount+=Math.abs(e),this.isPolling&&this.endPolling()},unstageShallowCountChangeOf:function(e){bt.a(this._shallowCount)&&(this._shallowCount-=e),this._stagingCount=Math.max(0,this._stagingCount-Math.abs(e)),0===this._stagingCount&&this.beginPolling()},commitShallowCountChangeOf:function(e){this._stagingCount=Math.max(0,this._stagingCount-Math.abs(e)),0===this._stagingCount&&this.beginPolling()},_isEmpty:X.b({type:Boolean}),_refreshDetailsFromServerQuery:null,_shallowCount:X.b({type:"integer"}),_stagingCount:0,_timeoutId:X.b({type:"integer"}),_refreshDetailsFromServer:function(){var e=this,t=this._refreshDetailsFromServerQuery;bt.a(t)||(t=this._refreshDetailsFromServerQuery=Xp.create()),this.isPolling&&(globalThis.clearTimeout(this._timeoutId),this._timeoutId=null),t.run().then((function(t){if(e.isPolling&&t.ok){var n=t.data;e._shallowCount=n.shallowCount,e._isEmpty=n.isEmpty,e._timeoutId=ft.a((function(){e._refreshDetailsFromServer()}),e.pollDelay)}}))},staticMembers:{__QUALIFIED_CLASS_NAME__:"TrashDetailsService"}}),Zp=(($p={})[cd.Name]=ud,$p[cd.DateModified]=function(e,t){return Id(e,t)?wd(e,t):gd(Sd(bd),_d,vd)(e,t)},$p[cd.Size]=function(e,t){return Id(e,t)?wd(e,t):gd(Sd(md(pd("size"),fd(dd))),ud)(e,t)},$p[cd.Kind]=function(e,t){return Id(e,t)?wd(e,t):gd(Sd(md(pd("extension"),hd)),ud)(e,t)},$p),em=cd.Name,tm=n(718);function nm(e,t){var n=(new l.a).update(e+t).digest();return n[6]&=15,n[6]|=48,n[8]&=63,n[8]|=128,tm.a(n).toUpperCase()}var im=Ge.a.extend(Ni.a,{MAX_ITEM_NAME_LENGTH:X.b({readOnly:!0,defaultValue:255}),delegate:Y.c({type:zu}),hostService:Y.c(),loggingService:Y.c(),uploadFilesService:X.b(),didFetchFolderContent:Ni.g(),trashDetailsService:X.b(),isReadyToTerminate:X.b({readOnly:!0,dependencies:["hasActiveTransactions"],get:Object.assign((function(){return!this.hasActiveTransactions}),{__CW__getter:function(e,t,n,i){return!i.internalGet(this,t[0+n])}})}),isReadyToTerminateObserver:Ni.f({inputs:["isReadyToTerminate"],callback:function(e){this.hostService.isReadyToTerminateDidChange(e)}}),_didFetchFolderContentObserver:Ni.f({inputs:["didFetchFolderContent"],callback:function(e){if(e){var t=e.context,n=t.parentFolder,i=t.content;this._accessRightsAssignmentManager.assignRightsToContent(n,i)}}}),didFinishHandlingTransaction:Ni.g(),_didFinishHandlingTransactionObserver:Ni.f({inputs:["didFinishHandlingTransaction"],callback:function(e){if(e){var t=e.context.transaction;this._refreshQuotaDataForTransactionIfNeeded(t)}}}),_accessRightsAssignmentManager:ut.b(_f),migrationPollDuration:3e4,itemsDidSynchronize:Ni.g(),init:function(e,t,n,i){this.hostService=t,this.loggingService=n,this.delegate=e,Object.defineProperties(this,{_dataManager:{value:Cr.extend(af).create({MergeStrategy:this.getMergeStrategy()})},_transactionConflictResolver:{value:Yp.create(this,{delegate:this})},_outstandingFolderQueries:{value:{}}}),this.__s._$1ru$init.call(this,i),lh({drivewsid:id.driveRootFolderId,name:a.d("DriveFS.RootFolderName"),type:wa.FOLDER.value,parentId:null},this.loggingService),lh({drivewsid:id.trashRootFolderId,name:a.d("DriveFS.Default.FolderName.RecentlyDeleted"),type:wa.FOLDER.value,parentId:id.browseRootFolderId},this.loggingService),this.trashDetailsService||(this.trashDetailsService=Jp.create())},getMergeStrategy:function(){return Dp},getNewSession:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=bt.a(t)?t:qp,r=bt.a(e)?e:this.browseRootFolder;return i.create(this,r,n)},generateMoveItemsToTrashTransaction:function(e){var t=Ip.create(this,this,e);return this._prepareForTransaction(t),t},generateMoveItemsFromTrashTransaction:function(e,t){var n=dp.create(this,this,e,t);return this._prepareForTransaction(n),n},generatePutItemsBackFromTrashTransaction:function(e){var t=up.create(this,this,e);return this._prepareForTransaction(t),t},generateCreateFolderTransaction:function(e,t){var n=np.create(this,this,e,t);return this._prepareForTransaction(n),n},generateRenameItemTransaction:function(e,t){var n=Up.create(this,this,e,t);return this._prepareForTransaction(n),n},generateMoveItemsTransaction:function(e,t){var n=Op.create(this,this,e,t);return this._prepareForTransaction(n),n},generateUploadFileTransaction:function(e,t){this._validateUploadFilesService();var n=this.uploadFilesService.generateUploadFileTransaction(e,t);return this._prepareForTransaction(n),n},commitUploadFileTransaction:function(e,t){return this._validateUploadFilesService(),this.uploadFilesService.commitUploadFileTransaction(e)},cancelUploadForFile:function(e){this._validateUploadFilesService(),this.uploadFilesService.cancelUploadForFile(e)},_validateUploadFilesService:function(){this.uploadFilesService||ze.b("FileSystem requires an UploadFilesService to perform an upload operation")},driveRootFolder:X.b({readOnly:!0,get:function(){return this.getFolderById(id.driveRootFolderId)}}),browseRootFolder:X.b({readOnly:!0,get:function(){return this.getFolderById(id.browseRootFolderId)}}),trashRootFolder:X.b({readOnly:!0,get:function(){return this.getFolderById(id.trashRootFolderId)}}),getFolderById:function(e){return Md.find(e,this._dataManager)},getFileById:function(e){return sh.find(e,this._dataManager)},getItemById:function(e){return this.getFileById(e)||this.getFolderById(e)},getItemsByIds:function(e){if(e){for(var t=e.length,n=new Array(t),i=0;i<t;i++)n[i]=this.getItemById(e[i]);return n}},refreshQuotaData:function(){var e=this;return this.hostService.refreshQuotaData().then((function(t){return t.ok&&(e.quotaData=t.data),t}))},quotaData:X.b(),_refreshQuotaDataForTransactionIfNeeded:function(e){if(e.commitInfo.hasCommittedItems)switch(e.type){case Of.UploadItem:case Of.DeleteItems:case Of.DuplicateItems:case Of.MoveItemsToTrash:case Of.PutItemsBackFromTrash:case Of.MoveItemsFromTrash:this.refreshQuotaData()}},registerExternalFetchForId:function(e){var t=this,n=Z.a.create();return this._outstandingFolderQueries[e]=n,n.finally((function(){t._outstandingFolderQueries[e]=null})),function(e){n.resolve(e)}},fetchRootFolderDetails:function(){return ph.create(this,{queryMode:ph.Mode.DetailsOnly}).run()},fetchFolderContent:function(e){var t=e.folder.id,n=this._outstandingFolderQueries[t];if(n)return n;var i=uh.create(this,t,{includeHierarchy:!0});return this._runFolderContentQuery(i)},fetchFolderContentChangeSet:function(e){var t=this,n=e.folder,i=n.id;return ip.create(i,this,{folderIsInTrash:n.isInTrash,includeHierarchy:!0}).run().then((function(e){if(e.ok){var i=e.data;t._synchronizeAncestorFolderHierarchy(i.folderInfo,i.hierarchy);var r=i.changes;if(r.hasItems){var a=r.filter((function(e){return e.action!==sd.Action.Remove})).map((function(e){return e.value}));t.didFetchFolderContent({fileSystem:t,parentFolder:n,content:a})}return o.okResult(r)}return e}))},_runFolderContentQuery:function(e){var t=this,n=e.folderID,i=e.run().then((function(e){t._outstandingFolderQueries[n]=null;var i=e.data;if(e.ok){t._synchronizeAncestorFolderHierarchy(i.folderInfo,i.hierarchy);var r=i.folderInfo.id,a=t.getFolderById(r);return t.didFetchFolderContent({fileSystem:t,parentFolder:a,content:i.items}),o.okResult({items:i.items})}return t.delegate.handleQueryFolderContentFailure(e)}));return this._outstandingFolderQueries[n]=i,i},_synchronizeAncestorFolderHierarchy:function(e,t){var n;e.isDeleted?n=this.getFolderById(e.id).path.map((function(e){return{id:e.id}})):(n=t?t.slice():[]).push({id:e.id,etag:e.etag});for(var i=0;i<n.length-1;i++){var r=n[i+1],a=n[i];r.parentId||(r.parentId=a.id)}this._synchronizeItems(n)},_synchronizeItems:function(e){var t=this;if(e&&0!==e.length){var n=e.map((function(e){return e.id||e.drivewsid})),i=[];if(this.getItemsByIds(n).forEach((function(t,n){var r=e[n];t?r.etag&&r.etag===t.etag||i.push(t.toJSON()):i.push({id:r.drivewsid||r.id,parentId:r.parentId})})),0!==i.length){var r=i.map((function(e){return{id:e.id,shareID:e.shareIDFromHierarchy}}));dh.create(this,r,{trace:"1"}).run().then((function(e){var n=e.data;e.ok?t._completeSynchronizingItems(i,n):t.loggingService.recordStat("ErrorSynchronizingItems",{class:"FileSystem",errorMessage:n.message,stack:n.stack})}))}}},_completeSynchronizingItems:function(e,t){var n=this;e.forEach((function(e){for(var i=0;i<t.length;i++){var r=t[i];if(e.id===r.id){n._completeSynchronizingItem(e,r);break}}})),this.itemsDidSynchronize(t)},_completeSynchronizingItem:function(e,t){if(!e.isDeleted&&t.isDeleted)this.destroyItem(t);else if(e.parentId!==t.parentId){var n=this.getFolderById(e.parentId),i=this.getFolderById(t.parentId);this._moveLocalItem(t,n,i)}},destroyItem:function(e){if(e.isFolder||e.isAppLibrary){var t=e.content;t.beginChanges();for(var n=t.length-1;n>=0;n--){var i=t.visibleContent.objectAt(n);this.destroyItem(i)}t.endChanges()}var r=e.parent;r&&r.content.removeItem(e),e.destroy()},_moveLocalItem:function(e,t,n){t&&t.content.removeItem(e),n&&n.content.addItem(e)},_activeTransactions:X.b(ut.b(mf)),hasActiveTransactions:X.b({dependencies:["_activeTransactions","_activeTransactions.contentsDidChange"],readOnly:!0,get:Object.assign((function(){return!!this._activeTransactions.length}),{__CW__getter:function(e,t,n,i){return!!i.internalGet(this,t[0+n]).length}})}),_prepareForTransaction:function(e){e.prepare(),this._activeTransactions.push(e)},transactionDidFinalize:function(e){Ls.a(e,this._activeTransactions),this.didFinishHandlingTransaction({fileSystem:this,transaction:e})},transactionResolveConflictForItem:function(e,t){this._transactionConflictResolver.resolveTransactionConflictForItem(e,t)},transactionConflictResolverDidDeleteItem:function(e,t){},_stagedItems:ut.b(globalThis.Set),registerItemAsStaged:function(e){this._stagedItems.add(e)},unregisterItemAsStaged:function(e){this._stagedItems.delete(e)},itemIsStaged:function(e){return this._stagedItems.has(e)},generateTombstoneItemsTransaction:function(e){var t=Lp.create(this,this,e);return this._prepareForTransaction(t),t},generatePurgeRecentlyDeletedItemsTransaction:function(e){var t=Rp.create(this,this,e);return this._prepareForTransaction(t),t},sortComparators:X.b(ut.b(Zp)),setSortComparator:function(e,t){this.sortComparators[e]=t},sortType:X.b(em),retrieveItemForCKRecordHash:function(e){var t=this,n=e.rootRecord;if(bt.a(n)){var i=n,r=e.resolvedRecord,a=e.share,s=r||i,l=i.recordName,c=bt.a(r)?r.recordName:null,u=s.recordName,d=bt.a(a)?a.recordName:null,h=e.zoneID,f=h.zoneName,p=h.ownerRecordName,m=s.recordType,g=bt.a(a)&&"OWNER"!==jr.a(a,"currentUserParticipant.type"),v=!bt.a(c)||c===l,_=g&&v?nm(p,u.split("/")[1]):u.split("/")[1],b=g?nm(p,l.split("/")[1]):l.split("/")[1],y=g&&v?"structure"===m?"SHARED_FOLDER":"SHARED_FILE":g&&!v?"structure"===m?"FOLDER_IN_SHARED_FOLDER":"FILE_IN_SHARED_FOLDER":"structure"===m?"FOLDER":"FILE",S=(g&&v&&"com.apple.CloudDocs"!==f?[f,"com.apple.CloudDocs"]:[f]).map((function(e){return y+"::"+e+"::"+_})),I=S.map((function(e){return t.getItemById(e)})).find((function(e){return Boolean(e)})),w=bt.a(a)?{shareName:d,recordName:d,zoneID:h}:void 0,E=S.map((function(e){return{drivewsid:e,includeHierarchy:!0,shareID:g&&!v?w:void 0}}));return bt.a(I)?Z.a.resolve(o.okResult(I)):Xd.post("retrieveItemDetails",{items:E}).then((function(n){var i,r=n.data;if(n.ok&&0!==r.items.length){t.loggingService.recordStat("SuccessfullyFoundResolvedRecord",{targetIsRootOfShare:v});for(var a=r.items.find((function(e){return Boolean(e)})),s=a.hierarchy,l=0,c=s.length;l<c;l++){var u=s[l],d=u.drivewsid.split("::"),h=d[1],f=d[2];if(f===b&&(u.shareID=w,u.share=g?Yr.TO_ME.value:Yr.BY_ME.value,g&&(u.owner={firstName:jr.a(e,"ownerIdentity.nameComponents.givenName"),lastName:jr.a(e,"ownerIdentity.nameComponents.familyName"),ownerRecordName:jr.a(e,"ownerIdentity.userRecordName")})),u.type=wa.FOLDER.value,u.zone=h,u.docwsid=f,l!==s.length-1){var p=s[l+1];p.parentId=u.drivewsid,p.shareID=u.shareID,p.share=u.share}}var m=ch([].concat(s,[a]),t.loggingService),_=m[m.length-1],y=t.getItemById(_);i=o.okResult(y)}else t.loggingService.recordStat("FailedToFindResolvedRecord",{mismatchedDriveWsId:Boolean(r.items&&0===r.items.length)}),i=o.failedResult(r);return i}))}var C=new Error("No root or resolved record found on share record.");return Z.a.resolve(o.failedResult(C))},__superMap:{_$1ru$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"FileSystem"}}),rm=[];function am(e,t){return t.concat(rm).reduce((function(e,t){return e.replace(t,"<REDACTED>")}),e)}var om=function(e){var t=null;if(bt.a(e)){var n=e.match(/^"v=\d{1}:t=([\w\W]*)"$/);null!=n&&2===n.length&&(t=n[1])}return t},sm={headers:{"Content-Type":"text/plain"},method:"POST",shouldReportSuccess:!0,shouldReportFailure:!0},lm=Ge.a.extend({init:function(e,t){this.__s._$FF$init.call(this,Object.assign({hostService:e},t)),this._configureDownloader()},fetch:$d,hostService:Y.c({readOnly:!0}),updateDocument:function(e,t){var n=jr.a(e,"shareIDFromHierarchy.zoneID"),i=e.isSharedToMe&&bt.a(n)?"ws/"+n.zoneName+"/update/shared/"+n.ownerRecordName:"ws/"+e.zone+"/update/documents",r=hu.a.create(as("docws",i));return r.appendQueryParameter("errorBreakdown","true"),this.fetch(r,Object.assign({},sm,{body:t,reportingPathname:am(i,[new RegExp(jr.a(n,"ownerRecordName")||"$^")])})).then(Gd)},createZone:function(){return this.fetch(as("docws","ws/com.apple.CloudDocs/internal/create_zone"),Object.assign({},sm,{query:{create_metadata:!0,errorBreakdown:!0,idempotent:!0}})).then((function(e){var t=e.status;return $u(t)?o.okResult():o.failedResult(t)}))},download:Vr.a,_configureDownloader:function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,i=new Map;return function(r,a){var o=r.zone,s=r.docwsid,l=r.isSharedIndirectly&&r.isSharedToMe&&bt.a(r.shareIDFromHierarchy)?"/"+r.shareIDFromHierarchy.zoneID.ownerRecordName:"",c="ws/"+o+"/download/batch"+l,u={document_id:s},d=i.get(c),h=Z.a.create();if(bt.a(d)){var f=d.body,p=d.promises,m=d.items,g=d.timeoutHandle;f.push(u),p.push(h),m.push(r),f.length>=n&&(clearTimeout(g),cm(e,d,a),i.delete(c))}else{var v=ft.a((function(){cm(e,i.get(c),a),i.delete(c)}),t),_={pathName:c,reportingPathname:am(c,[new RegExp(l||"$^")]),timeoutHandle:v,body:[u],promises:[h],items:[r]};i.set(c,_)}return h}}(this.fetch),t=function(e){return jr.a(e,"docwsid")+"::"+jr.a(e,"etag")},n=function(e,t){var n=new Map;return[function(){var i=t.apply(null,arguments),r=n.get(i);if(void 0!==r)return r;var a=e.apply(null,arguments);return n.set(i,a),a},function(){0===arguments.length?n.clear():n.delete(t.apply(null,arguments))}]}(e,t),i=n[0],r=n[1],a=new Map;this.download=function(e){var n=t(e);return a.get(n)||a.set(n,ft.a((function(){r(e),a.delete(n)}),6e5)),i(e,this.hostService).then((function(t){return t.ok||(r(e),clearTimeout(a.get(n)),a.delete(n)),t}))}.bind(this)},lookup:function(e){var t=e.zone,n=e.etag,i=e.docwsid,r=e.shareIDFromHierarchy,a=[{etag:n,document_id:i}],s="ws/"+t+"/list/lookup_by_id"+(e.isSharedToMe&&bt.a(r)?"/"+r.zoneID.ownerRecordName:""),l=hu.a.create(as("docws",s));return this.fetch(l,Object.assign({},sm,{body:a})).then(Gd).then((function(e){return e.ok?o.okResult(e.data[0]):e}))},createShortGuid:function(e){var t=jr.a(e,"shareIDFromHierarchy.zoneID"),n=e.isSharedToMe&&!e.isSharedDirectly&&bt.a(t)?"ws/"+t.zoneName+"/update/create_short_guid/"+t.ownerRecordName:"ws/"+e.zone+"/update/create_short_guid",i=hu.a.create(as("docws",n));return i.appendQueryParameter("errorBreakdown",!0),i.appendQueryParameter("document_id",e.docwsid),this.fetch(i,Object.assign({},sm,{reportingPathname:am(n,[new RegExp(jr.a(t,"ownerRecordName"))||"$^"])})).then(Gd)},__superMap:{_$FF$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DocWebService"}});function cm(e,t,n){var i,r=t.pathName,a=t.reportingPathname,s=t.body,l=t.promises,c=t.items;try{i=om(n.getValidateToken())}catch(h){var u=Co.getListOfAvailableCookiesAsConcatenatedString();ze.b("Error in DocWebService._executeBatchedDownload requesting COSK getValidateCookie()",{error:h,cookies:u})}bt.a(i)||Re.b.error("DocWebService failed to get auth token from cookie");var d=hu.a.create(as("docws",r));return d.setQueryParameter("token",i),e(d,Object.assign({},sm,{body:s,reportingPathname:a})).then(Gd).then((function(e){var t=e.ok,n=e.data;if(t)return Z.a.all(l.map((function(e,t){return e.resolve(o.okResult(Object.assign({item:c[t]},n[t])))})));var i=n,r=jr.a(i,"body"),a=jr.a(r,"error_code"),s=jr.a(r,"serverErrorCode"),u=jr.a(r,"reason");return a=bt.a(a)?a:"UNK",s=bt.a(s)?s:"UNK",u=bt.a(u)?u:"UNK",Z.a.all(l.map((function(e,t){return e.resolve(o.failedResult({item:c[t],errorCode:a,serverErrorCode:s,reason:u}))})))}))}var um=Ge.a.extend(Ni.a,{changed:Ni.g(),totalAmount:0,percentageComplete:0,amountComplete:0,isComplete:Y.c({readOnly:!0,get:function(){return 100===this.get("percentageComplete")}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"Progress"}}),dm=um.extend({totalAmount:Y.c({readOnly:!0,get:function(){return this._totalAmount}}),percentageComplete:Y.c({readOnly:!0,get:function(){return this._percentageComplete}}),amountComplete:Y.c({readOnly:!0,get:function(){return this._amountComplete}}),children:Y.c({readOnly:!0,get:function(){return this._children}}),init:function(){this.__s._$DC$init.call(this),this._children=[],this._totalAmount=0,this._amountComplete=0,this._percentageComplete=0,this._childProgressInfoItems={},this._computedItemPercentageWeight=0;var e=this;this._progressChangedHandler=function(t){if(t){var n=t.context;e._progressDidChange(n)}}},addChildProgress:function(e){this.didStartAddingChildProgress();var t=e.observe("changed",this._progressChangedHandler);this._children.push(e),this._childProgressInfoItems[Zr.a(e)]={changedObserver:t,includeAmount:!0,percentageWeight:null},this.didFinishAddingChildProgress(),this._update()},adjustWeightForChildProgress:function(e,t){var n=this._getItemInfoForChildProgress(e);n||ze.b("Cannot adjust weight. Not a valid child progress",{groupProgress:this}),(t<=0||t>=1)&&ze.b("Cannot adjust weight. Invalid weight: "+t,{groupProgress:this}),n.percentageWeight=t,this._update()},clearWeightForChildProgress:function(e){var t=this._getItemInfoForChildProgress(e);t||ze.b("Cannot adjust weight. Not a valid child progress",{groupProgress:this}),t.percentageWeight=null,this._update()},includeAmountForChildProgress:function(e){var t=this._getItemInfoForChildProgress(e);t||ze.b("Cannot include amount. Not a valid child progress",{groupProgress:this}),t.includeAmount=!0,this._update()},excludeAmountForChildProgress:function(e){var t=this._getItemInfoForChildProgress(e);t||ze.b("Cannot exclude amount. Not a valid child progress",{groupProgress:this}),t.includeAmount=!1,this._update()},didStartAddingChildProgress:function(e){this._isAddingChildProgress=!0},didFinishAddingChildProgress:function(e){this._isAddingChildProgress=!1},_progressDidChange:function(e){this._isAddingChildProgress||this._updateAmounts()},_getItemInfoForChildProgress:function(e){return this._childProgressInfoItems[Zr.a(e)]||null},_update:function(){this._updateComputedItemPercentageWeight(),this._updateAmounts()},_updateComputedItemPercentageWeight:function(){for(var e=this._children,t=0,n=0,i=0,r=e.length;i<r;i++){var a=e[i],o=this._getItemInfoForChildProgress(a);null===o.percentageWeight?t++:n+=o.percentageWeight}var s=0;t>0&&(s=(1-n)/t),this._computedItemPercentageWeight=s},_updateAmounts:function(){for(var e=this._children,t=this._computedItemPercentageWeight,n=0,i=0,r=0,a=0,o=0,s=e.length;o<s;o++){var l=e[o],c=this._getItemInfoForChildProgress(l),u=c.percentageWeight;null===u&&(u=t),i+=u*l.get("percentageComplete"),c.includeAmount&&(n+=l.get("amountComplete"),a+=l.get("totalAmount")),l.get("isComplete")&&r++}r===e.length&&(i=100,n=a),this._percentageComplete=i,this._amountComplete=n,this._totalAmount=a,this.changed(this)},__superMap:{_$DC$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"GroupProgress"}}),hm=Ge.a.extend({scheduler:Y.c({get:function(){return this._scheduler}}),init:function(e){var t=this,n=arguments;t.__s._$57$init.apply(t,n),this._scheduler=this.loadTaskScheduler()},loadTaskScheduler:function(){return ep.create({trace:!1,traceId:"native file upload",allowedMaximumRunningTasks:3})},__superMap:{_$57$init:"init"}}).create().get("scheduler"),fm=um.extend({percentageComplete:Y.c({readOnly:!0,get:function(){return this._percentageComplete}}),totalAmount:Y.c({defaultValue:0,set:function(e){return this._isInitializing||this._totalAmountDidChange(e),e}}),amountComplete:Y.c({defaultValue:0,get:function(){return this._amountComplete},set:function(e){return this._isInitializing||this._amountCompleteDidChange(e),e}}),init:function(e){this.willInitialize(),this.__s._$Fq$init.call(this,e),this._percentageComplete=0,this.didInitialize(),this._recalculate()},willInitialize:function(){this._isInitializing=!0},didInitialize:function(){this._isInitializing=!1},increaseAmount:function(e){var t=this._amountComplete+e;t>this._totalAmount&&ze.b("Cannot increase amount. Great than total amount",{progress:this,amount:e}),this._amountComplete=t,this._recalculate()},complete:function(){100===this._percentageComplete&&ze.b("Invalid call. Already complete",{progress:this}),this._amountComplete=this._totalAmount,this._recalculate()},_amountCompleteDidChange:function(e){e>this._totalAmount&&ze.b("Invalid value. Amount complete cannot be greater than total amount",{progress:this,amount:e}),this._recalculate()},_totalAmountDidChange:function(e){this._amountComplete>e&&(this._amountComplete=e),this._recalculate()},_recalculate:function(){var e=this._amountComplete,t=this._totalAmount;e>t&&ze.b("Cannot update. Amount complete cannot be greater than total",{progress:this}),0!==t&&(this._percentageComplete=e/t*100,this.changed())},__superMap:{_$Fq$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UnitProgress"}}),pm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mm={binaryToBase64:function(e){for(var t=[],n=0,i=0,r=new Array(3),a=new Array(4),o=e.length,s=0;o--;)if(r[n++]=e[s++],3===n){for(a[0]=(252&r[0])>>2,a[1]=((3&r[0])<<4)+((240&r[1])>>4),a[2]=((15&r[1])<<2)+((192&r[2])>>6),a[3]=63&r[2],n=0;n<4;n++)t+=pm.charAt(a[n]);n=0}if(n){for(i=n;i<3;i++)r[i]=0;for(a[0]=(252&r[0])>>2,a[1]=((3&r[0])<<4)+((240&r[1])>>4),a[2]=((15&r[1])<<2)+((192&r[2])>>6),a[3]=63&r[2],i=0;i<n+1;i++)t+=pm.charAt(a[i]);for(;n++<3;)t+="="}return t},urlSafeBase64ToBase64:function(e){if(!e)return e;var t=(e=e.replace(/[-_]/g,(function(e){return{"-":"+",_:"/"}[e]}))).length%4;if(t>0){var n="====";return e+n.substring(t)}return e},parseContentWsSignature:function(e){var t=e.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ");return this.binaryToBase64(t)},parseContentWSAsset:function(e){var t={};return e?(t.signature=this.parseContentWsSignature(e.hexFileChecksum),t.reference_signature=this.parseContentWsSignature(e.hexReferenceChecksum),t.wrapping_key=this.parseContentWsSignature(e.hexWrappingKey),t.receipt=this.urlSafeBase64ToBase64(e.receiptToken),t.size=e.size,t):null},parseContentWSPackageResponse:function(e){var t={},n=this.parseContentWSAsset(e.brManifest),i=this.parseContentWSAsset(e.ckManifest),r=[];if(e.ckSectionAssets)for(var a=0;a<e.ckSectionAssets.length;a++)r.push(this.parseContentWSAsset(e.ckSectionAssets[a]));return t.pkgSignature=this.parseContentWsSignature(e.hexBrSyntheticChecksum),t.manifest=n,t.package={sections:r,manifest:i},t},injectOwnerIntoPackage:function(e,t){var n=t;n.manifest.owner=e,n.package.manifest.owner=e;for(var i=n.package.sections.length;i-- >0;)n.package.sections[i].owner=e;return n},parseContentWSFileResponse:function(e){var t={};return t.data={signature:this.urlSafeBase64ToBase64(e.singleFile.fileChecksum),wrapping_key:this.urlSafeBase64ToBase64(e.singleFile.wrappingKey),reference_signature:this.urlSafeBase64ToBase64(e.singleFile.referenceChecksum),receipt:this.urlSafeBase64ToBase64(e.singleFile.receipt),size:e.singleFile.size},t}},gm={keynote:"application/x-iwork-keynote-sffkey",pages:"application/x-iwork-pages-sffpages",numbers:"application/x-iwork-numbers-sffnumbers",123:"application/vnd.lotus-1-2-3",ez:"application/andrew-inset",aw:"application/applixware",atom:"application/atom+xml",atomcat:"application/atomcat+xml",atomsvc:"application/atomsvc+xml",ccxml:"application/ccxml+xml",cdmia:"application/cdmi-capability",cdmic:"application/cdmi-container",cdmid:"application/cdmi-domain",cdmio:"application/cdmi-object",cdmiq:"application/cdmi-queue",cu:"application/cu-seeme",davmount:"application/davmount+xml",dat:"application/octet-stream",dbk:"application/docbook+xml",dssc:"application/dssc+der",xdssc:"application/dssc+xml",ecma:"application/ecmascript",emma:"application/emma+xml",epub:"application/epub+zip",exi:"application/exi",pfr:"application/font-tdpfr",gml:"application/gml+xml",gpx:"application/gpx+xml",gxf:"application/gxf",stk:"application/hyperstudio",ink:"application/inkml+xml",inkml:"application/inkml+xml",ipfix:"application/ipfix",jar:"application/java-archive",ser:"application/java-serialized-object",class:"application/java-vm",js:"application/javascript",json:"application/json",jsonml:"application/jsonml+json",lostxml:"application/lost+xml",hqx:"application/mac-binhex40",cpt:"application/mac-compactpro",mads:"application/mads+xml",mrc:"application/marc",mrcx:"application/marcxml+xml",ma:"application/mathematica",nb:"application/mathematica",mb:"application/mathematica",mathml:"application/mathml+xml",mbox:"application/mbox",mscml:"application/mediaservercontrol+xml",metalink:"application/metalink+xml",meta4:"application/metalink4+xml",mets:"application/mets+xml",mods:"application/mods+xml",m21:"application/mp21",mp21:"application/mp21",mp4s:"application/mp4",doc:"application/msword",dot:"application/msword",mxf:"application/mxf",bin:"application/octet-stream",dms:"application/octet-stream",lrf:"application/octet-stream",mar:"application/octet-stream",so:"application/octet-stream",dist:"application/octet-stream",distz:"application/octet-stream",pkg:"application/octet-stream",bpk:"application/octet-stream",dump:"application/octet-stream",elc:"application/octet-stream",deploy:"application/octet-stream",oda:"application/oda",opf:"application/oebps-package+xml",ogx:"application/ogg",omdoc:"application/omdoc+xml",onetoc:"application/onenote",onetoc2:"application/onenote",onetmp:"application/onenote",onepkg:"application/onenote",oxps:"application/oxps",xer:"application/patch-ops-error+xml",pdf:"application/pdf",pgp:"application/pgp-encrypted",asc:"application/pgp-signature",sig:"application/pgp-signature",prf:"application/pics-rules",p10:"application/pkcs10",p7m:"application/pkcs7-mime",p7c:"application/pkcs7-mime",p7s:"application/pkcs7-signature",p8:"application/pkcs8",ac:"application/pkix-attr-cert",cer:"application/pkix-cert",crl:"application/pkix-crl",pkipath:"application/pkix-pkipath",pki:"application/pkixcmp",pls:"application/pls+xml",ai:"application/postscript",eps:"application/postscript",ps:"application/postscript",cww:"application/prs.cww",pskcxml:"application/pskc+xml",rdf:"application/rdf+xml",rif:"application/reginfo+xml",rnc:"application/relax-ng-compact-syntax",rl:"application/resource-lists+xml",rld:"application/resource-lists-diff+xml",rs:"application/rls-services+xml",gbr:"application/rpki-ghostbusters",mft:"application/rpki-manifest",roa:"application/rpki-roa",rsd:"application/rsd+xml",rss:"application/rss+xml",rtf:"application/rtf",sbml:"application/sbml+xml",scq:"application/scvp-cv-request",scs:"application/scvp-cv-response",spq:"application/scvp-vp-request",spp:"application/scvp-vp-response",sdp:"application/sdp",setpay:"application/set-payment-initiation",setreg:"application/set-registration-initiation",shf:"application/shf+xml",smi:"application/smil+xml",smil:"application/smil+xml",rq:"application/sparql-query",srx:"application/sparql-results+xml",gram:"application/srgs",grxml:"application/srgs+xml",sru:"application/sru+xml",ssdl:"application/ssdl+xml",ssml:"application/ssml+xml",tei:"application/tei+xml",teicorpus:"application/tei+xml",tfi:"application/thraud+xml",tsd:"application/timestamped-data",plb:"application/vnd.3gpp.pic-bw-large",psb:"application/vnd.3gpp.pic-bw-small",pvb:"application/vnd.3gpp.pic-bw-var",tcap:"application/vnd.3gpp2.tcap",pwn:"application/vnd.3m.post-it-notes",aso:"application/vnd.accpac.simply.aso",imp:"application/vnd.accpac.simply.imp",acu:"application/vnd.acucobol",atc:"application/vnd.acucorp",acutc:"application/vnd.acucorp",air:"application/vnd.adobe.air-application-installer-package+zip",fcdt:"application/vnd.adobe.formscentral.fcdt",fxp:"application/vnd.adobe.fxp",fxpl:"application/vnd.adobe.fxp",xdp:"application/vnd.adobe.xdp+xml",xfdf:"application/vnd.adobe.xfdf",ahead:"application/vnd.ahead.space",azf:"application/vnd.airzip.filesecure.azf",azs:"application/vnd.airzip.filesecure.azs",azw:"application/vnd.amazon.ebook",acc:"application/vnd.americandynamics.acc",ami:"application/vnd.amiga.ami",apk:"application/vnd.android.package-archive",cii:"application/vnd.anser-web-certificate-issue-initiation",fti:"application/vnd.anser-web-funds-transfer-initiation",atx:"application/vnd.antix.game-component",mpkg:"application/vnd.apple.installer+xml",m3u8:"application/vnd.apple.mpegurl",swi:"application/vnd.aristanetworks.swi",iota:"application/vnd.astraea-software.iota",aep:"application/vnd.audiograph",mpm:"application/vnd.blueice.multipass",bmi:"application/vnd.bmi",rep:"application/vnd.businessobjects",cdxml:"application/vnd.chemdraw+xml",mmd:"application/vnd.chipnuts.karaoke-mmd",cdy:"application/vnd.cinderella",cla:"application/vnd.claymore",rp9:"application/vnd.cloanto.rp9",c4g:"application/vnd.clonk.c4group",c4d:"application/vnd.clonk.c4group",c4f:"application/vnd.clonk.c4group",c4p:"application/vnd.clonk.c4group",c4u:"application/vnd.clonk.c4group",c11amc:"application/vnd.cluetrust.cartomobile-config",c11amz:"application/vnd.cluetrust.cartomobile-config-pkg",csp:"application/vnd.commonspace",cdbcmsg:"application/vnd.contact.cmsg",cmc:"application/vnd.cosmocaller",clkx:"application/vnd.crick.clicker",clkk:"application/vnd.crick.clicker.keyboard",clkp:"application/vnd.crick.clicker.palette",clkt:"application/vnd.crick.clicker.template",clkw:"application/vnd.crick.clicker.wordbank",wbs:"application/vnd.criticaltools.wbs+xml",pml:"application/vnd.ctc-posml",ppd:"application/vnd.cups-ppd",car:"application/vnd.curl.car",pcurl:"application/vnd.curl.pcurl",dart:"application/vnd.dart",rdz:"application/vnd.data-vision.rdz",uvf:"application/vnd.dece.data",uvvf:"application/vnd.dece.data",uvd:"application/vnd.dece.data",uvvd:"application/vnd.dece.data",uvt:"application/vnd.dece.ttml+xml",uvvt:"application/vnd.dece.ttml+xml",uvx:"application/vnd.dece.unspecified",uvvx:"application/vnd.dece.unspecified",uvz:"application/vnd.dece.zip",uvvz:"application/vnd.dece.zip",fe_launch:"application/vnd.denovo.fcselayout-link",dna:"application/vnd.dna",mlp:"application/vnd.dolby.mlp",dpg:"application/vnd.dpgraph",dfac:"application/vnd.dreamfactory",kpxx:"application/vnd.ds-keypoint",ait:"application/vnd.dvb.ait",svc:"application/vnd.dvb.service",geo:"application/vnd.dynageo",mag:"application/vnd.ecowin.chart",nml:"application/vnd.enliven",esf:"application/vnd.epson.esf",msf:"application/vnd.epson.msf",qam:"application/vnd.epson.quickanime",slt:"application/vnd.epson.salt",ssf:"application/vnd.epson.ssf",es3:"application/vnd.eszigno3+xml",et3:"application/vnd.eszigno3+xml",ez2:"application/vnd.ezpix-album",ez3:"application/vnd.ezpix-package",fdf:"application/vnd.fdf",mseed:"application/vnd.fdsn.mseed",seed:"application/vnd.fdsn.seed",dataless:"application/vnd.fdsn.seed",gph:"application/vnd.flographit",ftc:"application/vnd.fluxtime.clip",fm:"application/vnd.framemaker",frame:"application/vnd.framemaker",maker:"application/vnd.framemaker",book:"application/vnd.framemaker",fnc:"application/vnd.frogans.fnc",ltf:"application/vnd.frogans.ltf",fsc:"application/vnd.fsc.weblaunch",oas:"application/vnd.fujitsu.oasys",oa2:"application/vnd.fujitsu.oasys2",oa3:"application/vnd.fujitsu.oasys3",fg5:"application/vnd.fujitsu.oasysgp",bh2:"application/vnd.fujitsu.oasysprs",ddd:"application/vnd.fujixerox.ddd",xdw:"application/vnd.fujixerox.docuworks",xbd:"application/vnd.fujixerox.docuworks.binder",fzs:"application/vnd.fuzzysheet",txd:"application/vnd.genomatix.tuxedo",ggb:"application/vnd.geogebra.file",ggt:"application/vnd.geogebra.tool",gex:"application/vnd.geometry-explorer",gre:"application/vnd.geometry-explorer",gxt:"application/vnd.geonext",g2w:"application/vnd.geoplan",g3w:"application/vnd.geospace",gmx:"application/vnd.gmx",kml:"application/vnd.google-earth.kml+xml",kmz:"application/vnd.google-earth.kmz",gqf:"application/vnd.grafeq",gqs:"application/vnd.grafeq",gac:"application/vnd.groove-account",ghf:"application/vnd.groove-help",gim:"application/vnd.groove-identity-message",grv:"application/vnd.groove-injector",gtm:"application/vnd.groove-tool-message",tpl:"application/vnd.groove-tool-template",vcg:"application/vnd.groove-vcard",hal:"application/vnd.hal+xml",zmm:"application/vnd.handheld-entertainment+xml",hbci:"application/vnd.hbci",les:"application/vnd.hhe.lesson-player",hpgl:"application/vnd.hp-hpgl",hpid:"application/vnd.hp-hpid",hps:"application/vnd.hp-hps",jlt:"application/vnd.hp-jlyt",pcl:"application/vnd.hp-pcl",pclxl:"application/vnd.hp-pclxl","sfd-hdstx":"application/vnd.hydrostatix.sof-data",mpy:"application/vnd.ibm.minipay",afp:"application/vnd.ibm.modcap",listafp:"application/vnd.ibm.modcap",list3820:"application/vnd.ibm.modcap",irm:"application/vnd.ibm.rights-management",sc:"application/vnd.ibm.secure-container",icc:"application/vnd.iccprofile",icm:"application/vnd.iccprofile",igl:"application/vnd.igloader",ivp:"application/vnd.immervision-ivp",ivu:"application/vnd.immervision-ivu",igm:"application/vnd.insors.igm",xpw:"application/vnd.intercon.formnet",xpx:"application/vnd.intercon.formnet",i2g:"application/vnd.intergeo",qbo:"application/vnd.intu.qbo",qfx:"application/vnd.intu.qfx",rcprofile:"application/vnd.ipunplugged.rcprofile",irp:"application/vnd.irepository.package+xml",xpr:"application/vnd.is-xpr",fcs:"application/vnd.isac.fcs",jam:"application/vnd.jam",rms:"application/vnd.jcp.javame.midlet-rms",jisp:"application/vnd.jisp",joda:"application/vnd.joost.joda-archive",ktz:"application/vnd.kahootz",ktr:"application/vnd.kahootz",karbon:"application/vnd.kde.karbon",chrt:"application/vnd.kde.kchart",kfo:"application/vnd.kde.kformula",flw:"application/vnd.kde.kivio",kon:"application/vnd.kde.kontour",kpr:"application/vnd.kde.kpresenter",kpt:"application/vnd.kde.kpresenter",ksp:"application/vnd.kde.kspread",kwd:"application/vnd.kde.kword",kwt:"application/vnd.kde.kword",htke:"application/vnd.kenameaapp",kia:"application/vnd.kidspiration",kne:"application/vnd.kinar",knp:"application/vnd.kinar",skp:"application/vnd.koan",skd:"application/vnd.koan",skt:"application/vnd.koan",skm:"application/vnd.koan",sse:"application/vnd.kodak-descriptor",lasxml:"application/vnd.las.las+xml",lbd:"application/vnd.llamagraphics.life-balance.desktop",lbe:"application/vnd.llamagraphics.life-balance.exchange+xml",apr:"application/vnd.lotus-approach",pre:"application/vnd.lotus-freelance",nsf:"application/vnd.lotus-notes",org:"application/vnd.lotus-organizer",scm:"application/vnd.lotus-screencam",lwp:"application/vnd.lotus-wordpro",portpkg:"application/vnd.macports.portpkg",mcd:"application/vnd.mcd",mc1:"application/vnd.medcalcdata",cdkey:"application/vnd.mediastation.cdkey",mwf:"application/vnd.mfer",mfm:"application/vnd.mfmp",flo:"application/vnd.micrografx.flo",igx:"application/vnd.micrografx.igx",mif:"application/vnd.mif",daf:"application/vnd.mobius.daf",dis:"application/vnd.mobius.dis",mbk:"application/vnd.mobius.mbk",mqy:"application/vnd.mobius.mqy",msl:"application/vnd.mobius.msl",plc:"application/vnd.mobius.plc",txf:"application/vnd.mobius.txf",mpn:"application/vnd.mophun.application",mpc:"application/vnd.mophun.certificate",xul:"application/vnd.mozilla.xul+xml",cil:"application/vnd.ms-artgalry",cab:"application/vnd.ms-cab-compressed",xls:"application/vnd.ms-excel",xlm:"application/vnd.ms-excel",xla:"application/vnd.ms-excel",xlc:"application/vnd.ms-excel",xlt:"application/vnd.ms-excel",xlw:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xltm:"application/vnd.ms-excel.template.macroenabled.12",eot:"application/vnd.ms-fontobject",chm:"application/vnd.ms-htmlhelp",ims:"application/vnd.ms-ims",lrm:"application/vnd.ms-lrm",thmx:"application/vnd.ms-officetheme",cat:"application/vnd.ms-pki.seccat",stl:"application/vnd.ms-pki.stl",ppt:"application/vnd.ms-powerpoint",pps:"application/vnd.ms-powerpoint",pot:"application/vnd.ms-powerpoint",ppam:"application/vnd.ms-powerpoint.addin.macroenabled.12",pptm:"application/vnd.ms-powerpoint.presentation.macroenabled.12",sldm:"application/vnd.ms-powerpoint.slide.macroenabled.12",ppsm:"application/vnd.ms-powerpoint.slideshow.macroenabled.12",potm:"application/vnd.ms-powerpoint.template.macroenabled.12",mpp:"application/vnd.ms-project",mpt:"application/vnd.ms-project",docm:"application/vnd.ms-word.document.macroenabled.12",dotm:"application/vnd.ms-word.template.macroenabled.12",wps:"application/vnd.ms-works",wks:"application/vnd.ms-works",wcm:"application/vnd.ms-works",wdb:"application/vnd.ms-works",wpl:"application/vnd.ms-wpl",xps:"application/vnd.ms-xpsdocument",mseq:"application/vnd.mseq",mus:"application/vnd.musician",msty:"application/vnd.muvee.style",taglet:"application/vnd.mynfc",nlu:"application/vnd.neurolanguage.nlu",ntf:"application/vnd.nitf",nitf:"application/vnd.nitf",nnd:"application/vnd.noblenet-directory",nns:"application/vnd.noblenet-sealer",nnw:"application/vnd.noblenet-web",ngdat:"application/vnd.nokia.n-gage.data","n-gage":"application/vnd.nokia.n-gage.symbian.install",rpst:"application/vnd.nokia.radio-preset",rpss:"application/vnd.nokia.radio-presets",edm:"application/vnd.novadigm.edm",edx:"application/vnd.novadigm.edx",ext:"application/vnd.novadigm.ext",odc:"application/vnd.oasis.opendocument.chart",otc:"application/vnd.oasis.opendocument.chart-template",odb:"application/vnd.oasis.opendocument.database",odf:"application/vnd.oasis.opendocument.formula",odft:"application/vnd.oasis.opendocument.formula-template",odg:"application/vnd.oasis.opendocument.graphics",otg:"application/vnd.oasis.opendocument.graphics-template",odi:"application/vnd.oasis.opendocument.image",oti:"application/vnd.oasis.opendocument.image-template",odp:"application/vnd.oasis.opendocument.presentation",otp:"application/vnd.oasis.opendocument.presentation-template",ods:"application/vnd.oasis.opendocument.spreadsheet",ots:"application/vnd.oasis.opendocument.spreadsheet-template",odt:"application/vnd.oasis.opendocument.text",odm:"application/vnd.oasis.opendocument.text-master",ott:"application/vnd.oasis.opendocument.text-template",oth:"application/vnd.oasis.opendocument.text-web",xo:"application/vnd.olpc-sugar",dd2:"application/vnd.oma.dd2+xml",oxt:"application/vnd.openofficeorg.extension",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",sldx:"application/vnd.openxmlformats-officedocument.presentationml.slide",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",mgp:"application/vnd.osgeo.mapguide.package",dp:"application/vnd.osgi.dp",esa:"application/vnd.osgi.subsystem",pdb:"application/vnd.palm",pqa:"application/vnd.palm",oprc:"application/vnd.palm",paw:"application/vnd.pawaafile",str:"application/vnd.pg.format",ei6:"application/vnd.pg.osasli",efif:"application/vnd.picsel",wg:"application/vnd.pmi.widget",plf:"application/vnd.pocketlearn",pbd:"application/vnd.powerbuilder6",box:"application/vnd.previewsystems.box",mgz:"application/vnd.proteus.magazine",qps:"application/vnd.publishare-delta-tree",ptid:"application/vnd.pvi.ptid1",qxd:"application/vnd.quark.quarkxpress",qxt:"application/vnd.quark.quarkxpress",qwd:"application/vnd.quark.quarkxpress",qwt:"application/vnd.quark.quarkxpress",qxl:"application/vnd.quark.quarkxpress",qxb:"application/vnd.quark.quarkxpress",bed:"application/vnd.realvnc.bed",mxl:"application/vnd.recordare.musicxml",musicxml:"application/vnd.recordare.musicxml+xml",cryptonote:"application/vnd.rig.cryptonote",cod:"application/vnd.rim.cod",rm:"application/vnd.rn-realmedia",rmvb:"application/vnd.rn-realmedia-vbr",link66:"application/vnd.route66.link66+xml",st:"application/vnd.sailingtracker.track",see:"application/vnd.seemail",sema:"application/vnd.sema",semd:"application/vnd.semd",semf:"application/vnd.semf",ifm:"application/vnd.shana.informed.formdata",itp:"application/vnd.shana.informed.formtemplate",iif:"application/vnd.shana.informed.interchange",ipk:"application/vnd.shana.informed.package",twd:"application/vnd.simtech-mindmapper",twds:"application/vnd.simtech-mindmapper",mmf:"application/vnd.smaf",teacher:"application/vnd.smart.teacher",sdkm:"application/vnd.solent.sdkm+xml",sdkd:"application/vnd.solent.sdkm+xml",dxp:"application/vnd.spotfire.dxp",sfs:"application/vnd.spotfire.sfs",sdc:"application/vnd.stardivision.calc",sda:"application/vnd.stardivision.draw",sdd:"application/vnd.stardivision.impress",smf:"application/vnd.stardivision.math",sdw:"application/vnd.stardivision.writer",vor:"application/vnd.stardivision.writer",sgl:"application/vnd.stardivision.writer-global",smzip:"application/vnd.stepmania.package",sm:"application/vnd.stepmania.stepchart",sxc:"application/vnd.sun.xml.calc",stc:"application/vnd.sun.xml.calc.template",sxd:"application/vnd.sun.xml.draw",std:"application/vnd.sun.xml.draw.template",sxi:"application/vnd.sun.xml.impress",sti:"application/vnd.sun.xml.impress.template",sxm:"application/vnd.sun.xml.math",sxw:"application/vnd.sun.xml.writer",sxg:"application/vnd.sun.xml.writer.global",stw:"application/vnd.sun.xml.writer.template",sus:"application/vnd.sus-calendar",susp:"application/vnd.sus-calendar",svd:"application/vnd.svd",sis:"application/vnd.symbian.install",sisx:"application/vnd.symbian.install",xsm:"application/vnd.syncml+xml",bdm:"application/vnd.syncml.dm+wbxml",xdm:"application/vnd.syncml.dm+xml",tao:"application/vnd.tao.intent-module-archive",pcap:"application/vnd.tcpdump.pcap",cap:"application/vnd.tcpdump.pcap",dmp:"application/vnd.tcpdump.pcap",tmo:"application/vnd.tmobile-livetv",tpt:"application/vnd.trid.tpt",mxs:"application/vnd.triscape.mxs",tra:"application/vnd.trueapp",ufd:"application/vnd.ufdl",ufdl:"application/vnd.ufdl",utz:"application/vnd.uiq.theme",umj:"application/vnd.umajin",unityweb:"application/vnd.unity",uoml:"application/vnd.uoml+xml",vcx:"application/vnd.vcx",vsd:"application/vnd.visio",vst:"application/vnd.visio",vss:"application/vnd.visio",vsw:"application/vnd.visio",vis:"application/vnd.visionary",vsf:"application/vnd.vsf",wbxml:"application/vnd.wap.wbxml",wmlc:"application/vnd.wap.wmlc",wmlsc:"application/vnd.wap.wmlscriptc",wtb:"application/vnd.webturbo",nbp:"application/vnd.wolfram.player",wpd:"application/vnd.wordperfect",wqd:"application/vnd.wqd",stf:"application/vnd.wt.stf",xar:"application/vnd.xara",xfdl:"application/vnd.xfdl",hvd:"application/vnd.yamaha.hv-dic",hvs:"application/vnd.yamaha.hv-script",hvp:"application/vnd.yamaha.hv-voice",osf:"application/vnd.yamaha.openscoreformat",osfpvg:"application/vnd.yamaha.openscoreformat.osfpvg+xml",saf:"application/vnd.yamaha.smaf-audio",spf:"application/vnd.yamaha.smaf-phrase",cmp:"application/vnd.yellowriver-custom-menu",zir:"application/vnd.zul",zirz:"application/vnd.zul",zaz:"application/vnd.zzazz.deck+xml",vxml:"application/voicexml+xml",wgt:"application/widget",hlp:"application/winhlp",wsdl:"application/wsdl+xml",wspolicy:"application/wspolicy+xml","7z":"application/x-7z-compressed",abw:"application/x-abiword",ace:"application/x-ace-compressed",dmg:"application/x-apple-diskimage",aab:"application/x-authorware-bin",x32:"application/x-authorware-bin",u32:"application/x-authorware-bin",vox:"application/x-authorware-bin",aam:"application/x-authorware-map",aas:"application/x-authorware-seg",bcpio:"application/x-bcpio",torrent:"application/x-bittorrent",blb:"application/x-blorb",blorb:"application/x-blorb",bz:"application/x-bzip",bz2:"application/x-bzip2",boz:"application/x-bzip2",cbr:"application/x-cbr",cba:"application/x-cbr",cbt:"application/x-cbr",cbz:"application/x-cbr",cb7:"application/x-cbr",vcd:"application/x-cdlink",cfs:"application/x-cfs-compressed",chat:"application/x-chat",pgn:"application/x-chess-pgn",nsc:"application/x-conference",cpio:"application/x-cpio",csh:"application/x-csh",deb:"application/x-debian-package",udeb:"application/x-debian-package",dgc:"application/x-dgc-compressed",dir:"application/x-director",dcr:"application/x-director",dxr:"application/x-director",cst:"application/x-director",cct:"application/x-director",cxt:"application/x-director",w3d:"application/x-director",fgd:"application/x-director",swa:"application/x-director",wad:"application/x-doom",ncx:"application/x-dtbncx+xml",dtb:"application/x-dtbook+xml",res:"application/x-dtbresource+xml",dvi:"application/x-dvi",evy:"application/x-envoy",eva:"application/x-eva",bdf:"application/x-font-bdf",gsf:"application/x-font-ghostscript",psf:"application/x-font-linux-psf",otf:"application/x-font-otf",pcf:"application/x-font-pcf",snf:"application/x-font-snf",ttf:"application/x-font-ttf",ttc:"application/x-font-ttf",pfa:"application/x-font-type1",pfb:"application/x-font-type1",pfm:"application/x-font-type1",afm:"application/x-font-type1",woff:"application/font-woff",arc:"application/x-freearc",spl:"application/x-futuresplash",gca:"application/x-gca-compressed",ulx:"application/x-glulx",gnumeric:"application/x-gnumeric",gramps:"application/x-gramps-xml",gtar:"application/x-gtar",hdf:"application/x-hdf",install:"application/x-install-instructions",iso:"application/x-iso9660-image",jnlp:"application/x-java-jnlp-file",latex:"application/x-latex",lzh:"application/x-lzh-compressed",lha:"application/x-lzh-compressed",mie:"application/x-mie",prc:"application/x-mobipocket-ebook",mobi:"application/x-mobipocket-ebook",application:"application/x-ms-application",lnk:"application/x-ms-shortcut",wmd:"application/x-ms-wmd",wmz:"application/x-msmetafile",xbap:"application/x-ms-xbap",mdb:"application/x-msaccess",obd:"application/x-msbinder",crd:"application/x-mscardfile",clp:"application/x-msclip",exe:"application/x-msdownload",dll:"application/x-msdownload",com:"application/x-msdownload",bat:"application/x-msdownload",msi:"application/x-msdownload",mvb:"application/x-msmediaview",m13:"application/x-msmediaview",m14:"application/x-msmediaview",wmf:"application/x-msmetafile",emf:"application/x-msmetafile",emz:"application/x-msmetafile",mny:"application/x-msmoney",pub:"application/x-mspublisher",scd:"application/x-msschedule",trm:"application/x-msterminal",wri:"application/x-mswrite",nc:"application/x-netcdf",cdf:"application/x-netcdf",nzb:"application/x-nzb",p12:"application/x-pkcs12",pfx:"application/x-pkcs12",p7b:"application/x-pkcs7-certificates",spc:"application/x-pkcs7-certificates",p7r:"application/x-pkcs7-certreqresp",rar:"application/x-rar-compressed",ris:"application/x-research-info-systems",sh:"application/x-sh",shar:"application/x-shar",swf:"application/x-shockwave-flash",xap:"application/x-silverlight-app",sql:"application/x-sql",sit:"application/x-stuffit",sitx:"application/x-stuffitx",srt:"application/x-subrip",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",t3:"application/x-t3vm-image",gam:"application/x-tads",tar:"application/x-tar",tcl:"application/x-tcl",tex:"application/x-tex",tfm:"application/x-tex-tfm",texinfo:"application/x-texinfo",texi:"application/x-texinfo",obj:"application/x-tgif",ustar:"application/x-ustar",src:"application/x-wais-source",der:"application/x-x509-ca-cert",crt:"application/x-x509-ca-cert",fig:"application/x-xfig",xlf:"application/x-xliff+xml",xpi:"application/x-xpinstall",xz:"application/x-xz",z1:"application/x-zmachine",z2:"application/x-zmachine",z3:"application/x-zmachine",z4:"application/x-zmachine",z5:"application/x-zmachine",z6:"application/x-zmachine",z7:"application/x-zmachine",z8:"application/x-zmachine",xaml:"application/xaml+xml",xdf:"application/xcap-diff+xml",xenc:"application/xenc+xml",xhtml:"application/xhtml+xml",xht:"application/xhtml+xml",xml:"application/xml",xsl:"application/xml",dtd:"application/xml-dtd",xop:"application/xop+xml",xpl:"application/xproc+xml",xslt:"application/xslt+xml",xspf:"application/xspf+xml",mxml:"application/xv+xml",xhvml:"application/xv+xml",xvml:"application/xv+xml",xvm:"application/xv+xml",yang:"application/yang",yin:"application/yin+xml",zip:"application/zip",adp:"audio/adpcm",au:"audio/basic",snd:"audio/basic",mid:"audio/midi",midi:"audio/midi",kar:"audio/midi",rmi:"audio/midi",mp4a:"audio/mp4",mpga:"audio/mpeg",mp2:"audio/mpeg",mp2a:"audio/mpeg",mp3:"audio/mpeg",m2a:"audio/mpeg",m3a:"audio/mpeg",oga:"audio/ogg",ogg:"audio/ogg",spx:"audio/ogg",s3m:"audio/s3m",sil:"audio/silk",uva:"audio/vnd.dece.audio",uvva:"audio/vnd.dece.audio",eol:"audio/vnd.digital-winds",dra:"audio/vnd.dra",dts:"audio/vnd.dts",dtshd:"audio/vnd.dts.hd",lvp:"audio/vnd.lucent.voice",pya:"audio/vnd.ms-playready.media.pya",ecelp4800:"audio/vnd.nuera.ecelp4800",ecelp7470:"audio/vnd.nuera.ecelp7470",ecelp9600:"audio/vnd.nuera.ecelp9600",rip:"audio/vnd.rip",weba:"audio/webm",aac:"audio/x-aac",aif:"audio/x-aiff",aiff:"audio/x-aiff",aifc:"audio/x-aiff",caf:"audio/x-caf",flac:"audio/x-flac",mka:"audio/x-matroska",m3u:"audio/x-mpegurl",wax:"audio/x-ms-wax",wma:"audio/x-ms-wma",ram:"audio/x-pn-realaudio",ra:"audio/x-pn-realaudio",rmp:"audio/x-pn-realaudio-plugin",wav:"audio/x-wav",xm:"audio/xm",cdx:"chemical/x-cdx",cif:"chemical/x-cif",cmdf:"chemical/x-cmdf",cml:"chemical/x-cml",csml:"chemical/x-csml",xyz:"chemical/x-xyz",bmp:"image/bmp",cgm:"image/cgm",g3:"image/g3fax",gif:"image/gif",ief:"image/ief",jpeg:"image/jpeg",jpg:"image/jpeg",jpe:"image/jpeg",ktx:"image/ktx",png:"image/png",btif:"image/prs.btif",sgi:"image/sgi",svg:"image/svg+xml",svgz:"image/svg+xml",tiff:"image/tiff",tif:"image/tiff",psd:"image/vnd.adobe.photoshop",uvi:"image/vnd.dece.graphic",uvvi:"image/vnd.dece.graphic",uvg:"image/vnd.dece.graphic",uvvg:"image/vnd.dece.graphic",sub:"text/vnd.dvb.subtitle",djvu:"image/vnd.djvu",djv:"image/vnd.djvu",dwg:"image/vnd.dwg",dxf:"image/vnd.dxf",fbs:"image/vnd.fastbidsheet",fpx:"image/vnd.fpx",fst:"image/vnd.fst",mmr:"image/vnd.fujixerox.edmics-mmr",rlc:"image/vnd.fujixerox.edmics-rlc",mdi:"image/vnd.ms-modi",wdp:"image/vnd.ms-photo",npx:"image/vnd.net-fpx",wbmp:"image/vnd.wap.wbmp",xif:"image/vnd.xiff",webp:"image/webp","3ds":"image/x-3ds",ras:"image/x-cmu-raster",cmx:"image/x-cmx",fh:"image/x-freehand",fhc:"image/x-freehand",fh4:"image/x-freehand",fh5:"image/x-freehand",fh7:"image/x-freehand",ico:"image/x-icon",sid:"image/x-mrsid-image",pcx:"image/x-pcx",pic:"image/x-pict",pct:"image/x-pict",pnm:"image/x-portable-anymap",pbm:"image/x-portable-bitmap",pgm:"image/x-portable-graymap",ppm:"image/x-portable-pixmap",rgb:"image/x-rgb",tga:"image/x-tga",xbm:"image/x-xbitmap",xpm:"image/x-xpixmap",xwd:"image/x-xwindowdump",eml:"message/rfc822",mime:"message/rfc822",igs:"model/iges",iges:"model/iges",msh:"model/mesh",mesh:"model/mesh",silo:"model/mesh",dae:"model/vnd.collada+xml",dwf:"model/vnd.dwf",gdl:"model/vnd.gdl",gtw:"model/vnd.gtw",mts:"model/vnd.mts",vtu:"model/vnd.vtu",wrl:"model/vrml",vrml:"model/vrml",x3db:"model/x3d+binary",x3dbz:"model/x3d+binary",x3dv:"model/x3d+vrml",x3dvz:"model/x3d+vrml",x3d:"model/x3d+xml",x3dz:"model/x3d+xml",appcache:"text/cache-manifest",ics:"text/calendar",ifb:"text/calendar",css:"text/css",csv:"text/csv",html:"text/html",htm:"text/html",n3:"text/n3",txt:"text/plain",text:"text/plain",conf:"text/plain",def:"text/plain",list:"text/plain",log:"text/plain",in:"text/plain",dsc:"text/prs.lines.tag",rtx:"text/richtext",sgml:"text/sgml",sgm:"text/sgml",tsv:"text/tab-separated-values",t:"text/troff",tr:"text/troff",roff:"text/troff",man:"text/troff",me:"text/troff",ms:"text/troff",ttl:"text/turtle",uri:"text/uri-list",uris:"text/uri-list",urls:"text/uri-list",vcard:"text/vcard",curl:"text/vnd.curl",dcurl:"text/vnd.curl.dcurl",scurl:"text/vnd.curl.scurl",mcurl:"text/vnd.curl.mcurl",fly:"text/vnd.fly",flx:"text/vnd.fmi.flexstor",gv:"text/vnd.graphviz","3dml":"text/vnd.in3d.3dml",spot:"text/vnd.in3d.spot",jad:"text/vnd.sun.j2me.app-descriptor",wml:"text/vnd.wap.wml",wmls:"text/vnd.wap.wmlscript",s:"text/x-asm",asm:"text/x-asm",c:"text/x-c",cc:"text/x-c",cxx:"text/x-c",cpp:"text/x-c",h:"text/x-c",hh:"text/x-c",dic:"text/x-c",f:"text/x-fortran",for:"text/x-fortran",f77:"text/x-fortran",f90:"text/x-fortran",java:"text/x-java-source",opml:"text/x-opml",p:"text/x-pascal",pas:"text/x-pascal",nfo:"text/x-nfo",etx:"text/x-setext",sfv:"text/x-sfv",uu:"text/x-uuencode",vcs:"text/x-vcalendar",vcf:"text/x-vcard","3gp":"video/3gpp","3g2":"video/3gpp2",h261:"video/h261",h263:"video/h263",h264:"video/h264",jpgv:"video/jpeg",jpm:"video/jpm",jpgm:"video/jpm",mj2:"video/mj2",mjp2:"video/mj2",mp4:"video/mp4",mp4v:"video/mp4",mpg4:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",mpe:"video/mpeg",m1v:"video/mpeg",m2v:"video/mpeg",ogv:"video/ogg",qt:"video/quicktime",mov:"video/quicktime",uvh:"video/vnd.dece.hd",uvvh:"video/vnd.dece.hd",uvm:"video/vnd.dece.mobile",uvvm:"video/vnd.dece.mobile",uvp:"video/vnd.dece.pd",uvvp:"video/vnd.dece.pd",uvs:"video/vnd.dece.sd",uvvs:"video/vnd.dece.sd",uvv:"video/vnd.dece.video",uvvv:"video/vnd.dece.video",dvb:"video/vnd.dvb.file",fvt:"video/vnd.fvt",mxu:"video/vnd.mpegurl",m4u:"video/vnd.mpegurl",pyv:"video/vnd.ms-playready.media.pyv",uvu:"video/vnd.uvvu.mp4",uvvu:"video/vnd.uvvu.mp4",viv:"video/vnd.vivo",webm:"video/webm",f4v:"video/x-f4v",fli:"video/x-fli",flv:"video/x-flv",m4v:"video/x-m4v",mkv:"video/x-matroska",mk3d:"video/x-matroska",mks:"video/x-matroska",mng:"video/x-mng",asf:"video/x-ms-asf",asx:"video/x-ms-asf",vob:"video/x-ms-vob",wm:"video/x-ms-wm",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",wvx:"video/x-ms-wvx",avi:"video/x-msvideo",movie:"video/x-sgi-movie",smv:"video/x-smv",ice:"x-conference/x-cooltalk"},vm=/(.*)\.([\w-_]+).(zip)$/i,_m={pages:!0,"pages-tef":!0,template:!0,keynote:!0,"keynote-tef":!0,key:!0,"key-tef":!0,kth:!0,numbers:!0,"numbers-tef":!0,nmbtemplate:!0,lpdf:!0,band:!0,xcodeproj:!0,playground:!0,theater:!0,app:!0,workflow:!0,rtfd:!0,imovielibrary:!0,pkg:!0},bm=function(e){return"string"!==typeof e&&ze.b("Wrong type provided."),_m[e]||!1},ym=/.*(zip|compressed|octet).*/i,Sm=Ge.a.create({_roundToPlaces:function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},fileIsPackage:function(e){var t=e.type,n=ym.test(t),i=e.name.match(vm),r=i&&i[2]||"";return bm(r)&&n},getLastModifiedDate:function(e){var t=new Date;return e&&e.lastModifiedDate?t=e.lastModifiedDate:e&&e.lastModified&&t.setTime(e.lastModified),t}}),Im=Ge.a.extend({type:null,status:null,nativeFile:null,message:"",staticMembers:{__QUALIFIED_CLASS_NAME__:"NativeFileUploadError"}}),wm=Ge.a.extend({handleResponseError:function(e,t,n){var i;switch(e){case 413:i=Nf.OutOfQuota;break;case Nf.DestinationDeleted:i=Nf.DestinationDeleted;break;default:i=Nf.FatalError}return Im.create({type:i,nativeFile:n,status:e,message:t})},staticMembers:{__QUALIFIED_CLASS_NAME__:"NativeFileUploadResponseHandler"}}),Em=/(\.zip)$/i,Cm=wm.create(),Am=yf.extend({init:function(e,t){this._docWebService=lm.create(e),this.__s._$Fw$init.call(this,t)},nativeFile:null,destinationFolder:null,documentId:null,transferCommitInfo:null,fileName:null,owner:null,_docWebService:null,startRun:function(){var e,t=this,n=this.nativeFile,i=this.documentId,r=this.destinationFolder,a=this.transferCommitInfo,s=this.fileName,l=Sm.fileIsPackage(n);if(l&&(s=s.replace(Em,"")),l?(e=mm.parseContentWSPackageResponse(a),r.isSharedToMe&&(e=mm.injectOwnerIntoPackage(this.owner,e)),e.command="add_package"):(e=mm.parseContentWSFileResponse(a)).command="add_file",e.document_id=i,e.path={starting_document_id:r.nonAliasedDocWsId,path:s},e.allow_conflict=!0,e.file_flags={is_writable:!0,is_executable:!1,is_hidden:!1},n){var c=Sm.getLastModifiedDate(n).getTime();e.mtime=c,e.btime=c}return this._docWebService.updateDocument(r,e).then((function(e){if(e.ok&&bt.a(e.data)&&Ue.a(e.data.results))return o.okResult({documentServiceFileDataHash:e.data.results[0].document});var n=Cm.handleResponseError(status,"Cannot complete native file upload. Request failed.",t.nativeFile);return o.failedResult(n)}))},__superMap:{_$Fw$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CompleteNativeFileUploadSubtask"}}),Tm=/(\.zip)$/i,Om=wm.create(),Dm=yf.extend({isDestinationFolderSharedToMe:null,destinationFolderOwnerName:null,destinationFolderRecordName:null,nativeFile:null,destinationZone:null,hostService:null,init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;Object.assign(t,{hostService:e}),n.__s._$10K$init.call(n,t),Object.defineProperties(this,{_attempts:{value:0,writable:!0},_request:{value:null,writable:!0}})},startRun:function(){return this._tryRequest()},_tryRequest:function(){var e=this,t=this.isDestinationFolderSharedToMe,n=this.hostService,i=this.nativeFile,r=this.destinationZone,a=this.fileName,s=this.destinationFolderOwnerName,l=this.destinationFolderRecordName,c=encodeURI(a),u=Sm.fileIsPackage(i),d={filename:u?c.replace(Tm,""):c,type:u?"PACKAGE":"FILE",content_type:i.type,size:i.size},h=function(e,t,n,i){var r=zd.a("ws/%{zone}/upload/web",{zone:e});return t&&(r+="/"+n+"/"+i),r}(r,t,s,l),f=om(n.getValidateToken()),p=hu.a.create(as("docws",h));return p.appendQueryParameter("token",f),ku(p,{headers:{"Content-Type":"text/plain"},method:"POST",body:d,shouldReportSuccess:!0,shouldReportFailure:!0,reportingPathname:am(h,[new RegExp(s||"$^"),new RegExp(l||"$^")])}).then((function(e){return Z.a.all([e.status,Gd(e)])})).then((function(n){var i=n[0],r=n[1],a=r.data,s=i;if(t&&404===s&&(s=Nf.DestinationDeleted),!bt.a(a)){var l=Om.handleResponseError(0,"Unable to prepare file for upload. Cannot parse file upload prepare HTTP response",e.nativeFile);return o.failedResult(l)}if(-1===s)o.cancelledResult();else{if(502!==s&&503!==s){if(r.ok){var c=a[0];return o.okResult({uploadUrl:c.url,documentId:c.document_id,ownerId:c.owner_id,owner:c.owner})}var u=Om.handleResponseError(s,"Unable to prepare file for upload. Request failed.",e.nativeFile);return o.failedResult(u)}if(e._attempts<2)return e._attempts++,e._tryRequest()}}))},shouldAllowCancel:function(){return!0},cancel:function(){var e=this,t=arguments;e.__s._$2Lp$cancel.apply(e,t);var n=this._request;n&&(n.abort(),n._promise.resolve({status:-1}))},__superMap:{_$10K$init:"init",_$2Lp$cancel:"cancel"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PrepareNativeFileUploadSubtask"}}),Mm=Ge.a.extend(wo.a,{isFormData:function(e){return e instanceof FormData&&"undefined"!==typeof e},isBlob:function(e){return e instanceof Blob},isFile:function(e){return e instanceof File},isFileList:function(e){return e instanceof FileList},blobSlice:function(e,t,n,i){var r=Blob.prototype;return(r.slice||r.webKitSlice||r.mozSlice).call(e,t,n,i)},staticMembers:{__QUALIFIED_CLASS_NAME__:"FileAPI"}}),Nm=n(419),Fm=Js.a.extend(Ni.a,{init:function(){var e=this,t=arguments;e.__s._$Ig$init.apply(e,t),this.get("transport")!==Nm.a.get("sharedInstance")&&Object(ze.b)("Attempting a file upload from an unsupported browser.",this);var n=this.uploadProgress;n.bytesTotal=this._totalSize||0,this.on(gu.b.SUCCEEDED,(function(){n.bytesTransferred=n.bytesTotal}))},method:gu.a.POST,body:Object(X.b)({set:function(e){return this.generateFormDataFromBody(e)},didChange:Vr.a}),files:Object(ut.b)(Array),bodySerializer:null,shouldTrackUploadProgress:!0,formKey:"files",generateFormDataFromBody:function(e){var t=Mm.get("sharedInstance");if(t.isFormData(e)||!e)return e;var n=t.isFileList(e),i=t.isFile(e),r=t.isBlob(e);i||n||r||Object(ze.b)("Must provide either a File or FileList.",{fileOrFileList:e});var a=new FormData;return this._totalSize=0,n?Array.prototype.forEach.call(e,(function(e){this.appendFileToFormData(e,a)}),this):this.appendFileToFormData(e,a),a},appendFileToFormData:function(e,t){var n=this.get("formKey"),i=ce.a.get("sharedInstance");!e.size&&i.get("isIE")&&i.get("majorVersion")<=10?t.append(n,""):t.append(n,e),this._totalSize+=e.size||0,this.files.push(e)},__superMap:{_$Ig$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadRequest"}}),Lm=wm.create(),Rm=yf.extend({nativeFile:Y.c({set:function(e){return this._nativeFileDidChange(e),e},get:function(){return this._nativeFile}}),uploadUrl:null,progress:Y.c({readOnly:!0,get:function(){return this._progress}}),init:function(e){var t=this,n=arguments;this.willInitialize(),t.__s._$QD$init.apply(t,n),this._request=null,this._progress=fm.create(),this.didInitialize()},willInitialize:function(){this._isInitializing=!0},didInitialize:function(){this._isInitializing=!1,this._nativeFileDidChange(this.nativeFile)},startRun:function(){var e=this,t=this.get("nativeFile"),n=this.get("uploadUrl"),i=this._request=Fm.create({body:t,url:n}),r=i.get("uploadProgress");this._reqProgressObserver=r.observe("didChange",(function(){e._tpnfu_requestProgressDidChange(r)}));var a=t.size;return i.send().catch((function(e){return e})).then((function(t){var n=t.status,r=t.encodedBody;if($u(n)){var s=function(e,t){var n;try{n=JSON.parse(e)}catch(r){var i=Im.create({type:Nf.FatalError,status:0,nativeFile:t,message:"Cannot transfer native file payload. Unable to parse file upload transfer payload HTTP response"});return o.failedResult(i)}return o.okResult(n)}(r,e.get("nativeFile")),l=!s.ok;if(s.ok&&s.data){var c=s.data.singleFile;if(c)l=a===c.size;else{var u=s.data.hexBrSyntheticChecksum;l=u&&u.length>=1}}if(l)return s}if(-1===n)return o.cancelledResult();var d=Lm.handleResponseError(i,"Cannot transfer native file payload. Request failed.");return o.failedResult(d)}))},shouldAllowCancel:function(){return!0},cancel:function(){var e=this,t=arguments;e.__s._$1FV$cancel.apply(e,t);var n=this._request;n&&(n.abort(),n._promise.resolve({status:-1}))},_nativeFileDidChange:function(e){if(!this._isInitializing){var t=e?e.size:0;this._progress.set("totalAmount",t)}},_tpnfu_requestProgressDidChange:function(e){var t=this._progress,n=e.get("bytesTransferred")||0,i=e.get("bytesTotal")||1,r=t.get("totalAmount")||0,a=Math.round(r*n/i);t.set("amountComplete",a),a===r&&t.complete()},__superMap:{_$QD$init:"init",_$1FV$cancel:"cancel"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransferPayloadNativeFileUploadSubtask"}}),xm=yf.extend(Ni.a,{nativeFile:null,destinationFolder:null,fileName:null,hostService:null,progress:Y.c({readOnly:!0,get:function(){return this._fileUploadProgress}}),init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;Object.assign(t,{hostService:e}),n.__s._$Wn$init.call(n,t),Object.defineProperties(this,{_currentRunningSubtask:{value:null,writable:!0},_transferSubtask:{value:this._loadTransferPayloadSubtask()},_fileUploadProgress:{value:dm.create()},_prepareSubtaskProgress:{value:fm.create({totalAmount:1})},_completeSubtaskProgress:{value:fm.create({totalAmount:1})}});var i=this._fileUploadProgress,r=this._prepareSubtaskProgress,a=this._transferSubtask.progress,o=this._completeSubtaskProgress;i.addChildProgress(r),i.addChildProgress(a),i.addChildProgress(o),i.excludeAmountForChildProgress(r),i.excludeAmountForChildProgress(o),i.adjustWeightForChildProgress(r,.05),i.adjustWeightForChildProgress(o,.05)},startRun:function(){var e=this,t=this._loadPrepareSubtask();return this._schedulePrepareSubtask(t).then((function(t){if(e._prepareSubtaskProgress.complete(),t.ok){var n=e._transferSubtask;n.nativeFile=e.nativeFile;var i=t.data.uploadUrl;return n.uploadUrl=i,e._scheduleTransferPayloadSubtask(n).then((function(e){return e.ok?o.okResult({documentId:t.data.documentId,prepareResult:t.data,transferResult:e.data}):e}))}return t})).then((function(t){if(t.ok){var n=t.data,i=n.prepareResult,r=n.transferResult,a=e._loadCompleteSubtask(n.documentId,r,i),s=e.nativeFile;if(!!Sm.fileIsPackage(s)||!!r.singleFile.size)return e._scheduleCompleteSubtask(a);var l=Im.create({type:Nf.FatalError,status:0,message:"Cannot complete native file upload. Request failed."});return o.failedResult(l)}return t})).then((function(t){return e._completeSubtaskProgress.complete(),e._currentRunningSubtask=null,t}))},shouldAllowCancel:function(){var e=this._currentRunningSubtask;return!e||e.isCancellable},cancel:function(){var e=this,t=arguments;e.__s._$1se$cancel.apply(e,t);var n=this._currentRunningSubtask;n&&n.cancel()},_loadPrepareSubtask:function(){var e=this.nativeFile,t=this.fileName,n=this.destinationFolder,i=this.hostService,r=n.isSharedToMe&&n.sharedFolderFromHierarchy,a=n.shareIDFromHierarchy,o=bt.a(a)?n.shareIDFromHierarchy.zoneID.ownerRecordName:null,s=bt.a(a)?n.shareIDFromHierarchy.recordName:null,l=r?n.shareIDFromHierarchy.zoneID.zoneName:n.zone;return Dm.create(i,{isDestinationFolderSharedToMe:r,destinationFolderOwnerName:o,destinationFolderRecordName:s,nativeFile:e,fileName:t,destinationZone:l})},_loadTransferPayloadSubtask:function(){return Rm.create()},_loadCompleteSubtask:function(e,t,n){return Am.create(this.hostService,{nativeFile:this.nativeFile,destinationZone:this.destinationZone,destinationFolder:this.destinationFolder,documentId:e,transferCommitInfo:t,owner:n.owner,fileName:this.fileName})},_schedulePrepareSubtask:function(e){return this._currentRunningSubtask=e,tp.scheduleTask(e)},_scheduleTransferPayloadSubtask:function(e){return this._currentRunningSubtask=e,e.run()},_scheduleCompleteSubtask:function(e){return this._currentRunningSubtask=e,tp.scheduleTask(e)},__superMap:{_$Wn$init:"init",_$1se$cancel:"cancel"},staticMembers:{__QUALIFIED_CLASS_NAME__:"NativeFileUploadTask"}}),Pm=/^(.*)\.([^.]+)$/i,km={_splitUploadFilename:function(e){var t=e.match(Pm)||[];if(!/^zip$/i.test(t[2])||!t[1])return t;var n=t[1].match(Pm)||[];return n[2]&&bm(n[2])?n:t},getBaseNameForNativeFileName:function(e){return km._splitUploadFilename(e)[1]||e},getUncompressedExtensionForNativeFileName:function(e){var t=km._splitUploadFilename(e);return t[1]&&t[2]||""},getBaseNameForNativeFile:function(e){return km.getBaseNameForNativeFileName(e.name)},getUncompressedExtensionForNativeFile:function(e){return km.getUncompressedExtensionForNativeFileName(e.name)}},Um=yf.extend({init:function(e,t,n){this.targetItem=e,this.docWebService=t,this.__s._$3v$init.call(this,n)},targetItem:void 0,docWebService:void 0,startRun:function(){return this.docWebService.createShortGuid(this.targetItem)},__superMap:{_$3v$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CreateShortGuidTask"}}),jm=Jf.extend({type:Of.UploadItem,destinationFolder:null,nativeFile:null,progress:X.b({readOnly:!0,get:function(){return this._transactionProgress}}),stagedFile:Y.c({readOnly:!0,get:function(){return this._stagedFile}}),docWebService:Y.c(),init:function(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=this;Object.assign(a,{hostService:t,nativeFile:n,destinationFolder:i,docWebService:r}),o.__s._$iQ$init.call(o,e,e,a),Object.defineProperties(this,{_transactionProgress:{value:dm.create()}})},shouldAllowCancelDuringCommit:function(){var e=this._nativeFileUploadTask;return!!e&&e.isCancellable},getTransactionItemsForFullRevert:function(){return[this._stagedFile]},cancel:function(){var e=this,t=arguments;e.__s._$vQ$cancel.apply(e,t);var n=this._nativeFileUploadTask;n&&n.cancel()},didStartPreparing:function(){this.destinationFolder.prepareForTransaction(this)},didStartStaging:function(){for(var e=this.destinationFolder,t=this.nativeFile,n=e.content,i=km.getBaseNameForNativeFile(t),r=km.getUncompressedExtensionForNativeFile(t),a=i,o=2;n.hasFileWithNameAndExtension(a,r);)a=i+" "+o,o++;var s=Sm.getLastModifiedDate(t),l=sh.createPlaceholder();Object.assign(l,{name:a,extension:r,type:wa.FILE.value,dateModified:s.toJSON(),parentId:e.id,isUploading:!0,uploadProgress:this._transactionProgress,fileSystem:this.fileSystem,transactionState:Jr.Staged}),this.addTransactionItem(l),this._stagedFile=l;var c=e.content;c.beginChanges(),c.addItem(l),c.endChanges()},run:function(){var e=this;this.__s._$1OJ$run.call(this);var t=this._stagedFile,n=this.nativeFile,i=this.destinationFolder,r=t.extension,a=t.name+(r?"."+r:"");a=a.replace(/\//g,":");var s=this._nativeFileUploadTask=this._createNativeFileUploadTask({nativeFile:n,destinationFolder:i,fileName:a});this._transactionProgress.addChildProgress(s.progress);var l=this.loggingService,c={op:"upload",dest_isChainedToParent:i.isChainedToParent?"true":"false",dest_isSharedByMe:i.isSharedByMe?"true":"false",dest_isSharedDirectly:i.isSharedDirectly?"true":"false",dest_isSharedIndirectly:i.isSharedIndirectly?"true":"false",dest_isSharedToMe:i.isSharedToMe?"true":"false"};return bt.a(l)&&l.recordStat("UploadStarted",c),this._scheduleNativeFileUploadTask(s).then((function(t){var n=t.data;if(t.ok){var r=e._documentServiceFileDataHash=n.documentServiceFileDataHash,a=i.shareIDFromHierarchy,s=i.isSharedToMe&&i.isSharedDirectly&&bt.a(a)?a.zoneID.zoneName:i.zone,u=(i.isSharedToMe?"FILE_IN_SHARED_FOLDER":"FILE")+"::"+s+"::"+r.document_id,d=If.create(),h=wf.create({itemID:u,status:wf.Status.OK});return d.addInfoItem(h),o.okResult(d)}return t.failed&&(l?l.recordStat("UploadFailed",Object.assign({contextMessage:t.data.message},c)):Re.b.error(t.data.message)),t}))},applyChangeForCommitInfoItem:function(e){var t=this._stagedFile,n=this._documentServiceFileDataHash,i=this.destinationFolder,r=i.shareIDFromHierarchy,a=i.isSharedToMe&&i.isSharedDirectly&&bt.a(r)?r.zoneID.zoneName:i.zone,o=t.dateModified||new Date(n.mtime);sh.replacePrimaryKeyInStore(t.id,e.itemID);var s={id:e.itemID,name:t.name,extension:t.extension,type:wa.FILE.value,dateModified:o.toJSON(),parentId:i.id,zone:a,docwsid:n.document_id,etag:n.etag,sharingToken:n.sharing_token,size:n.size,shortGUID:n.short_guid};if(i.isSharedToMe){var l={recordName:r.recordName,shareName:r.shareName,zoneID:r.zoneID};s.shareID=l}sr().loadData(sh,s),t.isUploading=!1,t.uploadProgress.changed(),i.content.updateItem(t),n.short_guid||tp.scheduleTask(Um.create(t,this.docWebService)).then((function(e){var n=e.ok,i=e.data;if(n&&!t.isDisposed){var r=i.etag;t.ckContentRecordTag=t.isFile?r.split("::")[1]:r,t.shortGUID=i.short_guid}}))},revertChangeForCommitInfoItem:function(e){var t=this._stagedFile,n=this.destinationFolder.content;n.beginChanges(),n.removeItem(t),n.endChanges()},didFinalize:function(){this.destinationFolder.content.finalizeForTransaction(this)},_createNativeFileUploadTask:function(e){return xm.create(this.hostService,e)},_scheduleNativeFileUploadTask:function(e){return hm.scheduleTask(e)},__superMap:{_$iQ$init:"init",_$vQ$cancel:"cancel",_$1OJ$run:"run"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadFileTransaction"}}),Bm=function(e){return!/^\./.test(e.name)},Vm=function(e){return arguments.length<1&&ze.b("Necessary arguments not provided.",this),e.size>0},$m=function(e){return arguments.length<1&&ze.b("Necessary arguments not provided.",this),e.size<=10737418240},Wm=function(e){var t,n;arguments.length<1&&ze.b("Necessary arguments not provided.",this),t=Z.a.create();try{var i=new FileReader;i.onload=Ft.a((function(){t.resolve(!0)})),i.onerror=Ft.a((function(e){t.resolve(!1)})),n=e.size>1e6?e.slice(0,1e6):e,i.readAsBinaryString?i.readAsBinaryString(n):i.readAsText&&i.readAsText(n)}catch(r){t.resolve(!1)}return t},zm=function(e,t){var n=km.getUncompressedExtensionForNativeFile(e);return t.acceptsFilesWithExtension(n)},Gm=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.uid=e,this.character=t,this.children=new Map,this.parent=n}var t=e.prototype;return t.getUniqueId=function(){return this.uid},t.getCharacter=function(){return this.character},t.addChild=function(e){var t=e.getCharacter(),n=this.children.get(t),i=n&&n.getUniqueId()===e.getUniqueId();n&&!i||this.children.set(t,e)},t.hasChild=function(e){return null!==this.children.get(e)},t.getChild=function(e){return this.children.get(e)},t.getChildren=function(){return this.children},t.getNumberOfChildren=function(){return this.children.size},t.getParent=function(){return this.parent},t.toString=function(){return"TrieNode #"+this.getUniqueId()+", character: "+this.getCharacter()+", children: "+this.printChildrenAsString()},t.printChildrenAsString=function(){var e="";return this.children.forEach((function(t,n){e+=n+", "})),e},e}(),Hm=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prefixes or filenames";this.allWordsArray=e,this.rootNode=new Gm(0),this.buildDirection=t,this.defaultDirection="prefixes or filenames"===this.buildDirection,this.terminalIndexes=[],this.totalNodes=0,this.buildTrie()}var t=e.prototype;return t.buildTrie=function(){for(var e=new Km(this.allWordsArray);e.hasNext();)for(var t=this.getRootNode(),n=e.next(),i=e.getCurrentIndex(),r=this.defaultDirection?new Qm(n):new qm(n);r.hasNext();){var a=r.next().toLocaleLowerCase(),o=this._createSingleCharacterNode(a,t,n);t.addChild(o);var s=t.getParent();s&&s.addChild(t),r.hasNext()||(this.terminalIndexes[o.getUniqueId()]=i),t=o}},t.addToTrie=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]},t._createSingleCharacterNode=function(e,t){var n=t.getChild(e);if(!n){var i=this.totalNodes+1,r=new Gm(i,e,t);return this.totalNodes++,r}return n},t.containsMatch=function(e){},t.matchesExactly=function(e){},t.containsPrefixMatch=function(e){},t.containsSuffixMatch=function(e){},t.getRootNode=function(){return this.rootNode},t.getAllStoredStrings=function(){return this.allWordsArray},t.toString=function(){var e=this,t=this.getRootNode().getChildren(),n="",i=[];return t.forEach((function(t,n){i=e._buildPrintablePath(t,i)})),n+i.toString()},t._buildPrintablePath=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=e;i=r?"[ "+a.getCharacter()+" ]":i+" -> [ "+a.getCharacter()+" ]";var o=a.getChildren();return 0===a.getNumberOfChildren()?(n.push(new String(i+"\n")),n):(void 0!==this.terminalIndexes[a.getUniqueId()]&&a.getNumberOfChildren()>0&&(i+="* "),o.forEach((function(e,r){n=t._buildPrintablePath(e,n,i,!1)})),n)},e}(),Km=function(){function e(e){this.arrayColl=e,this.currentIndex=-1,this.nextIndex=0}var t=e.prototype;return t.hasNext=function(){return this.arrayColl&&this.nextIndex<this.arrayColl.length},t.next=function(){return this.currentIndex=this.nextIndex,this.nextIndex++,this.arrayColl[this.currentIndex]},t.getCurrentIndex=function(){return this.currentIndex},t.getNextIndex=function(){return this.nextIndex},e}(),Qm=function(){function e(e){this.storedString=e,this.currentIndex=this._getStartingIndex()}var t=e.prototype;return t.hasNext=function(){return this.storedString&&this.currentIndex<this.storedString.length},t.next=function(){var e=this.storedString[this.currentIndex];return this._adjustIndex(),e},t.getCurrentIndex=function(){return this.currentIndex},t.getAdjustmentAmount=function(){return 1},t._getStartingIndex=function(){return 0},t._adjustIndex=function(){this.currentIndex++},e}(),qm=function(e){var t,n;function i(t){return e.call(this,t)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=i.prototype;return r.hasNext=function(){return this.currentIndex>=0},r.getAdjustmentAmount=function(){return-1},r._getStartingIndex=function(){return this.storedString.length-1},r._adjustIndex=function(){return this.currentIndex--},i}(Qm),Ym=function(e){var t,n;function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.call(this,t)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=i.prototype;return r.containsStringPrefixMatch=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootNode,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=[],r=0;r<e.length;r++){var a=e[r].toLocaleLowerCase(),o=t.getChildren(),s=o.get(a);if(!s)return!1;t=s;var l=this.terminalIndexes[t.getUniqueId()];if(void 0!==l&&l>=0||this.matchingChild&&0===this.matchingChild.getNumberOfChildren()){var c=this.allWordsArray[l];return i.push(n+c),!0}}},r.containsMatch=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootNode,n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],0);n<e.length;n++){var i=this.containsStringPrefixMatch(e.substring(n),t);if(i)return!0}return!1},r.matchesExactly=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.rootNode,i=[],r=0;r<e.length;r++){var a=e[r].toLocaleLowerCase(),o=n.getChildren(),s=o.get(a);if(!s)return!1;n=s;var l=this.terminalIndexes[n.getUniqueId()];if(void 0!==l&&r+1===e.length){var c=this.allWordsArray[l];return i.push(t+c),!0}}return!1},r.containsPrefixMatch=function(e){return 1===e.length?this.containsCharacterPrefixMatch(e[0]):this.containsStringPrefixMatch(e)},r.containsCharacterPrefixMatch=function(e){return this.rootNode.hasChild(e)},i}(Hm),Xm=function(e){var t,n;function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.call(this,t,"suffixes or extensions")||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=i.prototype;return r.containsSuffixMatch=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.rootNode,i=[],r=e.length-1;r>0;r--){var a=e[r].toLocaleLowerCase(),o=n.getChildren(),s=o.get(a);if(!s)return!1;var l=this.terminalIndexes[s.getUniqueId()];if(void 0!==l&&l>=0||this.matchingChild&&0===this.matchingChild.getNumberOfChildren()){var c=this.allWordsArray[l];return i.push(t+c),!0}n=s}},r.hasMatchesBeginningWithCharacter=function(e){return this.rootNode.hasChild(e)},i}(Hm),Jm={DOCUMENT_BEING_SAVED:"(A Document Being Saved",TEMP_MSOFFICE_LOCKFILE:"~$"},Zm={WEAK_PKG:"weakpkg"},eg={TEMP:"tmp",NO_SYNC:"nosync",DROPBOX:"dropbox",DROPBOX_ATTRIBUTES:"dropbox.attr",PHOTOS_LIBRARY:"photoslibrary",PHOTO_LIBRARY:"photolibrary",MIGRATED_PHOTO_LIBRARY:"migratedphotolibrary",MIGRATED_APERATURE_LIBRARY:"migratedaperturelibrary",APLIBRARY:"aplibrary",MIGRATED_APLIBRARY:"migratedaplibrary"},tg=ug({MICROSOFT_USER_DATA:"Microsoft User Data",RECYCLE_BIN:"$RECYCLE.BIN",IPHOTO_LIBRARY:"iPhoto Library",DROPBOX:"Dropbox",ONE_DRIVE:"OneDrive",IDRIVE_SYNC:"IDrive-Sync",DS_STORE:".DS_Store",TEMP:"tmp",UBD:".ubd",DESKTOP_INI:"desktop.ini",FOLDER_ICON:"icon\\r"}),ng=ug(Jm),ig=ug(Zm),rg=ng.concat(ig),ag=ug(eg),og=new Ym(tg),sg=new Xm(ag),lg=new Ym(rg),cg=function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=e.name;return!(lg.containsPrefixMatch(n)||og.matchesExactly(n)||lg.containsMatch(n))&&!sg.containsSuffixMatch(n)};function ug(e){var t=[];for(var n in e)t.push(e[n]);return t}var dg=Ge.a.extend(Ni.a,{activeTransactions:X.b({readOnly:!0,get:function(){for(var e=this._activeFileUploadTransactions,t=Object.keys(e),n=t.length,i=new Array(t.length),r=0;r<n;r++){var a=e[t[r]];i[r]=a.transaction}return i}}),activeTransactionsCount:X.b({readOnly:!0,get:function(){return this._activeFileUploadTransactionsCount}}),hasActiveTransactions:X.b({readOnly:!0,dependencies:["activeTransactionsCount"],get:Object.assign((function(){return this.activeTransactionsCount>0}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])>0}})}),activatedTransaction:Ni.g(),transactionFinalized:Ni.g(),init:function(e,t){this.__s._$jy$init.call(this,t),Object.defineProperties(this,{_uploadFileTransactionFactory:{value:e},_activeFileUploadTransactions:{value:{}},_activeFileUploadTransactionsCount:{value:0,writable:!0},_uploadFileToTransactionMap:{value:{}},_stagedTransactions:{value:[]}})},generateUploadFileTransaction:function(e,t){return this._uploadFileTransactionFactory(e,t)},commitUploadFileTransaction:function(e,t){var n=this;return this._validateAndPrepareTransaction(e,t).then((function(t){return t.ok?n._commitStagedTransaction(e):t}))},cancelUploadForFile:function(e){var t=this._uploadFileToTransactionMap[Zr.a(e)];t?t.get("isCancellable")?t.cancel():Re.b.warn("Unable to cancel file upload. Cancel not allowed"):Re.b.warn("Unable to cancel file upload. Missing transaction")},_commitStagedTransaction:function(e){return this.activatedTransaction(e),this._activeFileUploadTransactionsCount+=1,this.propertyChanged("activeTransactionsCount"),e.commit()},_stageAndManageTransaction:function(e){var t=this;if(e){e.stage();var n=e.get("stagedFile"),i=e.observe("finalized",(function(n){n&&t._transactionDidFinalize(e)}));return this._activeFileUploadTransactions[Zr.a(e)]={observer:i,transaction:e,file:n},this._uploadFileToTransactionMap[Zr.a(n)]=e,e}Re.b.warn("Unable to upload file to folder. No transaction returned")},_transactionDidFinalize:function(e){var t=Zr.a(e),n=this._activeFileUploadTransactions,i=n[t];if(i){i.observer.disconnect();var r=i.file;delete this._uploadFileToTransactionMap[Zr.a(r)],delete n[t],this._activeFileUploadTransactionsCount--,this.propertyChanged("activeTransactionsCount"),this.transactionFinalized(e)}else Re.b.warn("Cannot complete finalizing file upload transaction. Missing info.")},_validateAndPrepareTransaction:function(e,t){var n=this,i=e.destinationFolder;return function(e,t,n){var i=this,r=[],a=Qp.create(e,t,{multipleFiles:n&&n.multipleFiles,meta:n});r.push({validation:function(e){return!e||e&&!e.isAccessDenied},arguments:[n],fail:function(){return Kp.create(Hp.AccessDenied,a)}}),r.push({validation:zm,arguments:[e,t],fail:function(){return Kp.create(Hp.BadAppLibraryType,a)}}),r.push({validation:Wm,arguments:[e],async:!0,fail:function(){return Kp.create(Hp.NotCompressed,a)}}),r.push({validation:cg,arguments:[e],fail:function(){return Kp.create(Hp.UnsupportedExtension,a)}}),r.push({validation:Bm,arguments:[e],fail:function(){return Kp.create(Hp.HiddenFile,a)}}),r.push({validation:Vm,arguments:[e],fail:function(){return Kp.create(Hp.SizeTooSmall,a)}}),r.push({validation:$m,arguments:[e],fail:function(){return Kp.create(Hp.SizeTooBig,a)}});var s=r.map((function(e){var t=Z.a.create();return e.async||(e.validation=Z.a.wrapFunction(e.validation)),e.validation.apply(i,e.arguments).then((function(n){if(!0===n)t.resolve(o.okResult(!0));else{var i=e.fail();t.resolve(o.failedResult(i))}})),t}));return Z.a.all(s).then((function(e){for(var t=[],n=[],i=0;i<e.length;i++){var r=e[i];r.ok?t.push(r.data):n.push(r.data)}return n.length>0?o.failedResult(n):o.okResult(t)}))}(e.nativeFile,i,t).then((function(t){return t.ok?o.okResult(n._stageAndManageTransaction(e)):t}))},__superMap:{_$jy$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadFilesService"}}),hg=Ge.a.extend({delegate:null,init:function(e){this.__s._$2J$init.call(this,e),this._cache={}},queueItemForKeyIdentifier:function(e,t){var n=this._cache[t];n||(n=this._cache[t]=[]),n.push(e)},dequeueItemForKeyIdentifier:function(e){var t=this._cache[e];return t?t.pop():null},clearAllItems:function(){this._cache={}},poolContainsItemsForKeyIdentifier:function(e){var t=this._cache[e];return t&&t.length>0},__superMap:{_$2J$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemPool"}}),fg=Ge.a.extend({numberOfDownloadImageTasks:Y.c(4),scheduler:Y.c({get:function(){return this._scheduler}}),init:function(e){var t=this,n=arguments;t.__s._$BC$init.apply(t,n),this._scheduler=this.loadTaskScheduler(),this._currentTasksList={}},loadTaskScheduler:function(){return ep.create({trace:!1,traceId:"downloadImageTaskController",allowedMaximumRunningTasks:this.numberOfDownloadImageTasks})},downloadImageForURL:function(e,t){var n=this,i=mg.create({url:t,identifier:e});return this._addTaskToCurrentTasksList(e,i),this._scheduler.scheduleTask(i).then((function(t){return n._removeTaskFromCurrentTasksList(e),t}))},enqueueWorker:function(e){pg.enqueueWorker(e)},cancelAllTasks:function(){this._scheduler.cancelAllQueuedTasks()},cancelTask:function(e){var t=this._currentTasksList[e];t&&t.isCancellable&&(t.cancel(),this._removeTaskFromCurrentTasksList(e))},_addTaskToCurrentTasksList:function(e,t){this._currentTasksList[e]=t},_removeTaskFromCurrentTasksList:function(e){delete this._currentTasksList[e]},__superMap:{_$BC$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownloadImageService"}}),pg=Ge.a.extend({init:function(e){var t=this,n=arguments;t.__s._$hV$init.apply(t,n),this._pool=hg.create()},dequeueWorker:function(){return this._pool.dequeueItemForKeyIdentifier("IMAGE_WORKER")||null},enqueueWorker:function(e){this._pool.queueItemForKeyIdentifier(e,"IMAGE_WORKER")},__superMap:{_$hV$init:"init"}}).create(),mg=yf.extend({url:null,identifier:null,startRun:function(){var e=Z.a.create(),t=pg.dequeueWorker();return t||((t=new Image).crossOrigin="https://cvws.icloud-content.com"),t.onload=function(){e.resolve(o.okResult(t))},t.onerror=function(n){pg.enqueueWorker(t),e.resolve(o.failedResult())},t.src=this.url,e},_getImageDataFromCanvas:function(e){var t=document.createElement("canvas");t.height=e.height,t.width=e.width;var n=t.getContext("2d");return n.drawImage(e,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)},shouldAllowCancel:function(){return!this.isRunning},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownloadImageTask"}}),gg=Ge.a.extend(Ni.a,{init:function(e,t){this._docWebService=e,this.__s._$8n$init.call(this,t)},_docWebService:null,extractItemUrlFromDownload:function(e){var t=e.item,n=e.package_token,i=e.data_token,r=bt.a(n);return{item:t,url:bt.a(i)?i.url:r?n.url:void 0,isPackage:r}},getURLForItem:function(e){var t=this;return this._docWebService.download(e).then((function(e){return e.ok?o.okResult(t.extractItemUrlFromDownload(e.data)):e}))},__superMap:{_$8n$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemURLService"}}),vg=gg.extend({extractItemUrlFromDownload:function(e){var t=e.thumbnail_token,n=bt.a(t),i=this.__s._$Fl$extractItemUrlFromDownload.call(this,e);return i.url=n?t.url:function(e){var t=e.get("size"),n=e.get("extension");return!!(n&&(n=n.toLowerCase(),_g.indexOf(n)>=0&&t<1048576&&t>0))}(i.item)?i.url:void 0,i},__superMap:{_$Fl$extractItemUrlFromDownload:"extractItemUrlFromDownload"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ThumbnailURLService"}}),_g=["png","jpg","jpeg","gif","bmp"];var bg=ne.b("DocWSCommandType",{ModifyFile:"modify_file"}),yg=Qi.a(["gif","jpeg","jpg","mp3","mp4","mov","pdf","png","txt","wav"]),Sg={ie9:Qi.a(["mov","mp4","wav","pdf"]),chrome:Qi.a(["mp4","mov"]),firefox:Qi.a(["mp4","mov"]),safari12OrLower:Qi.a(["pdf"])},Ig=Qi.a(["key","key-tef","keynote","keynote-tef","numbers","numbers-tef","pages","pages-tef"]),wg=Ge.a.extend(Ni.a,{init:function(e,t,n,i,r){this.itemURLService=e,this.downloadService=t,this.hostService=n,this.loggingService=i,this.user=ws.defaultInstance.user,this._docWebService=lm.create(n),this.__s._$lh$init.call(this,r)},staticMembers:{actions:{OPEN_IN_BROWSER:0,DOWNLOAD:1,OPEN_IN_IWORK:2},__QUALIFIED_CLASS_NAME__:"OpenFileService"},downloadService:null,itemURLService:null,hostService:null,user:null,loggingService:null,loadBrowser:function(){return ce.a.sharedInstance},_browserDoesNotSupportExtension:function(e){var t,n=this._getLowerCaseFileExtension(e),i=this.loadBrowser();return i.isSafari12OrLower?t="safari12OrLower":i.isIE9OrLower?t="ie9":i.isChrome?t="chrome":i.isFirefox&&(t="firefox"),!!t&&Sg[t][n]},_canOpenFileInBrowser:function(e){var t=this._getLowerCaseFileExtension(e);return!(!yg[t]||this._browserDoesNotSupportExtension(e))},_canOpenFileInIWork:function(e){var t=this._getLowerCaseFileExtension(e);return Ig[t]},openFile:function(e){var t=this;if(e.isInTrash)return Z.a.resolve(o.okResult());var n=function(n){if(n.ok){var i=n.data;t.itemWasOpened(i).then((function(n){n.ok||t._handleLastOpenTimeUpdateFailure(e)}))}return n};return this._canOpenFileInBrowser(e)?this._openFileInBrowser(e).then(n):this._canOpenFileInIWork(e)?this._openFileInIWork(e).then(n):this._downloadFile(e)},itemWasOpened:function(e){var t=Date.now(),n={document_id:e.nonAliasedDocWsId,lastOpenedTime:t,command:bg.ModifyFile.value};return this._docWebService.updateDocument(e,n).then((function(t){return t.ok?o.okResult(e):o.failedResult(e)}))},_openFileInBrowser:function(e){var t=globalThis.open("","_blank");return t?this.itemURLService.getURLForItem(e).then((function(n){var i,r=n.data;if(n.ok){var a=r.url;if(a){var s=-1===a.indexOf("?")?"?":"&";t.location.href=a+s+"cd=i",i=o.okResult(e)}else t&&t.close(),i=o.failedResult(r)}else t.close(),i=o.failedResult(r);return i})):Z.a.resolve(o.failedResult())},_downloadFile:function(e){var t=this;return this.itemURLService.getURLForItem(e).then((function(e){var n=e.data;return e.ok?t.downloadService.downloadFromURL(e.data.url).then((function(e){return e===Nh.FAILED?o.failedResult(n):o.okResult(n)})):e}))},_openFileInIWork:function(e){var t=this,n=this._getOpenUrlForFile(e),i={errorCode:"UNK",item:e};if("string"===typeof n){var r=n;return this._openWindowForFileInIWork(r,e)?Z.a.resolve(o.okResult(e)):Z.a.resolve(o.failedResult(i))}var a=this._openWindowForFileInIWork("",e);if(a){var s=e.isSharedDirectlyOrIndirectly,l=e.isSharedDirectly,c=e.isSharedToMe;return n.then((function(n){if(n.ok){var r=n.data;return a.location.href=r,o.okResult(e)}return a.close(),t.loggingService.recordStat("couldNotOpenIWorkFile",{isSharedDirectlyOrIndirectly:s,isSharedDirectly:l,isSharedToMe:c}),o.failedResult(i)}))}return Z.a.resolve(o.failedResult(i))},_openWindowForFileInIWork:function(e,t){return globalThis.open(e,"_blank")},_getOpenUrlForFile:function(e){var t=this;if(this._mustFetchUnifiedToken(e))return this._docWebService.lookup(e).then((function(n){var i=n.ok,r=n.data;return i&&bt.a(r.unified_token)?o.okResult(t._composeIWorkUrl(e,r.unified_token)):o.failedResult()}));var n=this._composeIWorkUrl(e);return null===n?Z.a.resolve(o.failedResult()):n},_mustFetchUnifiedToken:function(e){var t=e.shortGUID,n=e.isSharedToMe,i=e.sharingToken,r=e.isSharedByMe,a=e.isSharedDirectlyOrIndirectly,o=e.isSharedDirectly,s=bt.a(t),l=n&&o&&bt.a(i);return!s&&!l&&!(r||!a)},_composeIWorkUrl:function(e,t){var n=e.extension,i=e.shortGUID,r=e.isSharedToMe,a=e.sharingToken,o=e.name,s=e.isSharedByMe,l=e.isSharedDirectlyOrIndirectly,c=e.isSharedDirectly,u=es.sharedInstance.current,d=u.subdomain+"."+u.domain,h=n&&n.replace(/-tef$/,""),f="//"+d+"/"+("key"===h.toLowerCase()?"keynote":h),p=bt.a(o)?"#"+encodeURIComponent(o.replace(/\s/g,"_")):"",m=bt.a(i),g=r&&c&&bt.a(a),v=s||!l,_=this.user.dsid,b=t?"utoken:"+t:m?i:v?"docws:"+_+":"+e.zone+":"+e.docwsid:g?a:null;return null===b?null:f+"/"+b+p},_getLowerCaseFileExtension:function(e){var t=e.extension;return t?t.toLowerCase():""},_handleLastOpenTimeUpdateFailure:function(e){this.loggingService.recordStat("couldNotUpdateItemLastOpenedTime"),Re.b.warn("Unable to set the last opened time for file ["+e.id+"] "+e.name)},__superMap:{_$lh$init:"init"}}),Eg={trace:!1,logTrace:function(e){(this.trace||window.TRACE_ALL)&&Re.b.debug(this+" "+e)}},Cg={mixinDependencies:[Eg],registerStateEnumGroup:function(e,t,n){var i=this._segs_registeredGroups;i||(i=this._segs_registeredGroups={}),i[e.id]||(i[e.id]={stateEnumGroup:e,currentState:t,fatalErrorState:n})},fatalErrorIfNotInState:function(e){var t=this._segs_registeredGroups[e.group.id];t||ze.b("No state enum group registered for "+e);var n,i=t.currentState,r=t.fatalErrorState||null,a=arguments.length;for(n=0;n<a;n++)if(arguments[n].contains(i))return;r&&this.setState(r);var o=bt.a(i)&&bt.a(i.fullName)?i.fullName:"[unknown state]",s=1==a?" ":" either ",l=[];for(n=0;n<a;n++)l.push(arguments[n].fullName);var c=" Cannot perform operation. Expected state "+o+" to"+s+"be: "+l.join(", ");ze.b(c,{source:this})},setState:function(e){var t=this._segs_registeredGroups[e.group.id];t||ze.b("No state enum group registered for "+e);var n=t.currentState;t.currentState=e,this.logTrace("changed state from <"+n.fullName+"> to <"+e.fullName+">")},getCurrentStateForStateEnumGroup:function(e){var t=this._segs_registeredGroups[e.id];return t||ze.b("No state enum group registered for "+e.name),t.currentState},transitionFromStateToState:function(e,t){this.fatalErrorIfNotInState(e),this.setState(t)}};function Ag(e,t){var n="";t=!!t;for(var i=0;i<=7;i++)t&&i>0&&i%2===0&&(n+=" "),n+="0123456789ABCDEF"[(e&4026531840>>>4*i)>>>4*(7-i)];return n}var Tg=[4278190080,4294901760,4294967040,4294967280,4294967295],Og=[24,16,8,4,0],Dg=function(e,t,n,i,r){this.name=e,this.value=t,this.level=i,this.parent=n||null,this.group=r||null;var a=t<<Og[i];this.fullValue=n?n.fullValue+a:a,this.fullName=n?n.fullName+"."+e:e,this._nextSubstateValue=function(){var e=0;return function(){return e+=1}}(),r||Object.freeze(this)},Mg=Dg.prototype;function Ng(e,t){return new Dg(e,t,null,0)}Mg.equals=function(e){return e.fullValue===this.fullValue},Mg.substateOf=function(e){return!(this.level<=e.level)&&(this.fullValue&Tg[e.level])===e.fullValue},Mg.superstateOf=function(e){return!(this.level>=e.level)&&(e.fullValue&Tg[this.level])===this.fullValue},Mg.contains=function(e){return this.equals(e)||e.substateOf(this)},Mg.createSubstate=function(e){return new Dg(e,this._nextSubstateValue(),this,this.level+1,this.group)},Mg.toString=function(){var e=this.group,t=e?e.name+" State":"StateEnum",n=e?"":" <"+Ag(this.fullValue,!0)+">";return"["+t+": "+this.fullName+n+"]"};var Fg=1,Lg=function(e){this.items=[],this.name=e,this.id=Fg,Fg++};function Rg(e,t){var n=new Lg(e),i=function e(t,n){var i=1;return function(r,a){var o=null,s=(o=n?n.createSubstate(r):new Dg(r,i,null,0,t)).fullName.replace(".","");t.items.push(o),t[s]=o,n&&(n[r]=o),i+=1,a&&a(e(t,o))}}(n,null);t(i);for(var r=n.items,a=r.length,o=0;o<a;o++)Object.freeze(r[o]);return Object.freeze(n),n}var xg=Rg("Application Driver",(function(e){e("Inactive"),e("Activating",(function(e){e("Init"),e("WaitAppPrepared"),e("Finalize")})),e("Active",(function(e){e("Ready")})),e("Deactivating"),e("FatalError")})),Pg=xg.Inactive,kg=xg.Activating,Ug=xg.Active,jg=xg.Deactivating,Bg=xg.FatalError,Vg=Ge.a.extend(Eg,Cg,{application:Y.c({readOnly:!0}),state:Y.c({readOnly:!0,get:function(){return this.getCurrentStateForStateEnumGroup(xg)}}),init:function(e){if(this.__s._$KS$init.call(this,e),!e||!e.application)throw ze.b("Cannot create driver. Requires application");this.registerStateEnumGroup(xg,Pg,Bg)},activate:function(){this.transitionFromStateToState(Pg,kg.Init),this.didStartInitialActivation()},applicationDidPrepareForLoad:function(){this.transitionFromStateToState(kg.WaitAppPrepared,kg.Finalize),this.didStartFinalizingActivation()},didStartInitialActivation:function(){},didFinishInitialActivation:function(){this.transitionFromStateToState(kg.Init,kg.WaitAppPrepared),this.get("application").prepareForLoad()},didStartFinalizingActivation:function(){},didFinishFinalizingActivation:function(){this.transitionFromStateToState(kg.Finalize,Ug.Ready),this.get("application").didBecomeLoaded()},didStartDeactivation:function(){this.setState(jg)},didFinishDeactivation:function(){this.setState(Pg)},__superMap:{_$KS$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseApplicationDriver"}}),$g=Rg("Channel",(function(e){e("Closing"),e("Closed"),e("Opening"),e("Opened"),e("FatalError")})),Wg=$g.Closing,zg=$g.Closed,Gg=$g.Opening,Hg=$g.Opened,Kg=$g.FatalError,Qg=Ge.a.extend(Eg,Cg,{window:Y.c({readOnly:!0,get:function(){return this._window}}),state:Y.c({readOnly:!0,get:function(){return this.getCurrentStateForStateEnumGroup($g)}}),init:function(e){e.window||this.fatalError("Cannot open channel. Requires window");var t=e.window;delete e.window,this.__s._$XZ$init.call(this,e),this._window=t,this.registerStateEnumGroup($g,zg,Kg)},open:function(){this.transitionFromStateToState(zg,Gg),this.willOpen()},close:function(){this.transitionFromStateToState(Hg,Wg),this.willClose()},willOpen:function(){},didOpen:function(){this.transitionFromStateToState(Gg,Hg)},willClose:function(){},didClose:function(){this.transitionFromStateToState(Wg,zg)},__superMap:{_$XZ$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RPCBaseChannel"}}),qg=Qg.extend({origin:Y.c({readOnly:!0}),init:function(e){this.__s._$3k$init.call(this,e),e.origin||ze.b("Cannot create output channel. Requires origin")},sendMessage:function(e){},__superMap:{_$3k$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RPCBaseOutputChannel"}}),Yg=qg.extend({willOpen:function(){this.didOpen()},willClose:function(){this.didClose()},sendMessage:function(e){var t=this.get("window"),n=this.get("origin");ce.a.get("sharedInstance").get("isIE9OrLower")&&(e=JSON.stringify(e)),t.postMessage(e,n)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RPCOutputChannel"}}),Xg=Ge.a.extend(Ni.a,{cloudOSApplication:X.b(),cloudOSService:X.b({dependencies:["cloudOSApplication.cloudOSService"],readOnly:!0,strong:!0,get:Object.assign((function(){return this.getPath("cloudOSApplication.cloudOSService")||null}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])||null}})}),environment:X.b(J.c("cloudOSService.environment")),authBag:X.b(J.c("cloudOSService.environment.authBag")),currentUser:X.b(J.c("cloudOSService.environment.authBag.user")),isReloading:X.b(!1)}).create(),Jg={windowCount:0,windowApplications:{},openWindowApplication:function(e,t,n){var i=this._getNextWindowId();e=this._addInstanceIdToURL(e,i);var r=window.open(e,t,n);return this.windowApplications[i]={window:r},i},_addInstanceIdToURL:function(e,t){var n="&";return-1===e.indexOf("#")&&(n="#"),e+n+"instanceId="+t},_getNextWindowId:function(){return"generating a new id",Re.b.debug("WindowApplication: generating a new id"),"window_"+this.windowCount++},windowApplicationIsRegistered:function(e){return!!this.windowApplications[e]},passWindowApplicationMessage:function(e,t){var n=this.windowApplications[e];if(n){var i=Oa.a(arguments);if(i=i.slice(2,i.length),n.didInitialize){var r={isCloudOSMessage:!0,methodName:t,args:i,isWindowApplicationMessage:!0};try{var a=n.window.CK.currentApplication;if(a)a._windowMessageWasReceived(de.a(r));else{var o=Yg.create({window:n.window,origin:Xg.getPath("cloudOSApplication.driver").getIOChannelOrigin()});o.sendMessage(r)}}catch(s){Re.b.warn("postMessage: CK.WindowApplication "+e+" not properly loaded?")}}else this._registerWindowApplicationMessage(e,t,i)}else Re.b.warn("Could not find a COSK.Utils.windowApplications with instanceId "+e)},windowApplicationDidInitialize:function(e){var t=this.windowApplications[e];t?t.didInitialize=!0:Re.b.warn("There is no windowApplication for "+e)},passPendingWindowApplicationMessages:function(e){var t,n,i,r,a=this.windowApplications[e];if(a&&(t=a.messages))for(n=0,i=t.length;n<i;n++){var o=[e,(r=t[n]).method];this.passWindowApplicationMessage.apply(this,o.concat(r.args))}},_registerWindowApplicationMessage:function(e,t,n){var i,r=this.windowApplications[e];r&&((i=r.messages)||(i=[],r.messages=i),i.push({method:t,args:n}))},resolveInstanceIfNeeded:function(e){var t=this.windowApplications;if(!t[e])for(var n in t)if(t[n].window===e)return n;return e}},Zg={windowApplicationDidInitialize:function(e){var t=Jg.resolveInstanceIfNeeded(e);Jg.windowApplicationDidInitialize(t)},passPendingWindowApplicationMessages:function(e){var t=Jg.resolveInstanceIfNeeded(e);Jg.passPendingWindowApplicationMessages(t)}},ev={windowApplicationHasInitialized:function(e,t,n){e=Jg.resolveInstanceIfNeeded(e);var i=Xg.getPath("cloudOSApplication.driver");Jg.windowApplicationDidInitialize(e),n||Jg.passWindowApplicationMessage(e,"_applicationShouldInvokeMain",i.get("cloudOSMethodNames"),i.get("cloudOSState")),Jg.passPendingWindowApplicationMessages(e)},windowApplicationIsKnown:function(e){return e=Jg.resolveInstanceIfNeeded(e),Jg.windowApplicationIsRegistered(e)}},tv={mixinDependencies:[Ni.a],environment:null,showAppSwitcher:function(e){},showSpringBoard:function(){},showAccountSettings:function(){},performLogout:function(){},reload:function(){},showHelp:function(e){},recordStat:function(e,t){},recordPerfStat:function(e,t){},beginStat:function(e,t){},endStat:function(e,t){},showLocalNotification:function(e){},invokeMethodOnCloudOS:function(e){},handleApplicationCrash:function(e,t){},exit:function(e,t){},setAppBanner:function(e){},openIWorkFile:function(e){},openIWorkDocument:function(e,t,n){},getValidateToken:function(){},isReadyToTerminateDidChange:function(e){},setStartupUrl:function(e){},setStartupInfo:function(e){},requestReceived:function(e,t,n){},refreshQuotaData:Vr.a,requestMeCard:Vr.a,setRoute:function(e){},setAppPreferences:function(e){},setAccountPreference:function(e,t){},revalidateUser:function(){},getConformingTypes:function(e){},fetchIcon:function(e,t,n,i){},fetchBlankFolderIcon:function(e,t,n){},fetchBlankFileIcon:function(e,t,n){},sendLocalNotification:function(e,t,n,i){},didReceiveSpecialResponse:function(e,t,n){},loadCloudKitJS:function(e){},replaceCurrentApp:function(e){},fetchAppUrl:function(e,t){}},nv=Ge.a.extend(Ni.a,{name:Y.c(),url:X.b(),status:X.b(),staticMembers:{__QUALIFIED_CLASS_NAME__:"ServiceInfo"}});function iv(e){return rv(e)||av(e)}function rv(e){return/^([A-Z0-9\.\-\_\+])*([A-Z0-9\+\-\_])+\@[A-Z0-9]+([\-][A-Z0-9]+)*([\.][A-Z0-9\-]+){1,8}$/i.test(e)}function av(e){return/^[0-9]{5,}$/.test(e)}function ov(e){var t=ov._phoneNumberRegex;if(!t){var n="0-9\\uff10-\\uff19\\u0660-\\u0669\\u06F0-\\u06F9\\u0966-\\u096F\\u09E6-\\u09FF\\u0E50-\\u0E59";ov._phoneNumberRegexAllDigits=new RegExp("^s*\\+?(["+n+"]+)s*$","gi"),t=ov._phoneNumberRegex=new RegExp("^s*([+\\(])?((["+n+"]+)([\\(\\)\\s\\-\\+\\.\\,\\#]{1,3}|x|ext))+(["+n+"]+)s*$","gi")}var i=ov._phoneNumberRegexAllDigits;return t.lastIndex=0,i.lastIndex=0,t.test(e)||i.test(e)}function sv(e){return e&&e.replace(/[^0-9]/g,"")}function lv(e){for(var t=0,n=e&&e.length||0;t<n;++t){var i=e[t];if(i.isPrimary)return i}}var cv=ne.b("AppleIdEntryType",{PHONE_NUMBER:"PHONE_NUMBER",EMAIL:"EMAIL"}),uv=Ge.a.extend(Ni.a,{staticMembers:{EMPTY_USER:null,statusCodes:{INACTIVE:0,FREE_QUALIFIED:2,FREE_NOT_QUALIFIED:3,LITE:4},__QUALIFIED_CLASS_NAME__:"User"},firstName:X.b(""),lastName:X.b(""),statusCode:X.b(),countryCode:X.b(),isChineseAccount:X.b({dependencies:["countryCode"],readOnly:!0,get:Object.assign((function(){return"CHN"===this.countryCode}),{__CW__getter:function(e,t,n,i){return"CHN"===i.internalGet(this,t[0+n])}})}),SafariBookmarksHasMigratedToCloudKit:!1,loadInfo:function(e){xi.a.pause();for(var t=Object.keys(e),n=0,i=t.length;n<i;n++){var r=t[n];this.set(r,e[r])}xi.a.resume()},isServiceActive:function(e){return!!Xg.get("authBag").getServiceInfoFor(e)},displayName:X.b({dependencies:["firstName","lastName","displayablePrimaryAppleId"],readOnly:!0,get:Object.assign((function(){var e=this.get("appleIdEntries");if(!e)return Ys({givenName:this.firstName,familyName:this.lastName,emailAddress:this.appleId});var t=lv(e),n=t&&t.type;return Ys({givenName:this.firstName,familyName:this.lastName,emailAddress:n===cv.EMAIL.value?t.value:null,phoneNumber:n===cv.PHONE_NUMBER.value?t.formattedValue:null})}),{__CW__getter:function(e,t,n,i){var r=this.get("appleIdEntries");if(!r)return Ys({givenName:i.internalGet(this,t[0+n]),familyName:i.internalGet(this,t[1+n]),emailAddress:this.appleId});var a=lv(r),o=a&&a.type;return Ys({givenName:i.internalGet(this,t[0+n]),familyName:i.internalGet(this,t[1+n]),emailAddress:o===cv.EMAIL.value?a.value:null,phoneNumber:o===cv.PHONE_NUMBER.value?a.formattedValue:null})}})}),appleId:X.b({dependencies:["appleIdEntries"],set:function(e){this._appleId=e},get:Object.assign((function(){var e=this.get("appleIdEntries");if(!e)return this._appleId;var t=lv(e);return t&&(t.type===cv.PHONE_NUMBER.value?t.formattedValue:t.value)||""}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(!r)return this._appleId;var a=lv(r);return a&&(a.type===cv.PHONE_NUMBER.value?a.formattedValue:a.value)||""}})}),normalizedPrimaryAppleId:X.b({dependencies:["appleIdEntries","appleId"],cacheable:!0,readOnly:!0,get:Object.assign((function(){var e=this.appleIdEntries;if(!e)return this.appleId;var t=lv(e);return t&&(t.type===cv.PHONE_NUMBER.value?t.canonicalValue:t.value)||""}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(!r)return i.internalGet(this,t[1+n]);var a=lv(r);return a&&(a.type===cv.PHONE_NUMBER.value?a.canonicalValue:a.value)||""}})}),displayablePrimaryAppleId:X.b({dependencies:["appleIdEntries","appleId"],cacheable:!0,readOnly:!0,get:Object.assign((function(){var e=this.appleIdEntries;if(!e)return this.appleId;var t=lv(e);return t&&(t.type===cv.PHONE_NUMBER.value?t.formattedValue:t.value)||""}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(!r)return i.internalGet(this,t[1+n]);var a=lv(r);return a&&(a.type===cv.PHONE_NUMBER.value?a.formattedValue:a.value)||""}})}),primaryAppleIdType:X.b({dependencies:["appleIdEntries"],readOnly:!0,cacheable:!0,get:Object.assign((function(){var e=this.appleIdEntries;if(!e){var t=this.normalizedPrimaryAppleId,n=void 0;return rv(t)?n=cv.EMAIL:ov(t)&&(n=cv.PHONE_NUMBER),n}var i=lv(e);return i&&cv.getItemForValue(i.type)}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(!r){var a=this.normalizedPrimaryAppleId,o=void 0;return rv(a)?o=cv.EMAIL:ov(a)&&(o=cv.PHONE_NUMBER),o}var s=lv(r);return s&&cv.getItemForValue(s.type)}})}),isPrimaryAppleIdTypePhoneNumber:X.b({readOnly:!0,cacheable:!0,dependencies:["primaryAppleIdType"],get:Object.assign((function(){return this.primaryAppleIdType===cv.PHONE_NUMBER}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===cv.PHONE_NUMBER}})}),isPrimaryAppleIdTypeEmail:X.b({readOnly:!0,cacheable:!0,dependencies:["primaryAppleIdType"],get:Object.assign((function(){return this.primaryAppleIdType===cv.EMAIL}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===cv.EMAIL}})}),primaryEmail:X.b(null),appleIdAliases:X.b(null),appleIdAlias:X.b(null),iCloudAppleIdAlias:null,appleIdEntries:X.b(null),dsid:null,isMyEmailAddressOrPhoneNumber:function(e){return!!e&&(e=(e||"").toLowerCase(),!!this._appleIdEmailsLookupTable[e]||!!ov(e)&&(e=sv(e),!!this._appleIdPhoneNumbersLookupTable[e]))},_appleIdEmailsLookupTable:X.b({dependencies:["appleId","primaryEmail","appleIdAliases","appleIdEntries"],cacheable:!0,readOnly:!0,get:function(){return this._buildAppleIdLookupTable(cv.EMAIL)}}),_appleIdPhoneNumbersLookupTable:X.b({dependencies:["appleId","primaryEmail","appleIdAliases","appleIdEntries"],cacheable:!0,readOnly:!0,get:function(){return this._buildAppleIdLookupTable(cv.PHONE_NUMBER)}}),hasEmailAddress:X.b({dependencies:["_appleIdEmailsLookupTable"],cacheable:!0,readOnly:!0,get:Object.assign((function(){var e=this._appleIdEmailsLookupTable;return Object.keys(e).length>0}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return Object.keys(r).length>0}})}),_buildAppleIdLookupTable:function(e){var t,n,i={},r=this.appleIdEntries;if(r){for(t=0,n=r.length;t<n;++t){var a=r[t];e&&a.type!==e.value||(i[((a.type===cv.PHONE_NUMBER.value?a.canonicalValue:a.value)||"").toLowerCase()]=!0)}return i}if(e===cv.PHONE_NUMBER)return i;var o=this.appleId,s=this.primaryEmail,l=this.appleIdAliases;for(o&&(i[o.toLowerCase()]=!0),s&&(i[s.toLowerCase()]=!0),t=0,n=l&&l.length||0;t<n;++t){var c=l[t];c&&(i[c.toLowerCase()]=!0)}return i}});uv.EMPTY_USER=uv.create({firstName:"No",lastName:"User"});var dv=Ge.a.extend(Ni.a,{user:X.b(ut.b(uv)),clientInfo:Y.c(),processAuthBag:function(e){if(e){var t=e.hasMinimumDeviceForPhotosWeb;void 0===t&&(t=!0),this.set("hasMinimumDeviceForPhotosWeb",t);var n=this.user;n.loadInfo(e.dsInfo),n.loadInfo(e.iCloudInfo),this.set("iCloudEnvironment",e.environment),this.set("isAppleInternal",!(!e.requestInfo||!e.requestInfo.isAppleInternal)),this.set("clientInfo",e.requestInfo),this.set("hsaTrustedBrowser",e.hsaTrustedBrowser),this.set("apps",e.apps),this.loadServicesInfo(e.webservices)}},apps:X.b(null),iCloudEnvironment:null,isAppleInternal:X.b(null),hsaTrustedBrowser:X.b(null),loadServicesInfo:function(e){var t,n,i;for(n in e||ze.b("User.loadServicesInfo: `webservices` must be supplied"),t={},e)(i=de.a(e[n])).name=n,t[n]=nv.create(i);this.set("servicesInfo",t)},getServiceInfoFor:function(e){e||Re.b.warn("User.getServiceInfoFor(): `serviceName` must be specified");var t=this.get("servicesInfo");return t?t[e]:null},getServiceUrlFor:function(e,t){var n,i=this.getServiceInfoFor(e),r=null;return i?(r=i.get("url")||null)||(n=zd.a("User.getServiceUrlFor(): Could not find the URL for \u201c%{name}\u201d",{name:e})):n=zd.a("User.getServiceUrlFor(): Could not find service information for \u201c%{name}\u201d",{name:e}),n&&(t?ze.b(n):Re.b.error(n)),r},servicesInfo:X.b(),hasMinimumDeviceForPhotosWeb:X.b(!1),staticMembers:{__QUALIFIED_CLASS_NAME__:"AuthBag"}}),hv=Ge.a.extend(Ni.a,{timeStamp:X.b((new Date).getTime()),storageUsageByMedia:X.b(),totalStorageInBytes:X.b(),commerceStorageInBytes:X.b(),usedStorageInBytes:X.b(),compStorageInBytes:X.b(),overQuota:X.b(),paidQuota:X.b(),staticMembers:{__QUALIFIED_CLASS_NAME__:"QuotaInfo"}}),fv=wc.region;fv.rulesVersion=5;var pv=X.a.extend({cloudOSEnvironmentKey:null,processCloudOSValue:function(e,t){return e},clearUserState:function(e){return e},staticMembers:{__QUALIFIED_CLASS_NAME__:"EnvironmentProperty"}}),mv=ne.b("AuthenticationState",{NOT_AUTHENTICATED:0,PARTIALLY_AUTHENTICATED_HSA:1,AUTHENTICATED:2,PARTIALLY_AUTHENTICATED_MANAGED_APPLE_ID:3}),gv=Ge.a.extend(Ni.a,{accountMenu:pv.create(),activeXFileVersion:pv.create(),authBag:pv.create({defaultValue:function(){return dv.create()},processCloudOSValue:function(e,t){return t.processAuthBag(e),t},clearUserState:function(){return dv.create()}}),clientId:pv.create(),sessionID:pv.create(),versions:pv.create(),currentlyActiveApplication:pv.create(),route:pv.create(),displayName:pv.create(),accountPreferences:pv.create(),appPreferences:pv.create(),appParameters:pv.create(),iCloudEnvironment:pv.create({cloudOSEnvironmentKey:"environment"}),hostname:pv.create(),isBeta:pv.create(),isDeveloper:pv.create(),isFuture:pv.create(),isCarry:pv.create(),isCarryUser:pv.create(),isCloudOS2:pv.create(),limitedExperienceMode:pv.create(),primaryInteractionMode:pv.create(),requestedStartupUrl:pv.create(),requestedStartupInfo:pv.create(),userAuthenticationState:pv.create(),userStatusCode:pv.create(),pushToken:pv.create(),defaultAssetHostname:pv.create(),useAdditionalTopLevelClassNamesProvidedByCloudOS:pv.create({defaultValue:!0}),sizeClass:pv.create(),visualViewport:pv.create(),isUserNotAuthenticated:X.b({readOnly:!0,dependencies:["userAuthenticationState"],get:Object.assign((function(){return this.userAuthenticationState===mv.NOT_AUTHENTICATED.value}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===mv.NOT_AUTHENTICATED.value}})}),isUserPartiallyAuthenticated:X.b({readOnly:!0,dependencies:["userAuthenticationState"],get:Object.assign((function(){return this.userAuthenticationState===mv.PARTIALLY_AUTHENTICATED_HSA.value}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===mv.PARTIALLY_AUTHENTICATED_HSA.value}})}),isUserAuthenticated:X.b({readOnly:!0,dependencies:["userAuthenticationState"],get:Object.assign((function(){return this.userAuthenticationState===mv.AUTHENTICATED.value}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===mv.AUTHENTICATED.value}})}),isLiteAccount:X.b({readOnly:!0,dependencies:["userStatusCode"],get:Object.assign((function(){return 4===this.userStatusCode}),{__CW__getter:function(e,t,n,i){return 4===i.internalGet(this,t[0+n])}})}),userIsAuthenticated:X.b({readOnly:!0,dependencies:["isUserAuthenticated"],get:Object.assign((function(){return this.get("isUserAuthenticated")}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])}})}),quotaData:pv.create({defaultValue:function(){return hv.create()},processCloudOSValue:function(e,t){return hv.create(e)},clearUserState:function(){return hv.create()}}),isUserOverQuota:X.b({readOnly:!0,dependencies:["quotaData"],get:Object.assign((function(){var e=this.quotaData;return e?e.get("overQuota"):null}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r?r.get("overQuota"):null}})}),_environmentProperties:null,initializeClass:function(){var e=this,t=arguments;e.__s._$1lX$initializeClass.apply(e,t);var n=this.getMetadataByType(pv),i=this._environmentProperties={};for(var r in n)if(n.hasOwnProperty(r)){var a=n[r];r=a.cloudOSEnvironmentKey||r,a.cloudOSEnvironmentKey=r,i[r]=a}},processCloudOSEnvironment:function(e){var t=this,n=Z.a.create();if(!e)return n.resolve();for(var i in e)e.hasOwnProperty(i)&&this._processCloudOSEnvironmentProperty(i,e[i]);return this._processRegionFormattingRules(e).then((function(){var i=e.additionalClassNamesForBody;i&&t._setupAdditionalClassNamesProvidedByCloudOS(i),n.resolve()})),n},_processRegionFormattingRules:function(e){var t=Z.a.create(),n=e.regionFormattingRules;if(n)if(e.regionFormattingRulesVersion===fv.rulesVersion)Re.b.info("RegionFormatter: registering CloudOS rules"),fv.registerRegionFormat(n),t.resolve();else{var i=n.locale,r=e.regionFormattingRulesBaseUrl,a=this._getRegionFormattingHostInfo(r);Re.b.info("RegionFormatter: version mismatch - loading new rules"),fv.loadFormattingRules(a,i).then((function(){Re.b.info("RegionFormatter: version mismatch - new rules loaded"),t.resolve()})).catch((function(e){ze.b("Could not load default formatting rules (en-US)",e)}))}else t.resolve();return t},_processCloudOSEnvironmentProperty:function(e,t){var n=this._environmentProperties[e];if(n&&n.processCloudOSValue){e=n.key;var i=this.get(e);yc(this,e,n.processCloudOSValue.call(this,t,i))}},_setupAdditionalClassNamesProvidedByCloudOS:function(e){if(this.useAdditionalTopLevelClassNamesProvidedByCloudOS&&e){var t=e.split(",");document.documentElement.classList.add(t)}},_getRegionFormattingHostInfo:function(e){var t=this.defaultAssetHostname;return e||(e="https://"+t+"/locales/"),Ac.create({urlString:e+fv.rulesVersion,requestProperties:{useCredentialsIfCrossOrigin:!1}})},clearUserState:function(){var e=this.getMetadataByType(pv);for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];this.set(t,n.clearUserState(this.get(t)))}},__superMap:{_$1lX$initializeClass:"initializeClass"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Environment"}}),vv=Qg.extend({init:function(e){this.__s._$2x$init.call(this,e),this._allRegistedReceivers=[],this._registeredReceivers={}},addTargetActionForOrigin:function(e,t,n){var i=this._registeredReceivers[n];i||(i=this._registeredReceivers[n]=[]);var r={target:e,action:t};i.push(r),this._allRegistedReceivers.push(r)},removeTargetActionForOrigin:function(e,t,n){var i=this._registeredReceivers[n];this._removeTargetActionFromArray(e,t,i),this._removeTargetActionFromArray(e,t,this._allRegistedReceivers)},getTargetActionsForOrigin:function(e){return"*"===e?this._allRegistedReceivers:this._registeredReceivers[e]||null},dispatchMessage:function(e){var t=e.origin,n=this.getTargetActionsForOrigin(t),i=n?n.length:0,r=!1;this.logTrace("dispatching message from origin "+t);for(var a=0;a<i;a++){var o=n[a],s=o.target,l=o.action;Ke.a(l)&&(l=s[l],xe.a(l)||ze.b("Cannot dispath message. No method '"+l+"' for target",{channel:this,action:l,message:e})),this.logTrace("dispatching message to target "+s),l.call(s,e),r=!0}r||this.logTrace("No target-action pair for message")},_removeTargetActionFromArray:function(e,t,n){for(var i=n.length,r=null,a=0;a<i;a++){var o=n[a];if(o.target===e&&o.action===t){r=o;break}}r&&Ls.a(r,n)},__superMap:{_$2x$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RPCBaseInputChannel"}}),_v=Ge.a.extend({data:null,origin:null,source:null,originalEvent:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"RPCMessageEvent"}}),bv=vv.extend({init:function(e){this.__s._$3v$init.call(this,e),this._receivedMessageHandler=yv.bind(this)},willOpen:function(){ee.a(this.window,"message",this._receivedMessageHandler),this.didOpen()},willClose:function(){Bi.a(this.window,"message",this._receivedMessageHandler),this.didClose()},__superMap:{_$3v$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RPCInputChannel"}});function yv(e){var t=e.data,n=e.origin,i=e.source;if(t&&n&&i){if(Ke.a(t))try{t=JSON.parse(t)}catch(a){return}var r=_v.create({data:t,origin:n,originalEvent:e});r.set("source",i),this.dispatchMessage.call(this,r)}}var Sv={"https://www.icloud.com":!0,"https://beta.icloud.com":!0,"https://future.icloud.com":!0,"https://carry.icloud.com":!0,"https://www.icloud.com.cn":!0},Iv=window,wv=xg.Activating.Init.createSubstate("WaitingForCloudOSRunMessage"),Ev=0,Cv=1,Av=2,Tv=3,Ov=4,Dv=Vg.extend(tv,{_rpcCallbacks:ut.b(Object),initiatedCloudKitJSLoading:!1,inputChannel:Y.c({readOnly:!0}),outputChannel:Y.c({readOnly:!0}),cloudOSMethodNames:null,cloudOSState:null,originForIO:null,environment:X.b(ut.b(gv)),init:function(e){var t=this,n=arguments;t.__s._$25O$init.apply(t,n),window.CloudOS=ev,window.CK=Zg,this._cosMessageHandlers={},this._cosPendingMessages=[];var i=this.application;this.setCloudMessageHandler("_applicationShouldInvokeMain",this,this._cosMessagePrepareApplicationForLoad),this.setCloudMessageHandler("_cloudOSStateChange",this,this._cosMessageCloudOSStateChange),this.setCloudMessageHandler("_clearUserState",this,this._cosMessageClearUserState),this.setCloudMessageHandler("didFetchStartup",this,this._cloudosDidFetchStartup),this.setCloudMessageHandler("applicationWillBecomeActive",i,i.willBecomeActive),this.setCloudMessageHandler("applicationDidBecomeActive",i,i.didBecomeActive),this.setCloudMessageHandler("applicationWillSuspend",i,i.willBecomeSuspended),this.setCloudMessageHandler("applicationDidSuspend",i,i.didBecomeSuspended),this.setCloudMessageHandler("applicationShouldRefresh",i,i.shouldRefresh),this.setCloudMessageHandler("receiveMeCard",i,i.receiveMeCard),this.setCloudMessageHandler("userDidRevalidate",i,i.userDidRevalidate),this.setCloudMessageHandler("quotaDataDidChange",i,i.quotaDataDidChange),this.setCloudMessageHandler("quotaDataFailedToLoad",i,i.quotaDataFailedToLoad),this.setCloudMessageHandler("accountPreferencesDidChange",i,i.accountPreferencesDidChange),this.setCloudMessageHandler("didReceiveNotification",i,i.didReceiveNotification),this.setCloudMessageHandler("willResolveCKShortGUID",i,i.willResolveCKShortGUID),this.setCloudMessageHandler("didResolveCKShortGUID",i,i.didResolveCKShortGUID),this.setCloudMessageHandler("didFailToResolveCKShortGUID",i,i.didFailToResolveCKShortGUID),this.setCloudMessageHandler("didResolveCKShortGUIDWithoutAcceptance",i,i.didResolveCKShortGUIDWithoutAcceptance),this.setCloudMessageHandler("ckShortGUIDDidChange",i,i.ckShortGUIDDidChange),this.setCloudMessageHandler("didFetchAppUrl",i,i.didFetchAppUrl),this.setCloudMessageHandler("miniSpringboardDismissed",i,i.miniSpringboardDismissed),this.setCloudMessageHandler("_sleep",i,i._sleep),this.setCloudMessageHandler("_wake",i,i._wake),this.setCloudMessageHandler("_hasReceivedFocus",i,i._hasReceivedFocus),this.setCloudMessageHandler("_mouseMove",i,i._mouseMove),this.setCloudMessageHandler("_mouseUp",i,i._mouseUp),this.setCloudMessageHandler("adjustLayout",i,i.adjustLayout)},loadInputChannelForWindow:function(e){var t=window["cosk.system.applicationDriver.loadInputChannelDelegate"];return t?(this.logTrace("using delegate to load input channel"),t(this,e)):bv.create({window:e})},loadOutputChannelForWindowWithOrigin:function(e,t){var n=window["cosk.system.applicationDriver.loadOutputChannelDelegate"];return n?(this.logTrace("using delegate to load output channel"),n(this,e,this.originForIO)):Yg.create({window:e,origin:this.originForIO})},setCloudMessageHandler:function(e,t,n){this._cosMessageHandlers[e]={target:t,action:n}},didStartInitialActivation:function(){var e=this,t=arguments;e.__s._$3AP$didStartInitialActivation.apply(e,t);var n,i=this._getInputChannelWindow();for(n in Sv){var r=Sv[n]=this.loadInputChannelForWindow(i);r.addTargetActionForOrigin(this,"_handleIncomingCloudOSMessage",n),r.open()}this.logTrace("waiting for initial CloudOS message"),this.setState(wv)},didStartFinalizingActivation:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=arguments;t.__s._$3Jy$didStartFinalizingActivation.apply(t,n);var i,r=this._cosMessageHandlers,a=this._cosPendingMessages;a.forEach((function(e){var t=e.methodName,n=e.args,i=r[t],a=i.target;i.action.apply(a,n)})),this._cosPendingMessages=[],e||(i={windowPerfStats:Nv()}),this._sendCloudOSMessage("applicationIsReady",i),this.didFinishFinalizingActivation()},isReadyToTerminateDidChange:function(e){this._sendCloudOSMessage("isReadyToTerminateDidChange",e)},sendCloudOSMessage:function(e){e||(e={}),e.isCloudOSMessage||(e.isCloudOSMessage=!0),e.appName||(e.appName=this.application.name);var t=ii.a();e.id=t;var n=this._rpcCallbacks,i=Z.a.create();n[t]=i,ft.a((function(e){var t=new Error("Timed out.");e.reject(t)}),15e3,i);var r=this.outputChannel;return r?r.sendMessage(e):Re.b.warn("Could not send message.",e),i},_handleIncomingCloudOSMessage:function(e){var t=e.data;if(!this.originForIO){var n;for(n in Sv)n!==e.origin?(Sv[n].close(),Sv[n]=!1):this._inputChannel=Sv[n];this.originForIO=e.origin}if(t.isCloudOSMessage){if(!this._outputChannel){var i=this.getIOChannelOrigin(),r=this._outputChannel=this.loadOutputChannelForWindowWithOrigin(e.source,i);this.logTrace("loaded output channel"),r.open()}var a=t.methodName,o=t.args;this.logTrace("Received CloudOS message "+a),this._dispatchCloudOSMessageForMethodName(a,o)}else Re.b.debug("ApplicationDriver._handleIncomingCloudOSMessage: Received message not from CloudOS, ignoring.")},_dispatchCloudOSMessageForMethodName:function(e,t){var n=this,i=t[0],r=this._rpcCallbacks,a=r[i];if(a){delete r[i],this._rpcCallbacks=r,t.shift();var o=t.shift();try{a.resolve(o)}catch(p){this.handleApplicationCrash({error:p.message||""+p},Re.b.stringifyRecordedLogMessages())}}else{var s=this._cosMessageHandlers[e];if(s){var l=s.target,c=s.action,u=!!l[c],d=Ke.a(c)?l[c]:c,h=function(e){n.handleApplicationCrash({error:e.message||""+e,action:c.toString(),isMethod:u},Re.b.stringifyRecordedLogMessages())};try{var f=d.apply(l,t);f&&f.catch&&f.catch(h)}catch(p){h(p)}}else Re.b.info(this+" No handler for CloudOS message "+e)}},_sendCloudOSMessage:function(e){this.logTrace("sending CloudOS message "+e);var t=ra.a(arguments,1),n=this._createMessageForCloudOS(e,t),i=this.outputChannel;i?i.sendMessage(n):Re.b.warn("Could not send message. "+n)},_sendCloudOSMessageWithPromise:function(e){this.logTrace("sending CloudOS message with promise "+e);var t=ra.a(arguments,1),n=this._createMessageForCloudOS(e,t);return this.sendCloudOSMessage(n)},_createMessageForCloudOS:function(e,t){return{isCloudOSMessage:!0,methodName:e,appName:this.application.name,args:t,buildNumber:window.__CW_BUILD_INFO.buildNumber,masteringNumber:window.__CW_BUILD_INFO.masteringNumber}},getIOChannelOrigin:function(){return window["cosk.system.applicationDriver.ioChannelOrigin"]||this.originForIO},_getInputChannelWindow:function(){return window["cosk.system.applicationDriver.inputChannelWindow"]||Iv},_cosMessagePrepareApplicationForLoad:function(e,t,n,i){var r=this;return this.fatalErrorIfNotInState(wv),this.cloudOSMethodNames=e,this.cloudOSState=t,this.environment.processCloudOSEnvironment(t).then((function(){window.addEventListener("unload",(function(){r.appWillUnload()})),r.didFinishInitialActivation()}))},_cosMessageCloudOSStateChange:function(e){var t=this.environment;this._checkIfAppPreferencesChanged(e),t.processCloudOSEnvironment(e)},_cosMessageClearUserState:function(){this.environment.clearUserState()},_cloudosDidFetchStartup:function(e,t,n){var i=this.state,r=this.application;if(i.fullValue>=xg.Activating.Finalize.fullValue){var a=r.didFetchStartup;a&&a.apply(r,[e,t,n])}else this._cosPendingMessages.push({methodName:"didFetchStartup",args:[e,t,n]})},_checkIfAppPreferencesChanged:function(e){var t,n=e.appPreferences,i=this.application;if(n)for(t in n)t===i.get("name")&&i.appPreferencesDidChange()},showAppSwitcher:function(e){e||(e=Mv),this._sendCloudOSMessage("showAppSwitcher",{top:e.get("top"),left:e.get("left"),width:e.get("width"),height:e.get("height")})},showSpringBoard:function(){this._sendCloudOSMessage("showSpringBoard")},showAccountSettings:function(){this._sendCloudOSMessage("showAccountSettings")},performLogout:function(){this._sendCloudOSMessage("performLogout"),this.get("application").willBecomeUnloaded()},reload:function(){this._sendCloudOSMessage("reload"),this.get("application").willBecomeUnloaded()},appWillUnload:function(){var e=Re.b.stringifyRecordedLogMessages();this._sendCloudOSMessage("appWillUnload",e)},recordStat:function(e,t){this._sendCloudOSMessage("recordStat",e,t)},recordPerfStat:function(e,t){this._sendCloudOSMessage("recordPerfStat",e,t)},requestSent:function(){this._sendCloudOSMessage("requestSent")},requestReceived:function(e,t,n,i){this._sendCloudOSMessage("requestReceived",e,t,n,i)},beginStat:function(e,t){this._sendCloudOSMessage("beginStat",e,t)},endStat:function(e,t){this._sendCloudOSMessage("endStat",e,t)},invokeMethodOnCloudOS:function(e){this._sendCloudOSMessage.apply(this,arguments)},handleApplicationCrash:function(e,t){var n=Xg.authBag,i=Xg.currentUser,r={};r.applicationName=Xg.cloudOSApplication.name,r.type="exception",r.buildNumber=__CW_BUILD_INFO.buildNumber,r.masteringNumber=__CW_BUILD_INFO.masteringNumber,r.locale=__CW_BUILD_INFO.locale,r.environment=n.get("iCloudEnvironment"),r.isFatal=!0,r.time=new Date+"        ("+Date.now()+")",r.host=window.location.host,r.userAgent=navigator.userAgent+"",i&&(r.dsid=i.dsid),Object.assign(r,e),this._sendCloudOSMessage("handleApplicationCrash",r,t)},exit:function(e,t){this.get("state")!==xg.Deactivating&&(this._sendCloudOSMessage("exit",e,t),this.get("application").willBecomeUnloaded())},showHelp:function(e){var t,n=Xg.currentUser.statusCode===uv.statusCodes.LITE,i=a.c().toLowerCase();t="ca-es"===i?"es-es/":"vi-vi"===i?"vi-vn/":"en-us"!==i?i+"/":"";var r=ce.a.sharedInstance.isChrome?705:675;e||(e="welcome");var o="http://support.apple.com/"+t+"guide/"+(n?"icloud-web-only":"icloud")+"/"+e+"/";this.recordStat("helpButtonClicked"),window.open(o,"help","height="+r+",width=875,location=0,status=0,scrollbars=0")},showAccountMenu:function(e){this._sendCloudOSMessage("showAccountMenu",e)},setAppBanner:function(e){var t=this.application;this._sendCloudOSMessage("setAppBanner",e,t.name)},openIWorkFile:function(e){var t=e.appName,n=this.environment.defaultAssetHostname;t=t.replace(/-tef$/,"");var i,r=e.sharingToken,a=e.zone,o=e.documentId,s=Xg.currentUser.dsid;return r?i=zd.a("//%{defaultAssetHostname}/%{appName}/%{sharingToken}",{defaultAssetHostname:n,appName:t,sharingToken:r}):o&&(i=zd.a("//%{defaultAssetHostname}/%{appName}/docws:%{dsid}:%{zone}:%{docId}",{defaultAssetHostname:n,appName:t,dsid:s,zone:a,docId:o})),window.open(i,"_blank")},getValidateToken:function(){return Eo.create().getCookie("X-APPLE-WEBAUTH-VALIDATE")},setStartupUrl:function(e){this._sendCloudOSMessage("setStartupUrl",e),this.environment.requestedStartupUrl=e},setStartupInfo:function(e){this._sendCloudOSMessage("setStartupInfo",e),this.environment.requestedStartupInfo=e},refreshQuotaData:function(){this._sendCloudOSMessage("refreshQuotaData")},fetchIcon:function(e,t,n,i){return n||(n=Io.a.sharedInstance.devicePixelRatio),this._sendCloudOSMessageWithPromise("fetchIcon",e,t,n,i)},getConformingTypes:function(e){return this._sendCloudOSMessageWithPromise("getConformingTypes",e)},fetchBlankFolderIcon:function(e,t,n){return n||(n="web"),this.fetchIcon("public.folder",e,t,n)},fetchBlankFileIcon:function(e,t,n){return n||(n="web"),this.fetchIcon("public.item",e,t,n)},requestMeCard:function(){this._sendCloudOSMessage("requestMeCard")},setRoute:function(e){this._sendCloudOSMessage("setRoute",e)},setTitle:function(e){this._sendCloudOSMessage("setTitle",e)},openIWorkDocument:function(e,t,n){var i={isCloudOSMessage:!0,methodName:"openFromSource",isWindowApplicationMessage:!0,args:{fileName:e,url:t,source:this.getPath("application.name")}},r="/iw/#open_from_source/"+n,a=Jg.openWindowApplication(r,"_blank");Jg.passWindowApplicationMessage(a,"openFromSource",i.args)},setAppPreferences:function(e){this._sendCloudOSMessage("setAppPreferences",e)},setAccountPreference:function(e,t){this._sendCloudOSMessage("setAccountPreference",e,t)},revalidateUser:function(){return this._sendCloudOSMessageWithPromise("revalidateUser")},didReceiveSpecialResponse:function(e,t,n){this._sendCloudOSMessage("didReceiveSpecialResponse",e,t,n)},sendLocalNotification:function(e,t,n,i){this._sendCloudOSMessage("sendLocalNotification",e,t,n,i)},loadCloudKitJS:function(e){var t=this.initiatedCloudKitJSLoading;if(!window.CloudKit&&!t){var n=e||Xg.environment.versions.cloudkitjs,i="cdn.apple-cloudkit.com";Xg.environment.isCarry&&(i="carry.icloud.com");var r="https://"+i+"/ck/"+n+"/cloudkit.js",a=document.createElement("script");a.setAttribute("src",r),document.head.appendChild(a),this.initiatedCloudKitJSLoading=!0}},isHostReachable:function(e){var t=hu.a.create(e);return t.pathname="/blank.png",Js.a.create({url:t}).send()},replaceCurrentApp:function(e){this._sendCloudOSMessage("replaceCurrentApp",e)},fetchAppUrl:function(e,t){this._sendCloudOSMessage("fetchAppUrl",e,t)},__superMap:{_$25O$init:"init",_$3AP$didStartInitialActivation:"didStartInitialActivation",_$3Jy$didStartFinalizingActivation:"didStartFinalizingActivation"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ApplicationDriver"}}),Mv={top:0,left:0,width:0,height:0,get:function(e){return this[e]}};function Nv(){var e={};if(window.performance&&window.performance.timing){var t=window.performance.timing,n=t.navigationStart,i=t.domainLookupStart,r=t.domainLookupEnd,a=t.connectStart,o=t.connectEnd,s=t.secureConnectionStart,l=t.fetchStart,c=t.requestStart,u=t.responseStart,d=t.responseEnd,h=t.loadEventStart,f=t.loadEventEnd,p=t.domLoading,m=t.domInteractive,g=t.domContentLoadedEventStart;e={redirectTime:l-n,appCacheTime:i-l,dnsLookupTime:r-i,tcpTime:o-a,tlsTime:s>0?o-s:0,fetchTime:d-l,requestTime:u-o,totalDocumentRequestTime:d-c,documentDownloadTime:d-u,processingTime:h-p,timeToFirstByteOfDocument:u-c,timeToLoadDOMContent:t.domContentLoadedEventEnd-g,timeBeforeUserCanInteract:m-p,totalPageLoadTime:f-n}}return e}Error.stackTraceLimit=1/0;var Fv=Ge.a.extend({init:function(){var e=this,t=arguments;e.__s._$64$init.apply(e,t)},error:null,handleException:function(){var e=this.get("_errorReportRequestBody");this.createModifiedErrorBodyBeforeSend&&(e=this.createModifiedErrorBodyBeforeSend(e)),Xg.get("cloudOSService").handleApplicationCrash(e,Re.b.stringifyRecordedLogMessages())},createModifiedErrorBodyBeforeSend:null,_errorReportRequestBody:Y.c({get:function(){var e=this.get("error"),t={};return t.error=e.message||""+e,t.errorContext=qe.a(e.context),t.stack=this._truncateStack(e.stack),t.line=this._getErrorLineNumber(e),t}}),_truncateStack:function(e){if(!e)return e;var t=(e=e.trim()).split("\n"),n=t.length;if(n<=501)return e;var i=n-400-100;return t.splice(400,i,"... "+i+" lines truncated ..."),t.join("\n")},_getErrorLineNumber:function(e){var t=e.lineNumber||e.line;if(!t)try{var n=e.stack.split("\n")[1].split(":");t=n[n.length-2]}catch(i){t="Unknown"}return t},__superMap:{_$64$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"FatalExceptionHandler"}}),Lv=yi.a.extend({bodyElement:window.document.body,action:function(){var e=Io.a.sharedInstance,t=e.osMajorVersion,n=e.osMinorVersion;if(e.isMac){if(t<10||n<14)return}else{if(!e.isiOS)return;if(t<12)return}this.bodyElement.setAttribute("apple-system-font-capable",!0)},staticMembers:{__QUALIFIED_CLASS_NAME__:"FontCapabilityInitializer"}});function Rv(e,t){var n;if(!(window&&window.parent&&window===window.parent||!window.parent.postMessage))try{n=e&&e.name?e.name:window.location.pathname.match(/applications\/(.*?)\/current/)[1];var i=globalThis.__CW_BUILD_INFO,r={appName:n,buildNumber:i.buildNumber,masteringNumber:i.masteringNumber,args:t,isCloudOSMessage:!0,methodName:"recordApplicationMessage"};window.parent.postMessage(JSON.stringify(r),"*")}catch(a){}}var xv=["icloud\\.developer\\.apple","icloud"],Pv="("+xv.join("|")+")\\.com.*\\/index\\.html",kv="("+xv.join("|")+")\\.com.*\\/main\\.js",Uv=new RegExp(Pv),jv=new RegExp(kv);function Bv(e){var t=e.detail,n=t.message,i=t.filename,r=t.lineno,a=t.colno,o=t.error;return{error:o&&o.message?o.message:n,url:i,lineNumber:r,columnNumber:a,stack:o?o.stack:"not available",wasLoggedAt:o?o.wasLoggedToCloudOSAt:"no error obj"}}var Vv=ne.b("SizeClass",{COMPACT:"COMPACT",REGULAR:"REGULAR"}),$v="("+["icloud\\.developer\\.apple","icloud"].join("|")+")\\.com.*\\/main\\.js",Wv=new RegExp($v);function zv(e){var t=(e.detail.nativeEvent.reason||{}).stack;if("string"!==typeof t)return{error:"unknown"};var n=t.split("\n"),i=n.length>1?n[0]:n[0].substring(0,80),r=(n[1]||n[0]).match(/at (http.*icloud\.com.*\/main\.js):([0-9]+):([0-9]+)/);return r?{error:i,url:r[1],lineNumber:r[2],columnNumber:r[3],stack:t}:{error:i,stack:t}}var Gv=Rg("CloudOS Application",(function(e){e("NotLoaded"),e("Loading",(function(e){e("Init"),e("Prepare"),e("Finalize")})),e("Loaded",(function(e){e("Prepared"),e("Activating"),e("Active"),e("Suspending"),e("Suspended")})),e("Unloading"),e("FatalError")})),Hv=Gv.NotLoaded,Kv=Gv.Loading,Qv=Gv.Loaded,qv=Gv.Unloading,Yv=Gv.FatalError,Xv=dt.a.extend(Eg,Cg,{name:X.b({readOnly:!0}),cloudOSState:X.b({readOnly:!0,get:function(){return this.getCurrentStateForStateEnumGroup(Gv)}}),driver:Y.c({readOnly:!0,get:function(){var e=this._driver;return e||(e=this._driver=this.loadDriver())||ze.b("Error loading cloud OS application driver."),e}}),cloudOSService:X.b({readOnly:!0,strong:!0,get:function(){var e=this._cloudOSService;return e||(e=this._cloudOSService=this.loadCloudOSService())||ze.b("Error loading cloud OS service"),e}}),isBeta:Y.c({readOnly:!0,get:function(){return"beta.icloud.com"===window.location.host}}),isCarry:Y.c({readOnly:!0,get:function(){return"carry.icloud.com"===window.location.host}}),isFuture:Y.c({readOnly:!0,get:function(){return"future.icloud.com"===window.location.host}}),errorFilter:function(e){var t=e.filename;if(!t||Uv.test(t)){var n=e.error.stack;if(n){var i=n.split("\n");t=i[1]||i[0]}}return jv.test(t)},fatalErrorHandler:function(e){var t=Bv(e);t.isFatal=!0,Rv(this,["OnFatalError",t]);var n=e.detail.error,i=hi.a();i.exceptionHandler(n),i.exceptionWasHandled=!0},nonFatalErrorHandler:function(e){var t=Bv(e);t.isFatal=!1,Rv(this,["OnNonFatalError",t])},unhandledRejectionFilter:function(e){var t=e.reason;if(t){var n,i=t.stack,r=t.sourceURL;if(r)n=r;else if(i){var a=i.split("\n");n=a[1]||a[0]}return Wv.test(n)}return!1},fatalUnhandledRejectionHandler:function(e){var t=zv(e);t.isFatal=!0,Rv(this,["OnFatalUnhandledRejection",t])},nonFatalUnhandledRejectionHandler:function(e){var t=zv(e);t.isFatal=!1,Rv(this,["OnNonFatalUnhandledRejection",t])},init:function(e){Sc(this.errorFilter,this.fatalErrorHandler.bind(this),this.nonFatalErrorHandler.bind(this)),Ic(this.unhandledRejectionFilter,this.fatalUnhandledRejectionHandler.bind(this),this.nonFatalUnhandledRejectionHandler.bind(this)),this.redirectToCloudOSIfNeeded(),e.name||ze.b("Cannot create application. Requires a name"),this.registerStateEnumGroup(Gv,Hv,Yv),this.__s._$19h$init.call(this,e),Re.b.outputMessagePrefix=this.get("capitalizedName")+":  ",Xg.set("cloudOSApplication",this),this.Initializers.push(Lv)},capitalizedName:X.b({dependencies:["name"],readOnly:!0,get:Object.assign((function(){var e=this.name;return e&&(e="i"!==e.charAt(0)?bc(e):"i"+bc(e.substring(1))),e}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r&&(r="i"!==r.charAt(0)?bc(r):"i"+bc(r.substring(1))),r}})}),loadDriver:function(){var e=window["cosk.application.loadDriverDelegate"];return e?(this.logTrace("using delegate to load driver"),e(this)):Dv.create({application:this})},loadCloudOSService:function(){var e=window["cosk.application.loadCloudOSServiceDelegate"];return e?(this.logTrace("using delegate to load CloudOS service"),e(this)):this.get("driver")},load:function(){this.transitionFromStateToState(Hv,Kv.Init),this.get("driver").activate()},prepareForLoad:function(){this.transitionFromStateToState(Kv.Init,Kv.Prepare)},didPrepareForLoad:function(){this.transitionFromStateToState(Kv.Prepare,Kv.Finalize),this.get("driver").applicationDidPrepareForLoad()},didBecomeLoaded:function(){this.transitionFromStateToState(Kv.Finalize,Qv.Prepared)},willBecomeActive:function(){this.fatalErrorIfNotInState(Qv.Prepared,Qv.Suspended),this.setState(Qv.Activating)},didBecomeActive:function(){this.transitionFromStateToState(Qv.Activating,Qv.Active)},willBecomeSuspended:function(){this.transitionFromStateToState(Qv.Active,Qv.Suspending)},didBecomeSuspended:function(){this.transitionFromStateToState(Qv.Suspending,Qv.Suspended)},willBecomeUnloaded:function(){this.setState(qv),this.get("driver").didStartDeactivation()},didBecomeUnloaded:function(){this.transitionFromStateToState(qv,Hv),this.get("driver").didFinishDeactivation()},didFetchStartup:function(e,t,n){},quotaDataDidChange:Vr.a,quotaDataFailedToLoad:Vr.a,receiveMeCard:Vr.a,didReceiveNotification:Vr.a,isReadyToTerminate:X.b(!0),setIsReadyToTerminateBlock:function(e){bt.a(e)||ze.b("You must call setIsReadyToTerminateBlock with an identifying token.",this);var t=this._suddenTerminationBlockTokenSet;t||(t=this._suddenTerminationBlockTokenSet=new Set),t.add(e),this.isReadyToTerminate=!1},removeIsReadyToTerminateBlock:function(e){bt.a(e)||ze.b("You must call removeIsReadyToTerminateBlock with an identifying token.",this);var t=this._suddenTerminationBlockTokenSet;t||(t=this._suddenTerminationBlockTokenSet=new Set),t.delete(e),0===t.size&&(this.isReadyToTerminate=!0)},_suddenTerminationBlockTokenSet:null,shouldRefresh:function(){},toString:function(){return"["+ct.a(this)+": "+this._name+"]"},fatalExceptionHandlerClass:Fv,handleException:function(e){var t=this,n=arguments;t.__s._$3EI$handleException.apply(t,n);var i=this.fatalExceptionHandlerClass.create({error:e});i.handleException()},_isReadyToTerminateDidChange:Ni.e("isReadyToTerminate",(function(e){this._isReadyToTerminate=e;var t=this.get("cloudOSService");t&&t.isReadyToTerminateDidChange(e)})),transitionFromStateToState:function(){var e=this,t=arguments;e.__s._$3P0$transitionFromStateToState.apply(e,t),this.propertyChanged("cloudOSState")},setState:function(){var e=this,t=arguments;e.__s._$3QY$setState.apply(e,t),this.propertyChanged("cloudOSState")},redirectToCloudOSIfNeeded:function(){var e=window.location.pathname;if(window===window.top&&"/"!==e){var t=e.match(/\/applications\/(.*?)\//);t&&t[1]&&(window.location="https://"+window.location.hostname+"/#"+t[1])}},appPreferencesDidChange:Vr.a,accountPreferencesDidChange:Vr.a,userDidRevalidate:Vr.a,didFetchAppUrl:Vr.a,willResolveCKShortGUID:Vr.a,didResolveCKShortGUID:Vr.a,didFailToResolveCKShortGUID:Vr.a,didResolveCKShortGUIDWithoutAcceptance:Vr.a,ckShortGUIDDidChange:Vr.a,miniSpringboardDismissed:Vr.a,adjustLayout:function(e){this._sizeClasses=e},_sizeClasses:X.b({type:"hash",set:function(e,t){return Ki.a(t,e)?t:e}}),sizeClassHorizontal:X.b({dependencies:["_sizeClasses"],strong:!0,type:Vv,readOnly:!0,get:Object.assign((function(){return Vv.getItemForValue(this._sizeClasses&&this._sizeClasses.horizontal)||Vv.REGULAR}),{__CW__getter:function(e,t,n,i){return Vv.getItemForValue(i.internalGet(this,t[0+n])&&i.internalGet(this,t[0+n]).horizontal)||Vv.REGULAR}})}),sizeClassVertical:X.b({dependencies:["_sizeClasses"],strong:!0,type:Vv,readOnly:!0,get:Object.assign((function(){return Vv.getItemForValue(this._sizeClasses&&this._sizeClasses.vertical)||Vv.REGULAR}),{__CW__getter:function(e,t,n,i){return Vv.getItemForValue(i.internalGet(this,t[0+n])&&i.internalGet(this,t[0+n]).vertical)||Vv.REGULAR}})}),_sleep:Vr.a,_wake:Vr.a,_hasReceivedFocus:Vr.a,_mouseMove:Vr.a,_mouseUp:Vr.a,__superMap:{_$19h$init:"init",_$3EI$handleException:"handleException",_$3P0$transitionFromStateToState:"transitionFromStateToState",_$3QY$setState:"setState"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Application"}}),Jv=Ge.a.extend({name:null,application:Y.c({readOnly:!0,get:function(){var e=this._application;return e||(e=this._application=this.loadApplication()),e}}),init:function(e){this.__s._$My$init.call(this,e),Xg.set("launcher",this)},loadApplication:function(){return null},launch:function(){},willLaunchApplication:function(){},didLaunchApplication:function(){},__superMap:{_$My$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseApplicationLauncher"}}),Zv=Jv.extend({launch:function(){var e=this.get("application");e?(this.willLaunchApplication(),e.load(),this.didLaunchApplication()):Re.b.error(this+" Missing application. Cannot launch app")},staticMembers:{__QUALIFIED_CLASS_NAME__:"ApplicationLauncher"}}),e_=(n(131),n(272)),t_=Ge.a.extend({origin:null,cloudOSHost:null,init:function(e){this.__s._$2u$init.call(this,e),this._registeredEventListeners=[],this._messageQueue=[],this._sendingMessage=!1},addEventListener:function(e,t){this._registeredEventListeners.push(t)},removeEventListener:function(e,t){var n=this._registeredEventListeners,i=n.indexOf(t);i>=0&&n.splice(i,1)},sendMessage:function(e,t){this._messageQueue.push({methodName:e,args:t||[]}),this._trySendingNextMesssage()},_trySendingNextMesssage:function(){if(!this._sendingMessage){var e=this._messageQueue;if(0!==e.length){var t=e.shift(),n=this;this._sendingMessage=!0,setTimeout((function(){t.isCloudOSMessage=!0;for(var e=n.origin,i=n.cloudOSHost,r=n._registeredEventListeners,a=0,o=r.length;a<o;a++){var s=r[a];s&&s.call(window,{data:t,source:i,origin:e})}n._sendingMessage=!1,n._trySendingNextMesssage()}))}}},__superMap:{_$2u$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ApplicationWindowProxy"}}),n_=n(742),i_=n(422),r_=n(736),a_=n(276),o_=Di.a.extend(Ui.a,a_.b,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"cw-checkbox",children:[{type:"ELEMENT",tagname:"input",name:"controlElement",attributes:{id:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"inputGUID",attributes:{},attribute:"id"},type:"checkbox"}},{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"label",attributes:{}}],name:"labelElement",attributes:{for:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"inputGUID",attributes:{},attribute:"for"}}}]}},className:"cw-ui-checkbox",__QUALIFIED_CLASS_NAME__:"Checkbox"},inputGUID:Object(X.b)({type:"string",defaultValue:function(){return Object(Zr.a)(this)+"Input"}}),isChecked:Object(X.b)({type:"boolean",defaultValue:!1,didChange:function(e){"boolean"===typeof e?(this.controlElement.checked=e,this.controlElement.indeterminate=!1):this.controlElement.indeterminate=!0}}),defaultFocusElement:Object(J.c)("controlElement"),label:Object(X.b)(""),init:function(){var e=this,t=arguments;e.__s._$21N$init.apply(e,t),Object(ee.a)(this.labelElement,"click",Object(r_.a)(this.handleLabelClickEvent,this))},dispose:function(){var e=this,t=arguments;Object(Bi.a)(this.labelElement,"click",Object(r_.a)(this.handleLabelClickEvent,this)),e.__s._$26l$dispose.apply(e,t)},change:function(e){this.isChecked=this.controlElement.checked},pointerDown:function(e){var t=Io.a.sharedInstance,n=t.isiOS,i=t.osMajorVersion;(!n||i>12)&&e.preventDefault()},handleLabelClickEvent:function(e){if(e.target===this.labelElement){e.preventDefault();var t=this.controlElement;t&&t.click()}},__superMap:{_$21N$init:"init",_$26l$dispose:"dispose"}}),s_=n_.a.extend({viewClass:i_.b.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",name:"alertIcon",classes:["alert-icon"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"message",attributes:{}}]},{type:"ELEMENT",tagname:"p",children:[{type:"VIEWOUTLET",tagname:"view",name:"hsaTrustedBrowserCheckbox"}]}],classes:["alert-text-container"]}],classes:["alert-main-content"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"primaryButtonView"},{type:"ELEMENT",tagname:"span",classes:["divider",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"alternateButtonView",truevalue:"",falsevalue:"cw-hidden",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",name:"alternateButtonView"}]},{type:"VIEWOUTLET",tagname:"view",name:"otherButtonView"}],name:"buttonContainer",classes:["alert-button-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"primaryButtonView",truevalue:"has-primary-btn",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"alternateButtonView",truevalue:"has-alternate-btn",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"otherButtonView",truevalue:"has-other-btn",attributes:{}}]}],name:"alertView",classes:["cw-alert"],attributes:{role:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"modalDialogRole",attributes:{},attribute:"role"},"aria-label":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"alertViewArialLabel",attributes:{},attribute:"aria-label"},tabindex:"-1"}}],name:"modalView",classes:["cw-alert-modal",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOpen",truevalue:"is-open",falsevalue:"is-closing",attributes:{}}]}}}),view:X.b({downstreamBindings:{hsaTrustedBrowserCheckbox:"(owner).hsaTrustedBrowserCheckbox"}}),showingLogoutAlert:X.b(),hsaTrustedBrowser:X.b(),iconNames:"icon-icloud",message:a.d("HSA.SignoutDialog.Title"),primaryButton:{title:a.d("HSA.SignoutDialog.SignoutButton"),action:"logout"},alternateButton:{title:a.d("Button.Cancel")},hsaTrustedBrowserCheckbox:X.b({defaultValue:ut.b(o_,{label:a.d("HSA.SignoutDialog.CheckboxTitle"),additionalClassNames:["cw-theme","cw-checkbox","hsa-trusted-browser"]}),downstreamBindings:{isChecked:"(owner).hsaTrustedBrowser"}}),logout:function(){return!1},modalDialogDidDismiss:function(){var e=this,t=arguments;e.__s._$dz$modalDialogDidDismiss.apply(e,t),this.showingLogoutAlert=!1,this.view.enableAllButtons()},__superMap:{_$dz$modalDialogDidDismiss:"modalDialogDidDismiss"},staticMembers:{__QUALIFIED_CLASS_NAME__:"LogoutAlertViewController"}}),l_=ne.b("EmbeddedCloudOSHost.State",["Inactive","LoggedOut","LoggingIn","LoggedIn","LoggingOut","Validating","FetchingPreferences"]),c_=[{action:"showAccountSettings",disableWhenCurrentApp:"settings",target:"CloudOS",title:"iCloud Settings"},{action:"performLogout",target:"CloudOS",title:"Sign Out"}],u_=Ge.a.extend(Ni.a,e_.a,{staticMembers:{State:l_,__QUALIFIED_CLASS_NAME__:"CloudOSHost"},state:Y.c({readOnly:!0,get:function(){return this._state}}),isActive:Y.c({readOnly:!0,get:function(){return this._state!==l_.Inactive}}),isLoggedOut:Y.c({readOnly:!0,get:function(){return this._state===l_.LoggedOut}}),isLoggingOut:Y.c({readOnly:!0,get:function(){return this._state===l_.LoggingOut}}),isLoggedIn:Y.c({readOnly:!0,get:function(){return this._state===l_.LoggedIn}}),isLoggingIn:Y.c({readOnly:!0,get:function(){return this._state===l_.LoggingIn}}),isFetchingPrefs:Y.c({readOnly:!0,get:function(){return this._state===l_.FetchingPreferences}}),defaultAssetHostname:Y.c({readOnly:!0,get:function(){var e=window.location.hostname;return"www"+e.substring(e.indexOf("."))}}),origin:Y.c({set:function(e){this._origin=e||null},get:function(){var e=this._origin;return e||(e=this._origin=this.loadDefaultOrigin()),e}}),accountMenuItems:Y.c({set:function(e){this._accountMenuItems=e||null},get:function(){var e=this._accountMenuItems;return e||(e=this._accountMenuItems=this.loadDefaultAccountMenuItems()),e}}),setupService:null,regionFormatProvider:null,init:function(e){this.__s._$13k$init.call(this,e),this._messageHandlers={},this._appWindowProxy=this.loadApplicationWindowProxy(),this._cloudOSWindowProxy=this.loadCloudOSWindowProxy(),this._state=l_.Inactive,this._userSession={},this.logoutAlertViewController.nextResponder=this,this.addMessageHandler("performLogout",this.performLogout.bind(this)),this.addMessageHandler("setAccountPreference",this.setAccountPreference.bind(this))},addMessageHandler:function(e,t){e&&t||d_("Invalid arguments. Cannot add message handler");var n=this._messageHandlers,i=n[e];i||(i=n[e]=[]),i.push(t)},activate:function(){this.isActive&&d_("Cannot activate. Invalid state");var e=this.origin,t=this._appWindowProxy,n=this._cloudOSWindowProxy;e||d_("Cannot activate. Host requires a valid origin"),t||d_("Cannot activate. Host requires an application window proxy object"),n||d_("Cannot activate. Host requires a CloudOS window proxy object"),this.regionFormatProvider||d_("Cannot activate. Host requires a region format provider"),n.target=this,n.action=this._handleIncomingCloudOSApplicationMessage,t.origin=e,t.cloudOSHost=n,window["cosk.system.applicationDriver.inputChannelWindow"]=t,this._state=l_.LoggedOut},loadApplicationWindowProxy:function(){return t_.create()},loadCloudOSWindowProxy:function(){return f_.create()},loadDefaultAccountMenuItems:function(){return c_},loadDefaultOrigin:function(){var e=location.host.match(/^(www|beta|carry|future)\.icloud\.com[.cn]*$/);return"https://"+(e?e[0]:this.defaultAssetHostname)},login:function(e,t){var n=this;this.isLoggedOut||d_("Cannot login. Invalid state"),e&&t||d_("Cannot login. Host requires a user name and password"),this._state=l_.LoggingIn;var i=this.setupService;return i||d_("Cannot login. Host requires a setup service"),i.login(e,t).then((function(e){return n._completeLogin(e),Z.a.resolve()})).catch((function(i){n._state=l_.LoggedOut;var r=h_("Failed to log in");return r.nextError=i,r.username=e,r.password=t,Z.a.reject(r)}))},_filterPreferences:function(e){for(var t=e.apps,n={accountPreferences:{},appPreferences:{}},i=function(){var e=t[r],i=e["app-id"],a=e["registry-version"];"account"===i?(e.keys.forEach((function(e){n.accountPreferences[e.name]=e.data})),n.accountPreferences.preferencesVersion=a):(n.appPreferences[i]={},e.keys.forEach((function(e){n.appPreferences[i][e.name]=e.data})),n.appPreferences[i].preferencesVersion=a)},r=0;r<t.length;r++)i();return n},_completeLogin:function(e,t){var n=this._userSession={authorizationBag:e};this._state=l_.LoggedIn;var i=this.regionFormatProvider.getFormattingRulesForLocale("en-us"),r={items:this.accountMenuItems},a=this._filterPreferences(t);this._accountPreferences=a.accountPreferences,this._appPreferences=a.appPreferences;var o={authBag:n.authorizationBag,regionFormattingRules:i,accountMenu:r,accountPreferences:a.accountPreferences,appPreferences:a.appPreferences};this._appWindowProxy.sendMessage("_applicationShouldInvokeMain",[null,o,null,null])},logout:function(){var e=this;this.isLoggedIn||this.isFetchingPrefs||d_("Cannot logout user. Invalid state"),this._state=l_.LoggingOut;var t={};Xg.currentUser.hsaEnabled&&(t.trustBrowser=this.hsaTrustedBrowser);var n=this.setupService;return n||d_("Cannot login. Host requires a setup service"),n.logout(t).then((function(){e._state=l_.LoggedOut,e._userSession={};var t=e.defaultAssetHostname,n=encodeURI(window.location.href);return window.location.href="https://"+t+"/#postLoginRedirectUrl="+n,Z.a.resolve()})).catch((function(t){e._state=l_.LoggedIn;var n=h_("Failed to log out");n.nextError=t;var i=self._userSession;return n.username=i.username,n.password=i.password,Z.a.reject(n)}))},validate:function(){var e=this;this._state=l_.Validating;var t=this.setupService;return t||d_("Cannot validate. Host requires a setup service"),t.validate().then((function(t){return e.fetchPreferences(t),Z.a.resolve()})).catch((function(t){e._state=l_.LoggedOut;var n=e.defaultAssetHostname,i=encodeURI(window.location.href),r=h_("Not logged in, redirecting to CloudOS to sign in...");return r.nextError=t,window.location.href="https://"+n+"/#postLoginRedirectUrl="+i,Z.a.reject(r)}))},fetchPreferences:function(e){var t=this;this._state=l_.FetchingPreferences;var n=this.keyValueService;return n||d_("Cannot fetch preferences. Host requires a Key Value Service"),n.getPreferences(e).then((function(n){return t._completeLogin(e,n),Z.a.resolve()})).catch((function(e){Re.b.warn("Unable to fetch preferences"),t.logout()}))},sendMessage:function(e,t){this.isLoggedIn||d_("Cannot send message to application. Invalid state"),this._appWindowProxy.sendMessage(e,t)},sendWillBecomeActiveMessage:function(){this.sendMessage("applicationWillBecomeActive")},sendDidBecomeActiveMessage:function(){this.sendMessage("applicationDidBecomeActive")},sendQuotaDidChangeMessage:function(){this.sendMessage("quotaDataDidChange")},sendQuotaFailedToLoadMessage:function(){this.sendMessage("quotaDataFailedToLoad")},sendQuotaDataMessage:function(e){var t=[{quotaData:e}];this.sendMessage("_cloudOSStateChange",t)},_handleIncomingCloudOSApplicationMessage:function(e,t){var n=e.methodName;switch(n){case"applicationIsReady":return this.sendWillBecomeActiveMessage(),void this.sendDidBecomeActiveMessage()}var i=this._messageHandlers[n];i?i.forEach((function(n){n.call(null,e,t)})):Re.b.warn("EmbeddedCloudOSHost: Unhandled application message '"+n+"'")},showingLogoutAlert:X.b(!1),hsaTrustedBrowser:X.b(Xg.bindingFor("authBag.hsaTrustedBrowser")),logoutAlertViewController:X.b({defaultValue:ut.b(s_),downstreamBindings:{showingLogoutAlert:"(owner).showingLogoutAlert",hsaTrustedBrowser:"(owner).hsaTrustedBrowser"},strong:!0}),performLogout:function(){this.isLoggedOut||this.isLoggingOut||this.showingLogoutAlert?Re.b.warn("Either the user is not logged in or logout process has already started. Ignoring new logout call."):(this.logoutAlertViewController.show(),this.showingLogoutAlert=!0)},setAccountPreference:function(e){var t=this,n=this.keyValueService;if(n||d_("Cannot set Account Preference. Host requires a setup service"),e.args){var i=e.args[0],r=e.args[1];return n.setAccountPreference(i,r).then((function(e){var n=t._filterPreferences(e).accountPreferences;t._accountPreferences.preferencesVersion=n.preferencesVersion,t.sendMessage("_cloudOSStateChange",[{accountPreferences:t._accountPreferences}]),Re.b.info("Successfully saved account preference")})).catch((function(e){var t=h_("Failed to set account preference");return t.nextError=e,Z.a.reject(t)}))}Re.b.info("No account preference to save")},__superMap:{_$13k$init:"init"}});function d_(e){ze.b("EmbeddedCloudOSHost: "+e)}function h_(e){return new Error("EmbeddedCloudOSHost: "+e)}var f_=Ge.a.extend({target:null,action:null,postMessage:function(e,t){var n=this.target;this.action.call(n,e,t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"CloudOSWindowProxy"}}),p_=Ge.a.extend({rules:Y.c({set:function(e){this._regionFormattingRules=e},get:function(){var e=this._regionFormattingRules;return e||(e=this._regionFormattingRules=this.loadRegionFormattingRules(),this.didLoadRegionFormattingRules(e)),e}}),loadRegionFormattingRules:function(){return{locale:"en-US",date:{ca:["gregory","buddhist","chinese","coptic","dangi","ethioaa","ethiopic","generic","hebrew","indian","islamic","islamic-rgsa","islamic-tbla","islamic-umalqura","islamicc","japanese","persian","roc"],hourNo0:!0,hour12:!0,formats:[{weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",pattern:"{weekday}, {month} {day}, {year}, {hour}:{minute}:{second}",pattern12:"{weekday}, {month} {day}, {year}, {hour}:{minute}:{second} {ampm}"},{weekday:"short",month:"short",day:"numeric",year:"numeric",pattern:"{weekday}, {month} {day}, {year}"},{month:"short",day:"numeric",year:"numeric",pattern:"{month} {day}, {year}"},{month:"numeric",day:"numeric",year:"numeric",pattern:"{month}/{day}/{year}"},{month:"numeric",year:"numeric",pattern:"{month}/{year}"},{month:"short",year:"numeric",pattern:"{month} {year}"},{month:"short",day:"numeric",pattern:"{month} {day}"},{month:"numeric",day:"numeric",pattern:"{month}/{day}"},{hour:"numeric",minute:"2-digit",second:"2-digit",pattern:"{hour}:{minute}:{second}",pattern12:"{hour}:{minute}:{second} {ampm}"},{hour:"numeric",minute:"2-digit",pattern:"{hour}:{minute}",pattern12:"{hour}:{minute} {ampm}"}],calendars:{buddhist:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},standaloneMonths:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["BE"],short:["BE"],long:["BE"]},dayPeriods:{am:"AM",pm:"PM"}},chinese:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Mo1","Mo2","Mo3","Mo4","Mo5","Mo6","Mo7","Mo8","Mo9","Mo10","Mo11","Mo12"],long:["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Mo1","Mo2","Mo3","Mo4","Mo5","Mo6","Mo7","Mo8","Mo9","Mo10","Mo11","Mo12"],long:["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriods:{am:"AM",pm:"PM"}},coptic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Tout","Baba","Hator","Kiahk","Toba","Amshir","Baramhat","Baramouda","Bashans","Paona","Epep","Mesra","Nasie"],long:["Tout","Baba","Hator","Kiahk","Toba","Amshir","Baramhat","Baramouda","Bashans","Paona","Epep","Mesra","Nasie"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Tout","Baba","Hator","Kiahk","Toba","Amshir","Baramhat","Baramouda","Bashans","Paona","Epep","Mesra","Nasie"],long:["Tout","Baba","Hator","Kiahk","Toba","Amshir","Baramhat","Baramouda","Bashans","Paona","Epep","Mesra","Nasie"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0","ERA1"],short:["ERA0","ERA1"],long:["ERA0","ERA1"]},dayPeriods:{am:"AM",pm:"PM"}},dangi:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Mo1","Mo2","Mo3","Mo4","Mo5","Mo6","Mo7","Mo8","Mo9","Mo10","Mo11","Mo12"],long:["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Mo1","Mo2","Mo3","Mo4","Mo5","Mo6","Mo7","Mo8","Mo9","Mo10","Mo11","Mo12"],long:["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriods:{am:"AM",pm:"PM"}},ethiopic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"],long:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"],long:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0","ERA1"],short:["ERA0","ERA1"],long:["ERA0","ERA1"]},dayPeriods:{am:"AM",pm:"PM"}},ethioaa:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"],long:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"],long:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0"],short:["ERA0"],long:["ERA0"]},dayPeriods:{am:"AM",pm:"PM"}},generic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],long:["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],long:["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0","ERA1"],short:["ERA0","ERA1"],long:["ERA0","ERA1"]},dayPeriods:{am:"AM",pm:"PM"}},gregory:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},standaloneMonths:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["B","A","BCE","CE"],short:["BC","AD","BCE","CE"],long:["Before Christ","Anno Domini","Before Common Era","Common Era"]},dayPeriods:{am:"AM",pm:"PM"}},hebrew:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13","7"],short:["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul","Adar II"],long:["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul","Adar II"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13","7"],short:["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul","Adar II"],long:["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul","Adar II"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AM"],short:["AM"],long:["AM"]},dayPeriods:{am:"AM",pm:"PM"}},indian:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Chaitra","Vaisakha","Jyaistha","Asadha","Sravana","Bhadra","Asvina","Kartika","Agrahayana","Pausa","Magha","Phalguna"],long:["Chaitra","Vaisakha","Jyaistha","Asadha","Sravana","Bhadra","Asvina","Kartika","Agrahayana","Pausa","Magha","Phalguna"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Chaitra","Vaisakha","Jyaistha","Asadha","Sravana","Bhadra","Asvina","Kartika","Agrahayana","Pausa","Magha","Phalguna"],long:["Chaitra","Vaisakha","Jyaistha","Asadha","Sravana","Bhadra","Asvina","Kartika","Agrahayana","Pausa","Magha","Phalguna"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["Saka"],short:["Saka"],long:["Saka"]},dayPeriods:{am:"AM",pm:"PM"}},islamic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AH"],short:["AH"],long:["AH"]},dayPeriods:{am:"AM",pm:"PM"}},islamicc:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AH"],short:["AH"],long:["AH"]},dayPeriods:{am:"AM",pm:"PM"}},"islamic-rgsa":{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AH"],short:["AH"],long:["AH"]},dayPeriods:{am:"AM",pm:"PM"}},"islamic-tbla":{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AH"],short:["AH"],long:["AH"]},dayPeriods:{am:"AM",pm:"PM"}},"islamic-umalqura":{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AH"],short:["AH"],long:["AH"]},dayPeriods:{am:"AM",pm:"PM"}},japanese:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},standaloneMonths:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["Taika (645-650)","Hakuchi (650-671)","Hakuh\u014d (672-686)","Shuch\u014d (686-701)","Taih\u014d (701-704)","Keiun (704-708)","Wad\u014d (708-715)","Reiki (715-717)","Y\u014dr\u014d (717-724)","Jinki (724-729)","Tempy\u014d (729-749)","Tempy\u014d-kamp\u014d (749-749)","Tempy\u014d-sh\u014dh\u014d (749-757)","Tempy\u014d-h\u014dji (757-765)","Temph\u014d-jingo (765-767)","Jingo-keiun (767-770)","H\u014dki (770-780)","Ten-\u014d (781-782)","Enryaku (782-806)","Daid\u014d (806-810)","K\u014dnin (810-824)","Tench\u014d (824-834)","J\u014dwa (834-848)","Kaj\u014d (848-851)","Ninju (851-854)","Saiko (854-857)","Tennan (857-859)","J\u014dgan (859-877)","Genkei (877-885)","Ninna (885-889)","Kampy\u014d (889-898)","Sh\u014dtai (898-901)","Engi (901-923)","Ench\u014d (923-931)","Sh\u014dhei (931-938)","Tengy\u014d (938-947)","Tenryaku (947-957)","Tentoku (957-961)","\u014cwa (961-964)","K\u014dh\u014d (964-968)","Anna (968-970)","Tenroku (970-973)","Ten-en (973-976)","J\u014dgen (976-978)","Tengen (978-983)","Eikan (983-985)","Kanna (985-987)","Ei-en (987-989)","Eiso (989-990)","Sh\u014dryaku (990-995)","Ch\u014dtoku (995-999)","Ch\u014dh\u014d (999-1004)","Kank\u014d (1004-1012)","Ch\u014dwa (1012-1017)","Kannin (1017-1021)","Jian (1021-1024)","Manju (1024-1028)","Ch\u014dgen (1028-1037)","Ch\u014dryaku (1037-1040)","Ch\u014dky\u016b (1040-1044)","Kantoku (1044-1046)","Eish\u014d (1046-1053)","Tengi (1053-1058)","K\u014dhei (1058-1065)","Jiryaku (1065-1069)","Enky\u016b (1069-1074)","Sh\u014dho (1074-1077)","Sh\u014dryaku (1077-1081)","Eiho (1081-1084)","\u014ctoku (1084-1087)","Kanji (1087-1094)","Kaho (1094-1096)","Eich\u014d (1096-1097)","Sh\u014dtoku (1097-1099)","K\u014dwa (1099-1104)","Ch\u014dji (1104-1106)","Kash\u014d (1106-1108)","Tennin (1108-1110)","Ten-ei (1110-1113)","Eiky\u016b (1113-1118)","Gen-ei (1118-1120)","Hoan (1120-1124)","Tenji (1124-1126)","Daiji (1126-1131)","Tensh\u014d (1131-1132)","Ch\u014dsh\u014d (1132-1135)","Hoen (1135-1141)","Eiji (1141-1142)","K\u014dji (1142-1144)","Teny\u014d (1144-1145)","Ky\u016ban (1145-1151)","Ninpei (1151-1154)","Ky\u016bju (1154-1156)","Hogen (1156-1159)","Heiji (1159-1160)","Eiryaku (1160-1161)","\u014cho (1161-1163)","Ch\u014dkan (1163-1165)","Eiman (1165-1166)","Nin-an (1166-1169)","Ka\u014d (1169-1171)","Sh\u014dan (1171-1175)","Angen (1175-1177)","Jish\u014d (1177-1181)","Y\u014dwa (1181-1182)","Juei (1182-1184)","Genryuku (1184-1185)","Bunji (1185-1190)","Kenky\u016b (1190-1199)","Sh\u014dji (1199-1201)","Kennin (1201-1204)","Genky\u016b (1204-1206)","Ken-ei (1206-1207)","Sh\u014dgen (1207-1211)","Kenryaku (1211-1213)","Kenp\u014d (1213-1219)","Sh\u014dky\u016b (1219-1222)","J\u014d\u014d (1222-1224)","Gennin (1224-1225)","Karoku (1225-1227)","Antei (1227-1229)","Kanki (1229-1232)","J\u014dei (1232-1233)","Tempuku (1233-1234)","Bunryaku (1234-1235)","Katei (1235-1238)","Ryakunin (1238-1239)","En-\u014d (1239-1240)","Ninji (1240-1243)","Kangen (1243-1247)","H\u014dji (1247-1249)","Kench\u014d (1249-1256)","K\u014dgen (1256-1257)","Sh\u014dka (1257-1259)","Sh\u014dgen (1259-1260)","Bun-\u014d (1260-1261)","K\u014dch\u014d (1261-1264)","Bun-ei (1264-1275)","Kenji (1275-1278)","K\u014dan (1278-1288)","Sh\u014d\u014d (1288-1293)","Einin (1293-1299)","Sh\u014dan (1299-1302)","Kengen (1302-1303)","Kagen (1303-1306)","Tokuji (1306-1308)","Enkei (1308-1311)","\u014cch\u014d (1311-1312)","Sh\u014dwa (1312-1317)","Bunp\u014d (1317-1319)","Gen\u014d (1319-1321)","Genky\u014d (1321-1324)","Sh\u014dch\u016b (1324-1326)","Kareki (1326-1329)","Gentoku (1329-1331)","Genk\u014d (1331-1334)","Kemmu (1334-1336)","Engen (1336-1340)","K\u014dkoku (1340-1346)","Sh\u014dhei (1346-1370)","Kentoku (1370-1372)","Bunch\u0169 (1372-1375)","Tenju (1375-1379)","K\u014dryaku (1379-1381)","K\u014dwa (1381-1384)","Gench\u0169 (1384-1392)","Meitoku (1384-1387)","Kakei (1387-1389)","K\u014d\u014d (1389-1390)","Meitoku (1390-1394)","\u014cei (1394-1428)","Sh\u014dch\u014d (1428-1429)","Eiky\u014d (1429-1441)","Kakitsu (1441-1444)","Bun-an (1444-1449)","H\u014dtoku (1449-1452)","Ky\u014dtoku (1452-1455)","K\u014dsh\u014d (1455-1457)","Ch\u014droku (1457-1460)","Kansh\u014d (1460-1466)","Bunsh\u014d (1466-1467)","\u014cnin (1467-1469)","Bunmei (1469-1487)","Ch\u014dky\u014d (1487-1489)","Entoku (1489-1492)","Mei\u014d (1492-1501)","Bunki (1501-1504)","Eish\u014d (1504-1521)","Taiei (1521-1528)","Ky\u014droku (1528-1532)","Tenmon (1532-1555)","K\u014dji (1555-1558)","Eiroku (1558-1570)","Genki (1570-1573)","Tensh\u014d (1573-1592)","Bunroku (1592-1596)","Keich\u014d (1596-1615)","Genwa (1615-1624)","Kan-ei (1624-1644)","Sh\u014dho (1644-1648)","Keian (1648-1652)","Sh\u014d\u014d (1652-1655)","Meiryaku (1655-1658)","Manji (1658-1661)","Kanbun (1661-1673)","Enp\u014d (1673-1681)","Tenwa (1681-1684)","J\u014dky\u014d (1684-1688)","Genroku (1688-1704)","H\u014dei (1704-1711)","Sh\u014dtoku (1711-1716)","Ky\u014dh\u014d (1716-1736)","Genbun (1736-1741)","Kanp\u014d (1741-1744)","Enky\u014d (1744-1748)","Kan-en (1748-1751)","H\u014dryaku (1751-1764)","Meiwa (1764-1772)","An-ei (1772-1781)","Tenmei (1781-1789)","Kansei (1789-1801)","Ky\u014dwa (1801-1804)","Bunka (1804-1818)","Bunsei (1818-1830)","Tenp\u014d (1830-1844)","K\u014dka (1844-1848)","Kaei (1848-1854)","Ansei (1854-1860)","Man-en (1860-1861)","Bunky\u016b (1861-1864)","Genji (1864-1865)","Kei\u014d (1865-1868)","M","T","S","H"],short:["Taika (645-650)","Hakuchi (650-671)","Hakuh\u014d (672-686)","Shuch\u014d (686-701)","Taih\u014d (701-704)","Keiun (704-708)","Wad\u014d (708-715)","Reiki (715-717)","Y\u014dr\u014d (717-724)","Jinki (724-729)","Tempy\u014d (729-749)","Tempy\u014d-kamp\u014d (749-749)","Tempy\u014d-sh\u014dh\u014d (749-757)","Tempy\u014d-h\u014dji (757-765)","Temph\u014d-jingo (765-767)","Jingo-keiun (767-770)","H\u014dki (770-780)","Ten-\u014d (781-782)","Enryaku (782-806)","Daid\u014d (806-810)","K\u014dnin (810-824)","Tench\u014d (824-834)","J\u014dwa (834-848)","Kaj\u014d (848-851)","Ninju (851-854)","Saiko (854-857)","Tennan (857-859)","J\u014dgan (859-877)","Genkei (877-885)","Ninna (885-889)","Kampy\u014d (889-898)","Sh\u014dtai (898-901)","Engi (901-923)","Ench\u014d (923-931)","Sh\u014dhei (931-938)","Tengy\u014d (938-947)","Tenryaku (947-957)","Tentoku (957-961)","\u014cwa (961-964)","K\u014dh\u014d (964-968)","Anna (968-970)","Tenroku (970-973)","Ten-en (973-976)","J\u014dgen (976-978)","Tengen (978-983)","Eikan (983-985)","Kanna (985-987)","Ei-en (987-989)","Eiso (989-990)","Sh\u014dryaku (990-995)","Ch\u014dtoku (995-999)","Ch\u014dh\u014d (999-1004)","Kank\u014d (1004-1012)","Ch\u014dwa (1012-1017)","Kannin (1017-1021)","Jian (1021-1024)","Manju (1024-1028)","Ch\u014dgen (1028-1037)","Ch\u014dryaku (1037-1040)","Ch\u014dky\u016b (1040-1044)","Kantoku (1044-1046)","Eish\u014d (1046-1053)","Tengi (1053-1058)","K\u014dhei (1058-1065)","Jiryaku (1065-1069)","Enky\u016b (1069-1074)","Sh\u014dho (1074-1077)","Sh\u014dryaku (1077-1081)","Eiho (1081-1084)","\u014ctoku (1084-1087)","Kanji (1087-1094)","Kaho (1094-1096)","Eich\u014d (1096-1097)","Sh\u014dtoku (1097-1099)","K\u014dwa (1099-1104)","Ch\u014dji (1104-1106)","Kash\u014d (1106-1108)","Tennin (1108-1110)","Ten-ei (1110-1113)","Eiky\u016b (1113-1118)","Gen-ei (1118-1120)","Hoan (1120-1124)","Tenji (1124-1126)","Daiji (1126-1131)","Tensh\u014d (1131-1132)","Ch\u014dsh\u014d (1132-1135)","Hoen (1135-1141)","Eiji (1141-1142)","K\u014dji (1142-1144)","Teny\u014d (1144-1145)","Ky\u016ban (1145-1151)","Ninpei (1151-1154)","Ky\u016bju (1154-1156)","Hogen (1156-1159)","Heiji (1159-1160)","Eiryaku (1160-1161)","\u014cho (1161-1163)","Ch\u014dkan (1163-1165)","Eiman (1165-1166)","Nin-an (1166-1169)","Ka\u014d (1169-1171)","Sh\u014dan (1171-1175)","Angen (1175-1177)","Jish\u014d (1177-1181)","Y\u014dwa (1181-1182)","Juei (1182-1184)","Genryuku (1184-1185)","Bunji (1185-1190)","Kenky\u016b (1190-1199)","Sh\u014dji (1199-1201)","Kennin (1201-1204)","Genky\u016b (1204-1206)","Ken-ei (1206-1207)","Sh\u014dgen (1207-1211)","Kenryaku (1211-1213)","Kenp\u014d (1213-1219)","Sh\u014dky\u016b (1219-1222)","J\u014d\u014d (1222-1224)","Gennin (1224-1225)","Karoku (1225-1227)","Antei (1227-1229)","Kanki (1229-1232)","J\u014dei (1232-1233)","Tempuku (1233-1234)","Bunryaku (1234-1235)","Katei (1235-1238)","Ryakunin (1238-1239)","En-\u014d (1239-1240)","Ninji (1240-1243)","Kangen (1243-1247)","H\u014dji (1247-1249)","Kench\u014d (1249-1256)","K\u014dgen (1256-1257)","Sh\u014dka (1257-1259)","Sh\u014dgen (1259-1260)","Bun-\u014d (1260-1261)","K\u014dch\u014d (1261-1264)","Bun-ei (1264-1275)","Kenji (1275-1278)","K\u014dan (1278-1288)","Sh\u014d\u014d (1288-1293)","Einin (1293-1299)","Sh\u014dan (1299-1302)","Kengen (1302-1303)","Kagen (1303-1306)","Tokuji (1306-1308)","Enkei (1308-1311)","\u014cch\u014d (1311-1312)","Sh\u014dwa (1312-1317)","Bunp\u014d (1317-1319)","Gen\u014d (1319-1321)","Genky\u014d (1321-1324)","Sh\u014dch\u016b (1324-1326)","Kareki (1326-1329)","Gentoku (1329-1331)","Genk\u014d (1331-1334)","Kemmu (1334-1336)","Engen (1336-1340)","K\u014dkoku (1340-1346)","Sh\u014dhei (1346-1370)","Kentoku (1370-1372)","Bunch\u016b (1372-1375)","Tenju (1375-1379)","K\u014dryaku (1379-1381)","K\u014dwa (1381-1384)","Gench\u016b (1384-1392)","Meitoku (1384-1387)","Kakei (1387-1389)","K\u014d\u014d (1389-1390)","Meitoku (1390-1394)","\u014cei (1394-1428)","Sh\u014dch\u014d (1428-1429)","Eiky\u014d (1429-1441)","Kakitsu (1441-1444)","Bun-an (1444-1449)","H\u014dtoku (1449-1452)","Ky\u014dtoku (1452-1455)","K\u014dsh\u014d (1455-1457)","Ch\u014droku (1457-1460)","Kansh\u014d (1460-1466)","Bunsh\u014d (1466-1467)","\u014cnin (1467-1469)","Bunmei (1469-1487)","Ch\u014dky\u014d (1487-1489)","Entoku (1489-1492)","Mei\u014d (1492-1501)","Bunki (1501-1504)","Eish\u014d (1504-1521)","Taiei (1521-1528)","Ky\u014droku (1528-1532)","Tenmon (1532-1555)","K\u014dji (1555-1558)","Eiroku (1558-1570)","Genki (1570-1573)","Tensh\u014d (1573-1592)","Bunroku (1592-1596)","Keich\u014d (1596-1615)","Genwa (1615-1624)","Kan-ei (1624-1644)","Sh\u014dho (1644-1648)","Keian (1648-1652)","Sh\u014d\u014d (1652-1655)","Meiryaku (1655-1658)","Manji (1658-1661)","Kanbun (1661-1673)","Enp\u014d (1673-1681)","Tenwa (1681-1684)","J\u014dky\u014d (1684-1688)","Genroku (1688-1704)","H\u014dei (1704-1711)","Sh\u014dtoku (1711-1716)","Ky\u014dh\u014d (1716-1736)","Genbun (1736-1741)","Kanp\u014d (1741-1744)","Enky\u014d (1744-1748)","Kan-en (1748-1751)","H\u014dryaku (1751-1764)","Meiwa (1764-1772)","An-ei (1772-1781)","Tenmei (1781-1789)","Kansei (1789-1801)","Ky\u014dwa (1801-1804)","Bunka (1804-1818)","Bunsei (1818-1830)","Tenp\u014d (1830-1844)","K\u014dka (1844-1848)","Kaei (1848-1854)","Ansei (1854-1860)","Man-en (1860-1861)","Bunky\u016b (1861-1864)","Genji (1864-1865)","Kei\u014d (1865-1868)","Meiji","Taish\u014d","Sh\u014dwa","Heisei"],long:["Taika (645-650)","Hakuchi (650-671)","Hakuh\u014d (672-686)","Shuch\u014d (686-701)","Taih\u014d (701-704)","Keiun (704-708)","Wad\u014d (708-715)","Reiki (715-717)","Y\u014dr\u014d (717-724)","Jinki (724-729)","Tempy\u014d (729-749)","Tempy\u014d-kamp\u014d (749-749)","Tempy\u014d-sh\u014dh\u014d (749-757)","Tempy\u014d-h\u014dji (757-765)","Temph\u014d-jingo (765-767)","Jingo-keiun (767-770)","H\u014dki (770-780)","Ten-\u014d (781-782)","Enryaku (782-806)","Daid\u014d (806-810)","K\u014dnin (810-824)","Tench\u014d (824-834)","J\u014dwa (834-848)","Kaj\u014d (848-851)","Ninju (851-854)","Saiko (854-857)","Tennan (857-859)","J\u014dgan (859-877)","Genkei (877-885)","Ninna (885-889)","Kampy\u014d (889-898)","Sh\u014dtai (898-901)","Engi (901-923)","Ench\u014d (923-931)","Sh\u014dhei (931-938)","Tengy\u014d (938-947)","Tenryaku (947-957)","Tentoku (957-961)","\u014cwa (961-964)","K\u014dh\u014d (964-968)","Anna (968-970)","Tenroku (970-973)","Ten-en (973-976)","J\u014dgen (976-978)","Tengen (978-983)","Eikan (983-985)","Kanna (985-987)","Ei-en (987-989)","Eiso (989-990)","Sh\u014dryaku (990-995)","Ch\u014dtoku (995-999)","Ch\u014dh\u014d (999-1004)","Kank\u014d (1004-1012)","Ch\u014dwa (1012-1017)","Kannin (1017-1021)","Jian (1021-1024)","Manju (1024-1028)","Ch\u014dgen (1028-1037)","Ch\u014dryaku (1037-1040)","Ch\u014dky\u016b (1040-1044)","Kantoku (1044-1046)","Eish\u014d (1046-1053)","Tengi (1053-1058)","K\u014dhei (1058-1065)","Jiryaku (1065-1069)","Enky\u016b (1069-1074)","Sh\u014dho (1074-1077)","Sh\u014dryaku (1077-1081)","Eiho (1081-1084)","\u014ctoku (1084-1087)","Kanji (1087-1094)","Kaho (1094-1096)","Eich\u014d (1096-1097)","Sh\u014dtoku (1097-1099)","K\u014dwa (1099-1104)","Ch\u014dji (1104-1106)","Kash\u014d (1106-1108)","Tennin (1108-1110)","Ten-ei (1110-1113)","Eiky\u016b (1113-1118)","Gen-ei (1118-1120)","Hoan (1120-1124)","Tenji (1124-1126)","Daiji (1126-1131)","Tensh\u014d (1131-1132)","Ch\u014dsh\u014d (1132-1135)","Hoen (1135-1141)","Eiji (1141-1142)","K\u014dji (1142-1144)","Teny\u014d (1144-1145)","Ky\u016ban (1145-1151)","Ninpei (1151-1154)","Ky\u016bju (1154-1156)","Hogen (1156-1159)","Heiji (1159-1160)","Eiryaku (1160-1161)","\u014cho (1161-1163)","Ch\u014dkan (1163-1165)","Eiman (1165-1166)","Nin-an (1166-1169)","Ka\u014d (1169-1171)","Sh\u014dan (1171-1175)","Angen (1175-1177)","Jish\u014d (1177-1181)","Y\u014dwa (1181-1182)","Juei (1182-1184)","Genryuku (1184-1185)","Bunji (1185-1190)","Kenky\u016b (1190-1199)","Sh\u014dji (1199-1201)","Kennin (1201-1204)","Genky\u016b (1204-1206)","Ken-ei (1206-1207)","Sh\u014dgen (1207-1211)","Kenryaku (1211-1213)","Kenp\u014d (1213-1219)","Sh\u014dky\u016b (1219-1222)","J\u014d\u014d (1222-1224)","Gennin (1224-1225)","Karoku (1225-1227)","Antei (1227-1229)","Kanki (1229-1232)","J\u014dei (1232-1233)","Tempuku (1233-1234)","Bunryaku (1234-1235)","Katei (1235-1238)","Ryakunin (1238-1239)","En-\u014d (1239-1240)","Ninji (1240-1243)","Kangen (1243-1247)","H\u014dji (1247-1249)","Kench\u014d (1249-1256)","K\u014dgen (1256-1257)","Sh\u014dka (1257-1259)","Sh\u014dgen (1259-1260)","Bun-\u014d (1260-1261)","K\u014dch\u014d (1261-1264)","Bun-ei (1264-1275)","Kenji (1275-1278)","K\u014dan (1278-1288)","Sh\u014d\u014d (1288-1293)","Einin (1293-1299)","Sh\u014dan (1299-1302)","Kengen (1302-1303)","Kagen (1303-1306)","Tokuji (1306-1308)","Enkei (1308-1311)","\u014cch\u014d (1311-1312)","Sh\u014dwa (1312-1317)","Bunp\u014d (1317-1319)","Gen\u014d (1319-1321)","Genky\u014d (1321-1324)","Sh\u014dch\u016b (1324-1326)","Kareki (1326-1329)","Gentoku (1329-1331)","Genk\u014d (1331-1334)","Kemmu (1334-1336)","Engen (1336-1340)","K\u014dkoku (1340-1346)","Sh\u014dhei (1346-1370)","Kentoku (1370-1372)","Bunch\u016b (1372-1375)","Tenju (1375-1379)","K\u014dryaku (1379-1381)","K\u014dwa (1381-1384)","Gench\u016b (1384-1392)","Meitoku (1384-1387)","Kakei (1387-1389)","K\u014d\u014d (1389-1390)","Meitoku (1390-1394)","\u014cei (1394-1428)","Sh\u014dch\u014d (1428-1429)","Eiky\u014d (1429-1441)","Kakitsu (1441-1444)","Bun-an (1444-1449)","H\u014dtoku (1449-1452)","Ky\u014dtoku (1452-1455)","K\u014dsh\u014d (1455-1457)","Ch\u014droku (1457-1460)","Kansh\u014d (1460-1466)","Bunsh\u014d (1466-1467)","\u014cnin (1467-1469)","Bunmei (1469-1487)","Ch\u014dky\u014d (1487-1489)","Entoku (1489-1492)","Mei\u014d (1492-1501)","Bunki (1501-1504)","Eish\u014d (1504-1521)","Taiei (1521-1528)","Ky\u014droku (1528-1532)","Tenmon (1532-1555)","K\u014dji (1555-1558)","Eiroku (1558-1570)","Genki (1570-1573)","Tensh\u014d (1573-1592)","Bunroku (1592-1596)","Keich\u014d (1596-1615)","Genwa (1615-1624)","Kan-ei (1624-1644)","Sh\u014dho (1644-1648)","Keian (1648-1652)","Sh\u014d\u014d (1652-1655)","Meiryaku (1655-1658)","Manji (1658-1661)","Kanbun (1661-1673)","Enp\u014d (1673-1681)","Tenwa (1681-1684)","J\u014dky\u014d (1684-1688)","Genroku (1688-1704)","H\u014dei (1704-1711)","Sh\u014dtoku (1711-1716)","Ky\u014dh\u014d (1716-1736)","Genbun (1736-1741)","Kanp\u014d (1741-1744)","Enky\u014d (1744-1748)","Kan-en (1748-1751)","H\u014dryaku (1751-1764)","Meiwa (1764-1772)","An-ei (1772-1781)","Tenmei (1781-1789)","Kansei (1789-1801)","Ky\u014dwa (1801-1804)","Bunka (1804-1818)","Bunsei (1818-1830)","Tenp\u014d (1830-1844)","K\u014dka (1844-1848)","Kaei (1848-1854)","Ansei (1854-1860)","Man-en (1860-1861)","Bunky\u016b (1861-1864)","Genji (1864-1865)","Kei\u014d (1865-1868)","Meiji","Taish\u014d","Sh\u014dwa","Heisei"]},dayPeriods:{am:"AM",pm:"PM"}},persian:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"],long:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"],long:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AP"],short:["AP"],long:["AP"]},dayPeriods:{am:"AM",pm:"PM"}},roc:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},standaloneMonths:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["Before R.O.C.","Minguo"],short:["Before R.O.C.","Minguo"],long:["Before R.O.C.","Minguo"]},dayPeriods:{am:"AM",pm:"PM"}}},defaultTimeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultDateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"}},number:{nu:["latn"],patterns:{decimal:{positivePattern:"{number}",negativePattern:"-{number}"},currency:{positivePattern:"{currency}{number}",negativePattern:"-{currency}{number}"},percent:{positivePattern:"{number}%",negativePattern:"-{number}%"}},symbols:{latn:{decimal:".",group:",",nan:"NaN",percent:"%",infinity:"\u221e",exponent:"E"}},currencies:{AUD:"A$",BRL:"R$",CAD:"CA$",CNY:"CN\xa5",EUR:"\u20ac",GBP:"\xa3",HKD:"HK$",ILS:"\u20aa",INR:"\u20b9",JPY:"\xa5",KRW:"\u20a9",MXN:"MX$",NZD:"NZ$",THB:"\u0e3f",TWD:"NT$",USD:"$",VND:"\u20ab",XAF:"FCFA",XCD:"EC$",XOF:"CFA",XPF:"CFPF"},currencyCode:"USD"}}},didLoadRegionFormattingRules:function(e){},getFormattingRulesForLocale:function(e){return this.rules},staticMembers:{__QUALIFIED_CLASS_NAME__:"MockRegionFormatProvider"}}),m_={_generateURLForPath:function(e,t){var n=this.clientBuildNumber,i=this.clientMasteringNumber,r="";return n&&(r="?clientBuildNumber="+n,i&&(r+="&clientMasteringNumber="+i)),e+t+r}},g_=Ge.a.extend(m_,{clientBuildNumber:null,clientMasteringNumber:null,login:function(e,t){var n={apple_id:e,password:t,extended_login:!1},i=Js.a.create({url:this._generateURLForPath("/setup/ws/1/login"),method:"POST",body:n,useCredentialsIfCrossOrigin:!0});return i.setHeader("Content-Type","text/plain"),i.send().then((function(){return{authorizationBag:i.response.body,sessionInfo:{}}})).catch((function(e){var t=v_("Failed login request",e);return t.request=i,t.status=i.response.status,Z.a.reject(t)}))},logout:function(e){var t=this._request=Js.a.create({url:this._generateURLForPath("/setup/ws/1/logout"),method:"POST",body:e,useCredentialsIfCrossOrigin:!0});return t.setHeader("Content-Type","text/plain"),t.send().catch((function(e){var n=v_("Failed logout request",e);return n.request=t,n.status=t.response.status,Z.a.reject(n)}))},validate:function(){var e=Js.a.create({url:this._generateURLForPath("/setup/ws/1/validate"),method:"POST",body:{},useCredentialsIfCrossOrigin:!0,shouldReportSuccess:!0,shouldReportFailure:!0});return e.send().then((function(){return e.response.body})).catch((function(t){var n=v_("Faild validate request",t);return n.request=e,n.status=e.response.status,Z.a.reject(n)}))},_generateURLForPath:function(e){return this.__s._$lW$_generateURLForPath.call(this,"https://setup.icloud.com",e)},__superMap:{_$lW$_generateURLForPath:"_generateURLForPath"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RuntimeSetupService"}});function v_(e,t){var n=new Error("RuntimeSetupService: "+e);return n.nextError=t,n}var __=Ge.a.extend(m_,{clientBuildNumber:null,clientMasteringNumber:null,getPreferences:function(e){var t=this,n=e.appsOrder;n.unshift("account");var i=Js.a.create({url:this._generateURLForPath("/json/sync",e),method:"POST",body:this._generateBodyForPrefs(n),useCredentialsIfCrossOrigin:!0});return i.setHeader("Content-Type","text/plain"),i.send().then((function(){return i.response.body})).catch((function(e){var n=t.createError("Failed key value service request",e);return n.request=i,n.status=i.response.status,Z.a.reject(n)}))},setAccountPreference:function(e,t){var n,i=this,r=Xg.environment.accountPreferences,a=r.preferencesVersion,o={};return o[e]=t,r[e]=t,(n=Js.a.create({url:this._generateURLForPath("/json/sync"),method:"POST",body:this._generateBodyForPrefs(["account"],o,a),useCredentialsIfCrossOrigin:!0})).setHeader("Content-Type","text/plain"),n.send().then((function(){return n.response.body})).catch((function(e){var t=i.createError("Failed key value service request",e);return t.request=n,t.status=n.response.status,Z.a.reject(t)}))},createError:function(e,t){var n=new Error("KeyValueService: "+e);return n.nextError=t,n},_generateURLForPath:function(e,t){var n;if(n=t?t.webservices.keyvalue.url:Xg.environment.authBag.servicesInfo.keyvalue.url)return this.__s._$iT$_generateURLForPath.call(this,n,e)},_generateBodyForPrefs:function(e,t,n){return{"service-id":"appleprefs",apps:e.map((function(e){var i,r={"app-id":e,"registry-version":n||""};if(t)for(i in r.keys=[],t)r.keys.push({name:i,data:t[i]});return r}))}},__superMap:{_$iT$_generateURLForPath:"_generateURLForPath"},staticMembers:{__QUALIFIED_CLASS_NAME__:"KeyValueService"}}),b_=Jv.extend({launch:function(){var e=g_.create(),t=p_.create(),n=__.create(),i=u_.create({setupService:e,regionFormatProvider:t,keyValueService:n});i.activate();var r=this.get("application");r?(this.willLaunchApplication(),r.load(),this.didLaunchApplication(),i.validate().catch((function(e){Re.b.error("Failed to launch application. Embedded CloudOS host failed to log in.",e)}))):Re.b.error(this+" Missing application. Cannot launch app")},staticMembers:{__QUALIFIED_CLASS_NAME__:"WindowApplicationLauncher"}}),y_=Ge.a.extend({init:function(){var e=this,t=arguments;this._attachments=[],e.__s._$4m$init.apply(e,t)},_windowInstanceId:null,openWindow:function(){Xg.get("currentUser").isServiceActive("mail")?this._windowInstanceId=Jg.openWindowApplication(this.get("_mailComposeURL"),"","width=810,height=677,status=no,toolbar=no"):ze.b("Trying to compose email for user without active mail service")},closeWindow:function(){var e,t;this._windowInstanceId&&(e=Jg.windowApplications[this._windowInstanceId])&&(t=e.window)&&t.close()},_mailComposeURL:Y.c({readOnly:!0,get:function(){var e=a.c();a.a.sharedInstance.isRTL&&(e=this.getPath("COSK.globals.environment.accountPreferences.secondaryLocale")||"en-us");return"https://"+window.location.hostname+"/message/current/"+e+"/index.html#compose?willPM=true"}}),to:Y.c(""),cc:Y.c(""),bcc:Y.c(""),subject:Y.c(""),body:Y.c(""),addAttachment:function(e,t,n,i){this.get("_attachments").push({fileName:e,type:t,size:n,url:i})},_attachments:null,addAttachments:function(e){this._attachments=this._attachments.concat(e)},populateFields:function(){this.get("hasValidAttachments")||ze.b("You must supply property `type` (mime-type) for every attachment.");var e={to:this.get("to"),subject:this.get("subject"),body:this.get("body"),cc:this.get("cc"),bcc:this.get("bcc"),attachments:this._attachments,appName:Xg.cloudOSApplication.capitalizedName};Jg.passWindowApplicationMessage(this._windowInstanceId,"populateFields",e)},hasValidAttachments:Y.c({readOnly:!0,get:function(){var e=this._attachments;if(e)for(var t=0,n=e.length;t<n;t++)if(!e[t].type)return!1;return!0}}),__superMap:{_$4m$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ComposeEmailController"}}),S_={getJSONAuthorizationBagForCredentials:function(e,t){}},I_={getPreferences:function(){},setPreferences:function(e,t){}},w_=Ge.a.extend({authBag:Y.c({set:function(e){this._authBag=e},get:function(){var e=this._authBag;return e||(e=this._authBag=this.loadAuthorizationBag(),this.didLoadAuthorizationBag(e)),e}}),loadAuthorizationBag:function(){return{isExtendedLogin:!1,webservices:{},dsInfo:{firstName:"",lastName:"",fullName:"",primaryEmail:"",appleId:"",dsid:"1",aDsID:"",primaryEmailVerified:!0,iCloudAppleIdAlias:"",appleIdAlias:"",locale:"en-us_US",hasICloudQualifyingDevice:!0,isPaidDeveloper:!1,"gilligan-invited":"true","gilligan-enabled":"true",statusCode:2,brMigrated:!1,languageCode:"en-us",locked:!1,appleIdAliases:[]},environment:"ICLOUD3",appsOrder:[],pcsServiceIdentitiesIncluded:!0,apps:{},requestInfo:{region:"CA",isAppleInternal:!0,timeZone:"PST",country:"US"},pcsEnabled:!0,version:1}},didLoadAuthorizationBag:function(e){},getJSONAuthorizationBagForCredentials:function(e,t){return this.authBag},staticMembers:{__QUALIFIED_CLASS_NAME__:"MockAuthorizationBagProvider"}}),E_=Ge.a.extend({authorizationBagProvider:Y.c({set:function(e){this._authBagProvider=e},get:function(){var e=this._authBagProvider;return e||(e=this._authBagProvider=this.loadAuthorizationBagProvider()),e}}),loadAuthorizationBagProvider:function(){return BR.CloudOS.MockAuthorizationBagProvider.create()},login:function(e,t){var n=this.authorizationBagProvider.getJSONAuthorizationBagForCredentials(e,t),i=Z.a.create();return setTimeout((function(){i.resolve({authorizationBag:n,session:{}})})),i},logout:function(e){var t=Z.a.create();return setTimeout((function(){t.resolve()})),t},staticMembers:{__QUALIFIED_CLASS_NAME__:"MockSetupService"}}),C_={getFormattingRulesForLocale:function(e){}},A_={login:function(e,t){},logout:function(e){},validate:function(e){}},T_={staticMembers:{parse:function(e){var t=this,n=arguments,i=t.__s._$87$parse.apply(t,n);return i.hostname=i.shardedHostname,delete i.shardedHostname,i},init:function(){var e=this,t=arguments,n=de.a(this.components),i=n.indexOf("hostname");i>=0&&(n[i]="shardedHostname"),this.components=n,e.__s._$Je$init.apply(e,t)},generateShardedHostname:function(e,t){return e.replace(/\-/,"-"+t+"-")},__superMap:{_$87$parse:"parse",_$Je$init:"init"}},shardedHostname:X.b({dependencies:["hostname","shardNumber"],readOnly:!0,get:Object.assign((function(){var e=this.hostname,t=this.shardNumber;return e&&t?this.constructor.generateShardedHostname(e,t):e}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[1+n]);return r&&a?this.constructor.generateShardedHostname(r,a):r}})}),shardNumber:X.b()},O_=hu.a.extend(T_,{staticMembers:{generateShardedHostname:function(e,t){return e.replace(/cvws/,"cvws-00"+t)},__QUALIFIED_CLASS_NAME__:"ContentVendorURL"}}),D_=hu.a.extend(T_,{isCOSKUrl:!0,serviceName:Y.c({defaultValue:function(){var e=Xg.get("cloudOSApplication"),t=e.get("primaryServiceName");return t||(t=e.name),this.configureServiceURL(t),t},set:function(e){return this.configureServiceURL(e),e}}),clientIdQueryParamKey:X.b("clientId"),includeDSID:Y.c({defaultValue:!0}),init:function(e){var t=this,n=arguments;t.__s._$W_$init.apply(t,n),this.setCOSQueryParameters(),this.configureServiceURL()},setCOSQueryParameters:function(){var e=globalThis.__CW_BUILD_INFO;this.setQueryParameter("clientBuildNumber",e.buildNumber),this.setQueryParameter("clientMasteringNumber",e.masteringNumber),this.setQueryParameter(this.get("clientIdQueryParamKey"),Xg.getPath("environment.clientId")),this.includeDSID&&this.setQueryParameter("dsid",Xg.getPath("currentUser.dsid"))},configureServiceURL:function(e){var t=e||this.serviceName;if(t){var n=Xg.getPath("authBag.servicesInfo");if(!n)return Re.b.warn("COSK.Network.URL: Missing servicesInfo from COSK.globals.authBag.servicesInfo");var i=Xg.getPath("cloudOSApplication.name"),r=n[t];if(r){var a=r.url;if(a&&Ke.a(a)){var o=hu.a.create(a);this.protocol=o.protocol,this.hostname=o.hostname,this.port=o.port}}else if(t!==i)return Re.b.warn("COSK.Network.URL: Invalid URL for service: "+t)}},__superMap:{_$W_$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"URL"}}),M_={shouldReportSuccess:Y.c(!1),shouldReportFailure:Y.c(!0),shouldReportRequest:Y.c(!0),reportingPathname:Y.c({defaultValue:"REDACTED"}),reportingMethod:null,_timeSent:null,send:function(){var e=this,t=arguments;this._timeSent=window.performance.now();var n=e.__s._$ST$send.apply(e,t);return Xg.get("cloudOSService").requestSent(),n},didComplete:function(){this.sendReport()},sendReport:function(e){var t=this.get("response");if(t){var n=this.get("url"),i=t.get("encodedBody"),r=this.get("method"),a=this.get("reportingMethod"),o=null,s=t.get("status").toString()[0],l=this.get("shouldReportSuccess"),c="5"===s||"0"===s;(this.get("shouldReportFailure")&&("4"===s||c)||l&&"2"===s)&&(o={httpMethod:a?a+" VIA "+r:r,statusCode:t.get("status"),hostname:n.get("hostname"),serviceName:n.serviceName,clientTiming:window.performance.now()-this._timeSent,uncompressedResponseSize:i?i.length:null,timedOut:this.get("state")===gu.b.TIMEDOUT,urlPath:this.get("reportingPathname")||n.get("pathname")},Object.assign(o,e)),this.get("shouldReportRequest")&&Xg.get("cloudOSService").requestReceived(o,t.get("status"),n.get("href"),c?i:void 0)}},__superMap:{_$ST$send:"send"}},N_={mixinDependencies:[M_],staticMembers:{requestLoggingLevel:Re.a.LOG_LEVEL_DEBUG},shouldReportFailure:Y.c({get:function(e){return"boolean"===typeof e?e:421!==this.getPath("response.status")}}),URLClass:D_,specialResponseStatuses:[401,421,423,503],finalize:function(){var e=this,t=arguments;e.__s._$Sb$finalize.apply(e,t);var n=this.get("response");if(n){var i=n.get("status"),r=-1!==this.specialResponseStatuses.indexOf(i);r&&this._specialResponseWasReceived()}},_specialResponseWasReceived:function(){var e=this.get("response"),t=e.get("status"),n=e.get("body"),i=JSON.stringify(n),r=n?n.retryAfter:null,a={serviceName:this.url.serviceName,timeTaken:Date.now()-this.sentAt,retryAfter:r};Xg.get("cloudOSService").didReceiveSpecialResponse(t,i,a)},url:X.b({defaultValue:function(){return this.URLClass.create()}}),__superMap:{_$Sb$finalize:"finalize"}},F_=Js.a.extend(N_,{useCredentialsIfCrossOrigin:!0,willSend:function(){this.url.isCOSKUrl&&this.url.setCOSQueryParameters()},copyKeys:ut.b(Array),copy:function(){for(var e=this.copyKeys,t=this.constructor.create(),n=0,i=e.length;n<i;n++){var r=e[n];t[r]=this[r]}return t._statusEventListeners?Re.b.warn("New request has event handlers, old handlers not copied."):t._statusEventListeners=this._statusEventListeners,t},staticMembers:{__QUALIFIED_CLASS_NAME__:"Request"}}),L_=Fm.extend(N_,{staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadRequest"}}),R_=(n(233),n(704)),x_=n(737),P_=Ge.a.extend(Ni.a,{target:Object(X.b)(),targetLayout:Object(X.b)(),targetIsHidden:Object(X.b)(!1),recomputeLayoutIfNecessary:Vr.a,shouldMeasure:Object(X.b)(),staticMembers:{__QUALIFIED_CLASS_NAME__:"LayoutMeasurer"}}).extend({dispose:function(){var e=this,t=arguments;e.__s._$AY$dispose.apply(e,t),cancelAnimationFrame(this._scheduledMeasurement)},targetLayout:Object(ut.b)(x_.a),targetIsHidden:Object(X.b)({dependencies:["target.isAttached","_targetMeasurementFailed"],readOnly:!0,get:Object.assign((function(){return!this.getPath("target.isAttached")||this._targetMeasurementFailed}),{__CW__getter:function(e,t,n,i){return!i.internalGetPath(this,t[0+n])||i.internalGet(this,t[1+n])}})}),_targetMeasurementFailed:Object(X.b)(!1),recomputeLayoutIfNecessary:Object(Ni.f)({inputs:["shouldMeasure"],callback:function(e){if(cancelAnimationFrame(this._scheduledMeasurement),this._targetMeasurementFailed=!1,e){var t=function(){var e=this.target,n=this.targetLayout,i=e.element;if(i){var r=i.getBoundingClientRect(),a=r.left,o=r.top,s=r.width,l=r.height;0===a&&0===o&&0===s&&0===l?this._targetMeasurementFailed=!0:(this._targetMeasurementFailed=!1,n.beginBatchSet().setIfChanged("x",a).setIfChanged("y",o).setIfChanged("width",s).setIfChanged("height",l).end())}this._scheduledMeasurement=Object(Da.a)(t)}.bind(this);t()}}}),__superMap:{_$AY$dispose:"dispose"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DOMLayoutMeasurer"}}),k_=Object(ne.b)("VerticalAlignment",(function(e){e("Top"),e("Middle"),e("Bottom")})),U_=Object(ne.b)("HorizontalAlignment",(function(e){e("Left"),e("Middle"),e("Right")})),j_=n(241),B_=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"contentView"}],name:"container",classes:["cw-popover-content"]}],classes:["cw-popover-view"],styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"width",attributes:{},unit:null,property:"width"},height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"height",attributes:{},unit:null,property:"height"}}}},className:"cw-ui-popover-view",__QUALIFIED_CLASS_NAME__:"PopoverView"},layout:Object(X.b)(),left:Object(X.b)(Object(J.c)("layout.left")),top:Object(X.b)(Object(J.c)("layout.top")),_transformObserver:Object(Ni.f)("left","top",(function(e,t){this.style.translateDevicePixels(e,t)})),height:Object(X.b)(Object(J.c)("layout.height")),width:Object(X.b)(Object(J.c)("layout.width")),verticalAlignment:Object(X.b)({type:k_}),horizontalAlignment:Object(X.b)({type:U_})}),V_=Object(ne.b)("ArrowPopoverAlignment",(function(e){e("TargetMiddle"),e("Follow"),e("None")})),$_=B_.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",name:"arrow",classes:["cw-popover-arrow",{type:"CLASSNAMEOUTLET",bindingtype:"ENUMBINDING",name:"arrowDirectionClass",validvalues:["cw-up-arrow","cw-left-arrow","cw-right-arrow","cw-down-arrow","cw-no-arrow"],attributes:{}}],styles:{transform:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"arrowTransformStyle",attributes:{},unit:null,property:"transform"}}}]}},className:"cw-ui-arrow-popover-view",__QUALIFIED_CLASS_NAME__:"ArrowPopoverView"},anchorLayout:Object(X.b)(),arrowLength:Object(X.b)(10),arrowWidth:Object(X.b)(10),arrowAlignment:Object(X.b)({defaultValue:V_.TargetMiddle,type:V_}),arrowLeft:Object(X.b)({readOnly:!0,dependencies:["arrowDirection","arrowLength","arrowWidth","horizontalAlignment","arrowAlignment","layout.x","layout.width","anchorLayout.x","anchorLayout.width"],get:Object.assign((function(){var e=this.arrowDirection,t=this.arrowLength,n=this.layout;if(!n)return 0;var i=n.width;if("left"===e)return-t;if("right"===e)return i;var r,a=this.arrowWidth/2,o=n.x,s=o+a,l=o+i-a;if(this.arrowAlignment===V_.Follow)switch(this.horizontalAlignment){case U_.Left:r=s;break;case U_.Right:r=l;break;case U_.Middle:default:r=o+i/2}else{var c=this.anchorLayout;if(!c)return 0;var u=c.width,d=c.x;r=(d+(d+u))/2}return r=Math.max(Math.min(r,l),s),(r-=o)-a}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[1+n]),o=this.layout;if(!o)return 0;var s=o.width;if("left"===r)return-a;if("right"===r)return s;var l,c=i.internalGet(this,t[2+n])/2,u=o.x,d=u+c,h=u+s-c;if(i.internalGet(this,t[4+n])===V_.Follow)switch(i.internalGet(this,t[3+n])){case U_.Left:l=d;break;case U_.Right:l=h;break;case U_.Middle:default:l=u+s/2}else{var f=this.anchorLayout;if(!f)return 0;var p=f.width,m=f.x;l=(m+(m+p))/2}return l=Math.max(Math.min(l,h),d),(l-=u)-c}})}),arrowTop:Object(X.b)({readOnly:!0,dependencies:["arrowDirection","arrowLength","arrowWidth","verticalAlignment","arrowAlignment","layout.y","layout.height","anchorLayout.y","anchorLayout.height"],get:Object.assign((function(){var e=this.arrowDirection,t=this.arrowLength,n=this.layout;if(!n)return 0;var i=n.height;if("up"===e)return-t;if("down"===e)return i;var r,a=this.arrowWidth/2,o=n.y,s=o+a,l=o+i-a;if(this.arrowAlignment===V_.Follow)switch(this.verticalAlignment){case k_.Bottom:r=s;break;case k_.Top:r=l;break;case k_.Middle:default:r=o+i/2}else{var c=this.anchorLayout;if(!c)return 0;var u=c.height,d=c.y;r=(d+(d+u))/2}return r=Math.max(Math.min(r,l),s),(r-=o)-a}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[1+n]),o=this.layout;if(!o)return 0;var s=o.height;if("up"===r)return-a;if("down"===r)return s;var l,c=i.internalGet(this,t[2+n])/2,u=o.y,d=u+c,h=u+s-c;if(i.internalGet(this,t[4+n])===V_.Follow)switch(i.internalGet(this,t[3+n])){case k_.Bottom:l=d;break;case k_.Top:l=h;break;case k_.Middle:default:l=u+s/2}else{var f=this.anchorLayout;if(!f)return 0;var p=f.height,m=f.y;l=(m+(m+p))/2}return l=Math.max(Math.min(l,h),d),(l-=u)-c}})}),arrowTransformStyle:Object(X.b)({dependencies:["arrowLeft","arrowTop"],readOnly:!0,get:Object.assign((function(){return"translate("+this.arrowLeft+"px, "+this.arrowTop+"px)"}),{__CW__getter:function(e,t,n,i){return"translate("+i.internalGet(this,t[0+n])+"px, "+i.internalGet(this,t[1+n])+"px)"}})}),arrowDirection:Object(X.b)({readOnly:!0,dependencies:["layout.x","layout.width","layout.y","layout.height","anchorLayout.x","anchorLayout.width","anchorLayout.y","anchorLayout.height","arrowAlignment"],get:Object.assign((function(){var e=this.getPath("anchorLayout.height"),t=this.getPath("anchorLayout.y"),n=this.getPath("anchorLayout.width"),i=this.getPath("anchorLayout.x"),r=this.getPath("layout.height"),a=this.getPath("layout.y"),o=this.getPath("layout.width"),s=this.getPath("layout.x");return this.getPath("arrowAlignment")===V_.None?"no":i+n<s?"left":i>s+o?"right":t+e<a?"up":t>a+r?"down":"left"}),{__CW__getter:function(e,t,n,i){var r=i.internalGetPath(this,t[7+n]),a=i.internalGetPath(this,t[6+n]),o=i.internalGetPath(this,t[5+n]),s=i.internalGetPath(this,t[4+n]),l=i.internalGetPath(this,t[3+n]),c=i.internalGetPath(this,t[2+n]),u=i.internalGetPath(this,t[1+n]),d=i.internalGetPath(this,t[0+n]);return i.internalGet(this,t[8+n])===V_.None?"no":s+o<d?"left":s>d+u?"right":a+r<c?"up":a>c+l?"down":"left"}})}),arrowDirectionClass:Object(X.b)({readOnly:!0,dependencies:["arrowDirection"],get:Object.assign((function(){return"cw-"+this.arrowDirection+"-arrow"}),{__CW__getter:function(e,t,n,i){return"cw-"+i.internalGet(this,t[0+n])+"-arrow"}})})}),W_=Ge.a.extend(Ni.a,{config:Object(X.b)(),anchorLayout:Object(X.b)(Object(J.c)("config.anchorLayout")),spaceLayout:Object(X.b)(Object(J.c)("config.spaceLayout")),desiredSize:Object(X.b)({strong:!0,binding:"config.desiredSize"}),minimumSize:Object(X.b)({strong:!0,binding:"config.minimumSize"}),layout:Object(X.b)(),fit:Object(X.b)({readOnly:!0,dependencies:["layout.height","layout.width"],get:Object.assign((function(){var e=this.getPath("layout.width"),t=this.getPath("layout.height");if(!t||!e)return 0;var n=this.minimumSize.width;return t<this.minimumSize.height?0:e<n?0:e*t}),{__CW__getter:function(e,t,n,i){var r=i.internalGetPath(this,t[1+n]),a=i.internalGetPath(this,t[0+n]);if(!a||!r)return 0;var o=this.minimumSize.width;return a<this.minimumSize.height?0:r<o?0:r*a}})}),staticMembers:{__QUALIFIED_CLASS_NAME__:"PopoverLayout"}}).extend({arrowLength:Object(X.b)(Object(J.c)("config.arrowLength")),_layoutRectangle:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"OnSideLayout"}}),z_={left:"x",right:"width",top:"y",bottom:"height"},G_={left:"vertical",right:"vertical",top:"horizontal",bottom:"horizontal"},H_={left:"width",right:"x",top:"height",bottom:"y",width:"height",height:"width"},K_={left:-1,right:1,top:-1,bottom:1},Q_={left:"width",right:"width",top:"height",bottom:"height"},q_={left:"y",right:"y",top:"x",bottom:"x"},Y_={left:"height",right:"height",top:"width",bottom:"width"},X_={x:0,y:0,height:0,width:0},J_={vertical:k_.Top,horizontal:U_.Left},Z_={vertical:k_.Bottom,horizontal:U_.Right};function eb(e){var t=z_[e],n=K_[e],i=H_[e],r=q_[e],a=Y_[e],o=Q_[e],s=G_[e],l=J_[s],c=Z_[s];return{fit:Object(X.b)({readOnly:!0,dependencies:["layout.height","layout.width","layout."+r,"layout."+a,"anchorLayout."+r,"anchorLayout."+a,"config.isAlignmentRequired","config."+s+"Alignment"],get:Object.assign((function(){var e,t=this,n=arguments,i=t.__s._$rW$get.apply(t,n),r=$property.internalGet(this,$getArray[2+$offset]),a=$property.internalGet(this,$getArray[3+$offset]),o=$property.internalGet(this,$getArray[4+$offset]),s=$property.internalGet(this,$getArray[5+$offset]),u=$property.internalGet(this,$getArray[6+$offset]),d=$property.internalGet(this,$getArray[7+$offset]);return e=d===l?o-r:d===c?s-a:r+a/2-(o+s/2),u?0!==e&&(i=0):i-=Math.abs(e),i}),{__CW__getter:function(e,t,n,i){var r,a=this,o=arguments,s=a.__s._$rW$get.apply(a,o),u=i.internalGet(this,t[2+n]),d=i.internalGet(this,t[3+n]),h=i.internalGet(this,t[4+n]),f=i.internalGet(this,t[5+n]),p=i.internalGet(this,t[6+n]),m=i.internalGet(this,t[7+n]);return r=m===l?h-u:m===c?f-d:u+d/2-(h+f/2),p?0!==r&&(s=0):s-=Math.abs(r),s}}),__superMap:{_$rW$get:"get"}}),layoutCalculator:Object(Ni.f)("arrowLength","desiredSize."+o,"desiredSize."+H_[o],"anchorLayout."+t,"anchorLayout."+i,"anchorLayout."+r,"anchorLayout."+a,"spaceLayout."+t,"spaceLayout."+i,"spaceLayout."+r,"spaceLayout."+a,"config.spaceInset","config."+s+"Alignment",(function(e,o,s,u,d,h,f,p,m,g,v,_,b){"height"===t||"width"===t?(u+=d,p+=m,p-=_):"height"!==i&&"width"!==i||(d+=u,m+=p,p+=_),v+=g,f+=h;var y,S,I=u+e*n,w=I+o*n;if((w>p&&n>0||w<p&&n<0)&&(w=p),b===l)y=h,S=h+s;else if(b===c)S=f,y=f-s;else{var E=(h+f)/2,C=s/2;y=E-C,S=E+C}var A=(g+=_)-y;A>0&&(y+=A,S+=A);var T=(v-=_)-S;T<0&&(y+=T,S+=T),y<g&&(y=g),X_[t]=w,X_[i]=I,X_[r]=y,X_[a]=S,X_.width-=X_.x,X_.height-=X_.y;var O=this._layoutRectangle;O?O.beginBatchSet().set("x",X_.x).set("y",X_.y).set("height",X_.height).set("width",X_.width).end():this._layoutRectangle=O=x_.a.create(X_),this.layout=O}))}}var tb=W_.extend(eb("right"),{staticMembers:{__QUALIFIED_CLASS_NAME__:"OnRightLayout"}}),nb=W_.extend(eb("left"),{staticMembers:{__QUALIFIED_CLASS_NAME__:"OnLeftLayout"}}),ib=W_.extend(eb("top"),{staticMembers:{__QUALIFIED_CLASS_NAME__:"OnTopLayout"}}),rb=W_.extend(eb("bottom"),{staticMembers:{__QUALIFIED_CLASS_NAME__:"OnBottomLayout"}}),ab=n(329),ob=ab.a.extend({view:Object(X.b)({downstreamBindings:{layout:"(owner).matchedLayout.layout",anchorLayout:"(owner).anchorLayout",arrowLength:"(owner).arrowLength",arrowWidth:"(owner).arrowWidth",arrowAlignment:"(owner).arrowAlignment",verticalAlignment:"(owner).verticalAlignment",horizontalAlignment:"(owner).horizontalAlignment"}}),anchorLayoutMeasurer:Object(X.b)({strong:!0,defaultValue:Object(ut.b)(P_),downstreamBindings:{target:"(owner).anchor",shouldMeasure:"(owner)._shouldMeasure"}}),_hideOnAnchorDetach:Object(Ni.f)("anchorLayoutMeasurer.targetIsHidden",(function(e){e&&this.hide()})),_shouldMeasure:Object(X.b)(!1),anchor:Object(X.b)(),anchorLayout:Object(X.b)(Object(J.c)("anchorLayoutMeasurer.targetLayout")),spaceLayout:Object(X.b)(ce.a.sharedInstance.window),spaceInset:Object(X.b)(10),allowedLayouts:Object(X.b)([tb,nb,ib,rb]),fallbackLayout:rb,arrowLength:Object(X.b)(10),arrowWidth:Object(X.b)(10),arrowAlignment:Object(X.b)({defaultValue:V_.TargetMiddle,type:V_}),verticalAlignment:Object(X.b)(k_.Middle),horizontalAlignment:Object(X.b)(U_.Middle),isAlignmentRequired:Object(X.b)(!0),resolutionStrategy:sb,shouldAutosize:Object(X.b)({type:"boolean",defaultValue:!1}),desiredSize:Object(X.b)({strong:!0,defaultValue:Object(ut.b)(R_.a,{height:100,width:50})}),minimumSize:Object(X.b)({strong:!0,defaultValue:Object(ut.b)(R_.a,{height:10,width:10})}),show:function(e){var t=this,n=arguments;if(!this.isAttached)return e&&(this.anchor=e),this.anchor||Object(ze.b)("PopoverViewController#show requires an anchor view: %{popover}",{popover:this}),this._shouldMeasure=!0,t.__s._$3hQ$show.apply(t,n)},hide:function(){var e=this,t=arguments;if(this.isAttached)return this._shouldMeasure=!1,e.__s._$3nO$hide.apply(e,t)},init:function(){var e=this,t=arguments;e.__s._$3oU$init.apply(e,t);var n=this.anchorLayout;if(!n){var i=this.anchorLayoutMeasurer;i.bind("target",this.bindingFor("anchor"))}},willAppear:function(){var e=this,t=arguments;return this.shouldAutosize&&this._calculateSize(),e.__s._$3yp$willAppear.apply(e,t)},_calculateSize:function(){var e=this.getPath("view.popoverView")||this.view;if(e){var t=e.element,n=e.container;if(t&&n){var i=Object(j_.a)(t),r=Object(j_.a)(n),a=r.getInline("position"),o=i.getInline("height"),s=i.getInline("width");i.set({width:"auto",height:"auto"}),r.set("position","static");var l=n.getBoundingClientRect(),c=l.width,u=l.height;i.set({height:o,width:s}),r.set("position",a);var d=R_.a.create({width:c,height:u});this.beginBatchSet().set("minimumSize",d).set("desiredSize",d).end()}}},_reconnectAllowedLayouts:Object(Ni.f)("allowedLayouts",(function(e){var t=this.fitObserver;t&&t.disconnect();for(var n=Object(na.a)(e),i=n.length,r=[],a=0;a<i;a++){var o=n[a];o=o.create({config:this}),r.push(o.bindingFor("fit")),n[a]=o}this.allowedLayoutsInstances=n,r.push(this._resolveLayouts),this.fitObserver=this.observe.apply(this,r)})),_resolveLayouts:function(){var e,t=this.resolutionStrategy,n=t.apply(this,arguments);e=null!==n?this.allowedLayoutsInstances[n]:this._fallbackLayoutInstance||(this._fallbackLayoutInstance=this.fallbackLayout.create({config:this})),this.matchedLayout=e},matchedLayout:Object(X.b)(),viewClass:$_,__superMap:{_$3hQ$show:"show",_$3nO$hide:"hide",_$3oU$init:"init",_$3yp$willAppear:"willAppear"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PopoverViewController"}});function sb(){for(var e=arguments,t=e.length,n=0,i=null,r=0;r<t;r++){var a=e[r];a>n&&(n=a,i=r)}return i}var lb,cb=Pi.a.extend({action:null,callAction:function(){this.sendEvent("accountMenuItemWasSelected",this.action)},staticMembers:{className:"cosk-ui-title-bar-account-menu-item-view",__QUALIFIED_CLASS_NAME__:"AccountMenuItemView"}}),ub=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",name:"accountMenuItemViews"}],classes:["cosk-account-menu"]},className:"cosk-ui-title-bar-account-menu-view",__QUALIFIED_CLASS_NAME__:"AccountMenu"},desiredSize:X.b({strong:!0,defaultValue:ut.b(R_.a,{width:100,height:100})}),minimumSize:X.b({strong:!0,binding:J.c("desiredSize")}),accountMenuItemViews:ut.b($i.b),accountMenuItems:X.b(ut.b(Array)),_accountMenuItemsObserver:Ni.f("accountMenuItems",(function(e){var t=this.get("accountMenuItemViews");if(t.splice(0,t.get("length")),e){var n=e.length,i=0;for(i=0;i<n;i++)t.push(cb.create(e[i]))}})),_remeasureIfNeeded:Ni.f("isAttached","_accountMenuItemsObserver",(function(){if(this.get("isAttached")){this.get("style").set("width","auto").set("height","auto");var e=this.get("element"),t=this.get("desiredSize");t.set("width",e.offsetWidth),t.set("height",e.offsetHeight),this.get("style").set("width","").set("height","")}}))}),db=ri.a.extend({viewClass:ub,accountMenuItems:X.b({dependencies:[Xg.bindingFor("environment.accountMenu")],readOnly:!0,get:Object.assign((function(){var e=Xg.environment.accountMenu;return e&&e.items?e.items:[]}),{__CW__getter:function(e,t,n,i){var r=i.internalGetPath(this,t[0+n]);return r&&r.items?r.items:[]}})}),createView:function(){return this.get("viewClass").create({accountMenuItems:this.bindingFor("accountMenuItems")})},accountMenuItemWasSelected:function(e){return Xg.get("cloudOSService").invokeMethodOnCloudOS(e),!1},showAccountSettings:function(){var e=Xg.get("cloudOSService");e.showAccountSettings.call(e)},signOut:function(){var e=Xg.get("cloudOSService");e.performLogout.call(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"AccountMenuViewController"}}),hb=ob.extend({allowedLayouts:[rb],viewClass:$_.extend({additionalClassNames:Mi.a(["cosk-account-menu-popover"])}),arrowLength:26,desiredSize:J.c("contentController.view.desiredSize"),minimumSize:J.c("contentController.view.minimumSize"),createView:function(){var e=this,t=arguments,n=e.__s._$9l$createView.apply(e,t);return fb.create({popoverView:n})},accountMenuItemWasSelected:function(e){return this.hide(),!0},updateLayout:function(){this.propertyChanged("anchor")},contentController:X.b({defaultValue:function(){return db.create()}}),modalTap:function(){this.toggle()},__superMap:{_$9l$createView:"createView"},staticMembers:{__QUALIFIED_CLASS_NAME__:"AccountMenuPopoverViewController"}}),fb=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"popoverView"}],classes:["cosk-account-menu-modal"]},className:"cosk-ui-title-bar-view-controllers-modal-view",__QUALIFIED_CLASS_NAME__:"ModalView"},layout:X.b(),anchorLayout:X.b(),arrowLength:X.b(),arrowWidth:X.b(),arrowAlignment:X.b(),horizontalAlignment:X.b(),verticalAlignment:X.b(),popoverView:X.b({downstreamBindings:{layout:"(owner).layout",anchorLayout:"(owner).anchorLayout",arrowLength:"(owner).arrowLength",arrowWidth:"(owner).arrowWidth",arrowAlignment:"(owner).arrowAlignment",horizontalAlignment:"(owner).horizontalAlignment",verticalAlignment:"(owner).verticalAlignment"}}),contentView:X.b(J.c("popoverView.contentView")),pointerDown:function(e){return this.sendEvent("modalTap"),!0}}),pb=(n(312),n(266),n(234),n(328)),mb=n(705),gb=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"svg",children:[{type:"ELEMENT",tagname:"g",children:[{type:"ELEMENT",tagname:"path",namespace:"http://www.w3.org/2000/svg",attributes:{d:"M 19.208 -2.32422 C 19.9219 -2.34082 20.5195 -2.60645 21.0674 -3.1709 L 33.502 -15.9043 C 33.9502 -16.3525 34.166 -16.8672 34.166 -17.5146 C 34.166 -18.8096 33.1367 -19.8389 31.8584 -19.8389 C 31.2275 -19.8389 30.6299 -19.5732 30.165 -19.1084 L 19.208 -7.81934 L 8.23438 -19.1084 C 7.76953 -19.5732 7.18848 -19.8389 6.54102 -19.8389 C 5.2627 -19.8389 4.2334 -18.8096 4.2334 -17.5146 C 4.2334 -16.8838 4.46582 -16.3525 4.89746 -15.9043 L 17.3486 -3.1709 C 17.9131 -2.58984 18.4941 -2.32422 19.208 -2.32422 Z"}}],namespace:"http://www.w3.org/2000/svg",attributes:{transform:"matrix(1 0 0 1 -4.2333862304687955 21.6357421875)"}}],namespace:"http://www.w3.org/2000/svg",classes:["cosk-chevron-icon"],attributes:{viewBox:"0 0 29.9332275390625 19.30755615234375",version:"1.1"}},className:"cosk-ui-title-bar-chevron-view",__QUALIFIED_CLASS_NAME__:"ChevronView"}}),vb=Object.freeze({TOP:"top",HANGING:"hanging",MIDDLE:"middle",ALPHABETIC:"alphabetic",IDEOGRAPHIC:"ideographic",BOTTOM:"bottom"}),_b=new Map,bb=new(function(){function e(){this.font=""}var t=e.prototype;return t._buildKey=function(e){return this.font+"-"+e},t.get=function(e){return _b.get(this._buildKey(e))},t.set=function(e,t){_b.set(this._buildKey(e),t)},t.has=function(e){return _b.has(this._buildKey(e))},e}());function yb(e,t){for(var n=e.length,i=n,r=3;r<n;r+=4)if(0!==e[r]){i=r/4/t;break}return i}function Sb(e,t){for(var n=0,i=e.length-1;i>=0;i-=4)if(0!==e[i]){n=i/4/t;break}return n}function Ib(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:vb.ALPHABETIC,r=parseFloat(lb.style.height),a=parseFloat(lb.style.width);e.clearRect(0,0,a,r),e.fillStyle="black",e.font=t,e.textBaseline=i,e.fillText(n,a/4,r/2,a);var o=e.getImageData(0,0,a,r);return o.data}function wb(e,t){lb||(lb=document.createElement("canvas"));var n=function(e){var t=window.getComputedStyle(e),n={font:t.getPropertyValue("font"),lineHeight:parseFloat(t.getPropertyValue("line-height")),fontFamily:t.getPropertyValue("font-family"),fontSize:parseFloat(t.getPropertyValue("font-size")),fontStretch:t.getPropertyValue("font-stretch"),fontStyle:t.getPropertyValue("font-style"),fontVariant:t.getPropertyValue("font-variant"),fontWeight:parseInt(t.getPropertyValue("font-weight"))};if(!n.font){var i=[n.fontStyle,n.fontVariant,n.fontWeight,"100%"===n.fontStretch?"normal":n.fontStretch,n.fontSize+"px / "+n.lineHeight+"px",n.fontFamily];n.font=""+i.join(" ")}return n}(t),i=n.font,r=n.fontSize;if(bb.font=i,bb.has(e))return bb.get(e);var a=lb.getContext("2d");lb.width=r,lb.height=2*r,lb.style.width=r+"px",lb.style.height=2*r+"px";var o=bb.get(vb.ALPHABETIC);if(o||(o=function(e,t,n){var i,r,a,o=t.fontWeight,s=t.fontSize,l=t.fontFamily,c=t.lineHeight,u=o+" "+s+"px "+l;r=yb(i=Ib(e,u,"N"),n);var d=Sb(i,n)-r;r=yb(i=Ib(e,u,"x"),n);var h=(a=Sb(i,n))-r,f=c/2+d/2;return{capline:f-d,meanline:f-h,baseline:f,capHeight:d,xHeight:h,renderedBaseline:a}}(a,n,lb.width),bb.set(vb.ALPHABETIC,o)),e===vb.ALPHABETIC)return o;var s=Sb(Ib(a,n.fontWeight+" "+n.fontSize+"px "+n.fontFamily,"N",e),r),l=s-o.renderedBaseline,c={capline:o.capline+l,meanline:o.meanline+l,baseline:o.baseline+l,capHeight:o.capHeight,xHeight:o.xHeight,renderedBaseline:s};return bb.set(e,c),c}window.getFontMetrics=wb;var Eb={mixinDependencies:[{staticMembers:{template:{type:"ELEMENT",tagname:"span",name:"iconElement"}},_iconObserver:Ni.f({inputs:["icon","iconStyle"],callback:function(e,t){void 0!==e&&(this.iconElement.innerHTML=e),void 0!==t&&this.iconElement.setAttribute("style",t)}}),icon:X.b(),iconStyle:X.b()}],desiredFontSize:X.b(0),layoutMode:X.b("layoutBox"),symbolMetadata:X.b(),otherSymbolProps:X.b(),_symbolMetadataObserver:Ni.f({inputs:["desiredFontSize","layoutMode","otherSymbolProps","symbolMetadata"],callback:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(i&&t){var r=i.svgPath,a=i[t],o=a.viewBox,s=a.height,l=a.translateX,c=a.translateY,u=a.baseline,d=a.capline,h="matrix(1 0 0 1 "+l+" "+c+")";if(e>0){var f=u-d,p=e/f,m=s*p;n.style="height: "+m+"px; "+(n.style||"")}n.className="",n.className+="layoutBox"===t?" layout-box":" glyph-box";var g=document.createElement("svg");for(var v in g.setAttribute("viewBox",o),g.setAttribute("version","1.1"),g.setAttribute("xmlns","http://www.w3.org/2000/svg"),n)g.setAttribute(v,n[v]);var _=document.createElement("g");_.setAttribute("transform",h);var b=document.createElement("path");b.setAttribute("d",r),_.appendChild(b),g.appendChild(_),this.icon=g.outerHTML}else this.icon=""}})},Cb={"icloud.logo":{name:"icloud.logo",svgPath:"M1 3.9c0-1.4 1.2-2.6 2.6-2.6 1.4 0 2.6 1.1 2.6 2.5S5.1 6.4 3.7 6.4h-.1C2.2 6.5 1 5.3 1 3.9zm.4 5.8h4.5v22H1.4v-22zm8.8 6.9C10.2 7 15.7 1 24.1 1 31 1 36.2 5.2 37 11.5h-4.7c-.8-3.9-4.1-6.4-8.2-6.4-5.5 0-9.1 4.5-9.1 11.5s3.5 11.5 9.1 11.5c4.2 0 7.2-2.2 8.2-5.8H37c-1.2 6.2-5.9 9.9-12.9 9.9-8.5 0-13.9-6-13.9-15.6zM40.9 1.5h4.5v30.2h-4.5V1.5zm18.7 7.9c-6.4 0-10.5 4.4-10.5 11.3S53.2 32 59.6 32s10.5-4.3 10.5-11.3c0-6.9-4-11.3-10.5-11.3zm0 18.8c-3.7 0-5.9-2.8-5.9-7.6 0-4.7 2.2-7.6 5.9-7.6s5.9 2.8 5.9 7.6-2.2 7.6-5.9 7.6zm33 3.5h-4.4v-3.8h-.1c-1.3 2.6-3.5 4-6.9 4-4.8 0-7.8-3.1-7.8-8.1V9.7h4.5v13.2c0 3.3 1.6 5.1 4.7 5.1 3.3 0 5.3-2.3 5.3-5.7V9.7h4.5l.2 22zm19.8-30.2v11.8h-.1c-1.3-2.4-3.8-3.9-6.9-3.9-5.5 0-9.3 4.4-9.3 11.2s3.8 11.2 9.3 11.2c3.2 0 5.7-1.5 7-4h.1v3.7h4.4v-30h-4.5zm-5.8 26.6c-3.5 0-5.9-2.9-5.9-7.4s2.3-7.4 5.9-7.4c3.5 0 5.8 2.9 5.8 7.4.1 4.5-2.3 7.4-5.8 7.4z",layoutBox:{viewBox:"0 0 118 34",width:118,height:34,translateX:0,translateY:0,baseline:31.2,capline:1},glyphBox:{viewBox:"0 0 118 34",width:118,height:34,translateX:0,translateY:0,baseline:31.2,capline:1}},"icloud.cn.logo":{name:"icloud.cn.logo",svgPath:"M11.5,39.5v10.3h-1v-0.9H2.3v0.9h-1V39.5h4.6v-2.2h1v2.2H11.5z M2.3,43.6h3.6v-3.1H2.3V43.6z M2.3,47.9h3.6v-3.4H2.3V47.9z M7,40.4v3.1h3.6v-3.1H7z M7,47.9h3.6v-3.4H7V47.9z M26.8,41.9v1h-6.6c-1.3,2.6-2.4,4.3-3.3,5.4c2.5-0.1,5-0.3,7.4-0.7c-0.2-0.5-0.5-1-0.8-1.4c-0.3-0.5-0.6-0.9-0.9-1.4l0.8-0.5c0.6,0.9,1.2,1.9,1.7,2.7c0.5,0.8,0.9,1.6,1.3,2.4L25.6,50c-0.1-0.3-0.2-0.5-0.3-0.7c-0.1-0.3-0.3-0.5-0.4-0.7c-1.4,0.2-2.8,0.3-4.3,0.5l-4.7,0.4l-0.3-1c0.1,0,0.1,0,0.1-0.1c0-0.1,0.1-0.1,0.1-0.1c0.9-0.7,2.1-2.5,3.4-5.4h-4.6v-1L26.8,41.9L26.8,41.9z M25.6,38.1V39h-9.7v-0.9H25.6z M33.1,37.2h1.1v4.2h5.1v1h-5.1v5.8h6.2v1H28.2v-1h5L33.1,37.2L33.1,37.2z M47.9,41.9V41h-4v-2.8h4v-0.9h1v0.9h4V41h-4v0.9h5.6v0.9H42.4v-0.9C42.4,41.9,47.9,41.9,47.9,41.9z M49.1,45.2c-0.2,1.7-0.6,2.8-1.3,3.3c-0.7,0.6-2.4,1.1-5,1.3l-0.4-0.9c2.4-0.1,3.7-0.5,4.5-1.1c0.8-0.7,1.2-1.8,1.2-2.8L49.1,45.2zM52.8,47.5h-0.9v-3h-6.8v3.1h-0.9v-4.1h8.6L52.8,47.5z M47.9,39h-3v1.1h3V39z M49.4,47.4c0.9,0.3,1.8,0.5,2.7,0.8c0.8,0.3,1.6,0.6,2.4,0.9l-0.5,0.9c-1.6-0.8-3.3-1.4-5-1.9L49.4,47.4z M52,39h-3.1v1.1H52V39z M58.5,40.8c-0.1,0.7-0.2,1.4-0.4,2.1l-0.6,2l-0.9-0.3c0.3-0.6,0.5-1.3,0.6-2c0.2-0.7,0.3-1.4,0.4-2.1L58.5,40.8zM60.3,37.4v4.1c-0.1,3.7-0.9,6.5-2.6,8.3L57,49.2c1.6-1.6,2.4-4.1,2.4-7.6v-4.1L60.3,37.4z M61.3,40.9c0.3,0.5,0.5,1.1,0.8,1.7c0.3,0.6,0.5,1.1,0.7,1.8L62,44.7c-0.2-0.6-0.5-1.3-0.7-1.9c-0.2-0.6-0.5-1.1-0.8-1.6L61.3,40.9z M64.3,37.7v11.7h-0.9V37.7H64.3zM65.1,40.8l0.8,1.6c0.3,0.6,0.5,1.1,0.7,1.8l-0.8,0.4c-0.2-0.6-0.5-1.2-0.7-1.8c-0.2-0.6-0.5-1.1-0.8-1.6L65.1,40.8z M68,37.3v12.5h-0.9V37.3H68z M78.9,49.6h-2.4c-0.4,0-0.8-0.1-1.2-0.1c-0.3,0-0.6-0.1-0.9-0.2c-0.6-0.2-1.1-0.5-1.5-1c-0.2-0.2-0.3-0.3-0.5-0.3c-0.3,0-0.9,0.7-1.7,2l-0.7-0.7c0.5-0.9,1.2-1.6,2-2.2V43h-2v-1H73v5.1l0.1,0.1c0.1,0.1,0.1,0.1,0.1,0.1c0.3,0.4,0.7,0.7,1.1,0.9c0.6,0.2,1.2,0.4,1.8,0.3h4.5c0.7,0,1.2-0.1,1.6-0.1l-0.3,1h-3L78.9,49.6z M70.8,37.4c0.5,0.4,0.9,0.7,1.3,1.1c0.4,0.3,0.7,0.7,1.1,1.1l-0.7,0.7c-0.7-0.8-1.5-1.5-2.4-2.2L70.8,37.4z M82.1,41.2v0.9h-4.3c-0.4,1-0.7,1.9-1.1,2.6c-0.3,0.6-0.6,1.2-1,1.7c0.8-0.1,1.7-0.2,2.5-0.3c0.7-0.1,1.4-0.3,2-0.4c-0.2-0.4-0.3-0.8-0.5-1.1c-0.2-0.4-0.4-0.7-0.6-1.1l0.8-0.3c0.8,1.4,1.5,2.8,2,4.3L81,47.8c-0.1-0.2-0.1-0.4-0.2-0.7c-0.1-0.2-0.2-0.4-0.3-0.6c-0.9,0.2-1.8,0.4-2.7,0.5c-1,0.1-2.1,0.3-3.3,0.4l-0.3-0.9c0.6-0.2,1.4-1.7,2.5-4.3h-2.8v-0.9L82.1,41.2L82.1,41.2z M81.1,38v0.9h-6.3V38H81.1z M84.3,38.2h3.1v-0.9h0.9v0.9h3.7v-0.9h1v0.9h3.1v0.9H93v0.8h-1v-0.8h-3.7v0.8h-0.9v-0.8h-3.1V38.2z M95.7,40.5V43h-1v-1.8h-9.1V43h-0.9v-2.7L95.7,40.5L95.7,40.5z M94.9,46v3.8h-1v-0.5h-7.4v0.5h-0.9V46H94.9z M86.5,48.4h7.4v-1.7h-7.4V48.4z M86.8,42.3h6.8V45h-6.8V42.3z M92.7,44.3V43h-5v1.3H92.7z M1,3.9a2.7,2.7 0 1,0 5.4,0a2.7,2.7 0 1,0 -5.4,0z M1.4,9.7h4.5v22.2H1.4V9.7z M10,16.7C10,7.1,15.4,1,23.9,1C30.8,1,36,5.2,36.8,11.6H32c-0.8-3.8-4.2-6.6-8.3-6.4c-5.5,0-9.1,4.5-9.1,11.6s3.5,11.6,9.1,11.6c4.2,0,7.3-2.2,8.3-5.8h4.7c-1.2,6.3-6,10-12.9,10C15.4,32.4,10,26.4,10,16.7z M40.8,1.5h4.6v30.4h-4.5L40.8,1.5z M49,20.8c0-7,4.1-11.4,10.5-11.4S70,13.8,70,20.8s-4,11.4-10.5,11.4C53.1,32.2,49,27.8,49,20.8z M65.4,20.8c0-4.7-2.2-7.6-5.9-7.6s-5.9,2.8-5.9,7.6s2.2,7.6,5.9,7.6S65.4,25.7,65.4,20.8z M92.5,31.9h-4.3v-3.7h-0.1c-1.3,2.7-3.5,4-6.9,4c-4.8,0-7.8-3.1-7.8-8.3V9.7H78v13.4c0,3.3,1.6,5.2,4.7,5.2c3.3,0,5.3-2.3,5.3-5.8V9.7h4.5V31.9L92.5,31.9z M96.1,20.8c0-6.9,3.7-11.3,9.2-11.3c3.1,0,5.7,1.5,7,3.9h0.1v-12h4.5v30.4h-4.4v-3.8h-0.1c-1.3,2.6-3.8,4-7.1,4C99.8,32.1,96.1,27.6,96.1,20.8z M100.8,20.8c0,4.5,2.4,7.5,5.9,7.5c3.5,0,5.8-2.9,5.8-7.5s-2.4-7.4-5.8-7.4S100.8,16.3,100.8,20.8L100.8,20.8z",layoutBox:{viewBox:"0 0 118 50",width:118,height:50,translateX:0,translateY:0,baseline:31.5,capline:0},glyphBox:{viewBox:"0 0 118 50",width:118,height:50,translateX:0,translateY:0,baseline:31.5,capline:0}}},Ab=Pi.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isCNAcct",truevalue:"cn",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"iCloudButtonView"},mixinDependencies:[Eb],action:"showAppSwitcher",additionalClassNames:Mi.a(["cosk-icloud-logo","icloud-button"]),symbolMetadata:X.b({readOnly:!0,dependencies:["isCNAcct"],get:Object.assign((function(){var e=this.isCNAcct?"icloud.cn.logo":"icloud.logo";return Cb[e]}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n])?"icloud.cn.logo":"icloud.logo";return Cb[r]}})}),metadata:X.b({readOnly:!0,dependencies:["symbolMetadata","layoutMode"],get:Object.assign((function(){return this.symbolMetadata[this.layoutMode]}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])[i.internalGet(this,t[1+n])]}})}),isCNAcct:X.b({readOnly:!0,type:Boolean,dependencies:[Xg.bindingFor("currentUser.isChineseAccount")],get:Object.assign((function(){return Xg.currentUser.isChineseAccount}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])}})})}),Tb=Di.a.extend(pb.a,{staticMembers:{template:{type:"ELEMENT",tagname:"span",children:[{type:"VIEWOUTLET",tagname:"view",name:"iCloudButton"},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"appName",attributes:{signal:"appNameDidRender"}}],classes:["cosk-app-display-name",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_canSafelyKernAppName",truevalue:"kern-safe",attributes:{}}],name:"appNameButtonView",attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"appSwitcherTooltip",attributes:{},attribute:"title"}}},{type:"VIEWOUTLET",tagname:"view",name:"chevronView"}],classes:["cosk-app-switcher-trigger"]},className:"cosk-ui-title-bar-app-switcher-trigger-view",__QUALIFIED_CLASS_NAME__:"AppSwitcherButton"},additionalClassNames:Mi.a(["large-display-text"]),iCloudButton:ut.b(Ab),chevronView:X.b({dependencies:["limitedExperienceMode"],readOnly:!0,get:Object.assign((function(){if(!this.limitedExperienceMode)return gb.create()}),{__CW__getter:function(e,t,n,i){if(!i.internalGet(this,t[0+n]))return gb.create()}})}),limitedExperienceMode:X.b({readOnly:!0,get:function(){return Xg.get("cloudOSService").environment.limitedExperienceMode}}),appName:X.b(),appSwitcherTooltip:X.b({get:function(){return a.d("Toolbar.AppSwitcher.Tooltip")}}),action:"showAppSwitcher",_canSafelyKernAppName:X.b({readOnly:!0,dependencies:["appName",a.a.sharedInstance.bindingFor("locale")],get:Object.assign((function(){return Ob(this.appName,a.a.sharedInstance.locale)}),{__CW__getter:function(e,t,n,i){return Ob(i.internalGet(this,t[0+n]),i.internalGet(this,t[1+n]))}})}),showAppSwitcher:function(e){if(!this.limitedExperienceMode){var t=this.getPath("parent.rect"),n=Xg.get("cloudOSService"),i=x_.a.create({top:t.bottom,left:t.left+t.width/2,width:1,height:1});n.showAppSwitcher(i)}},_alignmentObserver:Ni.f("isAttached",(function(){this.isAttached&&function(e){var t=e.iCloudButton.element,n=t.querySelector("svg"),i=e.appNameButtonView,r=e.getPath("chevronView.element");try{var a=mb.a(e.element).height,o=e.iCloudButton.metadata,s=o.baseline-o.capline,l=mb.a(t).height,c=mb.a(n).height,u=l/o.height*s,d=(l-c)/2+u,h=a/2+u/2,f=Math.round(h-d);if(j_.a(t,{"margin-top":f,"align-self":"flex-start"}),r){var p=h-wb(vb.ALPHABETIC,i).xHeight;p++,j_.a(r,{"margin-top":p,"align-self":"flex-start"})}}catch(m){Re.b.debug("iCloudLogo _alignment error",m),j_.a(e.element,{"align-items":"center"})}}(this)}))}),Ob=function(){var e=Qi.a("ca cs da de en es fi fr hr hu id is it ms nb nl nn pl pt ro sk sv tr".split(" ")),t=/^[a-zA-Z0-9\s-\u2013\u2014:;.,?!\xbf/\\\u2026\u203d\u201c\u201d\u2018\u2019'"()[\]\xab\xbb]*$/;return function(n,i){if(ce.a.sharedInstance.isSafari)return!1;if("string"!==typeof n)return!1;if("string"===typeof i){var r=(i=i.toLowerCase()).indexOf("-"),a=-1===r?i:i.substring(0,r);if(e[a])return!0}return t.test(n)}}(),Db=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"appSwitcherTriggerView"}],classes:["cosk-app-name",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isCloudOS2",truevalue:"cloud-os2",attributes:{}}]},className:"cosk-ui-title-bar-app-name-view",__QUALIFIED_CLASS_NAME__:"AppNameView"},appName:X.b(),appSwitcherTriggerView:X.b({defaultValue:function(){return Tb.create({appName:this.bindingFor("appName")})}}),isCloudOS2:X.b({readOnly:!0,get:function(){return Xg.get("cloudOSService").environment.isCloudOS2}}),preferredWidth:X.b({dependencies:["appSwitcherTriggerView.isAttached","appSwitcherTriggerView.appNameDidRender"],readOnly:!0,get:Object.assign((function(){if(this.getPath("appSwitcherTriggerView.isAttached")){var e,t;t=(e=this.get("style")).getInline("width"),e.set("width","auto");var n=this.get("element").offsetWidth;return e.set("width",t),n}}),{__CW__getter:function(e,t,n,i){if(i.internalGetPath(this,t[0+n])){var r,a;a=(r=this.get("style")).getInline("width"),r.set("width","auto");var o=this.get("element").offsetWidth;return r.set("width",a),o}}})})}),Mb=Di.a.extend(pb.a,{staticMembers:{template:{type:"ELEMENT",tagname:"span",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"displayName",attributes:{}}],classes:["cosk-display-name"]},{type:"VIEWOUTLET",tagname:"view",name:"chevronView"}],classes:["cosk-user-display-name-wrapper"]},className:"cosk-ui-title-bar-display-name-view",__QUALIFIED_CLASS_NAME__:"AccountNameButton"},additionalClassNames:Mi.a(["large-display-text"]),chevronView:X.b({readOnly:!0,get:function(){return gb.create()}}),displayName:X.b(),action:"toggleAccountMenu",accountMenuPopoverController:X.b({defaultValue:function(){return hb.create().retain()}}),tooltip:a.d("Toolbar.Button.Action.UserAction"),dispose:function(){var e=this,t=arguments;this.get("accountMenuPopoverController").release(),e.__s._$K3$dispose.apply(e,t)},updateLayout:function(){this.get("accountMenuPopoverController").updateLayout()},toggleAccountMenu:function(){var e=Xg.get("cloudOSService");if(e.environment.isCloudOS2){var t=this.getPath("rect"),n={x:t.x,y:t.y,height:t.height-3,width:t.width};e.showAccountMenu(n)}else this.get("accountMenuPopoverController").toggle(this)},writeNameToDOMForMeasurement:function(e){this.get("element").querySelector(".cosk-display-name").childNodes[0].data=e},__superMap:{_$K3$dispose:"dispose"}}),Nb=n(693),Fb=Di.a.extend(pb.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",classes:["cosk-help-icon"],name:"iconEl"},className:"cosk-ui-title-bar-help-view",__QUALIFIED_CLASS_NAME__:"HelpButton"},init:function(){var e=this,t=arguments;e.__s._$6J$init.apply(e,t),this.iconEl.innerHTML=Nb},action:"showHelp",tooltip:a.d("Button.Help.Tooltip"),owner:X.b(),showHelp:function(e){Xg.get("cloudOSService").showHelp(this.get("helpAnchor"))},__superMap:{_$6J$init:"init"}}),Lb=(n(694),Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"displayNameView"},{type:"ELEMENT",tagname:"span",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldShowHelpView",truevalue:"cosk-user-splitter",falsevalue:"cosk-user-margin",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",name:"helpView"}],classes:["cosk-user-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isCloudOS2",truevalue:"cloud-os2",attributes:{}}],styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"widthStyle",attributes:{},unit:null,property:"width"}}},className:"cosk-ui-title-bar-user-view",__QUALIFIED_CLASS_NAME__:"AccountView"},width:X.b("auto"),widthStyle:X.b({dependencies:["width"],readOnly:!0,get:Object.assign((function(){var e=this.width;return"auto"===e?e:e+"px"}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return"auto"===r?r:r+"px"}})}),helpAnchor:X.b(),isCloudOS2:X.b({readOnly:!0,get:function(){return Xg.get("cloudOSService").environment.isCloudOS2}}),shouldShowHelpView:X.b({readOnly:!0,get:function(){return!Xg.get("cloudOSService").environment.isCloudOS2}}),helpView:X.b({readOnly:!0,dependencies:["shouldShowHelpView"],get:Object.assign((function(){return this.shouldShowHelpView?this._helpView:null}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?this._helpView:null}})}),_helpView:ut.b(Fb.extend({helpAnchor:X.b(J.c("owner.helpAnchor"))})),displayName:X.b({cacheable:!0,dependencies:["widthOptions","width"],readOnly:!0,get:Object.assign((function(){var e=this.widthOptions;if(this.width,!e)return"";var t,n=e.longName,i=e.shortName;return t=Oo(n.value)?n.value:i.value,this.set("_displayName",t),t}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(i.internalGet(this,t[1+n]),!r)return"";var a,o=r.longName,s=r.shortName;return a=Oo(o.value)?o.value:s.value,this.set("_displayName",a),a}})}),displayNameView:X.b({defaultValue:function(){return Mb.create({displayName:this.bindingFor("displayName")})}}),widthOptions:X.b({cacheable:!0,dependencies:["isAttached","displayNameView",Xg.bindingFor("currentUser.firstName"),Xg.bindingFor("currentUser.lastName")],readOnly:!0,get:Object.assign((function(){var e=this.isAttached,t=this.displayNameView,n=Xg.currentUser.firstName,i=Xg.currentUser.lastName;if(!e)return null;var r,a,o,s,l,c=Ys({givenName:n}),u=Ys({givenName:n,familyName:i}),d=this.get("element"),h=d.style;return r=d.style.width,a=this.get("_displayName")||u,o=h.position,h.width="auto",h.position="absolute",t.writeNameToDOMForMeasurement(c),s=d.offsetWidth,t.writeNameToDOMForMeasurement(u),l=d.offsetWidth,h.width=r,h.position=o,t.writeNameToDOMForMeasurement(a),{shortName:{width:s,value:c},longName:{width:l,value:u}}}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[1+n]),o=i.internalGetPath(this,t[2+n]),s=i.internalGetPath(this,t[3+n]);if(!r)return null;var l,c,u,d,h,f=Ys({givenName:o}),p=Ys({givenName:o,familyName:s}),m=this.get("element"),g=m.style;return l=m.style.width,c=this.get("_displayName")||p,u=g.position,g.width="auto",g.position="absolute",a.writeNameToDOMForMeasurement(f),d=m.offsetWidth,a.writeNameToDOMForMeasurement(p),h=m.offsetWidth,g.width=l,g.position=u,a.writeNameToDOMForMeasurement(c),{shortName:{width:d,value:f},longName:{width:h,value:p}}}})}),_displayName:null,updateLayout:function(){this.get("displayNameView").updateLayout()}})),Rb=[423,424];function xb(e){return function(t,n){return function(e,t,n){if(ke.a(n)&&n.kindOf(F_)||ze.b("[cloudos-kit] Requires a request class for CK url"),Pb.cachedResponse){var i=Pb.cachedResponse;Pb.cachedResponse=null;var r=Z.a.create();return ft.a((function(){kb(r,{url:"",response:{status:200,headers:"",encodedBody:JSON.stringify(i)},autorelease:Vr.a})}),Pb.cachedResponseDelay||0),r}var a=e.substr(0,7),o="http://"===a||"https:/"===a,s=t.method||"GET",l=t.headers||{},c=t.body||"",u=function(e){var t={},n=e.split("?");if(n.length>1)for(var i=n[1].split("&"),r=0;r<i.length;r++){var a=i[r].split("="),o=a[0],s=a[1];t[o]=decodeURIComponent(s)}return t}(e),d=e.split("?");d.length>1&&(e=d[0]);var h,f={method:s,headers:l,body:c,shouldReportSuccess:!0,shouldReportFailure:!0,reportingPathname:null};if(o)if(-1!==e.indexOf("/device/")){var p=hu.a.create(e).path;(h=n.create(f)).setPath("url.serviceName","ckdeviceservice"),h.setPath("url.pathname",p)}else t.credentials&&"include"===t.credentials&&(f.useCredentialsIfCrossOrigin=!0),f.url=e,h=Js.a.create(f);else(h=n.create(f)).setPath("url.serviceName","ckdatabasews"),h.setPath("url.pathname",e),h.url.setQueryParameter("remapEnums",!0),h.onStatus(423,jb.bind(this,Object.keys(f))),h.onStatus(424,jb.bind(this,Object.keys(f)));h.url=Vb(h.url,u),h.retain();var m=Z.a.create();h.didSucceed=kb.bind(this,m),h.didFail=Ub.bind(this,m);var g=Pb.config;if(g){var v=g.additionalQueryParameters;v&&(h.url=Vb(h.url,v))}return h.send().catch((function(e){})),m}(t,n,e)}}var Pb=xb(F_);function kb(e,t){var n=t.response,i=n.headers,r={status:n.status,type:"default",headers:Bb(i),url:t.url.toString(),text:function(){var e=Z.a.create(),t=n.encodedBody;return e.resolve(t),e},json:function(){var e=Z.a.create(),t=JSON.parse(n.encodedBody);return e.resolve(t),e}};e.resolve(r),t.autorelease()}function Ub(e,t){var n=t.get("response");if(-1===Rb.indexOf(n.status)){if(n&&n.status)return kb(e,t);var i=n.encodedBody,r=new TypeError(i);e.reject(r),t.autorelease()}}function jb(e,t){e.push("url"),Xg.cloudOSService.revalidateUser().then((function(){Re.b.info("CKRequest: Retrying request after revalidate"),t.set("copyKeys",e),t.copy().send()}))}function Bb(e){for(var t={},n=e.split("\n"),i=0;i<n.length;i++)if(!(n[i].length<1)){var r=n[i].split(": "),a=r.shift(),o=r.join(":");t[a]=o}return t}function Vb(e,t){for(var n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];e.setQueryParameter(r,t[r])}return e}var $b={persistAfterLogoutSuffix:".persist",getValueFromSessionStorage:function(e){return this._getValueFromStorage("sessionStorage",e)},setValueInSessionStorage:function(e,t){return this._setValueInStorage("sessionStorage",e,t)},removeValueInSessionStorage:function(e){return this._removeValueInStorage("sessionStorage",e)},getKeysInSessionStorage:function(){return this._getKeysInStorage("sessionStorage")},clearSessionStorage:function(){return this._clearStorage("sessionStorage")},getValueFromLocalStorage:function(e,t){return this._getValueFromStorage("localStorage",e,t)},setValueInLocalStorage:function(e,t,n){return this._setValueInStorage("localStorage",e,t,n)},removeValueInLocalStorage:function(e,t){return t&&(e+=this.persistAfterLogoutSuffix),this._removeValueInStorage("localStorage",e)},getKeysInLocalStorage:function(){return this._getKeysInStorage("localStorage")},clearLocalStorage:function(){return this._clearStorage("localStorage",!0)},_getStorageObject:function(e){try{return window[e]}catch(t){Re.b.warn("Could not get storage object for %@: %@",e,t)}},_getValueFromStorage:function(e,t,n){var i,r,a=null,o=this._getStorageObject(e);return o&&o.getItem&&((i=(r=Xg.cloudOSApplication)?r.name:"iCloud")&&(t=i+"."+t),n&&(t+=this.persistAfterLogoutSuffix),a=o.getItem(t)),a},_setValueInStorage:function(e,t,n,i){var r,a,o=!1,s=this._getStorageObject(e);if(s&&s.setItem){(r=(a=Xg.cloudOSApplication)?a.name:"iCloud")&&(t=r+"."+t),i&&(t+=this.persistAfterLogoutSuffix);try{s.setItem(t,n),o=!0}catch(l){}}return o},_getKeysInStorage:function(e){var t,n,i,r,a=[],o=this._getStorageObject(e);if(o)for(r in(n=(t=Xg.cloudOSApplication)?t.name:"iCloud")&&(n+="."),i=n?n.length:0,o)0===r.indexOf(n)&&a.push(r.substring(i));return a}};function Wb(e){e||ze.b("You must specify a URL");var t,n=Xg.environment;n&&(n.isBeta&&(t="beta"),n.isCarry&&(t="carry"),n.isFuture&&(t="future"));var i,r=Xg.cloudOSApplication;if(r&&(r.isBeta&&(i="beta"),r.isCarry&&(i="carry"),r.isFuture&&(i="future")),t&&t!==i){if("string"===typeof e){var a=hu.a.create(e);return a.appendQueryParameter("rootDomain",t),a.href}e.appendQueryParameter("rootDomain",t)}return e}var zb=function(e,t){return Xg.get("authBag").getServiceUrlFor(e,t)},Gb=function(e,t){Storage.setValueInSessionStorage("reloadReason",e),"PROD"!==Xg.environment.iCloudEnvironment&&Storage.setValueInSessionStorage("preReloadLogMessages",Re.b.stringifyRecordedLogMessages()),t?window.location=t:window.location.reload(),Xg.isReloading=!0},Hb=Xv.extend({run:function(){var e=this,t=arguments;this.cloudOSState===Gv.NotLoaded&&this.load();var n=null;try{window.opener&&window.opener.CloudOS&&(n=window.opener.CloudOS)}catch(s){Re.b.debug("Cannot get the Opener window."+s.message)}var i=window.location.hash.split("instanceId=")[1];if(i){var r=window.location,a=r.hash;a=(a=a.split("&instanceId=")[0]).split("#instanceId=")[0];var o=window.history;o&&o.replaceState?o.replaceState(null,null,r.pathname+r.search+a):r.hash=a}n&&n.windowApplicationIsKnown(i||window)?(Re.b.debug("COSK.WindowApplication: Asking parent CloudOS to be initialized"),n.windowApplicationHasInitialized(i||window,this.get("name"))):(Re.b.debug("COSK.WindowApplication: Starting stand-alone"),Re.b.debug("COSK.WindowApplication: To be implemented")),e.__s._$ZK$run.apply(e,t)},prepareForLoad:function(){var e=this,t=arguments,n="en-us";if(n!==a.c()){var i=Eo.get("sharedInstance");i.setCookie("X-APPLE-WEB-USERLOCALE",n),Storage.getValueFromSessionStorage("didRefreshToLocale")!==n?(Storage.setValueInSessionStorage("didRefreshToLocale",n),Gb("prepareForLoad: Changing locale")):Re.b.warn("Already attempted refresh to locale "+n)}e.__s._$s0$prepareForLoad.apply(e,t)},willBecomeActive:function(){},didBecomeActive:function(){},willBecomeSuspended:function(){},didBecomeSuspended:function(){},__superMap:{_$ZK$run:"run",_$s0$prepareForLoad:"prepareForLoad"},staticMembers:{__QUALIFIED_CLASS_NAME__:"WindowApplication"}}),Kb=n(727),Qb=n(721),qb={ok:Y.c({readOnly:!0,type:Boolean,get:function(){var e=this.status||0;return 2===parseInt(e/100)}})},Yb=Qb.a.extend(qb,{staticMembers:{__QUALIFIED_CLASS_NAME__:"AsyncResult"}}),Xb=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",classes:["checkbox-icon"]}],classes:["checkbox"]},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"optionLabel",attributes:{}}],classes:["text"]}],classes:["option-label",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isSelected",truevalue:"selected",falsevalue:"",attributes:{}}]},className:"select-option-item-view",__QUALIFIED_CLASS_NAME__:"SelectOptionItemView"},id:X.b(),pointerUp:function(e){this.sendEvent("didSelectOption",{optionItem:this,event:e}),e.preventDefault()}}),Jb=Di.a.extend(Ui.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"selectionText",attributes:{}}],classes:["label"]},{type:"ELEMENT",tagname:"div",classes:["separator"]},{type:"ELEMENT",tagname:"div",classes:["chevron"]}],name:"selectDiv",classes:["select-box"]},{type:"ELEMENT",tagname:"div",name:"modalDiv",classes:["modal"]},{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",name:"_optionsViews"}],name:"optionsDiv",classes:["options",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showOptionsForMeasuring",truevalue:"shown-for-measuring",attributes:{}}]}],classes:["select-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOptionsVisible",truevalue:"open",attributes:{}}]},className:"ck-sharing-select-view",__QUALIFIED_CLASS_NAME__:"SelectView"},action:null,value:X.b({}),_isAttachedDidChange:Ni.f("isAttached",(function(e){e&&this.propertyChanged("selectionText")})),_windowSize:X.b(ce.a.sharedInstance.window),_windowSizeDidChange:Ni.f("_windowSize.width","_windowSize.height",(function(){this.isAttached&&this.hideModalAndOptions()})),selectionText:X.b({dependencies:["value","options"],readOnly:!0,get:Object.assign((function(){var e,t=this.value,n=this.options;if(n)for(var i=n.length,r=0;r<i;r++){var a=n.objectAt(r);a.value===t&&(e=a.label)}return e||(e="--"),e}),{__CW__getter:function(e,t,n,i){var r,a=i.internalGet(this,t[0+n]),o=i.internalGet(this,t[1+n]);if(o)for(var s=o.length,l=0;l<s;l++){var c=o.objectAt(l);c.value===a&&(r=c.label)}return r||(r="--"),r}})}),options:X.b(ut.b($i.b)),_redraw:Ni.f("element","options","options.contentsDidChange","value",(function(e,t,n){if(e&&t){var i=this._optionsViews,r=t.length;i.beginBatchedChanges(),i.clear();for(var a=0,o=r;a<o;a++){var s=t.objectAt(a),l=!1;s.value===this.value&&(l=!0);var c=Xb.create({optionLabel:s.label,id:s.value,isSelected:l});i.push(c)}i.endBatchedChanges(),this.positionOptionsView()}})),isVisibleOnScreen:X.b(),showOptionsForMeasuring:X.b(),isVisibleOnScreenObserver:Ni.f("isVisibleOnScreen",(function(e){var t=this;e&&ft.a((function(){if(t.showOptionsForMeasuring=!0,t.optionsDiv.getElementsByClassName("text")[0].clientWidth>0)t._setWidthOfSelectViewBasedOnContents();else{var e=yh.a.create({delay:100,timesToFire:1/0,callAction:function(){this.optionsDiv.getElementsByClassName("text")[0].clientWidth>0&&(this._setWidthOfSelectViewBasedOnContents(),e.stop())}.bind(t)});e.start()}}),0)})),_setWidthOfSelectViewBasedOnContents:function(){this.showOptionsForMeasuring=!0;for(var e,t=[],n=this.optionsDiv.getElementsByClassName("text"),i=0,r=n.length;i<r;i++)e=n[i].clientWidth+53,t.push(e);this.showOptionsForMeasuring=!1;var a=Math.max.apply(Math,t);j_.a(this.element,{width:a})},_downPoint:null,pointerDown:function(e){if(!this.isDisabled){if(this.options.length>0)for(var t=!1,n=e.target;!t&&n;)n===this.modalDiv?(this.hideModalAndOptions(),t=!0):n===this.selectDiv?(t=!0,this.showModalAndOptions(),this._downPoint={x:e.clientX,y:e.clientY}):n=n.parentNode;e.preventDefault()}},didSelectOption:function(e,t){var n=this._downPoint,i=e.event;if(!n||n.x!==i.clientX||n.y!==i.clientY){var r=this.value,a=e.optionItem.id;if(a!==r){var o=this.action;Nt.a(o)?this.value=a:this.sendEvent(o,a)}this.hideModalAndOptions()}},isOptionsVisible:X.b(),showModalAndOptions:function(){this.isOptionsVisible=!0,this.positionOptionsView()},hideModalAndOptions:function(){this.isOptionsVisible=!1},positionOptionsView:function(){var e=this.selectDiv,t=this.optionsDiv,n=e.getBoundingClientRect(),i={},r=e.clientHeight,a=this.options,o=a.length;"rtl"===globalThis.document.dir?(i.left="auto",i.right=globalThis.innerWidth-n.right-24+"px"):i.left=n.left-24+"px",i["min-width"]=e.clientWidth+"px";for(var s=-1,l=0;l<o;l++)if(a.objectAt(l).value==this.value){s=l;break}for(var c=this._optionsViews,u=c.length,d=0;d<u;d++){var h=c.objectAt(d);j_.a(h.element,{height:r})}var f=1+n.top;-1!==s&&(f-=s*r),i.top=f+"px",i.height=o*r+"px",j_.a(t,i)}}),Zb={NATIVE_MAIL:"NATIVE_MAIL",WEB_MAIL:"WEB_MAIL",COPY_LINK:"COPY_LINK",SCHOOLWORK:"SCHOOLWORK"};Object.freeze(Zb);var ey=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"toggleButton"},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"summaryTextWOption",attributes:{}}],classes:["summary-text",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_shouldHideDropdownSummary",truevalue:"hidden",attributes:{}}]}],classes:["options-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showToggle",truevalue:"",falsevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"accessLabelString",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",name:"accessDropdown"}],classes:["row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasAccessDropdown",truevalue:"",falsevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"allowLabelString",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",name:"permissionDropdown"}],classes:["row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showPermissionsDropdown",truevalue:"",falsevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div"},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"additionalButton"}]}],classes:["row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"additionalButtonIsVisible",truevalue:"",falsevalue:"hidden",attributes:{}}]}],classes:["container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showDropdownsContainer",truevalue:"",falsevalue:"hidden",attributes:{}}]}],classes:["share-options-dropdown",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showShareOptionsDropdown",truevalue:"",falsevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"summaryTextNoOption",attributes:{}}],classes:["summary-text",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_shouldHideNonDropdownSummary",truevalue:"hidden",attributes:{}}]}],classes:["access-control-section",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isExpanded",truevalue:"isExpanded",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"additionalButtonIsVisible",truevalue:"has-additional-button",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"AccessControlView"},toggleButton:X.b({defaultValue:ut.b(Di.a.extend(pb.a,{staticMembers:{template:{type:"ELEMENT",tagname:"span",children:[{type:"ELEMENT",tagname:"svg",children:[{type:"ELEMENT",tagname:"path",namespace:"http://www.w3.org/2000/svg",attributes:{d:"m1.250001,1.062507l14.843682,14.875035l14.843815,-14.875035",fill:"none"}}],classes:["chevron"],namespace:"http://www.w3.org/2000/svg",attributes:{width:"12px",height:"11px",viewBox:"0 0 32 20"}},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}]}],classes:["options-button"]}},title:a.d("CKSharing.AddParticipants.ShareSettingsDisclosureButton.Title"),action:"toggleOptions"}))}),_shouldHideDropdownSummary:X.b({readOnly:!0,dependencies:["isExpanded","shouldHideAddParticipantsSummary"],get:Object.assign((function(){return this.isExpanded||this.shouldHideAddParticipantsSummary}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])||i.internalGet(this,t[1+n])}})}),_shouldHideNonDropdownSummary:X.b({readOnly:!0,dependencies:["hasDropdown","shouldHideAddParticipantsSummary"],get:Object.assign((function(){return this.hasDropdown||this.shouldHideAddParticipantsSummary}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])||i.internalGet(this,t[1+n])}})}),shouldHideAddParticipantsSummary:X.b(!1),transport:X.b(),isToggleEnabled:!0,isExpanded:X.b(!1),isDisabled:X.b(!1),showShareOptionsDropdown:X.b({dependencies:["supportedAccess","supportedPermissions","transport"],readOnly:!0,get:Object.assign((function(){var e=this.supportedPermissions,t=this.supportedAccess,n=this.transport,i=e?e.length:0,r=t?t.length:0;return(i>1||r>1)&&n!==Zb.SCHOOLWORK}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[1+n]),a=i.internalGet(this,t[0+n]),o=i.internalGet(this,t[2+n]),s=r?r.length:0,l=a?a.length:0;return(s>1||l>1)&&o!==Zb.SCHOOLWORK}})}),isHidden:X.b({dependencies:["isLoading"],readOnly:!0,get:Object.assign((function(){return this.isLoading}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])}})}),isLoading:X.b(!1),accessDropdownValue:X.b(),permissionDropdownValue:X.b(),supportedAccess:X.b(),supportedPermissions:X.b(),summaryTextNoOption:X.b(),summaryTextWOption:X.b(),accessLabelString:Y.c(a.d("CKSharing.AddParticipants.AccessLabel.Title")),allowLabelString:Y.c(a.d("CKSharing.AddParticipants.AllowLabel.Title")),hasAccessDropdown:X.b({readOnly:!0,dependencies:["supportedAccess"],get:Object.assign((function(){var e=this.supportedAccess;return!!e&&e.length>1}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return!!r&&r.length>1}})}),showPermissionsDropdown:X.b(!0),hasDropdown:X.b({readOnly:!0,dependencies:["hasAccessDropdown","showPermissionsDropdown"],get:Object.assign((function(){return this.hasAccessDropdown||this.showPermissionsDropdown}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])||i.internalGet(this,t[1+n])}})}),showToggle:X.b({readOnly:!0,dependencies:["hasAccessDropdown","showPermissionsDropdown"],get:Object.assign((function(){return this.isToggleEnabled&&this.hasAccessDropdown&&this.showPermissionsDropdown}),{__CW__getter:function(e,t,n,i){return this.isToggleEnabled&&i.internalGet(this,t[0+n])&&i.internalGet(this,t[1+n])}})}),showDropdownsContainer:X.b({readOnly:!0,dependencies:["showToggle","isExpanded","hasDropdown"],get:Object.assign((function(){return this.showToggle?this.isExpanded&&this.hasDropdown:this.hasDropdown}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?i.internalGet(this,t[1+n])&&i.internalGet(this,t[2+n]):i.internalGet(this,t[2+n])}})}),selectViewsAreVisibleOnScreen:X.b({readOnly:!0,dependencies:["showToggle","isExpanded","isHidden"],get:Object.assign((function(){if(!this.isHidden)return!this.showToggle||this.isExpanded}),{__CW__getter:function(e,t,n,i){if(!i.internalGet(this,t[2+n]))return!i.internalGet(this,t[0+n])||i.internalGet(this,t[1+n])}})}),accessDropdown:X.b({defaultValue:ut.b(Jb,{action:"setEffectiveAccess",ariaLabel:"Share Access Level",options:[{value:Ks.PRIVATE,label:a.d("CKSharing.AddParticipants.Private")},{value:Ks.PUBLIC,label:a.d("CKSharing.AddParticipants.Public")}]}),downstreamBindings:{value:"(owner).accessDropdownValue",isVisibleOnScreen:"(owner).selectViewsAreVisibleOnScreen",isDisabled:"(owner).isDisabled"}}),permissionDropdown:X.b({defaultValue:ut.b(Jb,{action:"setEffectivePermission",ariaLabel:"Share Permission",options:[{value:Gs.READ_WRITE,label:a.d("CKSharing.PermissionsCombo.AllowEditing")},{value:Gs.READ_ONLY,label:a.d("CKSharing.PermissionsCombo.ViewOnly")}]}),downstreamBindings:{value:"(owner).permissionDropdownValue",isVisibleOnScreen:"(owner).selectViewsAreVisibleOnScreen",isDisabled:"(owner).isDisabled"}}),additionalButtonTitle:X.b(),additionalButtonIsVisible:X.b({readOnly:!0,dependencies:["additionalButtonTitle","accessDropdownValue"],get:Object.assign((function(){return!!this.additionalButtonTitle&&this.accessDropdownValue===Ks.PUBLIC}),{__CW__getter:function(e,t,n,i){return!!i.internalGet(this,t[0+n])&&i.internalGet(this,t[1+n])===Ks.PUBLIC}})}),additionalButton:X.b({defaultValue:ut.b(Pi.a,{action:"additionalButtonWasPressed",additionalClassNames:Mi.a(["sharing-additional-button"])}),downstreamBindings:{title:"(owner).additionalButtonTitle"}}),toggleOptions:function(){this.isExpanded=!this.isExpanded}}),ty={},ny={"-":!0,_:!0,".":!0," ":!0,"\t":!0},iy=/[a-zA-Z0-9]/;function ry(e,t){var n=ty[e];if(n)return n;if(!e)return"";for(var i,r,a=0,o="",s=!0;i=e[a];)t&&i===t||!t&&ny[i]?r=!0:iy.test(i)&&(r&&(i=i.toUpperCase()),s&&(i=i.toLowerCase()),o+=i,r=!1,s=!1),a++;return ty[e+(t||"")]=o,o}var ay=n(321),oy=n(413),sy=n(402),ly=Di.a.extend(pb.a,{supportsDragScroll:Object(Y.c)(!sy.b.get("isTouchSupported")),staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",name:"thumb",classes:["cw-scroll-indicator-thumb"]}],name:"track",classes:["cw-scroll-indicator-track"]}],classes:["cw-scroll-indicator"],styles:{display:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"isShowing",truevalue:"block",falsevalue:"none",attributes:{},unit:null,property:"display"}}}},className:"cw-ui-scroll-indicator-view",__QUALIFIED_CLASS_NAME__:"ScrollIndicatorView"},eventCoordinateKey:null,thumbPositionKey:null,minThumbSize:Object(X.b)(20),minThumbOutsideSize:Object(X.b)(10),overscrollShrinkFactor:Object(X.b)(2),thickness:Object(X.b)({readOnly:!0,dependencies:["thicknessKey","element","isAttached"],get:Object.assign((function(){var e=this.thicknessKey,t=this.element;return e&&t&&this.isAttached?t.getBoundingClientRect()[e]:0}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[1+n]);return r&&a&&i.internalGet(this,t[2+n])?a.getBoundingClientRect()[r]:0}})}),thicknessKey:Object(X.b)(),beginMargin:Object(X.b)(6),endMargin:Object(X.b)(6),totalEndMargin:Object(X.b)({readOnly:!0,dependencies:["inset","endMargin"],get:Object.assign((function(){var e=this.inset;return this.endMargin+e}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return i.internalGet(this,t[1+n])+r}})}),size:Object(X.b)({readOnly:!0,dependencies:["scrollSize","beginMargin","totalEndMargin"],get:Object.assign((function(){return this.scrollSize-this.beginMargin-this.totalEndMargin}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])-i.internalGet(this,t[1+n])-i.internalGet(this,t[2+n])}})}),otherScrollIndicator:Object(X.b)(),inset:Object(X.b)({readOnly:!0,dependencies:["otherScrollIndicator.isShowing","otherScrollIndicator.thickness"],get:Object.assign((function(){return this.getPath("otherScrollIndicator.isShowing")?this.getPath("otherScrollIndicator.thickness"):0}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])?i.internalGetPath(this,t[1+n]):0}})}),scrollMin:Object(X.b)(0),totalSize:Object(X.b)(0),scrollSize:Object(X.b)(0),scrollPosition:Object(X.b)(0),isShowing:Object(X.b)({readOnly:!0,dependencies:["scrollSize","totalSize"],get:Object.assign((function(){return this.scrollSize<this.totalSize&&this.totalSize!==1/0}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])<i.internalGet(this,t[1+n])&&i.internalGet(this,t[1+n])!==1/0}})}),relativeScrollPosition:Object(X.b)({dependencies:["scrollMin","scrollPosition"],writeDependencies:["scrollPosition"],get:Object.assign((function(){return this.scrollPosition-this.scrollMin}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[1+n])-i.internalGet(this,t[0+n])}}),set:Object.assign((function(e){this.scrollPosition=e+this.scrollMin}),{__CW__setter:function(e,t,n,i,r){n[0+i]=e+this.scrollMin}}),writeDependencySetPathMap:[!1]}),scrollProportion:Object(X.b)({readOnly:!0,dependencies:["scrollSize","totalSize"],get:Object.assign((function(){return this.scrollSize/this.totalSize}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])/i.internalGet(this,t[1+n])}})}),minThumbProportion:Object(X.b)({readOnly:!0,dependencies:["size","minThumbSize"],get:Object.assign((function(){return this.minThumbSize/this.size}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[1+n])/i.internalGet(this,t[0+n])}})}),minThumbOutsideProportion:Object(X.b)({readOnly:!0,dependencies:["size","minThumbOutsideSize"],get:Object.assign((function(){return this.minThumbOutsideSize/this.size}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[1+n])/i.internalGet(this,t[0+n])}})}),thumbProportion:Object(X.b)({readOnly:!0,dependencies:["scrollProportion","minThumbProportion"],get:Object.assign((function(){return Math.max(this.scrollProportion,this.minThumbProportion)}),{__CW__getter:function(e,t,n,i){return Math.max(i.internalGet(this,t[0+n]),i.internalGet(this,t[1+n]))}})}),sizeAdjustment:Object(X.b)({readOnly:!0,dependencies:["scrollProportion","thumbProportion"],get:Object.assign((function(){return(1-this.scrollProportion)/(1-this.thumbProportion)}),{__CW__getter:function(e,t,n,i){return(1-i.internalGet(this,t[0+n]))/(1-i.internalGet(this,t[1+n]))}})}),adjustedSize:Object(X.b)({readOnly:!0,dependencies:["totalSize","sizeAdjustment"],get:Object.assign((function(){return this.totalSize*this.sizeAdjustment}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])*i.internalGet(this,t[1+n])}})}),thumbSize:Object(X.b)({readOnly:!0,dependencies:["thumbProportion","relativeScrollPosition","minThumbOutsideProportion","scrollProportion","overscrollShrinkFactor","totalSize","scrollSize","adjustedSize"],get:Object.assign((function(){var e=this.relativeScrollPosition;if(e<0){var t=-e/this.adjustedSize;return 100*Math.max(this.minThumbOutsideProportion,this.scrollProportion-this.overscrollShrinkFactor*t)}var n=this.totalSize-this.scrollSize;if(e>n){var i=(e-n)/this.adjustedSize;return 100*Math.max(this.minThumbOutsideProportion,this.scrollProportion-this.overscrollShrinkFactor*i)}return 100*this.thumbProportion}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[1+n]);if(r<0){var a=-r/i.internalGet(this,t[7+n]);return 100*Math.max(i.internalGet(this,t[2+n]),i.internalGet(this,t[3+n])-i.internalGet(this,t[4+n])*a)}var o=i.internalGet(this,t[5+n])-i.internalGet(this,t[6+n]);if(r>o){var s=(r-o)/i.internalGet(this,t[7+n]);return 100*Math.max(i.internalGet(this,t[2+n]),i.internalGet(this,t[3+n])-i.internalGet(this,t[4+n])*s)}return 100*i.internalGet(this,t[0+n])}})}),thumbPosition:Object(X.b)({readOnly:!0,dependencies:["adjustedSize","relativeScrollPosition","scrollSize","totalSize","thumbSize"],get:Object.assign((function(){var e=this.relativeScrollPosition;return e<0?0:e>this.totalSize-this.scrollSize?100-this.thumbSize:e/this.adjustedSize*100}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[1+n]);return r<0?0:r>i.internalGet(this,t[3+n])-i.internalGet(this,t[2+n])?100-i.internalGet(this,t[4+n]):r/i.internalGet(this,t[0+n])*100}})}),_dragPointerId:null,_dragStartPixel:null,_dragStartThumbPosition:null,pointerUp:function(e){var t=this,n=arguments;if(!this.get("supportsDragScroll"))return!1;t.__s._$3Nz$pointerUp.apply(t,n);var i=e.pointerId;return this._dragPointerId===i&&(this._dragPointerId=null,this._dragStartPixel=null,this._dragStartThumbPosition=null,!0)},pointerDown:function(e){var t=this,n=arguments;if(!this.get("supportsDragScroll"))return!1;t.__s._$3Tc$pointerDown.apply(t,n);var i=this.get("thumb");if(e.target===i){var r=e.pointerId;this._dragPointerId=r,this._dragStartPixel=e[this.eventCoordinateKey],this._dragStartThumbPosition=this.get("relativeScrollPosition")/this.get("totalSize")}else{var a=i.getBoundingClientRect()[this.thumbPositionKey];e[this.eventCoordinateKey]<a?this.pageUp():this.pageDown()}return!0},pointerMove:function(e){var t=this,n=arguments;if(!this.get("supportsDragScroll"))return!1;if(this._dragPointerId!==e.pointerId)return!1;t.__s._$3k1$pointerMove.apply(t,n);var i=e[this.eventCoordinateKey],r=i-this._dragStartPixel,a=this.get("size");return this.scrollTo(100*(this._dragStartThumbPosition+r/a*this.get("sizeAdjustment"))),!0},__superMap:{_$3Nz$pointerUp:"pointerUp",_$3Tc$pointerDown:"pointerDown",_$3k1$pointerMove:"pointerMove"}}),cy=ly.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:["vertical"]},track:{type:"ELEMENT",tagname:"ext",styles:{top:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"beginMargin",attributes:{},unit:"px",property:"top"},bottom:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"totalEndMargin",attributes:{},unit:"px",property:"bottom"}}},thumb:{type:"ELEMENT",tagname:"ext",styles:{top:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"thumbPosition",attributes:{},unit:"%",property:"top"},height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"thumbSize",attributes:{},unit:"%",property:"height"}}}},className:"cw-ui-vertical-scroll-indicator-view",__QUALIFIED_CLASS_NAME__:"VerticalScrollIndicatorView"},eventCoordinateKey:"clientY",thumbPositionKey:"top",thicknessKey:"width",pageUp:function(){this.get("parent").pageUp()},pageDown:function(){this.get("parent").pageDown()},scrollTo:function(e){this.get("parent").scrollTo(void 0,e)}}),uy=ly.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:["horizontal"]},track:{type:"ELEMENT",tagname:"ext",styles:{left:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"beginMargin",attributes:{},unit:"px",property:"left"},right:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"totalEndMargin",attributes:{},unit:"px",property:"right"}}},thumb:{type:"ELEMENT",tagname:"ext",styles:{left:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"thumbPosition",attributes:{},unit:"%",property:"left"},width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"thumbSize",attributes:{},unit:"%",property:"width"}}}},className:"cw-ui-horizontal-scroll-indicator-view",__QUALIFIED_CLASS_NAME__:"HorizontalScrollIndicatorView"},eventCoordinateKey:"clientX",thumbPositionKey:"left",thicknessKey:"height",pageUp:function(){this.get("parent").pageLeft()},pageDown:function(){this.get("parent").pageRight()},scrollTo:function(e){this.get("parent").scrollTo(e,void 0)}}),dy={staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isEnlarged",truevalue:"cw-scroll-indicator-enlarged",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isInstantlyEnlarged",truevalue:"cw-scroll-indicator-instantly-enlarged",attributes:{}}],styles:{opacity:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_opacity",attributes:{},unit:null,property:"opacity"},visibility:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"_isVisible",truevalue:"",falsevalue:"hidden",attributes:{},unit:null,property:"visibility"}}}}},scrollIndicatorShouldFade:Object(X.b)(!0),scrollIndicatorShouldEnlarge:Object(X.b)(!0),shouldShowScrollIndicatorIfSizeChanged:Object(X.b)(!1),fadeDelay:500,fadeTime:200,FPS:60,_opacity:0,isEnlarged:Object(X.b)(!1),_isVisible:Object(X.b)({readOnly:!0,dependencies:["_opacity"],get:Object.assign((function(){return 0!==this._opacity}),{__CW__getter:function(e,t,n,i){return 0!==i.internalGet(this,t[0+n])}})}),_maintainEnlargedState:Object(Ni.f)("scrollIndicatorShouldEnlarge","_isVisible","isBeingHovered",(function(e,t,n){if(e){var i=!1;t&&(i=n||this.get("isEnlarged")),yc(this,"isEnlarged",i),i||(this.isInstantlyEnlarged=!1)}else yc(this,"isEnlarged",!1)})),_handleThumbProportionChange:Object(Ni.f)("thumbProportion",(function(){this.shouldShowScrollIndicatorIfSizeChanged&&this.renewVisibility()})),didScroll:function(e){!this.get("_isVisible")&&e&&this._boundingClientRectHitTest(e)&&(yc(this,"isBeingHovered",!0),this.scrollIndicatorShouldEnlarge&&(this.isInstantlyEnlarged=!0)),this.renewVisibility()},_boundingClientRectHitTest:function(e){var t=this.get("element").getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;return n>=0&&n<=t.width&&i>=0&&i<=t.height},_handleHoverStateChange:Object(Ni.f)("isBeingHovered",(function(e){this.renewVisibility()})),_handleAttachOrDetach:Object(Ni.f)("isAttached",(function(e){e?this.get("_isVisible")&&this.renewVisibility():this.renewVisibility()})),renewVisibility:function(){this._fadeOutAnimationTimer.stop(),this._fadeOutTimer.stop();var e=this.get("scrollIndicatorShouldFade");this.get("isAttached")?(this.set("_opacity",1),e&&!this.get("isBeingHovered")&&this._fadeOutTimer.start()):this.set("_opacity",e?0:1)},_showOrFadeOnShouldFadeChange:Object(Ni.f)("scrollIndicatorShouldFade",(function(){this.renewVisibility()})),_fadeOutTimer:Object(Y.c)({strong:!0,defaultValue:function(){return yh.a.create({delay:this.fadeDelay,action:"beginFadeOut",target:this})}}),_fadeOutAnimationTimer:Object(Y.c)({strong:!0,defaultValue:function(){return yh.a.create({delay:1e3/this.FPS,action:"fadeStep",target:this,timesToFire:this.fadeTime/1e3*this.FPS})}}),beginFadeOut:function(){return this._fadeOutAnimationTimer.start(),!0},fadeStep:function(e){return this.set("_opacity",1-e.fireCount/e.timesToFire),!0}},hy=uy.extend(dy,{staticMembers:{className:"cw-ui-fading-horizontal-scroll-indicator-view",__QUALIFIED_CLASS_NAME__:"FadingHorizontalScrollIndicatorView"}}),fy=cy.extend(dy,{staticMembers:{className:"cw-ui-fading-vertical-scroll-indicator-view",__QUALIFIED_CLASS_NAME__:"FadingVerticalScrollIndicatorView"}}),py=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initialTimestamp,n=void 0===t?0:t,i=e.initialPosition,r=void 0===i?0:i,a=e.initialVelocity,o=void 0===a?0:a,s=e.direction,l=void 0===s?1:s;this.initialTimestamp=n,this.initialPosition=r,this.initialVelocity=o,this.direction=l}var t=e.prototype;return t.positionAtTime=function(e){return this.initialPosition+this.direction*this.calculatePositionAtTime(e-this.initialTimestamp)},t.positionDelta=function(e,t){return this.direction*(this.calculatePositionAtTime(t-this.initialTimestamp)-this.calculatePositionAtTime(e-this.initialTimestamp))},t.velocityAtTime=function(e){return this.direction*this.calculateVelocityAtTime(e-this.initialTimestamp)},t.timeAtPosition=function(e){var t=this;return this.calculateTimeAtPosition(this.direction*(e-this.initialPosition)).map((function(e){return t.initialTimestamp+e}))},e}(),my=Math.log(.998),gy=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=i.prototype;return r.calculatePositionAtTime=function(e){return this.initialVelocity*(Math.pow(.998,e)-1)/my},r.calculateVelocityAtTime=function(e){return this.initialVelocity*Math.pow(.998,e)},r.calculateTimeAtPosition=function(e){if(0===e)return[0];var t=this.initialVelocity;return[Math.log(e*my/t+1)/my]},i}(py),vy=function(e){var t,n;function i(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.initialOffset,r=void 0===i?0:i,a=n.initialPosition,o=void 0===a?0:a;return(t=e.call(this,Object.assign({},n,{initialPosition:o-r}))||this).initialOffset=r,t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=i.prototype;return r.calculatePositionAtTime=function(e){var t=1e3*this.initialVelocity;e/=1e3;var n=Math.exp(-11.25*e);return(this.initialOffset+t*e)*n},r.calculateVelocityAtTime=function(e){var t=1e3*this.initialVelocity,n=-11.25*(e/=1e3);return Math.exp(n)*((1+n)*t+-11.25*this.initialOffset)/1e3},r.calculateTimeAtPosition=function(e){throw new Error("BounceAnimationg#calculateTimeAtPosition: not implemented")},i}(py),_y=n(317),by=n(85),yy=regeneratorRuntime.mark(Ty),Sy=by.b.Possible,Iy=by.b.Began,wy=by.b.Changed,Ey=by.b.Ended,Cy=by.b.Failed,Ay=by.b.Cancelled;function Ty(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void(n.next=2);case 2:if((t=n.sent)===Sy){n.next=5;break}throw new Error("ContinuousGestureRecognizer: state must be initialized to Possible.");case 5:return void(n.next=7);case 7:if((t=n.sent)!==Cy){n.next=12;break}return n.abrupt("return");case 12:if(t!==Iy){n.next=40;break}if(e.shouldBegin()){n.next=15;break}return n.abrupt("return",Cy);case 15:return void(n.next=18);case 18:if((t=n.sent)!==Ay){n.next=23;break}return n.abrupt("return");case 23:if(t!==Cy){n.next=27;break}return n.abrupt("return",Ay);case 27:if(t!==wy){n.next=31;break}return n.abrupt("continue",15);case 31:if(t!==Ey){n.next=35;break}return n.abrupt("return");case 35:throw new Error("GestureRecognizer: invalid state "+t+" for ContinuousGestureRecognizer after Began or Changed. Must be either Changed, Cancelled, or Ended.");case 36:n.next=15;break;case 38:n.next=41;break;case 40:throw new Error("GestureRecognizer: invalid state "+t+" for ContinuousGestureRecognizer after Possible. Must be either Began or Failed.");case 41:case"end":return n.stop()}}),yy)}function Oy(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Dy(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dy(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function Dy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var My=by.b.Began,Ny=by.b.Changed,Fy=by.b.Ended,Ly=by.b.Failed;function Ry(e){var t=e.x,n=e.y;return Math.sqrt(t*t+n*n)}var xy=by.a.extend({_correctedStartingLocation:null,translation:Object(Y.c)({get:function(){var e=this.location,t=this._correctedStartingLocation;return e&&t?{x:e.x-t.x,y:e.y-t.y}:{x:NaN,y:NaN}},set:function(e){var t=this.location,n=this._correctedStartingLocation;t&&n&&(n.x=t.x-e.x,n.y=t.y-e.y)}}),velocity:Object(Y.c)({readOnly:!0,get:function(){for(var e,t={x:0,y:0},n=function(){var n=e.value,i=n.length-1;if(0===i)return"continue";var r=n.reduce((function(e,t,r){if(r===i)return e;var a=n[r+1],o=t.timestamp-a.timestamp,s=Math.min(o,100-e.elapsedTime),l=t.x-a.x,c=t.y-a.y,u=s/o;return e.x+=l*u,e.y+=c*u,e.elapsedTime+=s,e}),{x:0,y:0,elapsedTime:0}),a=r.x,o=r.y,s=r.elapsedTime,l={x:a/s,y:o/s};Ry(l)>Ry(t)&&(t=l)},i=Oy(this._trackedPointerLocations.values());!(e=i()).done;)n();return t}}),location:Object(Y.c)({get:function(){for(var e,t=0,n=0,i=this._trackedPointerLocations,r=Oy(i.values());!(e=r()).done;){var a=e.value[0];t+=a.x,n+=a.y}var o=i.size;return{x:t/=o,y:n/=o}}}),stateGenerator:Ty,_trackedPointerLocations:Object(ut.b)(Map),_updatePointerLocation:function(e){var t=e.pointerId,n=e.clientX,i=e.clientY,r=this._trackedPointerLocations,a=performance.now(),o=r.get(t);if(o){var s=o[0];a===s.timestamp?(s.x=n,s.y=i):o.unshift({x:n,y:i,timestamp:a})}else o=[],r.set(t,o),o.unshift({x:n,y:i,timestamp:a});for(var l=a-100,c=o.length-1;c>=0;c--)if(o[c].timestamp>=l){o.splice(c+2);break}},pointerDown:function(e){if(0===this._trackedPointerLocations.size){this._updatePointerLocation(e);var t=this.location;this._correctedStartingLocation=t,this.state=My}else{var n=this.translation;this._updatePointerLocation(e),this.translation=n,this.state=Ny}},pointerMove:function(e){this._updatePointerLocation(e),this.state=Ny},pointerUp:function(e){this._updatePointerLocation(e);var t=this._trackedPointerLocations;if(1===t.size)this.state=Fy;else{var n=this.translation;t.delete(e.pointerId),this.translation=n,this.state=Ny}},pointerCancel:function(e){this.state=Ly},reset:function(){this.__s._$2ha$reset.call(this),this._trackedPointerLocations.clear(),this._correctedStartingLocation=null},__superMap:{_$2ha$reset:"reset"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PanGestureRecognizer"}}),Py=n(109),ky=regeneratorRuntime.mark(Vy),Uy=by.b.Possible,jy=by.b.Ended,By=by.b.Failed;function Vy(e){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:if((t=e.sent)===Uy){e.next=5;break}throw new Error("DiscreteGestureRecognizer: state must be initialized to Possible.");case 5:return void(e.next=7);case 7:if((t=e.sent)!==By){e.next=12;break}return e.abrupt("return");case 12:if(t!==jy){e.next=16;break}return e.abrupt("return");case 16:throw new Error("GestureRecognizer: invalid state "+t+" for DiscreteGestureRecognizer after Possible. Must be either Ended or Failed.");case 17:case"end":return e.stop()}}),ky)}var $y=Object(ne.b)("ModifierKeys",(function(e){e("Shift"),e("Ctrl"),e("Option"),e("Meta"),e("Cmd"),e("Win")}));$y.Alt=$y.Option;var Wy=by.b.Ended,zy=by.b.Failed,Gy=by.a.extend({initFromPool:function(){var e=this,t=arguments;e.__s._$MX$initFromPool.apply(e,t);var n=this.modifiers;n instanceof Set||(this.modifiers=new Set(n))},numberOfTapsRequired:1,modifiers:Object(ut.b)(Set),shouldPreventDefault:!1,targetElement:null,stateGenerator:Vy,maxDelayBetweenTaps:300,maxDurationOfTaps:500,dragThreshold:100,_tapCount:0,_handlingPointerId:NaN,_lockedCursor:!1,shouldReceive:function(e){var t=this,n=arguments;return!(!this.isModifierValid(e)||!isNaN(this._handlingPointerId))&&("click"!==e.type||0!==e.detail||ce.a.sharedInstance.isIE?t.__s._$17j$shouldReceive.apply(t,n):this.delegate.gestureRecognizerShouldReceive(this,e))},shouldRequireFailureOf:function(e){var t=this,n=arguments;return e.instanceOf(Gy)&&this.modifiers.size<e.modifiers.size||t.__s._$1GQ$shouldRequireFailureOf.apply(t,n)},isModifierValid:function(e){var t=this.modifiers;if(t.has($y.Shift)&&!e.shiftKey)return!1;if(t.has($y.Ctrl)&&!e.ctrlKey)return!1;var n=Io.a.sharedInstance,i=n.isWindows;return!(n.isMac&&!t.has($y.Ctrl)&&e.ctrlKey)&&!(t.has($y.Option)&&!e.altKey)&&!(t.has($y.Meta)&&!e.metaKey)&&!(t.has($y.Cmd)&&!e.metaKey&&!i)&&!(t.has($y.Win)&&!e.metaKey&&i)},_failTimerId:NaN,_startFailTimer:function(e){var t=this;this._failTimerId=Object(ft.a)((function(){t.state=zy}),e)},_cancelTimer:function(){var e=this._failTimerId;isNaN(e)||(clearTimeout(e),this._failTimerId=NaN)},pointerDown:function(e){0===this._tapCount&&(this.location={x:e.clientX,y:e.clientY},this.targetElement=e.target),this._handlingPointerId=e.pointerId,this._cancelTimer(),0===this._tapCount&&(this.view.sendEvent("lockCursor",this.getPath("view.style.cursor")),this._lockedCursor=!0),this.numberOfTapsRequired>1&&this._startFailTimer(this.maxDurationOfTaps)},isEventTooFar:function(e){var t=this.location,n=t.x,i=t.y,r=e.clientX,a=e.clientY;return Math.pow(r-n,2)+Math.pow(a-i,2)>this.dragThreshold},shouldFailGesture:function(e){return this.isEventTooFar(e)},pointerMove:function(e){this.shouldFailGesture(e)&&(this.state=zy)},pointerUp:function(e){this._cancelTimer(),this.shouldFailGesture(e)?this.state=zy:(this._tapCount++,this._tapCount>=this.numberOfTapsRequired?this.state=Wy:this._startFailTimer(this.maxDelayBetweenTaps)),this._handlingPointerId=NaN},pointerCancel:function(e){this.state=zy},click:function(e){this.pointerDown(e),this.pointerUp(e)},dispose:function(){this._cancelTimer(),this._lockedCursor&&this.view.sendEvent("releaseCursor"),this.__s._$2V4$dispose.call(this)},didEnterPool:function(){var e=this,t=arguments,n=this.constructor.prototype,i=this.modifiers;i.clear(),this.numberOfTapsRequired=n.numberOfTapsRequired,e.__s._$2c_$didEnterPool.apply(e,t)},reset:function(){this.__s._$2db$reset.call(this),this._cancelTimer(),this.location=null,this._tapCount=0,this._handlingPointerId=NaN,this.targetElement=null,this._lockedCursor&&this.view.sendEvent("releaseCursor"),this._lockedCursor=!1},__superMap:{_$MX$initFromPool:"initFromPool",_$17j$shouldReceive:"shouldReceive",_$1GQ$shouldRequireFailureOf:"shouldRequireFailureOf",_$2V4$dispose:"dispose",_$2c_$didEnterPool:"didEnterPool",_$2db$reset:"reset"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TapGestureRecognizer"}}),Hy=n(401).a.extend({deltaX:Object(Y.c)(0),deltaY:Object(Y.c)(0),consumeX:Ky("deltaX"),consumeY:Ky("deltaY"),isEmpty:Object(Y.c)({get:function(){return 0===this.get("deltaX")&&0===this.get("deltaY")}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ScrollEvent"}});function Ky(e){return function(t){var n,i,r=this.get(e);return void 0===t?t=r:(n=t,i=r,t=Math.abs(n)<Math.abs(i)?n:i),this.set(e,r-t),t}}var Qy=n(150);function qy(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Yy(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yy(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function Yy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Xy={mixinDependencies:[{mixinDependencies:[Me.a,Ni.a],scrollBy:De.a.define(),element:Qy.a.define(),isAttached:Qy.a.define(),scrollX:Qy.a.define(),scrollMinX:Qy.a.define(),width:Qy.a.define(),scrollWidth:Qy.a.define(),scrollY:Qy.a.define(),scrollMinY:Qy.a.define(),height:Qy.a.define(),scrollHeight:Qy.a.define()}],shouldTrackNativeScroll:Io.a.sharedInstance.isiPad,nativeScrollIsEnabled:!1,scrollContainer:Object(Y.c)({get:function(){return this.element}}),setUpSizerElement:function(e){this.element&&this.element.appendChild&&"function"===typeof this.element.appendChild&&this.element.appendChild(e)},tearDownSizerElement:function(e){this.element.removeChild(e)},init:function(){var e=this,t=arguments;e.__s._$sk$init.apply(e,t),this.shouldTrackNativeScroll&&this._setUpNativeScrollTracking()},dispose:function(){var e=this,t=arguments;this.shouldTrackNativeScroll&&this.tearDownNativeScrollTracking(),e.__s._$zZ$dispose.apply(e,t)},gestureRecognizerShouldReceive:function(e,t){var n=this,i=arguments;return(!this.nativeScrollIsEnabled||e!==this.scrollGestureRecognizer)&&n.__s._$12i$gestureRecognizerShouldReceive.apply(n,i)},nativeScrollX:Object(Y.c)({defaultValue:0,type:"number"}),nativeScrollY:Object(Y.c)({defaultValue:0,type:"number"}),_setUpNativeScrollTracking:function(){this.nativeScrollIsEnabled||(this._setUpSizerElement(),this._setUpObservers(),this._setUpScrollListener(),this._syncScrollPositions(),this.nativeScrollIsEnabled=!0)},tearDownNativeScrollTracking:function(){this.nativeScrollIsEnabled&&(this._tearDownSizerElement(),this._tearDownObservers(),this._tearDownScrollListener(),this._syncScrollPositions(),this.nativeScrollIsEnabled=!1)},_setUpSizerElement:function(){if(!this._sizerElement){var e=this._sizerElement=document.createElement("div");e.classList.add("cw-native-scroll-sizer"),Object.assign(e.style,{position:"absolute",top:"0",left:"0","z-index":"-1"}),this.setUpSizerElement(e),(this._sizerObserver=Ni.b.create(this,{inputs:["scrollWidth","scrollHeight"],callback:function(e,t){var n=this._sizerElement;n&&Object(j_.a)(n,{width:e,height:t})}})).connect()}},_setUpObservers:function(){this._scrollObservers||(this._scrollObservers=[Ni.b.create(this,{inputs:["isAttached"],callback:function(e){e&&(this.scrollContainer.scrollLeft=this.nativeScrollX,this.scrollContainer.scrollTop=this.nativeScrollY)}}),Ni.b.create(this,{inputs:["hasMomentum","scrollX","scrollMinX","width","scrollWidth"],callback:function(e,t,n,i,r){if(!0!==e){var a=Math.round(t-n);a!==this.nativeScrollX&&(this.nativeScrollX=a,this.scrollContainer.scrollLeft=a,this.viewController&&this.viewController.update&&"function"===typeof this.viewController.update&&this.viewController.update())}}}),Ni.b.create(this,{inputs:["hasMomentum","scrollY","scrollMinY","height","scrollHeight"],callback:function(e,t,n,i,r){if(!0!==e){var a=Math.round(t-n);a!==this.nativeScrollY&&(this.nativeScrollY=a,this.scrollContainer.scrollTop=a,this.viewController&&this.viewController.update&&"function"===typeof this.viewController.update&&this.viewController.update())}}})]);for(var e,t=qy(this._scrollObservers);!(e=t()).done;)e.value.connect()},_setUpScrollListener:function(){this.updateForNativeScroll=this.updateForNativeScroll.bind(this),Object(ee.a)(this.scrollContainer,"scroll",this.updateForNativeScroll,!0)},_tearDownSizerElement:function(){this.tearDownSizerElement(this._sizerElement),this._sizerElement=null,this._sizerObserver.disconnect(),this._sizerObserver=null},_tearDownObservers:function(){for(var e,t=qy(this._scrollObservers);!(e=t()).done;)e.value.disconnect()},_tearDownScrollListener:function(){Object(Bi.a)(this.scrollContainer,"scroll",this.updateForNativeScroll,!0)},_syncScrollPositions:function(){this.nativeScrollX=this.scrollX,this.nativeScrollY=this.scrollY},updateForNativeScroll:function(){if(this.isAttached){var e=this.scrollContainer,t=e.scrollLeft,n=e.scrollTop,i=e.scrollWidth,r=e.scrollHeight,a=i-this.width,o=r-this.height,s=Math.max(0,Math.min(t,a)),l=Math.max(0,Math.min(n,o)),c=s-this.nativeScrollX,u=l-this.nativeScrollY;0===c&&0===u||(this.nativeScrollX=s,this.nativeScrollY=l,this.scrollBy(c,u),this.didScrollBy&&this.didScrollBy(c,u))}},__superMap:{_$sk$init:"init",_$zZ$dispose:"dispose",_$12i$gestureRecognizerShouldReceive:"gestureRecognizerShouldReceive"}},Jy=X.a.extend({readOnly:!0,cacheable:!1,get:function(e,t,n,i){return i.internalGet(this,t[1+n])-i.internalGet(this,t[0+n])},staticMembers:{__QUALIFIED_CLASS_NAME__:"SizeProperty"}}),Zy={mixinDependencies:[Ni.a,e_.a,_y.a,Xy],init:function(){var e=this,t=arguments;e.__s._$Wp$init.apply(e,t);var n=this.scrollGestureRecognizer=xy.create({event:"updateScroll",delegate:this});this.addGestureRecognizer(n)},gestureRecognizerShouldReceive:function(e,t){var n=this,i=arguments;return(!this.hasMomentum||e===this.scrollGestureRecognizer)&&(e===this.scrollGestureRecognizer?t.pointerType===Py.b.TOUCH||t.pointerType===Py.b.PEN:n.__s._$jO$gestureRecognizerShouldReceive.apply(n,i))},gestureRecognizerShouldRequireFailureOf:function(e,t){var n=this,i=arguments;return e===this.scrollGestureRecognizer?!!t.instanceOf(Gy)&&!(t.view!==this&&!this.element.contains(t.view.element))&&!this.hasMomentum:n.__s._$ux$gestureRecognizerShouldRequireFailureOf.apply(n,i)},_lastTranslation:{x:0,y:0},updateScroll:function(e){var t=e.state,n=e.translation,i=this._lastTranslation,r=this.normalizedX,a=this.normalizedY;this._lastTranslation=n;var o=i.x-n.x,s=i.y-n.y,l=0;this.canScrollHorizontally&&(l=this._calculatePositionWithStretch(o,r,this.normalizedMaxX,this.width));var c=0;if(this.canScrollVertically&&(c=this._calculatePositionWithStretch(s,a,this.normalizedMaxY,this.height)),this.scrollBy(l,c),t===by.b.Ended){this._lastTranslation={x:0,y:0};var u=e.velocity;Math.abs(u.y)<.175&&(u.y=0),Math.abs(u.x)<.175&&(u.x=0),u.y*=-1,u.x*=-1,this.beginMomentumScroll(u)}},_calculatePositionWithStretch:function(e,t,n,i){var r=t+e,a=eS(r,0,n,i),o=Math.sign(e)*Math.min(Math.abs(r-a),Math.abs(e));return e-o+o/2.5},supportsTouchScroll:Object(Y.c)(sy.b.isTouchSupported),mayUseVerticalScrollingAsHorizontal:Object(Y.c)(),processWheelEvent:function(e){this.mayUseVerticalScrollingAsHorizontal&&e.deltaY&&(e.deltaX+=e.deltaY,e.deltaY=0)},wheel:function(e){this.nativeScrollIsEnabled&&this.shouldTrackNativeScroll&&this.tearDownNativeScrollTracking();var t=e.deltaX,n=e.deltaY,i=t>0?this.scrollMaxX-this.width-this.scrollX:this.scrollX-this.scrollMinX,r=n>0?this.scrollMaxY-this.height-this.scrollY:this.scrollY-this.scrollMinY;if(i<=0&&r<=0)return!1;e.preventDefault();var a=this._deferredScrollEvent;a?(a.deltaX+=t,a.deltaY+=n,a.nativeEvent=e):((a=this._deferredScrollEvent=Hy.create({deltaX:t,deltaY:n,nativeEvent:e})).retain(this,"retain during scroll deferral"),this._scrollRAF||(this._scrollRAF=Object(Da.a)(Object(r_.a)(this._flushAccumulatedWheelDeltas,this))))},_flushAccumulatedWheelDeltas:function(){var e=this._deferredScrollEvent;this._cleanUpCurrentScrollAccumulation(),e&&(this.bubbleScroll(e),this.overflowX=this.overflowY=0)},_cleanUpCurrentScrollAccumulation:function(){var e=this._deferredScrollEvent;e&&(this._deferredScrollEvent=null,e.autorelease(this,"retain during scroll deferral"));var t=this._scrollRAF;t&&(this._scrollRAF=null,cancelAnimationFrame(t))},dispose:function(){var e=this,t=arguments;this._cleanUpCurrentScrollAccumulation(),e.__s._$2v2$dispose.apply(e,t)},overflowX:Object(X.b)(0),overflowY:Object(X.b)(0),bubbleScroll:function(e){var t=this;for(e.deltaX=e.deltaX+this.overflowX,e.deltaY=e.deltaY+this.overflowY;!e.isEmpty;){for(;t&&!t.handleScroll;)t=t.nextResponder;if(!t)break;t.handleScroll(e),t=t.nextResponder}this.overflowX=e.deltaX,this.overflowY=e.deltaY},scrollX:Object(X.b)(0),normalizedX:Object(X.b)({readOnly:!0,dependencies:["scrollX","scrollMinX"],get:Object.assign((function(){return this.scrollX-this.scrollMinX}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])-i.internalGet(this,t[1+n])}})}),scrollY:Object(X.b)(0),normalizedY:Object(X.b)({readOnly:!0,dependencies:["scrollY","scrollMinY"],get:Object.assign((function(){return this.scrollY-this.scrollMinY}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])-i.internalGet(this,t[1+n])}})}),scrollMinX:Object(X.b)(0),scrollMaxX:Object(X.b)(0),normalizedMaxX:Object(X.b)({readOnly:!0,dependencies:["scrollMaxX","scrollMinX"],get:Object.assign((function(){return this.scrollMaxX-this.scrollMinX}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])-i.internalGet(this,t[1+n])}})}),scrollMinY:Object(X.b)(0),scrollMaxY:Object(X.b)(0),normalizedMaxY:Object(X.b)({readOnly:!0,dependencies:["scrollMaxY","scrollMinY"],get:Object.assign((function(){return this.scrollMaxY-this.scrollMinY}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])-i.internalGet(this,t[1+n])}})}),scrollHeight:Object(Xh.c)(Jy,{dependencies:["scrollMinY","scrollMaxY"]}),scrollWidth:Object(Xh.c)(Jy,{dependencies:["scrollMinX","scrollMaxX"]}),height:Object(X.b)(0),width:Object(X.b)(0),canScrollVertically:Object(X.b)({readOnly:!0,dependencies:["scrollHeight","height"],get:Object.assign((function(){return this.scrollHeight>this.height}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])>i.internalGet(this,t[1+n])}})}),canScrollHorizontally:Object(X.b)({readOnly:!0,dependencies:["scrollWidth","width"],get:Object.assign((function(){return this.scrollWidth>this.width}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])>i.internalGet(this,t[1+n])}})}),handleScroll:function(e){var t=this.scrollX,n=this.scrollY,i=e.deltaX,r=e.deltaY,a=(i>0?this.scrollMaxX-this.width:this.scrollMinX)-t,o=(r>0?this.scrollMaxY-this.height:this.scrollMinY)-n,s=e.consumeX(a),l=e.consumeY(o);this.attemptScrollByForEvent(s,l,e)},attemptScrollBy:function(e,t){this.stopMomentumScroll();var n=this._attemptScrollBy(e,t);return this.didScrollBy&&this.didScrollBy(e,t),n},attemptScrollByForEvent:function(e,t,n){n.isMomentumScroll||this.stopMomentumScroll();var i=this._attemptScrollBy(e,t);return this.didScrollBy&&this.didScrollBy(e,t,n),i},_attemptScrollBy:function(e,t){var n=this.scrollX,i=n+e;e=(i=eS(i,this.scrollMinX,this.scrollMaxX,this.width))-n;var r=this.scrollY,a=r+t;return t=(a=eS(a,this.scrollMinY,this.scrollMaxY,this.height))-r,(e||t)&&this._scrollBy(e,t),0!==e||0!==t},validateScrollPosition:function(){var e=0;if(!this._s_isValidatingScrollPosition){this._s_isValidatingScrollPosition=!0;for(var t=!1;this._attemptScrollBy(0,0);)if(t=!0,e++>10){Re.b.warn("Could not validate scroll position.Minimums: "+this.scrollMinX+","+this.scrollMinY+".Maximums: "+this.scrollMaxX+","+this.scrollMaxY+".Current: "+this.scrollX+", "+this.scrollY);break}return this._s_isValidatingScrollPosition=!1,t}},scrollBy:function(e,t){this.stopMomentumScroll(),this._internalScrollBy(e,t)},_internalScrollBy:function(e,t){this.canScrollHorizontally||(e=0),this.canScrollVertically||(t=0),this._scrollBy(e,t),this.didScrollBy&&this.didScrollBy(e,t)},_scrollBy:function(e,t){e&&(this.scrollX+=e),t&&(this.scrollY+=t)},didScrollBy:null,pageUp:function(){this.attemptScrollBy(0,-this.height)},pageDown:function(){this.attemptScrollBy(0,this.height)},pageLeft:function(){this.attemptScrollBy(-this.width,0)},pageRight:function(){this.attemptScrollBy(this.width,0)},scrollTo:function(e,t){var n=0;void 0!==e&&(e/=100,n=this.scrollX,n=this.scrollWidth*e+this.scrollMinX-n);var i=0;void 0!==t&&(t/=100,i=this.scrollY,i=this.scrollHeight*t+this.scrollMinY-i),this.attemptScrollBy(n,i)},viewport:Object(X.b)({strong:!0,defaultValue:Object(ut.b)(x_.a)}),_updateViewport:Object(Ni.f)("viewport","scrollX","scrollY","width","height",(function(e,t,n,i,r){e.beginBatchSet().set("x",t).set("y",n).set("width",i).set("height",r).end()})),scrollToRect:function(e){var t=this.viewport,n=0;e.isLeftOf(t)?n=e.x-t.x:e.isRightOf(t)&&(n=e.right-t.right);var i=0;e.isAbove(t)?i=e.y-t.y:e.isBelow(t)&&(i=e.bottom-t.bottom),this.attemptScrollBy(n,i)},hasMomentum:Object(X.b)({readOnly:!0,get:function(){return 0!==this._momentumRAF}}),_xAnimation:null,_yAnimation:null,_previousTimestamp:NaN,_momentumRAF:0,beginMomentumScroll:function(e){var t=this._previousTimestamp=performance.now(),n=e.x,i=e.y;this.canScrollHorizontally&&(this._xAnimation=new gy({initialTimestamp:t,initialVelocity:Math.abs(n),direction:n<0?-1:1})),this.canScrollVertically&&(this._yAnimation=new gy({initialTimestamp:t,initialVelocity:Math.abs(i),direction:i<0?-1:1})),this._momentumRAF=Object(Da.a)(Object(r_.a)(this._momentumTick,this)),this.propertyChanged("hasMomentum")},stopMomentumScroll:function(){var e=this._momentumRAF;0!==e&&(cancelAnimationFrame(e),this._momentumRAF=0,this.propertyChanged("hasMomentum"))},_getAnimationDelta:function(e,t,n,i,r,a){var o=e.positionDelta(t,n),s=i+o,l=eS(s,0,r,a),c=e.velocityAtTime(n),u=s-l;return e instanceof gy&&0!==u?[o,new vy({initialPosition:u,initialOffset:u,initialTimestamp:n,initialVelocity:c})]:Math.abs(c)<=.01?[l-s,null]:[o,e]},_momentumTick:function(){var e,t,n=this._xAnimation,i=this._yAnimation,r=this.width,a=this.height,o=this.normalizedX,s=this.normalizedY,l=this.normalizedMaxX,c=this.normalizedMaxY,u=this._previousTimestamp,d=performance.now();this._previousTimestamp=d;var h=0;if(this.canScrollHorizontally){var f=this._getAnimationDelta(n,u,d,o,l,r);h=f[0],e=f[1]}var p=0;if(this.canScrollVertically){var m=this._getAnimationDelta(i,u,d,s,c,a);p=m[0],t=m[1]}this._internalScrollBy(h,p),e||t?this._momentumRAF=Object(Da.a)(Object(r_.a)(this._momentumTick,this)):(this._momentumRAF=0,this.propertyChanged("hasMomentum")),e&&(this._xAnimation=e),t&&(this._yAnimation=t)},__superMap:{_$Wp$init:"init",_$jO$gestureRecognizerShouldReceive:"gestureRecognizerShouldReceive",_$ux$gestureRecognizerShouldRequireFailureOf:"gestureRecognizerShouldRequireFailureOf",_$2v2$dispose:"dispose"}};function eS(e,t,n,i){var r=Math.min(e,n-i);return Math.max(r,t)}var tS={mixinDependencies:[Zy],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"verticalScrollIndicator"},{type:"VIEWOUTLET",tagname:"view",name:"horizontalScrollIndicator"}]}}},hasVerticalScrollIndicator:Object(X.b)(!0),hasHorizontalScrollIndicator:Object(X.b)(!0),horizontalScrollIndicatorClass:uy,verticalScrollIndicatorClass:cy,scrollIndicatorOptions:{},topInset:Object(X.b)(0),scrollIndicatorTopMargin:Object(X.b)(6),scrollIndicatorTotalTopMargin:Object(X.b)({dependencies:["topInset","scrollIndicatorTopMargin"],readOnly:!0,get:Object.assign((function(){return this.topInset+this.scrollIndicatorTopMargin}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])+i.internalGet(this,t[1+n])}})}),scrollIndicatorBottomMargin:Object(X.b)(6),scrollIndicatorLeftMargin:Object(X.b)(6),scrollIndicatorRightMargin:Object(X.b)(6),verticalScrollIndicator:Object(X.b)({readOnly:!0,strong:!0,dependencies:["hasVerticalScrollIndicator"],downstreamBindings:{otherScrollIndicator:"(owner).horizontalScrollIndicator",scrollMin:"(owner).scrollMinY",scrollSize:"(owner).height",totalSize:"(owner).scrollHeight",scrollPosition:"(owner).scrollY",beginMargin:"(owner).scrollIndicatorTotalTopMargin",endMargin:"(owner).scrollIndicatorBottomMargin"},get:Object.assign((function(){return this.hasVerticalScrollIndicator?this.verticalScrollIndicatorClass.create(this.scrollIndicatorOptions):null}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?this.verticalScrollIndicatorClass.create(this.scrollIndicatorOptions):null}})}),horizontalScrollIndicator:Object(X.b)({readOnly:!0,strong:!0,dependencies:["hasHorizontalScrollIndicator"],downstreamBindings:{otherScrollIndicator:"(owner).verticalScrollIndicator",scrollMin:"(owner).scrollMinX",scrollSize:"(owner).width",totalSize:"(owner).scrollWidth",scrollPosition:"(owner).scrollX",beginMargin:"(owner).scrollIndicatorLeftMargin",endMargin:"(owner).scrollIndicatorRightMargin"},get:Object.assign((function(){return this.hasHorizontalScrollIndicator?this.horizontalScrollIndicatorClass.create(this.scrollIndicatorOptions):null}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?this.horizontalScrollIndicatorClass.create(this.scrollIndicatorOptions):null}})})},nS={mixinDependencies:[tS],horizontalScrollIndicatorClass:hy,verticalScrollIndicatorClass:fy,scrollIndicatorsShouldFade:Object(X.b)(!0),didScrollBy:function(e,t,n){if(e||n&&n.deltaX&&this.canScrollHorizontally){var i=this.horizontalScrollIndicator;i&&i.didScroll(n)}if(t||n&&n.deltaY&&this.canScrollVertically){var r=this.verticalScrollIndicator;r&&r.didScroll(n)}},showScrollIndicators:function(){var e=this.horizontalScrollIndicator;e&&e.renewVisibility();var t=this.verticalScrollIndicator;t&&t.renewVisibility()},createScrollIndicatorOptions:function(e){var t=this,n=arguments,i=t.__s._$jT$createScrollIndicatorOptions.apply(t,n);return i.scrollIndicatorShouldFade=this.bindingFor("scrollIndicatorsShouldFade"),i},__superMap:{_$jT$createScrollIndicatorOptions:"createScrollIndicatorOptions"}},iS=n(277),rS={mixinDependencies:[Ni.a],layoutContext:Object(X.b)({strong:!0,type:x_.b,defaultValue:Object(ut.b)(x_.a)})},aS={viewClass:Object(Mi.a)({isFocusable:!0}),init:function(){var e=this,t=arguments;e.__s._$D1$init.apply(e,t),this.view.hasMixin(Zy)||Object(ze.b)("KeyboardScrollViewControllerSupport cannot be used on a ViewController where the view lacks ScrollSupport.")},keyDown:function(e){var t,n=!0;switch(e.keyCode){case ji.a.SPACE:t=e.shiftKey?"scrollToPreviousPage":"scrollToNextPage";break;case ji.a.PAGEUP:t="scrollToPreviousPage";break;case ji.a.PAGEDOWN:t="scrollToNextPage";break;case ji.a.HOME:t="scrollToFirstPage";break;case ji.a.END:t="scrollToLastPage";break;default:n=!1}return n&&(this.sendEvent(t,e),e.preventDefault()),n||"function"===typeof this.__s._$VY$keyDown&&!!this.__s._$VY$keyDown.call(this,e)},scrollToPreviousPage:function(){this.view.pageUp()},scrollToNextPage:function(){this.view.pageDown()},scrollToFirstPage:function(){this.view.scrollTo(void 0,0)},scrollToLastPage:function(){this.view.scrollTo(void 0,100)},__superMap:{_$D1$init:"init",_$VY$keyDown:"keyDown"}},oS=n(158),sS=Ge.a.extend(oS.a,{itemsChanges:Object(Y.c)({strong:!0}),invalidateItemAt:function(e){var t=this.invalidItems;t||(t=this.invalidItems=sa.create()),t.add(e)},invalidItems:Object(Y.c)({strong:!0}),sectionsChanges:Object(Y.c)({strong:!0}),invalidateSectionAt:function(e){var t=this.invalidSections;t||(t=this.invalidSections=sa.create()),t.add(e)},invalidSections:Object(Y.c)({strong:!0}),movedBy:Object(Y.c)({strong:!0}),sizeChangedBy:Object(Y.c)({strong:!0}),itemShown:Object(Y.c)({strong:!0}),itemShownAt:Object(Y.c)({strong:!0}),itemScrolledTo:Object(Y.c)({strong:!0}),everythingChanged:!1,layoutMetricsChanged:Object(Y.c)({strong:!0}),collectionChanged:!1,didEnterPool:function(){var e=this,t=arguments;this.itemsChanges=null,this.invalidItems=null,this.sectionsChanges=null,this.invalidSections=null,this.movedBy=null,this.sizeChangedBy=null,this.itemShown=null,this.itemShownAt=null,this.itemScrolledTo=null,this.everythingChanged=!1,this.layoutMetricsChanged=null,this.collectionChanged=!1,e.__s._$cv$didEnterPool.apply(e,t)},toString:function(){var e=this,t=arguments,n="["+e.__s._$e1$toString.apply(e,t)+" ";return this.itemsChanges&&(n+="itemsChanges("+this.itemsChanges.lengthDelta+") "),this.invalidItems&&(n+="invalidItems("+this.invalidItems.size+") "),this.sectionsChanges&&(n+="sectionsChanges("+this.sectionsChanges.lengthDelta+") "),this.invalidSections&&(n+="invalidSections("+this.invalidSections.size+") "),this.movedBy&&(n+="movedBy("+this.movedBy.toString()+") "),this.sizeChangedBy&&(n+="sizeChangedBy("+this.sizeChangedBy.toString()+") "),this.everythingChanged&&(n+="everythingChanged "),this.layoutMetricsChanged&&(n+="layoutMetricsChanged("+this.layoutMetricsChanged.toArray().join(", ")+") "),this.collectionChanged&&(n+="collectionChanged "),this.itemShown&&(n+="itemShown "),this.itemShownAt&&(n+="itemShownAt("+this.itemShownAt.toString()+") "),n+"]"},__superMap:{_$cv$didEnterPool:"didEnterPool",_$e1$toString:"toString"},staticMembers:{__QUALIFIED_CLASS_NAME__:"InvalidationContext"}}),lS=Ge.a.extend(Ni.a,{left:Object(X.b)(0),top:Object(X.b)(0),right:Object(X.b)(0),bottom:Object(X.b)(0),isEstimated:Object(X.b)(!1),toString:function(){var e=this.left,t=this.top,n=this.right,i=this.bottom;return this.__s._$hH$toString.call(this)+" { left: "+e+", top: "+t+", right: "+n+", bottom: "+i+" }"},__superMap:{_$hH$toString:"toString"},staticMembers:{__QUALIFIED_CLASS_NAME__:"SpaceAroundViewport"}}),cS=Ge.a.extend(Ni.a,{collection:Object(X.b)(),layoutDelegate:Object(X.b)({strong:!0}),layoutMetrics:Object(X.b)({strong:!0}),presenter:Object(X.b)({strong:!0}),viewportWidth:Object(X.b)(1024),viewportHeight:Object(X.b)(768),horizontalOverdraw:Object(X.b)(0),verticalOverdraw:Object(X.b)(0),_updateViewportBounds:Object(Ni.f)("viewportWidth","viewportHeight","horizontalOverdraw","verticalOverdraw",(function(e,t,n,i){var r=this.viewportBounds;xi.a.pause(),r.x=-n,r.y=-i,r.width=e+2*n,r.height=t+2*i,xi.a.resume()})),viewportBounds:Object(X.b)({strong:!0,defaultValue:function(){return x_.a.create({x:-this.horizontalOverdraw,y:-this.verticalOverdraw})}}),spaceAroundViewport:Object(X.b)({strong:!0,defaultValue:Object(ut.b)(lS)}),visibleCells:Object(X.b)({strong:!0,defaultValue:Ir.a.create().retain(window,"shared visibleCells initial value")}),_tmp_cellsArray:Object(ut.b)(Array),showItem:function(e,t,n){var i=this.collection.handleFor(e);if(i.isValid){var r=iS.a.create(t,n);this.update(sS.create({itemShown:i,itemShownAt:r}))}else Re.b.warn("LayoutController: Attempted to scroll to item not in collection",{item:e})},scrollToItem:function(e){var t=this.collection.handleFor(e);this.scrollToHandle(t)},scrollToHandle:function(e){e.isValid&&!e.wasRemoved?this.update(sS.create({itemScrolledTo:e})):Re.b.warn("LayoutController: Attempted to scroll to handle not in collection",{handle:e,handlePosition:e.position,handleIsValid:e.isValid,handleWasRemoved:e.wasRemoved})},rectForItem:function(e){var t=this.visibleCells;if(0===t.length)return null;var n=this.layoutDelegate.getCellForItem(this,this.collection,t,e);return n?n.rect:void 0},_beginUpdate:function(e,t,n){return this._isUpdating&&Object(ze.b)("LayoutController cannot update while an update is already in progress.",{invalidationContext:e}),this._isUpdating=!0,n||Object(ze.b)("LayoutController#_beginUpdate: layoutDelegate is required",{invalidationContext:e}),n.acquireVisibleCells(this,t,e)},_finishUpdate:function(e,t,n,i,r){this.visibleCells=r,this._handleItemEnters(r),this._handleItemMoves(r),this._handleItemExits(i),i.clear(),this._isUpdating=!1,this.computeSpaceAroundViewport(e)},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sS.create({everythingChanged:!0});e.retain(this,"LayoutController#update: invalidationContext");var t=this.collection,n=this.layoutDelegate;if(n){var i=this._beginUpdate(e,t,n),r=this.visibleCells;r&&r.length>0&&n.reusePreviousVisibleCells(this,t,i,r,e),0===i.length&&n.initializeVisibleCells(this,t,i,r,e),0!==i.length&&n.completeVisibleCells(this,t,i,e),n.finalizeVisibleCells(this,t,i,e),this._finishUpdate(e,t,n,r,i),e.release(this,"LayoutController#update: invalidationContext")}else e.release(this,"LayoutController#update: invalidationContext")},_handleItemExits:function(e){var t,n,i=e.length,r=this._tmp_cellsArray;for(r.length=0,t=0;t<i;t++)(n=e.objectAt(t)).isLaidOut||r.push(n);var a=this.presenter;for(a.cellsWillExit(r),i=r.length,t=0;t<i;t++)(n=r[t]).wasLaidOut=!1,a.cellDidExit(n);a.cellsDidExit(r)},_handleItemEnters:function(e){var t,n,i=e.length,r=this._tmp_cellsArray;for(r.length=0,t=0;t<i;t++)(n=e.objectAt(t)).wasLaidOut||r.push(n);var a=this.presenter;for(a.cellsWillEnter(r),i=r.length,t=0;t<i;t++)n=r[t],a.cellDidEnter(n),n.wasLaidOut=!0;a.cellsDidEnter(r),r.length=0},_handleItemMoves:function(e){var t=this.presenter;t.cellsWillMove(e);for(var n=0,i=e.length;n<i;n++){var r=e.objectAt(n);t.cellDidMove(r)}t.cellsDidMove(e)},computeSpaceAroundViewport:function(e){var t=this.spaceAroundViewport;return xi.a.pause(),0===this.visibleCells.length?(t.left=0,t.right=0,t.top=0,t.bottom=0):(t=this.layoutDelegate.computeSpaceAroundViewport(this,e),this.spaceAroundViewport=t),xi.a.resume(),t},staticMembers:{__QUALIFIED_CLASS_NAME__:"CollectionLayoutController"}}),uS=n(242),dS=Di.a.extend(Zy,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",name:"itemViews",classes:["cw-collection-item-container","cw-scrolling-container"]}],classes:["cw-collection-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"nativeScrollIsEnabled",truevalue:"cw-native-scrolling",attributes:{}}]}},className:"cw-ui-collections-collection-view",__QUALIFIED_CLASS_NAME__:"CollectionView"},_scrollContainer:null,scrollContainer:Object(Y.c)({get:function(){return this._scrollContainer||(this._scrollContainer=this.element.getElementsByClassName("cw-collection-item-container")[0])}}),_sizerView:void 0,setUpSizerElement:function(e){var t=this._sizerView=hS.create({element:e});this.itemViews.push(t)},tearDownSizerElement:function(){this.itemViews.remove(this._sizerView)},focusedChild:Object(X.b)({get:function(e){if(!e||!e.isPooledInDom)return e},set:function(e){return e}}),_scrollBy:function(e,t){this.sendEvent("didScroll",e,t)},itemViews:Object(X.b)({strong:!0,defaultValue:Object(ut.b)(mf)})}),hS=Ge.a.extend(uS.a,{staticMembers:{__QUALIFIED_CLASS_NAME__:"ElementView"}}),fS=ri.a.extend(rS,aS,{staticMembers:{createCollection:function(e){Object(ze.b)("CollectionViewController#createCollection called on a class with no implementation.")},updateCollection:function(e,t){Object(ze.b)("CollectionViewController#updateCollection called on a class with no implementation.")},__QUALIFIED_CLASS_NAME__:"CollectionViewController"},viewClass:dS,init:function(e){var t=this,n=arguments,i=this.layoutMetrics,r=i,a=this.layoutDelegate.LayoutMetricsClass;Object(ue.a)(i)?i=a.create(i):Object(bt.a)(i)||(i=a.create()),r!==i&&(this.layoutMetrics=i),t.__s._$2RX$init.apply(t,n),i=this.layoutMetrics;var o=[],s=[],l=this._previousLayoutMetrics;for(var c in i.getMetadataByType(X.a))s.push(c),l[c]=i[c],o.push("layoutMetrics."+c);this._layoutMetricsKeys=s,o.push("_updateWhenContentsChange"),this._layoutMetricsObserver=this.observe({inputs:o,notifyOnCreate:!1,callback:this._updateWhenLayoutMetricsChange})},_layoutMetricsKeys:null,_previousLayoutMetrics:Object(Y.c)({strong:!0,defaultValue:Object(ut.b)(Object)}),_changedKeys:Object(Y.c)({strong:!0,defaultValue:Object(ut.b)(sa)}),_layoutMetricsObserver:null,_updateWhenLayoutMetricsChange:function(){var e=this._changedKeys;e.clear();for(var t=this._layoutMetricsKeys,n=t.length,i=this._previousLayoutMetrics,r=this.layoutMetrics,a=0;a<n;a++){var o=t[a],s=r[o];s!==i[o]&&(e.add(o),i[o]=s)}0!==e.size&&this.update(sS.create({layoutMetricsChanged:e}))},viewportWidth:Object(X.b)(0),viewportHeight:Object(X.b)(0),layoutMetrics:Object(X.b)({strong:!0}),layoutController:Object(X.b)({strong:!0,defaultValue:Object(ut.b)(cS),downstreamBindings:{collection:"(owner).collection",viewportWidth:"(owner).viewportWidth",viewportHeight:"(owner).viewportHeight",layoutDelegate:"(owner).layoutDelegate",presenter:"(owner).presenter",layoutMetrics:"(owner).layoutMetrics"}}),_updateWhenContentsChange:Object(Ni.e)("collection.contentsDidChange","collection.handleProvider.handlesDidUpdate",(function(e){e&&this.update(sS.create({itemsChanges:e.context}))})),_updateWhenCollectionChanges:Object(Ni.e)("collection",(function(e){this.update(sS.create({collectionChanged:!0}))})),layoutDelegate:Object(X.b)({strong:!0}),contentSize:Object(X.b)({strong:!0,dependencies:["collection","collection.contentsDidChangeUntracked","layoutController.spaceAroundViewport"],readOnly:!0,get:Object.assign((function(){var e=this.layoutController,t=this.collection,n=this.layoutDelegate;if(e.visibleCells.length>0){var i=this.getPath("layoutController.spaceAroundViewport"),r=this.viewportWidth+i.left+i.right,a=this.viewportHeight+i.top+i.bottom;return R_.a.create(r,a)}if(t&&t.length>0){var o=n.setUpFirstCell(e,t).retain(this,"CollectionViewController#contentSize: cell"),s=o.bottom+n.spaceBelowCell(e,o),l=R_.a.create(o.width,s);return o.release(this,"CollectionViewController#contentSize: cell"),l}return R_.a.create(0,0)}),{__CW__getter:function(e,t,n,i){var r=this.layoutController,a=i.internalGet(this,t[0+n]),o=this.layoutDelegate;if(r.visibleCells.length>0){var s=i.internalGetPath(this,t[2+n]),l=this.viewportWidth+s.left+s.right,c=this.viewportHeight+s.top+s.bottom;return R_.a.create(l,c)}if(a&&a.length>0){var u=o.setUpFirstCell(r,a).retain(this,"CollectionViewController#contentSize: cell"),d=u.bottom+o.spaceBelowCell(r,u),h=R_.a.create(u.width,d);return u.release(this,"CollectionViewController#contentSize: cell"),h}return R_.a.create(0,0)}})}),presenter:Object(X.b)({strong:!0,downstreamBindings:{views:"(owner).view.itemViews",layoutMetrics:"(owner).layoutMetrics",presentingView:"(owner).view"}}),layoutContext:ce.a.sharedInstance.window,_measureViewport:Object(Ni.f)({inputs:["isAttached","view.isAttached","layoutContext.width","layoutContext.height"],callback:function(e,t){e&&t?this.measureViewport():this.update(sS.create({everythingChanged:!0}))}}),measureViewport:function(){if(this.isAttached){var e=this.view;if(e){var t=e.element,n=1,i=1;t&&(n=t.offsetWidth,i=t.offsetHeight);var r=this.viewportWidth,a=this.viewportHeight;r===n&&a===i||(this.beginBatchSet().set("viewportWidth",n).set("viewportHeight",i).end(),n>0&&i>0&&(this._changedWhileHidden?(this.update(sS.create({everythingChanged:!0})),this._changedWhileHidden=!1):this.update(sS.create({sizeChangedBy:R_.a.create({width:n-r,height:i-a})})),this.updateScrollBounds()))}}},collection:Object(X.b)({strong:!0}),update:function(e){if(this.isViewLoaded){var t=this.viewportWidth,n=this.viewportHeight;if(0!==n&&0!==t){var i=this.view;i.height=n,i.width=t,this.layoutController.update(e)}else this._changedWhileHidden=!0}},_changedWhileHidden:!1,_update:function(){Object(hi.b)(this.update,arguments,this)},updateScrollBounds:Object(Ni.f)("layoutController.spaceAroundViewport.left","layoutController.spaceAroundViewport.top","layoutController.spaceAroundViewport.right","layoutController.spaceAroundViewport.bottom",(function(e,t,n,i){if(void 0!==e&&void 0!==n&&void 0!==t&&void 0!==i){var r=this.viewportHeight,a=-e,o=n+this.viewportWidth,s=-t,l=i+r;this.view.beginBatchSet().set("scrollMinX",a).set("scrollMaxX",o).set("scrollMinY",s).set("scrollMaxY",l).end()}})),scrollBy:function(e,t){var n=sS.create();n.movedBy=iS.a.create(e,t),this.update(n)},didScroll:function(e,t){this.scrollBy(-e,-t)},showItem:function(e,t,n){this.layoutController.showItem(e,t,n)},scrollToItem:function(e){this.layoutController.scrollToItem(e)},scrollToHandle:function(e){this.layoutController.scrollToHandle(e)},__superMap:{_$2RX$init:"init"}}),pS={selectionControllerDidDeselectItem:Vr.a,selectionControllerDidSelectItem:Vr.a,selectionControllerShouldSelectItem:function(e,t){return!0}},mS={mixinDependencies:[Me.a,Ni.a],selection:Object(X.b)(Object(J.c)("selectionController.selection")),selectedItem:Object(X.b)(Object(J.c)("selectionController.selectedItem")),selectionController:Object(X.b)({strong:!0,downstreamBindings:{collection:"(owner).collection",delegate:"(owner).selectionDelegate",isEmptySelectionEnabled:"(owner).isEmptySelectionEnabled",isMultipleSelectionEnabled:"(owner).isMultipleSelectionEnabled"}}),selectionDelegate:Object(X.b)({defaultValue:Object(ut.b)(Ge.a.extend(pS))}),collection:Object(Xh.c)(Qy.a),isSelectionEnabled:Object(X.b)({defaultValue:!0,didChange:function(e){e||(this.selection=null,this.update())}}),update:function(e){var t=this,n=arguments;Object(Br.f)(e,this,"SelectionSupportProtocol: invalidationContext"),t.__s._$nR$update.apply(t,n),e&&(e.itemsChanges||e.collectionChanged||e.everythingChanged)&&this.selectionController.updateSelectionForCollectionChange(e),Object(Br.e)(e,this,"SelectionSupportProtocol: invalidationContext")},isEmptySelectionEnabled:Object(X.b)(!0),isMultipleSelectionEnabled:Object(X.b)(!0),selectItem:function(e){this.selectedItem=e},userPerformedSelectionOperation:function(e,t){if(this.isSelectionEnabled)return this.selectionController.userPerformedSelectionOperation(e,t)},isItemAtHandleSelected:function(e){return!!this.isSelectionEnabled&&this.selectionController.isItemAtHandleSelected(e)},isCellSelected:function(e){return!!this.isSelectionEnabled&&!!this.isCellSelectable(e)&&this.isItemAtHandleSelected(e.handle)},isCellSelectable:function(e){return"item"===e.cellType},selectCell:function(e,t){if(this.isSelectionEnabled){var n=this.selectionController;e?this.isCellSelectable(e)&&n.userPerformedSelectionOperation(e.handle,t):n.userPerformedSelectionOperation(null,t)}},userPerformedSelectionOperationInDirection:function(e,t){if(this.isSelectionEnabled)return this.selectionController.userPerformedSelectionOperationInDirection(e,t)},selectAll:function(){if(this.isSelectionEnabled)return this.selectionController.selectAll()},clearSelection:function(){if(this.isSelectionEnabled)return this.userPerformedSelectionOperation()},_updateWhenSelectionChanges:Object(Ni.e)("selectionController.selectionDidChange",(function(){this.update()})),__superMap:{_$nR$update:"update"}},gS={mixinDependencies:[_y.a],gestureRecognizerShouldActivateButton:function(e,t){var n=e.view.element,i=t.target;return n===i||n.contains(i)}},vS=by.b.Began,_S=by.b.Changed,bS=Gy.extend({stateGenerator:Ty,delegate:Object.assign({},_y.a,gS),willGestureSucceed:!1,shouldAllowMovementOutsideTarget:!1,pointerDown:function(e){var t=this,n=arguments;this.willGestureSucceed=this._willGestureSucceed(e),t.__s._$hi$pointerDown.apply(t,n),this.state=vS},pointerMove:function(e){var t=this,n=arguments;this.willGestureSucceed=this._willGestureSucceed(e),t.__s._$lJ$pointerMove.apply(t,n);var i=this.state;i!==vS&&i!==_S||(this.state=_S)},pointerUp:function(e){var t=this,n=arguments;this.willGestureSucceed=this._willGestureSucceed(e),t.__s._$tC$pointerUp.apply(t,n)},_willGestureSucceed:function(e){return this.delegate.gestureRecognizerShouldActivateButton(this,e)},shouldFailGesture:function(e){var t=this,n=arguments;return this.shouldAllowMovementOutsideTarget&&1===this.numberOfTapsRequired?"pointerUp"===e.cwType&&!this._willGestureSucceed(e):t.__s._$_C$shouldFailGesture.apply(t,n)},reset:function(){this.willGestureSucceed=!1,this.__s._$10T$reset.call(this)},didEnterPool:function(){var e=this,t=arguments;this.shouldAllowMovementOutsideTarget=!1,e.__s._$126$didEnterPool.apply(e,t)},__superMap:{_$hi$pointerDown:"pointerDown",_$lJ$pointerMove:"pointerMove",_$tC$pointerUp:"pointerUp",_$_C$shouldFailGesture:"shouldFailGesture",_$10T$reset:"reset",_$126$didEnterPool:"didEnterPool"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ButtonTapGestureRecognizer"}}),yS=Ir.a.extend(pf,{staticMembers:{__QUALIFIED_CLASS_NAME__:"StrongArray"}}),SS=n(417),IS=Ge.a.extend(Ni.a,{staticMembers:{__QUALIFIED_CLASS_NAME__:"CollectionLayoutMetrics"}}),wS=Ge.a.extend(oS.a,x_.b,{initFromPool:function(e){this._owner=e,this.__s._$7n$initFromPool.call(this)},cleanup:function(){var e=this,t=arguments;this.invalidate(),e.__s._$8t$cleanup.apply(e,t)},didEnterPool:function(){this._owner=null,this.wasLaidOut=!1,this.key=null,this._properties.value.readOnly||(this.value=null),this.x=-1,this.y=-1,this.width=-1,this.height=-1,this.scrollX=0,this.scrollY=0,this.__s._$HH$didEnterPool.call(this)},key:Object(Y.c)(),value:Object(Y.c)(),x:Object(Y.c)(-1),y:Object(Y.c)(-1),width:Object(Y.c)(-1),height:Object(Y.c)(-1),top:Object(Y.c)({readOnly:!0,get:function(){return this.y}}),bottom:Object(Y.c)({readOnly:!0,get:function(){return this.y+this.height}}),left:Object(Y.c)({readOnly:!0,get:function(){return this.x}}),right:Object(Y.c)({readOnly:!0,get:function(){return this.x+this.width}}),origin:Object(Y.c)({readOnly:!0,get:function(){Object(ze.b)("CW.Cell#origin not implemented")}}),cellType:"item",toString:function(){return this.__s._$kJ$toString.call(this)+"cellType: "+this.cellType+" x: "+this.x+" y: "+this.y+" width: "+this.width+" height: "+this.height},_owner:null,wasLaidOut:!1,isLaidOut:!1,isReusable:Object(Y.c)({readOnly:!0,defaultValue:!0}),moveBy:function(e,t,n){this.x+=t,this.y+=n},invalidate:function(){this.size=null,this.isLaidOut=!1},size:Object(Y.c)({strong:!0}),rect:Object(Y.c)({get:function(){return this}}),copyTo:function(e){e.size=this.size,e.x=this.x,e.y=this.y,e.height=this.height,e.width=this.width},__superMap:{_$7n$initFromPool:"initFromPool",_$8t$cleanup:"cleanup",_$HH$didEnterPool:"didEnterPool",_$kJ$toString:"toString"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CollectionCell"}}),ES=wS.extend({value:Object(Y.c)({get:function(){return this.key.value}}),key:Object(Y.c)({strong:!0}),handle:Object(Y.c)({get:function(){return this.key}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemCell"}}),CS={staticMembers:{LayoutMetricsClass:IS},mixinDependencies:[Me.a,Ni.a],setUpInitialCell:Object(Xh.c)(De.a),setUpFirstCell:Object(Xh.c)(De.a),setUpLastCell:Object(Xh.c)(De.a),getCellForItem:Object(Xh.c)(De.a),getHandleForItem:function(e,t,n){return t&&t.handleFor(n)},initializeVisibleCells:Object(Xh.c)(De.a),completeVisibleCells:Object(Xh.c)(De.a),finalizeVisibleCells:function(e,t,n,i){},setUpCellAtDistance:Object(Xh.c)(De.a),computeSpaceAroundViewport:Object(Xh.c)(De.a),reusePreviousVisibleCells:De.a.define(),cellClass:Object(X.b)(ES),_cellTypesMap:Object(ut.b)(Map),_cellMapForCellType:function(e){var t=this._cellTypesMap,n=t.get(e);return n||(n=SS.a.create(),t.set(e,n)),n},cellForHandleIfPresent:function(e,t){return void 0===t&&(t="item"),this._cellMapForCellType(t).get(e)},cellForHandle:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"item",n=this._cellMapForCellType(t),i=n.get(e);return i||((i=this.createCellFor(e,t)).key=e,i.cellType=t,n.set(e,i)),i.registerWeakReference(this,this._cellWasDisposed,i),i.retain(this,"cellForHandle: initial retain + autorelease").autorelease(this,"cellForHandle: initial retain + autorelease")},cellClassKeysByCellType:{item:"cellClass"},createCellFor:function(e,t){return this[this.cellClassKeysByCellType[t]].create(this)},_cellWasDisposed:function(e){this._cellMapForCellType(e.cellType).removeKey(e.key)}},AS=Object(ne.b)("ListPosition",(function(e){e("Top"),e("Bottom")})),TS=IS.extend({rowHeight:Object(X.b)(30),rowSpacing:Object(X.b)(0),topPadding:Object(X.b)(0),bottomPadding:Object(X.b)(0),initialPosition:Object(X.b)({defaultValue:AS.Top,type:AS}),minimumSizePosition:Object(X.b)({defaultValue:AS.Top,type:AS}),shouldStickAtTop:Object(X.b)(!1),shouldStickAtBottom:Object(X.b)(!1),topInset:Object(X.b)(0),hideableTopHeight:Object(X.b)(0),hideableBottomHeight:Object(X.b)(0),shouldStartHidden:Object(X.b)(!0),staticMembers:{__QUALIFIED_CLASS_NAME__:"ListLayoutMetrics"}}),OS=iS.a.create().retain(window,"initial retain"),DS=x_.a.create().retain(window,"initial retain"),MS=Ge.a.extend(CS,Ni.a,{staticMembers:{LayoutMetricsClass:TS,__QUALIFIED_CLASS_NAME__:"ListLayoutDelegate"},isAtEnd:null,_distancePastEnd:0,setUpInitialCell:function(e,t,n){var i=e.layoutMetrics.initialPosition;return i===AS.Top?this.setUpFirstCell(e,t,n):i===AS.Bottom?this.setUpLastCell(e,t,n):void 0},setUpFirstCell:function(e,t,n){if(!t)return null;var i=t.startHandle.retain(this,"setUpFirstCell");if(!i.isValid)return i.release(this,"setUpFirstCell"),null;var r=this.cellForHandle(i).retain(this,"setUpFirstCell");i.release(this,"setUpFirstCell");var a=this.topForCell(e,r),o=e.layoutMetrics;o.shouldStartHidden||(a+=o.hideableTopHeight);var s=r.isLaidOut;return this.layOutCellInDirection(e,r,1,a,1,this.leftForCell(e,r)),n&&(r.isLaidOut=s),r.autorelease(this,"setUpFirstCell")},setUpLastCell:function(e,t,n){if(!t)return null;var i=t.handleProvider.endHandle.retain(this,"setUpLastCell");if(!i.isValid)return i.release(this,"setUpLastCell"),null;var r=this.cellForHandle(i).retain(this,"setUpLastCell");i.release(this,"setUpLastCell");var a=e.viewportHeight-this.spaceBelowCell(e,r),o=e.layoutMetrics;o.shouldStartHidden||(a-=o.hideableBottomHeight);var s=r.isLaidOut;return this.layOutCellInDirection(e,r,-1,a,1,this.leftForCell(e,r)),n&&(r.isLaidOut=s),r.autorelease(this,"setUpLastCell")},_findCellForItemInDirection:function(e,t,n,i){for(n=n.next;n.isValid;){if(n.value===t)return this.cellForHandle(n).retain().autorelease();n=n.atDistance(i)}return null},_findCellForItem:function(e,t,n,i){var r=n.find((function(e){return e.handle.value===i}));return r||((r=this._findCellForItemInDirection(e,i,n.objectAt(0).handle,-1))?r:r=this._findCellForItemInDirection(e,i,n.lastItem.handle,1))},getCellForItem:function(e,t,n,i){var r=this._findCellForItem(e,t,n,i);if(!r)return null;if(r.retain(),n.contains(r))return r;var a=n.objectAt(0),o=this.topForCell(e,a)-a.y;return this.layOutCellInDirection(e,r,1,this.topForCell(e,r)-o,1,this.leftForCell(e,r)),r.autorelease()},layOutCellsInDirection:function(e,t,n,i,r){for(var a=n,o=e.viewportBounds,s=i>0,l=!1;;){var c=a;if(a=this.positionNextCell(e,c,i),!Object(bt.a)(a))return r;if(a.retain(this,"layOutCellsInDirection"),this.cellIsVisible(e,o,a))l=!0,this.isCellAnchorable(a)&&(r=!0);else if(l&&r||c.y*i>0)return a.release(this,"layOutCellsInDirection"),a.isLaidOut=!1,r;s?t.push(a):t.unshift(a),a.release(this,"layOutCellsInDirection")}},cellIsVisible:function(e,t,n){return n.intersects(t)},_visibleCells:Object(Y.c)({strong:!0,defaultValue:Object(ut.b)(yS)}),_previousVisibleCells:Object(Y.c)({strong:!0,defaultValue:Object(ut.b)(yS)}),acquireVisibleCells:function(e,t,n){var i=this._visibleCells.retain(this,"acquireVisibleCells: swapping visibleCells"),r=this._previousVisibleCells.retain(this,"acquireVisibleCells: swapping visibleCells");return this._visibleCells=r,this._previousVisibleCells=i,i.length=0,i.release(this,"acquireVisibleCells: swapping visibleCells"),r.release(this,"acquireVisibleCells: swapping visibleCells"),i},reusePreviousVisibleCells:function(e,t,n,i,r){for(var a=e.viewportBounds,o=i.length,s=0;s<o;s++){var l=i.objectAt(s);l.isReusable||l.invalidate()}var c=r.movedBy;c&&this.handleMovedBy(c.x,c.y,e,t,n,i);var u=r.itemShown;if(u){var d=r.itemShownAt,h=d.x,f=d.y;this.handleShowItem(u,h,f,e,t,n,i)}var p=r.itemScrolledTo;p&&this.handleScrollToItem(p,e,t,n,i);var m=r.sizeChangedBy;m&&this.handleSizeChangedBy(m.width,m.height,e,t,n,i),r.everythingChanged&&this.handleEverythingChanged(e,t,n,i,r),r.collectionChanged&&this.invalidateOtherCells(i);var g=r.itemsChanges;g&&this.handleItemsChanges(g,e,t,n,i,r);var v=r.invalidItems;v&&this.handleInvalidItems(v,e,t,n,i,r);var _=r.layoutMetricsChanged;_&&this.handleLayoutMetricsChanged(_,e,t,n,i,r);for(var b=!1,y=!1,S=0;S<o;S++){var I=i.objectAt(S);!y&&I.isReusable&&I.isLaidOut&&this.cellIsVisible(e,a,I)?(I.retain(this,"reusePreviousVisibleCells: retaining reused cells"),n.push(I),I.release(this,"reusePreviousVisibleCells: retaining reused cells"),b=!0):b?(y=!0,I.isLaidOut=!1):I.isLaidOut=!1}},handleLayoutMetricsChanged:function(e,t,n,i,r,a){var o=t.layoutMetrics;if(e.contains("rowHeight")){this.invalidateOtherCells(r);var s=this.topMostItem(t,r);this.recoverLayoutFromCell(t,s)}else if(e.contains("rowSpacing")){var l=this.topMostItem(t,r);this.invalidateOtherCells(r,l)}else if(e.contains("hideableTopHeight")){if(o.shouldStartHidden&&this.isAtEnd===AS.Top&&o.initialPosition===AS.Top){var c=this.setUpFirstCell(t,n,!0);this.invalidateOtherCells(r,c)}}else if(e.contains("hideableBottomHeight")){if(o.shouldStartHidden&&this.isAtEnd===AS.Bottom&&o.initialPosition===AS.Bottom){var u=this.setUpLastCell(t,n,!0);this.invalidateOtherCells(r,u)}}else this.handleEverythingChanged(t,n,i,r,a)},recoverLayoutFromCell:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=t.handle;i.wasRemoved||i.isValid&&this.layOutCellInDirection(e,t,1,n.y,1,n.x)},handleEverythingChanged:function(e,t,n,i,r){if(this.invalidateOtherCells(i),!this.isAtEnd){var a=this.topMostValidItem(e,i);if(!a)return;a.retain(this,"handleEverythingChanged: first valid cell"),this.recoverLayoutFromCell(e,a),a.release(this,"handleEverythingChanged: first valid cell")}},handleInvalidItems:function(e,t,n,i,r,a){e.forEach((function(e){var t=this.cellForHandle(e).retain(this,"handleInvalidItems: invalid cell");t.invalidate(),t.release(this,"handleInvalidItems: invalid cell")}),this);for(var o=r.length,s=0;s<o;s++){var l=r.objectAt(s);e.contains(l.handle)&&l.invalidate()}},invalidateOtherCells:function(e,t){for(var n=e.length,i=0;i<n;i++){var r=e.objectAt(i);r!==t&&r.invalidate()}},handleItemsChanges:function(e,t,n,i,r,a){this.handleEverythingChanged(t,n,i,r,a)},handleCollectionChanged:function(e,t,n,i,r){var a=this.setUpInitialCell(e,t);a&&(a.retain(this,"handleCollectionChanged"),n.push(a),a.release(this,"handleCollectionChanged"),this.isAtEnd=e.layoutMetrics.initialPosition,this._distancePastEnd=0)},endOffset:function(e,t,n){var i=this.isAtEnd,r=this._distancePastEnd,a=0,o=e.layoutMetrics;if(i===AS.Top){var s=o.hideableTopHeight;r=Math.min(r,s);var l=this.topMostLaidOutItem(e,n);(a=-this._distancePastTop(e,l))>0&&!o.shouldStickAtTop?a=0:a+=r}else if(i===AS.Bottom){var c=o.hideableBottomHeight;r=Math.min(r,c);var u=this.bottomMostLaidOutItem(e,n);(a=this._distancePastBottom(e,u))<0&&!o.shouldStickAtBottom?a=0:a-=r}return a},moveCellsBy:function(e,t,n,i){for(var r=0,a=i.length;r<a;r++){var o=i.objectAt(r);o.isLaidOut&&o.moveBy(e,t,n)}},handleMovedBy:function(e,t,n,i,r,a){this.moveCellsBy(n,e,t,a)},handleShowItem:function(e,t,n,i,r,a,o){var s=this.cellForHandleIfPresent(e);if(s){if(s.retain(this,"handleShowItem: target cell"),s.isLaidOut)return this.moveCellsBy(i,0,n-s.y,o),void s.release(this,"handleShowItem: target cell");s.release(this,"handleShowItem: target cell")}this.invalidateOtherCells(o)},handleScrollToItem:function(e,t,n,i,r){var a=this.cellForHandleIfPresent(e);if(a){if(a.retain(this,"handleScrollToItem: target cell"),a.isLaidOut){var o=this.minimumTopOffsetForCell(t,a),s=t.viewportBounds.bottom-this.minimumBottomOffsetForCell(t,a);return a.y<o?this.moveCellsBy(t,0,o-a.y,r):a.bottom>s&&this.moveCellsBy(t,0,s-a.bottom,r),void a.release(this,"handleScrollToItem: target cell")}a.release(this,"handleScrollToItem: target cell")}this.invalidateOtherCells(r)},handleSizeChangedBy:function(e,t,n,i,r,a){0!==e&&a.forEach((function(e){e.width=n.viewportWidth,e.size=null}))},initializeVisibleCells:function(e,t,n,i,r){if(r.collectionChanged)this.handleCollectionChanged(e,t,n,i,r);else{if(i.length>0&&t.startHandle.isValid)if(r.itemsChanges||r.everythingChanged){var a=this.handleNoPreviouslyValidCells(e,t,n,i,r);a.retain(this,"initializeVisibleCells: newCell"),n.push(a),a.release(this,"initializeVisibleCells: newCell")}else if(r.itemShown)this.initializeItemShown(e,t,n,r);else if(r.itemScrolledTo)this.initializeItemScrolledTo(e,t,n,i,r);else{var o=this.topMostItem(e,i);if(o){o.retain(this,"initializeVisibleCells: previous topMostItem");var s,l=e.viewportBounds,c=l.x-o.x,u=l.y-o.y,d=0;u>0?d=1:u<0?d=-1:c>0?d=1:c<0&&(d=-1),o.handle.hasHandleAtDistance(d)?s=this.setUpCellAtDistance(e,t,o,c,u):(this.recoverLayoutFromCell(e,o),s=o),s.retain(this,"initializeVisibleCells: setUpCellAtDistance"),o.release(this,"initializeVisibleCells: previous topMostItem"),s.isLaidOut&&n.push(s),s.release(this,"initializeVisibleCells: setUpCellAtDistance")}}if(0===n.length){var h=this.setUpInitialCell(e,t);if(h){var f=this.isAtEnd=e.layoutMetrics.initialPosition,p=this._distancePastEnd;f===AS.Top?h.y+=p:f===AS.Bottom&&(h.y-=p),h.retain(this,"initializeVisibleCells: setUpInitialCell"),n.push(h),h.release(this,"initializeVisibleCells: setUpInitialCell")}}}},initializeItemShown:function(e,t,n,i){var r=i.itemShown,a=this.cellForHandle(r).retain(this,"initializeItemShown: cell"),o=i.itemShownAt.y;void 0===o?this.layOutCellAtTop(e,a):this.layOutCellInDirection(e,a,1,o,1,this.leftForCell(e,a)),n.push(a),a.release(this,"initializeItemShown: cell")},layOutCellAtTop:function(e,t){var n=this.minimumTopOffsetForCell(e,t);this.layOutCellInDirection(e,t,1,n,1,this.leftForCell(e,t))},minimumTopOffsetForCell:function(e,t){return t.handle.hasPrevious?0:this.topForCell(e,t)},layOutCellAtBottom:function(e,t){var n=this.minimumBottomOffsetForCell(e,t);this.layOutCellInDirection(e,t,-1,e.viewportBounds.bottom-n,1,this.leftForCell(e,t))},minimumBottomOffsetForCell:function(e,t){return t.handle.hasNext?0:this.spaceBelowCell(e,t)},initializeItemScrolledTo:function(e,t,n,i,r){var a=r.itemScrolledTo,o=this.cellForHandle(a).retain(this,"initializeItemScrolledTo: cell"),s=this.topMostItem(e,i);s?this.topForCell(e,o)<=this.topForCell(e,s)?this.layOutCellAtTop(e,o):this.layOutCellAtBottom(e,o):this.layOutCellAtTop(e,o),n.push(o),o.release(this,"initializeItemScrolledTo: cell")},handleNoPreviouslyValidCells:function(e,t,n,i,r){var a,o=this.topMostItem(e,i);if(!o){var s=this.setUpInitialCell(e,t);return this.isAtEnd=e.layoutMetrics.initialPosition,this._distancePastEnd=0,s}if(e.layoutMetrics.initialPosition===AS.Top){var l=this.topForCell(e,o)-o.y,c=this.setUpFirstCell(e,t,!0);c.y-=l,a=this.setUpCellAtDistance(e,t,c,0,l)}else{var u=this.spaceBelowCell(e,o)-(o.bottom-e.viewportHeight),d=this.setUpLastCell(e,t,!0);d.y-=u,a=this.setUpCellAtDistance(e,t,d,0,u)}return a},_distancePastBottom:function(e,t){return Io.a.sharedInstance.floorToDevicePixelRatio(e.viewportHeight)-Io.a.sharedInstance.floorToDevicePixelRatio(t.bottom+this.spaceBelowCell(e,t))},_distancePastTop:function(e,t){return Io.a.sharedInstance.floorToDevicePixelRatio(t.y-this.topForCell(e,t))},checkForMinimumSize:function(e,t){var n=this.topMostLaidOutItem(e,t),i=this._distancePastTop(e,n),r=i>=0,a=this.bottomMostLaidOutItem(e,t),o=this._distancePastBottom(e,a);if(r&&o>=0){var s=e.layoutMetrics;s.minimumSizePosition===AS.Top?(this.isAtEnd=AS.Top,this._distancePastEnd=i):s.minimumSizePosition===AS.Bottom&&(this.isAtEnd=AS.Bottom,this._distancePastEnd=o)}},completeVisibleCells:function(e,t,n,i){var r=!!n.find(this.isCellAnchorable),a=this.layOutCellsInDirection(e,n,n.objectAt(0),-1,r),o=this.layOutCellsInDirection(e,n,n.lastItem,1,r||a);if(!1!==r||!1!==a||!1!==o)if(i.movedBy||i.itemShown||i.itemScrolledTo){var s=e.layoutMetrics,l=null,c=0,u=this.topMostItem(e,n),d=this._distancePastTop(e,u),h=d>=0,f=this.bottomMostItem(e,n),p=this._distancePastBottom(e,f),m=p>=0;m&&h&&(s.minimumSizePosition===AS.Top?m=!1:s.minimumSizePosition===AS.Bottom&&(h=!1)),m?(l=AS.Bottom,c=p):h&&(l=AS.Top,c=d),this.isAtEnd=l,this._distancePastEnd=c}else{var g;for(this.checkForMinimumSize(e,n);Math.abs(Io.a.sharedInstance.floorToDevicePixelRatio(g=this.endOffset(e,t,n)))>0;)this.moveCellsBy(e,0,g,n),g>0?this.layOutCellsInDirection(e,n,n.objectAt(0),-1,!0):this.layOutCellsInDirection(e,n,n.lastItem,1,!0)}},verticalScan:1/0,horizontalScan:1/0,setUpCellAtDistance:function(e,t,n,i,r){var a=this.horizontalScan,o=this.verticalScan;if(Math.abs(i)>a||Math.abs(r)>o)return this.estimateCellAtDistance(e,t,n,i,r);var s,l=isFinite(a)||isFinite(o),c=0;if(r>0)c=1;else if(r<0)c=-1;else if(i>0)c=1;else{if(!(i<0))return n.isLaidOut||this.recoverLayoutFromCell(e,n),n;c=-1}if(OS.x=n.x+i,OS.y=n.y+r,l){var u=e.viewportBounds;DS.x=u.x-a,DS.y=u.y-o,DS.width=u.width+2*a,DS.height=u.height+2*o}for(n.retain();null!==(s=this.positionNextCell(e,n,c));){if(s.retain(),s.containsPoint(OS)||c<0&&s.y<=OS.y||c>0&&s.y>=OS.y||l&&!s.intersects(DS))return n.release(),s.autorelease();n.release(),s.isLaidOut=!1,n=s}return c>0?this.setUpLastCell(e,t):this.setUpFirstCell(e,t)},estimateCellAtDistance:Vr.a,verticalSpacingForCellTypes:function(e,t,n){return"item"===t&&"item"===n?e.layoutMetrics.rowSpacing:0},positionNextCell:function(e,t,n){var i=t.handle.atDistance(n).retain();if(!i.isValid)return i.release(),null;var r,a=this.cellForHandle(i).retain();return i.release(),r=n>0?this.verticalSpacingForCellTypes(e,t.cellType,a.cellType):this.verticalSpacingForCellTypes(e,a.cellType,t.cellType),this.positionAdjacentCell(e,t,a,n,r).autorelease()},positionAdjacentCell:function(e,t,n,i,r){var a;return t.retain(),n.retain(),a=i>0?t.bottom+r:t.y-r,t.release(),this.layOutCellInDirection(e,n,i,a,1,this.leftForCell(e,n)),n.autorelease()},layOutCellInDirection:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=this.sizeForCell(e,t),s=t.height=o.height;n>0?t.y=i:n<0&&(t.y=i-s);var l=t.width=o.width;return r>0?t.x=a:r<0&&(t.x=a-l),t.isLaidOut=!0,t},sizeForCell:function(e,t){var n=t.size;return n||(n=t.size=this[this.sizeKeyByCellType[t.cellType]](e,t)),n},estimatedSizeForCell:function(e,t){var n=this.estimatedSizeKeyByCellType;if(!n){n={};var i=this.sizeKeyByCellType;for(var r in i)n[r]="estimated"+bc(i[r])}var a=t.size;return a||(a=t.size=this[n[t.cellType]](e,t)),a},sizeKeyByCellType:{item:"sizeForItem"},estimatedSizeKeyByCellType:null,sizeForItem:function(e,t){return R_.a.create({height:e.layoutMetrics.rowHeight,width:e.viewportWidth})},leftForCell:function(e,t){return 0},topForCell:function(e,t){for(var n=e.layoutMetrics,i=t.handle,r=-1;i.isValid;)i=i.previous,r++;return(r=Math.max(r,0))*(n.rowHeight+n.rowSpacing)+n.topPadding+n.topInset-n.hideableTopHeight},spaceBelowCell:function(e,t){for(var n=e.layoutMetrics,i=t.handle,r=-1;i.isValid;)i=i.next,r++;return(r=Math.max(r,0))*(n.rowHeight+n.rowSpacing)+n.bottomPadding-n.hideableBottomHeight},topMostItem:function(e,t){return this.topMostAnchor(e,t,this._isCellReusable)},topMostLaidOutItem:function(e,t){return this.topMostAnchor(e,t,this._isCellReusableAndLaidOut)},topMostValidItem:function(e,t){return this.topMostAnchor(e,t,this._isCellReusableAndValid)},bottomMostItem:function(e,t){return this.bottomMostAnchor(e,t,this._isCellReusable)},bottomMostLaidOutItem:function(e,t){return this.bottomMostAnchor(e,t,this._isCellReusableAndLaidOut)},bottomMostValidItem:function(e,t){return this.bottomMostAnchor(e,t,this._isCellReusableAndValid)},topMostAnchor:function(e,t,n){var i=this,r=t.find((function(e){return i.isCellPreferredAnchor(e)&&n.call(i,e)}));return r||(r=t.find((function(e){return i.isCellAnchorable(e)&&n.call(i,e)}))),r},bottomMostAnchor:function(e,t,n){var i=this,r=t.findLast((function(e){return i.isCellPreferredAnchor(e)&&n.call(i,e)}));return r||(r=t.findLast((function(e){return i.isCellAnchorable(e)&&n.call(i,e)}))),r},_isCellReusable:function(e){return e.isReusable},_isCellReusableAndLaidOut:function(e){return e.isReusable&&e.isLaidOut},_isCellReusableAndValid:function(e){var t=e.handle;return t.isValid&&!t.wasRemoved},isCellAnchorable:function(e){return"item"===e.cellType},isCellPreferredAnchor:function(e){return this.isCellAnchorable(e)},computeSpaceAroundViewport:function(e){var t=e.spaceAroundViewport,n=e.visibleCells,i=0,r=0,a=e.layoutMetrics,o=e.viewportHeight,s=a.hideableTopHeight,l=a.hideableBottomHeight,c=this.topMostItem(e,n),u=0,d=0;c&&(d=this.topForCell(e,c),u=c.y);var h=this.bottomMostItem(e,n),f=0,p=0;h&&(p=this.spaceBelowCell(e,h),f=h.bottom);var m,g,v=Math.min(o,d+p+f-u);v<o&&a.minimumSizePosition===AS.Bottom?(m=o-v,g=o):(m=0,g=v),i=d-u+m,r=p-(g-f);var _=v+s<=o;a.minimumSizePosition===AS.Bottom&&_||(i+=s);var b=v+l<=o;return a.minimumSizePosition===AS.Top&&b||(r+=l),t.beginBatchSet().set("left",0).set("right",0).set("top",i).set("bottom",r).end(),t}}).extend({topForCell:function(e,t){var n=e.layoutMetrics;return t.handle.position*(n.rowHeight+n.rowSpacing)+n.topPadding+n.topInset-n.hideableTopHeight},verticalScan:1024,horizontalScan:1024,estimateCellAtDistance:function(e,t,n,i,r){var a=e.layoutMetrics,o=n.handle,s=o.position,l=Math.round(r/(a.rowHeight+a.rowSpacing))+s;l<0&&(l=0);var c=t.length;l>=c&&(l=c-1),o=o.at(l);var u=this.cellForHandle(o).retain(),d=this.topForCell(e,n)-n.y;return this.layOutCellInDirection(e,u,1,this.topForCell(e,u)-d,1,this.leftForCell(e,u)),u.autorelease()},_findCellForItem:function(e,t,n,i){var r=n.find((function(e){return e.handle.value===i}));if(r)return r.retain();var a=t.indexOf(i);if(-1===a)return null;var o=t.startHandle.at(a);return this.cellForHandle(o).retain()},spaceBelowCell:function(e,t){var n=e.layoutMetrics,i=t.handle;return(i.maximumPosition-i.position)*(n.rowHeight+n.rowSpacing)+n.bottomPadding-n.hideableBottomHeight},staticMembers:{__QUALIFIED_CLASS_NAME__:"IndexedListLayoutDelegate"}}),NS={mixinDependencies:[Me.a,Ni.a],layoutMetrics:Object(X.b)({strong:!0}),cellsWillEnter:function(e){},cellDidEnter:Object(Xh.c)(De.a),cellsDidEnter:function(e){},cellsWillMove:function(e){},cellDidMove:Object(Xh.c)(De.a),cellsDidMove:function(e){},cellsWillExit:function(e){},cellDidExit:Object(Xh.c)(De.a),cellsDidExit:function(e){}},FS={mixinDependencies:[Ni.a],mappedViews:Object(Y.c)({strong:!0,defaultValue:Object(ut.b)(yS)}),activeViews:Object(Y.c)({strong:!0,defaultValue:Object(ut.b)(Ir.a)}),viewsToCells:Object(Y.c)({strong:!0,defaultValue:Object(ut.b)(Map)}),cellsToViews:Object(Y.c)({strong:!0,defaultValue:Object(ut.b)(Map)}),pools:Object(Y.c)({strong:!0,defaultValue:Object(ut.b)(Map)}),viewForCell:function(e,t){var n=this.cellsToViews.get(e);if(!n){if(!t)return null;n=this._getViewOfClass(t),this.cellsToViews.set(e,n),this.viewsToCells.set(n,e)}return n},cellForView:function(e){return this.viewsToCells.get(e)},releaseViewForItem:function(e){var t=this.cellsToViews.get(e);t||Object(ze.b)("No view for cell"),this._releaseView(t,e),this._poolView(t)},releaseView:function(e){var t=this.viewsToCells.get(e);e||Object(ze.b)("No cell for view"),this._releaseView(e,t),this._poolView(e)},_getViewOfClass:function(e){var t,n=this.pools.get(e);return n||(n=[],this.pools.set(e,n)),n.length>0?t=n.pop():(t=this.viewForViewClass(e),this.mappedViews.push(t)),t.isPooledInDom=!1,this.activeViews.push(t),t},viewForViewClass:function(e){return e.create()},_releaseView:function(e,t){this.activeViews.remove(e),this.cellsToViews.delete(t),this.viewsToCells.delete(e)},_poolView:function(e){this.pools.get(e.constructor).push(e),e.isPooledInDom=!0}},LS=Ge.a.extend(FS,NS,{itemViewClass:Object(X.b)(Di.a),_oldItemViewClass:null,_clearItemViewCache:Object(Ni.f)("itemViewClass",(function(e){var t=this._oldItemViewClass;t&&this.replaceViewsOfClass(t),this._oldItemViewClass=e})),replaceViewsOfClass:function(e){for(var t=this.activeViews,n=t.length-1;n>=0;n--){var i=t.objectAt(n);if(Object(Se.a)(i,e)){var r=this.viewsToCells.get(i);this.cellDidExit(r),this.cellDidEnter(r)}}},views:Object(X.b)(),presentingView:Object(X.b)({type:Di.a}),dataProperty:"content",viewClassKeysByCellType:{item:"itemViewClass"},itemViewClassForItem:function(e){var t=e.cellType,n=this.viewClassKeysByCellType[t],i=this[n];return i||Object(ze.b)('ItemViewPresenter: no view class for cell type "%{cellType}" and view class key "%{viewClassKey}"',{cellType:t,viewClassKey:n}),i},viewForViewClass:function(e){return e.create({layoutMetrics:this.bindingFor("layoutMetrics")})},cellDidEnter:function(e){var t=this.viewForCell(e,this.itemViewClassForItem(e));this.itemViewDidEnter(t,e),t.isAttached||this.views.push(t),t.layout=e},cellDidMove:function(e){var t=this.viewForCell(e);t&&this.itemViewDidMove(t,e)},cellDidExit:function(e){var t=this.viewForCell(e);this.itemViewDidExit(t,e),this.releaseViewForItem(e)},itemViewDidEnter:function(e,t){e.set(this.dataProperty,t.value)},itemViewDidMove:function(e,t){},itemViewDidExit:function(e,t){},staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemViewPresenter"}}).extend({itemViewDidMove:function(e,t){var n=e.element.style,i=t.width,r=t.height,a=t.x,o=t.y,s=this.presentingView;s&&s.hasMixin(Xy)&&(a+=s.nativeScrollX,o+=s.nativeScrollY),Object(j_.b)(n,a,o),n.width=i+"px",n.height=r+"px"},itemViewDidExit:function(e){var t=e.element.style;Object(j_.b)(t,-1e4,-1e4)},staticMembers:{__QUALIFIED_CLASS_NAME__:"AbsolutelyPositionedPresenter"}}),RS=n(738),xS=n(711),PS=n(712),kS={headerHeight:Object(X.b)(30),footerHeight:Object(X.b)(30),hasFloatingHeaders:Object(X.b)(!0),hasHeaders:Object(X.b)(!0),hasFooters:Object(X.b)(!1),sectionSpacing:Object(X.b)(0),sectionTopPadding:Object(X.b)(0),sectionBottomPadding:Object(X.b)(0),sectionHeaderPadding:Object(X.b)(0),sectionFooterPadding:Object(X.b)(0)},US={staticMembers:{LayoutMetricsClass:Object(Mi.a)(kS)},mixinDependencies:[CS,Ni.a],cellClassKeysByCellType:Object(Mi.a)({header:"headerCellClass",footer:"footerCellClass"}),footerCellClass:ES,layOutCellInDirection:function(e,t,n,i,r,a){var o=this,s=arguments;return"header"===t.cellType&&(t.isFloatingToTop=!1),o.__s._$sf$layOutCellInDirection.apply(o,s)},headerCellClass:ES.extend({isFloatingToTop:!1,clipTop:0,invalidate:function(){this.isFloatingToTop=!1,this.clipTop=0,this.__s._$yc$invalidate.call(this)},isReusable:Object(Y.c)({get:function(){return!this.isFloatingToTop}}),moveBy:function(e,t,n){if(!this.isFloatingToTop){var i=e.layoutMetrics,r=i.topInset,a=this.y;a+=n,i.hasFloatingHeaders&&a<r?(this.y=r,this.isFloatingToTop=!0):(this.y=a,this.isFloatingToTop=!1)}},__superMap:{_$yc$invalidate:"invalidate"}}),getSectionHandle:function(e){return"header"===e.cellType||"footer"===e.cellType?e.handle:e.handle.sectionHandle},sizeKeyByCellType:Object(Mi.a)({header:"sizeForHeader",footer:"sizeForFooter"}),sizeForHeader:function(e,t){return R_.a.create(e.viewportWidth,e.layoutMetrics.headerHeight)},sizeForFooter:function(e,t){return R_.a.create(e.viewportWidth,e.layoutMetrics.footerHeight)},reusePreviousVisibleCells:function(e,t,n,i,r){var a=this,o=arguments,s=r.sectionsChanges;s&&this.handleEverythingChanged(e,t,n,i,r);var l=r.invalidSections;return l&&this.handleInvalidSections(l,e,t,n,i,r),a.__s._$1r7$reusePreviousVisibleCells.apply(a,o)},handleInvalidSections:function(e,t,n,i,r,a){this._cellMapForCellType("item").forEach((function(t){var n=t.handle;e.contains(n.sectionHandle)&&t.invalidate()})),this._cellMapForCellType("header").forEach((function(t){var n=t.handle;e.contains(n)&&t.invalidate()})),this._cellMapForCellType("footer").forEach((function(t){var n=t.handle;e.contains(n)&&t.invalidate()})),this.recoverLayout(t,i,r)},recoverLayout:function(e,t,n){var i=this.topMostLaidOutItem(e,n);i||(i=this.topMostItem(e,n),this.recoverLayoutFromCell(e,i),i.isLaidOut)},completeVisibleCells:function(e,t,n,i){var r=this,a=arguments;r.__s._$2Og$completeVisibleCells.apply(r,a);var o=e.layoutMetrics;if(o.hasHeaders&&o.hasFloatingHeaders){var s=n.objectAt(0).retain(this,"SectionLayoutSupport#completeVisibleCells: firstCell"),l=s.handle,c=o.topInset,u=o.sectionSpacing;"header"===s.cellType?(s.y>c+u&&this._sectionsAbove(l)>0&&(l=l.previous),n.shift()):"item"===s.cellType&&(l=l.sectionHandle);for(var d=this.cellForHandle(l,"header").retain(this,"sectionLayoutSupport#completeVisibleCells: header"),h=c,f=this.sizeForCell(e,d).height+u,p=h+f,m=0,g=n.length;m<g;m++){var v=n.objectAt(m);if(v.y>p)break;if("header"===v.cellType){if(h=v.y-f,v.moveBy(e,0,0),v.isFloatingToTop)return void d.release(this,"sectionLayoutSupport#completeVisibleCells: header");break}}if(this.layOutCellInDirection(e,d,1,h),h<c){var _=c-h;d.clipTop=Io.a.sharedInstance.floorToDevicePixelRatio(_)}d.isFloatingToTop=!0,n.unshift(d),d.release(this,"sectionLayoutSupport#completeVisibleCells: header"),s.release(this,"SectionLayoutSupport#completeVisibleCells: firstCell")}},positionNextCell:function(e,t,n){var i="header",r="footer";n<0&&(i="footer",r="header");var a,o=t.handle,s=t.cellType,l="item"===s?o.sectionHandle:o,c=0,u=n>0;do{if("item"===s)(o=o.atDistance(n)).isValid?o.sectionHandle!==l?(o=l,a=r):a="item":(o=l,a=r);else if(s===r){if(l=o=o.atDistance(n),!o.isValid)return null;a=i}else s===i&&(o=n<0?o.lastItem:o.firstItem,a="item");c+=u?this.verticalSpacingForCellTypes(e,s,a):this.verticalSpacingForCellTypes(e,a,s),s=a}while(!o.isValid||!("item"===s||"header"===s&&this.shouldSectionHaveHeader(e,o)||"footer"===s&&this.shouldSectionHaveFooter(e,o)));var d=this.cellForHandle(o,s).retain();return this.positionAdjacentCell(e,t,d,n,c).autorelease()},verticalSpacingForCellTypes:function(e,t,n){var i=e.layoutMetrics;return"item"===t&&"item"===n?i.rowSpacing:"header"===t&&"item"===n?(i.hasHeaders?i.sectionHeaderPadding:0)+i.sectionTopPadding:"item"===t&&"footer"===n?(i.hasFooters?i.sectionFooterPadding:0)+i.sectionBottomPadding:"footer"===t&&"header"===n?i.sectionSpacing:0},headersAboveSection:function(e,t){return e.layoutMetrics.hasHeaders?this._sectionsAbove(t):0},headersBelowSection:function(e,t){return e.layoutMetrics.hasHeaders?this._sectionsBelow(t):0},footersAboveSection:function(e,t){return e.layoutMetrics.hasFooters?this._sectionsAbove(t):0},footersBelowSection:function(e,t){return e.layoutMetrics.hasFooters?this._sectionsBelow(t):0},shouldSectionHaveHeader:function(e,t){return e.layoutMetrics.hasHeaders},shouldSectionHaveFooter:function(e,t){return e.layoutMetrics.hasFooters},_sectionsAbove:function(e){return this._setUpHandleAccessors(e),this._sectionsAbove(e)},_sectionsAboveArray:function(e){return e.position},_sectionsAboveList:function(e){for(var t=-1;e.isValid;)e=e.previous,t++;return Math.max(t,0)},_sectionsBelow:function(e){return this._setUpHandleAccessors(e),this._sectionsBelow(e)},_sectionsBelowArray:function(e){return e.maximumPosition-e.position},_sectionsBelowList:function(e){for(var t=-1;e.isValid;)e=e.next,t++;return Math.max(t,0)},_setUpHandleAccessors:function(e){return e.instanceOf(xS.a)?(this._sectionsAbove=this._sectionsAboveArray,void(this._sectionsBelow=this._sectionsBelowArray)):e.instanceOf(PS.a)?(this._sectionsAbove=this._sectionsAboveList,void(this._sectionsBelow=this._sectionsBelowList)):void Object(ze.b)("SectionLayoutSupport: unable to use handle type. handle: "+e)},sectionSpaceAboveCell:function(e,t){var n=e.layoutMetrics,i=t.cellType,r=this.getSectionHandle(t),a=this._sectionsAbove(r)*(n.sectionSpacing+n.sectionTopPadding+n.sectionBottomPadding),o=this.headersAboveSection(e,r);return"header"!==i&&(a+=n.sectionTopPadding,this.shouldSectionHaveHeader(e,r)&&(o+=1)),(a+=o*(n.headerHeight+n.sectionHeaderPadding))+this.footersAboveSection(e,r)*(n.footerHeight+n.sectionFooterPadding)},topForCell:function(e,t){var n=this,i=arguments;return n.__s._$5rM$topForCell.apply(n,i)+this.sectionSpaceAboveCell(e,t)},sectionSpaceBelowCell:function(e,t){var n=e.layoutMetrics,i=t.cellType,r=this.getSectionHandle(t),a=this._sectionsBelow(r)*(n.sectionSpacing+n.sectionTopPadding+n.sectionBottomPadding);a+=this.headersBelowSection(e,r)*(n.headerHeight+n.sectionHeaderPadding);var o=this.footersBelowSection(e,r);return"footer"!==i&&(a+=n.sectionBottomPadding,this.shouldSectionHaveFooter(e,r)&&(o+=1)),a+o*(n.footerHeight+n.sectionFooterPadding)},spaceBelowCell:function(e,t){var n=this,i=arguments;return n.__s._$6DN$spaceBelowCell.apply(n,i)+this.sectionSpaceBelowCell(e,t)},minimumTopOffsetForCell:function(e,t){var n=this.__s._$6HI$minimumTopOffsetForCell.call(this,e,t),i=e.layoutMetrics;if(!i.hasHeaders)return n;var r=t.handle,a=r.sectionHandle;return r.hasPrevious&&(r===a.firstItem||i.hasFloatingHeaders)?n+i.headerHeight+this.verticalSpacingForCellTypes(e,"header","item"):n},minimumBottomOffsetForCell:function(e,t){var n=this.__s._$6WX$minimumBottomOffsetForCell.call(this,e,t),i=e.layoutMetrics;if(!i.hasFooters)return n;var r=t.handle,a=r.sectionHandle;return r.hasNext&&r===a.lastItem?n+i.footerHeight+this.verticalSpacingForCellTypes(e,"item","footer"):n},__superMap:{_$sf$layOutCellInDirection:"layOutCellInDirection",_$1r7$reusePreviousVisibleCells:"reusePreviousVisibleCells",_$2Og$completeVisibleCells:"completeVisibleCells",_$5rM$topForCell:"topForCell",_$6DN$spaceBelowCell:"spaceBelowCell",_$6HI$minimumTopOffsetForCell:"minimumTopOffsetForCell",_$6WX$minimumBottomOffsetForCell:"minimumBottomOffsetForCell"}};function jS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var BS=Object(ne.b)("Justification",(function(e){e("Left"),e("Right"),e("Center"),e("Full")})),VS=Object(ne.b)("Justification",(function(e){e("leftToRight"),e("rightToLeft")})),$S={columnWidth:Object(X.b)(100),columnSpacing:Object(X.b)(0),direction:Object(X.b)(VS.leftToRight),justification:Object(X.b)(BS.Left),verticalAlignment:Object(X.b)(k_.Middle),sectionLeftPadding:Object(X.b)(0),sectionRightPadding:Object(X.b)(0)},WS=MS.extend(US,{staticMembers:{LayoutMetricsClass:Object(Mi.a)($S),__QUALIFIED_CLASS_NAME__:"FlowLayoutDelegate"},cellClass:Object(Mi.a)({cleanup:function(){this.__s._$16x$cleanup.call(this),this.sectionX=NaN,this.sectionY=NaN,this.isLaidOutInSection=!1,this.row=null},sectionX:NaN,sectionY:NaN,isLaidOutInSection:!1,row:Object(Y.c)({strong:!0}),rowBottom:Object(Y.c)({get:function(){var e=this.row,t=this.sectionY-e.y;return this.bottom-t+(e.height-this.height)}}),rowTop:Object(Y.c)({get:function(){var e=this.row,t=this.sectionY-e.y;return this.y-t}}),invalidate:function(){this.isLaidOutInSection=!1;var e=this.row;if(e){var t=e.cells;if(t.splice(t.indexOf(this),1),t.length>0){var n=t[0];n.isLaidOutInSection=!1,n.isLaidOut=!1}var i=e.sectionCell;i&&i.childrenWereInvalidated(),this.row=null}this.__s._$1i1$invalidate.call(this)},__superMap:{_$16x$cleanup:"cleanup",_$1i1$invalidate:"invalidate"}}),handleSizeChangedBy:function(e,t,n,i,r,a){if(0!==e){var o=this.topMostItem(n,a);if(!o)return void this.handleEverythingChanged(n,i,r,a,sS.create({everythingChanged:!0}));o.retain(this,"handleSizeChangedBy: firstCell");var s=n.viewportWidth;this._cellMapForCellType("section").forEach((function(e){e.invalidateAllCells(),e.invalidate()}),this),this._cellMapForCellType("header").forEach((function(e){e.width=s}),this),this._cellMapForCellType("footer").forEach((function(e){e.width=s}),this),this._cellMapForCellType("item").forEach((function(e){e.invalidate()}),this),this.recoverLayoutFromCell(n,o),o.release(this,"handleSizeChangedBy: firstCell")}},handleLayoutMetricsChanged:function(e,t,n,i,r,a){var o=t.layoutMetrics;if(e.contains("columnWidth")||e.contains("rowHeight")){var s=this.topMostItem(t,r);if(!s)return void this.handleEverythingChanged(t,n,i,r,sS.create({everythingChanged:!0}));s.retain(this,"handleLayoutMetricsChanged: firstCell"),this._cellMapForCellType("section").forEach((function(e){e.invalidateAllCells()}),this),this._cellMapForCellType("header").forEach((function(e){e.invalidate()})),this._cellMapForCellType("footer").forEach((function(e){e.invalidate()})),this.recoverLayoutFromCell(t,s),s.release(this,"handleLayoutMetricsChanged: firstCell")}else e.contains("verticalAlignment")||e.contains("justification")||e.contains("rowSpacing")||e.contains("columnSpacing")?this.handleSizeChangedBy(1,0,t,n,i,r):e.contains("hideableTopHeight")?o.shouldStartHidden&&this.isAtEnd===AS.Top&&o.initialPosition===AS.Top&&(this.invalidateOtherCells(r),this.setUpFirstCell(t,n,!0)):e.contains("hideableBottomHeight")&&o.shouldStartHidden&&this.isAtEnd===AS.Bottom&&o.initialPosition===AS.Bottom&&(this.invalidateOtherCells(r),this.setUpLastCell(t,n,!0))},handleItemsChanges:function(e,t,n,i,r,a){var o=e.length;if(o>100)this.handleEverythingChanged(t,n,i,r,a);else{for(var s=0;s<o;s++){var l=e[s];if(l.operation===$i.b.INSERT){var c=n.startHandle.at(l.index),u=c.sectionHandle,d=c.previous;if(d.isValid&&!d.sectionHandle!==u||(d=c.next),d.isValid&&d.sectionHandle===u){var h=this.cellForHandleIfPresent(d);if(h){var f=h.row;if(f){var p=f.cells;if(p.length>0){var m=p[0];m.isLaidOutInSection=!1,m.isLaidOut=!1}}}}}}if(this._cellMapForCellType("section").forEach((function(e){e.checkForRemovedCells(this,t)}),this),!this.topMostLaidOutItem(t,r)){this.invalidateOtherCells(r);var g=r.find((function(e){return"item"===e.cellType&&!e.handle.wasRemoved}));g&&this.recoverLayoutFromCell(t,g)}}},handleInvalidItems:function(e,t,n,i,r,a){for(var o,s=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return jS(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jS(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(e);!(o=s()).done;){var l=o.value,c=this.cellForHandle(l),u=this.cellForHandle(l.sectionHandle,"section").retain(this,"reusePreviousVisibleCells: invalidating cells");u.invalidateCell(c),u.release(this,"reusePreviousVisibleCells: invalidating cells")}this._cellMapForCellType("section").forEach((function(e){e.checkForInvalidCells(this,t)}),this);var d=this.topMostLaidOutItem(t,r);d||(d=this.topMostItem(t,r),this.recoverLayoutFromCell(t,d))},handleInvalidSections:function(e,t,n,i,r,a){e.forEach((function(e){this.cellForHandle(e,"section").invalidate()}),this),this.recoverLayout(t,i,r)},sectionCellClass:ES.extend({_cachedCells:Object(ut.b)(Set),cacheCell:function(e){var t=this._cachedCells;t.has(e)||(t.add(e),e.retain(this,"section layout cache"))},invalidateCell:function(e){var t=this._cachedCells;t.has(e)||Object(ze.b)("CW.UI.Collections.FlowLayoutDelegate#sectionCellClass#invalidateCell: Cannot invalidate non-cached cell",{cell:e}),e.invalidate(),t.delete(e),e.release(this,"section layout cache")},invalidateAllCells:function(){var e=this._cachedCells;e.forEach((function(e){e.invalidate(),e.release(this,"section layout cache")}),this),e.clear(),this.invalidate()},lastLaidOutCell:Object(Y.c)({strong:!0}),invalidate:function(){var e=this,t=arguments,n=this._cachedCells;n.forEach((function(e){e.isLaidOutInSection=!1,e.isLaidOut=!1,n.delete(e),e.autorelease(this,"section layout cache")}),this),this.fakeRows.clear(),this.childrenWereInvalidated(),e.__s._$5Kp$invalidate.apply(e,t)},childrenWereInvalidated:function(){this.isLaidOut=!1,this.lastLaidOutCell=null,this.height=-1,this.width=-1},checkForRemovedCells:function(e,t){var n,i=this._cachedCells,r=this.handle;i.forEach((function(t){var i=t.handle;if("item"===t.cellType)if(i.wasRemoved){var a=i.next;if(a.isValid&&a.sectionHandle===r){var o=e.cellForHandle(a).retain(this,"checking for removed cells");o.isLaidOutInSection=!1,o.isLaidOut=!1,o.release(this,"checking for removed cells")}var s=t.row;if(s)for(var l=s.cells,c=0,u=l.length;c<u;c++)l[c].isLaidOutInSection=!1;this.invalidateCell(t)}else(!n||t.handle.position>n.handle.position)&&(n=t)}),this),this.lastLaidOutCell=n,this.checkForInvalidCells(e,t)},checkForInvalidCells:function(e,t){var n=this.handle;if(!e.shouldEstimateSectionLayout(t,n.value)){var i=this.lastLaidOutCell;if(i){for(var r=n.firstItem,a=i.handle,o=!1;;){var s=e.cellForHandle(r).retain(this,"checking for invalid cells");if(o?(s.isLaidOutInSection=!1,s.isLaidOut=!1):s.isLaidOutInSection?i=s:o=!0,s.release(this,"checking for invalid cells"),r===a)break;r=r.next}this.lastLaidOutCell=i,this.isLaidOut=!1}}},fakeRows:Object(ut.b)(Map),fakeSize:Object(Y.c)({strong:!0,get:function(e){return e||R_.a.create()}}),layOutItem:function(e,t,n,i){if(n&&n.isLaidOutInSection)return n;var r=this.handle,a=t.layoutMetrics,o=r.firstItem;-1===o.position&&Object(ze.b)("FlowLayout: attempting to lay out invalid section");var s=n&&n.handle.retain(this,"layOutItem: current handle"),l=this.fakeRows,c=t.viewportBounds,u=e.maxWidthForSection(t,a,c,r);if(!((u+=1/(2*Io.a.sharedInstance.devicePixelRatio)-Number.EPSILON)<0)){this.width=u;var d=a.rowSpacing;if(e.shouldEstimateSectionLayout(t,r.value)){var h,f,p=a.columnWidth,m=a.columnSpacing,g=a.rowHeight,v=e.estimateRowHeight(t,a,r),_=v+d,b=Math.floor((u+m)/(p+m));n?(h=s.position-o.position,f=Math.floor(h/b)):(h=(f=Math.floor(i/_))*b+o.position,s=t.collection.startHandle.at(h).retain(this,"layOutItem: current handle"),n=e.cellForHandle(s));var y=f*_;n.sectionY=y;var S=h%b;n.sectionX=S*p+S*m,n.isLaidOutInSection=!0;var I=l.get(f);I||((I=this.createRowCell(e,t,y)).index=f,l.set(f,I)),n.row=I,-1===I.cells.indexOf(n)&&(I.cells.push(n),I.width=this.width,I.height=v);var w=this.fakeSize;return w.width=p,w.height=g,n.size=w,this.cacheCell(n),this.isLaidOut||(this.height=e.estimateSectionHeight(t,a,r,u),this.isLaidOut=!0),s.release(this,"layOutItem: current handle"),n}l.size>0&&(this.invalidateAllCells(),this.width=u);var E,C=0,A=0-a.columnSpacing;if(n)for(;;){var T=e.cellForHandle(s).retain(this,"layOutItem: finding start of layout pass");if(T.isLaidOut){C=(E=T.row).y;for(var O=E.cells,D=0,M=O.length;D<M;D++){var N=O[D];if(A+=e.sizeForCell(t,N).width+a.columnSpacing,N.handle.next===s){O.length=D+1;break}}E.width=A,T.release(this,"layOutItem: finding start of layout pass");break}if(s===o){E=this.createRowCell(e,t,C),T.release(this,"layOutItem: finding start of layout pass");break}var F=s.previous.retain(this,"layOutItem: current handle");s.release(this,"layOutItem: current handle"),s=F,T.release(this,"layOutItem: finding start of layout pass")}else{var L=this.lastLaidOutCell;if(L){if(L.sectionY>=i){var R=t.collection.handleProvider,x=Object(RS.a)(o.position,L.handle.position,(function(t){return e.cellForHandle(R.at(t))}),(function(e){return i<e.row.y?-1:i>e.row.bottom+d?1:0}));if(-1===x)return;return e.cellForHandle(R.at(x))}s=L.handle.retain(this,"layOutItem: current handle"),C=(E=L.row).y}else s=r.firstItem.retain(this,"layOutItem: current handle"),E=this.createRowCell(e,t,C)}for(var P,k=!1,U=r.lastItem;!k;){for(;;){var j=e.cellForHandle(s);if(this.cacheCell(j),!e.addCellToRow(t,this,E,j))break;if(j.row=E,j.isLaidOutInSection=!0,P=j,s===U)return C+=e.layOutRow(t,this,E).height,this.height=C,this.isLaidOut=!0,this.lastLaidOutCell=P,s.release(this,"layOutItem: current handle"),j;var B=s.next.retain(this,"layOutItem: current handle");if(s.release(this,"layOutItem: current handle"),(s=B).sectionHandle!==r)return C+=e.layOutRow(t,this,E).height,this.height=C,this.isLaidOut=!0,this.lastLaidOutCell=P,s.release(this,"layOutItem: current handle"),j;j===n&&(k=!0)}C+=e.layOutRow(t,this,E).height+a.rowSpacing,i&&E.bottom+d>=i&&(n=E.cells[0],k=!0),E=this.createRowCell(e,t,C)}return s.release(this,"layOutItem: current handle"),this.lastLaidOutCell=P,n}Object(Br.e)(s,this,"layOutItem: current handle")},createRowCell:function(e,t,n){var i=e.rowCellClass.create();return i.cellType="row",i.y=n,i.sectionCell=this,i.width=0-t.layoutMetrics.columnSpacing,this.cacheCell(i),i},__superMap:{_$5Kp$invalidate:"invalidate"}}),rowCellClass:wS.extend({cells:Object(ut.b)(Array),sectionCell:Object(Y.c)({weak:!0}),invalidate:function(){var e=this.sectionCell,t=this.index;void 0!==t&&e&&e.fakeRows.delete(t),this.index=void 0,this.cells.length=0,this.sectionCell=null,this.__s._$BQw$invalidate.call(this)},__superMap:{_$BQw$invalidate:"invalidate"}}),layOutItemInSection:function(e,t,n){n.isLaidOutInSection||this.cellForHandle(t,"section").layOutItem(this,e,n)},addCellToRow:function(e,t,n,i){var r=this.sizeForCell(e,i),a=n.width+r.width+e.layoutMetrics.columnSpacing;return!(a>t.width)&&(n.width=a,n.cells.push(i),!0)},shouldEstimateSectionLayout:function(e,t){return!1},estimateSectionHeight:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.firstItem,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:n.lastItem,o=t.columnWidth,s=t.columnSpacing,l=t.rowSpacing,c=Math.floor((i+s)/(o+s)),u=a.position-r.position+1,d=Math.ceil(u/c),h=this.estimateRowHeight(e,t,n),f=d*h;return f+(d-1)*l},maxWidthForSection:function(e,t,n,i){return Math.max(0,n.width-t.sectionLeftPadding-t.sectionRightPadding)},estimateRowHeight:function(e,t,n){return t.rowHeight},cellClassKeysByCellType:Object(Mi.a)({section:"sectionCellClass"}),_cachedSectionCells:Object(ut.b)(Array),_previousCachedSectionCells:Object(ut.b)(Array),completeVisibleCells:function(e,t,n,i){var r=this,a=arguments,o=this._previousCachedSectionCells,s=this._cachedSectionCells;r.__s._$Cps$completeVisibleCells.apply(r,a);var l=this.topMostItem(e,n);if(l){var c=this.getSectionHandle(l),u=c.previous;u.isValid&&(c=u);var d=this.getSectionHandle(this.bottomMostItem(e,n)),h=d.next;h.isValid&&(d=h);for(var f=0,p=t&&t.sections.length||1e3,m=c;;){++f>p&&Object(ze.b)("Infinite loop detected in `FlowLayoutDelegate#completeVisibleCells`.",{firstSectionHandle:m,lastSectionHandle:d});var g=this.cellForHandle(c,"section");if(s.push(g),g.retain(this,"flow layout section cache"),c===d)break;c=c.next}o.forEach(zS,this),o.length=0,this._cachedSectionCells=o,this._previousCachedSectionCells=s}},layOutRow:function(e,t,n){var i=e.layoutMetrics,r=t.width,a=i.columnSpacing,o=i.verticalAlignment,s=i.justification;return s===BS.Left?this.leftJustify(e,n,a,r):s===BS.Right?this.rightJustify(e,n,a,r):s===BS.Center?this.centerJustify(e,n,a,r):s===BS.Full?this.fullJustify(e,n,a,r):Object(ze.b)("ListLayoutDelegate: Invalid justification %{justification}",{justification:s}),o===k_.Top?this.topAlign(e,n):o===k_.Middle?this.centerAlign(e,n):o===k_.Bottom?this.bottomAlign(e,n):Object(ze.b)("ListLayoutDelegate: Invalid verticalAlignment %{verticalAlignment}",{verticalAlignment:o}),n.isLaidOut=!0,n},cellIsVisible:function(e,t,n){if("item"!==n.cellType)return this.__s._$E8U$cellIsVisible.call(this,e,t,n);var i=n.rowTop;return i<t.bottom&&i+n.row.height+e.layoutMetrics.rowSpacing>t.y},topAlign:function(e,t){for(var n=t.y,i=0,r=t.cells,a=0,o=r.length;a<o;a++){var s=r[a];s.sectionY=n;var l=this.sizeForCell(e,s).height;l>i&&(i=l)}t.height=i},centerAlign:function(e,t){for(var n=t.y,i=0,r=t.cells,a=r.length,o=0;o<a;o++){var s=r[o],l=this.sizeForCell(e,s).height;l>i&&(i=l)}for(var c=0;c<a;c++){var u=r[c],d=this.sizeForCell(e,u).height;u.sectionY=n+(i-d)/2}t.height=i},leftJustify:function(e,t,n,i){for(var r=t.cells,a=r.length-1,o=0,s=0,l=r.length;s<l;s++){var c=e.layoutMetrics.direction===VS.leftToRight?r[s]:r[a-s];c.sectionX=o,o+=this.sizeForCell(e,c).width+n}t.x=0,t.width=o-n},centerJustify:function(e,t,n,i){for(var r=t.cells,a=r.length,o=0,s=0;s<a;s++){var l=r[s];o+=this.sizeForCell(e,l).width}var c=(i-o-n*(a-1))/2;t.x=c;for(var u=0;u<a;u++){var d=r[u];d.sectionX=c,c+=this.sizeForCell(e,d).width+n}t.width=c-n},fullJustify:function(e,t,n,i){for(var r=t.cells,a=r.length,o=0,s=0;s<a;s++){var l=r[s];o+=this.sizeForCell(e,l).width}n=(i-o)/(a-1);for(var c=0,u=0;u<a;u++){var d=r[u];d.sectionX=c,c+=this.sizeForCell(e,d).width+n}t.x=0,t.width=i},rightJustify:function(e,t,n,i){for(var r=t.cells,a=r.length-1,o=i,s=r.length-1;s>=0;s--){var l=e.layoutMetrics.direction===VS.leftToRight?r[s]:r[a-s],c=this.sizeForCell(e,l).width;l.sectionX=o-c,o-=c+n}t.x=o+n,t.width=i-t.x},setUpCellAtDistance:function(e,t,n,i,r){var a=this.getSectionHandle(n).retain(this,"setUpCellAtDistance: section iteration");n.wasLaidOut||this.layOutItemInSection(e,a,n);var o=r+n.sectionY,s=this.lazyEstimateSectionHeight(e,a),l=Math.sign(o),c=e.layoutMetrics,u=c.sectionSpacing+c.sectionTopPadding+c.sectionBottomPadding;for(c.hasHeaders&&(u+=c.headerHeight+c.sectionHeaderPadding),c.hasFooters&&(u+=c.footerHeight+c.sectionFooterPadding);;){if(o>=0&&o<s){var d=this.cellForHandle(a,"section").retain(this,"setUpCellAtDistance: current searched section"),h=d.layOutItem(this,e,null,o);return h||Object(ze.b)("unable to find cell at offset %{offset}",{offset:o}),this.layOutCellInDirection(e,h,1,h.sectionY-o,1,h.sectionX+e.layoutMetrics.sectionLeftPadding),Math.abs(h.y)<.05*r&&(h.y=h.y%c.rowHeight),d.autorelease(this,"setUpCellAtDistance: current searched section"),h}l>0&&(o-=s);var f=a.atDistance(l).retain(this,"setUpCellAtDistance: section iteration");if(a.release(this,"setUpCellAtDistance: section iteration"),!(a=f).isValid){a.release(this,"setUpCellAtDistance: section iteration");break}s=this.lazyEstimateSectionHeight(e,a),s+=u,l<0&&(o+=s)}return l>0?this.setUpLastCell(e,t):this.setUpFirstCell(e,t)},handleNoPreviouslyValidCells:function(e,t,n,i,r){var a=this.isAtEnd;if(a===AS.Top)return this.setUpFirstCell(e,t);if(a===AS.Bottom)return this.setUpLastCell(e,t);if(this.bottomMostItem(e,i).handle.position>=t.length)return this.isAtEnd=AS.Bottom,this.setUpLastCell(e,t);var o=this.topMostItem(e,i),s=o.handle.position,l=t.startHandle.at(s),c=this.cellForHandle(l);return this.recoverLayoutFromCell(e,c,o),c},recoverLayoutFromCell:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=t.handle;i.wasRemoved||i.isValid&&(this.layOutItemInSection(e,i.sectionHandle,t),t.isLaidOutInSection&&this.layOutCellInDirection(e,t,1,n.y,1,t.sectionX+e.layoutMetrics.sectionLeftPadding))},handleEverythingChanged:function(e,t,n,i,r){var a=this,o=arguments;this._cellMapForCellType("section").forEach((function(e){e.invalidateAllCells()}),this),a.__s._$HWx$handleEverythingChanged.apply(a,o)},positionAdjacentCell:function(e,t,n,i,r){var a,o=t.cellType,s=n.cellType,l=e.layoutMetrics;if("item"===o&&"item"===s&&t.handle.sectionHandle===n.handle.sectionHandle)return this.layOutItemInSection(e,n.handle.sectionHandle,n),this.layOutCellInDirection(e,n,1,t.y+(n.sectionY-t.sectionY),1,n.sectionX+l.sectionLeftPadding);var c,u=i>0;if("header"===o||"footer"===o?a=u?t.bottom:t.y:"item"===o?a=u?t.rowBottom:t.rowTop:Object(ze.b)("FlowLayout#positionAdjacentCell: unable to position based on cell of type %{cellType}",{cell:t,cellType:o}),a+=i*r,"header"===s||"footer"===s)c=0;else if("item"===s){this.layOutItemInSection(e,n.handle.sectionHandle,n),c=n.sectionX+l.sectionLeftPadding;var d=n.row,h=n.sectionY-d.y;a+=u?h:-(d.height-this.sizeForCell(e,n).height-h)}else Object(ze.b)("FlowLayout#positionAdjacentCell: unable to position cell of type %{cellType}",{cell:n,cellType:s});return this.layOutCellInDirection(e,n,i,a,1,c)},topForCell:function(e,t){var n=this.getSectionHandle(t);this.layOutItemInSection(e,n,t);var i=t.sectionY;i+=this.estimatedHeightForCells(e,n.firstItem.position);var r=e.layoutMetrics;return i+this.sectionSpaceAboveCell(e,t)+r.topPadding+r.topInset-r.hideableTopHeight},lazyEstimateSectionHeight:function(e,t){var n=e.layoutMetrics;t.retain(this,"lazyEstimateSectionHeight: sectionHandle");var i=this.cellForHandle(t,"section").retain(this,"lazyEstimateSectionHeight: sectionCell");if(i.isLaidOut){var r=i.height;return i.release(this,"lazyEstimateSectionHeight: sectionCell"),t.release(this,"lazyEstimateSectionHeight: sectionHandle"),r}var a,o=i.lastLaidOutCell,s=0;o&&o.row?(s=o.row.bottom,s+=n.rowSpacing,a=o.handle.next):a=i.firstItem,i.release(this,"lazyEstimateSectionHeight: sectionCell");var l=this.maxWidthForSection(e,n,e.viewportBounds,t),c=this.estimateSectionHeight(e,n,t,l,a);return t.release(this,"lazyEstimateSectionHeight: sectionHandle"),s+c},spaceBelowCell:function(e,t){var n=this.getSectionHandle(t);this.layOutItemInSection(e,n,t);var i=this.cellForHandle(n,"section").retain(this,"spaceBelowCell"),r=t.size?t.size.height:t.height,a=this.lazyEstimateSectionHeight(e,n)-(t.sectionY+r);i.release(this,"spaceBelowCell");var o=n.lastItem;a+=this.estimatedHeightForCells(e,o.maximumPosition-o.position);var s=e.layoutMetrics;return a+this.sectionSpaceBelowCell(e,t)+s.bottomPadding-s.hideableBottomHeight},estimatedHeightForCells:function(e,t){if(0===t)return 0;var n=e.layoutMetrics,i=n.columnWidth,r=n.columnSpacing,a=n.rowSpacing,o=n.rowHeight,s=(e.viewportWidth+r)/(i+r),l=Math.ceil(t/s);return l*o+(l-1)*a},leftForCell:function(e,t){var n=this,i=arguments;return"item"===t.cellType?(this.layOutItemInSection(e,t.handle.sectionHandle,t),t.sectionX+e.layoutMetrics.sectionLeftPadding):n.__s._$K14$leftForCell.apply(n,i)},sizeForItem:function(e,t){var n=e.layoutMetrics;return R_.a.create({height:n.rowHeight,width:n.columnWidth})},minimumTopOffsetForCell:function(e,t){var n=e.layoutMetrics,i=t.handle,r=t.row,a=i.sectionHandle,o=0;return i.hasPrevious||(o+=n.topPadding+n.topInset-n.hideableTopHeight),this.layOutItemInSection(e,a,t),o+=t.sectionY-r.y,this.shouldSectionHaveHeader(e,a)?((n.hasFloatingHeaders||0===r.index)&&(o+=n.headerHeight+this.verticalSpacingForCellTypes(e,"header","item")),o):o},minimumBottomOffsetForCell:function(e,t){var n=e.layoutMetrics,i=t.handle,r=t.row,a=i.sectionHandle,o=0;if(i.hasNext||(o+=n.bottomPadding-n.hideableBottomHeight),this.layOutItemInSection(e,a,t),o+=r.bottom-(t.sectionY+this.sizeForCell(e,t).height),!this.shouldSectionHaveFooter(e,a))return o;var s=r.cells;return s[s.length-1].handle===a.lastItem&&(o+=n.footerHeight+this.verticalSpacingForCellTypes(e,"item","footer")),o},__superMap:{_$Cps$completeVisibleCells:"completeVisibleCells",_$E8U$cellIsVisible:"cellIsVisible",_$HWx$handleEverythingChanged:"handleEverythingChanged",_$K14$leftForCell:"leftForCell"}});function zS(e){e.release(this,"flow layout section cache")}var GS=Object(ne.b)("SelectionOperations",(function(e){e("TOGGLE"),e("EXTEND"),e("SET"),e("ADD"),e("REMOVE")})),HS=Object(ne.b)("SelectionDirections",(function(e){e("UP"),e("DOWN"),e("LEFT"),e("RIGHT")}));function KS(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return QS(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QS(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function QS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var qS=Ge.a.extend(Ni.a,Me.a,{collection:Object(X.b)(),delegate:Object(X.b)(),isEmptySelectionEnabled:Object(X.b)(!0),isMultipleSelectionEnabled:Object(X.b)(!0),isRangeSelectionAlwaysAdditive:Object(X.b)(!1),pivot:Object(X.b)({strong:!0,get:function(){return this._pivot},set:function(e){return this._pivot=e}}),extendedTo:Object(X.b)({strong:!0}),userPerformedSelectionOperation:function(e,t){this._userPerformedSelectionOperation(e,t),this.notifyPublicOfSelectionChange()},notifyPublicOfSelectionChange:function(){this.propertyChanged("selection"),this.selectionDidChange()},selectionDidChange:Object(Ni.g)(),_userPerformedSelectionOperation:function(e,t){var n=!1;switch(t){case GS.TOGGLE:e&&(this.isItemAtHandleSelected(e)?this._userPerformedSelectionOperation(e,GS.REMOVE):this._userPerformedSelectionOperation(e,GS.ADD));break;case GS.REMOVE:(this.isEmptySelectionEnabled||this.selection.length>1)&&e&&this.deselectItemAtHandle(e);break;case GS.ADD:if(!this.isMultipleSelectionEnabled){this._userPerformedSelectionOperation(e,GS.SET);break}e&&this.selectItemAtHandle(e)&&(this.pivot=e);break;case GS.EXTEND:if(this.isMultipleSelectionEnabled){if(e instanceof Object){var i=this.pivot;i instanceof Object?(this._modifyCurrentRangeForSelectionExtensionOperation(e,i),n=!0):this._userPerformedSelectionOperation(e,GS.ADD)}break}default:e&&e.retain("BaseSelectionController: holding on during clearSelection"),this.clearSelection(),e&&(this.selectItemAtHandle(e)&&(this.pivot=e),e.release("BaseSelectionController: holding on during clearSelection"))}this.extendedTo=n?e:void 0},_modifyCurrentRangeForSelectionExtensionOperation:function(e,t){var n=this.extendedTo,i=n&&n.position+e.position+t.position>=0,r=i?n.position-t.position:void 0,a=i?e.position-t.position:void 0;i&&Math.sign(r)===Math.sign(a)?Math.abs(r)>Math.abs(a)?this.isRangeSelectionAlwaysAdditive||this.deselectRange(n,e,!1):this.selectRange(n,e,!1):(n instanceof Object&&!this.isRangeSelectionAlwaysAdditive&&(t.retain(this,"BaseSelectionController#_userPerformedSelectionOperation: reselecting extended selection range"),this.deselectRange(t,n),this.pivot=t,t.release(this,"BaseSelectionController#_userPerformedSelectionOperation: reselecting extended selection range")),this.selectRange(t,e))},userPerformedSelectionOperationInDirection:function(e,t){var n=this.getSelectableHandleInDirection(this.pivot,e);n&&(this.userPerformedSelectionOperation(n,t),this.pivot=n)},selectAll:function(){var e=this.collection.startHandle;if(e.isValid){this.clearSelection();var t=this.getSelectableHandleInOffsetDirection(e,1);if(t instanceof Object){this._userPerformedSelectionOperation(t,GS.SET);var n=e.end;n!==e&&(n.retain(this,"selectAll").autorelease(this,"selectAll"),this._userPerformedSelectionOperation(n,GS.EXTEND)),this.notifyPublicOfSelectionChange()}}},selection:Object(Xh.c)(Ht.a),selectedItem:Object(X.b)({dependencies:["selection"],get:Object.assign((function(){var e=this.selection;if(1!==e.length)return null;for(var t,n=KS(e);!(t=n()).done;)return t.value}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(1!==r.length)return null;for(var a,o=KS(r);!(a=o()).done;)return a.value}}),set:Object.assign((function(e){var t;null===e?t=null:(t=sa.create()).add(e),this.selection=t}),{__CW__setter:function(e,t,n,i,r){var a;null===e?a=null:(a=sa.create()).add(e),n[0+i]=a}}),writeDependencySetPathMap:[!1]}),updateSelectionForCollectionChange:Object(Xh.c)(De.a),clearSelection:Object(Xh.c)(De.a),isItemAtHandleSelected:Object(Xh.c)(De.a),selectItemAtHandle:Object(Xh.c)(De.a),deselectItemAtHandle:Object(Xh.c)(De.a),selectRange:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._modifyRange(e,t,this.selectItemAtHandle,n)},deselectRange:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._modifyRange(e,t,this.deselectItemAtHandle,n)},_modifyRange:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.isValid&&t.isValid){var r="BaseSelectionController#_modifyRange: iterating handle",a="BaseSelectionController#_modifyRange: end handle",o=Math.sign(t.position-e.position),s=t.retain(this,a),l=e.retain(this,r);if((l!==s||i)&&n.call(this,l),0!==o)for(;l!==s&&l.isValid;){var c=l.atDistance(o).retain(this,r);l.release(this,r),((l=c)!==s||i)&&n.call(this,l)}s.release(this,a),l.release(this,r)}},getHandleInDirection:function(e,t){var n=this._getHandleOffsetForDirection(e,t);if(0!==n)return this._getHandleAtOffsetFromHandle(e,n)},findHandleInOffsetDirection:function(e,t,n){var i="findHandleInOffsetDirection";if(0!==t){for(var r=e.retain(this,i);r.isValid;){var a=this._getHandleAtOffsetFromHandle(r,t);if(a instanceof Object&&a.retain(this,i),!0===n.call(this,r,a))return a instanceof Object&&a.release(this,i),r.autorelease(this,i);if(r.release(this,i),!(a instanceof Object))return;r=a.retain(this,i)}r.release(this,i)}},findHandleInDirection:function(e,t,n){var i=this._getHandleOffsetForDirection(e,t);return this.findHandleInOffsetDirection(e,i,n)},getLastHandleInDirection:function(e,t){return this.findHandleInDirection(e,t,(function(e,t){return!(t instanceof Object)||!t.isValid}))},getSelectableHandleInDirection:function(e,t){return this.findHandleInDirection(e,t,this.getIsItemAtHandleSelectable)},getSelectableHandleInOffsetDirection:function(e,t){return this.findHandleInOffsetDirection(e,t,this.getIsItemAtHandleSelectable)},getIsItemAtHandleSelectable:function(e){return this.delegate.selectionControllerShouldSelectItem(this,e)&&!this.isItemAtHandleSelected(e)},_getHandleOffsetForDirection:function(e,t){var n=0;switch(t){case HS.LEFT:case HS.UP:n=-1;break;case HS.RIGHT:case HS.DOWN:n=1}var i=this.owner.layoutMetrics,r=(i&&i.direction)===VS.rightToLeft,a=t===HS.LEFT||t===HS.RIGHT;return r&&a&&(n*=-1),n},_getHandleAtOffsetFromHandle:function(e,t){return e.atDistance(t).retain(this,"getHandleInDirection").autorelease(this,"getHandleInDirection")},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseSelectionController"}}),YS=n(322),XS={mixinDependencies:[Me.a],itemsInsertedAtIndex:Object(Xh.c)(De.a),itemsRemovedAtIndex:Object(Xh.c)(De.a)};function JS(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return ZS(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZS(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function ZS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var eI=Ge.a.extend(YS.a,{init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e._firstRange,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t?t.start:NaN,i=this;this._source=e,this._range=t,this._index=n,i.__s._$9_$init.call(i)},_source:null,_range:null,_index:NaN,isValid:Object(Y.c)({readOnly:!0,get:function(){return!!this._range}}),encodedValue:Object(Y.c)({readOnly:!0,get:function(){return this._index}}),moveToNext:function(){var e=this._index,t=this._range;e===t.end?e=(t=this._range=t.next)?t.start:NaN:e++,this._index=e},clone:function(){return this.constructor.create(this._source,this._range,this._index)},__superMap:{_$9_$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"IndexIterator"}}),tI=Ge.a.extend(YS.a,{init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e._firstRange,n=this;this._source=e,this._range=t,n.__s._$P4$init.call(n)},_source:null,_range:null,isValid:Object(Y.c)({readOnly:!0,get:function(){return!!this._range}}),value:Object(Y.c)({readOnly:!0,get:function(){return this.encodedValue}}),encodedValue:Object(Y.c)({readOnly:!0,get:function(){return this._range}}),moveToNext:function(){this.isValid&&(this._range=this._range.next)},clone:function(){return this.constructor.create(this._source,this._range)},__superMap:{_$P4$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"IndexRangeIterator"}}),nI=Ge.a.extend(Ni.a,ta.a,XS,mr.a,{init:function(){var e=this,t=arguments;this._firstRange=null,e.__s._$mx$init.apply(e,t)},length:Object(X.b)({cacheable:!0,get:function(){for(var e=this._firstRange,t=0;e;)t+=e.end-e.start+1,e=e.next;return t}}),iteratorClass:Object(Y.c)(eI),toArray:function(e){for(var t,n,i,r=e||[],a=this._firstRange;a;){for(n=a.start,i=a.end,t=n;t<=i;t++)r.push(t);a=a.next}return r},clear:function(){for(var e=this._firstRange,t=null;e;)t=e.next,e.next=null,e.start=e.end=-1,e=t;this._firstRange=null,this.propertyChanged("length")},add:function(e,t){var n=this.encode(e),i=void 0!==t?this.encode(t):void 0;return this.encodedAdd(n,i)},encodedAdd:function(e,t){if(void 0===t)t=e;else if(t<e){var n=[t,e];e=n[0],t=n[1]}for(var i=this._firstRange,r=null,a=0;i&&!(i.end>=e);)r=i,i=i.next;if(i&&i.start<=t){var o=Math.min(i.start,e),s=Math.max(i.end,t);a+=i.start-o,a+=s-i.end,i.start=o,i.end=s}else i=new iI(e,t,i||null),a=t-e+1,r?r.next=i:this._firstRange=i;r&&r.end>=i.start-1&&(a-=r.end-i.start+1,r.end=i.end,r.next=i.next,i=r);var l=i;for(i=i.next;i&&i.start<=l.end+1;)l.end=Math.max(l.end,i.end),a-=Math.min(t,i.end)-Math.max(e,i.start)+1,l.next=i.next,i=i.next;return this.propertyChanged("length"),a},remove:function(e,t){return this.encodedRemove(this.encode(e),t?this.encode(t):void 0)},encodedRemove:function(e,t){if(void 0===t)t=e;else if(t<e){var n=[t,e];e=n[0],t=n[1]}for(var i=this._firstRange,r=null,a=0;i&&!(i.start>t);){if(i.end>=e)if(i.start>=e&&i.end<=t)r?r.next=i.next:this._firstRange=i.next,a+=i.end-i.start+1;else{var o,s,l=i.start,c=Math.min(i.end,e-1),u=Math.max(i.start,t+1),d=i.end,h=i.next;a+=Math.min(t,i.end)-Math.max(e,i.start)+1,c-l>=0&&(o=new iI(l,c,h),r?r.next=o:this._firstRange=o,r=i=o),d-u>=0&&(s=new iI(u,d,h),r?r.next=s:this._firstRange=s,r=i=s)}r=i,i=i.next}return this.propertyChanged("length"),a},contains:function(e,t){return this.encodedContains(this.encode(e),t?this.encode(t):void 0)},encodedContains:function(e,t){void 0===t&&(t=e);for(var n=this._firstRange;n;){if(n.start<=e&&n.end>=t)return!0;n=n.next}return!1},containsSome:function(e,t){Object(ze.b)("not implemented")},rangeStart:function(e){var t=this._rangeForIndex(e);return t?t.start:-1},rangeEnd:function(e){var t=this._rangeForIndex(e);return t?t.end:-1},lastIndexBefore:function(e){for(var t,n=this._firstRange,i=-1,r=e-1;n&&!(n.start>r);)t=n,n=n.next;return t&&(i=Math.min(r,t.end)),i},firstIndexAfter:function(e){for(var t=this._firstRange,n=-1,i=e+1;t&&!(t.end>=i);)t=t.next;return t&&(n=Math.max(i,t.start)),n},itemsInsertedAtIndex:function(e,t){for(var n=this._firstRange;n;)this._updateRangeForInsertion(n,e,t),n=n.next;this.remove(e,e+t-1)},itemsRemovedAtIndex:function(e,t){for(var n=this._firstRange,i=null;n;)this._updateRangeForRemoval(n,e,t),n.end>=n.start?i&&i.end>=n.start-1&&(i.end=n.end,i.next=n.next):i?i.next=n.next:this._firstRange=n.next,i=n,n=n.next;this.propertyChanged("length")},_updateRangeForInsertion:function(e,t,n){e.start>=t&&(e.start+=n),e.end>=t&&(e.end+=n)},_updateRangeForRemoval:function(e,t,n){var i=t+n-1;e.start>=t&&(e.start<=i?e.start=t:e.start-=n),e.end>=t&&(e.end<=i?e.end=t-1:e.end-=n)},_rangeForIndex:function(e){for(var t=this._firstRange;t;){if(t.start<=e&&t.end>=e)return t;t=t.next}return null},ranges:function(){return tI.create(this)},union:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,r=t;i<r.length;i++)for(var a,o=r[i],s=JS(o.ranges());!(a=s()).done;){var l=a.value,c=l.start,u=l.end;this.add(c,u)}return this},difference:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(rI,this)},clone:function(){return nI.create().union(this)},__superMap:{_$mx$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"IndexSet"}});function iI(e,t,n){this.start=e,this.end=t,this.next=n}function rI(e,t){for(var n=e.ranges(),i=t.ranges(),r=function(){var e=null,t=null,n=null;return function(i){if(null===e)e=i;else{var r=e.value,a=i.value;if(e.oppositeOn&&(r+=1),i.oppositeOn&&(a-=1),r<=a){var o=new iI(r,a,null);null===t?(n=o,t=o):t.end===o.start-1?t.end=o.end:(t.next=o,t=o)}e=null}return n}}(),a=null,o=!1,s=!1;n.isValid||i.isValid;){var l=aI(n,o),c=aI(i,s);null===l||null!==c&&(c<l||!(c>l)&&o)?(a=r({value:c,oppositeOn:o}),s&&i.moveToNext(),s=!s):(a=r({value:l,oppositeOn:s}),o&&n.moveToNext(),o=!o)}return function(e){var t=nI.create();return t._firstRange=e,t}(a)}function aI(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.isValid?t?e.value.end:e.value.start:null}function oI(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return sI(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sI(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function sI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var lI=sa.create(),cI=qS.extend({_tempIndexSet:Object(Y.c)({strong:!0,defaultValue:Object(ut.b)(nI)}),selectedIndices:Object(X.b)({dependencies:[],writeDependencies:["selectionDidChange","pivot"],get:function(){return this._selectedIndices},set:Object.assign((function(e){var t=this.delegate,n=this.collection,i=this._selectedIndices;if(!n)return this.pivot=null,this._selectedIndices=nI.create(),void this.selectionDidChange(!0);var r=i.length;1===r?t.selectionControllerDidDeselectItem(this,n.startHandle.at(i.firstIndexAfter(-1))):r>1&&t.selectionControllerDidSelectRange(this,i),e||(e=i);var a=this.getPath("collection.length");if(!this.isEmptySelectionEnabled&&a&&0===e.length){this._selectedIndices=nI.create();for(var o=n.startHandle;o.isValid&&!this.selectItemAtHandle(o);o=o.next);e=this._selectedIndices}else if(!this.isMultipleSelectionEnabled&&e.length>1){this._selectedIndices=nI.create();for(var s,l=oI(e);!(s=l()).done;){var c=s.value,u=n.startHandle.at(c).retain(this,"IndexedSelectionController#selectedIndices: enforcing isMultipleSelectionEnabled"),d=this.selectItemAtHandle(u);if(u.release(this,"IndexedSelectionController#selectedIndices: enforcing isMultipleSelectionEnabled"),d)break}e=this._selectedIndices}else this._selectedIndices=e=t.selectionControllerShouldSelectRange(this,e),t.selectionControllerDidSelectRange(this,e);var h=this._pivot,f=h;h&&e.contains(h.position)||e.length>0&&(f=n.startHandle.at(e.lastIndexBefore(1/0))),this.pivot=f,this.selectionDidChange(!0)}),{__CW__setter:function(e,t,n,i,r){var a=this.delegate,o=this.collection,s=this._selectedIndices;if(!o)return n[1+i]=null,this._selectedIndices=nI.create(),void this.selectionDidChange(!0);var l=s.length;1===l?a.selectionControllerDidDeselectItem(this,o.startHandle.at(s.firstIndexAfter(-1))):l>1&&a.selectionControllerDidSelectRange(this,s),e||(e=s);var c=this.getPath("collection.length");if(!this.isEmptySelectionEnabled&&c&&0===e.length){this._selectedIndices=nI.create();for(var u=o.startHandle;u.isValid&&!this.selectItemAtHandle(u);u=u.next);e=this._selectedIndices}else if(!this.isMultipleSelectionEnabled&&e.length>1){this._selectedIndices=nI.create();for(var d,h=oI(e);!(d=h()).done;){var f=d.value,p=o.startHandle.at(f).retain(this,"IndexedSelectionController#selectedIndices: enforcing isMultipleSelectionEnabled"),m=this.selectItemAtHandle(p);if(p.release(this,"IndexedSelectionController#selectedIndices: enforcing isMultipleSelectionEnabled"),m)break}e=this._selectedIndices}else this._selectedIndices=e=a.selectionControllerShouldSelectRange(this,e),a.selectionControllerDidSelectRange(this,e);var g=this._pivot,v=g;g&&e.contains(g.position)||e.length>0&&(v=o.startHandle.at(e.lastIndexBefore(1/0))),n[1+i]=v,this.selectionDidChange(!0)}}),writeDependencySetPathMap:[,!1]}),_maintainFlags:Object(Ni.f)({inputs:["delegate","isEmptySelectionEnabled","isMultipleSelectionEnabled"],callback:function(e){e&&(this.selectedIndices=this._selectedIndices)}}),_selectedIndices:Object(Y.c)({strong:!0,defaultValue:Object(ut.b)(nI)}),updateSelectionForCollectionChange:function(e){var t=this._selectedIndices,n=e.itemsChanges,i=!1;if(n){if(t.length>0){lI.serializer=this.collection.serializer;for(var r=n.length,a=0;a<r;a++){var o=n[a],s=o.index;if(-1!==t.firstIndexAfter(s)&&(i=!0),o.operation===$i.b.REMOVE)t.contains(s)&&lI.encodedAdd(o.encodedItem),t.itemsRemovedAtIndex(s,1);else if(t.itemsInsertedAtIndex(s,1),lI.length>0){var l=o.encodedItem;lI.encodedContains(l)&&(t.add(s),lI.encodedRemove(l),i=!0)}}lI.length&&(i=!0,lI.clear())}}else if(e.collectionChanged)t.length&&(i=!0,t.clear());else if(e.everythingChanged&&t.length){var c=this.collection.length;t.clone().forEach((function(e){e>=c&&t.remove(e)})),i=!0}0!==t.length||this.isEmptySelectionEnabled||(i=!0),i&&(this.selectedIndices=t)},selection:Object(X.b)({strong:!0,dependencies:["selectedIndices"],set:Object.assign((function(e){var t=this.collection,n=nI.create();if(e&&t)if(e.serializer===t.serializer&&e.createIterator)for(var i=e.createIterator();i.isValid;i.moveToNext())n.add(t.encodedIndexOf(i.encodedValue));else e.forEach((function(e){n.add(t.indexOf(e))}));return this.selectedIndices=n,e}),{__CW__setter:function(e,t,n,i,r){var a=this.collection,o=nI.create();if(e&&a)if(e.serializer===a.serializer&&e.createIterator)for(var s=e.createIterator();s.isValid;s.moveToNext())o.add(a.encodedIndexOf(s.encodedValue));else e.forEach((function(e){o.add(a.indexOf(e))}));return n[0+i]=o,e}}),get:Object.assign((function(){var e=this.collection,t=sa.create();return e&&(t.serializer=e.serializer,this.selectedIndices.forEach((function(n){t.encodedAdd(e.encodedObjectAt(n))}))),t}),{__CW__getter:function(e,t,n,i){var r=this.collection,a=sa.create();return r&&(a.serializer=r.serializer,i.internalGet(this,t[0+n]).forEach((function(e){a.encodedAdd(r.encodedObjectAt(e))}))),a}}),writeDependencySetPathMap:[!1]}),isItemAtHandleSelected:function(e){return this.selectedIndices.contains(e.position)},selectItemAtHandle:function(e){var t=this.delegate;return!!t.selectionControllerShouldSelectItem(this,e)&&(this._selectedIndices.add(e.position),this.propertyChanged("selectedIndices"),t.selectionControllerDidSelectItem(this,e),!0)},deselectItemAtHandle:function(e){var t=this._selectedIndices,n=this.collection,i=e.position,r=null;if(t.remove(i),0!==t.length){var a=this.pivot;if(e===a){var o=t.firstIndexAfter(i),s=t.lastIndexBefore(i),l=(-1===o?1/0:o-i)<(-1===s?1/0:i-s)?o:s;r=n.startHandle.at(l)}else r=a}return this.pivot=r,this.propertyChanged("selectedIndices"),this.delegate.selectionControllerDidDeselectItem(this,e),!0},clearSelection:function(){var e=this.selectedIndices;this.delegate.selectionControllerDidDeselectRange(this,e),this.selectedIndices.clear(),this.pivot=null},selectRange:function(e,t){var n=e.position,i=t.position,r=this._selectedIndices,a=this._tempIndexSet;a.clear(),a.add(n,i);var o=this.delegate.selectionControllerShouldSelectRange(this,a);r.union(o),this.delegate.selectionControllerDidSelectRange(this,o)},getSelectableHandleInDirection:function(e,t){var n;switch(t){case HS.UP:n=-1;break;case HS.DOWN:n=1;break;default:return null}for(var i=e.retain(this,"getSelectableHandleInDirection: selectableItem");;){var r=i.atDistance(n).retain(this,"getSelectableHandleInDirection: selectableItem");if(i.release(this,"getSelectableHandleInDirection: selectableItem"),!r.isValid)return r.release(this,"getSelectableHandleInDirection: selectableItem"),null;if(i=r,this.delegate.selectionControllerShouldSelectItem(this,i)&&!this.isItemAtHandleSelected(i))return i.autorelease(this,"getSelectableHandleInDirection: selectableItem")}},staticMembers:{__QUALIFIED_CLASS_NAME__:"IndexedSelectionController"}});function uI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var dI={mixinDependencies:[pS],selectionControllerShouldSelectRange:function(e,t){for(var n,i=nI.create(),r=e.collection.handleProvider,a=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return uI(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uI(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(t.ranges());!(n=a()).done;)for(var o=n.value,s=o.start,l=o.end,c=s;c<=l;c++){var u=r.at(c);this.selectionControllerShouldSelectItem(e,u)&&i.add(c)}return i},selectionControllerDidSelectRange:Vr.a,selectionControllerDidDeselectRange:Vr.a},hI=ne.b("Direction",{EAST:0,NORTHEAST:45,NORTH:90,NORTHWEST:135,WEST:180,SOUTHWEST:225,SOUTH:270,SOUTHEAST:315}),fI={mixinDependencies:[{mixinDependencies:[Me.a],collectionViewDidScroll:De.a.define()}],collectionViewDidScrollInDirection:De.a.define()},pI={staticMembers:{measurementInstance:X.b({readOnly:!0,strong:!0,get:function(){var e=this.create(),t=e.element;return t.style.visibility="hidden",document.body.appendChild(t),e}})},naturalSize:X.b({cacheable:!1,readOnly:!0,get:function(){return mb.a(this.element)}})},mI={staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",styles:{position:"absolute"}}}}},gI=Di.a.extend(mI,pI,{staticMembers:{template:{type:"ELEMENT",tagname:"div",classes:["cw-divider-item-view"]},className:"cw-ui-divider-item-view",__QUALIFIED_CLASS_NAME__:"DividerItemView"}}),vI=n(316),_I=Di.a.extend(mI,{staticMembers:{template:{type:"ELEMENT",tagname:"div",classes:["cw-item-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"cw-disabled",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHighlighted",truevalue:"cw-highlighted",attributes:{}}]},className:"cw-ui-item-view",__QUALIFIED_CLASS_NAME__:"ItemView"},isDisabled:X.b({type:"boolean",defaultValue:!1}),isHighlighted:X.b({type:"boolean",defaultValue:!1})}),bI=_I.extend(pI,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",classes:["checkmark"]},{type:"ELEMENT",tagname:"div",name:"icon",classes:["icon",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"iconClass",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_displayTitle",attributes:{}}],classes:["title",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"titleIsAlwaysLTR",truevalue:"is-always-ltr",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_keySequenceSymbols",attributes:{}}],classes:["key-sequence-symbols"]}],classes:["cw-menu-item-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasCheckmark",truevalue:"has-checkmark",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_hasIconClass",truevalue:"has-icon-class",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_hasKeySequence",truevalue:"has-key-sequence",attributes:{}}]}},className:"cw-ui-menu-item-view",__QUALIFIED_CLASS_NAME__:"MenuItemView"},_displayTitle:X.b({dependencies:["title","shouldEscape"],readOnly:!0,get:Object.assign((function(){return this.shouldEscape?vI.b(this.title):this.title}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[1+n])?vI.b(i.internalGet(this,t[0+n])):i.internalGet(this,t[0+n])}})}),titleIsAlwaysLTR:X.b({type:"boolean",defaultValue:!1}),hasCheckmark:X.b({type:"boolean",defaultValue:!1}),_hasKeySequence:X.b({dependencies:["keySequence"],readOnly:!0,get:Object.assign((function(){return!!this.keySequence}),{__CW__getter:function(e,t,n,i){return!!i.internalGet(this,t[0+n])}})}),_hasIconClass:X.b({dependencies:["iconClass"],readOnly:!0,get:Object.assign((function(){return!!this.iconClass}),{__CW__getter:function(e,t,n,i){return!!i.internalGet(this,t[0+n])}})}),iconClass:X.b(),keySequence:X.b(),_keySequenceSymbols:X.b({dependencies:["keySequence"],readOnly:!0,get:Object.assign((function(){var e=this.keySequence;return e?yI(e):null}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r?yI(r):null}})}),title:X.b(),shouldEscape:X.b({type:"boolean",defaultValue:!0})});function yI(e){var t,n,i="",r=e.modifiers,o=e.keys;if(r)for(t=0,n=r.length;t<n;t++)i+=a.d(SI[r[t]])||r[t];if(o)for(t=0,n=o.length;t<n;t++)i+=a.d(SI[o[t]])||String.fromCharCode(o[t]);return i}var SI={},II=ji.a;SI[II.BACKSPACE]="\u232b",SI[II.TAB]="\u21e5",SI[II.SPACE]="Space",SI[II.RETURN]="\u23ce",SI[II.ENTER]="\u23ce",SI[II.SHIFT]="\u21e7",SI[II.CTRL]="\u2303",SI[II.OPTION]="\u2325",SI[II.ESC]="\u238b",SI[II.LEFT]="\u2190",SI[II.UP]="\u2191",SI[II.RIGHT]="\u2192",SI[II.DOWN]="\u2193",SI[II.DELETE]="\u2326",SI[II.HOME]="Home",SI[II.END]="End",SI[II.PAGEUP]="Page Up",SI[II.PAGEDOWN]="Page Down",SI[II.INSERT]="Insert",SI[II.CMD]="\u2318";var wI={mixinDependencies:[Me.a],action:X.b()},EI=(Me.a,Me.a,_I.extend(pI,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",classes:["icon",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"iconClass",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_displayTitle",attributes:{escape:"false"}}],classes:["title"]},{type:"ELEMENT",tagname:"div",classes:["arrow"]}],classes:["cw-submenu-item-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_hasIconClass",truevalue:"has-icon-class",attributes:{}}]}},className:"cw-ui-submenu-item-view",__QUALIFIED_CLASS_NAME__:"SubmenuItemView"},_displayTitle:X.b({dependencies:["title","shouldEscape"],readOnly:!0,get:Object.assign((function(){return this.shouldEscape?vI.b(this.title):this.title}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[1+n])?vI.b(i.internalGet(this,t[0+n])):i.internalGet(this,t[0+n])}})}),_hasIconClass:X.b({dependencies:["iconClass"],readOnly:!0,get:function(){return!!this.icon}}),iconClass:X.b(),title:X.b(),shouldEscape:X.b({type:"boolean",defaultValue:!0})})),CI={_didEnter:function(){var e=this,t=arguments;e.__s._$66$_didEnter.apply(e,t),this.view.style.set("width",this.width).set("height",this.height).translateDevicePixels(this.x,this.y)},_didUpdate:function(){var e=this,t=arguments;e.__s._$DO$_didUpdate.apply(e,t),this.view.style.set("width",this.width).set("height",this.height).translateDevicePixels(this.x,this.y)},_willExit:function(){var e=this,t=arguments;this.view.style.translate(-1e3,-1e3),e.__s._$Ku$_willExit.apply(e,t)},__superMap:{_$66$_didEnter:"_didEnter",_$DO$_didUpdate:"_didUpdate",_$Ku$_willExit:"_willExit"}},AI=ES.extend(Ni.a,{item:X.b(),key:Y.c({set:function(e){return this.item=e?e.value:null,e}}),itemIsObservable:Y.c({readOnly:!0,dependencies:["item"],get:Object.assign((function(){return Se.a(this.item,Ni.a)}),{__CW__getter:function(e,t,n,i){return Se.a(i.internalGet(this,t[0+n]),Ni.a)}})}),delegate:null,isDisabled:X.b({type:"boolean",defaultValue:!1}),view:Y.c({weak:!0}),viewClass:Y.c({defaultValue:Di.a}),_didEnter:function(e){e.selectedItem?this.view.isHighlighted=e.selectedItem===this.item:e.selection?this.view.isHighlighted=e.selection.contains(this.handle):this.view.isHighlighted=!1,this.delegate&&this.delegate.viewItemDidEnter?this.delegate.viewItemDidEnter(e,this):this.didEnter(e)},_didUpdate:function(e){e.selectedItem?this.view.isHighlighted=e.selectedItem===this.item:e.selection?this.view.isHighlighted=e.selection.contains(this.handle):this.view.isHighlighted=!1,this.delegate&&this.delegate.viewItemDidUpdate?this.delegate.viewItemDidUpdate(e,this):this.didUpdate(e)},_shouldHighlight:function(e){return this.delegate&&this.delegate.viewItemShouldHighlight?this.delegate.viewItemShouldHighlight(this,e):this.shouldHighlight(e)},_willExit:function(e){this.delegate&&this.delegate.viewItemDidExit?this.delegate.viewItemWillExit(e,this):this.willExit(e)},didEnter:function(e){},didUpdate:function(e){},shouldHighlight:function(e){return!this.isDisabled},willExit:function(e){},staticMembers:{__QUALIFIED_CLASS_NAME__:"_ViewItem"}}),TI=AI.extend(CI,wI,{didEnter:function(e){var t=this.item,n=this.itemIsObservable,i=this.view;n?(i.bind("hasCheckmark",t.bindingFor("hasCheckmark")),i.bind("iconClass",t.bindingFor("iconClass")),i.bind("isDisabled",t.bindingFor("isDisabled")),i.bind("keySequence",t.bindingFor("keySequence")),i.bind("title",t.bindingFor("title")),i.bind("titleIsAlwaysLTR",t.bindingFor("titleIsAlwaysLTR")),i.bind("shouldEscape",t.bindingFor("shouldEscape")),this.bind("action",t.bindingFor("action")),this.bind("isDisabled",t.bindingFor("isDisabled"))):(i.hasCheckmark=t.hasCheckmark,i.iconClass=t.iconClass,i.isDisabled=t.isDisabled,i.keySequence=t.keySequence,i.title=t.title,i.titleIsAlwaysLTR=t.titleIsAlwaysLTR,i.shouldEscape=t.shouldEscape,this.action=t.action,this.isDisabled=t.isDisabled)},willExit:function(e){if(this.itemIsObservable){var t=this.view;t.unbind("hasCheckmark"),t.unbind("iconClass"),t.unbind("isDisabled"),t.unbind("keySequence"),t.unbind("title"),t.unbind("titleIsAlwaysLTR"),t.unbind("shouldEscape"),this.unbind("action"),this.unbind("isDisabled")}},viewClass:bI,staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuViewItem"}}),OI=AI.extend(CI,{didEnter:function(e){var t=this.item,n=this.itemIsObservable,i=this.view;n?(i.bind("iconClass",t.bindingFor("iconClass")),i.bind("isDisabled",t.bindingFor("isDisabled")),i.bind("title",t.bindingFor("title")),i.bind("titleIsAlwaysLTR",t.bindingFor("titleIsAlwaysLTR")),i.bind("shouldEscape",t.bindingFor("shouldEscape")),this.bind("isDisabled",t.bindingFor("isDisabled"))):(i.iconClass=t.iconClass,i.isDisabled=t.isDisabled,i.title=t.title,i.titleIsAlwaysLTR=t.titleIsAlwaysLTR,i.shouldEscape=t.shouldEscape,this.isDisabled=t.isDisabled)},willExit:function(e){if(this.itemIsObservable){var t=this.view;t.unbind("iconClass"),t.unbind("isDisabled"),t.unbind("title"),t.unbind("titleIsAlwaysLTR"),t.unbind("shouldEscape"),this.unbind("isDisabled")}},viewClass:EI,staticMembers:{__QUALIFIED_CLASS_NAME__:"SubmenuViewItem"}}),DI=AI.extend(CI,{customHeight:12,shouldHighlight:function(e){return!1},viewClass:gI,staticMembers:{__QUALIFIED_CLASS_NAME__:"DividerViewItem"}}),MI=n(409),NI=Di.a.extend(MI.a,Ui.a,{staticMembers:{className:"cw-ui-repeater-button",__QUALIFIED_CLASS_NAME__:"RepeaterButton"},period:X.b({defaultValue:16.66666667,didChange:function(e){this._timer.delay=e}}),_timer:Y.c({strong:!0,defaultValue:ut.b(yh.a,{action:"callAction",timesToFire:1/0})}),pointerEnter:function(e){this._timer.start()},pointerLeave:function(e){this._timer.stop()}}).extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",classes:["arrow"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"directionClassname",attributes:{}}],styles:{display:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"none",falsevalue:"flex",attributes:{},unit:null,property:"display"}}}},className:"cw-ui-scroll-repeater-button",__QUALIFIED_CLASS_NAME__:"ScrollRepeaterButton"},action:"scrollInDirection",direction:X.b({defaultValue:hI.NORTH}),directionClassname:X.b({readOnly:!0,dependencies:["direction"],get:Object.assign((function(){return"direction-"+this.direction.value+"\xb0"}),{__CW__getter:function(e,t,n,i){return"direction-"+i.internalGet(this,t[0+n]).value+"\xb0"}})}),period:X.b({defaultValue:60})}),FI=dS.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"startScrollButton"},{type:"VIEWOUTLET",tagname:"view",name:"endScrollButton"}],classes:["cw-collection-view","cw-menu-list-view"],attributes:{tabindex:"1"}},itemViews:{type:"ELEMENT",tagname:"ext",classes:["collection-content"],styles:{position:"absolute",height:"100%",width:"100%"}}},className:"cw-ui-menu-list-view",__QUALIFIED_CLASS_NAME__:"MenuListView"},delegate:X.b({defaultValue:ut.b(Ge.a.extend(fI,{collectionViewDidScroll:Vr.a,collectionViewDidScrollInDirection:Vr.a}))}),endScrollButton:X.b({defaultValue:ut.b(NI.extend({direction:hI.SOUTH})),downstreamBindings:{isDisabled:"(owner).endScrollButtonIsDisabled"}}),endScrollButtonIsDisabled:X.b({readOnly:!0,dependencies:["canScrollVertically","height","scrollMaxY"],get:Object.assign((function(){return!this.canScrollVertically||this.scrollMaxY===this.height}),{__CW__getter:function(e,t,n,i){return!i.internalGet(this,t[0+n])||i.internalGet(this,t[2+n])===i.internalGet(this,t[1+n])}})}),startScrollButton:X.b({defaultValue:ut.b(NI.extend({direction:hI.NORTH})),downstreamBindings:{isDisabled:"(owner).startScrollButtonIsDisabled"}}),startScrollButtonIsDisabled:X.b({readOnly:!0,dependencies:["canScrollVertically","scrollHeight","scrollMaxY"],get:Object.assign((function(){return!this.canScrollVertically||this.scrollHeight===this.scrollMaxY}),{__CW__getter:function(e,t,n,i){return!i.internalGet(this,t[0+n])||i.internalGet(this,t[1+n])===i.internalGet(this,t[2+n])}})}),init:function(){var e=this,t=arguments;e.__s._$vE$init.apply(e,t),this.startScrollButton.target=this,this.endScrollButton.target=this,this.scrollInDirection=LI},__superMap:{_$vE$init:"init"}}),LI=function(e){this.delegate.collectionViewDidScrollInDirection(this,e.direction)},RI=fS.extend(fI,mS,{mixinDependencies:[_y.a,gS],_minimumWidth:X.b(20),viewItemMappedClass:X.b({defaultValue:AI}),desiredSize:X.b({strong:!0,dependencies:["isAttached","collection","collection.length","shouldMeasure","viewItemMappedClass","collection.contentsDidChangeUntracked","desiredWidth","maximumWidth","_minimumWidth","layoutMetrics.rowSpacing","layoutMetrics.rowHeight","layoutMetrics.topPadding","layoutMetrics.bottomPadding","layoutDelegate","layoutController"],readOnly:!0,get:Object.assign((function(){var e=this.desiredWidth,t=0,n=this.maximumWidth,i=this._minimumWidth,r=this.layoutMetrics;r&&(t+=r.topPadding+r.bottomPadding);var a=this.collection;if(a){var o=a.length;if(r&&(t+=r.rowSpacing*o-1),this.shouldMeasure&&this.isAttached){var s=this.view.style,l=s.getInline("position"),c=s.getInline("width"),u=s.getInline("height");s.set({position:"absolute",width:globalThis.innerWidth+"px",height:globalThis.innerHeight+"px"});for(var d=a.startHandle;d.isValid;d=d.next){var h=this.layoutDelegate.cellForHandle(d,"item");e=Math.max(e,Math.ceil(this._naturalWidthForMenuItem(h))),t+=this.layoutDelegate.sizeForItem(this.layoutController,h).height}s.set({position:l,width:c,height:u})}else r&&(t+=r.rowHeight*o)}return e=Math.min(Math.max(e,i),n),R_.a.create(e,t)}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[6+n]),a=0,o=i.internalGet(this,t[7+n]),s=i.internalGet(this,t[8+n]),l=this.layoutMetrics;l&&(a+=l.topPadding+l.bottomPadding);var c=i.internalGet(this,t[1+n]);if(c){var u=c.length;if(l&&(a+=l.rowSpacing*u-1),i.internalGet(this,t[3+n])&&i.internalGet(this,t[0+n])){var d=this.view.style,h=d.getInline("position"),f=d.getInline("width"),p=d.getInline("height");d.set({position:"absolute",width:globalThis.innerWidth+"px",height:globalThis.innerHeight+"px"});for(var m=c.startHandle;m.isValid;m=m.next){var g=i.internalGet(this,t[13+n]).cellForHandle(m,"item");r=Math.max(r,Math.ceil(this._naturalWidthForMenuItem(g))),a+=i.internalGet(this,t[13+n]).sizeForItem(i.internalGet(this,t[14+n]),g).height}d.set({position:h,width:f,height:p})}else l&&(a+=l.rowHeight*u)}return r=Math.min(Math.max(r,s),o),R_.a.create(r,a)}})}),desiredWidth:X.b(0),shouldMeasure:X.b(!0),menuDelegate:X.b(),layoutDelegate:X.b({defaultValue:ut.b(MS.extend({menuDelegate:X.b(),sizeForItem:function(e,t){return R_.a.create(t.customWidth||e.viewportWidth,t.customHeight||e.layoutMetrics.rowHeight)},createCellFor:function(e,t){var n=this,i=arguments;if("item"!==t)return n.__s._$1mE$createCellFor.apply(n,i);var r=this.menuDelegate;return(r.itemIsDivider(e)?DI:r.itemIsSubmenu(e)?OI:this.cellClass).create(this)},__superMap:{_$1mE$createCellFor:"createCellFor"}})),downstreamBindings:{cellClass:"(owner).viewItemMappedClass",menuDelegate:"(owner).menuDelegate"}}),presenter:X.b({defaultValue:ut.b(LS.extend({itemViewClassForItem:function(e){var t=this,n=arguments;return"item"!==e.cellType?t.__s._$1_0$itemViewClassForItem.apply(t,n):e.viewClass},cellDidExit:function(e){var t=this,n=arguments;e._willExit(this.owner),t.__s._$21V$cellDidExit.apply(t,n),e.view=null},itemViewDidEnter:function(e,t){var n=this,i=arguments;t.view=e,n.__s._$23w$itemViewDidEnter.apply(n,i),t._didEnter(this.owner)},cellDidMove:function(e){var t=this,n=arguments;t.__s._$25n$cellDidMove.apply(t,n),e._didUpdate(this.owner)},viewForViewClass:function(){var e=this,t=arguments,n=e.__s._$27t$viewForViewClass.apply(e,t),i=bS.create({event:"menuWasTapped",delegate:this.owner});return n.addGestureRecognizer(i),n},__superMap:{_$1_0$itemViewClassForItem:"itemViewClassForItem",_$21V$cellDidExit:"cellDidExit",_$23w$itemViewDidEnter:"itemViewDidEnter",_$25n$cellDidMove:"cellDidMove",_$27t$viewForViewClass:"viewForViewClass"}}))}),maximumWidth:X.b(1/0),selectionController:ut.b(cI),selectionDelegate:ut.b(Ge.a.extend(dI)),isMultipleSelectionEnabled:!1,isEmptySelectionEnabled:!0,viewClass:FI,_naturalWidthForMenuItem:function(e){var t,n=e.view,i=!1;return n||(n=e.viewClass.measurementInstance)&&(n.isAttached||(this.presenter.views.push(n),n.element.style.visibility="hidden"),e.view=n,e._didEnter(this),i=!0),t=n&&n.isAttached?n.naturalSize.width:0,i&&(e._willExit(this),e.view=null),t},collectionViewDidScroll:function(e,t,n){this.scrollBy(t,n)},collectionViewDidScrollInDirection:function(e,t){switch(t){case hI.NORTH:this.moveAnItemBack();break;case hI.SOUTH:this.moveAnItemForward();break;default:ze.b("CW.UI.MenuListViewController does not support scrolling in the direction, `%{direction}`.",{direction:t})}},moveAnItemBack:function(){var e=this.layoutController.visibleCells.objectAt(0),t=this.layoutDelegate.positionNextCell(this.layoutController,e,-1);t?this.scrollBy(0,t.height):this.scrollBy(0,e.height),this.update()},moveAnItemForward:function(){var e=this.layoutController.visibleCells.lastItem,t=this.layoutDelegate.positionNextCell(this.layoutController,e,1);t?this.scrollBy(0,-t.height):this.scrollBy(0,-e.height),this.update()},selectItem:function(e){this.selectedItem=e},staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuListViewController"}}),xI=n(394),PI=n(739),kI=n(395),UI=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"popoverView"}],classes:["cw-modal"]}},className:"cw-ui-modal-arrow-popover-view",__QUALIFIED_CLASS_NAME__:"ModalArrowPopoverView"},layout:Object(X.b)(),anchorLayout:Object(X.b)(),arrowLength:Object(X.b)(),arrowWidth:Object(X.b)(),arrowAlignment:Object(X.b)(),verticalAlignment:Object(X.b)(),horizontalAlignment:Object(X.b)(),contentView:Object(X.b)(),popoverView:Object(X.b)({defaultValue:Object(ut.b)($_),type:$_,downstreamBindings:{layout:"(owner).layout",anchorLayout:"(owner).anchorLayout",arrowLength:"(owner).arrowLength",arrowWidth:"(owner).arrowWidth",contentView:"(owner).contentView",arrowAlignment:"(owner).arrowAlignment",verticalAlignment:"(owner).verticalAlignment",horizontalAlignment:"(owner).horizontalAlignment"}}),pointerDown:function(e){var t=e.targetView.element;this.popoverView.element.contains(t)?this.sendEvent("modalContentWasClicked",this):this.sendEvent("modalBackgroundWasClicked",this)}}),jI=n(399),BI={menuDidDismissWithHighlightedItem:function(e,t){},shouldHighlightItem:function(e,t){var n=e.contentController.layoutDelegate.cellForHandle(t);return!n._shouldHighlight||n._shouldHighlight(this)},itemWasSelected:function(e,t){if(t.isValid){var n=t.value,i=n.action;n.isDisabled||i&&(e.sendEvent(i,n)||jI.a(e.target,i,n))}},shouldDismissWithHighlightedItem:function(e,t){return!0},itemIsSubmenu:function(e){if(!e)return!1;var t=e.value;return!!t&&null!=t.items},itemIsDivider:function(e){return null==e.value.action}},VI=Ge.a.extend(Ni.a,dI,{menuDelegate:X.b(),menu:X.b(),selectionControllerShouldSelectItem:function(e,t){var n=this.menu;return this.menuDelegate.shouldHighlightItem(n,t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuSelectionDelegate"}}),$I=ob.extend({allowedLayouts:ut.b([rb,tb,nb,ib]),arrowLength:0,arrowWidth:0,spaceInset:20,contentController:X.b({defaultValue:function(){return RI.create({viewItemMappedClass:this.__CW__listViewItemMappedClass,menuDelegate:this.__CW__delegate})},downstreamBindings:{collection:"(owner).listCollection",isEmptySelectionEnabled:"(owner).listIsEmptySelectionEnabled",viewItemMappedClass:"(owner).listViewItemMappedClass",selectionDelegate:"(owner)._selectionDelegate","layoutMetrics.bottomPadding":"(owner).listLayoutBottomPadding","layoutMetrics.rowHeight":"(owner).listLayoutRowHeight","layoutMetrics.rowSpacing":"(owner).listLayoutRowSpacing","layoutMetrics.topPadding":"(owner).listLayoutTopPadding",shouldMeasure:"(owner).shouldMeasure",menuDelegate:"(owner).delegate"}}),_selectionDelegate:X.b({defaultValue:ut.b(VI),downstreamBindings:{menu:"(owner)",menuDelegate:"(owner).delegate"}}),shouldMeasure:X.b(!0),delegate:X.b({defaultValue:ut.b(Ge.a.extend(BI))}),desiredSize:X.b(J.c("contentController.desiredSize")),hasOverlay:Y.c(!0),listCollection:X.b({strong:!0,defaultValue:ut.b($i.b)}),listIsEmptySelectionEnabled:X.b(!0),listLayoutBottomPadding:X.b({readOnly:!0,defaultValue:5}),listLayoutRowHeight:X.b({defaultValue:19}),listLayoutRowSpacing:X.b({defaultValue:0}),listLayoutTopPadding:X.b({readOnly:!0,defaultValue:5}),listViewItemMappedClass:X.b({defaultValue:TI}),target:Y.c(xI.a),_matchedLayoutObserver:Ni.e("matchedLayout.layout.width","matchedLayout.layout.height",(function(e,t){this.contentController.measureViewport()})),hide:function(){var e=this,t=arguments;this._submenu&&this._submenu.hide(),e.__s._$2Ea$hide.apply(e,t)},keyDown:function(e){switch(e.which){case ji.a.DOWN:this.highlightNextItem();break;case ji.a.UP:this.highlightPreviousItem();break;case ji.a.LEFT:case ji.a.RIGHT:break;case ji.a.ENTER:this._activateWithItem(this.highlightedItem);break;default:return!1}},_activateWithItem:function(e){var t=this.listCollection,n=t.startHandle.at(-1);e&&(n=t.startHandle.at(t.indexOf(e))),this.delegate.shouldDismissWithHighlightedItem(this,e)&&(this.delegate.menuDidDismissWithHighlightedItem(this,e),this.hide()),this.delegate.itemWasSelected(this,n)},highlightNextItem:function(){var e=this.contentController,t=e.selectionController,n=this.listCollection.startHandle.at(t.selectedIndices.firstIndexAfter(-1)),i=e.selectionController.getSelectableHandleInDirection(n,HS.DOWN);i&&(e.userPerformedSelectionOperation(i),e.scrollToItem(i.value))},highlightPreviousItem:function(){var e=this.contentController,t=e.selectionController,n=this.listCollection,i=t.selectedIndices.firstIndexAfter(-1),r=n.startHandle.at(-1===i?n.length+1:i),a=e.selectionController.getSelectableHandleInDirection(r,HS.UP);a&&(e.userPerformedSelectionOperation(a),e.scrollToItem(a.value))},highlightedItem:X.b(J.c("contentController.selectedItem")),_flashViewItem:function(e){this._isDismissing=!0,this.highlightedItem===e&&(ft.a(function(){this._targetViewItem=null}.bind(this)),ft.a(function(){this._targetViewItem=e}.bind(this),100),ft.a(function(){this._targetViewItem=null}.bind(this),200),ft.a(function(){this.hide(),this._isDismissing=!1}.bind(this),400))},submenuDidFocus:function(){clearTimeout(this._targetingSubmenuTimeoutId),this._targetingSubmenuTimeoutId=null},_submenu:X.b(),_submenuRect:X.b({dependencies:["_submenu"],readOnly:!0,get:Object.assign((function(){return this._submenu?this._submenu.matchedLayout.layout:null}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?i.internalGet(this,t[0+n]).matchedLayout.layout:null}})}),_lastPoint:X.b({defaultValue:ut.b(Object,{x:0,y:0})}),_currentPoint:X.b({defaultValue:ut.b(Object,{x:0,y:0})}),_isSeekingSubmenu:X.b({dependencies:["_lastPoint","_currentPoint","_submenuRect"],readOnly:!0,get:Object.assign((function(){return!!this._submenuRect&&this._isSeriesApproachingRect(this._lastPoint,this._currentPoint,this._submenuRect)}),{__CW__getter:function(e,t,n,i){return!!i.internalGet(this,t[2+n])&&this._isSeriesApproachingRect(i.internalGet(this,t[0+n]),i.internalGet(this,t[1+n]),i.internalGet(this,t[2+n]))}})}),_isSeekingSubmenuObs:Ni.f("_isSeekingSubmenu",(function(e){!this._isSeekingSubmenu&&this._targetingSubmenuTimeoutId&&(clearTimeout(this._targetingSubmenuTimeoutId),this._targetingSubmenuTimeoutId=null)})),_isSeriesApproachingRect:function(e,t,n){var i,r;if(i=(n.y-e.y)/(n.x-e.x),r=(n.y-t.y)/(n.x-t.x)<i){var a=n.y+n.height;i=(a-e.y)/(n.x-e.x),r=(a-t.y)/(n.x-t.x)>i}return r},isSubmenuItem:function(e){return e&&!!e.items},isDividerItem:function(e){return null==e.action&&null==e.items},_menuItemForEvent:function(e){var t=PI.c(e),n=this.contentController.presenter.cellForView(t);if(n)return n.handle.value},pointerMove:function(e){if(this._isDismissing)return!1;if(e.clientX!==this._currentPoint.x||e.clientY!==this._currentPoint.y){var t=kI.a.begin();t.set(this,"_lastPoint",{x:this._currentPoint.x,y:this._currentPoint.y}),t.set(this,"_currentPoint",{x:e.clientX,y:e.clientY}),t.end()}var n=this._menuItemForEvent(e),i=this.highlightedItem;n!==i&&(this.isSubmenuItem(i)&&(this._targetingSubmenuTimeoutId=ft.a(function(){this.removeSubmenuForItem()}.bind(this),GI),this._hadSubmenu=!0),this.highlightedItem=n)},pointerUp:function(e){if(this._isDismissing)return!1;var t=this.highlightedItem;if(t)return t===this._menuItemForEvent(e)&&(this._activateWithItem(t),!0);this._activateWithItem()},menuWasTapped:function(e){var t=e.view,n=e.state;if(this._isDismissing)return!1;if(n===by.b.Ended){var i=this.contentController.presenter.cellForView(t);if(i){var r=i.handle.value;this._activateWithItem(r)}}},presentSubmenuForItemWithAnchor:function(e,t){var n=HI.create({allowedLayouts:[tb,nb],listCollection:e.items,parentMenu:this,target:this.target});n.show(t),this._submenu=n},removeSubmenuForItem:function(){this._submenu&&(this._submenu.hide(),this._submenu=null)},viewClass:X.b({readOnly:!0,get:function(){return this.hasOverlay?WI:zI}}),__superMap:{_$2Ea$hide:"hide"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuViewController"}}),WI=UI.extend({popoverView:Mi.a({additionalClassNames:["cw-menu-view"]}),staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuOverlayPopoverView"}}),zI=$_.extend({additionalClassNames:["cw-menu-view"],staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuPopoverView"}}),GI=1e3,HI=$I.extend({parentMenu:X.b(),pointerUp:function(e){if(!this._isDismissing){var t=e.targetView,n=t.viewController.item;!t.isDisabled&&n&&n.action?(this._flashItem(n),this.sendEvent.call(this.parentMenu,n.action,n)||this.sendEvent.call(this.parentMenu.target,n.action,n)):this.parentMenu.hide()}},viewClass:zI.extend({pointerEnter:function(e){this.viewController.parentMenu&&this.viewController.parentMenu.submenuDidFocus()}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"SubmenuViewController"}}),KI=AI.extend(CI,{viewClass:Di.a.extend(pI,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"primaryLabel",attributes:{}}],classes:["primary"]},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"category",attributes:{}}],classes:["category"]},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"secondaryLabel",attributes:{}}],classes:["secondary"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHighlighted",truevalue:"cw-highlighted",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasBorder",truevalue:"has-border",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasCategory",truevalue:"has-category",falsevalue:"no-category",attributes:{}}]}},additionalClassNames:["autocomplete-menu-item"],isHighlighted:X.b(!1),hasBorder:X.b(!0),hasCategory:X.b({readOnly:!0,dependencies:["category"],get:Object.assign((function(){return bt.a(this.category)}),{__CW__getter:function(e,t,n,i){return bt.a(i.internalGet(this,t[0+n]))}})})}),didEnter:function(e){this.view.bind("primaryLabel",this.item.bindingFor("primaryLabel")),this.view.bind("category",this.item.bindingFor("localizedCategory")),this.view.bind("secondaryLabel",this.item.bindingFor("secondaryLabel"))},didUpdate:function(e){},willExit:function(){this.view.unbind("primaryLabel"),this.view.unbind("category"),this.view.unbind("secondaryLabel")},staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteMenuViewItem"}}),QI=ne.b("AutocompleteMenuLayout",{SINGLE_LINE:"SINGLE_LINE",DOUBLE_LINE:"DOUBLE_LINE"}),qI=RI.extend({viewClass:FI.extend({mixinDependencies:[nS]}),staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteMenuListViewController"}}),YI=$I.extend({contentController:X.b({defaultValue:ut.b(qI),downstreamBindings:{desiredWidth:"(owner).width"}}),layout:X.b(QI.DOUBLE_LINE),isDoubleLineLayout:X.b({readOnly:!0,dependencies:["layout"],get:Object.assign((function(){return this.layout===QI.DOUBLE_LINE}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===QI.DOUBLE_LINE}})}),singleLineLayoutHeight:X.b(35),doubleLineLayoutHeight:X.b(47),listLayoutRowHeight:X.b({readOnly:!0,dependencies:["singleLineLayoutHeight","doubleLineLayoutHeight","isDoubleLineLayout"],get:Object.assign((function(){return this.isDoubleLineLayout?this.doubleLineLayoutHeight:this.singleLineLayoutHeight}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[2+n])?i.internalGet(this,t[1+n]):i.internalGet(this,t[0+n])}})}),listViewItemMappedClass:KI,additionalClassNames:X.b({readOnly:!0,dependencies:["isDoubleLineLayout"],get:Object.assign((function(){return this.isDoubleLineLayout?["cw-autocomplete-menu","double-line"]:["cw-autocomplete-menu","single-line"]}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?["cw-autocomplete-menu","double-line"]:["cw-autocomplete-menu","single-line"]}})}),view:X.b({downstreamBindings:{additionalClassNames:"(owner).additionalClassNames"}}),listLayoutTopPadding:3,listLayoutBottomPadding:3,hasOverlay:!1,isFocusablePane:!1,listLayoutRowSpacing:0,width:X.b(0),shouldMeasure:!1,_listViewItemsDidChange:Ni.f("listCollection","listCollection.contentsDidChange",(function(e){if(e&&e.length>0){var t=this._mostRecentHighlightIndex;(void 0===t||t<=0)&&this.highlightNextItem()}})),_highlightedItemDidChange:Ni.f("highlightedItem",(function(){var e=this.highlightedItem;if(e){var t=this.listCollection;t&&(this._mostRecentHighlightIndex=t.indexOf(e))}})),staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteMenu"}}),XI=n(318),JI=Vi.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"span",name:"testMeasurer",styles:{position:"absolute",left:"-1000px",top:"-1000px",visibility:"hidden","white-space":"pre"}}],styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"width",attributes:{signal:"widthDidRender"},unit:"px",property:"width"}}}},__QUALIFIED_CLASS_NAME__:"ResizingTextField"},width:X.b({readOnly:!0,dependencies:["value","isAttached"],get:Object.assign((function(){var e=this.testMeasurer;e.innerText=this.value;var t=e.offsetWidth;return e.innerText="",t}),{__CW__getter:function(e,t,n,i){var r=this.testMeasurer;r.innerText=i.internalGet(this,t[0+n]);var a=r.offsetWidth;return r.innerText="",a}})})}),ZI=Di.a.extend(pb.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"svg",children:[{type:"ELEMENT",tagname:"path",namespace:"http://www.w3.org/2000/svg",attributes:{d:"M0 0 L3 3 L6 0"}}],classes:["menu-icon"],namespace:"http://www.w3.org/2000/svg",attributes:{viewBox:"0 0 6 4"}}],classes:["menu-icon-hitbox"]},__QUALIFIED_CLASS_NAME__:"TokenMenuButton"},action:"tokenMenuButtonClicked"}),ew=Di.a.extend(pb.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{signal:"titleDidRender"}}],classes:["title"]}],classes:["title-wrapper"]},{type:"VIEWOUTLET",tagname:"view",name:"menuButton"}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isSelected",truevalue:"is-selected",attributes:{}}],attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tooltip",attributes:{},attribute:"title"}}},className:"cw-ui-views-token-button",__QUALIFIED_CLASS_NAME__:"TokenButton"},title:X.b(),isAccepted:X.b(),tooltip:X.b(),isSelected:X.b(!1),menuButton:X.b(ut.b(ZI))}),tw=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"tokenButton"}],classes:["button-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isEditing",truevalue:"is-editing",attributes:{signal:"editingDidSwitchOnButton"}}]},{type:"ELEMENT",tagname:"form",children:[{type:"VIEWOUTLET",tagname:"view",name:"tokenTextField"}],classes:["text-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isEditing",truevalue:"is-editing",attributes:{signal:"editingDidSwitchOnTextField"}}]},{type:"ELEMENT",tagname:"div",name:"hitDetector",classes:["hit-detector"],styles:{left:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"hitDetectorOffset",attributes:{},unit:"px",property:"left"}}}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"contentIsAlwaysLTR",truevalue:"content-is-always-ltr",attributes:{}}]},className:"cw-ui-views-token-item-view",__QUALIFIED_CLASS_NAME__:"TokenItemView"},tokenButton:X.b({defaultValue:ut.b(ew,{action:"tokenButtonWasPressed",additionalClassNames:["token-item-button"],isFocusable:!0}),downstreamBindings:{title:"(owner).value",isSelected:"(owner).isSelected"}}),tokenTextField:X.b({defaultValue:ut.b(JI,{additionalClassNames:["token-item-textfield"]}),downstreamBindings:{value:"(owner).value",menu:"(owner).menu",delegate:"(owner).autocompleteDelegate",dataSource:"(owner).autocompleteDataSource",isDisabled:"(owner)._isTextFieldDisabled"}}),tokenMenuButtonClicked:function(){},autocompleteDelegate:X.b(),autocompleteDataSource:X.b(),didAutocomplete:function(e){if(e){var t=this.isEditing,n=this.value;this.sendEvent("createNewTokenItemBeforeCurrentToken",this,n),this.value="",t&&this.startEditing()}return!1},menu:X.b({strong:!0}),_activeElement:X.b({readOnly:!0,dependencies:["tokenButton","tokenTextField","isEditing","tokenTextField.widthDidRender","tokenButton.titleDidRender"],get:Object.assign((function(){var e;return this.isEditing?(this.tokenTextField.widthDidRender,e=this.tokenTextField.element):(this.tokenButton.titleDidRender,e=this.tokenButton.element),e}),{__CW__getter:function(e,t,n,i){var r;return i.internalGet(this,t[2+n])?(i.internalGetPath(this,t[3+n]),r=i.internalGet(this,t[1+n]).element):(i.internalGetPath(this,t[4+n]),r=i.internalGet(this,t[0+n]).element),r}})}),hitDetectorOffset:X.b({readOnly:!0,dependencies:["_activeElement","isAttached"],get:Object.assign((function(){var e=this._activeElement;return e?e.offsetWidth:0}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r?r.offsetWidth:0}})}),value:X.b(""),isEditing:X.b(!1),isSelected:X.b(!1),contentIsAlwaysLTR:X.b(!1),selectionGroup:null,reEmptyToken:/^\s*$/,startEditing:function(){this.sendEvent("tokenStartedEditing",this),this.select(),this.isEditing=!0;var e=this.tokenTextField;e._selection={start:0,end:e.value.length}},stopEditing:function(){this.sendEvent("tokenStoppedEditing",this),this.isEditing=!1,this.focusedChild=null},select:function(e){e||this.sendEvent("clearSelection"),this.isSelected=!0,this.sendEvent("tokenSelected",this)},deselect:function(){this.isSelected=!1,this.sendEvent("tokenDeselected",this),this.blur()},_doubleClickCount:0,_resetDoubleClickCount:function(){this._doubleClickCount=0,this._doubleClickTimer.stop()},tokenButtonWasPressed:function(e){if(this._doubleClickCount++,this._doubleClickCount>1)this.startEditing(),this._resetDoubleClickCount();else{this._doubleClickTimer.start();var t=XI.a.sharedInstance.activeKeys;if(t.contains(ji.a.SHIFT))this.sendEvent("tokenButtonWasPressedWithShift",this);else{var n,i=Io.a.sharedInstance;i.isMac&&(n=ji.a.CMD),i.isWindows&&(n=ji.a.CTRL),this.isSelected?t.contains(n)&&this.deselect():this.select(t.contains(n))}}},_doubleClickTimer:ut.b(yh.a,{delay:400,action:"_resetDoubleClickCount"}),keyDown:function(e){var t=!1,n=e.which;if(this.isEditing){var i=this.tokenTextField.selection,r=i.start,a=i.end;n===ji.a.ENTER?(this.stopEditing(),this.reEmptyToken.test(this.value)||this.sendEvent("createNewEditingTokenAfterCurrentToken",this),t=!0,e.preventDefault()):n===ji.a.BACKSPACE?(0===r&&0===a&&(e.preventDefault(),this.sendEvent("selectOrDeletePreviousToken",this)),t=!0):n===ji.a.DELETE?t=!0:n===ji.a.LEFT?0!==r&&(t=!0):n===ji.a.RIGHT&&a!==this.value.length&&(t=!0)}else n!==ji.a.BACKSPACE&&n!==ji.a.DELETE||(this.sendEvent("deleteSelectedTokens"),t=!0);return t},pointerDown:function(e){e.target===this.hitDetector&&(this.sendEvent("createNewEditingTokenAfterCurrentToken",this),e.preventDefault())},_previousIsEditing:!1,_editingObserver:Ni.f("isEditing","editingDidSwitchOnButton","editingDidSwitchOnTextField",(function(e){var t=this._previousIsEditing;if(this._previousIsEditing=e,e){var n=this._shouldStopEditingWhenFocusIsLost;this._shouldStopEditingWhenFocusIsLost=!1,this.tokenTextField.focus(),this._shouldStopEditingWhenFocusIsLost=n}else t&&this.reEmptyToken.test(this.value)&&this.sendEvent("deleteCurrentToken",this)})),_shouldStopEditingWhenFocusIsLost:!0,_textFieldFocusObserver:Ni.f("tokenTextField.isFocused",(function(e){if(!e){if(!this.isEditing)return;var t=this.menu&&this.menu.highlightedItem,n=this.tokenTextField,i=n&&n.textField;t&&i?i.autocompleteItemWasSelected(t):this._shouldStopEditingWhenFocusIsLost&&this.stopEditing()}})),_shouldParse:X.b(!0),pauseParsing:function(){this._shouldParse=!1},resumeParsing:function(){this._shouldParse=!0},_valueParsingObserver:Ni.f("value",(function(e){if(e&&this._shouldParse){var t=this.parseValueForTokens(e),n=t.length,i=this.isEditing;if(n>1){var r=this._shouldStopEditingWhenFocusIsLost;this._shouldStopEditingWhenFocusIsLost=!1;for(var a=0;a<n-1;a++)this.sendEvent("createNewTokenItemBeforeCurrentToken",this,t[a]);this.value=t[n-1],i&&this.startEditing(),this._shouldStopEditingWhenFocusIsLost=r}}})),_valueChangedObserver:Ni.f("value",(function(){this.sendEvent("tokenValueChanged")})),parseValueForTokens:function(e){return[]},_isTextFieldDisabled:X.b({readOnly:!0,dependencies:["isEditing"],get:Object.assign((function(){return!this.isEditing}),{__CW__getter:function(e,t,n,i){return!i.internalGet(this,t[0+n])}})})}),nw=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"labelField"},{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",name:"tokenViews"},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"placeholder",attributes:{}}],name:"placeholderNode",classes:["cw-placeholder",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isPlaceholderShowing",truevalue:"show",attributes:{}}]}],name:"inputContainer",classes:["container"]},{type:"ELEMENT",tagname:"textarea",name:"clipboardArea",classes:["hidden-text","cw-input"]}],classes:["cw-tokenizedtextfield-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isFocused",truevalue:"cw-focused",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"cw-disabled",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"BaseTokenizedTextField"},value:X.b({readOnly:!0,dependencies:["tokenViews","tokenViews.contentsDidChange","_tokenValueChangedSignal"],writeDependencies:[],get:function(){return this.hydrateValues()}}),setValue:function(e){this.tokenViews.clear(),this._createNewTokenItemAtIndex(0,e)},hydrateValues:function(e){for(var t="",n=this.tokenViews,i=n.length,r=!1,a=0;a<i;a++){var o=n.objectAt(a);e&&!e(o)||(r&&(t+=", "),t+=o.value,r=!0)}return t},tokenItemViewClass:tw,createHashForTokenItemView:function(){return{parseValueForTokens:this.parseValueForTokens}},lastEditedToken:X.b(),placeholder:void 0,action:"submit",maxLength:null,isDisabled:X.b(!1),isEditable:X.b(!0),isFocusable:X.b({readOnly:!0,dependencies:["isDisabled"],get:Object.assign((function(){return!this.isDisabled}),{__CW__getter:function(e,t,n,i){return!i.internalGet(this,t[0+n])}})}),defaultFocusElement:X.b({dependencies:["element"],writeDependencies:[],readOnly:!1,binding:null,get:Object.assign((function(e){return e||this.element}),{__CW__getter:function(e,t,n,i){return e||i.internalGet(this,t[0+n])}}),set:Xi.a}),selection:X.b({readOnly:!0,dependencies:["_selectionDidChange"],get:function(){return this.hydrateValues((function(e){return e.isSelected}))}}),select:function(){var e=this.tokenViews,t=this.lastEditedToken;t&&t.isEditing&&t.stopEditing(),0!==e.length&&this.selectTokenRangeInclusive(e.objectAt(0),e.lastItem)},clearSelection:function(){var e=this.tokenViews,t=this.lastEditedToken;t&&t.isEditing&&t.stopEditing();var n=e.length;if(0!==n){this._shouldProcessSelectionEvents=!1;for(var i=0;i<n-1;i++){var r=e.objectAt(i);r.isSelected&&r.deselect()}this._shouldProcessSelectionEvents=!0,e.lastItem.deselect()}},parseValueForTokens:function(e){return e.split(/\s*,\s*/)},tokenViews:X.b(ut.b($i.b)),_isPlaceholderShowing:X.b({dependencies:["value"],readOnly:!0,get:Object.assign((function(){return!this.value}),{__CW__getter:function(e,t,n,i){return!i.internalGet(this,t[0+n])}})}),_focusObserver:Ni.f("isFocused","descendantHasFocus",(function(e,t){e||t||this.clearSelection()})),didFocus:function(){var e,t=this.tokenViews,n=this.lastEditedToken,i=n&&n.isEditing,r=this._activeSelectionGroupStack.length>0;i||r||!t||(e=a.a.sharedInstance.isRTL?0:t.length,this._createNewEditingTokenAtIndex(e))},_setSelectedTokensToHiddenTextArea:function(){var e=this.selection;if(e&&e.length>0){var t=this.clipboardArea;this.defaultFocusElement=t,t.value=e,t.select(),this.defaultFocusElement=null}},_shouldProcessSelectionEvents:!0,_activeSelectionGroupStack:ut.b(Ir.a),tokenSelected:function(e){this._updateSelectedGroupForSelectedtoken(e),this._shouldProcessSelectionEvents&&(this._selectionDidChange(),this._setSelectedTokensToHiddenTextArea())},_updateSelectedGroupForSelectedtoken:function(e){var t,n=this.tokenViews,i=n.length,r=n.indexOf(e),a=r>0?n.objectAt(r-1):null,o=r<i-1?n.objectAt(r+1):null,s=a&&a.selectionGroup,l=o&&o.selectionGroup;a&&o&&s&&l?(aw(e.selectionGroup),e.selectionGroup=s,1===(t=s.direction)?s.endPoint=1===o.direction?l.endPoint:l.anchor:(s.anchor=1===o.direction?l.endPoint:l.anchor,s.direction=-1)):a&&s?(aw(e.selectionGroup),e.selectionGroup=s,1===(t=s.direction)||0===t?(s.endPoint=e,s.direction=1):s.anchor=e):o&&l?(aw(e.selectionGroup),e.selectionGroup=l,1===(t=l.direction)?l.anchor=e:(l.endPoint=e,l.direction=-1)):e.selectionGroup||(e.selectionGroup=rw(e,e,0));var c=this._activeSelectionGroupStack;c.remove(e.selectionGroup),c.push(e.selectionGroup)},tokenDeselected:function(e){this._updateSelectedGroupForDeselectedtoken(e),this._shouldProcessSelectionEvents&&(this._selectionDidChange(),this._setSelectedTokensToHiddenTextArea())},_updateSelectedGroupForDeselectedtoken:function(e){if(e.selectionGroup){var t=this.tokenViews,n=t.length,i=t.indexOf(e),r=i>0?t.objectAt(i-1):null,a=i<n-1?t.objectAt(i+1):null,o=e.selectionGroup.direction,s=r&&r.selectionGroup,l=a&&a.selectionGroup;if(r&&a&&s&&l)if(1===o){var c=e.selectionGroup.endPoint;s.endPoint=r,l=rw(a,c,1)}else{var u=e.selectionGroup.anchor;s.anchor=r,l=rw(u,a,-1)}else r&&s?1===o?s.endPoint=r:s.anchor=r:a&&l?1===o?l.anchor=a:l.endPoint=a:(this._activeSelectionGroupStack.remove(e.selectionGroup),aw(e.selectionGroup));this._setSelectionGroupDirectionToNeutralIfNeededForToken(r),this._setSelectionGroupDirectionToNeutralIfNeededForToken(a),e.selectionGroup=null}},_setSelectionGroupDirectionToNeutralIfNeededForToken:function(e){if(e){var t=e.selectionGroup;t&&t.anchor===e&&t.endPoint===e&&(t.direction=0)}},tokenButtonWasPressedWithShift:function(e){var t,n,i=this.tokenViews,r=this._activeSelectionGroupStack;if(r.length<1)n=t=i.objectAt(0);else{var a=r.lastItem;t=a.anchor,n=a.endPoint,0!==a.direction&&this.deselectTokenRangeInclusive(t,n)}this.selectTokenRangeInclusive(t,e)},deselectTokenRangeInclusive:function(e,t){this._selectionRangeHelper(e,t,(function(e){e.deselect()})),this._selectionDidChange(),this._setSelectedTokensToHiddenTextArea()},selectTokenRangeInclusive:function(e,t){this._selectionRangeHelper(e,t,(function(e){e.select(!0)})),this._selectionDidChange(),this._setSelectedTokensToHiddenTextArea()},_selectionRangeHelper:function(e,t,n){var i,r=this.tokenViews,a=r.indexOf(e),o=r.indexOf(t),s=a<o?1:-1,l=1===s?a:o,c=1===s?o:a,u=this._shouldProcessSelectionEvents;if(this._shouldProcessSelectionEvents=!1,1===s)for(i=l;i<=c;i++)n(r.objectAt(i));else for(i=c;i>=l;i--)n(r.objectAt(i));this._shouldProcessSelectionEvents=u},pointerDown:function(e){var t=this.inputContainer.children[0],n=this.inputContainer;if(e.target===t||e.target===n){for(var i,r=e.clientY,o=e.clientX,s=this.tokenViews,l=0,c=s.length;l<c;l++){var u=s.objectAt(l).rect;if(!(r>u.bottom)){if(r<u.top)break;if(o<u.left){i=a.a.sharedInstance.isRTL?l+1:l;break}o>u.right&&(i=a.a.sharedInstance.isRTL?l:l+1)}}!isFinite(i)&&c||(this._createNewEditingTokenAtIndex(i||0),e.preventDefault())}},keyDown:function(e){var t=e.which;if(function(e){var t=Io.a.sharedInstance;return t.isMac?e.metaKey:!!t.isWindows&&e.ctrlKey}(e)){if(88===t)return this.deleteSelectedTokens(),!0;65===t&&this.select()}else{if(t===ji.a.LEFT||t===ji.a.RIGHT){var n=this._activeSelectionGroupStack.lastItem;if(n){var i,r=this.tokenViews,o=r.length,s=n.endPoint,l=n.direction;if(i=a.a.sharedInstance.isRTL?t===ji.a.RIGHT?-1:1:t===ji.a.RIGHT?1:-1,e.shiftKey){if((u=r.indexOf(s)+i)<0||u>=o)return!0;l===i||0===l?r.objectAt(u).select(!0):s.deselect()}else{var c;c=i===l?n.endPoint:n.anchor;var u=r.indexOf(c)+i;if((-1===i&&!s.isEditing||1===i&&s.isEditing)&&u++,u<0||u>o)return!0;this._createNewEditingTokenAtIndex(u)}}return!0}if(t===ji.a.BACKSPACE||t===ji.a.DELETE)return this.deleteSelectedTokensAndEdit(),!0;if(t===ji.a.ENTER){e.preventDefault();var d=this.findActiveToken();return d&&d.startEditing(),!0}}return!1},findActiveToken:function(){var e=this._activeSelectionGroupStack,t=e&&e.lastItem;return t&&t.endPoint},findRelativeToken:function(e,t){var n=this.tokenViews,i=n.indexOf(e);if(!(i<0))return n.objectAt(i+(t||0))},selectOrDeletePreviousToken:function(e){var t=this.findRelativeToken(e,-1);t&&(t.isSelected?this.deleteCurrentToken(t):t.select())},findTokenToEditAfterFollowingDeletion:function(){var e=this._activeSelectionGroupStack,t=e&&e.lastItem;if(t){var n=t.direction>0?t.anchor:t.endPoint;return this.findRelativeToken(n,-1)}},deleteSelectedTokensAndEdit:function(){var e=this.findTokenToEditAfterFollowingDeletion();this.deleteSelectedTokens(),e?this.createNewEditingTokenAfterCurrentToken(e):this._createNewEditingTokenAtIndex(0)},tokenStartedEditing:function(e){this.lastEditedToken=e},tokenStoppedEditing:function(e){},deletePreviousToken:function(e){var t=this.tokenViews.indexOf(e);--t>=0&&(this._deleteTokenAtIndex(t),e.startEditing())},deleteCurrentToken:function(e){var t=this.tokenViews.indexOf(e);this._deleteTokenAtIndex(t)},deleteSelectedTokens:function(){var e=this.tokenViews,t=e.length,n=this._shouldProcessSelectionEvents;this._shouldProcessSelectionEvents=!1;for(var i=t-1;i>=0;i--)e.objectAt(i).isSelected&&this._deleteTokenAtIndex(i);this._shouldProcessSelectionEvents=n},_deleteTokenAtIndex:function(e){var t=this.tokenViews,n=t.length;if(!(e<0||e>n)){var i=t.objectAt(e);i.isEditing&&i.stopEditing(),i.isSelected&&i.deselect(),t.splice(e,1)}},createNewTokenItemBeforeCurrentToken:function(e,t){var n=this.tokenViews.indexOf(e);return this._createNewTokenItemAtIndex(n,t)},_createNewTokenItemAtIndex:function(e,t){if(t){var n=this._createNewTokenItem();return this.tokenViews.insertAt(e,n),n.startEditing(),n.value=t,n.stopEditing(),n}},createNewEditingTokenAfterCurrentToken:function(e){if(!this._isCreatingToken){var t=this.tokenViews.indexOf(e);return t++,this._createNewEditingTokenAtIndex(t)}},_createNewEditingTokenAtIndex:function(e){this._isCreatingToken=!0;var t=this._createNewTokenItem();return this.tokenViews.insertAt(e,t),t.startEditing(),this._isCreatingToken=!1,t},_createNewTokenItem:function(){var e=this.tokenItemViewClass,t=this.createHashForTokenItemView();return e.create(t)},tokenValueChanged:function(){this._tokenValueChangedSignal()},_tokenValueChangedSignal:Ni.g(),_selectionDidChange:Ni.g()}),iw=[];function rw(e,t,n){var i=iw.pop();return i||(i={}),i.anchor=e,i.endPoint=t,i.direction=n,i}function aw(e){e&&(e.anchor=null,e.endPoint=null,e.direction=-2,iw.push(e))}var ow,sw=ne.b("LoadingStatus",{Initial:"Initial",Loading:"Loading",Completed:"Completed",Failed:"Failed"}),lw=nw.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"spinner"}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_dataSourceFailed",truevalue:"show-error-indicator",attributes:{}}],attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"errorTitle",attributes:{},attribute:"title"}}}},__QUALIFIED_CLASS_NAME__:"TokenizedTextField"},errorTitle:X.b({readOnly:!0,dependencies:["_dataSourceFailed"],get:Object.assign((function(){return this._dataSourceFailed?a.d("ContactsAutocomplete.Error.Generic"):""}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?a.d("ContactsAutocomplete.Error.Generic"):""}})}),spinner:X.b({type:oy.a,defaultValue:ut.b(oy.a.extend({size:20})),downstreamBindings:{isVisible:"(owner)._dataSourceLoading"}}),autocompleteDelegate:X.b(),autocompleteDataSource:X.b(),_dataSourceFailed:X.b({readOnly:!0,dependencies:["autocompleteDataSource.loadingStatus"],get:Object.assign((function(){return this.getPath("autocompleteDataSource.loadingStatus")===sw.Failed}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])===sw.Failed}})}),_dataSourceLoading:X.b({readOnly:!0,dependencies:["autocompleteDataSource.loadingStatus"],get:Object.assign((function(){return this.getPath("autocompleteDataSource.loadingStatus")===sw.Loading}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])===sw.Loading}})}),menu:X.b({defaultValue:function(){return YI.create({target:this,anchor:this})},strong:!0,downstreamBindings:{listCollection:"(owner).lastEditedToken.tokenTextField._items"}}),width:X.b({readOnly:!0,dependencies:["value"],get:function(){return this.getPath("element.offsetWidth")}}),createHashForTokenItemView:function(){var e=this,t=arguments,n=e.__s._$xY$createHashForTokenItemView.apply(e,t);return Object.assign({},n,{menu:this.bindingFor("menu"),autocompleteDelegate:this.bindingFor("autocompleteDelegate"),autocompleteDataSource:this.bindingFor("autocompleteDataSource")})},__superMap:{_$xY$createHashForTokenItemView:"createHashForTokenItemView"}}),cw=Ge.a.extend({batchLoad:null,valueToKey:function(e){return e},load:function(e){var t=this,n=this._valueCache.get(e);if(n)return Z.a.resolve(n);var i=this._promiseCache.get(e);if(i)return i;var r=new Promise((function(n,i){var r,a=t._queue;a.push({key:e,resolve:n,reject:i}),1===a.length&&(r=function(){return function(e){var t=e._queue;e._queue=[];var n={};t.forEach((function(e){n[e.key]=e}));var i=t.map((function(e){return e.key}));e.batchLoad(i).then((function(i){ut.b(i,Error)?t.forEach((function(t){var n=t.key,r=t.resolve;e.clear(n),r(i)})):i.forEach((function(t){var i=e.valueToKey(t),r=n[i],a=r.resolve;r.reject,a(t)}))}))}(t)},ow||(ow=Z.a.resolve()),ow.then((function(){return ft.a(r,0)})))})).then((function(n){return t._promiseCache.clear(e),t._valueCache.set(e,n),n})),a=Z.a.wrapPromise(r);return this._promiseCache.set(e,a),a},loadMany:function(e){var t=this;return Z.a.all(e.map((function(e){return t.load(e)})))},clear:function(e){this._valueCache.delete(e),this._promiseCache.delete(e)},_promiseCache:ut.b(Map),_valueCache:ut.b(Map),_queue:[],staticMembers:{__QUALIFIED_CLASS_NAME__:"BatchLoader"}}),uw=Ge.a.extend({handlerResolver:nf,handlesType:null,nestedOperationHandlers:null,action:function(e,t){var n=e&&e.operation;if(n){"function"!==typeof this.handlerResolver&&Object(ze.b)("OperationHandler#handlerResolver must be a function",{operationHandler:this,handlerResolver:this.handlerResolver});var i=n.type,r=this.handlerResolver(i,this.get("nestedOperationHandlers"));return r||Object(ze.b)("CW.Data.OperationHandler#action found no sub-handler to handle sub-operation: %{operationType} - %{subOperationType}",{subOperationType:n.type,operationType:e.type}),r.action(n,t)}},staticMembers:{__QUALIFIED_CLASS_NAME__:"OperationHandler"}}),dw=uw.extend(Ni.a,{action:function(e,t){var n=e.lookupInfoList;return n.length>0?this.createRequest({lookupInfos:n}).send().then((function(e){var t=e.body,n=t.results;if(bt.a(t)&&bt.a(n))return n}),(function(e){if(ut.b(e,Qb.a)){var t=new Error;return t.originalError=e,t}throw e})):Z.a.resolve([])},createRequest:function(e){var t=D_.create({serviceName:"cksharews",pathname:"/ws/v1/autocomplete/membershipInfo",queryObject:{dsid:Xg.currentUser.dsid}});return F_.create({method:"POST",url:t,body:e,useCredentialsIfCrossOrigin:!0,timeout:6e4,serviceName:"cksharews"})},staticMembers:{__QUALIFIED_CLASS_NAME__:"LoadMembershipInfoHandler"}}),hw=cw.extend(Ni.a,{batchLoad:function(e){return this.loadMembershipInfoHandler.action({lookupInfoList:e.map((function(e){return function(e){return e.startsWith("phoneNumber:")?{type:"phoneNumber",value:e.slice("phoneNumber:".length)}:e.startsWith("email:")?{type:"email",value:e.slice("email:".length)}:null}(e)}))})},loadMembershipInfoHandler:Y.c(ut.b(dw)),valueToKey:function(e){var t=e.value;return e.type+":"+t},staticMembers:{__QUALIFIED_CLASS_NAME__:"MembershipInfoLoader"}}),fw=Mr.extend({label:Ur(),field:Ur(),staticMembers:{__QUALIFIED_CLASS_NAME__:"Email"}}),pw=Mr.extend({label:Ur(),field:Ur(),staticMembers:{__QUALIFIED_CLASS_NAME__:"Phone"}}),mw=Mr.extend({height:Ur(),width:Ur(),x:Ur(),y:Ur(),staticMembers:{__QUALIFIED_CLASS_NAME__:"CropRect"}}),gw=Mr.extend({crop:Gr({type:mw,embedded:!0}),signature:Ur(),url:Ur(),staticMembers:{__QUALIFIED_CLASS_NAME__:"Photo"}}),vw=Mr.extend({staticMembers:{STATES:Y.c({readOnly:!0,get:function(){return ne.b("STATES",{NOT_LOADED:0,META_DATA_LOADING:1,META_DATA_LOADED:2,IMAGE_DATA_LOADING:3,IMAGE_DATA_LOADED:4})}}),__QUALIFIED_CLASS_NAME__:"Contact"},contactId:Ur({isPrimaryKey:!0}),firstName:Ur(),lastName:Ur(),middleName:Ur(),nickName:Ur(),managedAppleId:Ur(),normalized:Ur(),emailAddresses:Hr({type:fw,embedded:!0}),phones:Hr({type:pw,embedded:!0}),photo:Gr({type:gw,embedded:!0}),loadImageData:function(){return bt.a(this.service)||ze.b("Unable to load image data for contact without a service"),this.service.loadImageDataFor(this.contactId)},imageData:X.b(),imageDataUrl:X.b({dependencies:["imageData"],readOnly:!0,get:Object.assign((function(){if(this.imageData)return(window.URL||window.webkitURL).createObjectURL(this.imageData)}),{__CW__getter:function(e,t,n,i){if(i.internalGet(this,t[0+n]))return(window.URL||window.webkitURL).createObjectURL(i.internalGet(this,t[0+n]))}})}),service:X.b(),state:Y.c({cacheable:!1,readOnly:!0,get:function(){return this.service.getStateFor(this.contactId)}})}),_w=ne.b("MatchType",{EMAIL:"EMAIL",PHONE:"PHONE",GROUP:"GROUP",AXMGROUP:"AXMGROUP"}),bw=Ge.a.extend(Ni.a,{contact:X.b({readOnly:!0,dependencies:["store","contactPrimaryKey"],get:Object.assign((function(){return this.store?this.store.getModel(this.modelClass,this.contactPrimaryKey):null}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?i.internalGet(this,t[0+n]).getModel(this.modelClass,i.internalGet(this,t[1+n])):null}})}),modelClass:X.b({defaultValue:vw}),matchType:X.b(),matchValue:X.b(),contactPrimaryKey:X.b(),store:X.b(),staticMembers:{__QUALIFIED_CLASS_NAME__:"ContactMatch"}}),yw=KI.extend({viewClass:Mi.a({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isInNetwork",truevalue:"is-in-network",attributes:{}}]}}},isInNetwork:X.b(!1)}),didEnter:function(e){var t=this,n=arguments;t.__s._$95$didEnter.apply(t,n);var i=this.view;i.isInNetwork=void 0;var r,a=this.item.contactMatch,o=a.matchValue,s=a.matchType;if(s===_w.PHONE)r="phoneNumber:"+o;else{if(s!==_w.EMAIL)return;r="email:"+o}var l=this;e.membershipInfoLoader.load(r).then((function(e){if(!Se.a(e,Error)){var t=e.isInNetwork,n=e.value;l.getPath("item.contactMatch.matchValue")===n&&(i.isInNetwork=t)}}))},didExit:function(e){var t=this,n=arguments;t.__s._$am$didExit.apply(t,n),this.view.isInNetwork=!1},__superMap:{_$95$didEnter:"didEnter",_$am$didExit:"didExit"},staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteMenuViewItem"}}),Sw=YI.extend({listViewItemMappedClass:yw,contentController:X.b({defaultValue:ut.b(qI.extend({membershipInfoLoader:X.b(ut.b(hw))}))}),staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteMenu"}}),Iw={mixinDependencies:[Me.a],load:De.a.define(),cancel:De.a.define(),loadingStatus:Qy.a.define()},ww={mixinDependencies:[Me.a,Iw],fetchRequiredData:Xh.c(De.a),autocompleteItemsForText:Xh.c(De.a)},Ew=ne.b("NameDisplayOrder",{FIRST_LAST:"first,last",LAST_FIRST:"last,first"});function Cw(){return Aw(a.c())?Ew.LAST_FIRST:Ew.FIRST_LAST}function Aw(e){return"ja-jp"===e||"ko-kr"===e||"zh-cn"===e||"zh-tw"===e||"hu-hu"===e}var Tw=ne.b("SortOrder",{FIRST_LAST:"first,last",LAST_FIRST:"last,first"}),Ow=n(728),Dw=Ge.a.extend(Ni.a,{action:"autocompleteItemWasSelected",value:X.b(null),primaryLabel:X.b(null),category:X.b(null),localizedCategory:X.b({readOnly:!0,dependencies:["category"],get:Object.assign((function(){var e=this.category;if(!e)return null;var t="ContactsAutocomplete.Category."+e,n=a.d(t);return n===t?e:n}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(!r)return null;var o="ContactsAutocomplete.Category."+r,s=a.d(o);return s===o?r:s}})}),secondaryLabel:X.b(null),previewValue:X.b(null),matchChunks:null,isContactsGroup:!1,isRecentsGroup:!1,recentsGuid:null,isEnabled:!0,disableMenuFlash:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteItem"}}).extend({contactMatch:X.b(),matchedFields:X.b(),isAXMContact:X.b(!1),staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteItem"}}),Mw=["firstName","phoneticFirstName","middleName","lastName","phoneticLastName","nickName","companyName","emailAddresses"],Nw=["name"],Fw=["address","name","names"],Lw=["firstName","middleName","lastName","emailAddresses"],Rw=["name","displayName"],xw=ne.b("RequestType",{CONTACTS:5,LOOKUP:6,RECENT_RECIPIENTS:8,DELETE_RECENTS:9});var Pw="ContactsAutocomplete.PreviewTemplate.",kw=function e(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return function(){return i.length?e.apply(void 0,i)(t.apply(void 0,arguments)):t.apply(void 0,arguments)}};function Uw(e,t){return function(n){return n.replace(e,t)}}var jw=kw(Uw("\u201c\u201d",""),Uw(/\(\s*\)/g,""),Uw(/\s+/g," ")),Bw=kw(jw,Uw(/"/g,'\\"'),Uw(/([^,<>]*[,<>].*)( <[^<]*)$/,'"$1"$2')),Vw=ne.b("SearchEntityTypes",{PERSON:"PERSON",CLASS:"CLASS"}),$w=ne.b("AxmOrgType",{Education:"SCHOOL",Business:"BUSINESS"}),Ww=ne.b("AxmServerErrors",{FETCH_MEMBERS_FAILURE:"FETCH_MEMBERS_FAILURE",SEARCH_FAILURE:"SEARCH_FAILURE"}),zw={mixinDependencies:[Me.a,Ni.a],isRecentsEnabled:Qy.a.define(),isAppleIdManagedAppleId:Qy.a.define(),isAXMServiceAvailable:Qy.a.define(),createRequest:De.a.define()},Gw=Ge.a.extend(zw,{isRecentsEnabled:X.b({readOnly:!0,dependencies:Xg.bindingFor("authBag.servicesInfo"),get:function(){return!!Xg.getPath("authBag.servicesInfo.mail")}}),isAppleIdManagedAppleId:X.b({readOnly:!0,get:function(){return Xg.getPath("authBag.user.isManagedAppleID")}}),isAXMServiceAvailable:X.b({readOnly:!0,dependencies:Xg.bindingFor("authBag.servicesInfo"),get:function(){return!!Xg.getPath("authBag.servicesInfo.maidautocompletews")}}),createRequest:function(e,t,n){var i=n.queryObject,r=n.method,a=n.body,o=n.headers,s=n.timeout,l=n.shouldFinalizeWithResponse,c=D_.create({pathname:t,serviceName:e,queryObject:i});return F_.create({url:c,serviceName:e,method:r,body:a,headers:o,timeout:s,useCredentialsIfCrossOrigin:!0,shouldFinalizeWithResponse:l})},staticMembers:{__QUALIFIED_CLASS_NAME__:"COSKDelegate"}}),Hw=Ge.a.extend(Ni.a,ww,{platformDelegate:X.b(ut.b(Gw)),isRecentsEnabled:X.b({readOnly:!0,dependencies:["platformDelegate.isRecentsEnabled"],get:Object.assign((function(){return this.platformDelegate.isRecentsEnabled}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])}})}),isAppleIdManagedAppleId:X.b({readOnly:!0,dependencies:["platformDelegate.isAppleIdManagedAppleId"],get:Object.assign((function(){return this.platformDelegate.isAppleIdManagedAppleId}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])}})}),isAXMServiceAvailable:X.b({readOnly:!0,dependencies:["platformDelegate.isAXMServiceAvailable"],get:Object.assign((function(){return this.platformDelegate.isAXMServiceAvailable}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])}})}),axmOrgType:Y.c(),_axmLimitPerResponse:Y.c({defaultValue:1e3}),_currentSearchPrefix:Y.c({type:String}),load:function(){this.contactsDataIsLoaded||(this._axmDataCompletionStatus={},this._failedNetworkRequestCount=0,this.sendContactsRequest(),this.isRecentsEnabled&&this.sendRecentRecipientsRequest({method:"list",type:xw.RECENT_RECIPIENTS}))},cancel:function(){},loadingStatus:X.b({readOnly:!0,dependencies:["_loadingStatus"],get:Object.assign((function(){return this._loadingStatus}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])}})}),fetchRequiredData:function(e){e=e.trim();var t,n=this.isAppleIdManagedAppleId,i=this.isAXMServiceAvailable;return this._currentSearchPrefix=e,!this.hasCompleteAXMDataForSearchString(e)&&n&&i?t=this.sendAXMContactsRequest(e):(t=Z.a.create()).resolve(),t},autocompleteItemsForText:function(e){e=e.trim();var t=[],n=this.dataSourcesToSearch;return 0!==n.length&&(t=this.findCompletionsInLoadedData(e,n)||[]),mf.create(t)},sendContactsRequest:function(e){this.set("contactsRequestIsOutstanding",!0),this.set("contactsRequestHasCompleted",!1),this.set("contactsDataIsLoaded",!1),null!==this._lastSyncToken&&null!==this._lastPrefToken?this.set("syncTokenInUse",!0):this.set("syncTokenInUse",!1);var t={onComplete:"contactsRequestCompleted",onSuccess:"contactsRequestSucceeded",type:xw.CONTACTS};if(this.get("syncTokenInUse")&&!0===e){var n=this.get("syncInterval");if(this._skipSyncCount<n)return this.set("contactsRequestIsOutstanding",!1),this.set("contactsRequestHasCompleted",!0),this.set("contactsDataIsLoaded",!0),void this._skipSyncCount++}var i=a.c();this.createContactsRequest(this._lastSyncToken,this._lastPrefToken,this._sortOrder,i,this.isPhoneNumberSupportEnabled).send().then(function(e){this.requestDidComplete(e,t)}.bind(this)).catch(function(e){this.requestDidComplete(e,t)}.bind(this)),this._skipSyncCount=0},fetchAXMGroupMembers:function(e,t){var n=this,i=this.createAXMGroupsRequest(e);return this.axmContactsRequestOutstanding=!0,this.axmContactsRequestHasCompleted=!1,i.send().then((function(e){return n.fetchAXMGroupMembersSucceeded(e,t)}),(function(e){return n.fetchAXMGroupMembersFailed(e,t)}))},fetchAXMGroupMembersSucceeded:function(e,t){var n=this,i=e.body,r=[];this._updateAXMContactToMatchAddressBookContact(i),this._addRecordsToStore(vw,i,"contactId"),this.axmContactsRequestOutstanding=!1,this.axmContactsRequestHasCompleted=!0,i.forEach((function(e){var t=e.emailAddresses[0],i=n._autocompleteResultsForMatchedContact(e,[],{type:_w.EMAIL,field:t.field,label:t.label});i&&r.push(i)})),t.resolve({items:r})},fetchAXMGroupMembersFailed:function(e,t){this.axmContactsRequestOutstanding=!1,this.axmContactsRequestHasCompleted=!0,this._failedNetworkRequestCount+=1,t.resolve({error:Ww.FETCH_MEMBERS_FAILURE})},contactsRequestIsOutstanding:X.b(!1),contactsRequestHasCompleted:Y.c(!1),contactsDataIsLoaded:X.b(!1),axmContactsRequestOutstanding:X.b(!1),axmContactsRequestHasCompleted:X.b(!1),sendRecentRecipientsRequest:function(e){this.set("recentsRequestIsOutstanding",!0),this.set("recentsRequestHasCompleted",!1),this.set("recentsDataIsLoaded",!1);var t={onComplete:"recentRecipientsRequestCompleted",onSuccess:"recentRecipientsRequestSucceeded",type:e.type},n=new Date;this._recentsReqCount||(this._recentsReqCount=1);var i=n.getTime()+"/"+this._recentsReqCount++,r=e.method,a=e.recentsGuids;this.createRecentRecipientsRequest(i,r,a).send().then(function(e){this.requestDidComplete(e,t)}.bind(this)).catch(function(e){this.requestDidComplete(e,t)}.bind(this))},_axmDataCompletionStatus:Y.c({type:Object,defaultValue:{}}),sendAXMContactsRequest:function(e){var t=this,n=[{entityType:Vw.PERSON},{entityType:Vw.CLASS}];return this.axmContactsRequestOutstanding=!0,this.axmContactsRequestHasCompleted=!1,this.createAXMContactsRequest(e,n).send().then((function(n){return t.axmContactsRequestSucceeded(n,e)}),(function(n){return t.axmContactsRequestFailed(n,e)})).finally((function(){t.axmContactsRequestHasCompleted=!0,t.axmContactsRequestOutstanding=!1}))},axmContactsRequestSucceeded:function(e,t){if(t!==this._currentSearchPrefix)return Z.a.resolve({errorCode:"Search Text Changed"});var n=this.parseAXMContactsResponse(e),i=n.contactsHash,r=n.classesHash,a={};if(i){var o=i.contacts,s=i.hasMoreData;o&&(this._dataCache.addRecords(o,"Contacts",Lw),this._addRecordsToStore(vw,o,"contactId")),a.AXMContacts=!s}r&&(r.classes&&this._dataCache.addRecords(r.classes,"Groups",Rw),a.AXMGroups=!r.hasMoreData),this._axmDataCompletionStatus[t]=a},axmContactsRequestFailed:function(e,t){return this._failedNetworkRequestCount+=1,Z.a.resolve({errorCode:Ww.SEARCH_FAILURE})},hasCompleteAXMDataForSearchString:function(e){var t=!1;for(var n in this._axmDataCompletionStatus)if(0===e.indexOf(n)){for(var i in t=!0,this._axmDataCompletionStatus[n])t=t&&this._axmDataCompletionStatus[n][i];if(t)break}return t},recentsRequestIsOutstanding:Y.c(!1),recentsRequestHasCompleted:Y.c(!1),recentsDataIsLoaded:Y.c(!1),allDataIsLoadedForQuery:Y.c(!1),dataSourcesToSearch:Y.c({type:Ir.a,get:function(){var e=["Recents","Contacts","Groups"];return this.isRecentsEnabled||e.shift(),e}}),createContactsRequest:function(e,t,n,i,r){var a={locale:i.replace(/(.*)-(.*)$/,(function(e,t,n){return t+"_"+n.toUpperCase()})),order:n.value,includePhoneNumbers:r};return null!==e&&null!==t&&(a.syncToken=e,a.prefToken=t),this.platformDelegate.createRequest("contacts","/co/addressbook",{queryObject:a})},createRecentRecipientsRequest:function(e,t,n){var i={jsonrpc:"2.0",id:e,method:t};return n&&(i.params={guids:[n]}),this.platformDelegate.createRequest("mail","/wm/recents",{body:i,timeout:this.INTERVAL_XHR_TIMEOUT_FOR_RECENTS_REQUEST,method:gu.a.POST,shouldFinalizeWithResponse:function(e,t,n){var i=self._redirectCountForTimeout,r=n-i,a=2===Math.floor(e.status/100)&&self.REDIRECT_RESPONSE_TEXT===e.encodedBody,o=e.status===gu.b.TIMEDOUT,s=a&&r<self.MAX_REDIRECT,l=o&&i<self.MAX_REDIRECT_FOR_TIMEOUT;if(s||l){l&&self._redirectCountForTimeout++;var c="\n                    Rejecting server response for mailws recents,\n                        Status: "+status+"\n                        ResponseText: "+e.encodedBody+"\n                        Redirect Count: "+r+"\n                        Timeout Redirect Count: "+i+"\n                ";return Re.b.warn(c),t(),!1}if(a||o){var u="\n                        Giving up on retries for mailws recents,\n                            Status: "+status+"\n                            ResponseText: "+e.encodedBody+"\n                            Redirect Count: "+r+"\n                            Timeout Redirect Count: "+i+"\n                    ";Re.b.warn(u)}return self._redirectCountForTimeout=0,!0},headers:{"Content-Type":"text/plain"}})},createAXMContactsRequest:function(e,t){if(t){var n=this._axmLimitPerResponse,i=[];return t.forEach((function(t){var r=t.entityType,a=t.cursor;i.push({entityType:r.value,limit:n,text:e,viewType:"SUMMARY",cursor:a})})),this.platformDelegate.createRequest("maidautocompletews","/maid/v1/web/directory/search",{body:i,method:gu.a.POST,timeout:this.INTERVAL_XHR_TIMEOUT_FOR_AXMSEARCH_REQUEST,headers:{"Content-Type":"text/plain"}})}ze.b("Cannot create AXM Contacts Request without searchEntities")},createAXMGroupsRequest:function(e){var t={id:e,entityType:Vw.CLASS.value,viewType:"SUMMARY"};return this.platformDelegate.createRequest("maidautocompletews","/maid/v1/web/members/fetch",{method:gu.a.POST,timeout:this.INTERVAL_XHR_TIMEOUT_FOR_AXMSEARCH_REQUEST,body:t,headers:{"Content-Type":"text/plain"}})},clearLoadedData:function(){this.recentsRequestIsOutstanding=!1,this.recentsRequestHasCompleted=!1,this.contactsRequestIsOutstanding=!1,this.contactsRequestHasCompleted=!1,this.addContactRequestHasCompleted=!1,this.addContactRequestHasFailed=!1,this.recentsDataIsLoaded=!1,this.contactsDataIsLoaded=!1,this.allDataIsLoadedForQuery=!1,this.axmContactsRequestOutstanding=!1,this.axmContactsRequestHasCompleted=!1,this._dataCache=null,this._lastSyncToken=null,this._lastPrefToken=null,this.dataRefreshNeeded=!0,this._axmDataCompletionStatus={}},findCompletionsInLoadedData:function(e,t){if(!this._dataCache)return[];t&&0!==t.length||ze.b("No dataSources provided to search");var n=this._dataCache.findCompletionsInLoadedData(e,t);return this._autocompleteResultsForMatches(e,n)},isSearchable:Y.c({readOnly:!0,dependencies:["contactsDataIsLoaded","recentsDataIsLoaded"],get:Object.assign((function(){return this.contactsDataIsLoaded||this.recentsDataIsLoaded}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])||i.internalGet(this,t[1+n])}})}),delegate:null,syncInterval:Y.c(10),isRecentsGroupsEnabled:Y.c(!0),isPhoneNumberSupportEnabled:X.b(!1),syncTokenInUse:Y.c(!1),dataRefreshNeeded:Y.c(!1),__dummy_prefix__:"__dummy_prefix__",_contactsStore:X.b(ut.b(Cr)),resolveRecentRecipientWithLoadedContacts:function(e,t){if(!e)return[];var n,i,r,a;if(r=e.length,a=t.length,r<1||a<1)return[];for(n=0;n<r;n++)for(i=0;i<a;i++)if(e[n].secondaryLabel===t[i].secondaryLabel){e[n].previewValue=t[i].previewValue,e[n].primaryLabel=t[i].primaryLabel,e[n].secondaryLabel=t[i].secondaryLabel,e[n].value=t[i].value,e[n].contactMatch=t[i].contactMatch,t.splice(i,1),a=t.length;break}},_autocompleteResultsForMatches:function(e,t){var n,i,r,a,o,s,l,c,u,d,h,f=[],p=[],m=[],g={},v=!0,_=this.getPath("delegate.autocompleteField");for(s in _&&(v=_.get("shouldMatchGroups")),t)if(t.hasOwnProperty(s)&&(d=t[s].rec,c=t[s].fields,d.address?h="Recents":d.contactId||d.managedAppleId?h="Contacts":(d.groupId||d.id)&&(h="Groups"),u=this._dataCache.getRecordForGuid(s)))if(l=null,"Recents"===h){if(u.isGroupMemberOnly||(l=this._autocompleteResultsForMatchedRecent(u,c),p.push(l)),!0===this.isRecentsGroupsEnabled&&(n=u.isMemberOf)&&n.length>0)for(i=n.length,o=0;o<i;o++)r=n[o].guid,a={address:u.address,rec:u,matchedFields:c},g[r]||(g[r]=[]),g[r].push(a)}else if("Contacts"===h){var b,y,S,I=Object.keys(c).length,w=u.emailAddresses,E=u.phones,C=c.emailAddresses;if(1===I&&C)for(y in C)C.hasOwnProperty(y)&&(S=C[y],b=w[y],l=this._autocompleteResultsForMatchedContact(u,c,{type:_w.EMAIL,field:b.field,label:b.label},S),f.push(l));else{for(o=(w?w.length:0)-1;o>=0;--o){b=w[o],S=C?C[o]:null;var A={type:_w.EMAIL,field:b.field,label:b.label};l=this._autocompleteResultsForMatchedContact(u,c,A,S),f.push(l)}for(o=(this.isPhoneNumberSupportEnabled&&E?E.length:0)-1;o>=0;--o){var T=E[o],O={type:_w.PHONE,field:T.field,label:T.label};l=this._autocompleteResultsForMatchedContact(u,c,O,null),f.push(l)}}}else{if(!v||"Groups"!==h)continue;l=this._autocompleteResultsForMatchedGroup(u,c),f.push(l)}for(r in g)g.hasOwnProperty(r)&&(l=this._autocompleteResultForMatchedRecentsGroup(g[r],r))&&m.push(l);return this.resolveRecentRecipientWithLoadedContacts(p,f),p.length>0&&(f=(p=this._sortRecentsResultsByTimeStamp(p)).concat(f)),m.length>0&&(m=this._sortRecentsResultsByTimeStamp(m),f=f.concat(m)),f},_autocompleteResultsForMatchedContact:function(e,t,n,i){return function(e,t,n,i,r,o){var s=n.type,l=n.label,c=n.field,u=function(e,t){if(e.isCompany)return e.companyName;var n=e.firstName||"",i=e.lastName||"";return n||i?Ys({givenName:n,familyName:i}):void 0}(e),d=c,h=function(e,t,n,i,r){var a,o,s=e.firstName||"",l=e.lastName||"",c=e.middleName||"",u=e.nickName||"",d=e.companyName||"",h=t.firstName,f=t.lastName,p=t.nickName,m=t.middleName,g=t.companyName,v=h?h.length:0,_=f?f.length:0,b=p?p.length:0,y=m?m.length:0,S=g?g.length:0,I=n?n.length:0,w=s+" "+l;if(Oo(s)&&Oo(l)&&(w=""+l+s),r===Ew.LAST_FIRST){var E=[l,s];s=E[0],l=E[1];var C=[f,h];h=C[0],f=C[1];var A=[_,v];v=A[0],_=A[1]}if(e.isCompany)if(S)a=Pw+"MatchCompanyByCompanyName",o={companyName:g+d.substr(S),firstAndLastNameInProperOrder:w,contactValue:i};else if(v)a=Pw+"MatchCompanyByFirstName",o={companyName:d,firstAndLastNameInProperOrder:h+s.substr(v)+" "+l,contactValue:i};else if(_)a=Pw+"MatchCompanyByLastName",o={companyName:d,lastAndFirstNameInProperOrder:f+l.substr(_)+" "+s,contactValue:i};else if(b)a=Pw+"MatchCompanyByNickName",o={nickName:p+u.substr(b),firstAndLastNameInProperOrder:w,companyName:d,contactValue:i};else if(I)a=Pw+"MatchCompanyByContact",o={companyName:d,firstAndLastNameInProperOrder:w,contactValue:n+i.substr(I)};else if(y)a=Pw+"MatchCompanyByMiddleName",o={middleName:m+c.substr(y),companyName:d,firstAndLastNameInProperOrder:w,contactValue:i};else{for(var T in Re.b.warn("Don't know what was matched in autocomplete. This case should be handled better."),a="",o=[],t)t.hasOwnProperty(T)&&(a+="%@ ",o.push(t[T]));a+="(%@)",o.push(d)}else if(v&&v===s.length&&_)a=Pw+"MatchPersonByFirstName",o={firstAndLastNameInProperOrder:h+" "+(f+l.substr(_)),contactValue:i};else if(_&&_===l.length&&v)a=Pw+"MatchPersonByLastName",o={lastAndFirstNameInProperOrder:f+" "+(h+s.substr(v)),contactValue:i};else if(b&&b===u.length&&_)a=Pw+"MatchPersonByNickAndLastName",o={nickName:p+u.substr(b),lastName:f+l.substr(_),contactValue:i};else if(v)a=Pw+"MatchPersonByFirstName",o={firstAndLastNameInProperOrder:h+s.substr(v)+" "+l,contactValue:i};else if(_)a=Pw+"MatchPersonByLastName",o={lastAndFirstNameInProperOrder:f+l.substr(_)+" "+s,contactValue:i};else if(b)a=Pw+"MatchPersonByNickName",o={nickName:p+u.substr(b),firstAndLastNameInProperOrder:w,contactValue:i};else if(S)a=Pw+"MatchPersonByCompanyName",o={companyName:g+d.substr(S),firstAndLastNameInProperOrder:w,contactValue:i};else if(I)a=Pw+"MatchPersonByContact",o={firstAndLastNameInProperOrder:w,contactValue:n+i.substr(I)};else if(y)a=Pw+"MatchPersonByMiddleName",o={middleName:m+c.substr(y),firstAndLastNameInProperOrder:w,contactValue:i};else{for(var O in Re.b.warn("Don't know what was matched in autocomplete. This case should be handled better."),a="",o={},t)t.hasOwnProperty(O)&&(a+="%{"+O.toString()+"} ",o[O]=t[O]);a=a.trim()}return{previewFormat:a,previewOrdering:o}}(e,t,i,c,o),f=h.previewFormat,p=h.previewOrdering,m=function(e,t){var n=t.field;if(e.isCompany)return{valueFormat:"%{companyName} <%{contactValue}>",valueOrdering:{companyName:e.companyName||"",contactValue:n}};var i=e.firstName||"",r=e.lastName||"";return{valueFormat:Oo(i)&&Oo(r)?"%{lastName}%{firstName} <%{contactValue}>":"%{firstName} %{lastName} <%{contactValue}>",valueOrdering:{firstName:i,lastName:r,contactValue:n}}}(e,n),g=m.valueFormat,v=m.valueOrdering,_=jw(a.d(f,p)),b=Bw(zd.a(g,v)),y=e.contactId,S=!!e.managedAppleId;return Dw.create({primaryLabel:u,secondaryLabel:d,value:b,previewValue:_,category:l,isAXMContact:S,contactMatch:ut.b(bw,{store:r,contactPrimaryKey:y,matchType:s,matchValue:c}),matchedFields:t})}(e,t,n,i,this._contactsStore,this._nameDisplayOrder)},_autocompleteResultsForMatchedRecent:function(e,t){var n,i,r,o,s,l,c,u=e.address;Array.isArray(e.timestamps)||(e.timestamps=[]);var d=e.name;-1===d.indexOf(",")&&(d=d.replace(/^"/,"").replace(/"$/,"")),d||(d=""),n=d,i=u;var h=t.name;t.names&&(h=t.names);var f=h?h.length:0,p=t.address,m=p?p.length:0;d||(d=u,n=u),h?(r="ContactsAutocomplete.PreviewTemplate.MatchRecentByName",s={matchedName:h+this._matchedNameLabelFromMatchedNamePrefix(d,h).substr(f),emailAddress:u}):(r="ContactsAutocomplete.PreviewTemplate.MatchRecentByEmailAddress",s={matchedEmail:p+u.substr(m),name:d}),o={name:d,emailAddress:u},l=zd.a("%{name} <%{emailAddress}>",o),c=a.d(r,s),l=l.replace("\u201c\u201d",""),c=c.replace("\u201c\u201d",""),l=l.replace(/\(\s*\)/g,""),c=c.replace(/\(\s*\)/g,""),l=l.replace(/\s+/g," "),c=c.replace(/\s+/g," "),l=l.replace(/([^,<>]*[,<>].*)( <[^<]*)$/,'"$1"$2');var g=this._contactsStore,v=e.recentsGuid;return Dw.create({primaryLabel:n,secondaryLabel:i,value:l,previewValue:c,timestamps:e.timestamps,category:a.d("ContactsAutocomplete.Category.RECENTS"),contactMatch:ut.b(bw,{matchType:_w.EMAIL,matchValue:u,contactPrimaryKey:v,store:g}),recentsGuid:e.recentsGuid,matchedFields:t})},_autocompleteResultForMatchedRecentsGroup:function(e,t){var n,i,r,o,s,l,c,u,d,h,f,p,m,g,v,_,b,y,S,I,w,E,C,A,T,O=[],D="",M=[],N=[],F=this._dataCache.guidToRecordMapping;if(!(n=F[t]))return null;for(Array.isArray(n.timestamps)||(n.timestamps=[]),s=e.length,c=(o=n.members).length,p=(r=e[0]).matchedFields,m=(h=r.rec).name,_=h.address,m=m.replace(/"/g,""),p.address?m=""!==m?_+" ("+m+")":_:(i=p.name?p.name:p.names,m=this._matchedNameLabelFromMatchedNamePrefix(m,i)),M.push(m),T=1;T<s;T++)h=e[T].rec,p=e[T].matchedFields,m=h.name,_=h.address,""===m&&(m=_),m=m.replace(/"/g,""),M.push(m);g=M.join(", "),l=e.map((function(e){return e.address}));var L=[];for(T=0;T<c;T++)y=(u=o[T]).name,S=u.address,D=(I=F[u.guid])&&I.names&&""!==I.names[0]?I.names[0]:""===y?S:y,-1===l.indexOf(S)&&(D=D.replace(/"/g,"").replace(/,/g,""),O.push(D)),w=[y=y.replace(/^"/,"").replace(/"$/,""),S],f=(f=(f=(f=(f=zd.a.apply("%@ <%@>",w)).replace("\u201c\u201d","")).replace(/\(\s*\)/g,"")).replace(/\s+/g," ")).replace(/([^,<>]*[,<>].*)( <[^<]*)$/,'"$1"$2').trim(),L.push(bw.create({matchType:_w.EMAIL,matchValue:S})),N.push(f);return O.length>0?(O.length>1&&(g+=", "),d=O.pop(),v=a.d("ContactsAutocomplete.GroupMembers",{emailAddresses:O.join(", "),lastEmailAddress:d})):(d=M.pop(),g=a.d("ContactsAutocomplete.GroupMembers",{emailAddresses:M.join(", "),lastEmailAddress:d}),v=""),A=E=g+v,C=N.join(", "),b=[g,v],Dw.create({matchChunks:b,primaryLabel:E,secondaryLabel:void 0,value:C,previewValue:A,timestamps:h.timestamps,isRecentsGroup:!0,recentsGuid:t,contactMatch:ut.b(bw,{matchType:_w.GROUP,matchValue:L})})},_matchedNameLabelFromMatchedNamePrefix:function(e,t){t=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}(t);var n,i,r=new RegExp(t,"i"),a=new RegExp("[\\s,]"+t,"i");if(0===e.search(r))return e;var o=e.search(a);return o>-1?(i=e.substring(0,o),n=e.substring(o+1)+" "+i):n=t+" ("+e+")",n},_autocompleteResultsForMatchedGroup:function(e,t){var n,i,r,o=this,s=t.name,l=s.length,c=e.name,u=e.displayName,d=e.id,h=e.rosterCount,f=e.contactIds,p=null;f?n=f.length:void 0!==h&&(n=h,i=Z.a.create(),r=Z.a.create(),i.then((function(){o.fetchAXMGroupMembers(d,r)})),p=c);var m,g=e.resolvedContacts,v=this._contactsStore;if(g){m=[];for(var _=[],b=g.length,y=0;y<b;++y){var S=g[y],I=S.firstName;I||(I="");var w,E=S.lastName;E||(E="");var C=S.emailAddresses;C&&(w=Qw(C).field);var A,T,O,D=S.phones;if(D&&(w=Qw(D).field),bt.a(w)&&""!==w)A=w,T=_w.EMAIL;else{if(!this.isPhoneNumberSupportEnabled||!bt.a(void 0))continue;A=void 0,T=_w.PHONE}O=(O=(O=(O=this._nameDisplayOrder===Ew.LAST_FIRST?E+" "+I+" <"+A+">":I+" "+E+" <"+A+">").replace("\u201c\u201d","")).replace(/\(\s*\)/g,"")).replace(/\s+/g," "),_.push(O),m.push(bw.create({matchType:T,matchValue:A,contactPrimaryKey:S.contactId,store:v,matchedFields:t}))}p=_.join(", ")}return Dw.create({primaryLabel:c,secondaryLabel:1===n?a.d("ContactsAutocomplete.GroupSecondaryLabel.Single"):a.d("ContactsAutocomplete.GroupSecondaryLabel.Multiple",{numberOfContacts:n}),category:u,value:p,previewValue:s+c.substr(l)+" ("+n+")",isContactsGroup:!0,isAXMContact:void 0!==e.rosterCount,contactMatch:ut.b(bw,{matchType:_w.GROUP,matchValue:m}),groupResolvePromise:i,contactMatchItemsPromise:r})},init:function(){var e=this,t=arguments;e.__s._$IYQ$init.apply(e,t),this._dataCache=Ow.DataCache.create()},_dataCache:null,_addRecordsToStore:function(e,t,n){var i=this._contactsStore;t.forEach((function(t){var r=Cr.getStoreIdForPrimaryKey(e,t[n]);i.hasDataFor(r)||i.writeData(r,t)}))},clearLoadingStatus:function(){this.isAppleIdManagedAppleId&&(this.axmContactsRequestOutstanding=!1,this.axmContactsRequestHasCompleted=!1)},_nameDisplayOrder:X.b({readOnly:!0,get:function(){return Cw()}}),_sortOrder:X.b({readOnly:!0,get:function(){return Aw(a.c())?Tw.FIRST_LAST:Tw.LAST_FIRST}}),_lastSyncToken:null,_lastPrefToken:null,_skipSyncCount:0,_redirectCountForTimeout:0,_redirectCount:0,MAX_REDIRECT:4,MAX_REDIRECT_FOR_TIMEOUT:1,REDIRECT_RESPONSE_TEXT:"<h1>Redirect</h1>",INTERVAL_XHR_TIMEOUT_FOR_RECENTS_REQUEST:3e4,INTERVAL_XHR_TIMEOUT_FOR_AXMSEARCH_REQUEST:2e3,requestDidComplete:function(e,t){this._requestDidComplete(e,t)},_requestDidComplete:function(e,t){var n=t.type,i=t.onComplete;i&&this[i].call(this,e,n);var r,a,o,s=!1,l=e.status,c=!1;if(200!==100*Math.floor(l/100))if(s=!0,n===xw.CONTACTS)switch(l){case 420:case 422:c=!0}else xw.RECENT_RECIPIENTS;if(r=e.encodedBody)if(0===r.indexOf("<"))s=!0,o="ContactsAutocomplete.Error.Generic";else if(c)o=r;else if("not found"===r)s=!0,o="ContactsAutocomplete.Error.NotFound";else{try{a=e.body}catch(f){s=!0}a?a.errorValue&&(o=a.message,s=!0):s=!0}else s=!0;if(n===xw.CONTACTS&&!s){var u=this.get("syncTokenInUse");a.syncToken?(this._lastSyncToken=a.syncToken,a.prefToken?this._lastPrefToken=a.prefToken:(s=!0,this._lastPrefToken=null,Re.b.warn("Autocomplete contacts response error: no prefToken found."))):u&&"{}"===r||(s=!0,this._lastSyncToken=null,Re.b.warn("Autocomplete  contacts response error:  no sync token found.")),!u&&this._lastSyncToken&&this._lastPrefToken&&this.sendContactsRequest()}if(s)if(c)this._lastSyncToken=null,this._lastPrefToken=null,this.sendContactsRequest();else{o||(o="ContactsAutocomplete.Error.Generic"),a&&Re.b.warn(zd.a("Autocomplete server error: %{err}",{err:l}));var d=t.onError;d?this[d].call(this,e,n,o):this.requestDidError(e,n,o)}else{var h=t.onSuccess;h?this[h].call(this,a,n):this.requestDidSucceed(n)}},requestDidSucceed:function(e){},_failedNetworkRequestCount:X.b(0),requestDidError:function(e,t,n){t===xw.RECENT_RECIPIENTS?this.set("recentsDataIsLoaded",!1):this.set("contactsDataIsLoaded",!1);var i=n;if(!i)try{i=e.body}catch(r){i="ContactsAutocomplete.Error.Generic"}this._failedNetworkRequestCount+=1},recentRecipientsRequestCompleted:function(){this.set("recentsRequestIsOutstanding",!1)},recentRecipientsRequestSucceeded:function(e,t){if(this.set("recentsRequestHasCompleted",!0),t===xw.RECENT_RECIPIENTS){if(e&&e.result){this._dataCache.addRecords(e.result,"Recents",Fw);var n=e.result.filter((function(e){return"CoreMail.RecentRecipient"===e.type}));this._addRecordsToStore(vw,n,"recentsGuid")}this.set("recentsDataIsLoaded",!0),this.set("allDataIsLoadedForQuery",!0)}else this.set("recentsRequestHasCompleted",!1)},contactsRequestCompleted:function(){this.set("contactsRequestIsOutstanding",!1)},contactsRequestSucceeded:function(e,t){this.set("contactsRequestHasCompleted",!0);var n=this._dataCache;e&&e.contacts&&(n.addRecords(e.contacts,"Contacts",Mw),n.addRecords(e.groups,"Groups",Nw),this._addRecordsToStore(vw,e.contacts,"contactId")),this.set("contactsDataIsLoaded",!0),this.set("allDataIsLoadedForQuery",!0)},parseAXMContactsResponse:function(e){var t=this;this.AXMReceipientsHasCompleted=!1;var n=e.body,i=e.headers;if(this._setAXMOrgType(i),n){var r=!1,a={};return n.forEach((function(e){var n=e.type;if(n===Vw.PERSON.value){var i=e.personList,o=e.hasMoreData,s=e.cursor,l=e.totalCount;r=o,t._updateAXMContactToMatchAddressBookContact(i),a.contactsHash={contacts:i,hasMoreData:o,cursor:s,totalCount:l}}else if(n===Vw.CLASS.value){var c=e.classList,u=e.hasMoreData,d=e.cursor,h=e.totalCount;r=r||u,a.classesHash={classes:c,hasMoreData:u,cursor:d,totalCount:h}}})),r||(this.AXMReceipientsDataIsLoaded=!0),a}},_haveDelegatePerform:function(e,t,n){var i=this.get("delegate");return!!i&&i[e](t,n)},_indexForString:function(e,t){if(0===e.length)return 0;for(var n,i,r=!1,a=0,o=e.length-1;!r&&a<=o;){n=!1;var s=e[i=Math.floor((a+o)/2)];s===t?r=!0:s<t?(a=i+1,n=!0):o=i-1}var l=i;return n&&++l,l},_updateAXMContactToMatchAddressBookContact:function(e){var t=this;e&&e.forEach((function(e){e.contactId=e.managedAppleId,e.emailAddresses=[{label:a.d("ContactsAutocomplete.Category."+t.axmOrgType.value),field:e.managedAppleId}]}))},_sortRecentsResultsByTimeStamp:function(e){return e.length>1&&e.sort((function(e,t){var n=e.timestamps.length,i=t.timestamps.length;if(n>i)return-1;if(n<i)return 1;e.timestamps.sort((function(e,t){return t-e})),t.timestamps.sort((function(e,t){return t-e}));var r=e.timestamps[n-1],a=t.timestamps[i-1];return r===a?0:r>a?-1:1})),e},_setAXMOrgType:function(e){var t=e.match("X-ADM-OrgType".toLowerCase()+": (.*)");t&&2===t.length?this.axmOrgType=$w[t[1]]:(t=e.match("X-ADM-OrgType: (.*)"))&&2===t.length?this.axmOrgType=$w[t[1]]:ze.b("OrgType header is missing from AXM Response",{headers:e})},_loadingStatus:X.b(),_updateLoadingStatus:Ni.f("_failedNetworkRequestCount","contactsRequestIsOutstanding","contactsDataIsLoaded","axmContactsRequestOutstanding","axmContactsRequestHasCompleted",(function(e,t,n,i,r){var a,o,s=this._loadingStatus;this.isAppleIdManagedAppleId?(a=i,o=r):(a=t,o=n);var l=function(e,t,n,i){var r=sw;return t>0?r.Failed:n?r.Loading:!n&&i?r.Completed:e===r.Completed||e===r.Failed&&!n&&!i?r.Initial:e}(s,e,a,o);this._loadingStatus=l})),__superMap:{_$IYQ$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DataSource"}});function Kw(e){if(!e)return 0;if("MAIN"===e)return 3;if("HOME"===e)return 3;if("WORK"===e)return 2;switch(e.toLowerCase()){case"main":return 3;case"home":return 2;case"work":return 1;default:return 0}}function Qw(e){return e.reduce((function(e,t){return Kw(e.label)>Kw(t.label)?t:e}))}var qw=n(275),Yw=Ge.a.extend(Ni.a,{action:X.b(),title:X.b(),titleIsAlwaysLTR:X.b({type:"boolean"}),iconClass:X.b(),isDisabled:X.b(),keyCombo:X.b(),keySequence:X.b({dependencies:["keyCombo"],get:Object.assign((function(){return this._keySequence||qw.a.create(this.keyCombo)}),{__CW__getter:function(e,t,n,i){return this._keySequence||qw.a.create(i.internalGet(this,t[0+n]))}}),set:function(e){this._keySequence=e}}),hasCheckmark:X.b({type:"boolean"}),shouldEscape:X.b(),staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuItem"}}),Xw=Ge.a.extend({staticMembers:{__QUALIFIED_CLASS_NAME__:"DividerItem"}}),Jw=(Ni.a,{mixinDependencies:[Me.a],autocompleteItemWasSelected:Vr.a}),Zw=Vi.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"width",attributes:{},unit:"px",property:"width"}}}},__QUALIFIED_CLASS_NAME__:"AutocompleteTextField"},delegate:X.b({type:Jw}),dataSource:X.b({type:ww}),autocomplete:"off",autocorrect:"off",spellcheck:"false",autocapitalize:"false",width:X.b(500),didAttach:function(){var e=this.dataSource;e&&e.load()},didDetach:function(){},query:X.b(""),fullPreview:X.b(J.c("menu.highlightedItem.previewValue")),highlightedItem:X.b(J.c("menu.highlightedItem")),autocompleteItemWasSelected:function(e){var t=(this.value=e.value).length;ce.a.sharedInstance.isEdge&&(this._shouldSkipNextInputEvent=!0),this.selection={start:t,end:t},this.menu&&this.menu.hide(),this.query="";var n=this.delegate;n&&n.autocompleteItemWasSelected&&n.autocompleteItemWasSelected(this,e),this.sendEvent("didAutocomplete",e)},minimumCharacters:X.b(0),backspaceDelay:800,menu:X.b(),isMenuVisible:X.b({readOnly:!0,dependencies:["_items","_items.contentsDidChange","isFocused"],get:Object.assign((function(){return this.isFocused&&this._items.length>0}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[2+n])&&i.internalGet(this,t[0+n]).length>0}})}),_isMenuVisibleDidChange:Ni.f("isMenuVisible",(function(e){var t=this.menu;t&&(e?(t.show(),this.sendEvent("pauseParsing")):(t.hide(),this.sendEvent("resumeParsing")))})),_timeElapsedFromBackspace:X.b({defaultValue:function(){return this.backspaceDelay}}),_isAutocompletingTextField:X.b({readOnly:!0,dependencies:["isMenuVisible","_timeElapsedFromBackspace","isFocused","isIMEInputActive"],get:Object.assign((function(){return this.isMenuVisible&&this.isFocused&&!this.isIMEInputActive&&this._timeElapsedFromBackspace>=this.backspaceDelay}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])&&i.internalGet(this,t[2+n])&&!i.internalGet(this,t[3+n])&&i.internalGet(this,t[1+n])>=this.backspaceDelay}})}),_isAutocompletingTextFieldDidChange:Ni.f("_isAutocompletingTextField","fullPreview",(function(e,t){if(e&&t&&t.length>0){this.value=t;var n=this.query.length,i=this.value.length;ce.a.sharedInstance.isEdge&&(this._shouldSkipNextInputEvent=!0),this.selection={start:n,end:i}}})),_items:X.b({strong:!0,defaultValue:ut.b(mf)}),_queryDidChangeObserver:Ni.f({inputs:["query","minimumCharacters","dataSource"],callback:function(e,t,n){!n||e.length<t?this._items.clear():this.queryDidChange(e,n)}}),queryDidChange:function(e,t){var n=this;t.clearLoadingStatus(),t.fetchRequiredData(e).then((function(){var i=t.autocompleteItemsForText(e);if(e===n.query){n._items=i;var r=n.menu;r&&!r.highlightedItem&&r.highlightNextItem()}}))},_shouldSkipNextInputEvent:!1,input:function(e){if(this.__s._$1d_$input.call(this,e),this._shouldSkipNextInputEvent)this._shouldSkipNextInputEvent=!1;else{var t=this.value;this.query=t?this.value:""}},keyDown:function(e){var t=this,n=arguments,i=!1,r=this.isMenuVisible,a=this.highlightedItem;switch(e.which){case ji.a.DOWN:e.preventDefault(),this.menu.highlightNextItem(),i=r;break;case ji.a.UP:e.preventDefault(),this.menu.highlightPreviousItem(),i=r;break;case ji.a.LEFT:case ji.a.RIGHT:case ji.a.COMMA:a&&r&&(e.preventDefault(),this.autocompleteItemWasSelected(a),i=!0);break;case ji.a.ENTER:a&&r?(e.preventDefault(),this.autocompleteItemWasSelected(a),i=!0):r||(i=t.__s._$26l$keyDown.apply(t,n));break;case ji.a.BACKSPACE:this._timeElapsedFromBackspace=0,this._backspaceCompletionTimer.restart(),i=!1;break;default:i=!1}return i},_backspaceCompletionTimer:X.b({defaultValue:function(){return yh.a.create({delay:this.backspaceDelay,target:this,action:"_recordTimeElapsedFromBackspace"})}}),_recordTimeElapsedFromBackspace:function(){this._timeElapsedFromBackspace+=this._backspaceCompletionTimer.delay},_isAttachedDidChange:Ni.f("isAttached",(function(e){e?this.didAttach():this.didDetach()})),__superMap:{_$1d_$input:"input",_$26l$keyDown:"keyDown"}}),eE=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"textField"},{type:"ELEMENT",tagname:"span",name:"testMeasurer",styles:{position:"absolute",left:"-1000px",top:"-1000px",visibility:"hidden","white-space":"pre"}}],styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"width",attributes:{signal:"widthDidRender"},unit:"px",property:"width"}}},extraSpace:X.b({readOnly:!0,get:function(){var e=ce.a.sharedInstance;return e.isIE||e.isEdge?5:0}}),className:"ck-sharing-resizing-autocomplete-text-field",__QUALIFIED_CLASS_NAME__:"ResizingAutocompleteTextField"},_items:X.b({strong:!0,binding:J.c("textField._items")}),isFocusable:!0,defaultFocusChild:J.c("textField"),focusAsLeaf:function(){this.focusDefault()},isFocused:X.b({readOnly:!0,dependencies:["isInFocusedBranch"],get:Object.assign((function(){return this.isInFocusedBranch}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])}})}),textField:X.b({defaultValue:ut.b(Zw.extend({additionalClassNames:["token-item-textfield"]})),downstreamBindings:{value:"(owner).value",menu:"(owner).menu",delegate:"(owner).delegate",dataSource:"(owner).dataSource",isDisabled:"(owner).isDisabled",minimumCharacters:"(owner).minimumCharacters",width:"(owner).width"}}),value:X.b(),menu:X.b(),delegate:X.b(),dataSource:X.b(),isDisabled:X.b(),width:X.b({readOnly:!0,dependencies:["value","isAttached"],get:Object.assign((function(){var e=this.testMeasurer;e.textContent=this.value;var t=e.offsetWidth+this.constructor.extraSpace;return e.innerText="",t+3}),{__CW__getter:function(e,t,n,i){var r=this.testMeasurer;r.textContent=i.internalGet(this,t[0+n]);var a=r.offsetWidth+this.constructor.extraSpace;return r.innerText="",a+3}})}),minimumCharacters:X.b(1),_windowDidResize:Ni.f(ce.a.bindingFor("sharedInstance.window.width"),"textField.isMenuVisible",(function(e,t){var n=this.menu;if(n&&t){var i=n.anchorLayoutMeasurer;i&&i.recomputeLayoutIfNecessary()}})),selection:X.b({cacheable:!1,readOnly:!0,dependencies:["textField.selection"],get:Object.assign((function(){return this.getPath("textField.selection")}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])}})})}),tE=ne.b("TokenItemStatus",{OK:"OK",PENDING:"PENDING",INVALID:"INVALID"}),nE=ew.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{signal:"titleDidRender"}}],classes:["title"]}],classes:["title-wrapper"]},{type:"VIEWOUTLET",tagname:"view",name:"menuButton"}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isSelected",truevalue:"is-selected",attributes:{}}],attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tooltip",attributes:{},attribute:"title"}}},className:"cw-ui-views-token-button",__QUALIFIED_CLASS_NAME__:"TokenButtonView"},isPending:X.b(!1),isInvalid:X.b(!1),invalidReason:X.b({defaultValue:a.d("CKSharing.InvalidToken.GeneralReason")}),tooltip:X.b({type:String,dependencies:["isInvalid","invalidReason","isPending"],readOnly:!0,get:Object.assign((function(){var e,t=this.title,n=this.isInvalid,i=this.invalidReason;return this.isPending?e=t:n&&(e=i),e}),{__CW__getter:function(e,t,n,i){var r,a=this.title,o=i.internalGet(this,t[0+n]),s=i.internalGet(this,t[1+n]);return i.internalGet(this,t[2+n])?r=a:o&&(r=s),r}})})}),iE=tw.extend({tokenTextField:X.b({defaultValue:ut.b(eE),downstreamBindings:{minimumCharacters:"(owner).minimumCharacters"}}),staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isInvalid",truevalue:"invalid",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isPending",truevalue:"pending",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"TokenItemView"},status:X.b(tE.OK),minimumCharacters:X.b({readOnly:!0,dependencies:["isCurrentUserManagedAppleID"],get:Object.assign((function(){return this.isCurrentUserManagedAppleID?2:1}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?2:1}})}),isCurrentUserManagedAppleID:X.b(!1),isAXMServiceAvailable:X.b(!1),isUserAccountMAIDAndMaidAutoCompleteServiceAvailable:X.b({readOnly:!0,dependencies:["isCurrentUserManagedAppleID","isAXMServiceAvailable"],get:Object.assign((function(){return this.isCurrentUserManagedAppleID&&this.isAXMServiceAvailable}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])&&i.internalGet(this,t[1+n])}})}),isInvalid:X.b({readOnly:!0,dependencies:["status"],get:Object.assign((function(){return this.status===tE.INVALID}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===tE.INVALID}})}),invalidReason:X.b({defaultValue:a.d("CKSharing.InvalidToken.GeneralReason")}),isPending:X.b({readOnly:!0,dependencies:["status"],get:Object.assign((function(){return this.status===tE.PENDING}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===tE.PENDING}})}),tokenButton:X.b({defaultValue:ut.b(nE,{action:"tokenButtonWasPressed",additionalClassNames:["token-item-button"],isFocusable:!0}),downstreamBindings:{title:"(owner).value",isSelected:"(owner).isSelected",isPending:"(owner).isPending",isInvalid:"(owner).isInvalid",invalidReason:"(owner).invalidReason"}}),autocompleteItem:X.b(null),menuTitle:X.b({didChange:function(e){var t=this.menuItems,n=t&&t.objectAt(0);n&&(n.title=e||"")}}),hydratedValue:X.b({readOnly:!0,dependencies:["value","userIdentity"],get:Object.assign((function(){var e=this.userIdentity;if(!e)return this.value;var t=(e.givenName||"").trim(),n=(e.familyName||"").trim(),i=(e.phoneNumber||"").trim(),r=(e.emailAddress||"").trim(),a=this.formatDisplayName(e);return(t||n)&&(i||r)?a+" <"+(i||r)+">":a}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[1+n]);if(!r)return i.internalGet(this,t[0+n]);var a=(r.givenName||"").trim(),o=(r.familyName||"").trim(),s=(r.phoneNumber||"").trim(),l=(r.emailAddress||"").trim(),c=this.formatDisplayName(r);return(a||o)&&(s||l)?c+" <"+(s||l)+">":c}})}),userIdentity:X.b({strong:!0,didChange:function(e){if(e){this.value=this.formatDisplayName(e);var t=e.emailAddress,n=e.phoneNumber,i=tE.INVALID,r=this.status===tE.INVALID;t?(this.menuTitle=t,this.contentIsAlwaysLTR=!1,!r&&il.isValidEmailAddress(t)&&(i=tE.OK)):n?(this._configureForPhoneNumber(n),r||(i=tE.PENDING)):this.menuTitle=this.value,this.status=i,this.sendEvent("tokenValueChanged")}}}),_configureForPhoneNumber:function(e){this.menuTitle=e,this.contentIsAlwaysLTR=!0;var t=this;this.formatPhoneNumber(e).then((function(e){if(t.sendEvent("phoneNumberValidationDidComplete",e.isValid),e.isValid){var n=e.canonical,i=t.userIdentity;i.lookupInfo={phoneNumber:n},t.value=t.formatDisplayName(i),t.menuTitle=n}else t.invalidReason=a.d("CKSharing.InvalidToken.GeneralReason");t.status!==tE.INVALID&&(t.status=e.isValid?tE.OK:tE.INVALID),t.sendEvent("tokenValueChanged")})).catch((function(e){t.status=tE.INVALID,t.sendEvent("tokenValueChanged")}))},formatDisplayName:function(e){return Ys(e)},buildMenuItemsForPhoneNumber:function(){var e=this.createInitialContactMenuItems(!0);return this.addCommonMenuItems(e,"Phone"),mf.create(e)},buildMenuItemsForEmailAddress:function(){var e=this.createInitialContactMenuItems(!1);return this.addCommonMenuItems(e,"Email"),mf.create(e)},buildMenuItemsForUnknownItem:function(){var e=this.createInitialContactMenuItems();return this.addCommonMenuItems(e,"Unknown"),mf.create(e)},buildMenuItemsForPendingItem:function(){var e=[];return this.addCommonMenuItems(e,"Unknown"),mf.create(e)},addCommonMenuItems:function(e,t){this.status!==tE.PENDING&&e.push(Yw.create({title:a.d("CKSharing.AddParticipants.TokenItemMenu.Edit"+t),target:this,action:"editItem"})),e.push(Yw.create({title:a.d("CKSharing.AddParticipants.TokenItemMenu.Remove"+t),target:this,action:"removeItem"}))},createInitialContactMenuItems:function(e){var t=[Yw.create({title:this.menuTitle,titleIsAlwaysLTR:e,action:"",isDisabled:!0,hasCheckmark:!0})],n=this.autocompleteItem,i=n&&n.contactMatch&&n.contactMatch.contact,r=i&&i.emailAddresses,a=i&&i.phones,o=this;return r&&r.forEach((function(e){o._addAutocompleteMenuItem(t,i,e)})),a&&a.forEach((function(e){o._addAutocompleteMenuItem(t,i,e,!0)})),t.push(Xw.create({})),t},_addAutocompleteMenuItem:function(e,t,n,i){var r=n.field,o=n.label,s="ContactsAutocomplete.Category."+o,l=a.d(s);l!==s&&(o=l);var c=this.autocompleteItem;if((c.contactMatch&&c.contactMatch.matchValue)!==r){var u={nameComponents:{givenName:t.firstName,familyName:t.lastName},lookupInfo:{emailAddress:i?void 0:r,phoneNumber:i?r:void 0}},d=a.d("CKSharing.AddParticipants.TokenItemMenu.AutocompleteItem.Title",{field:r,label:o});e.push(Yw.create({title:d,userIdentityData:u,matchType:i?_w.PHONE:_w.EMAIL,matchValue:r,target:this,action:"didSelectAutocompleteMenuItem"}))}},didSelectAutocompleteMenuItem:function(e){if(e){var t=e.userIdentityData;t&&(this.userIdentity=il.create(t)),this.autocompleteItem.contactMatch.matchValue=e.matchValue,this.autocompleteItem.contactMatch.matchType=e.matchType}},serverCanonicalizePhoneNumber:function(e){var t={};return this.sendEvent("canonicalizePhoneNumbers",[e],t),t.value||Z.a.reject()},formatPhoneNumber:function(e){var t=tl.sharedInstance;return this.serverCanonicalizePhoneNumber(e).catch((function(n){return t.format(e,void 0,!0).then((function(e){return e.isValid=!1,e}))})).then((function(n){var i=n[0]&&"+"+n[0];return t.format(i||e,void 0,!0).then((function(e){return i||(e.isValid=!1),e}))}))},displayMenu:function(e){var t=this.menuController=$I.extend({_menuItemForEvent:function(){var e=this,t=arguments,n=e.__s._$7FA$_menuItemForEvent.apply(e,t);return bt.a(n)?n:null},__superMap:{_$7FA$_menuItemForEvent:"_menuItemForEvent"}}).create({listCollection:e,target:this,listLayoutRowHeight:27,shouldMeasure:!0,verticalAlignment:k_.Bottom,horizontalAlignment:U_.Left,allowedLayouts:[tb,nb,rb,ib],resolutionStrategy:sb,isAlignmentRequired:!1,arrowAlignment:V_.None}),n=this.tokenButton.menuButton;t.show(n)},menuController:X.b({strong:!0}),tokenMenuButtonClicked:function(){var e=this.userIdentity;e&&e.phoneNumber?this.displayMenu(this.menuItems=this.buildMenuItemsForPhoneNumber()):e&&e.emailAddress?this.displayMenu(this.menuItems=this.buildMenuItemsForEmailAddress()):this.status===tE.PENDING?this.displayMenu(this.menuItems=this.buildMenuItemsForPendingItem()):this.displayMenu(this.menuItems=this.buildMenuItemsForUnknownItem())},editItem:function(){ft.a(this.startEditing.bind(this),0)},startEditing:function(){var e=this,t=arguments,n=this.userIdentity;n&&(n.emailAddress?this.value=n.emailAddress:n.phoneNumber&&(this.value=n.phoneNumber)),e.__s._$8KP$startEditing.apply(e,t)},updateForContactMatch:function(e,t){var n=this;if(e&&e.contactMatch){var i=e.isAXMContact,r=e.contactMatch,o=r.matchType,s=r.matchValue,l=r.contact;!this.isUserAccountMAIDAndMaidAutoCompleteServiceAvailable||this.isUserAccountMAIDAndMaidAutoCompleteServiceAvailable&&i?this.status=tE.OK:(this.status=tE.INVALID,this.invalidReason=a.d("CKSharing.InvalidToken.NotAXMContact"));var c=o.value;if(e.contactMatchItemsPromise)return this.autocompleteItem=e,this.status=tE.PENDING,e.contactMatchItemsPromise.then((function(e){var i=e.items,r=e.error;if(i){var a=i.pop();i.forEach((function(e){n.sendEvent("createNewTokenItemFromAutocompleteItemBeforeCurrentToken",n,e)})),n.updateForContactMatch(a),t&&t()}else r&&(n.sendEvent("showAXMFetchMembersAlert",n._axmGroupName),n.removeItem());n._axmGroupName=void 0})),this._axmGroupName=this.value,this.value=a.d("CKSharing.AXMGroup.LoadingMembers"),void this.stopEditing();if("GROUP"===c){for(var u=s.length-1,d=0,h=u;d<h;++d)this.sendEvent("createNewTokenItemFromAutocompleteItemBeforeCurrentToken",this,{contactMatch:s[d]});return this.updateForContactMatch({contactMatch:s[u]}),void(t&&t())}var f="",p="";l&&(f=l.firstName,p=l.lastName);var m=e.contactMatch.contact;f=m&&m.firstName||"",p=m&&m.lastName||"","EMAIL"!==c||il.isValidEmailAddress(s)||(f||p||(f=s),s=void 0),this.userIdentity=il.create({nameComponents:{givenName:f,familyName:p},lookupInfo:{emailAddress:"EMAIL"===c?s:void 0,phoneNumber:"PHONE"===c?s:void 0}}),this.autocompleteItem=e,t&&t()}},didAutocomplete:function(e){this._isInDidAutocomplete=!0,this._resolveAXMGroupIfRequired(e),this.updateForContactMatch(e,this.postTokenUpdationCallback.bind(this))},postTokenUpdationCallback:function(){this.sendEvent("createNewEditingTokenAfterCurrentToken",this),this.stopEditing(),this._isInDidAutocomplete=!1},removeItem:function(){this.sendEvent("deleteCurrentToken",this)},shouldUpdateUserIdentity:function(e){var t=this.userIdentity;return!t||!e||!t.familyName&&!t.givenName||!t.emailAddress&&!t.phoneNumber||wl(t.emailAddress)!==wl(e.emailAddress)||Cl(t.phoneNumber)!==Cl(e.phoneNumber)},tokenStoppedEditing:function(){var e=(this.value||"").trim();if(!this.isEditing||this._isInDidAutocomplete||!e)return!1;var t=il.createFromString(e);return this.shouldUpdateUserIdentity(t)?(this.userIdentity=t,this.autocompleteItem=null):this.value=this.formatDisplayName(this.userIdentity),this.isUserAccountMAIDAndMaidAutoCompleteServiceAvailable&&!this.autocompleteItem&&this.status!==tE.INVALID&&(this.status=tE.INVALID,this.invalidReason=a.d("CKSharing.InvalidToken.NotAXMContact")),!1},keyDown:function(e){var t=e.which,n=this.value+",",i=this.parseValueForTokens(n),r=this.__s._$BXl$keyDown.call(this,e);return!r&&this.isEditing&&t===ji.a.COMMA&&i.length>1&&(this.stopEditing(),this.reEmptyToken.test(n)||this.sendEvent("createNewEditingTokenAfterCurrentToken",this),e.preventDefault(),r=!0),r},_resolveAXMGroupIfRequired:function(e){e.groupResolvePromise&&e.groupResolvePromise.resolve()},__superMap:{_$8KP$startEditing:"startEditing",_$BXl$keyDown:"keyDown"}}),rE=Ge.a.extend({init:function(e){this.requestOptions=e,this.__s._$3Q$init.call(this)},send:function(){var e=this.requestOptions,t=e.url;return(e.shouldFinalizeWithResponse?ku:Uu)(t,e).then((function(e){return e.json().then((function(t){var n=e.status,i=e._encodedBody,r=Qb.a.create({status:n,encodedBody:i});return e.ok?r:Z.a.reject(r)}))}))},__superMap:{_$3Q$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CoskBridgeRequest"}}),aE=lw.extend({CustomAutocompleteDataSourceClass:X.b(),CustomLoadMembershipInfoHandlerClass:X.b(),hostedByCloudOSOne:X.b(!0),tokenItemViewClass:iE,isCurrentUserManagedAppleID:X.b(),isAXMServiceAvailable:X.b(),menu:X.b({dependencies:["CustomLoadMembershipInfoHandlerClass","hostedByCloudOSOne"],readOnly:!0,get:Object.assign((function(){var e=Sw.extend({_menuItemForEvent:function(){var e=this,t=arguments,n=e.__s._$nc$_menuItemForEvent.apply(e,t);return bt.a(n)?n:null},__superMap:{_$nc$_menuItemForEvent:"_menuItemForEvent"}}).create({target:this,anchor:this,layout:QI.DOUBLE_LINE,allowedLayouts:[rb],width:this.bindingFor("width")}),t=this.CustomLoadMembershipInfoHandlerClass;if(t)e.contentController.membershipInfoLoader.loadMembershipInfoHandler=t.create();else if(!this.hostedByCloudOSOne){var n=e.contentController.membershipInfoLoader,i=n.loadMembershipInfoHandler.constructor;n.loadMembershipInfoHandler=i.extend({createRequest:function(e){var t={method:"POST",body:e,timeout:6e4,useCredentialsIfCrossOrigin:!0,url:as("cksharews","ws/v1/autocomplete/membershipInfo")};return rE.create(t)}}).create()}return e}),{__CW__getter:function(e,t,n,i){var r=Sw.extend({_menuItemForEvent:function(){var e=this,t=arguments,n=e.__s._$nc$_menuItemForEvent.apply(e,t);return bt.a(n)?n:null},__superMap:{_$nc$_menuItemForEvent:"_menuItemForEvent"}}).create({target:this,anchor:this,layout:QI.DOUBLE_LINE,allowedLayouts:[rb],width:this.bindingFor("width")}),a=i.internalGet(this,t[0+n]);if(a)r.contentController.membershipInfoLoader.loadMembershipInfoHandler=a.create();else if(!i.internalGet(this,t[1+n])){var o=r.contentController.membershipInfoLoader,s=o.loadMembershipInfoHandler.constructor;o.loadMembershipInfoHandler=s.extend({createRequest:function(e){var t={method:"POST",body:e,timeout:6e4,useCredentialsIfCrossOrigin:!0,url:as("cksharews","ws/v1/autocomplete/membershipInfo")};return rE.create(t)}}).create()}return r}})}),autocompleteDataSource:X.b({dependencies:["CustomAutocompleteDataSourceClass","hostedByCloudOSOne"],readOnly:!0,get:Object.assign((function(){var e=this.CustomAutocompleteDataSourceClass,t=this.hostedByCloudOSOne;if(e)return e.create();if("boolean"===typeof t){var n=Hw;return t?n.create({isPhoneNumberSupportEnabled:!0}):n.extend({isPhoneNumberSupportEnabled:!0,platformDelegate:ut.b(oE,{isAppleIdManagedAppleId:this.bindingFor("isCurrentUserManagedAppleID"),isAXMServiceAvailable:this.bindingFor("isAXMServiceAvailable")})}).create()}}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[1+n]);if(r)return r.create();if("boolean"===typeof a){var o=Hw;return a?o.create({isPhoneNumberSupportEnabled:!0}):o.extend({isPhoneNumberSupportEnabled:!0,platformDelegate:ut.b(oE,{isAppleIdManagedAppleId:this.bindingFor("isCurrentUserManagedAppleID"),isAXMServiceAvailable:this.bindingFor("isAXMServiceAvailable")})}).create()}}})}),staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:["add-participants-tokenizedtextfield-view"]}},__QUALIFIED_CLASS_NAME__:"AutocompleteTokenizedTextField"},labelField:X.b({defaultValue:ut.b(Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"toFieldText",attributes:{}}],name:"toField",classes:["to-field"]}}})),downstreamBindings:{toFieldText:"(owner).toFieldText"}}),toFieldText:X.b(a.d("CKSharing.AddParticipants.TokenItemView.Add")),invitees:X.b({readOnly:!0,dependencies:["tokenViews","tokenViews.contentsDidChange","_tokenValueChangedSignal"],get:Object.assign((function(){var e=[],t=this.tokenViews;return t&&t.forEach((function(t){t.userIdentity&&t.value&&e.push(Il.create({userIdentity:t.userIdentity,isInvalid:t.isInvalid,invalidReason:t.invalidReason}))})),e}),{__CW__getter:function(e,t,n,i){var r=[],a=i.internalGet(this,t[0+n]);return a&&a.forEach((function(e){e.userIdentity&&e.value&&r.push(Il.create({userIdentity:e.userIdentity,isInvalid:e.isInvalid,invalidReason:e.invalidReason}))})),r}})}),hasPendingTokens:X.b({readOnly:!0,dependencies:["tokenViews","tokenViews.contentsDidChange","_tokenValueChangedSignal"],get:Object.assign((function(){var e=this.tokenViews;return e&&e.some((function(e){return e.isPending}))}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r&&r.some((function(e){return e.isPending}))}})}),hasInvalidTokens:X.b({readOnly:!0,dependencies:["tokenViews","tokenViews.contentsDidChange","_tokenValueChangedSignal"],get:Object.assign((function(){var e=this.tokenViews;return e&&e.some((function(e){return e.isInvalid}))}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r&&r.some((function(e){return e.isInvalid}))}})}),hasAtLeastOneValidToken:X.b({readOnly:!0,dependencies:["tokenViews","tokenViews.contentsDidChange","_tokenValueChangedSignal"],get:Object.assign((function(){var e=this.tokenViews;return e&&e.some((function(e){return e.userIdentity&&!e.isInvalid}))}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r&&r.some((function(e){return e.userIdentity&&!e.isInvalid}))}})}),parseValueForTokens:function(e){return il.splitAddressString(e)},createNewTokenItemFromAutocompleteItemBeforeCurrentToken:function(e,t){this.createNewTokenItemBeforeCurrentToken(e,"PLACEHOLDER").updateForContactMatch(t)},logService:X.b(),phoneNumberValidationDidComplete:function(e){var t=this.logService;t&&t.recordStat("PhoneNumberValidation"+(e?"Succeeded":"Failed"))},autocompleteItemWasSelected:function(e){var t=jr.a(this,"lastEditedToken.tokenTextField.textField");t&&"function"===typeof t.autocompleteItemWasSelected&&t.autocompleteItemWasSelected(e)},_createNewEditingTokenAtIndex:function(e){var t=this.lastEditedToken;t&&t.isEditing&&t.stopEditing(),this.__s._$3zz$_createNewEditingTokenAtIndex.call(this,e)},_createNewTokenItem:function(){var e=this.__s._$42n$_createNewTokenItem.call(this);return e.isCurrentUserManagedAppleID=this.isCurrentUserManagedAppleID,e.isAXMServiceAvailable=this.isAXMServiceAvailable,e},hydrateValues:function(e){var t=[];return this.tokenViews.forEach((function(n){e&&!e(n)||t.push(n.hydratedValue)})),t.join(", ")},__superMap:{_$3zz$_createNewEditingTokenAtIndex:"_createNewEditingTokenAtIndex",_$42n$_createNewTokenItem:"_createNewTokenItem"}}),oE=Ge.a.extend(zw,{isRecentsEnabled:X.b({get:function(){return rs("mail")}}),isAppleIdManagedAppleId:X.b(!1),isAXMServiceAvailable:X.b(!1),createRequest:function(e,t,n){var i=n.queryObject,r=hu.a.create({hostname:as(e),pathname:t.slice(1),queryObject:i});return rE.create(Object.assign({url:r,useCredentialsIfCrossOrigin:!0},n))},staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK2AutocompleteDataSourceDelegate"}}),sE=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"header",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}]},{type:"ELEMENT",tagname:"h2",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"subtitle",attributes:{}}]}]},__QUALIFIED_CLASS_NAME__:"AddParticipantsHeaderView"},title:X.b({type:String}),subtitle:X.b({type:String})}),lE=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"spinnerView"}],classes:["busy-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"",falsevalue:"hidden",attributes:{}}]},className:"ck-sharing-busy-view",__QUALIFIED_CLASS_NAME__:"BusyView"},isVisible:X.b(!1),spinnerView:ut.b(oy.a)}),cE=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}]},{type:"ELEMENT",tagname:"h2",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"description",attributes:{}}]}],classes:["offline-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"",falsevalue:"hidden",attributes:{}}]},className:"ck-sharing-offline-view",__QUALIFIED_CLASS_NAME__:"OfflineView"},title:a.d("CKSharing.Offline.Title"),description:a.d("CKSharing.Offline.Description"),isVisible:X.b(!1)}),uE=Di.a.extend({supportedTransports:X.b(),shareItemType:X.b(),transportItemsForDisplay:X.b({readOnly:!0,dependencies:["supportedTransports"],get:Object.assign((function(){var e=(this.supportedTransports||[]).map((function(e){var t=Zb[e],n=bc(ry((t===Zb.WEB_MAIL||t===Zb.NATIVE_MAIL?"EMAIL":t).toLowerCase())),i="CKSharing.AddParticipants.Transports."+n+"Button.Title",r=ay.a(n).toLowerCase();return{title:a.d(i),value:t,classNames:[r]}}));return Ir.a.create(e)}),{__CW__getter:function(e,t,n,i){var r=(i.internalGet(this,t[0+n])||[]).map((function(e){var t=Zb[e],n=bc(ry((t===Zb.WEB_MAIL||t===Zb.NATIVE_MAIL?"EMAIL":t).toLowerCase())),i="CKSharing.AddParticipants.Transports."+n+"Button.Title",r=ay.a(n).toLowerCase();return{title:a.d(i),value:t,classNames:[r]}}));return Ir.a.create(r)}})}),shouldShowParticipantsEntry:X.b({dependencies:["transport","accessDropdownValue"],readOnly:!0,get:Object.assign((function(){var e=this.transport;return this.accessDropdownValue===Ks.PRIVATE&&(e===Zb.COPY_LINK||e===Zb.NATIVE_MAIL)}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return i.internalGet(this,t[1+n])===Ks.PRIVATE&&(r===Zb.COPY_LINK||r===Zb.NATIVE_MAIL)}})}),invitees:X.b(J.c("invitationsTextField.invitees")),logService:X.b(),CustomLoadMembershipInfoHandlerClass:X.b(),CustomAutocompleteDataSourceClass:X.b(),sharePopoverIsActive:X.b(),clearInvitationsTextField:function(e){var t=this.invitationsTextField;t&&t.setValue()},invitationsTextField:X.b({defaultValue:ut.b(aE.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"",falsevalue:"hidden",attributes:{signal:"isVisibleDidRender"}}]}}},placeholder:a.d("CKSharing.AddParticipants.InvitationsTextField.Placeholder")})),downstreamBindings:{isVisible:"(owner).shouldShowParticipantsEntry",CustomLoadMembershipInfoHandlerClass:"(owner).CustomLoadMembershipInfoHandlerClass",logService:"(owner).logService",CustomAutocompleteDataSourceClass:"(owner).CustomAutocompleteDataSourceClass",hostedByCloudOSOne:"(owner).hostedByCloudOSOne",isCurrentUserManagedAppleID:"(owner).isCurrentUserManagedAppleID",isAXMServiceAvailable:"(owner).isAXMServiceAvailable"}}),loggedInUserIdentity:X.b(),isCurrentUserManagedAppleID:X.b({dependencies:["loggedInUserIdentity"],readOnly:!0,get:Object.assign((function(){return!!this.loggedInUserIdentity&&this.loggedInUserIdentity.isManagedAppleID}),{__CW__getter:function(e,t,n,i){return!!i.internalGet(this,t[0+n])&&i.internalGet(this,t[0+n]).isManagedAppleID}})}),isAXMServiceAvailable:X.b(),title:X.b(),subtitle:X.b(null),subtitleString:X.b({readOnly:!0,dependencies:["subtitle","shareItemType","supportedTransports","accessDropdownValue"],get:Object.assign((function(){var e=this.supportedTransports,t=this.subtitle;if(e&&e.length>0){if(null===t){var n="CKSharing.AddParticipants.Subtitle.";return 1===e.length?(n+="SingleTransport.",n+=Ks.PUBLIC===this.accessDropdownValue?"Public.":"Private.",n+=this.shareItemType):n+="MultipleTransports",a.d(n)}return t}return""}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[2+n]),o=i.internalGet(this,t[0+n]);if(r&&r.length>0){if(null===o){var s="CKSharing.AddParticipants.Subtitle.";return 1===r.length?(s+="SingleTransport.",s+=Ks.PUBLIC===i.internalGet(this,t[3+n])?"Public.":"Private.",s+=i.internalGet(this,t[1+n])):s+="MultipleTransports",a.d(s)}return o}return""}})}),headerView:X.b({defaultValue:ut.b(sE),downstreamBindings:{title:"(owner).title",subtitle:"(owner).subtitleString"}}),busyDescription:X.b(a.d("CKSharing.Busy.Loading.Description")),isLoading:X.b(!1),busyView:X.b({readOnly:!0,get:function(){return lE.create()},downstreamBindings:{isVisible:"(owner).isLoading"}}),shouldShowSendingSpinner:X.b({defaultValue:!1,type:Boolean}),isOffline:X.b(ce.a.sharedInstance.bindingFor("isOffline")),offlineView:X.b({readOnly:!0,get:function(){return cE.create()},downstreamBindings:{isVisible:"(owner).isOffline"}}),accessDropdownValue:X.b(),permissionDropdownValue:X.b(),summaryTextNoOption:X.b(),summaryTextWOption:X.b(),shouldShowUserName:X.b(),loggedInUserInfo:X.b(),transport:X.b(),isSavingShare:X.b(!1),showPermissionsDropdown:X.b(!0),primaryInteractionMode:X.b(),shareButtonTitle:X.b(),supportedAccess:X.b(),supportedPermissions:X.b(),hostedByCloudOSOne:X.b(!0),staticMembers:{__QUALIFIED_CLASS_NAME__:"AddParticipantsViewBase"}}),dE=Pi.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"CancelButton"},ariaLabel:a.d("CKSharing.AddParticipants.CancelButton.Title"),title:a.d("CKSharing.AddParticipants.CancelButton.Title"),action:"didCancelAddParticipant",keyEquivalent:ji.a.ESC,additionalClassNames:Mi.a(["cancel-button"])}),hE={TOUCH_PRIMARY:18,MOUSE_PRIMARY:24};Object.freeze(hE);var fE=Pi.a.extend({triggerButtonAction:function(){var e=this,t=arguments,n=document.createElement("a");n.target="_top",n.href=this.link,n.click(),e.__s._$4Q$triggerButtonAction.apply(e,t)},link:void 0,__superMap:{_$4Q$triggerButtonAction:"triggerButtonAction"},staticMembers:{__QUALIFIED_CLASS_NAME__:"AnchorButton"}}),pE=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"footer",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"spinnerView"},{type:"VIEWOUTLET",tagname:"view",name:"cancelButton"},{type:"ELEMENT",tagname:"span",classes:["divider"]},{type:"VIEWOUTLET",tagname:"view",name:"shareButton"},{type:"VIEWOUTLET",tagname:"view",name:"doneButton"}],classes:["button-container"],name:"buttonContainer"},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"username",attributes:{}}]}],classes:["username",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"usernameIsHidden",truevalue:"",falsevalue:"hidden",attributes:{}}]}]},__QUALIFIED_CLASS_NAME__:"AddParticipantsFooterViewForMouse"},spinnerView:X.b({downstreamBindings:{isVisible:"(owner).shouldShowSendingSpinner"},defaultValue:ut.b(oy.a.extend({primaryInteractionMode:X.b(),size:hE.MOUSE_PRIMARY}))}),shareButtonTitle:X.b({type:String}),shareButtonIsHidden:X.b({defaultValue:!1,type:Boolean}),shareButtonIsDisabled:X.b({defaultValue:!0,type:Boolean}),cancelButtonIsDisabled:X.b({defaultValue:!0,type:Boolean}),cancelButtonIsHidden:X.b({defaultValue:!1,type:Boolean}),doneButtonIsHidden:X.b({defaultValue:!1,type:Boolean}),username:X.b({type:String}),usernameIsHidden:X.b({defaultValue:!1,type:Boolean}),shouldShowSendingSpinner:X.b({defaultValue:!1,type:Boolean}),mailToLink:X.b(),sendShareButton:X.b({defaultValue:ut.b(Pi.a.extend({ariaLabel:a.d("CKSharing.AddParticipants.OKButton.Share.Title"),action:"sendShare",staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}}]}}},additionalClassNames:Mi.a(["primary"])})),downstreamBindings:{isHidden:"(owner).shareButtonIsHidden",isDisabled:"(owner).shareButtonIsDisabled",title:"(owner).shareButtonTitle"}}),mailToButton:X.b({readOnly:!0,dependencies:["mailToLink"],get:Object.assign((function(){var e=this;return fE.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}}]}}},ariaLabel:a.d("CKSharing.AddParticipants.OKButton.Share.Title"),action:"mailToLinkClicked",additionalClassNames:Mi.a(["primary"])}).create({link:this.mailToLink,target:{mailToLinkClicked:function(){return e.sendEvent("didCompleteSendMessage")}},isDisabled:this.bindingFor("shareButtonIsDisabled"),isHidden:this.bindingFor("shareButtonIsHidden"),title:this.bindingFor("shareButtonTitle")})}),{__CW__getter:function(e,t,n,i){var r=this;return fE.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}}]}}},ariaLabel:a.d("CKSharing.AddParticipants.OKButton.Share.Title"),action:"mailToLinkClicked",additionalClassNames:Mi.a(["primary"])}).create({link:i.internalGet(this,t[0+n]),target:{mailToLinkClicked:function(){return r.sendEvent("didCompleteSendMessage")}},isDisabled:this.bindingFor("shareButtonIsDisabled"),isHidden:this.bindingFor("shareButtonIsHidden"),title:this.bindingFor("shareButtonTitle")})}})}),transport:X.b(),shareButton:X.b({readOnly:!0,dependencies:["mailToLink","transport"],get:Object.assign((function(){var e=this.mailToLink,t=this.transport;return Nt.a(e)||t!==Zb.NATIVE_MAIL?this.sendShareButton:this.mailToButton}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[1+n]);return Nt.a(r)||a!==Zb.NATIVE_MAIL?this.sendShareButton:this.mailToButton}})}),doneButton:X.b({defaultValue:ut.b(Pi.a.extend({ariaLabel:a.d("CKSharing.Dialog.Button.Done"),title:a.d("CKSharing.Dialog.Button.Done"),action:"didCancelAddParticipant",isVisible:X.b(),staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"",falsevalue:"hidden",attributes:{}}]}}}})),downstreamBindings:{isVisible:"(owner).doneButtonIsHidden"}}),cancelButton:X.b({defaultValue:ut.b(dE),downstreamBindings:{isHidden:"(owner).cancelButtonIsHidden",isDisabled:"(owner).cancelButtonIsDisabled"}})}),mE=Pi.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOn",truevalue:"cw-on",attributes:{}}],attributes:{"aria-pressed":{type:"ATTRIBUTEOUTLET",bindingtype:"IFBINDING",name:"ariaPressed",truevalue:"true",falsevalue:"false",attributes:{},attribute:"aria-pressed"}}}},className:"cw-ui-views-controls-toggle-button",__QUALIFIED_CLASS_NAME__:"ToggleButton"},isOn:Object(X.b)(!1),wasActivated:function(){this.set("isOn",!this.get("isOn"))},ariaPressed:Object(J.c)("isOn")}),gE=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",name:"_buttons"}],classes:["cw-segmented-control",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"disabled",attributes:{}}]}},className:"cw-ui-views-controls-segmented",__QUALIFIED_CLASS_NAME__:"Segmented"},ariaRole:Object(X.b)("tablist"),value:Object(X.b)(),isDisabled:Object(X.b)({defaultValue:!1,type:"boolean"}),segments:Object(X.b)({get:function(e){return e},set:function(e){return Ir.a.create(e)}}),buttonClass:mE,_buttons:Object(X.b)(Object(ut.b)($i.b)),buttonAriaRole:Object(X.b)("tab"),_redraw:Object(Ni.f)("element","segments",(function(e,t){var n=this.get("_buttons");if(e&&n){if(n.beginBatchedChanges(),n.clear(),t)for(var i=t.get("length"),r=this.get("value"),a=0,o=i;a<o;a++){var s=t.objectAt(a),l=this.buttonClass.create({additionalClassNames:Object(Mi.a)(s.classNames||[]),title:s.title,value:s.value,icon:s.icon,isDisabled:this.bindingFor("isDisabled"),target:this,action:"didToggle",tooltip:s.tooltip,isOn:s.value===r,ariaRole:this.bindingFor("buttonAriaRole")}),c=l.get("element").classList;0===a?c.add("cw-first"):a===i-1&&c.add("cw-last"),n.push(l)}n.endBatchedChanges()}})),_updateButtonStates:Object(Ni.f)("value",(function(e){var t,n=this.get("_buttons");if(n)for(var i=0,r=n.get("length");i<r;i++)(t=n.objectAt(i)).set("isOn",t.get("value")===e),t.get("element").setAttribute("aria-selected",t.get("isOn"))})),didToggle:function(e){e&&this.set("value",e.get("value"))}}),vE=Ge.a.extend({computeConstraintWidthForItem:function(e){ze.b("ConstraintBasedEvenLayoutManager#computeConstraintWidthForItem must be implemented")},computeOuterWidthForItem:function(e){ze.b("ConstraintBasedEvenLayoutManager#computeOuterWidthForItem must be implemented")},resetLayout:function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t].style;i.marginLeft="",i.marginRight=""}},layoutItems:function(e){this.resetLayout(e);var t=this._determineMaxSpaceBetweenConstrainingElements(e);this._applyMaxSpaceBetweenConstrainingElements(e,t),this._ensureCentering(e)},_determineMaxSpaceBetweenConstrainingElements:function(e){for(var t=0,n=e.map(this.computeOuterWidthForItem.bind(this)),i=e.map(this.computeConstraintWidthForItem.bind(this)),r=1,a=e.length;r<a;r++){var o=n[r-1],s=(n[r]+o)/2-(i[r-1]+i[r])/2;t=Math.max(s,t)}return t},_applyMaxSpaceBetweenConstrainingElements:function(e,t){for(var n=e.map(this.computeOuterWidthForItem.bind(this)),i=e.map(this.computeConstraintWidthForItem.bind(this)),r=1,a=e.length;r<a;r++){var o=n[r-1],s=n[r],l=t-(o-i[r-1])/2-(s-i[r])/2;e[r].style.marginLeft=l+"px"}},_ensureCentering:function(e){if(e.length>1){var t=e[0],n=Math.max((this.computeOuterWidthForItem(t)-this.computeConstraintWidthForItem(t))/2,0),i=e[e.length-1],r=n-Math.max((this.computeOuterWidthForItem(i)-this.computeConstraintWidthForItem(i))/2,0);r>0?i.style.marginRight=r+"px":t.style.marginLeft=-r+"px"}},staticMembers:{__QUALIFIED_CLASS_NAME__:"ConstraintBasedEvenLayoutManager"}}).extend({computeConstraintWidthForItem:function(e){var t=globalThis.getComputedStyle(e,"::before").width;return Math.ceil(parseFloat(t))},computeOuterWidthForItem:function(e){return e.clientWidth},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransportsLayoutManager"}}),_E=gE.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"TransportsSegmentedView"},additionalClassNames:Mi.a(["ck-sharing-transports-view"]),isHidden:X.b({readOnly:!0,dependencies:["isLoading","segments"],get:Object.assign((function(){var e=this.segments;return this.isLoading||!e||e.length<=1}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[1+n]);return i.internalGet(this,t[0+n])||!r||r.length<=1}})}),isLoading:X.b(),buttonsObserver:Ni.f("_buttons","_buttons.contentsDidChange",(function(e,t){var n=this;if(e&&t){var i=this._buttonAttachmentObservers,r=this._buttons,a=this._layoutManager;t.context.forEach((function(t){var o=t.operation,s=t.index,l=e.objectAt(s);if(o===$i.b.INSERT){var c=l.observe("isAttached",(function(){var e=r.map((function(e){return e.element})).toArray();a.layoutItems(e),n.transportsSegmentedViewDidLayoutButtons(n)}));i.set(l,c)}else if(o===$i.b.REMOVE){var u=t.encodedItem,d=i.get(u);void 0!==d&&d.disconnect(),i.delete(u)}}))}})),init:function(){var e=this,t=arguments;this._layoutManager=vE.create(),this._buttonAttachmentObservers=new Map,e.__s._$uT$init.apply(e,t)},_layoutManager:Y.c({readOnly:!0,type:vE}),_buttonAttachmentObservers:Y.c({readOnly:!0,type:Map}),transportsSegmentedViewDidLayoutButtons:Ni.g(),__superMap:{_$uT$init:"init"}}),bE=uE.extend({init:function(e,t){this.shouldHideAddParticipantsSummary=e,this.__s._$DD$init.call(this,t)},shouldHideAddParticipantsSummary:X.b(!1),staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"headerView"},{type:"VIEWOUTLET",tagname:"view",name:"busyView"},{type:"VIEWOUTLET",tagname:"view",name:"offlineView"},{type:"VIEWOUTLET",tagname:"view",name:"transportsView"},{type:"VIEWOUTLET",tagname:"view",name:"invitationsTextField"},{type:"VIEWOUTLET",tagname:"view",name:"accessControlsSection"},{type:"VIEWOUTLET",tagname:"view",name:"footerView"}],classes:["workflow-screen","add-participants-view","sharing-dialog",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOffline",truevalue:"is-offline",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"AddParticipantsViewForMouse"},transportsView:X.b({defaultValue:ut.b(_E),readOnly:!0,downstreamBindings:{isLoading:"(owner).isLoading",value:"(owner).transport",segments:"(owner).transportItemsForDisplay",isDisabled:"(owner).isSavingShare"}}),accessControlsSection:X.b({readOnly:!0,defaultValue:ut.b(ey.extend({isToggleEnabled:!1})),downstreamBindings:{shouldHideAddParticipantsSummary:"(owner).shouldHideAddParticipantsSummary",isDisabled:"(owner).isSavingShare",accessDropdownValue:"(owner).accessDropdownValue",permissionDropdownValue:"(owner).permissionDropdownValue",isLoading:"(owner).isLoading",showPermissionsDropdown:"(owner).showPermissionsDropdown",supportedAccess:"(owner).supportedAccess",supportedPermissions:"(owner).supportedPermissions",summaryTextNoOption:"(owner).summaryTextNoOption",summaryTextWOption:"(owner).summaryTextWOption",transport:"(owner).transport"}}),shareButtonIsDisabled:X.b({dependencies:["transport","accessDropdownValue","isSavingShare","isLoading","sharePopoverIsActive","invitationsTextField.value","invitationsTextField.hasAtLeastOneValidToken","invitationsTextField.hasPendingTokens"],readOnly:!0,get:Object.assign((function(){if(this.isSavingShare||this.isLoading||this.sharePopoverIsActive)return!0;var e=[Zb.COPY_LINK,Zb.NATIVE_MAIL];if(this.accessDropdownValue!==Ks.PRIVATE||!e.includes(this.transport))return!1;var t=this.invitationsTextField;return!!t&&(!t.value||!!t.hasPendingTokens||!t.hasAtLeastOneValidToken)}),{__CW__getter:function(e,t,n,i){if(i.internalGet(this,t[2+n])||i.internalGet(this,t[3+n])||i.internalGet(this,t[4+n]))return!0;var r=[Zb.COPY_LINK,Zb.NATIVE_MAIL];if(i.internalGet(this,t[1+n])!==Ks.PRIVATE||!r.includes(i.internalGet(this,t[0+n])))return!1;var a=this.invitationsTextField;return!!a&&(!a.value||!!a.hasPendingTokens||!a.hasAtLeastOneValidToken)}})}),isCancelButtonDisabled:X.b({dependencies:["isSavingShare","sharePopoverIsActive"],readOnly:!0,get:Object.assign((function(){return this.isSavingShare||this.sharePopoverIsActive}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])||i.internalGet(this,t[1+n])}})}),username:X.b({readOnly:!0,dependencies:["loggedInUserInfo"],get:Object.assign((function(e){var t=this.loggedInUserInfo;if(t){var n=t.displayName,i=t.appleId;if(n&&i)return a.d("CKSharing.AddParticipants.CurrentlyLoggedUser.NameAndAppleId",{displayName:n,appleId:i});if(n||i)return a.d("CKSharing.AddParticipants.CurrentlyLoggedUser.NameOrAppleId",{nameOrAppleId:n||i})}return""}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(r){var o=r.displayName,s=r.appleId;if(o&&s)return a.d("CKSharing.AddParticipants.CurrentlyLoggedUser.NameAndAppleId",{displayName:o,appleId:s});if(o||s)return a.d("CKSharing.AddParticipants.CurrentlyLoggedUser.NameOrAppleId",{nameOrAppleId:o||s})}return""}})}),footerView:X.b({defaultValue:ut.b(pE),downstreamBindings:{shareButtonTitle:"(owner).shareButtonTitle",shareButtonIsHidden:"(owner).isOffline",shareButtonIsDisabled:"(owner).shareButtonIsDisabled",doneButtonIsHidden:"(owner).isOffline",username:"(owner).username",usernameIsHidden:"(owner).shouldShowUserName",cancelButtonIsDisabled:"(owner).isCancelButtonDisabled",cancelButtonIsHidden:"(owner).isOffline",shouldShowSendingSpinner:"(owner).shouldShowSendingSpinner",transport:"(owner).transport"}}),_updateLayout:Ni.f({inputs:["isAttached","transport","transportsView.transportsSegmentedViewDidLayoutButtons","shouldShowParticipantsEntry"],callback:function(e,t,n){if(e){var i=this.element,r=this.invitationsTextField;if(void 0!==jr.a(n,"context")){var a=i.style,o=r.element.style;a.maxWidth="",o.maxWidth="0px";var s=i.clientWidth;"number"===typeof s&&0!==s&&(a.maxWidth=s+"px"),o.maxWidth=""}this.sendEvent("contentDidResize"),t===Zb.COPY_LINK&&r&&r.focus()}}}),__superMap:{_$DD$init:"init"}}),yE=Di.a.extend({staticMembers:{template:{type:"MULTIVIEWOUTLET",tagname:"views",name:"buttons",attributes:{tagName:"footer"}},__QUALIFIED_CLASS_NAME__:"AddParticipantsFooterViewForTouch"},transportItemsForDisplay:X.b(),shouldTransportButtonsBeDisabled:X.b(),buttons:X.b({readOnly:!0,dependencies:["transportItemsForDisplay","mailToLink"],get:Object.assign((function(){var e=this,t=$i.b.create(),n=this.transportItemsForDisplay;if(n&&n.length>0){for(var i=0,r=n.length;i<r;i++){var o=n.objectAt(i),s=void 0;if(o.value!==Zb.NATIVE_MAIL||Nt.a(this.mailToLink))s=Pi.a.create({additionalClassNames:Mi.a([o.value.toLowerCase()]),title:o.title,action:"setTransportAndSendShare",isDisabled:J.c("parent.shouldTransportButtonsBeDisabled"),context:o.value});else{var l=this.mailToLink;s=fE.create({link:l,additionalClassNames:Mi.a([o.value.toLowerCase()]),title:a.d("ConfirmNativeMail.ConfirmButton"),action:"notificationDidComplete",target:{notificationDidComplete:function(){return e.sendEvent("didCompleteSendMessage")}},isDisabled:J.c("parent.shouldTransportButtonsBeDisabled")})}t.push(s)}t.push(dE.create())}return t}),{__CW__getter:function(e,t,n,i){var r=this,o=$i.b.create(),s=i.internalGet(this,t[0+n]);if(s&&s.length>0){for(var l=0,c=s.length;l<c;l++){var u=s.objectAt(l),d=void 0;if(u.value!==Zb.NATIVE_MAIL||Nt.a(i.internalGet(this,t[1+n])))d=Pi.a.create({additionalClassNames:Mi.a([u.value.toLowerCase()]),title:u.title,action:"setTransportAndSendShare",isDisabled:J.c("parent.shouldTransportButtonsBeDisabled"),context:u.value});else{var h=i.internalGet(this,t[1+n]);d=fE.create({link:h,additionalClassNames:Mi.a([u.value.toLowerCase()]),title:a.d("ConfirmNativeMail.ConfirmButton"),action:"notificationDidComplete",target:{notificationDidComplete:function(){return r.sendEvent("didCompleteSendMessage")}},isDisabled:J.c("parent.shouldTransportButtonsBeDisabled")})}o.push(d)}o.push(dE.create())}return o}})}),mailToLink:X.b()}),SE=uE.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"headerView"},{type:"VIEWOUTLET",tagname:"view",name:"busyView"},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"sendingSpinnerView"},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"spinnerLabel",attributes:{}}]}],classes:["sending-spinner-wrapper"]},{type:"VIEWOUTLET",tagname:"view",name:"offlineView"},{type:"VIEWOUTLET",tagname:"view",name:"footerView"}],classes:["workflow-screen","add-participants-view","sharing-dialog",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOffline",truevalue:"is-offline",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldShowSendingSpinner",truevalue:"is-sending-share",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"AddParticipantsViewForTouch"},sendingSpinnerView:X.b({downstreamBindings:{isVisible:"(owner).shouldShowSendingSpinner"},defaultValue:ut.b(oy.a.extend({additionalClassNames:["sending-spinner"],primaryInteractionMode:X.b(),size:hE.TOUCH_PRIMARY}))}),spinnerLabel:X.b(a.d("CKSharing.Sending.Description")),shouldTransportButtonsBeDisabled:X.b({readOnly:!0,dependencies:["isLoading","isSavingShare"],get:Object.assign((function(){return this.isLoading||this.isSavingShare}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])||i.internalGet(this,t[1+n])}})}),footerView:X.b({defaultValue:ut.b(yE),downstreamBindings:{transportItemsForDisplay:"(owner).transportItemsForDisplay",shouldTransportButtonsBeDisabled:"(owner).shouldTransportButtonsBeDisabled"}})}),IE=Qb.a.extend({blob:null,body:Y.c({get:function(){return this.blob}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ImageDataResponse"}}),wE=Nm.a.extend({prepare:function(){var e=this,t=arguments,n=e.__s._$35$prepare.apply(e,t);return n.responseType="blob",n},createResponse:function(e){return IE.create({status:e?e.status:0,blob:e?e.response:null,headers:e?e.getAllResponseHeaders():null})},__superMap:{_$35$prepare:"prepare"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ImageDataTransport"}}),EE=uw.extend(Ni.a,{handlesType:er.READ.LOAD,service:Y.c(),action:function(e,t){var n=this.service;bt.a(n)||ze.b("Unable to perform LoadImageOperationHandler action without a service");var i=e.contact;if(!i.photo)return Z.a.resolve(i);var r=this.createRequest.bind(this);function a(e){if(200===e.status)return i.imageData=e.blob,i;throw new Error("Bad server response trying to load photo for contact")}return function(){var e=r(i.photo.url);return n.processor.enqueue((function(){return e.send()}))}().then(a).catch(a)},createRequest:function(e){return this.service.createRequest(null,null,{url:e,transport:wE.sharedInstance})},staticMembers:{__QUALIFIED_CLASS_NAME__:"LoadImageOperationHandler"}}),CE=Ge.a.extend({init:function(e){this.message=e,this.__s._$2T$init.call(this)},message:Y.c(),__superMap:{_$2T$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Error"}}),AE=CE.extend({staticMembers:{__QUALIFIED_CLASS_NAME__:"ServerTokenError"}}),TE=CE.extend({staticMembers:{__QUALIFIED_CLASS_NAME__:"ServerError"}}),OE=uw.extend(Ni.a,{handlesType:er.READ.LIST,service:Y.c(),action:function(e,t){var n=e.locale,i=e.sortOrder,r=e.includePhoneNumbers,a=e.includePhotos,o=this,s=function(){var e=o._lastSyncToken,t=o._lastPrefToken;return null!==o._lastSyncToken&&null!==o._lastPrefToken?o._syncTokenInUse=!0:o._syncTokenInUse=!1,o.createRequest(e,t,i,n,r,a).send()},l=function n(i){if(Se.a(i,TE))throw new Error("Unexpected server error trying to load contacts data.");if(Se.a(i,AE))return o._lastSyncToken=null,o._lastPrefToken=null,s().then(o.handleCompletion).then(n);if(i){var r=i.syncToken,a=i.prefToken;return r&&a?(o._lastSyncToken=r,o._lastPrefToken=a):!r&&a?(o._lastSyncToken=null,o._lastPrefToken=null,Re.b.error("Autocomplete contacts response error:  no sync token found.")):r&&!a&&(o._lastSyncToken=null,o._lastPrefToken=null,Re.b.errror("Autocomplete contacts response error: no prefToken found.")),!o._syncTokenInUse&&o._lastSyncToken&&o._lastPrefToken&&o.service.processor.enqueue((function(){return o.action(e,t)})),Z.a.resolve(i.contacts)}},c=o.service;return s().then(o.handleCompletion).then(l).then((function(e){return bt.a(e)?c.processContactRecords(e):Z.a.resolve()})).catch(o.handleCompletion).then(l)},createRequest:function(e,t,n,i,r,a){var o={locale:i.replace(/(.*)-(.*)$/,(function(e,t,n){return t+"_"+n.toUpperCase()})),order:n.value,includePhoneNumbers:r,includePhotos:a};return null!==e&&null!==t&&(o.syncToken=e,o.prefToken=t),this.service.createRequest("contacts","/co/addressbook",{queryObject:o})},handleCompletion:function(e){var t=e.status,n=100*Math.floor(t/100),i=e.encodedBody;if(200===n){if(i){if(0===i.indexOf("<"))return TE.create("Error.Generic");if("not found"===i)return TE.create("Error.NotFound");var r=e.body;return r?r.errorValue?TE.create(r.errorValue):r:TE.create("Error.Generic")}return TE.create("No encoded body in response")}switch(t){case 420:case 422:return AE.create(i);default:return TE.create(i)}},_syncTokenInUse:X.b(null),_lastSyncToken:X.b(null),_lastPrefToken:X.b(null),staticMembers:{__QUALIFIED_CLASS_NAME__:"LoadOperationHandler"}}),DE={"\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9",a:"2",b:"2",c:"2",d:"3",e:"3",f:"3",g:"4",h:"4",i:"4",j:"5",k:"5",l:"5",m:"6",n:"6",o:"6",p:"7",q:"7",r:"7",s:"7",t:"8",u:"8",v:"8",w:"9",x:"9",y:"9",z:"9"},ME=Ge.a.extend(Me.a,{staticMembers:{dequeuedErrorMessage:"Action dequeued from `%{processorClassName}` queue",canceledErrorMessage:"Action canceled from `%{processorClassName}` while active",__QUALIFIED_CLASS_NAME__:"BaseProcessor"},processAction:De.a.define(),maxConcurrentActions:Object(Y.c)({defaultValue:5,set:function(e){var t=this._maxConcurrentActions;return void 0!==t&&e>t&&(this.needsProcessing=!0),e}}),enqueue:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e=this.preprocessActionData?this.preprocessActionData.apply(this,n):n;var r=Z.a.create();return this.enqueueActionData(e,this._queue),this._actionDataToPromiseMap.set(e,r),this._promiseToActionDataMap.set(r,e),this.needsProcessing=!0,r},preprocessActionData:null,enqueueActionData:function(e,t){t.push(e)},dequeue:function(e,t){var n=this._queue,i=this._promiseToActionDataMap.get(e);return-1!==n.indexOf(i)&&(t=void 0!==t?t:this.payloadForDequeue(i),e.reject(t),this._clearQueuedAction(i,e),!0)},cancel:function(e,t){if(this.dequeue(e,t))return!0;var n=this._promiseToActionDataMap.get(e);return this._active.indexOf(n)>-1&&(t=void 0!==t?t:this.payloadForCancel(n),e.reject(t),this._clearActiveAction(n,e),this.needsProcessing=!0,!0)},payloadForDequeue:function(e){return new ze.a(this.constructor.dequeuedErrorMessage,{processorClassName:Object(ct.a)(this),processor:this,action:e})},payloadForCancel:function(e){return new ze.a(this.constructor.canceledErrorMessage,{processorClassName:Object(ct.a)(this),processor:this,action:e})},clearQueue:function(e){for(var t=this._queue,n=this._actionDataToPromiseMap,i=this._promiseToActionDataMap,r=0,a=t.length;r<a;r++){var o=t[r];e=void 0!==e?e:this.payloadForDequeue(o);var s=n.get(o);s.reject(e),n.delete(o),i.delete(s)}t.length=0},abort:function(e){this.clearQueue(e);for(var t=this._active,n=this._actionDataToPromiseMap,i=this._promiseToActionDataMap,r=0,a=t.length;r<a;r++){var o=t[r];e=void 0!==e?e:this.payloadForCancel(o);var s=n.get(o);s.reject(e),n.delete(o),i.delete(s)}t.length=0},needsProcessing:Object(Y.c)({defaultValue:!1,set:function(e){return e?this._processingTimer.start():this._processingTimer.stop(),e}}),process:function(e,t){this.willProcess(e,t);for(var n=this._shouldSpreadActionData,i=0;this.shouldContinueProcessing(e,i,t);){var r=e[i];if(this.shouldProcessAction(r,e,t)){e.splice(i,1),t.push(r);var a;a=n&&r?this.processAction.apply(this,r):this.processAction(r),this.completeAction(r,a),this.didProcessAction(r,e,t)}else i+=1}this.didProcess(e,t)},willProcess:Vr.a,shouldContinueProcessing:function(e,t,n){return e.length>t&&n.length<this.maxConcurrentActions},shouldProcessAction:function(e,t,n){return!0},completeAction:function(e,t){"object"===typeof t&&"function"===typeof t.then?t.then(this._resolveAction.bind(this,e),this._rejectAction.bind(this,e)):Object(ft.a)(this._resolveAction.bind(this,e,t),0)},didProcessAction:Vr.a,didProcess:Vr.a,init:function(){var e=this,t=arguments;e.__s._$84S$init.apply(e,t),null===this._shouldSpreadActionData&&(this._shouldSpreadActionData=!this.preprocessActionData)},_shouldSpreadActionData:null,_queue:Object(ut.b)(Array),_active:Object(ut.b)(Array),_promiseToActionDataMap:Object(ut.b)(Map),_actionDataToPromiseMap:Object(ut.b)(Map),_resolveAction:function(e,t){var n=this._actionDataToPromiseMap.get(e);this._clearActiveAction(e,n),this.needsProcessing=!0,n.resolve(t)},_rejectAction:function(e,t){var n=this._actionDataToPromiseMap.get(e);this._clearActiveAction(e,n),this.needsProcessing=!0,n.reject(t)},_clearQueuedAction:function(e,t){var n=this._queue,i=n.indexOf(e);n.splice(i,1),this._actionDataToPromiseMap.delete(e),this._promiseToActionDataMap.delete(t)},_clearActiveAction:function(e,t){var n=this._active,i=n.indexOf(e);n.splice(i,1),this._actionDataToPromiseMap.delete(e),this._promiseToActionDataMap.delete(t)},_processingTimer:Object(ut.b)(yh.a,{delay:0,timesToFire:1,action:"_reprocess"}),_reprocess:function(){this.process(this._queue,this._active),this.needsProcessing=!1},__superMap:{_$84S$init:"init"}}).extend({processAction:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.apply(void 0,n)},staticMembers:{__QUALIFIED_CLASS_NAME__:"Processor"}}),NE=Ge.a.extend(Ni.a,wo.a,{createRequest:function(e,t,n){var i;return i=n.url?n.url:D_.create({pathname:t,serviceName:e,queryObject:n.queryObject}),F_.create({url:i,transport:n.transport,useCredentialsIfCrossOrigin:!0})},getContactFor:function(e){var t=vw.find(e,this._store);return bt.a(t)&&!bt.a(t.service)&&(t.service=this),t},lookUpContactByEmailAddress:function(e){return this.loadAllMetadata().then(function(){var t=this._contactsIndexedByEmailAddress[e];return bt.a(t)&&1===t.length?this.getContactFor(t.toArray()[0]):null}.bind(this))},lookUpContactByPhoneNumber:function(e){return this.loadAllMetadata().then(function(){var t=this._contactsIndexedByPhoneNumber[e];return bt.a(t)&&1===t.length?this.getContactFor(t.toArray()[0]):null}.bind(this))},loadMetadataFor:function(e){var t=this.getContactFor(e);return this.loadAllMetadata().then((function(){return t}))},loadImageDataFor:function(e){var t=this,n=vw.STATES,i=this.getContactFor(e);if(this.getStateFor(e).value>=n.IMAGE_DATA_LOADING.value)return this._imageDataLoadingPromises[e];this.setImageLoadingFor(e);var r=this,a=this.processor.enqueue((function(){return t.loadImageOperationHandler.action({contact:i})})).then((function(){r.setImageLoadedFor(e)})).catch((function(e){Re.b.warn("Unable to load image data for contactId: "+i.contactId,e)}));return this._imageDataLoadingPromises[e]=a,a},loadAllMetadata:function(){var e=this;return bt.a(this._metadataPromise)||(this._metadataPromise=this.processor.enqueue((function(){return e.loadOperationHandler.action({locale:a.c(),sortOrder:e._sortOrder,includePhoneNumbers:!0,includePhotos:!0})}))),this._metadataPromise.catch((function(e){Re.b.warn("Unable to load contacts metadata.",e)}))},getStateFor:function(e){var t=this._imageLoadingStates[e],n=this._isMetadataLoaded;return n||e===this._meCardId?!n&&e!==this._meCardId||bt.a(t)?bt.a(t)?t:null:vw.STATES.META_DATA_LOADED:vw.STATES.NOT_LOADED},setImageLoadingFor:function(e){var t=vw.STATES;this.getStateFor(e).value<t.META_DATA_LOADED.value&&ze.b("Unable to set image to loading state without loading metadata for contactId=%{id}",{id:e}),this._imageLoadingStates[e]=t.IMAGE_DATA_LOADING},setImageLoadedFor:function(e){var t=vw.STATES;this.getStateFor(e).value<t.IMAGE_DATA_LOADING.value&&ze.b("Unable to set image to loaded state without loading metadata for contactId=%{id}",{id:e}),this._imageLoadingStates[e]=t.IMAGE_DATA_LOADED},processContactRecords:function(e){for(var t=0,n=(e=e.filter((function(e){var t=e.emailAddresses,n=e.phones;return t&&Array.isArray(t)||n&&Array.isArray(n)}))).length;t<n;t++){var i=e[t],r=i.emailAddresses,a=i.phones;r&&(i.emailAddresses=r.filter((function(e){return bt.a(e.field)}))),a&&(i.phones=a.filter((function(e){return bt.a(e.field)})))}return this.loadData(e)},loadData:function(e){return Z.a.invokeFunction(function(){this._isMetadataLoaded=!0;for(var t=this._store,n=0,i=e.length;n<i;n++){var r=e[n],a=r.contactId,o=r.emailAddresses,s=r.phones,l=this;o&&o.forEach((function(e){var t=e.field,n=l._contactsIndexedByEmailAddress,i=n[t];bt.a(i)?i.add(a):n[t]=sa.create([a])})),s&&s.forEach((function(e){var t,n=(t=(t=((t=e.field)||"").toLowerCase()).replace(/./g,(function(e){return DE[e]||e})))&&t.replace(/[^0-9+]/g,""),i=l._contactsIndexedByPhoneNumber,r=i[n];bt.a(r)?r.add(a):i[n]=sa.create([a])}));var c=Cr.getStoreIdForPrimaryKey(vw,a);t.hasDataFor(c)||t.writeData(c,r)}}.bind(this))},loadMeCard:function(e){var t=this._meCardId;e.contactId=t;var n=this._store,i=Cr.getStoreIdForPrimaryKey(vw,t);n.writeData(i,e)},getMeCard:function(){var e=this._meCardId,t=this.getContactFor(e);return bt.a(t)?t:(this._store.writeData(e,{}),this.getContactFor(e))},loadOperationHandler:X.b({defaultValue:function(){return OE.create({service:this})}}),loadImageOperationHandler:X.b({defaultValue:function(){return EE.create({service:this})}}),processor:ut.b(ME),_store:ut.b(Cr),_contactsIndexedByEmailAddress:ut.b(sa),_contactsIndexedByPhoneNumber:ut.b(sa),_imageLoadingStates:ut.b(Object),_imageDataLoadingPromises:ut.b(Object),_metadataPromise:null,_isMetadataLoaded:X.b(!1),_sortOrder:X.b({readOnly:!0,get:function(){return Cw()}}),_meCardId:"MECARD",staticMembers:{__QUALIFIED_CLASS_NAME__:"ContactsService"}}),FE={TOUCH:"TOUCH",MOUSE:"MOUSE"};Object.freeze(FE);var LE=NE.extend({createRequest:function(e,t,n){var i,r=n.queryObject;return i=n.url||hu.a.create({hostname:as(e),pathname:t.slice(1),queryObject:r}),rE.create(Object.assign({},n,{url:i,useCredentialsIfCrossOrigin:!0}))},staticMembers:{__QUALIFIED_CLASS_NAME__:"Cosk2ContactsService"}}),RE=FE.MOUSE,xE=[Gs.READ_WRITE,Gs.READ_ONLY],PE=[Ks.PRIVATE,Ks.PUBLIC],kE=[Zb.COPY_LINK],UE={keynote:"Keynote",notes:"Notes",numbers:"Numbers",pages:"Pages",iclouddrive:"Drive.File",share:"CloudKit",photos:"Photos"},jE=Ge.a.extend(Ni.a,{staticMembers:{fromJSON:function(e){return $E.call(this,e)},__QUALIFIED_CLASS_NAME__:"Settings"},appName:X.b(),addParticipantsPaneTitle:X.b({defaultValue:a.d("CKSharing.AddParticipants.Title.AddPeople")}),initiateSharePaneTitle:X.b({defaultValue:a.d("CKSharing.InitiateShare.Title")}),initiateSharePaneSubtitle:X.b({defaultValue:null}),shouldHideAddParticipantsSummary:X.b(!1),manageSharePaneTitle:X.b({defaultValue:a.d("CKSharing.ManageShare.Title")}),recordHasShare:X.b(!1),useAnonymousPublicAccess:X.b(!1),sendLinkPaneTitle:X.b({defaultValue:a.d("CKSharing.AddParticipants.Title.SendLink")}),shareUrlNamespace:X.b("share"),shareItemType:X.b({readOnly:!0,dependencies:["shareUrlNamespace"],get:Object.assign((function(){var e=this.configurableShareItemType;if(bt.a(e))return e;var t=this.shareUrlNamespace,n=UE[t];return void 0===n&&ze.b("Unknown shareUrlNamespace %{type}",{type:t}),n}),{__CW__getter:function(e,t,n,i){var r=this.configurableShareItemType;if(bt.a(r))return r;var a=i.internalGet(this,t[0+n]),o=UE[a];return void 0===o&&ze.b("Unknown shareUrlNamespace %{type}",{type:a}),o}})}),configurableShareItemType:null,CustomLoadMembershipInfoHandlerClass:X.b(),CustomAutocompleteDataSourceClass:X.b(),additionalButtonTitle:X.b(),additionalButtonWasPressed:null,canonicalizePhoneNumberRequestGenerationFunction:null,contactsService:X.b({get:function(){return this.hostedByCloudOSOne?NE.sharedInstance:LE.sharedInstance}}),defaultAccess:X.b({readOnly:!0,dependencies:["supportedAccess"],get:Object.assign((function(e){return e||this.supportedAccess[0]}),{__CW__getter:function(e,t,n,i){return e||i.internalGet(this,t[0+n])[0]}})}),defaultPermission:X.b({readOnly:!0,dependencies:["supportedPermissions"],get:Object.assign((function(e){return e||this.supportedPermissions[0]}),{__CW__getter:function(e,t,n,i){return e||i.internalGet(this,t[0+n])[0]}})}),logService:X.b(),loggedInUserIdentity:X.b(),isAXMServiceAvailable:X.b(),notificationService:X.b(),didUpdateRootRecord:null,provideLinkRecord:function(){return Z.a.resolve(o.okResult(null))},didUpdateLinkRecord:null,provideLatestLinkRecordAfterConflict:null,provideBodyForTransport:function(e,t){return Z.a.resolve(void 0)},provideSubjectForMail:function(){return Z.a.resolve(void 0)},provideLatestRootRecordAfterUpdateConflict:null,shareRecordFields:X.b(ut.b(Object)),proposedShareRecordName:X.b(),shareThumbnail:X.b({didChange:function(e){e&&(this.shareRecordFields["cloudkit.thumbnailImageData"]={value:e})}}),maxNumberOfInvitees:X.b(100),shareTitle:X.b({get:function(e){return e},set:function(e){if(e){var t={Pages:"pages",Numbers:"numbers",Keynote:"key"}[this.shareItemType];if(t){var n=RegExp("\\."+t+"$","g");e=e.replace(n,""),this.shareType=t}return e}},didChange:function(e){e&&(this.shareRecordFields["cloudkit.title"]={value:e})}}),shareType:X.b({didChange:function(e){e&&(this.shareRecordFields["cloudkit.type"]={value:e})}}),shareUrl:X.b(),shareUrlDescription:X.b(),sharingUIIsReady:null,supportedAccess:X.b({defaultValue:ut.b(PE)}),supportedPermissions:X.b({defaultValue:ut.b(xE)}),supportedTransports:X.b({defaultValue:ut.b(kE)}),supportsNativeMail:X.b(!1),isAuthenticated:X.b(!0),isChinaAuthUser:Y.c(!1),hostedByCloudOSOne:X.b(!0),willUpdateShareRecord:null,didUpdateShareRecord:null,primaryInteractionMode:X.b(RE),database:null,supportsAccess:function(e){return this.supportedAccess&&-1!==this.supportedAccess.indexOf(e)},supportsPermission:function(e){return this.supportedPermissions&&-1!==this.supportedPermissions.indexOf(e)},supportsTransport:function(e){return this.supportedTransports&&-1!==this.supportedTransports.indexOf(e)}}),BE=["supportedAccess","supportedPermissions","sharingUIIsReady","additionalButtonWasPressed","recordHasShare","shareRecordFields","provideRootRecordForUpdate","provideLatestRootRecordAfterUpdateConflict","provideLinkRecord","didUpdateLinkRecord","provideLatestLinkRecordAfterConflict","didUpdateRootRecord","willUpdateShareRecord","didUpdateShareRecord","provideBodyForTransport","supportsSchoolwork","provideSubjectForMail","database","isChinaAuthUser","hostedByCloudOSOne","supportsNativeMail","supportedTransports","notificationService","loggedInUserIdentity","logService"],VE=["appName","additionalButtonTitle","configurableShareItemType","initiateSharePaneSubtitle","initiateSharePaneTitle","shareUrl","shareUrlNamespace","shareUrlDescription","primaryInteractionMode","shareTitle","shareType","shareThumbnail"];function $E(e){var t=this.create();return ue.a(e)&&(BE.forEach((function(n){void 0!==e[n]&&(t[n]=e[n])})),VE.forEach((function(n){Ke.a(e[n])&&(t[n]=e[n])}))),t}function WE(e,t,n){if(!bt.a(e))return"";var i=e.loggedInUserCanEditShare,r="CKSharing.SummaryText";switch(r+=i?".OwnerAdmin":".Participant",r+=e.isPublic?".Public":".Private",n||e.effectivePermission){case Gs.READ_WRITE:r+=".RW";break;case Gs.READ_ONLY:r+=".RO";break;case Gs.UNKNOWN:r+=".Mixed"}return i?a.d(r+"."+t):a.d(r,{ownerName:e.owner.displayName})}function zE(e,t){return t.indexOf(e)<0?t[0]:e}function GE(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var HE=globalThis.Error,KE=function(e,t){this.name="CKSharing.Error",this.message=e||"",this.context=t,this.stack=(new HE).stack};(KE.prototype=Object.create(HE.prototype)).constructor=KE;var QE=function(e){function t(t,n,i){var r;return(r=e.call(this,t,i)||this).response=n,r.errors=n&&n.errors||[],r}return GE(t,e),t}(KE);function qE(e){var t=e;if(!(e instanceof KE)){var n=e||{},i={message:n.message,errors:[n],hasErrors:!0};throw new QE("CloudKit request failed",i)}throw t}function YE(e){if(e.hasErrors)throw new QE("Received CloudKit errors in response",e);return e}var XE=function(e){function t(){return e.apply(this,arguments)||this}return GE(t,e),t}(KE);function JE(e){var t=e;if(!(e instanceof KE)){var n={message:(e||{}).message};t=new XE("Customer error encountered",n)}throw t}function ZE(e){return e.serverErrorCode||e.ckErrorCode}function eC(e,t,n){return function(i){if(!(i.isCKError||i instanceof XE))throw i;var r,a={locNamespace:"CKSharing.ErrorDialog",interactionMode:e.interactionMode},o=ZE(i),s=CloudKit.CKError,l=e.operationType,c=i.ckErrorCode;if("POLL_SHARE"!==l){switch(o){case s.ACCESS_DENIED:case"MANAGED_APPLE_ID_RESTRICTED":r=s.ACCESS_DENIED,a.descriptionLocSuffix="Description."+e.appName;break;case s.AUTHENTICATION_FAILED:case s.AUTHENTICATION_REQUIRED:throw i;case s.CONFLICT:case"OP_LOCK_FAILURE":case s.NOT_FOUND:r=l,"INVITE_TO_PUBLIC"!==l&&"SEND_LINK"!==l||(a.messageLocSuffix="Message."+e.appName),a.descriptionKey=s.CONFLICT;break;case s.ZONE_NOT_FOUND:r=e.operationType,a.descriptionKey=s.NOT_FOUND,a.descriptionLocSuffix="Description."+e.appName;break;default:if(r=e.operationType,"INVITE_TO_PUBLIC"!==l&&"SEND_LINK"!==l||(a.messageLocSuffix="Message."+e.appName),a.descriptionKey=s.UNKNOWN_ERROR,n){var u,d=i.isCKError?" response from the server.":" response from the customer";u={name:i.name,message:i.message,ckErrorCode:c,operationType:l},n.recordStat("CloudKit Sharing Framework: Unhandled "+c+d,u)}}t&&t.error(r,a)}}}function tC(e){return Se.a(e,Xv)}function nC(e){return Se.a(e,lu)}var iC={removeIsReadyToTerminateBlock:function(e){var t=dt.a.application;tC(t)?t.removeIsReadyToTerminateBlock(e):nC(t)&&t.parentProxy.isReadyToTerminateDidChange(!0)},setIsReadyToTerminateBlock:function(e){var t=dt.a.application;tC(t)?t.setIsReadyToTerminateBlock(e):nC(t)&&t.parentProxy.isReadyToTerminateDidChange(!1)}},rC=ne.b("ShareState",{NONE:0,NEW:1,NEW_SAVING:2,LOADING:3,LOADED:4,LOADED_DIRTY:5,LOADED_SAVING:6,DESTROYING:7,DESTROYED:8}),aC=ne.b("OperationType",{INITIATE_SHARE:"CREATE",ADD_PARTICIPANTS:"ADD_PEOPLE_TO",MANAGE_SHARE:"UPDATE"}),oC={mixinDependencies:[Me.a],ioService:X.b({strong:!0}),isLoading:X.b({dependencies:["state"],readOnly:!0,get:Object.assign((function(){return this.state===rC.LOADING}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===rC.LOADING}})}),isDestroying:X.b({dependencies:["state"],readOnly:!0,get:Object.assign((function(){return this.state===rC.DESTROYING}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===rC.DESTROYING}})}),isSavingShare:X.b({dependencies:["state"],readOnly:!0,get:Object.assign((function(){return this.state===rC.NEW_SAVING||this.state===rC.LOADED_SAVING}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===rC.NEW_SAVING||i.internalGet(this,t[0+n])===rC.LOADED_SAVING}})}),cacheingProvideRootRecordFunction:null,setUp:De.a.define(),settings:X.b({type:jE}),share:X.b(null),state:X.b({dependencies:["_state"],readOnly:!0,get:Object.assign((function(){return this._state}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])}})}),_state:X.b({defaultValue:rC.NONE}),permissionValueForAddingParticipants:X.b(),summaryTextWOption:X.b({readOnly:!0,dependencies:["permissionValueForAddingParticipants","settings.defaultPermission","share","share.loggedInUserCanEditShare","share.isPublic","share.effectivePermission","share.owner","share.owner.displayName"],get:Object.assign((function(){return WE(this.share,"WOption",this._computePermissionForSummaryText())}),{__CW__getter:function(e,t,n,i){return WE(i.internalGet(this,t[2+n]),"WOption",this._computePermissionForSummaryText())}})}),summaryTextNoOption:X.b({readOnly:!0,dependencies:["permissionValueForAddingParticipants","settings.defaultPermission","share","share.loggedInUserCanEditShare","share.isPublic","share.effectivePermission","share.owner","share.owner.displayName"],get:Object.assign((function(){return WE(this.share,"NoOption",this._computePermissionForSummaryText())}),{__CW__getter:function(e,t,n,i){return WE(i.internalGet(this,t[2+n]),"NoOption",this._computePermissionForSummaryText())}})}),_computePermissionForSummaryText:function(){var e=this.permissionValueForAddingParticipants,t=this.share,n=t&&t.effectivePermission;e&&n!==Gs.UNKNOWN||(e=n);var i=this.settings;return e||i&&i.defaultPermission}},sC=ri.a.extend(oC,iC,{operationType:Y.c(),transport:X.b(),cancelOnUnrecoverableError:function(e){var t=e.error;this.sendEvent("cancel",t)},_createShare:function(e){var t=this;this.setIsReadyToTerminateBlock("_createShare");var n=this.share,i=this.cacheingProvideRootRecordFunction,r=this.settings,a={didUpdateRootRecord:r.didUpdateRootRecord,provideRootRecordForUpdate:i,provideLatestRootRecordAfterUpdateConflict:r.provideLatestRootRecordAfterUpdateConflict},o={didUpdateRootRecord:r.didUpdateRootRecord,provideRootRecordForUpdate:i,provideLatestRootRecordAfterUpdateConflict:r.provideLatestRootRecordAfterUpdateConflict,didUpdateShareRecord:r.didUpdateShareRecord},s=r.proposedShareRecordName,l=this.ioService,c=null==n.shortGUID?i().then((function(e){return l.createShortGUID(e,a)})):i();this._state=rC.NEW_SAVING;var u=c.then((function(e){n.forRecord=e})).then(l.createShare.bind(l,o,s)).then((function(e){return t._state=rC.LOADED,t.share=e,e}));if(e)return u.finally((function(){t.removeIsReadyToTerminateBlock("_createShare")}));var d={operationType:"INVITE_TO_"+(n.isPublic?"PUBLIC":"PRIVATE.VIA_UNKNOWN"),appName:r.shareItemType,interactionMode:r.primaryInteractionMode};return u.catch(eC(d,r.notificationService,r.logService)).finally((function(){t.removeIsReadyToTerminateBlock("_createShare")}))},validateInviteesToAddToShare:function(e,t){return!this.checkAndDisplayErrorForInvalidInvitees(e,t)&&(this.checkIfAllInviteesAreCurrentUser(e)?(t&&(n="ADDED_ONLY_YOURSELF_EMAIL"),this.settings.notificationService.error("ADDED_ONLY_YOURSELF",{locNamespace:"CKSharing.ErrorDialog",descriptionKey:n}),!1):!this.checkIfTooManyInvitees(this.share,e)||(this.settings.notificationService.error("TOO_MANY_INVITEES",{locNamespace:"CKSharing.ErrorDialog"}),!1));var n},checkIfTooManyInvitees:function(e,t){if(!e||e.isPublic)return!1;var n=e.participants,i=(n.length||0)-1;i+=t&&t.length||0;var r={};n.forEach((function(e){var t=e.userIdentity;r[t.emailAddress||t.phoneNumber]=!0}));var a=0;t&&t.forEach((function(e){var t=e.userIdentity;r[t.emailAddress||t.phoneNumber]?++a:r[t.emailAddress||t.phoneNumber]=!0}));var o=this.settings.maxNumberOfInvitees;return i-a>o},checkAndDisplayErrorForInvalidInvitees:function(e,t){var n,i,r=e.length,a=0;return e&&e.forEach((function(e){var r=e.userIdentity,o=e.isInvalid;(!r||!r.emailAddress&&t||!r.emailAddress&&!r.phoneNumber||o)&&(++a,n||(n=e.displayName),i||(i=e.invalidReason))})),this.displayInvalidInviteesAlert(a,r,n,i,t)},displayInvalidInviteesAlert:function(e,t,n,i,r){if(!e)return!1;var o="ALL_INVALID_TOKENS",s={locNamespace:"CKSharing.ErrorDialog.ValidateTokens"+(r?".Email":"")};if(1===e){if(o="ONE_INVALID_TOKEN",i===a.d("CKSharing.InvalidToken.NotAXMContact")&&(o="ONE_INVALID_TOKEN.NOT_IN_ORG"),n.length>69){var l=n.length,c=n.substr(0,34),u=n.substr(l-34,34);n=c+a.d("CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.OVER_SIZE.Ellipsis")+u}s.messageFormatValues={value:n}}else e!==t&&(o="SOME_INVALID_TOKENS");return this.settings.notificationService.error(o,s),!0},checkIfAllInviteesAreCurrentUser:function(e){return!!(e&&e.length&&e.every)&&e.every(this.checkIfInviteeIsCurrentUser.bind(this))},checkIfInviteeIsCurrentUser:function(e){var t=this.settings.loggedInUserIdentity.appleId,n=wl(e.userIdentity.emailAddress),i=Cl(e.userIdentity.phoneNumber);return n&&n===t||i&&i===t},saveShare:function(e){var t,n=this.share,i=this.operationType;if(i&&(i===aC.INITIATE_SHARE?t="InitiatingNewShare":i===aC.ADD_PARTICIPANTS&&(t="AddingParticipantsToShare"),t)){var r=this.settings,a=this.transport;a.value&&(a=a.value),r.logService.recordStat(t,{appName:r.appName,transport:a})}return null==n.recordName?this._createShare(e):this.updateShare(e)},setUp:function(){var e=this,t=this.settings,n=this.share;if(n){this._state=rC.LOADED;var i=t.shareRecordFields;return i&&n.assignFieldUpdates(i),this.permissionValueForAddingParticipants||(this.permissionValueForAddingParticipants=zE(n.effectivePermission,t.supportedPermissions)),this.sendEvent("sharingUIIsReady"),Z.a.resolve()}this.setIsReadyToTerminateBlock("setUp"),this._state=rC.LOADING;var r=this.ioService;return this.cacheingProvideRootRecordFunction().then((function(e){return e.share&&e.share.recordName?e:r.fetchDataRecord(e.recordName)})).then((function(n){if(!n.share||!n.share.recordName)throw new Error("Record does not contain share information.");return e.ioService.fetchShareRecord(n.share.recordName).then((function(n){e._state=rC.LOADED;var i=t.shareRecordFields;i&&n.assignFieldUpdates(i),e.share=n,e.permissionValueForAddingParticipants=zE(e.share.effectivePermission,t.supportedPermissions),e.sendEvent("sharingUIIsReady")}))})).catch((function(t){e.sendEvent("cancel",t)})).finally((function(){e.removeIsReadyToTerminateBlock("setup")}))},updateShare:function(e){var t=this;this.setIsReadyToTerminateBlock("updateShare");var n=this.settings,i={didUpdateRootRecord:n.didUpdateRootRecord,willUpdateShareRecord:n.willUpdateShareRecord,didUpdateShareRecord:n.didUpdateShareRecord};this._state=rC.LOADED_SAVING;var r=this.ioService.updateShare(i).then((function(e){return t.sendEvent("shareWasUpdated",e,!0),t.isDestroying||(t._state=rC.LOADED),e}));if(!e){var a={operationType:"UPDATE",appName:n.shareItemType,interactionMode:n.primaryInteractionMode};r=r.catch(eC(a,n.notificationService,n.logService))}return r.finally((function(){t.removeIsReadyToTerminateBlock("updateShare")}))},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseShareViewController"}});function lC(e,t){var n=e.shortGUID,i=t&&t.shareUrl;if(Nt.a(i)){var r=e.displayedHostname||(!0===t.isChinaAuthUser?"www.icloud.com.cn":"www.icloud.com"),a=t&&t.shareUrlNamespace||"share";i="https://"+r+"/"+encodeURIComponent(a)}var o=/%\{shortGUID\}/.test(i),s=i.indexOf("#")>=0;if(o)i=zd.a(i,{shortGUID:n});else{var l=i.length-1,c=i.charAt(l);i+="#"===c||"/"===c?n:"/"+n}var u=t&&t.shareUrlDescription;if(!Nt.a(u)&&!s){var d=encodeURIComponent(u);i+="#"+(d=(d=d.replace(/_/g,"%5F")).replace(/%20/g,"_"))}return i}var cC={pages:"CKSharing.iWork.Pages",keynote:"CKSharing.iWork.Keynote",numbers:"CKSharing.iWork.Numbers"};function uC(e,t){var n=e.shareItemType,i="";if("CloudKit"!==n){var r=["CKSharing.AddParticipants.Email.Bodyprefix"];r.push(t.loggedInUserCanEditShare?"OwnerAdmin":"Participant"),r.push(n),i=a.d(r.join("."))}return i}function dC(e){var t=e.shareTitle;return t?a.d("CKSharing.AddParticipants.Email.Subject.ShareTitle",{shareTitle:t}):a.d("CKSharing.AddParticipants.Email.Subject.AppName",{appName:e.appName})}function hC(e,t,n){var i=lC(t,e),r=Zb.NATIVE_MAIL;return e.provideBodyForTransport(r,i).then((function(e){return{share:t,unencodedBody:e}})).then((function(t){var n=t.newShare;return void 0!==t.unencodedBody?t:function(e,t){var n=uC(e,t)+"\n"+lC(t,e);return Z.a.resolve(n)}(e,n).then((function(e){return{newShare:n,unencodedBody:e}}))})).then((function(t){var n=t.unencodedBody;return e.provideSubjectForMail().then((function(e){return{unencodedBody:n,customSubject:e}}))})).then((function(t){var i=t.customSubject,r=t.unencodedBody;return void 0===i&&(i=dC(e)),"mailto:"+n.filter((function(e){return bt.a(e.userIdentity.emailAddress)})).map((function(e){return e.displayName+"<"+e.userIdentity.emailAddress+">"})).join(",")+"?subject="+i+"&body="+encodeURIComponent(r)}))}var fC={mixinDependencies:[Me.a,oC],invitees:X.b(),transport:X.b(),sendShare:De.a.define()},pC=sC.extend(fC,{preselectedTransport:X.b(),operationType:aC.ADD_PARTICIPANTS,invitees:X.b(J.c("view.invitees")),transport:X.b({dependencies:["settings.supportedTransports","preselectedTransport"],writeDependencies:[],get:Object.assign((function(e){if(e)return e;var t=Zb.SCHOOLWORK,n=Zb.NATIVE_MAIL,i=Zb.WEB_MAIL,r=Zb.COPY_LINK,a=sa.create(this.settings.supportedTransports),o=a.has(t)?t:a.has(n)?n:a.has(i)?i:r,s=this.preselectedTransport;return s?(a.has(s)||ze.b("An unsupported transport was provided for preselectedTransport. Use `CKSharing.Service.getSupportedTransports()` to know which transports can be chosen from."),s):o}),{__CW__getter:function(e,t,n,i){if(e)return e;var r=Zb.SCHOOLWORK,a=Zb.NATIVE_MAIL,o=Zb.WEB_MAIL,s=Zb.COPY_LINK,l=sa.create(i.internalGetPath(this,t[0+n])),c=l.has(r)?r:l.has(a)?a:l.has(o)?o:s,u=i.internalGet(this,t[1+n]);return u?(l.has(u)||ze.b("An unsupported transport was provided for preselectedTransport. Use `CKSharing.Service.getSupportedTransports()` to know which transports can be chosen from."),u):c}})}),sharePopoverIsActive:X.b(),showPermissionsDropdown:X.b({readOnly:!0,dependencies:["settings.supportedPermissions","share.isPublic"],get:Object.assign((function(){var e=this.settings.supportedPermissions;return!!(e&&e.length>1)&&!this.share.isPublic}),{__CW__getter:function(e,t,n,i){var r=i.internalGetPath(this,t[0+n]);return!!(r&&r.length>1)&&!i.internalGetPath(this,t[1+n])}})}),shouldShowSendingSpinner:X.b({defaultValue:!1}),shouldShowUserName:X.b({readOnly:!0,dependencies:["share.loggedInUserCanEditShare","share.effectiveAccess"],get:Object.assign((function(){return this.share.loggedInUserCanEditShare&&this.share.effectiveAccess===Ks.PRIVATE}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])&&i.internalGetPath(this,t[1+n])===Ks.PRIVATE}})}),createView:function(){var e=this.settings,t=e.primaryInteractionMode,n=e.shouldHideAddParticipantsSummary;return t===FE.TOUCH?SE.create():bE.create(n)},view:X.b({downstreamBindings:{accessDropdownValue:"(owner).share.effectiveAccess",isLoading:"(owner).isLoading",isSavingShare:"(owner).isSavingShare",CustomLoadMembershipInfoHandlerClass:"(owner).settings.CustomLoadMembershipInfoHandlerClass",CustomAutocompleteDataSourceClass:"(owner).settings.CustomAutocompleteDataSourceClass",logService:"(owner).settings.logService",permissionDropdownValue:"(owner).permissionValueForAddingParticipants",summaryTextNoOption:"(owner).summaryTextNoOption",summaryTextWOption:"(owner).summaryTextWOption",showPermissionsDropdown:"(owner).showPermissionsDropdown",supportedPermissions:"(owner).settings.supportedPermissions",supportedTransports:"(owner).settings.supportedTransports",transport:"(owner).transport",loggedInUserInfo:"(owner).loggedInUserInfo",title:"(owner).shareSpecificPaneTitle",shareButtonTitle:"(owner).shareSpecificShareButtonTitle",shouldShowUserName:"(owner).shouldShowUserName",sharePopoverIsActive:"(owner).sharePopoverIsActive",primaryInteractionMode:"(owner).settings.primaryInteractionMode",shouldShowSendingSpinner:"(owner).shouldShowSendingSpinner",shareItemType:"(owner).settings.shareItemType",hostedByCloudOSOne:"(owner).settings.hostedByCloudOSOne",loggedInUserIdentity:"(owner).settings.loggedInUserIdentity",isAXMServiceAvailable:"(owner).settings.isAXMServiceAvailable"}}),shareSpecificPaneTitle:X.b({readOnly:!0,dependencies:["share","share.isPublic","settings","settings.sendLinkPaneTitle","settings.addParticipantsPaneTitle"],get:Object.assign((function(){var e=this.share,t=this.settings;return t&&e?e.isPublic?t.sendLinkPaneTitle:t.addParticipantsPaneTitle:""}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[2+n]);return a&&r?r.isPublic?a.sendLinkPaneTitle:a.addParticipantsPaneTitle:""}})}),shareSpecificShareButtonTitle:X.b({readOnly:!0,dependencies:["share","share.isPublic"],get:Object.assign((function(){var e=this.share;return aC.INITIATE_SHARE!==this.operationType&&e&&e.isPublic?a.d("CKSharing.Dialog.Button.Continue"):a.d("CKSharing.AddParticipants.OKButton.Share.Title")}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return aC.INITIATE_SHARE!==this.operationType&&r&&r.isPublic?a.d("CKSharing.Dialog.Button.Continue"):a.d("CKSharing.AddParticipants.OKButton.Share.Title")}})}),loggedInUserInfo:X.b({readOnly:!0,dependencies:["settings.loggedInUserIdentity"],get:Object.assign((function(){var e=this.getPath("settings.loggedInUserIdentity");if(e){var t,n=e.givenName,i=e.familyName;return(n||i)&&(t=Ys({givenName:n,familyName:i})),{displayName:t,appleId:e.appleId}}}),{__CW__getter:function(e,t,n,i){var r=i.internalGetPath(this,t[0+n]);if(r){var a,o=r.givenName,s=r.familyName;return(o||s)&&(a=Ys({givenName:o,familyName:s})),{displayName:a,appleId:r.appleId}}}})}),toggleSpinner:function(){this.shouldShowSendingSpinner=!this.shouldShowSendingSpinner},sendShare:function(e){var t,n=this,i=this._state;switch(this.toggleSpinner(),this.transport){case Zb.WEB_MAIL:this.sendEvent("shareByWebMail"),t=Z.a.resolve();break;case Zb.SCHOOLWORK:this.sendEvent("shareBySchoolwork"),t=Z.a.resolve();break;case Zb.NATIVE_MAIL:t=this.awaitPendingTokenValidations().then((function(e){return e.ok?n.shareByNativeMail(e):Z.a.resolve(e)}));break;case Zb.COPY_LINK:t=this.awaitPendingTokenValidations().then((function(e){return e.ok?n.shareByCopyingLink():Z.a.resolve(e)}));break;default:throw new Error("Unrecognized transport for AddParticipantsViewController: "+this.transport,{viewController:this,transport:this.transport})}return t.finally((function(){n._state=i,n.toggleSpinner()})).then((function(e){return e&&e.ok&&n.transport===Zb.NATIVE_MAIL&&n.sendEvent("didCompleteSendMessage"),e}))},setTransportAndSendShare:function(e){this.transport=e,this.sendShare()},shareByNativeMail:function(e){var t=this,n=this.share,i=this.invitees,r="INVITE_TO_";n.isPrivate?r+="PRIVATE.VIA_EMAIL."+(1===i.length?"TO_PERSON":"TO_PEOPLE"):r+="PUBLIC";var o=this.settings,s={operationType:r,appName:o.shareItemType,interactionMode:o.primaryInteractionMode};return this._state=rC.LOADED_SAVING,n.isPrivate&&n.addParticipantsIgnoringDupes(i,this.permissionValueForAddingParticipants),this.saveShare(!0).then((function(e){return hC(o,e,i)})).then((function(i){var r=o.shareItemType,s=bt.a(Kb.a)?o.primaryInteractionMode===FE.TOUCH?Kb.a.ACTION_SHEET:Kb.a.ALERT:void 0,l=Z.a.create(),c={notificationDidComplete:function(){t.sendEvent("softShow"),l.resolve()}};return o.notificationService.info("ConfirmNativeMail",{interactionMode:o.primaryInteractionMode,messageLocSuffix:"Message."+r,descriptionLocSuffix:"Description",primaryButtonConfig:fE.create({link:i,additionalClassNames:Mi.a(["alert-button-container"]),title:a.d("ConfirmNativeMail.ConfirmButton"),action:"notificationDidComplete",target:c}),alternateButtonConfig:{title:a.d("ConfirmNativeMail.CloseButton"),action:"notificationDidComplete",target:c},alertStyle:s}),t.sendEvent("softHide"),t.sendEvent("didUpdateShareRecord",n,!0),l.then((function(){return e}))})).catch(eC(s,o.notificationService,o.logService)).finally((function(){t._state=rC.LOADED}))},shareByCopyingLink:function(){var e=this,t=this.settings,n=t.shareItemType,i={operationType:"INVITE_TO_"+(this.share.isPublic?"PUBLIC":"PRIVATE.VIA_UNKNOWN"),appName:n,interactionMode:t.primaryInteractionMode};return this._state=rC.LOADED_SAVING,this.saveShare(!0).then((function(t){return e.sendEvent("didShareByCopyingLink"),t})).catch(eC(i,t.notificationService,t.logService)).finally((function(){e._state=rC.LOADED}))},saveShare:function(e){var t=this,n=this.invitees,i=this.share,r=this.permissionValueForAddingParticipants,a=null;return i.isPrivate&&(a=i.addParticipantsIgnoringDupes(n,r)),this.isShareSignificantlyDirty(i,this.ioService.mostRecentShareDataHashFromServer)?this.__s._$5RN$saveShare.call(this,e).catch((function(e){var n=jr.a(t.share,"participants");throw bt.a(a)&&bt.a(n)&&(n.beginBatchedChanges(),a.reverse().forEach((function(e){if("MODIFY"===e.type){var t=e.details.permission;e.subject.permission=t}else if("INSERT"===e.type){var i=e.details.index;n.removeAt(i)}})),n.endBatchedChanges()),e})):Z.a.resolve(i)},awaitPendingTokenValidations:function(){var e=this,t=this.share,n=this.getPath("view.invitationsTextField");return t.isPublic||this.validateInviteesToAddToShare(n.invitees)?this.waitForAutocompleteHasPendingTokensToClear(n).catch((function(t){return e.showPendingValidationFailAlert(),Yb.create({status:400})})).then((function(){return n.hasInvalidTokens?(e.showPendingValidationFailAlert(),Yb.create({status:400})):Yb.create({status:200})})):Z.a.resolve(Yb.create({status:400}))},setEffectivePermission:function(e){this.permissionValueForAddingParticipants=e},waitForAutocompleteHasPendingTokensToClear:function(e){if(!e.hasPendingTokens)return Z.a.resolve();var t=Z.a.create(),n=e.observe("hasPendingTokens",(function(e){e||(t.resolve(),n&&n.disconnect())}));return t},showPendingValidationFailAlert:function(){var e,t=this.getPath("view.invitationsTextField").tokenViews,n=t&&t.length||0,i=0;return t&&t.forEach((function(t){t.isInvalid&&(++i,e=t.value)})),this.displayInvalidInviteesAlert(i,n,e)},isShareSignificantlyDirty:function(e,t){var n=e.owner&&e.owner.isMe?null:["fields"];return qi(t,e.getDataHash(),n)},__superMap:{_$5RN$saveShare:"saveShare"},staticMembers:{__QUALIFIED_CLASS_NAME__:"AddParticipantsViewController"}});function mC(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={method:"POST",body:e,useCredentialsIfCrossOrigin:!0,timeout:6e4};if(t){var i=D_.create({serviceName:"cksharews",pathname:"/ws/v1/autocomplete/canonicalizePhoneNumbers"});n.url=i;var r=F_.create(n);return r}var a=as("cksharews","ws/v1/autocomplete/canonicalizePhoneNumbers");return n.url=a,rE.create(n)}var gC=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"header",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}]},{type:"ELEMENT",tagname:"h2",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"subtitle",attributes:{}}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideSubtitle",truevalue:"hidden",attributes:{}}]}]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"url",attributes:{}}],classes:["copy-url",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"valueIsAlwaysLTR",truevalue:"is-always-ltr",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideCopyLinkButton",truevalue:"expanded-access",attributes:{}}],name:"urlTextElement",attributes:{tabindex:"0"}}],classes:["copy-url-container"]},{type:"ELEMENT",tagname:"footer",children:[{type:"ELEMENT",tagname:"span",children:[{type:"VIEWOUTLET",tagname:"view",name:"closeButton"},{type:"ELEMENT",tagname:"span",classes:["divider",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideCopyLinkButton",truevalue:"hidden",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",name:"copyLinkButton"}],classes:["button-container"]}]}],classes:["workflow-screen","copy-link-view","sharing-dialog"]},className:"ck-sharing-copy-link-view",__QUALIFIED_CLASS_NAME__:"CopyLinkView"},isFocusable:!0,url:X.b(),title:X.b(),subtitle:X.b(),shouldHideSubtitle:X.b({readOnly:!0,dependencies:["subtitle"],get:Object.assign((function(){return Nt.a(this.subtitle)}),{__CW__getter:function(e,t,n,i){return Nt.a(i.internalGet(this,t[0+n]))}})}),valueIsAlwaysLTR:X.b(),shouldHideCopyLinkButton:X.b(),selectURL:function(){var e=this.urlTextElement,t=document.createRange();t.selectNodeContents(e);var n=globalThis.getSelection();n.removeAllRanges(),n.addRange(t),e.focus()},pointerDown:function(e){e.target===this.urlTextElement&&(this.sendEvent("selectURL",this),this.shouldHideCopyLinkButton||e.preventDefault())},copyLinkButton:X.b({downstreamBindings:{url:"(owner).url",shouldHideCopyLinkButton:"(owner).shouldHideCopyLinkButton"},defaultValue:ut.b(Pi.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideCopyLinkButton",truevalue:"hidden",attributes:{}}]}}},additionalClassNames:Mi.a(["primary"])},{title:a.d("CKSharing.ManageShare.Button.CopyLink"),action:"copyLinkAction",url:X.b(),contextKeys:["context"],shouldHideCopyLinkButton:X.b()}))}),closeButton:ut.b(Pi.a.extend({additionalClassNames:Mi.a(["close"])}),{title:a.d("CKSharing.AddParticipants.CopyLink.CloseButton.Title"),keyEquivalent:[ji.a.ESC,ji.a.RETURN],action:"close"})});function vC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n=bC(e,t),i=document.createRange();i.selectNodeContents(n);var r=globalThis.getSelection();r.removeAllRanges(),r.addRange(i),n.focus(),n.setSelectionRange(0,n.value.length);try{document.execCommand("copy")}catch(a){}n.blur(),t.removeChild(n)}function _C(){return"function"===typeof document.queryCommandSupported&&document.queryCommandSupported("copy")}function bC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n=document.createElement("textarea");n.contentEditable=!0,n.style.fontSize="20px",n.readOnly=!0;var i=n.style;return i.position="absolute",i.left="-10000px",n.value=e,t.appendChild(n),n}function yC(e,t){return t.map(e).find((function(e,n){return e!==t[n]}))}var SC=ri.a.extend({viewClass:gC,view:X.b({downstreamBindings:{subtitle:"(owner).subtitle",title:"(owner).title",url:"(owner).url",shouldHideCopyLinkButton:"(owner).shouldHideCopyLinkButton"}}),permission:X.b(),_effectivePermission:X.b({dependencies:["permission","share.effectivePermission"],readOnly:!0,get:Object.assign((function(e){return function(e){for(var t=e.length,n=0;n<t;n++){var i=e[n];if(i)return i}}([this.permission,this.getPath("share.effectivePermission"),this.getPath("settings.defaultPermission")])}),{__CW__getter:function(e,t,n,i){return function(e){for(var t=e.length,n=0;n<t;n++){var i=e[n];if(i)return i}}([i.internalGet(this,t[0+n]),i.internalGetPath(this,t[1+n]),this.getPath("settings.defaultPermission")])}})}),share:X.b(),settings:X.b(),subtitle:X.b({dependencies:["share.effectiveAccess","share.loggedInUserCanEditShare","share.owner","share.owner.displayName","_effectivePermission","settings.shareItemType"],readOnly:!0,get:Object.assign((function(){if("Photos"!==this.settings.shareItemType){var e=["CKSharing.AddParticipants.CopyLink"],t=this.share,n=this.settings,i=t.effectiveAccess,r=this._effectivePermission,o=this.share.loggedInUserCanEditShare;switch(e.push(o?"OwnerAdmin":"Participant"),e.push("Subtitle"),i){case Ks.PUBLIC:e.push("Public");break;case Ks.PRIVATE:e.push("Private");break;default:ze.b("Unknown CKSharing.ACCESS type %{type}",{type:i})}if(o||t.isPublic)switch(r){case Gs.READ_ONLY:e.push("ReadOnly");break;case Gs.READ_WRITE:e.push("ReadWrite");break;case Gs.UNKNOWN:e.push("Mixed");break;default:ze.b("Unknown CKSharing.PERMISSIONS type %{type}",{type:r})}return e.push(n.shareItemType),o?a.d(e.join(".")):a.d(e.join("."),{ownerDisplayName:t.owner.displayName})}}),{__CW__getter:function(e,t,n,i){if("Photos"!==i.internalGetPath(this,t[5+n])){var r=["CKSharing.AddParticipants.CopyLink"],o=this.share,s=this.settings,l=o.effectiveAccess,c=i.internalGet(this,t[4+n]),u=i.internalGetPath(this,t[1+n]);switch(r.push(u?"OwnerAdmin":"Participant"),r.push("Subtitle"),l){case Ks.PUBLIC:r.push("Public");break;case Ks.PRIVATE:r.push("Private");break;default:ze.b("Unknown CKSharing.ACCESS type %{type}",{type:l})}if(u||o.isPublic)switch(c){case Gs.READ_ONLY:r.push("ReadOnly");break;case Gs.READ_WRITE:r.push("ReadWrite");break;case Gs.UNKNOWN:r.push("Mixed");break;default:ze.b("Unknown CKSharing.PERMISSIONS type %{type}",{type:c})}return r.push(s.shareItemType),u?a.d(r.join(".")):a.d(r.join("."),{ownerDisplayName:o.owner.displayName})}}})}),title:X.b({dependencies:["settings.shareItemType","share.loggedInUserCanEditShare"],readOnly:!0,get:Object.assign((function(){var e="CKSharing.AddParticipants.CopyLink",t=this.getPath("share.loggedInUserCanEditShare")?"OwnerAdmin":"Participant",n="Title",i=this.getPath("settings.primaryInteractionMode")===FE.TOUCH?"Compact":"Expanded",r=this.getPath("settings.shareItemType"),o=[e,t,n,r,i].join("."),s=[e,t,n,r].join(".");return yC(a.d,[o,s])}),{__CW__getter:function(e,t,n,i){var r="CKSharing.AddParticipants.CopyLink",o=i.internalGetPath(this,t[1+n])?"OwnerAdmin":"Participant",s="Title",l=this.getPath("settings.primaryInteractionMode")===FE.TOUCH?"Compact":"Expanded",c=i.internalGetPath(this,t[0+n]),u=[r,o,s,c,l].join("."),d=[r,o,s,c].join(".");return yC(a.d,[u,d])}})}),url:X.b({dependencies:["share","settings"],readOnly:!0,get:Object.assign((function(){return lC(this.share,this.settings)}),{__CW__getter:function(e,t,n,i){return lC(i.internalGet(this,t[0+n]),i.internalGet(this,t[1+n]))}})}),shouldHideCopyLinkButton:X.b({dependencies:["url"],readOnly:!0,get:function(){return!_C()}}),didAttach:function(){var e=this,t=arguments;e.__s._$1o3$didAttach.apply(e,t),this.view.selectURL(),this.sendEvent("contentDidResize")},copyLinkAction:function(e){return vC(e.url),this.close()},close:function(){this.blur(),this.sendEvent("didCompleteCopyLink")},__superMap:{_$1o3$didAttach:"didAttach"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CopyLinkViewController"}}),IC=n(719),wC={mixinDependencies:[Me.a],connect:De.a.define(),disconnect:De.a.define(),send:De.a.define(),receive:De.a.define()},EC=Ge.a.extend(Ni.a,wC,{incomingMessage:Ni.g(),outgoingMessage:Ni.g(),messageClass:IC.a,autoconnect:!0,connected:!1,remoteOrigin:null,_incomingWindow:window,_outgoingWindow:X.b({set:function(e){return{actualOutgoingWindow:e}}}),init:function(){var e=this,t=arguments;e.__s._$fS$init.apply(e,t),this._handleMessage=this._handleMessage.bind(this)},connect:function(){this.connected||(this._outgoingWindow&&this._outgoingWindow.actualOutgoingWindow.postMessage||ze.b("No window configured for remote end of the Channel"),ee.a(this._incomingWindow,"message",this._handleMessage),this.connected=!0)},disconnect:function(){this.connected&&(Bi.a(this._incomingWindow,"message",this._handleMessage),this.connected=!1)},send:function(e){this.connected||ze.b("Trying to send a message on a disconnected channel");var t=this.remoteOrigin;Ke.a(t)&&0!==t.trim().length||ze.b("No origin specified for PostMessageChannel messages.");var n=e;e.bodySerializer&&(n=e.bodySerializer.encode(n)),this.outgoingMessage(e),this._outgoingWindow.actualOutgoingWindow.postMessage(n,t)},receive:function(e){e&&(e.bodySerializer&&(e.body=e.bodySerializer.decode(e.body)),this.incomingMessage(e))},_handleMessage:function(e){(function(e,t){if(e===t||"*"===e||"*"===t)return!0;var n=hu.a.parse(e),i=hu.a.parse(t);if(Nt.a(n.protocol)||Nt.a(i.protocol)||n.protocol!==i.protocol)return!1;if(Nt.a(n.hostname)||Nt.a(i.hostname)||n.hostname!==i.hostname)return!1;var r=n.port;Nt.a(r)&&(r="https:"===n.protocol?"443":"80");var a=i.port;return Nt.a(a)&&(a="https:"===i.protocol?"443":"80"),r===a})((e.orignalEvent||e).origin,this.remoteOrigin)&&this.receive((e.originalEvent||e).data)},_outgoingWindowDidChange:Ni.f("_outgoingWindow",(function(e){e&&e.actualOutgoingWindow?this.autoconnect&&this.connect():this.disconnect()})),__superMap:{_$fS$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"WindowPostMessageChannel"}}).extend({iframe:X.b({set:function(e,t){return this._previousIframe=t,e}}),_setOutgoingWindowOnIFrameChange:Ni.f("iframe",(function(e){var t=this._previousIframe,n=this._iframeDidLoad;t&&n&&e!==t&&Bi.a(t,"load",n),e&&((this._outgoingWindow=e.contentWindow)||(n||(n=this._iframeDidLoad=function(){this._outgoingWindow=e.contentWindow,Bi.a(e,"load",this._iframeDidLoad)}.bind(this)),ee.a(e,"load",n)))})),staticMembers:{__QUALIFIED_CLASS_NAME__:"IFrameWindowChannel"}}),CC=n(327),AC=Ge.a.extend(Ni.a,{channel:X.b({type:wC}),_messageObserver:Ni.f("channel.incomingMessage",(function(e){if(e){var t=CC.a.sharedInstance.decode(e.context);t&&"2.0"===t.jsonrpc&&this.handleMessage(t)}})),handleMessage:De.a.define(),staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcBase"}}),TC=AC.extend({init:function(e){var t=this,n=arguments;t.__s._$GY$init.apply(t,n),e&&ue.a(e.methodHandlers)&&this.registerMethodHandlers(e.methodHandlers)},registerMethodHandler:function(e,t,n){return function(e,t,n,i,r){var a=DC.get(i),o=a&&a.has(e);o&&ze.b("A handler for `%{methodName}` was already registered for channel",{methodName:e,handler:t,handlerMethodName:n,registration:o}),a||(a=new Map,DC.set(i,a)),a.set(e,{channel:i,registrant:r,methodName:e,handler:t,handlerMethodName:n})}(e,t,n=n||e,this.channel,this),this},unregisterMethodHandler:function(e){return function(e,t,n){var i=DC.get(t);if(i){var r=i.get(e);r&&(r.registrant!==n&&ze.b("Trying to unregistring handler for %{methodName} that was not registered by JsonRpcReceiver",{methodName:e,JsonRpcReceiver:n,registration:r}),i.delete(e))}}(e,this.channel,this),this},registerMethodHandlers:function(e){for(var t,n,i,r=Object.keys(e),a=r.length,o=0;o<a;o++)n=e[t=r[o]],i=t,Array.isArray(n)&&(i=n[1],n=n[0]),this.registerMethodHandler(t,n,i);return this},handleMessage:function(e){if(e&&e.method)if(void 0===e.error&&void 0===e.result){var t=e.params||[];if(Array.isArray(t)){var n=e.id,i=function(e,t,n){var i=DC.get(t);if(i){var r=i.get(e);return r&&r.registrant===n?r:void 0}}(e.method,this.channel,this);if(i){var r,o=i.handler,s=i.handlerMethodName;try{r=o[s].apply(o,e.params||[])}catch(c){var l=function(e){var t=dt.a.application.workflowSettings;return t&&t.sharesOrigin||/\.icloud\.com$/i.test(globalThis.location.hostname)?e:e.isCKError?(delete e.stack,e):((t&&t.logService||Xg.cloudOSService).recordStat("Exception in ck-sharing-app:",{message:e.message}),a.d("CKSharing.UnexpectedTerminationMessage"))}(c);return void this._handleHandlerError(e,l)}mt.a(r)?this._handleHandlerPromise(e,r):this._handleHandlerResult(e,r)}}else this._sendErrorResponse(n,"Invalid params",OC.INVALID_PARAMS)}else this._sendErrorResponse(n,"Invalid Request",OC.INVALID_REQUEST)},_handleHandlerPromise:function(e,t){t.then(this._handleHandlerResult.bind(this,e),this._handleHandlerError.bind(this,e))},_handleHandlerResult:function(e,t){if(e&&void 0!==e.id)return t instanceof Error?this._handleHandlerError(e,t):this._sendResultResponse(e.id,t)},_handleHandlerError:function(e,t){if(e&&void 0!==e.id){var n=t.toJSON?JSON.stringify(t):String(t),i=t.code||OC.UNKNOWN_ERROR,r={stack:t.stack};return this._sendErrorResponse(e.id,n,i,r)}},_sendResultResponse:function(e,t){if(void 0!==e){var n={jsonrpc:"2.0",id:e,result:t};return this.channel.send(CC.a.sharedInstance.encode(n)),n}},_sendErrorResponse:function(e,t,n,i){if(void 0!==e){Qe.a(n)||(n=OC.UNKNOWN_ERROR);var r={jsonrpc:"2.0",id:e,error:{code:n,message:t}};return ue.a(i)&&(r.error.data=i),this.channel.send(CC.a.sharedInstance.encode(r)),r}},__superMap:{_$GY$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcReceiver"}}),OC={PARSE_ERROR:-32700,METHOD_NOT_FOUND:-32601,INVALID_PARAMS:-32600,INTERNAL_ERROR:-32603,UNKNOWN_ERROR:-31209},DC=new Map,MC=AC.extend({callMethod:function(e){this.channel||ze.b("Attempted to call method '%{methodName}' on JsonRpcSender with no channel.",{methodName:e,JsonRpcSender:this});var t=ra.a(arguments,1),n={jsonrpc:"2.0",id:LC(),method:e,params:t},i=Z.a.create();return xC(i,n.id,this),this.channel.send(CC.a.sharedInstance.encode(n)),i},callMethodWithoutResponse:function(e){this.channel||ze.b("Attempted to call method '%{methodName}' on JsonRpcSender with no channel.",{methodName:e,JsonRpcSender:this});var t=ra.a(arguments,1),n={jsonrpc:"2.0",method:e,params:t};this.channel.send(CC.a.sharedInstance.encode(n))},handleMessage:function(e){if(e&&void 0===e.method){var t=function(e,t){var n=RC[e];if(n&&n[1]===t)return RC[e]=void 0,n[0]}(e.id,this);t&&(void 0!==e.error?this._handleErrorResponse(e,t):this._handleResultResponse(e,t))}},_handleResultResponse:function(e,t){t.resolve(e.result)},_handleErrorResponse:function(e,t){var n=e.error;ue.a(n)||(Re.b.warning("Invalid error response for message "+e.id),n={code:NC,message:"Unknown error"}),t.reject(n)},staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcSender"}}),NC=-31209,FC=0;function LC(){return++FC}var RC={};function xC(e,t,n){RC[t]&&ze.b("A handler was already registered for response on "+t),RC[t]=[e,n]}var PC=Ge.a.extend(Ni.a,{channel:X.b({didChange:function(e){this._transmitter.channel=e,this._receiver.channel=e}}),_transmitter:X.b(ut.b(MC)),_receiver:X.b(ut.b(TC)),init:function(e){var t=this,n=arguments;t.__s._$L3$init.apply(t,n),e&&ue.a(e.methodHandlers)&&this._receiver.registerMethodHandlers(e.methodHandlers)},callMethod:function(){var e=this._transmitter.callMethod;return e.apply(this._transmitter,arguments)},callMethodWithoutResponse:function(){var e=this._transmitter.callMethodWithoutResponse;return e.apply(this._transmitter,arguments)},registerMethodHandler:function(){var e=this._receiver.registerMethodHandler;return e.apply(this._receiver,arguments)},registerMethodHandlers:function(){var e=this._receiver.registerMethodHandlers;return e.apply(this._receiver,arguments)},unregisterMethodHandler:function(){var e=this._receiver.unregisterMethodHandler;return e.apply(this._receiver,arguments)},__superMap:{_$L3$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcTransceiver"}}),kC=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"iframe",attributes:{src:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"src",attributes:{},attribute:"src"}}},className:"ck-sharing-iframe-view",__QUALIFIED_CLASS_NAME__:"IframeView"}}),UC=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"loadingView"}],name:"loadingViewWrapper",classes:["loading-wrapper"]},{type:"VIEWOUTLET",tagname:"view",name:"iframeView"}],classes:["mail-compose-view"]},className:"ck-sharing-mail-compose-view",__QUALIFIED_CLASS_NAME__:"MailComposeView"},loadingView:ut.b(oy.a),iframeView:ut.b(kC,{additionalClassNames:Mi.a(["hidden"])})}),jC={mixinDependencies:[Me.a,oC],composeUrl:X.b({readOnly:!0,get:function(){var e=a.c();a.a.sharedInstance.isRTL&&(e=this.getPath("COSK.globals.environment.accountPreferences.secondaryLocale")||"en-us");return Wb("https://"+globalThis.location.hostname+"/message/current/"+e+"/index.html#compose?willPM=true")}}),composeMail:De.a.define()},BC=sC.extend(jC,{transport:Zb.WEB_MAIL,viewClass:UC,originatorSharingWorkflowVC:Y.c(),animationDuration:Y.c(250),composeMail:function(e){var t=e.appName;if(!t)throw new Error("Cannot compose email: appName not specified.");this.initializeJsonRpcTransceiver(),this._composeData={subject:e.subject,body:e.body,appName:t,isForSharingWorkflow:!0}},cancelOnUnrecoverableError:function(e){var t=e.error;this.originatorSharingWorkflowVC.sendEvent("cancel",t)},createParticipantsFromEmailEntries:function(e){Ke.a(e)&&(e=e.split(","));var t=this.permissionValueForAddingParticipants;return e.filter((function(e){return!Nt.a(e)})).map((function(e){return Il.create({permission:t,userIdentity:il.createFromString(e.trim())})}),this)},init:function(){var e=this,t=arguments;e.__s._$1m4$init.apply(e,t),this.initializeJsonRpcTransceiver();var n=this.view.iframeView;n.bind("src",this.bindingFor("composeUrl"))},initializeJsonRpcTransceiver:function(){if(!this.transceiver){var e=this.view.iframeView,t=this.transceiver=PC.create({channel:EC.create({iframe:e.element,remoteOrigin:"https://"+globalThis.location.hostname})});t.registerMethodHandler("postPopulateFieldsMessage",this,"_postPopulateFieldsMessageHandler"),t.registerMethodHandler("closeIframe",this,"_closeIframeHandler"),t.registerMethodHandler("addParticipants",this,"addParticipantsHandler"),t.registerMethodHandler("sendMessageSuccessful",this,"_sendMessageSuccessful")}},willAttach:function(){this._loadTimer=ft.a(function(){var e={keyEquivalent:ji.a.RETURN,title:a.d("CKSharing.ErrorDialog.OKButton.Title"),target:this,action:"_closeIframeHandler",error:"MailComposer.LoadTimeout"};this.settings.notificationService.error("MailComposer.LoadTimeout",{locNamespace:"CKSharing.ErrorDialog",primaryButtonConfig:e})}.bind(this),6e4)},_postPopulateFieldsMessageHandler:function(){return clearTimeout(this._loadTimer),this.view.iframeView.element.classList.remove("hidden"),this.view.loadingViewWrapper.classList.add("hidden"),this.view.loadingView.isVisible=!1,this.originatorSharingWorkflowVC.sendEvent("contentDidResize"),this._composeData},_closeIframeHandler:function(){this._cleanUpTransceiver(),this.sendEvent("didCancelSendMessage")},addParticipantsHandler:function(e){var t=this.share;if(t.isPublic&&t.owner&&!t.owner.isMe)return Z.a.resolve("success");var n,i=this.permissionValueForAddingParticipants,r=this.createParticipantsFromEmailEntries(e.to),o=this.createParticipantsFromEmailEntries(e.cc),s=r.concat(o);if(t.isPrivate){if(!this.validateInviteesToAddToShare(s,!0)){var l=new Error("Add participants failed");return l.code=-1,Z.a.resolve(l)}t.addParticipantsIgnoringDupes(s,i),n="INVITE_TO_PRIVATE.VIA_EMAIL."+(1===s.length?"TO_PERSON":"TO_PEOPLE")}else{if(this.checkAndDisplayErrorForInvalidInvitees(s,!0)){var c=new Error("Add participants failed");return c.code=-1,Z.a.resolve(c)}n="INVITE_TO_PUBLIC"}if(qi(this.ioService.mostRecentShareDataHashFromServer,t.getDataHash())){var u=this.settings,d={operationType:n,appName:u.shareItemType,interactionMode:u.primaryInteractionMode},h=this,f=u.notificationService;return this.saveShare(!0).then((function(e){return"success"})).catch(eC(d,f,u.logService)).catch((function(e){f.error("AddingParticipants.MAIL_ADD_PARTICIPANTS_FAILED",{locNamespace:"CKSharing.ErrorDialog",primaryButtonConfig:{keyEquivalent:[ji.a.ESC,ji.a.RETURN],title:a.d("CKSharing.ErrorDialog.OKButton.Title"),target:h,action:"cancelOnUnrecoverableError",error:e}});var t=new Error("Add participants failed");return t.code=-1,t}))}return Z.a.resolve("success")},_sendMessageSuccessful:function(){this._cleanUpTransceiver(),this.sendEvent("didCompleteSendMessage")},_cleanUpTransceiver:function(){var e=this.transceiver;Re.b.debug("MailComposeViewController._cleanUpTransceiver:  unregister method handlers and disconnect JsonRpcTransceiver.channel."),e.unregisterMethodHandler("postPopulateFieldsMessage",this),e.unregisterMethodHandler("closeIframe",this),e.unregisterMethodHandler("addParticipants",this),e.unregisterMethodHandler("sendMessageSuccessful",this),e.channel.disconnect(),this.transceiver=null,clearTimeout(this._loadTimer)},_loadTimer:void 0,__superMap:{_$1m4$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MailComposeViewController"}}),VC={up:0,down:1};Object.freeze(VC);var $C=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"modalBackground"},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"contentView"}],name:"contentWrapper",classes:["popup-content"]}],classes:["cw-popup-view","cksharing-popup-view"]},__QUALIFIED_CLASS_NAME__:"PopupView"},shouldShowModalBackground:X.b(!0),modalBackground:X.b({dependencies:["shouldShowModalBackground"],writeDependencies:[],defaultValue:ut.b(Di.a,{additionalClassNames:Mi.a(["modal-background"])}),get:Object.assign((function(e){return this.shouldShowModalBackground?e:null}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?e:null}}),set:function(e){return e}}),isFocusable:!0}).extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"uilessSpinnerView"}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isTouchInteractionStyle",truevalue:"ck-sharing-touch-style",falsevalue:"ck-sharing-mouse-style",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"WorkflowPopupView"},additionalClassNames:Mi.a(["workflow-popup-view"]),isTouchInteractionStyle:X.b({dependencies:["primaryInteractionMode"],readOnly:!0,get:Object.assign((function(){return this.primaryInteractionMode===FE.TOUCH}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===FE.TOUCH}})}),primaryInteractionMode:X.b({readOnly:!0,defaultValue:FE.MOUSE,get:function(e){return e||FE.MOUSE}}),uilessSpinnerView:X.b({readOnly:!0,strong:!0,dependencies:["uilessSpinnerNeedLevel"],get:Object.assign((function(){return this.uilessSpinnerNeedLevel?oy.a.create({size:36,color:"white"}):void 0}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?oy.a.create({size:36,color:"white"}):void 0}})}),uilessSpinnerNeedLevel:X.b(0)}),WC=ab.a.extend({delegate:null,viewClass:$C,view:X.b({downstreamBindings:{primaryInteractionMode:"(owner).contentController.settings.primaryInteractionMode"}}),softHide:function(){this.view.element.style.display="none"},softShow:function(){this.view.element.style.display=""},dragOver:function(e){e.preventDefault()},defaultFocusChild:J.c("contentController"),showViewController:function(e){this.contentController=e,this._appendedContentController=e},_appendedContentControllerDidChange:Ni.f("_appendedContentController.isAttached",(function(e){e&&this.sendEvent("contentDidResize")})),workflowDesiresUilessSpinner:function(){this.view.uilessSpinnerNeedLevel++},workflowNoLongerDesiresUilessSpinner:function(){this.view.uilessSpinnerNeedLevel=Math.max(0,this.view.uilessSpinnerNeedLevel-1)},staticMembers:{__QUALIFIED_CLASS_NAME__:"WorkflowPopupViewController"}}),zC=WC.extend({viewClass:Mi.a({additionalClassNames:Mi.a(["schoolwork-compose"])}),didCompleteSchoolwork:function(){this.delegate.didCompleteSchoolwork(),this.animateOffScreen(VC.up)},didCancelSchoolwork:function(){this.delegate.didCancelSchoolwork(),this.animateOffScreen(VC.down)},animateOffScreen:function(e){var t=this.getPath("view.element"),n=t.classList;n?(e===VC.up?n.add("is-completing"):n.add("is-canceling"),ee.a(t,"transitionend",this.hide.bind(this))):this.hide()},staticMembers:{__QUALIFIED_CLASS_NAME__:"SchoolworkComposePopupViewController"}}),GC=ri.a.extend({viewClass:Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"hosted-schoolwork-view"}],classes:["schoolwork-share-view"]}}}),schoolworkHostedApplicationViewController:Oi.b({viewOutlet:"hosted-schoolwork-view"}),settings:X.b(),becomeActive:function(){return this.schoolworkHostedApplicationViewController.becomeActive()},staticMembers:{__QUALIFIED_CLASS_NAME__:"SchoolworkComposeViewController"}}),HC=n(729),KC=n(730),QC=n(414),qC=n(420),YC=n(415),XC=ri.a.extend(QC.a,qC.a,{viewClass:YC.a,view:X.b({downstreamBindings:{isActive:"(owner).isActive"}}),iframeView:X.b(J.c("view")),staticMembers:{__QUALIFIED_CLASS_NAME__:"HostedApplicationViewController"}}),JC=Ge.a.extend(Ni.a,HC.a,KC.a,{staticMembers:{__QUALIFIED_CLASS_NAME__:"SchoolworkHost"}}),ZC={USER_CANCELLED:"USER_CANCELLED"};Object.freeze(ZC);var eA,tA=XC.extend({init:function(e,t,n){this.processInfo={record:t,zoneId:e.toHash().zoneID},this.__s._$AI$init.call(this,n),this.userInfo.webBag=Xg.cloudOSService.cloudOSState},host:X.b(ut.b(JC)),url:X.b({readOnly:!0,get:function(){var e=globalThis.location.hostname,t=a.c();a.a.sharedInstance.isRTL&&(t=this.getPath("COSK.globals.environment.accountPreferences.secondaryLocale")||"en-us");return Wb("https://"+e+"/applications/schoolwork/current/"+t+"/index.html#/activity-share")}}),didEnd:function(e,t){var n=this,i=arguments;n.__s._$VA$didEnd.apply(n,i),e===ZC.USER_CANCELLED?this.sendEvent("didCancelSchoolwork"):this.sendEvent("didCompleteSchoolwork")},__superMap:{_$AI$init:"init",_$VA$didEnd:"didEnd"},staticMembers:{__QUALIFIED_CLASS_NAME__:"SchoolworkHostedApplicationViewController"}}),nA=ri.a.extend({viewClass:gC,view:X.b({downstreamBindings:{subtitle:"(owner).subtitle",title:"(owner).title",url:"(owner).value",valueIsAlwaysLTR:"(owner).valueIsAlwaysLTR"}}),title:X.b(),subtitle:X.b(),value:X.b(),valueIsAlwaysLTR:X.b(),didAttach:function(){var e=this,t=arguments;e.__s._$EL$didAttach.apply(e,t),this.view.selectURL(),this.sendEvent("contentDidResize")},close:function(){this.sendEvent("didCompleteCopyText")},__superMap:{_$EL$didAttach:"didAttach"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CopyTextViewController"}}),iA={mixinDependencies:[Me.a],convertToPrivateShare:De.a.define(),createShare:De.a.define(),deleteShare:De.a.define(),updateShare:De.a.define()},rA=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"activeView"}],classes:["workflow-view"]},className:"ck-sharing-workflow-view",__QUALIFIED_CLASS_NAME__:"WorkflowView"}}),aA=ri.a.extend(iC,{permissionValueForAddingParticipants:X.b(),ioService:X.b({strong:!0}),cacheingProvideRootRecordFunction:null,share:X.b(),settings:X.b({type:jE}),state:Y.c({readOnly:!0,get:function(){return this._promise.promiseState}}),showViewController:function(e){this.activeViewController=e},start:function(e){throw new Error("start not overriden")},complete:function(){this.didComplete()},didComplete:function(){var e=de.a(this.ioService.mostRecentShareDataHashFromServer);e&&delete e.currentUserParticipant,this._promise.resolve({share:e})},showCopyTextViewController:function(e,t,n,i){var r=nA.create({title:e,subtitle:t,value:n,valueIsAlwaysLTR:i,viewClass:Mi.a({additionalClassNames:Mi.a(["workflow-view"])})}),a=WC.extend({didCompleteCopyText:function(){this.hide()}}).create();a.showViewController(r),a.show()},cancel:function(e){this._promise.reject(e)},sharingUIIsReady:function(){var e,t=dt.a.application;t&&(e=t.getPath("topFocusablePane.contentController.view.element"));var n=bt.a(e)?[e.getBoundingClientRect()]:void 0;return oA(this.settings,"sharingUIIsReady",n)},additionalButtonWasPressed:function(){return oA(this.settings,"additionalButtonWasPressed",arguments)},viewClass:rA,activeViewController:Oi.a.define({viewOutlet:"activeView"}),init:function(e,t,n,i){if(!e||!e.constructor.kindOf||!e.constructor.kindOf(iA))throw new Error("Dependency missing: CKSharing.WorkflowViewController.create() requires an object implementing `CKSharing.SharingIOServiceProtocol` as the first argument.");if(!t||"function"!==typeof t)throw new Error("Dependency missing: CKSharing.WorkflowViewController.create() requires a cacheingProvideRootRecordFunction function of type `() -> Promise<CKSharing.CKRecord>` as the second argument");if(!n||!n.constructor.kindOf||!n.constructor.kindOf(jE))throw new Error("Dependency missing: CKSharing.WorkflowViewController.create() requires a `CKSharing.Settings` object as the third argument.");this.ioService=e,this.cacheingProvideRootRecordFunction=t,this.settings=n,this.__s._$2Qb$init.call(this,i)},_promise:X.b({defaultValue:ut.b(Z.a)}),__superMap:{_$2Qb$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"WorkflowViewController"}}),oA=function(e,t,n){var i=e&&e[t];if(!xe.a(i))return!1;i.apply(i,n)},sA=WC.extend({viewClass:Mi.a({additionalClassNames:Mi.a(["mail-compose"])}),didCompleteSendMessage:function(){this.beginAnimateOffScreen(VC.up,this.delegate.didCompleteSendMessage.bind(this.delegate))},didCancelSendMessage:function(){this.delegate.didCancelSendMessage(),this.beginAnimateOffScreen(VC.down)},beginAnimateOffScreen:function(e,t){var n=this.getPath("view.element"),i=n.classList;i?(e===VC.up?i.add("is-sending"):i.add("is-canceling"),ee.a(n,"transitionend",this.endAnimateOffScreen.bind(this,t))):this.endAnimateOffScreen(t)},endAnimateOffScreen:function(e){e&&e(),this.hide()},staticMembers:{__QUALIFIED_CLASS_NAME__:"MailComposePopupViewController"}}),lA=aA.extend({preselectedTransport:X.b(),addParticipantsViewController:X.b({strong:!0,get:function(){return pC.create({ioService:this.bindingFor("ioService"),cacheingProvideRootRecordFunction:this.cacheingProvideRootRecordFunction,settings:this.bindingFor("settings"),share:this.bindingFor("share"),sharePopoverIsActive:this.bindingFor("sharePopoverIsActive"),permissionValueForAddingParticipants:this.bindingFor("permissionValueForAddingParticipants"),preselectedTransport:this.bindingFor("preselectedTransport")})}}),copyLinkViewController:X.b({strong:!0,get:function(){return SC.create({settings:this.settings,share:this.share,permission:this.bindingFor("permissionValueForAddingParticipants")})}}),mailComposeViewController:X.b({strong:!0,get:function(){return BC.create({ioService:this.bindingFor("ioService"),cacheingProvideRootRecordFunction:this.cacheingProvideRootRecordFunction,settings:this.bindingFor("settings"),share:this.bindingFor("share"),permissionValueForAddingParticipants:this.bindingFor("permissionValueForAddingParticipants"),originatorSharingWorkflowVC:this})}}),generateSchoolworkViewController:function(e,t){var n=tA.create(e,t);return GC.create({schoolworkHostedApplicationViewController:n})},sharePopoverIsActive:X.b(),start:function(){var e=this,t=Zb.COPY_LINK,n=this.settings,i=n.supportedTransports,r=1===i.length&&i[0]===t,a=this.share;return a&&a.isPublic&&r?this.showCopyLinkViewController():this.showAddUI(),n.logService.recordStat("StartedAddParticipantsWorkflow",{appName:n.appName}),this.ioService.start().then((function(){return e._promise}))},didCompleteCopyLink:function(){this.didComplete()},didCancelAddParticipant:function(){this.didComplete()},didCancelSendMessage:function(){this.sharePopoverIsActive=!1},didShareByCopyingLink:function(){this.showCopyLinkViewController(),this.sendEvent("didUpdateShareRecord",this.share,!0)},didCompleteSendMessage:function(){this.sharePopoverIsActive=!1,this.didComplete()},didCompleteSchoolwork:function(){this.sharePopoverIsActive=!1,this.didComplete()},didCancelSchoolwork:function(){this.sharePopoverIsActive=!1,this.didComplete()},shareByWebMail:function(){var e=this;if(this.sharePopoverIsActive=!0,this.share.shortGUID)return this.showComposeMailViewController().then((function(){return e.share}));var t=this.settings,n={provideRootRecordForUpdate:this.cacheingProvideRootRecordFunction,provideLatestRootRecordAfterUpdateConflict:t.provideLatestRootRecordAfterUpdateConflict,didUpdateRootRecord:t.didUpdateRootRecord},i={operationType:"INVITE_TO_PUBLIC",appName:t.shareItemType,interactionMode:t.primaryInteractionMode};return this.setIsReadyToTerminateBlock("shareByWebMail"),this.cacheingProvideRootRecordFunction().then((function(t){return e.ioService.createShortGUID(t,n)})).then((function(t){return e.share.shortGUID=t.shortGUID,e.showComposeMailViewController().then((function(){return e.share}))})).catch(eC(i,t.notificationService,t.logService)).finally((function(){e.removeIsReadyToTerminateBlock("shareByWebMail")}))},shareBySchoolwork:function(){this.sharePopoverIsActive=!0,this.showSchoolworkViewController()},createComposeWindowConfiguration:function(){var e=this.settings,t=this.share,n=lC(t,e),i=Zb.WEB_MAIL;return e.provideBodyForTransport(i,n).then((function(n){var i=n;return void 0===i&&(i=function(e,t){var n=function(e,t,n,i,r,o){var s;s=n,n=(s=vI.b(s))&&s.length>0?s:null,e=vI.a(e);var l,c=(i=vI.b(i)).toLowerCase();if(i=c in cC?a.d(cC[c]):i,r)r=vI.a(r);else switch(o){case"pages":r="https://www.icloud.com/mail_resources/app_icons/pages@2x.png";break;case"numbers":r="https://www.icloud.com/mail_resources/app_icons/numbers@2x.png";break;case"keynote":r="https://www.icloud.com/mail_resources/app_icons/keynote@2x.png";break;case"notes":r="https://www.icloud.com/mail_resources/app_icons/notes@2x.png";break;default:r="https://www.icloud.com/mail_resources/app_icons/icloud@2x.png"}l=n?'<div style="color:#000000;font-weight:500;text-align:left;text-overflow:ellipsis;font-size:12px;word-wrap:break-word;overflow:hidden;"><a rel="nofollow" href="'+e+'" style="text-decoration: none" draggable="false"><font color="#000000">'+n+'</font></a></div><div style="color:#8E8E93;font-weight:400;text-align:left;text-overflow:ellipsis;font-size:11px;word-wrap:break-word;overflow:hidden;"><a rel="nofollow" href="'+e+'" style="text-decoration: none" draggable="false"><font color="#8E8E93">'+i+"</font></a></div>":'<div style="color:#000000;font-weight:500;text-align:left;text-overflow:ellipsis;font-size:12px;word-wrap:break-word;overflow:hidden;"><a rel="nofollow" href="'+e+'" style="text-decoration: none" draggable="false"><font color="#000000">'+a.d("CKSharing.RichLink.NoShareTitle",{appName:i})+"</font></a></div>";var u=a.a.sharedInstance.isRTL?"rtl":"ltr";return'<div dir="'+u+'"><div>'+t+'</div><a contenteditable="false" style="border-radius:5px;display:block;text-decoration:none;font-family:-apple-system, Helvetica, Arial, sans-serif;overflow:hidden;width:300px;" rel="nofollow" href="'+e+'" dir="'+u+'" role="button" draggable="false" width="300"><table style="table-layout:fixed;border-collapse:collapse;width:300px;background-color:#E5E6E9;font-family:-apple-system, Helvetica, Arial, sans-serif;" cellpadding="0" cellspacing="0" border="0" width="300"><tbody><tr><td vertical-align="center"><table bgcolor="#E5E6E9" cellpadding="0" cellspacing="0" width="300" style="font-family:-apple-system, Helvetica, Arial, sans-serif;table-layout:fixed;"><tbody><tr><td style="padding:9px 0px 9px 9px;" width="30"><a rel="nofollow" href="'+e+'" draggable="false"><img src="'+r+'" draggable="false" style="pointer-events:none !important;display:inline-block;width:30px;height:30px;vertical-align:middle;" width="30" height="30"></a></td><td style="padding:8px 0px 8px 0px;"><div style="max-width:100%;margin:0px 16px 0px 8px;overflow:hidden;">'+l+"</div></td></tr></tbody></table></td></tr></tbody></table></a></div>"}(lC(t,e),uC(e,t),e.shareTitle,e.appName,null,e.shareUrlNamespace);return'<div dir="'+(a.a.sharedInstance.isRTL?"rtl":"ltr")+'"><br><br></div>'+n}(e,t)),e.provideSubjectForMail().then((function(t){var n=t;return void 0===n&&(n=dC(e)),{subject:n,body:i,appName:e.appName}}))}))},showAddUI:function(){var e=this.addParticipantsViewController;this.showViewController(e),e.setUp()},showComposeMailViewController:function(){var e=this;return this.createComposeWindowConfiguration(this.share).then((function(t){var n=e.mailComposeViewController;n.setUp(),n.composeMail(t);var i=e.previousViewController=e.activeViewController;i&&(n.operationType=i.operationType);var r=sA.create({delegate:e});r.showViewController(n);var a=dt.a.application;a&&a.presentViewController(r)}))},showCopyLinkViewController:function(){var e=this.copyLinkViewController;this.showViewController(e)},showSchoolworkViewController:function(){var e=this;this.cacheingProvideRootRecordFunction().then((function(t){var n=e.ioService.zoneID,i=e.generateSchoolworkViewController(n,t);i.becomeActive().catch((function(e){throw e}));var r=zC.create({contentController:i,delegate:e});r.showViewController(i);var a=dt.a.application;a&&a.presentViewController(r)}))},canonicalizePhoneNumbers:function(e,t){var n=this.settings;t.value=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.map((function(e){return{phoneNumber:e=Cl(e)}})),r={lookupInfos:i};return(t?t(r):mC(r,n)).send().then((function(e){var t=e.body&&e.body.results;if(!t||!t.map)throw new Error("Server response to canonicalizePhoneNumbers returned data in an invalid format");return t.map((function(e){return e.canonicalized}))}))}(e,n.canonicalizePhoneNumberRequestGenerationFunction,n.hostedByCloudOSOne)},staticMembers:{__QUALIFIED_CLASS_NAME__:"AddParticipantsWorkflowViewController"}}),cA=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"header",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"TEXT",data:" "}]}]},{type:"VIEWOUTLET",tagname:"view",name:"busyView"}],classes:["easy-share-view"]},__QUALIFIED_CLASS_NAME__:"EasyShareView"},busyView:X.b({readOnly:!0,get:function(){return lE.create({isVisible:!0})}}),busyDescription:X.b(a.d("CKSharing.Busy.Loading.Description"))}),uA=ri.a.extend({viewClass:cA,staticMembers:{__QUALIFIED_CLASS_NAME__:"EasyShareViewController"}}),dA={staticMembers:{className:"initiate-share-view",templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldShowShareOptions",truevalue:"has-share-options",attributes:{}}]}}},additionalButtonTitle:X.b(),additionalClassNames:Mi.a(["sharing-dialog"]),shouldShowShareOptions:X.b({readOnly:!0,dependencies:["supportedAccess","supportedPermissions"],get:Object.assign((function(){var e=this.supportedAccess,t=this.supportedPermissions;if(e&&t)return e.length>1||t.length>1}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[1+n]);if(r&&a)return r.length>1||a.length>1}})}),accessControlsSection:X.b({defaultValue:ut.b(ey.extend({isToggleEnabled:!0})),downstreamBindings:{additionalButtonTitle:"(owner).additionalButtonTitle"}})},hA=bE.extend({mixinDependencies:[dA],staticMembers:{__QUALIFIED_CLASS_NAME__:"InitiateShareViewForMouse"}}),fA=SE.extend({mixinDependencies:[dA],staticMembers:{__QUALIFIED_CLASS_NAME__:"InitiateShareViewForTouch"}}),pA=pC.extend({operationType:aC.INITIATE_SHARE,showPermissionsDropdown:X.b({readOnly:!0,dependencies:["settings.supportedPermissions"],get:Object.assign((function(){var e=this.settings.supportedPermissions;return e&&e.length>1}),{__CW__getter:function(e,t,n,i){var r=i.internalGetPath(this,t[0+n]);return r&&r.length>1}})}),createView:function(){var e=this.settings,t=e.primaryInteractionMode,n=e.shouldHideAddParticipantsSummary;return t===FE.TOUCH?fA.create():hA.create(n)},view:X.b({downstreamBindings:{additionalButtonTitle:"(owner).settings.additionalButtonTitle",supportedAccess:"(owner).settings.supportedAccess",title:"(owner).settings.initiateSharePaneTitle",subtitle:"(owner).settings.initiateSharePaneSubtitle"}}),setEffectiveAccess:function(e){var t=this.share;t.setEffectiveAccess(e,this.permissionValueForAddingParticipants),t.effectiveAccess===Ks.PUBLIC&&this.view.clearInvitationsTextField()},setEffectivePermission:function(e){var t=this.share;t.isPublic&&t.setEffectivePermission(e),this.permissionValueForAddingParticipants=e},setUp:function(){var e=this,t=arguments,n=this.settings,i=n.recordHasShare,r=Boolean(n.useAnonymousPublicAccess);if(i)e.__s._$13h$setUp.apply(e,t);else{var a=n.defaultAccess===Ks.PUBLIC?n.defaultPermission:Gs.NONE;this.share=this.ioService.createShareFromDataHash({fields:n.shareRecordFields,forRecord:null,publicPermission:a,shortGUID:void 0,recordType:"cloudkit.share",anonymousPublicAccess:r}),this.permissionValueForAddingParticipants=n.defaultPermission,this.sendEvent("sharingUIIsReady")}},shouldShowUserName:X.b({readOnly:!0,get:function(){return!0}}),showAXMFetchMembersAlert:function(e){e?this.settings.notificationService.error("UNABLE_TO_FETCH_MEMBERS",{locNamespace:"CKSharing.ErrorDialog.AXMGroup",messageFormatValues:{groupName:e}}):ze.b("groupName is needed in order to show the alert.")},__superMap:{_$13h$setUp:"setUp"},staticMembers:{__QUALIFIED_CLASS_NAME__:"InitiateShareViewController"}}),mA=lA.extend({initiateShareViewControllerClass:pA,initiateShareViewController:X.b({strong:!0,get:function(){return this.initiateShareViewControllerClass.create({cacheingProvideRootRecordFunction:this.cacheingProvideRootRecordFunction,ioService:this.bindingFor("ioService"),settings:this.bindingFor("settings"),share:this.bindingFor("share"),sharePopoverIsActive:this.bindingFor("sharePopoverIsActive"),permissionValueForAddingParticipants:this.bindingFor("permissionValueForAddingParticipants"),preselectedTransport:this.bindingFor("preselectedTransport")})}}),showInitiateUI:function(){var e=this.initiateShareViewController;this.showViewController(e),e.setUp()},start:function(){var e=this;this.showInitiateUI();var t=this.settings;return t.logService.recordStat("StartedInitiateShareWorkflow",{appName:t.appName}),this.ioService.start().then((function(){return e._promise}))},shareByWebMail:function(){var e=this,t=arguments;this.sharePopoverIsActive=!0;var n=this.initiateShareViewController;return this.getPath("share.isPublic")&&n?n.saveShare().then((function(n){if(void 0!==n)return e.__s._$17s$shareByWebMail.apply(e,t)})):e.__s._$17s$shareByWebMail.apply(e,t)},didCancelSendMessage:function(){var e=this,t=arguments;this.getPath("share.isPublic")?this.didComplete():e.__s._$1Sa$didCancelSendMessage.apply(e,t)},__superMap:{_$17s$shareByWebMail:"shareByWebMail",_$1Sa$didCancelSendMessage:"didCancelSendMessage"},staticMembers:{__QUALIFIED_CLASS_NAME__:"InitiateShareWorkflowViewController"}}),gA=Di.a.extend({additionalClassNames:["cw-list-item-view"],content:Object(X.b)(),layout:Object(X.b)(),layoutMetrics:Object(X.b)(),staticMembers:{className:"cw-ui-collections-list-item-view",__QUALIFIED_CLASS_NAME__:"ListItemView"}}),vA=fS.extend({viewClass:Object(Mi.a)({additionalClassNames:Object(Mi.a)(["cw-list-view"]),mixinDependencies:[tS]}),view:Object(X.b)({downstreamBindings:{topInset:"(owner).layoutMetrics.topInset"}}),layoutDelegate:Object(ut.b)(MS),collection:Object(X.b)(),presenter:Object(X.b)({defaultValue:Object(ut.b)(LS.extend({itemViewDidMove:function(e,t){var n=e.element.style,i=t.width,r=t.height,a=t.x,o=t.y,s=this.presentingView;s&&s.hasMixin(Xy)&&(a+=s.nativeScrollX,o+=s.nativeScrollY),Object(j_.b)(n,a,o),n.width=i===this.owner.viewportWidth?"100%":i+"px",n.height=r+"px"}})),downstreamBindings:{itemViewClass:"(owner).itemViewClass"}}),itemViewClass:Object(X.b)({readOnly:!0,defaultValue:gA}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ListViewController"}}),_A={keyDown:function(e){var t=(Io.a.sharedInstance.isWindows?e.ctrlKey:e.metaKey)&&e.keyCode===ji.a.A;return t&&(this.sendEvent("selectAll"),e.preventDefault()),t||"function"===typeof this.__s._$A1$keyDown&&!!this.__s._$A1$keyDown.call(this,e)},__superMap:{_$A1$keyDown:"keyDown"}},bA={mixinDependencies:[_y.a,gS],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isSelected",truevalue:"cw-selected",falsevalue:"cw-not-selected",attributes:{}}],attributes:{"aria-selected":{type:"ATTRIBUTEOUTLET",bindingtype:"IFBINDING",name:"isSelected",truevalue:"true",attributes:{},attribute:"aria-selected"}}}}},isFocusable:!0,tabIndex:-1,scrollView:Object(X.b)({get:function(){for(var e=this;null!==e&&!e.instanceOf(Zy);)e=e.parent;return e}}),gestureRecognizerShouldReceive:function(e){var t=this,n=arguments,i=this.scrollView;return(!i||!i.hasMomentum)&&t.__s._$QB$gestureRecognizerShouldReceive.apply(t,n)},__superMap:{_$QB$gestureRecognizerShouldReceive:"gestureRecognizerShouldReceive"}},yA={selectionDirectionByKeyCode:(eA={},eA[ji.a.UP]=HS.UP,eA[ji.a.DOWN]=HS.DOWN,eA),keyDown:function(e){var t=this.selectionDirectionByKeyCode[e.keyCode],n=t instanceof Object;return n&&(this.selectInDirection(t,e),e.preventDefault()),n||"function"===typeof this.__s._$E1$keyDown&&!!this.__s._$E1$keyDown.call(this,e)},selectInDirection:function(e,t){var n=this.collection;if(n&&n.length){var i=this._findFromHandleForDirectionalSelectionAction(),r=this._findToHandleAndSelectionModeForDirectionalSelectionAction(e,t,i),a=r.toHandle,o=r.selMode,s=a instanceof Object&&a.isValid?a:i;if(s instanceof Object){this.userPerformedSelectionOperation(s,o);var l=s.isValid&&!s.wasRemoved?s:n.handleProvider.startHandle.atDistance(Math.min(n.length-1,s.position||0));l.isValid&&this.scrollToHandle(l);var c=this.layoutDelegate.cellForHandleIfPresent(l);if(c instanceof Object&&this.presenter.viewForCell){var u=this.presenter.viewForCell(c);u&&u.focus()}}}},_findFromHandleForDirectionalSelectionAction:function(){var e=this.collection,t=this.selectionController,n=t.pivot,i=t.extendedTo,r=i instanceof Object&&!i.wasRemoved?i:n;return r instanceof Object&&!r.wasRemoved||(r=e.startHandle),r},_findToHandleAndSelectionModeForDirectionalSelectionAction:function(e,t,n){var i,r=this.selectionController,a=r.pivot,o=GS.SET;if(0===r.selection.length)i=n;else if(t.altKey)i=r.getLastHandleInDirection(n,e),t.shiftKey&&(o=GS.EXTEND);else if(i=r.getHandleInDirection(n,e),t.shiftKey&&(o=GS.EXTEND,i instanceof Object&&r.isItemAtHandleSelected(i)&&!(Math.min(a.position,n.position)<=i.position&&i.position<=Math.max(a.position,n.position)))){var s=r.getSelectableHandleInDirection(i,e);s instanceof Object&&(i=s)}return{toHandle:i,selMode:o}},__superMap:{_$E1$keyDown:"keyDown"}},SA=by.b.Ended,IA={itemViewDidMove:function(e,t){var n=this,i=arguments;n.__s._$Hv$itemViewDidMove.apply(n,i);var r=this.owner.isCellSelected(t);if(e.isSelected=r,r&&e.parent.isFocused){var a=this.owner.selectionController,o=a.extendedTo,s=a.pivot,l=o instanceof Object?o:s,c=t.handle===l;c&&e.focus()}},itemViewDidExit:function(e,t){var n=this,i=arguments;n.__s._$RU$itemViewDidExit.apply(n,i),e.isInFocusedBranch&&(e.blur(),e.parent.focus())},viewForViewClass:function(e){var t=this,n=arguments,i=t.__s._$UI$viewForViewClass.apply(t,n),r=e.hasMixin(_y.a)?i:this.owner,a=i.singleTapGestureRecognizer=bS.create({event:"selectView",delegate:r});i.addGestureRecognizer(a);var o=i.extendGestureRecognizer=bS.create({modifiers:[$y.Shift],event:"extendSelectView",delegate:r});i.addGestureRecognizer(o);var s=i.toggleGestureRecognizer=bS.create({modifiers:[Io.a.sharedInstance.isWindows?$y.Ctrl:$y.Cmd],event:"toggleSelectView",delegate:r});return i.addGestureRecognizer(s),i},__superMap:{_$Hv$itemViewDidMove:"itemViewDidMove",_$RU$itemViewDidExit:"itemViewDidExit",_$UI$viewForViewClass:"viewForViewClass"}},wA={mixinDependencies:[mS,_y.a,gS,_A,yA],viewClass:Object(Mi.a)({isFocusable:!0,init:function(){var e=this,t=arguments;e.__s._$12p$init.apply(e,t);var n=this.clearSelectionTapGestureRecognizer=Gy.create({event:"clearSelection",delegate:this});this.addGestureRecognizer(n)},__superMap:{_$12p$init:"init"}}),selectView:function(e){var t=e.state,n=e.view;if(t===SA){var i=this.presenter.cellForView(n);i&&"item"===i.cellType&&this.sendEvent("userSelectionRequest",{view:n,operation:GS.SET})}},extendSelectView:function(e){var t=e.state,n=e.view;if(t===SA){var i=this.presenter.cellForView(n);i&&"item"===i.cellType&&this.sendEvent("userSelectionRequest",{view:n,operation:GS.EXTEND})}},toggleSelectView:function(e){var t=e.state,n=e.view;if(t===SA){var i=this.presenter.cellForView(n);i&&"item"===i.cellType&&this.sendEvent("userSelectionRequest",{view:n,operation:GS.TOGGLE})}},gestureRecognizerShouldReceive:function(e,t){var n=this,i=arguments;if(e.instanceOf(bS)){var r=e.view;return"item"===this.presenter.cellForView(r).cellType}return n.__s._$1aq$gestureRecognizerShouldReceive.apply(n,i)},userSelectionRequest:function(e){if(e){var t=e.view,n=e.operation,i=this.presenter.cellForView(t);this.selectCell(i,n)}},itemViewClass:Object(Mi.a)(bA),presenter:Object(Mi.a)(IA),selectionController:Object(X.b)({defaultValue:Object(ut.b)(cI),downstreamBindings:{collection:"(owner).collection",isMultipleSelectionEnabled:"(owner).isMultipleSelectionEnabled",isEmptySelectionEnabled:"(owner).isEmptySelectionEnabled"}}),selectionDelegate:Object(ut.b)(Ge.a.extend(dI)),selectItem:function(e,t){if(this.isSelectionEnabled){var n=this.collection.indexOf(e);this.selectItemAtIndex(n,t)}},selectItemAtIndex:function(e,t){if(this.isSelectionEnabled){var n=this.collection.startHandle.at(e);this.userPerformedSelectionOperation(n,t)}},__superMap:{_$1aq$gestureRecognizerShouldReceive:"gestureRecognizerShouldReceive"}},EA=["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onChange","onInput","onInvalid","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onLoad","onError","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd","onToggle"],CA=function(e){var t,n;function i(t){var n,i=(n=e.call(this,t)||this).registerEvent.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n));return n.eventHandlers=EA.reduce((function(e,t){var n;return Object.assign(e,((n={})[t]=i,n))}),{}),n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=i.prototype;return r.registerEvent=function(e){this.props.eventRegistry.add(e.nativeEvent)},r.render=function(){var e=this.props.children;return d.a.createElement("div",Object.assign({},this.eventHandlers),e)},i}(d.a.Component),AA=n(416),TA=Ge.a.extend(uS.a,a_.a,e_.a,AA.a,{init:function(){var e=this,t=arguments;this.element=document.createElement("div"),this.element.view=this,e.__s._$Am$init.apply(e,t)},isFocusable:!0,nextResponder:Y.c({get:function(e){return e||this.parent}}),__superMap:{_$Am$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RenderView"}}),OA=u.createContext(void 0),DA=TA.extend({displayName:"",render:De.a.define(),unhandledEvents:new Set,handleEvent:function(e,t){var n=!1;return t&&t.nativeEvent&&(n=!this.unhandledEvents.has(t.nativeEvent),this.unhandledEvents.clear()),n},shouldUnmountOnDetach:Y.c({defaultValue:!0,readOnly:!0}),isAttached:X.b(J.c("parent.isAttached")),_mountOrUnmountOnIsAttachedChange:Ni.f("isAttached",(function(e){this.shouldUnmountOnDetach&&(e?this.renderDOM():p.unmountComponentAtNode(this.element))})),_componentWrapper:X.b({readOnly:!0,get:function(){var e=function(e){return e.component};return e.displayName=this.displayName||this.constructor.name,e}}),renderDOM:function(){var e=this;this._renderScheduled||(this._renderScheduled=!0,ft.a((function(){e._renderScheduled=!1,e._actuallyRenderDOM()})))},_actuallyRenderDOM:function(){if(!this.isDisposed&&!this.isDisposing&&(!this.shouldUnmountOnDetach||this.isAttached)){var e=this.render(),t={viewParent:this,viewControllerParent:MA(this)},n=this._componentWrapper;p.render(u.createElement(OA.Provider,{value:t},u.createElement(CA,{eventRegistry:this.unhandledEvents},u.createElement(n,{component:e}))),this.element)}},dispose:function(){var e=this,t=arguments;p.unmountComponentAtNode(this.element),e.__s._$1S2$dispose.apply(e,t)},__superMap:{_$1S2$dispose:"dispose"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ReactView"}});function MA(e){for(var t=e;t;){if(t.viewController)return t.viewController;t=t.parent}return null}var NA=n(685);function FA(e){return null!=e&&"string"!==typeof e&&"boolean"!==typeof e&&"number"!==typeof e&&"type"in e}var LA=function(e){return++e%1e6},RA=function(){var e=Object(u.useState)(0)[1];return Object(u.useCallback)((function(){return e(LA)}),[])};function xA(e){var t=e.changedTouches.item(0);return t?document.elementFromPoint(t.clientX,t.clientY):null}function PA(){return(PA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var kA,UA=function(e){var t=e.styles,n=void 0===t?{}:t,i=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["styles"]);return d.a.createElement("svg",PA({className:n["ui-menu-icon-check"]||"ui-menu-icon-check",width:"12",height:"13",xmlns:"http://www.w3.org/2000/svg"},i),d.a.createElement("path",{className:n["at3-check"]||"at3-check",d:"M7.754 3.645c-.62.895-1.68 2.3-2.36 3.125l-1.23 1.5c-1.175-1.745-1.685-2.245-1.89-2.24-.205 0-.71.2-1.125.44-.63.37-.47.885 1 3.23.96 1.535 1.87 2.73 2.02 2.655.15-.07 1.67-2.09 3.375-4.485 2.6-3.645 3.005-4.475 2.48-5.12-.345-.425-.74-.765-.885-.75-.145.01-.765.75-1.385 1.645z"}),d.a.createElement("path",{className:n["sf-check"]||"sf-check",d:"M4.633 12.345c.4 0 .712-.16.931-.485l6.225-9.603c.16-.239.226-.458.226-.665 0-.545-.4-.937-.958-.937-.385 0-.618.133-.85.505l-5.6 8.858-2.86-3.604c-.226-.273-.458-.4-.79-.4-.566 0-.972.4-.972.951 0 .24.08.466.286.705l3.438 4.223c.26.313.545.452.924.452z"}))},jA=function(){return(jA=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function BA(e){var t=e.children,n=e.checkable,i=e.exclusiveCheckable,r=e.checked,a=e.disabled,o=e.className,s=e._isHighlighted,l=e._isChosen,c="menuitem";return n&&(c="menuitemcheckbox"),i&&(c="menuitemradio"),d.a.createElement("ui-menu-item",{role:c,"aria-checked":n||i?r?"true":"false":void 0,"aria-disabled":!!a||void 0,tabindex:a?-1:0,class:f()(o,s?"is-highlighted":void 0,l?"is-chosen":void 0)},r?d.a.createElement(UA,null):void 0,t)}function VA(e){var t=e.className;return d.a.createElement("ui-menu-divider",{"aria-hidden":"true",class:t})}!function(e){e.Discrete="DISCRETE",e.Continuous="CONTINUOUS"}(kA||(kA={}));var $A=d.a.forwardRef((function(e,t){var n=e.directionCSSClassName,i=e.hoverStart,r=e.hoverEnd;return d.a.createElement("ui-menu-scroller",{ref:t,class:n,onMouseOver:i,onMouseLeave:r,onFocus:function(){},"aria-hidden":"true"})}));$A.displayName="UIMenuScroller";var WA,zA=d.a.forwardRef((function(e,t){!function(e){var t=new Set,n=!1;d.a.Children.forEach(e,(function(e){if(YA(e)){var i=e.props,r=i.value,a=i.initialHighlighted;if(void 0===r)throw new Error("`UIMenuItem` must have a value, which may not be `undefined`.");if(t.has(r))throw new Error("Two UIMenuItems in one UIMenu may not have the same value ("+r+").");if(t.add(e.props.value),a){if(n)throw new Error("You can only specify `initialHighlighted` on one UIMenuItem per menu.");n=!0}}}))}(e.children);var n,i,r,a,o=Object(u.useState)((function(){var t=-1;return d.a.Children.forEach(e.children,(function(e,n){YA(e)&&e.props.initialHighlighted&&(t=n)})),t})),s=o[0],l=o[1],c=Object(u.useState)(void 0),h=c[0],p=c[1],m=d.a.Children.map(e.children,(function(e,t){var n,i=YA(e)&&e.key||t;if(YA(e))return d.a.createElement(BA,jA({},e.props,{key:i,_isHighlighted:t===s,_isChosen:e.props.value===h}));if(FA(n=e)&&n.type===VA)return d.a.createElement(VA,jA({},e.props,{key:i}));if(e)throw new Error("Unexpected child of menu. Got "+function(e){if(null==e)return"[missing node]";if("string"===typeof e||"boolean"===typeof e||"number"===typeof e)return"[text node]";var t=e;return"function"===typeof t.type?t.type.displayName||t.type.name:"string"===typeof t.type?t.type:"symbol"===typeof t.type&&"Symbol(react.fragment)"===t.type.toString()?"React.Fragment":"[unknown node]"}(e)+", expected UIMenuItem or UIMenuDivider.")})).filter(Boolean),g=window.matchMedia("(pointer: coarse)").matches,v=e.scrollMode||(g?kA.Continuous:kA.Discrete),_=Object(u.useRef)(null),b=function(e){var t=RA(),n=Object(u.useRef)(void 0!==e?Math.max(0,e):void 0);return void 0===n.current&&e!==n.current&&(n.current=Math.max(0,e||0)),[n.current||0,Object(u.useCallback)((function(e){n.current=e,t()}),[t])]}(e.initialScrollOffset),y=b[0],S=b[1],I=Object(u.useState)(0),w=I[0],E=I[1],C=e.frame,A=void 0!==e.initialScrollOffset?e.initialScrollOffset:v===kA.Discrete?0:void 0,T=!1,O=!1;void 0!==C&&(n=C.top,i=C.left,QA(C)&&(r=C.width,a=C.height,_.current&&void 0!==A&&(A>0?(n=C.top,a=Math.min(_.current.scrollHeight-A+w,C.height),T=a<C.height):A<0&&(n=C.top-A-w,a=Math.min(C.height+A+w,C.height),O=n>C.top))));var D=!1,M=!1;if(_.current&&void 0!==a){D=y>0;var N=_.current.scrollHeight;M=y+a<N}var F=Object(u.useRef)(0);function L(t){if(l(t),e.onItemHighlighted)if(t>-1){var n=m[t];e.onItemHighlighted(n.props.value)}else e.onItemHighlighted(void 0)}function R(t){if(t>-1){var n=m[t];if(n){var i=n.props.value;p(i),e.onItemSelectedSync&&e.onItemSelectedSync(i)}}}function x(e,t){if(C&&QA(C)&&_.current&&void 0!==A){var n=0;if(T?n=C.height-(_.current.scrollHeight-A):O&&O&&(n=-A),t===WA.Down&&O)(i=w+e-y)<n?E(i):(E(n),C.height<_.current.scrollHeight&&S(y+(i-n)));else if(t===WA.Up&&T){var i;(i=w+Math.abs(e-y))<n?(E(i),S(e)):(E(n),C.height<_.current.scrollHeight&&S(y+(i-n)))}else S(e)}}function P(e){if(null!==_.current&&void 0!==a){var t=_.current.children,n=null;if(e===WA.Up)for(var i=0;i<t.length;i++){if((r=t[i]).offsetTop+r.offsetHeight>y)return null!=n?n.offsetHeight:null;n=r}else for(i=t.length-1;i>=0;i--){var r;if((r=t[i]).offsetTop<y+a)return null!=n?n.offsetHeight:null;n=r}}return null}var k=Object(u.useRef)(null);function U(e,t){if(_.current){var n,i=P(t);n=null!=i&&t===WA.Up?y-i:null!=i&&t===WA.Down?y+i:e,x(GA(_.current,n),t)}}var j=Object(u.useRef)(U);j.current=U;var B=Object(u.useRef)(null);function V(e){if(_.current){var t=s;-1===s&&e===WA.Up&&(t=m.length);var n=function(e,t,n){var i,r;n===WA.Up?(i=t-1,r=0):(i=t+1,r=e.length-1);for(var a=i;a*n<=r*n;a+=n){var o=e[a];if(o&&YA(o)&&!o.props.disabled)return a}return t}(m,t,e),i=_.current.children[n];B.current=i,L(n),void 0!==a&&x(n===m.length-1?_.current.scrollHeight-a:0===n?0:GA(_.current,function(e,t){if(_.current&&void 0!==a)if(t===WA.Up){var n=D?18:0,i=e.offsetTop-n;if(i<y)return i}else if(t===WA.Down){var r=M?18:0,o=y+a,s=e.offsetTop+e.offsetHeight+r;if(s>o)return s-a}return y}(i,e)),e),z()}}Object(u.useLayoutEffect)((function(){_.current&&(_.current.scrollTop=y+(D?18:0),B.current&&(B.current.focus(),B.current=null))}));var $=Object(u.useRef)(null),W=Object(u.useRef)(!1),z=Object(u.useCallback)((function(){var e=$.current;e&&window.clearTimeout(e),W.current=!0,$.current=setTimeout((function(){W.current=!1}),200)}),[]);Object(u.useLayoutEffect)((function(){z()}),[z]),Object(u.useEffect)((function(){var e=_.current;if(e){var t=function(e){v===kA.Discrete&&e.preventDefault()};return e.addEventListener("wheel",t,{passive:!1}),function(){return e.removeEventListener("wheel",t)}}}),[v]);var G=RA();Object(u.useEffect)(G,[G]);var H=Object(u.useRef)(null);return d.a.createElement("ui-menu",{class:f()(e.variant||"standard",D?"has-overflow-top":null,M?"has-overflow-bottom":null,e.className),ref:function(e){var n,i;i=e,"function"===typeof(n=t)?n(i):n&&(n.current=i)},style:{position:C?"absolute":"relative",top:n,left:i,width:r,height:a},onMouseMove:function(e){H.current={x:e.clientX,y:e.clientY}},onMouseUp:function(e){var t=e.target;e.stopPropagation();var n=KA(t);n&&R(qA(n))},onMouseOver:function(e){if(!W.current){var t=KA(e.target);L(t?qA(t):-1)}},onTouchStart:function(e){if(!W.current){var t=KA(e.target);L(t?qA(t):-1)}},onMouseLeave:function(e){void 0===h&&L(-1)},onTouchMove:function(e){if(!W.current){var t=xA(e);if(t){e.preventDefault();var n=KA(t);L(n?qA(n):-1)}}},onTouchEnd:function(e){if(!W.current){var t=xA(e);if(t){e.preventDefault(),e.stopPropagation();var n=KA(t);n&&R(qA(n))}}},onFocus:function(e){var t=e.target;HA(t)&&L(qA(t))},onKeyDown:function(e){switch(e.keyCode){case 40:e.preventDefault(),V(WA.Down);break;case 38:e.preventDefault(),V(WA.Up);break;case 13:case 32:e.preventDefault(),s>-1&&R(s);break;case 9:e.preventDefault();break;default:return}},onAnimationEnd:function(t){void 0!==h&&(e.onItemSelected(h),p(void 0),t.stopPropagation())}},d.a.createElement($A,{directionCSSClassName:"top",hoverStart:function(){k.current=setInterval((function(){return j.current(0,WA.Up)}),50)},hoverEnd:function(){k.current&&clearInterval(k.current)}}),d.a.createElement("ui-menu-scroll-container",{role:"menu",ref:_,style:{position:"relative"},onWheel:function(e){if(_.current&&v===kA.Discrete&&void 0!==a){F.current+=e.deltaY;var t=F.current>0?WA.Down:WA.Up,n=P(t);if(n&&t*F.current>=n/2){for(var i=GA(_.current,y+n*t);t*F.current>=n/2;)F.current-=n/2*t;x(i,t);var r=H.current;if(r){var o=r.y+n*t,s=document.elementFromPoint(r.x,o);HA(s)&&L(qA(s))}}else null===n&&(F.current=0,i=y,t===WA.Up?i=0:t===WA.Down&&(i=_.current.scrollHeight-a),x(i,t))}}},m),d.a.createElement($A,{directionCSSClassName:"bottom",hoverStart:function(){k.current=setInterval((function(){if(_.current){var e=_.current.scrollHeight-_.current.offsetHeight;j.current(e,WA.Down)}}),50)},hoverEnd:function(){k.current&&clearInterval(k.current)}}))}));function GA(e,t){return e?Math.max(Math.min(e.scrollHeight-e.offsetHeight,t),0):t}function HA(e){return!!e&&"UI-MENU-ITEM"===e.tagName&&"true"!==e.getAttribute("aria-disabled")}function KA(e){if(!e.closest)return HA(e)?e:(console.warn("To support UIMenuItems with child elements in IE11, add a 'closest' polyfill to your project."),null);var t=e.closest("ui-menu-item");return t&&HA(t)?t:null}function QA(e){return"width"in e&&"height"in e}function qA(e){return e&&e.parentElement?Array.prototype.slice.call(e.parentElement.children).indexOf(e):-1}function YA(e){return FA(e)&&e.type===BA}zA.displayName="UIMenu",function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(WA||(WA={}));var XA=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),JA=function(e,t){this.key=e,this.payload=t};function ZA(e){return function(t){function n(n){return t.call(this,e,n)||this}return XA(n,t),n}(JA)}var eT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return XA(t,e),t}(ZA("labelId")),tT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return XA(t,e),t}(ZA("activationStart")),nT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return XA(t,e),t}(ZA("activationEnded")),iT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return XA(t,e),t}(ZA("activationCompleted")),rT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return XA(t,e),t}(ZA("activationCancelled")),aT=function(){function e(){this.labelToComponentMap=new Map,this.componentToLabelsMap=new Map,this.componentHandlerMap=new Map}return e.prototype.connectLabel=function(e,t){var n=this.labelToComponentMap,i=this.componentToLabelsMap;n.set(e,t),i.has(t)||i.set(t,new Set),i.get(t).add(e)},e.prototype.disconnectLabel=function(e){var t=this.labelToComponentMap,n=this.componentToLabelsMap,i=t.get(e);oT(i)&&(t.delete(e),n.get(i).delete(e))},e.prototype.registerLabel=function(e,t){this.connectLabel(e,t),this.passMessage(t,new eT(e))},e.prototype.unregisterLabel=function(e){var t=this.labelToComponentMap.get(e);this.disconnectLabel(e),oT(t)&&this.passMessage(t,new eT(""))},e.prototype.registerComponent=function(e,t){if(this.componentHandlerMap.has(e))throw new Error('A component with id "'+e+'" was already registered.');if(this.componentHandlerMap.set(e,t),this.componentToLabelsMap.get(e))for(var n=this.componentToLabelsMap.get(e),i=0,r=Array.from(n);i<r.length;i++){var a=r[i];this.passMessage(e,new eT(a))}},e.prototype.unregisterComponent=function(e,t){if(this.componentHandlerMap.has(e)){if(t!==this.componentHandlerMap.get(e))throw new Error('The original callback is required to unregister "'+e+'"');this.componentHandlerMap.delete(e)}},e.prototype.transmitMessage=function(e,t){if(!this.labelToComponentMap.has(e))throw new Error("Label with id '"+e+"' was not registered.");var n=this.labelToComponentMap.get(e);this.passMessage(n,t)},e.prototype.passMessage=function(e,t){this.componentHandlerMap.has(e)&&this.componentHandlerMap.get(e)(t)},e}();function oT(e){return"string"===typeof e}var sT=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lT=function(e){function t(t){var n=e.call(this,t)||this;return n.userActivated=!1,n.touchHover=!1,n.startActivation=function(e){e.nativeEvent.preventDefault(),n.messageTransmitter.transmitMessage(n.labelId,new tT(e))},n.endActivation=function(e){e.nativeEvent.preventDefault(),n.messageTransmitter.transmitMessage(n.labelId,new nT(e))},n.completeActivation=function(e){e.nativeEvent.preventDefault(),n.messageTransmitter.transmitMessage(n.labelId,new iT(e))},n.cancelActivation=function(e){e.nativeEvent.preventDefault(),n.messageTransmitter.transmitMessage(n.labelId,new rT(e))},n.startMouseInteraction=function(e){e.nativeEvent.preventDefault(),n.userActivated=!0,n.startActivation(e),document.addEventListener("mouseup",n.detectDetachedMouseInteraction,!0)},n.endMouseInteraction=function(e){n.userActivated&&(e.nativeEvent.preventDefault(),n.endActivation(e),n.completeActivation(e),n.userActivated=!1,document.removeEventListener("mouseup",n.detectDetachedMouseInteraction,!0))},n.suspendMouseInteraction=function(e){n.userActivated&&(e.nativeEvent.preventDefault(),n.endActivation(e))},n.resumeMouseInteraction=function(e){n.userActivated&&(e.nativeEvent.preventDefault(),n.startActivation(e))},n.detectDetachedMouseInteraction=function(e){var t=n.ref.current;t&&t===e.target&&t.contains(e.target)||(n.userActivated=!1,document.removeEventListener("mouseup",n.detectDetachedMouseInteraction,!0))},n.startTouchInteraction=function(e){e.nativeEvent.preventDefault(),n.userActivated=!0,n.touchHover=!0,n.startActivation(e)},n.endTouchInteraction=function(e){e.nativeEvent.preventDefault(),n.userActivated=!1,n.touchHover=!1,n.endActivation(e),cT(e.nativeEvent,n.ref.current)?n.completeActivation(e):n.cancelActivation(e)},n.cancelTouchInteraction=function(e){e.nativeEvent.preventDefault(),n.userActivated=!1,n.touchHover=!1,n.endActivation(e),n.cancelActivation(e)},n.detectTouchHover=function(e){var t=e.nativeEvent;if(t.preventDefault(),n.ref.current){var i=cT(t,n.ref.current);i&&!n.touchHover?(n.touchHover=!0,n.startActivation(e)):!i&&n.touchHover&&(n.touchHover=!1,n.endActivation(e))}},n.labelId=n.props.id||"ui-label-"+Math.random().toString(36).substr(2,5),n.ref=u.createRef(),n}return sT(t,e),t.prototype.componentDidMount=function(){var e,t=this.props;"htmlFor"in t?e=t.htmlFor:(console.warn("The `for` property is deprecated, please use `htmlFor` instead."),e=t.for),this.messageTransmitter.registerLabel(this.labelId,e)},t.prototype.UNSAFE_componentWillUpdate=function(e){var t,n=this.messageTransmitter,i=this.labelId,r=this.props,a=!1;t="htmlFor"in r?r.htmlFor:r.for,"htmlFor"in e&&e.htmlFor!==t?(t=e.htmlFor,a=!0):"for"in e&&e.for!==t&&(t=e.for,a=!0),e.id&&e.id!==r.id&&(n.unregisterLabel(i),this.labelId=e.id,a=!0),a&&n.registerLabel(this.labelId,t)},t.prototype.componentWillUnmount=function(){this.messageTransmitter.unregisterLabel(this.labelId)},Object.defineProperty(t.prototype,"messageTransmitter",{get:function(){return t.messageTransmitter},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e,t=this.props;return e="htmlFor"in t?t.htmlFor:t.for,u.createElement("ui-label",{id:this.labelId,for:e,ref:this.ref,class:t.className,style:t.style,onMouseDown:this.startMouseInteraction,onMouseUp:this.endMouseInteraction,onMouseOut:this.suspendMouseInteraction,onMouseEnter:this.resumeMouseInteraction,onTouchStart:this.startTouchInteraction,onTouchMove:this.detectTouchHover,onTouchEnd:this.endTouchInteraction,onTouchCancel:this.cancelTouchInteraction},t.children)},t.messageTransmitter=new aT,t}(u.Component);function cT(e,t){var n=e.changedTouches.item(0);if(!n)return!1;var i=t.getBoundingClientRect(),r=n.clientX>=i.left&&n.clientX<=i.right,a=n.clientY>=i.top&&n.clientY<=i.bottom;return r&&a}var uT=function(){return(uT=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},dT=d.a.forwardRef((function(e,t){var n=e.variant,i=e.children,r=e.onActivate,a=e.submit,o=e.className,s=e.id,l=e.disabled,c=e.style,h=e.tabIndex,p=e.ariaLabel,m=e.ariaHasPopup,g=e.ariaDescribedBy,v=Object(u.useRef)(null),_=Object(u.useState)(!1),b=_[0],y=_[1],S=function(){l||v.current.click()},I=function(e,t){void 0===t&&(t={});var n=Object(u.useMemo)((function(){return lT.messageTransmitter}),[]),i=Object(u.useState)(void 0),r=i[0],a=i[1],o=Object(u.useRef)(t);o.current=t;var s=Object(u.useCallback)((function(e){var t=o.current;if(e instanceof eT){var n=e.payload;t.onLabelId&&t.onLabelId(n),a(n)}else e instanceof tT?(n=e.payload,t.onActivationStart&&t.onActivationStart(n)):e instanceof nT?(n=e.payload,t.onActivationEnd&&t.onActivationEnd(n)):e instanceof iT?(n=e.payload,t.onActivationComplete&&t.onActivationComplete(n)):e instanceof rT&&(n=e.payload,t.onActivationCancel&&t.onActivationCancel(n))}),[]);return Object(u.useEffect)((function(){if(e)return n.registerComponent(e,s),function(){n.unregisterComponent(e,s)}}),[e,n,s]),r}(s,{onActivationStart:function(){l||y(!0)},onActivationEnd:function(){l||y(!1)},onActivationComplete:S}),w=function(e){var t=e.active,n=e.disabled,i=e.className,r=e.onActivate,a=e.tabIndex,o=e.variant;return{"aria-disabled":n||void 0,class:f()(o,{active:t},i),tabindex:n?void 0:e.hasOwnProperty("tabIndex")?a:0,ontouchstart:"void(0)",onClick:function(e){n||r(e)},onKeyDown:function(e){" "===e.key&&e.preventDefault()},onKeyUp:function(e){switch(e.key){case" ":case"Enter":n||r(e)}}}}(uT(uT({active:b,disabled:l,className:o},e.hasOwnProperty("tabIndex")?{tabIndex:h}:{}),{onActivate:S,variant:n||"push primary"}));return d.a.createElement("ui-button",uT({},w,{id:s,style:c,role:"button",ref:t,"aria-labelledby":I,"aria-disabled":l,"aria-label":p,"aria-haspopup":m,"aria-describedby":g}),d.a.createElement("button",{ref:v,type:a?"submit":"button",disabled:l,tabIndex:-1,onClick:function(e){e.stopPropagation(),r&&r()}}),i)})),hT=function(){return(hT=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},fT={sidePreference:[vT,gT,bT,_T],inset:{left:7,right:7,top:7,bottom:7},anchorMargin:4};function pT(e){var t,n=(t=e.sidePreference,function(e,n,i,r){if(0===t.length)return{contentRect:void 0,arrowRect:void 0,arrowDirection:xT.None};for(var a=new Array(t.length),o=0;o<t.length;o++){var s=(0,t[o])(e,n,i,r);if(a[o]=s,void 0!==s.contentRect&&void 0!==s.arrowRect&&e&&e.width===s.contentRect.width&&e.height===s.contentRect.height)return s}var l=a[0],c=l.contentRect?l.contentRect.width*l.contentRect.height:0;for(o=1;o<a.length;o++){var u=(s=a[o]).contentRect?s.contentRect.width*s.contentRect.height:0;u>c&&(c=u,l=s)}return 0===c?function(e,t,n,i){if(void 0===e||void 0===t)return{contentRect:void 0,arrowRect:void 0,arrowDirection:xT.None};var r=AT(i.left+i.width/2-e.width/2,i),a=ET(r+e.width,i)-r,o=AT(i.top+i.height/2-e.height/2,i),s=IT(o+e.height,i)-o;return{contentRect:{top:o,left:r,right:TT(r,a,i),bottom:OT(o,s,i),width:a,height:s},arrowRect:{top:0,left:0,right:TT(0,t.width,i),bottom:OT(0,t.height,i),width:t.width,height:t.height},arrowDirection:xT.None}}(e,n,0,r):l});return function(t,i,r,a){return n(t,i,yT(r,function(e){if("number"===typeof e)return-e;var t,n=hT({},e);for(t in n){var i=n[t];"number"===typeof i&&(n[t]=-i)}return n}(e.anchorMargin)),yT(a,e.inset))}}var mT={left:_T,right:bT,above:vT,below:gT};function gT(e,t,n,i){if(void 0===e||void 0===t)return{contentRect:void 0,arrowRect:void 0,arrowDirection:xT.None};var r=DT(e,t,n,i),a=r[0],o=r[1];if(void 0===a||void 0===o)return{contentRect:void 0,arrowRect:void 0,arrowDirection:xT.None};var s=CT(n.top+n.height,i),l=IT(s+t.height,i),c=IT(l+e.height,i)-l;return{contentRect:{left:a.left,right:a.right,width:a.width,top:l,height:c,bottom:OT(l,c,i)},arrowRect:{left:o.left,right:o.right,width:o.width,top:s,height:t.height,bottom:OT(s,t.height,i)},arrowDirection:xT.Up}}function vT(e,t,n,i){if(void 0===e||void 0===t)return{contentRect:void 0,arrowRect:void 0,arrowDirection:xT.None};var r=DT(e,t,n,i),a=r[0],o=r[1];if(void 0===a||void 0===o)return{contentRect:void 0,arrowRect:void 0,arrowDirection:xT.None};var s=CT(n.top,i),l=ST(s-t.height,i),c=l,u=ST(c-e.height,i),d=c-u;return{contentRect:{left:a.left,right:a.right,width:a.width,top:u,height:d,bottom:OT(u,d,i)},arrowRect:{left:o.left,right:o.right,width:o.width,top:l,height:t.height,bottom:OT(l,t.height,i)},arrowDirection:xT.Down}}function _T(e,t,n,i){if(void 0===e||void 0===t)return{contentRect:void 0,arrowRect:void 0,arrowDirection:xT.None};var r=MT(e,t,n,i),a=r[0],o=r[1];if(void 0===a||void 0===o)return{contentRect:void 0,arrowRect:void 0,arrowDirection:xT.None};var s=AT(n.left,i),l=wT(s-t.height,i),c=l,u=wT(c-e.width,i),d=c-u;return{contentRect:{top:a.top,bottom:a.bottom,height:a.height,left:u,width:d,right:TT(u,d,i)},arrowRect:{top:o.top,bottom:o.bottom,height:o.height,left:l,width:t.width,right:TT(l,t.width,i)},arrowDirection:xT.Right}}function bT(e,t,n,i){if(void 0===e||void 0===t)return{contentRect:void 0,arrowRect:void 0,arrowDirection:xT.None};var r=MT(e,t,n,i),a=r[0],o=r[1];if(void 0===a||void 0===o)return{contentRect:void 0,arrowRect:void 0,arrowDirection:xT.None};var s=AT(n.left+n.width,i),l=ET(s+t.height,i),c=ET(l+e.width,i)-l;return{contentRect:{top:a.top,bottom:a.bottom,height:a.height,left:l,width:c,right:TT(l,c,i)},arrowRect:{top:o.top,bottom:o.bottom,height:o.height,left:s,width:t.width,right:TT(s,t.width,i)},arrowDirection:xT.Left}}function yT(e,t){var n,i,r,a;return"number"===typeof t?n=i=r=a=t:(n=t.left||0,i=t.right||0,r=t.top||0,a=t.bottom||0),{width:e.width-n-i,height:e.height-r-a,left:e.left+n,right:e.right+i,top:e.top+r,bottom:e.bottom+a}}var ST=function(e,t){return Math.max(e,t.top)},IT=function(e,t){return Math.min(e,t.top+t.height)},wT=function(e,t){return Math.max(e,t.left)},ET=function(e,t){return Math.min(e,t.left+t.width)},CT=function(e,t){return IT(ST(e,t),t)},AT=function(e,t){return ET(wT(e,t),t)},TT=function(e,t,n){return n.left+n.right+n.width-(e+t)},OT=function(e,t,n){return n.top+n.bottom+n.height-(e+t)};function DT(e,t,n,i){var r=AT(n.left+n.width/2,i),a=wT(r-e.width/2,i),o=ET(a+e.width,i);o-a<e.width&&(a=wT(o-e.width,i));var s=o-a,l={left:a,right:TT(a,s,i),width:s},c=r-t.width/2;c+t.width>o&&(c=o-t.width),c<a&&(c=a);var u=c+t.width/2;return u-4<n.left||u+4>n.left+n.width?[void 0,void 0]:[l,{width:t.width,left:c,right:TT(c,t.width,i)}]}function MT(e,t,n,i){var r=CT(n.top+n.height/2,i),a=ST(r-e.height/2,i),o=IT(a+e.height,i);o-a<e.height&&(a=ST(o-e.height,i));var s=o-a,l={top:a,bottom:OT(a,s,i),height:s},c=r-t.width/2;c+t.width>o&&(c=o-t.width),c<a&&(c=a);var u=c+t.width/2;return u-4<n.top||u+4>n.top+n.height?[void 0,void 0]:[l,{height:t.height,top:c,bottom:OT(c,t.height,i)}]}function NT(){return(NT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var FT=function(e){var t=e.styles,n=void 0===t?{}:t,i=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["styles"]);return d.a.createElement("svg",NT({className:n.icon||"icon",width:"32",height:"13",fill:"#fff",xmlns:"http://www.w3.org/2000/svg"},i),d.a.createElement("path",{className:n.arrow||"arrow",d:"M0-.5h32v1c-1.835 0-3.582.754-4.805 2.072l-7.873 8.492c-1.775 1.915-4.869 1.915-6.644 0L4.805 2.572A6.554 6.554 0 000 .5v-1z",strokeOpacity:".1",stroke:"#000",fill:"inherit"}))};function LT(){return(LT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var RT,xT,PT=function(e){var t=e.styles,n=void 0===t?{}:t,i=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["styles"]);return d.a.createElement("svg",LT({className:n.icon||"icon",width:"32",height:"13",fill:"#fff",xmlns:"http://www.w3.org/2000/svg"},i),d.a.createElement("path",{className:n.arrow||"arrow",d:"M-.5-1.5h32V.221l-.164.15-11.645 10.57c-1.126.98-2.395 1.559-3.657 1.559a5.025 5.025 0 01-3.695-1.595l-7.89-8.492C3.319 1.196 1.7.5 0 .5h-.5v-2z",strokeOpacity:".1",stroke:"#000",fill:"inherit"}))},kT=function(){return(kT=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},UT=d.a.forwardRef((function(e,t){var n,i=Object(u.useRef)(null),r=Object(u.useState)(),a=r[0],o=r[1],s=e.remeasureToken,l=Object(u.useRef)(s),c=s!==l.current?void 0:a;Object(u.useLayoutEffect)((function(){l.current=s;var e=i.current.getBoundingClientRect(),t=e.width,n=e.height;o({width:t,height:n})}),[s]);var h=Object(u.useState)(),p=h[0],m=h[1];Object(u.useLayoutEffect)((function(){var e=getComputedStyle(i.current),t=parseFloat(e.getPropertyValue("border-bottom-left-radius"));isNaN(t)||t<1.5||m(t)}),[]);var g=Object(u.useRef)(null),v=Object(u.useState)(),_=v[0],b=v[1];Object(u.useLayoutEffect)((function(){var e=g.current.getBoundingClientRect(),t=e.width,n=e.height;b({width:t,height:n})}),[]);var y,S,I,w,E=function(){var e=Object(u.useState)({width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}),t=e[0],n=e[1];return Object(u.useEffect)((function(){var e=function(){n({width:document.documentElement.clientWidth,height:document.documentElement.clientHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),t}(),C={width:E.width,height:E.height,top:0,left:0,bottom:0,right:0},A=e.anchorRef;if(e.anchorRect?y=e.anchorRect:A&&null!=A.current&&(y=A.current.getBoundingClientRect()),void 0===c||void 0===y)S=BT,w=xT.None;else{var T=(e.positioner?e.positioner:jT)(c,_,y,C);S=T.contentRect||BT,I=T.arrowRect,w=T.arrowDirection}var O,D,M,N,F,L=S,R={top:0,left:0},x={top:0,left:0},P=d.a.createElement(FT,null);if(null!=S&&null!=I&&VT(S)){var k=S,U=w===xT.Up,j=w===xT.Down,B=w===xT.Left,V=w===xT.Right,$=w===xT.None;V?O="arrow-direction-right":B?O="arrow-direction-left":j?O="arrow-direction-down":U?O="arrow-direction-up":$&&(O="arrow-hidden"),L={width:U||j||$?k.width:k.width+I.height,height:B||V||$?k.height:k.height+I.height},x={width:I.width,height:I.height},R={width:k.width,height:k.height};var W=e.pinPosition||RT.TopLeft;if($)W===RT.TopLeft||W===RT.TopRight?L.top=k.top:W!==RT.BottomLeft&&W!==RT.BottomRight||(L.bottom=k.bottom),W===RT.TopLeft||W===RT.BottomLeft?L.left=k.left:W!==RT.TopRight&&W!==RT.BottomRight||(L.right=k.right);else{W===RT.TopLeft||W===RT.TopRight?(L.top=Math.min(I.top,k.top),x.top=I.top-L.top,R.top=k.top-L.top):W!==RT.BottomLeft&&W!==RT.BottomRight||(L.bottom=Math.min(I.bottom,k.bottom),x.bottom=I.bottom-L.bottom,R.bottom=k.bottom-L.bottom),W===RT.TopLeft||W===RT.BottomLeft?(L.left=Math.min(I.left,k.left),x.left=I.left-L.left,R.left=k.left-L.left):W!==RT.TopRight&&W!==RT.BottomRight||(L.right=Math.min(I.right,k.right),x.right=I.right-L.right,R.right=k.right-L.right);var z=0;null!=x.left?U||j?z=x.left+I.width/2:B?z=x.left:V&&(z=x.left+I.height):null!=x.right&&null!=L.width&&(U||j?z=L.width-x.right-I.width/2:B?z=L.width-x.right-I.height:V&&(z=L.width-x.right));var G=0;null!=x.top?B||V?G=x.top+I.width/2:U?G=x.top:j&&(G=x.top+I.height):null!=x.bottom&&null!=L.height&&(B||V?G=L.height-(x.bottom+I.width/2):U?G=L.height-x.bottom-I.height:j&&(G=L.height-x.bottom)),M=Math.round(z)+"px "+Math.round(G)+"px";var H=void 0!==p?p-1.5:0,K=void 0,Q=void 0,q=void 0,Y=void 0;if(U||j?(K=I.left,Q=I.width,q=k.left,Y=k.width):(B||V)&&(K=I.top,Q=I.width,q=k.top,Y=k.height),void 0!==K&&void 0!==Q&&void 0!==q&&void 0!==Y){var X=K-q,J=q+Y-(K+Q);X<H?N=Math.max(0,X)+1.5:J<H&&(N=Math.max(0,J)+1.5),(X<H||J<H)&&(U&&X<H||B&&X<H?(F="borderTopLeftRadius",D="arrow-position-top-left"):j&&X<H||B&&J<H?(F="borderBottomLeftRadius",D="arrow-position-bottom-left"):j&&J<H||V&&J<H?(F="borderBottomRightRadius",D="arrow-position-bottom-right"):(U&&J<H||V&&X<H)&&(F="borderTopRightRadius",D="arrow-position-top-right"),P=d.a.createElement(PT,null))}}}var Z=e.style?e.style:{};return Z=kT(kT(kT({},Z),$T(R)),{boxSizing:"border-box"}),F&&(Z=kT(kT({},Z),((n={})[F]=N,n))),d.a.createElement("ui-popover",{ref:t,class:f()(e.variant||"standard",O,D,VT(S)?void 0:"is-measuring",e.className),style:kT(kT(kT({maxWidth:C.width,transformOrigin:M},$T(L)),e.outerWrapperStyle||{}),{position:"fixed"})},d.a.createElement("ui-popover-content",{ref:i,style:Z},e.children),d.a.createElement("ui-popover-arrow",{ref:g,style:$T(x)},P))}));UT.displayName="UIPopover",function(e){e[e.TopLeft=0]="TopLeft",e[e.TopRight=1]="TopRight",e[e.BottomRight=2]="BottomRight",e[e.BottomLeft=3]="BottomLeft"}(RT||(RT={})),function(e){e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e[e.None=4]="None"}(xT||(xT={}));var jT=pT(fT),BT={top:-9999,left:-9999};function VT(e){return"width"in e&&"height"in e}function $T(e){var t=kT({},e);return void 0!==t.left&&(t.left=Math.round(t.left)),void 0!==t.top&&(t.top=Math.round(t.top)),void 0!==t.right&&(t.right=Math.round(t.right)),void 0!==t.bottom&&(t.bottom=Math.round(t.bottom)),t}function WT(e,t,n,i,r,o){var s=r?void 0:$i.b.create(),l=e.userIdentity,c=null;if(l&&(c=l.emailAddress||l.formattedPhoneNumber),c){if(r)return!0;var u=c===l.formattedPhoneNumber;s.push({title:c,titleIsAlwaysLTR:u,action:"",isDisabled:!0})}l&&(l.phoneNumber||l.emailAddress)&&s.push({title:a.d("CKSharing.ManageShare.ParticipantSettings."+(l.phoneNumber?"CopyPhoneNumber":"CopyEmail")),action:"copySelectedParticipantAddress"});var d=Gs.READ_WRITE,h=Gs.READ_ONLY;if(i&&n&&!e.isMe&&!e.isOwner&&!e.isOrgUser&&!t&&n){if(r)return!0;zT(s),s.push({title:a.d("CKSharing.ManageShare.ParticipantSettings.CanEdit"),action:"setSelectedParticipantPermissionsToReadWrite",hasCheckmark:e.permission===d},{title:a.d("CKSharing.ManageShare.ParticipantSettings.ViewOnly"),action:"setSelectedParticipantPermissionsToReadOnly",hasCheckmark:e.permission===h})}if(o&&!il.isCurrentUserUnauthenticated&&!e.isOwner&&!e.isOrgUser&&(i||e.isMe)&&(e.isMe||!t)){if(r)return!0;zT(s);var f={action:"removeSelectedParticipant"};e.isMe?f.title=a.d("CKSharing.ManageShare.ParticipantSettings.RemoveMe"):t||(f.title=a.d("CKSharing.ManageShare.ParticipantSettings.RemoveAccess")),s.push(f)}return!r&&s}function zT(e){e.length>0&&e.push({})}var GT={name:"person.crop.circle.fill",svgPath:"M 58.5449 14.5508 C 85.791 14.5508 108.35 -8.00781 108.35 -35.2539 C 108.35 -62.4512 85.7422 -85.0586 58.4961 -85.0586 C 31.2988 -85.0586 8.74023 -62.4512 8.74023 -35.2539 C 8.74023 -8.00781 31.3477 14.5508 58.5449 14.5508 Z M 58.5449 -63.3789 C 67.9199 -63.3789 75.293 -55.1758 75.293 -45.3125 C 75.293 -34.8145 67.9199 -26.8066 58.5449 -26.9043 C 49.1699 -27.002 41.7969 -34.8145 41.7969 -45.3125 C 41.748 -55.1758 49.1699 -63.3789 58.5449 -63.3789 Z M 88.2324 -6.34766 L 88.3789 -5.71289 C 80.9082 2.29492 69.7754 6.88477 58.5449 6.88477 C 47.3145 6.88477 36.1816 2.29492 28.7109 -5.71289 L 28.8574 -6.34766 C 33.0566 -12.207 43.5547 -18.6035 58.5449 -18.6035 C 73.584 -18.6035 84.0332 -12.207 88.2324 -6.34766 Z",layoutBox:{viewBox:"0 0 212.646728515625 159.98291015625",width:212.646728515625,height:159.98291015625,translateX:47.778210449218705,translateY:115.221435546875,baseline:115.221435546875,capline:44.761474609375},glyphBox:{viewBox:"0 0 99.6097412109375 99.6572265625",width:99.6097412109375,height:99.6572265625,translateX:-8.740283203125045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}},HT={mixinDependencies:[{staticMembers:{template:{type:"ELEMENT",tagname:"span",name:"iconElement"}},_iconObserver:Ni.f({inputs:["icon","iconStyle"],callback:function(e,t){void 0!==e&&(this.iconElement.innerHTML=e),void 0!==t&&this.iconElement.setAttribute("style",t)}}),icon:X.b(),iconStyle:X.b()}],desiredFontSize:X.b(0),layoutMode:X.b("layoutBox"),symbolMetadata:X.b(),otherSymbolProps:X.b(),_symbolMetadataObserver:Ni.f({inputs:["desiredFontSize","layoutMode","otherSymbolProps","symbolMetadata"],callback:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(i&&t){var r=i.svgPath,a=i[t],o=a.viewBox,s=a.height,l=a.width,c=a.translateX,u=a.translateY,d=a.baseline,h=a.capline,f="matrix(1 0 0 1 "+c+" "+u+")";if(e>0){var p=d-h,m=e/p,g=s*m,v=g/s,_=l*v;n.style="width: "+_+"px; height: "+g+"px; "+(n.style||"")}n.className="",n.className+="layoutBox"===t?" layout-box":" glyph-box";var b=document.createElement("svg");for(var y in b.setAttribute("viewBox",o),b.setAttribute("version","1.1"),b.setAttribute("xmlns","http://www.w3.org/2000/svg"),n)b.setAttribute(y,n[y]);var S=document.createElement("g");S.setAttribute("transform",f);var I=document.createElement("path");I.setAttribute("d",r),S.appendChild(I),b.appendChild(S),this.icon=b.outerHTML}else this.icon=""}})},KT=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"figure",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"img",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"photoUrl",truevalue:"photo",attributes:{}}],name:"image",styles:{transform:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"inlineTransform",attributes:{},unit:null,property:"transform"}},attributes:{src:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"photoUrl",attributes:{},attribute:"src"}}},{type:"VIEWOUTLET",tagname:"view",name:"silhouette"}],classes:["image-container"],name:"imageContainer"}],classes:["participant-icon-view",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"state",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldAnimate",truevalue:"should-animate",attributes:{}}],attributes:{"data-title":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"displayNameInitials",attributes:{},attribute:"data-title"}}},className:"ck-sharing-participant-icon-view",__QUALIFIED_CLASS_NAME__:"ParticipantIconView"},photoUrl:X.b(),cropRect:X.b(),displayNameInitials:X.b(),silhouette:X.b({readOnly:!0,strong:!0,dependencies:["state"],get:Object.assign((function(){if("has-silhouette"===this.state)return QT.create()}),{__CW__getter:function(e,t,n,i){if("has-silhouette"===i.internalGet(this,t[0+n]))return QT.create()}})}),shouldAnimate:X.b(!1),inlineTransform:X.b({readOnly:!0,dependencies:["scale","offsetX","offsetY"],get:Object.assign((function(){var e=[];return e.push("translateY(-100%) translateY(36px)"),e.push("scale("+this.scale+")"),a.a.sharedInstance.isRTL?e.push("translate("+-this.offsetX+"px, "+this.offsetY+"px)"):e.push("translate("+this.offsetX+"px, "+this.offsetY+"px)"),e.join(" ")}),{__CW__getter:function(e,t,n,i){var r=[];return r.push("translateY(-100%) translateY(36px)"),r.push("scale("+i.internalGet(this,t[0+n])+")"),a.a.sharedInstance.isRTL?r.push("translate("+-i.internalGet(this,t[1+n])+"px, "+i.internalGet(this,t[2+n])+"px)"):r.push("translate("+i.internalGet(this,t[1+n])+"px, "+i.internalGet(this,t[2+n])+"px)"),r.join(" ")}})}),init:function(){var e=this,t=this,n=arguments;t.__s._$i6$init.apply(t,n),ee.a(this.image,"load",(function(t){e.onload(t)}))},onload:function(e){this.propertyChanged("scale")},scale:X.b({readOnly:!0,dependencies:["photoUrl","cropRect.width"],get:Object.assign((function(){var e=this.getPath("cropRect.width")||this.image.naturalWidth;return bt.a(this.photoUrl)?36/e:1}),{__CW__getter:function(e,t,n,i){var r=i.internalGetPath(this,t[1+n])||this.image.naturalWidth;return bt.a(i.internalGet(this,t[0+n]))?36/r:1}})}),offsetX:X.b({readOnly:!0,dependencies:["photoUrl","cropRect.x"],get:Object.assign((function(){var e=this.getPath("cropRect.x");return bt.a(this.photoUrl)&&bt.a(e)?-1*e:0}),{__CW__getter:function(e,t,n,i){var r=i.internalGetPath(this,t[1+n]);return bt.a(i.internalGet(this,t[0+n]))&&bt.a(r)?-1*r:0}})}),offsetY:X.b({readOnly:!0,dependencies:["photoUrl","cropRect.y"],get:Object.assign((function(){var e=this.getPath("cropRect.y");return bt.a(this.photoUrl)&&bt.a(e)?e:0}),{__CW__getter:function(e,t,n,i){var r=i.internalGetPath(this,t[1+n]);return bt.a(i.internalGet(this,t[0+n]))&&bt.a(r)?r:0}})}),state:X.b({readOnly:!0,dependencies:["photoUrl","displayNameInitials"],get:Object.assign((function(){return this.photoUrl?"has-icon":this.displayNameInitials?"has-initials":"has-silhouette"}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?"has-icon":i.internalGet(this,t[1+n])?"has-initials":"has-silhouette"}})}),__superMap:{_$i6$init:"init"}}),QT=Di.a.extend({mixinDependencies:[HT],desiredFontSize:X.b(25),layoutMode:X.b("glyphBox"),additionalClassNames:Mi.a(["silhouette-svg"]),symbolMetadata:X.b({readOnly:!0,get:function(){return GT}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"SilhouetteSVG"}}),qT=gA.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"iconView"},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"name",attributes:{}}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"displayNameIsPhoneNumber",truevalue:"is-phone-number",attributes:{}}]},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"listLabel",attributes:{}}]}]},{type:"ELEMENT",tagname:"p",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"statusText",attributes:{}}]}],classes:["title-area"]},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"participantSettingsButton"},{type:"VIEWOUTLET",tagname:"view",name:"badge"}],classes:["item-controls"]}],classes:["container"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasAcceptedShare",truevalue:"accepted",attributes:{}}],attributes:{"aria-disabled":{type:"ATTRIBUTEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"true",falsevalue:"false",attributes:{},attribute:"aria-disabled"}}},className:"ck-sharing-manage-share-list-item-view",__QUALIFIED_CLASS_NAME__:"ManageShareListItemView"},delegate:null,isDisabled:X.b(!1),name:X.b(J.c("content.displayName")),displayNameIsPhoneNumber:X.b(J.c("content.displayNameIsPhoneNumber")),hasAcceptedShare:X.b({readOnly:!0,dependencies:["content.acceptanceStatus"],get:Object.assign((function(){return this.getPath("content.acceptanceStatus")===zs.ACCEPTED}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])===zs.ACCEPTED}})}),isViewOnly:X.b({readOnly:!0,dependencies:["content.permission"],get:Object.assign((function(){return this.getPath("content.permission")===Gs.READ_ONLY}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])===Gs.READ_ONLY}})}),iconView:X.b({downstreamBindings:{displayNameInitials:"(owner).content.displayNameInitials",photoUrl:"(owner).content.addressBookContact.imageDataUrl",cropRect:"(owner).content.addressBookContact.photo.crop"},defaultValue:ut.b(KT)}),listLabel:X.b({readOnly:!0,dependencies:["content.isOwner","content.isMe"],get:Object.assign((function(){return this.getPath("content.isOwner")?a.d("CKSharing.ManageShare.List.Label.Owner"):this.getPath("content.isMe")?a.d("CKSharing.ManageShare.List.Label.Me"):void 0}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])?a.d("CKSharing.ManageShare.List.Label.Owner"):i.internalGetPath(this,t[1+n])?a.d("CKSharing.ManageShare.List.Label.Me"):void 0}})}),pointerOver:function(){this.sendEvent("setShouldShowParticipantSettingsButtonOnListItem",this)},shouldShowParticipantSettingsButton:X.b(),participantSettingsButton:X.b({readOnly:!0,dependencies:["isDisabled"],get:Object.assign((function(){return this.isDisabled?null:YT.create(this.delegate,{context:this})}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?null:YT.create(this.delegate,{context:this})}}),downstreamBindings:{shouldShow:"(owner).shouldShowParticipantSettingsButton"}}),statusText:X.b({readOnly:!0,dependencies:["hasAcceptedShare","isViewOnly"],get:Object.assign((function(){return this.hasAcceptedShare?this.isViewOnly?a.d("CKSharing.ManageShare.StatusText.ViewOnly"):null:a.d("CKSharing.ManageShare.StatusText.Invited")}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?i.internalGet(this,t[1+n])?a.d("CKSharing.ManageShare.StatusText.ViewOnly"):null:a.d("CKSharing.ManageShare.StatusText.Invited")}})})}),YT=DA.extend({init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;this.delegate=e,n.__s._$1EW$init.call(n,t),this.getMenuItems=this.getMenuItems.bind(this),this.menuWillShow=this.menuWillShow.bind(this),this.menuWillHide=this.menuWillHide.bind(this),this.menuItemSelected=this.menuItemSelected.bind(this)},delegate:null,context:Y.c(),shouldShow:Object(NA.renderProperty)(),menuWillShow:function(){this._invokeDelegate("participantSettingsMenuWillShow")},menuWillHide:function(){this._invokeDelegate("participantSettingsMenuWillHide")},menuItemSelected:function(e,t){this._invokeDelegate(e,t)},getMenuItems:function(){return function(e){var t=[["title","children"],["action","value"],["isDisabled","disabled"],["hasCheckmark","initialHighlighted"],["hasCheckmark","checked"]];return e.map((function(e,n){if(function(e){return!e.title}(e))return d.a.createElement(VA,{key:n});var i=t.reduce((function(t,n){var i,r=n[0],a=n[1],o=e[r];return Object.assign({},t,((i={})[a]=o,i))}),{key:n});return"hasCheckmark"in e&&(i.checkable=!0),d.a.createElement(BA,Object.assign({},i))}))}(this._invokeDelegate("getParticipantSettingsMenuItemsForItem")||[])},_invokeDelegate:function(e){var t=jr.a(this,"delegate"),n=jr.a(t,e);if("function"===typeof n){for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return n.call.apply(n,[t,this.context].concat(r))}},render:function(){return d.a.createElement(XT,{shouldShow:this.shouldShow,getMenuItems:this.getMenuItems,menuWillShow:this.menuWillShow,menuWillHide:this.menuWillHide,menuItemSelected:this.menuItemSelected})},__superMap:{_$1EW$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"WrappedParticipantSettingsButton"}});function XT(e){var t,n,i=Object(u.useRef)(null),r=Object(u.useRef)(null),a=Object(u.useState)(!1),o=a[0],s=a[1],l=e.shouldShow,c=e.getMenuItems,h=e.menuWillShow,f=e.menuWillHide,p=e.menuItemSelected,m=(t=d.a.createElement(JT,{buttonRef:i,deactivate:_},d.a.createElement(zA,{ref:r,onItemSelected:_,onItemSelectedSync:function(e){p(e,jr.a(r,"current"))}},c())),n={animate:nc.NONE,onClose:_},function(e,t,n){var i=Object(u.useContext)(mc)||rc;if(!i)throw new Error("In order to `"+gc(t)+"`, you must wrap your app in a `PaneProvider`.");var r=Object(u.useMemo)((function(){return pc++}),[]),a=Object(u.useCallback)((function(e){h.current=e,c(ic.OpenPlease)}),[]),o=Object(u.useCallback)((function(e){h.current=e,c(ic.ClosePlease)}),[]),s=Object(u.useState)(ic.None),l=s[0],c=s[1],d=Object(u.useRef)(!1),h=Object(u.useRef)();return Object(u.useLayoutEffect)((function(){if(l!==ic.OpenPlease||d.current)l===ic.ClosePlease&&d.current?(i.hidePane(r,h.current),d.current=!1,c(ic.None)):l===ic.None&&d.current&&i.updatePane(e,r);else{var a=oc({onRequestClose:function(){o()}},n);i.showPane(e,t,r,a,h.current),d.current=!0,c(ic.None)}h.current=void 0}),[n,i,e,t,r,o,l]),Object(u.useEffect)((function(){return function(){return i.hidePane(r)}}),[i,r]),[a,o]}(t,fc.DISMISSABLE,n)),g=m[0],v=m[1];function _(){f(),s(!1),v()}var b=["menu-affordance-container"];return o&&b.push("open"),l||b.push("hidden"),d.a.createElement(dT,{onActivate:function(){h(),s(!0),g()},className:b.join(" "),ref:i},d.a.createElement("svg",{className:"menu-affordance",width:"15",height:"15",viewBox:"0 0 30 30"},d.a.createElement("ellipse",{className:"background",ry:"15",rx:"15",cy:"15",cx:"15"}),d.a.createElement("ellipse",{className:"dot",ry:"3",rx:"3",cy:"15",cx:"7"}),d.a.createElement("ellipse",{className:"dot",ry:"3",rx:"3",cy:"15",cx:"15"}),d.a.createElement("ellipse",{className:"dot",ry:"3",rx:"3",cy:"15",cx:"23"})))}function JT(e){var t=e.buttonRef;return d.a.createElement(UT,{className:"cksharing-leftright-popover",anchorRef:t,positioner:pT(Object.assign({},fT,{sidePreference:[mT.right,mT.left]}))},e.children)}var ZT=vA.extend(wA,{shareIsPublic:X.b(),settings:X.b(),participants:X.b(),shareSupportsMultiplePermissions:X.b({readOnly:!0,dependencies:["settings.supportedPermissions"],get:function(){return this.getPath("settings.supportedPermissions.length")>1}}),sortedParticipantList:X.b({strong:!0,readOnly:!0,dependencies:["participants","participants.contentsDidChange","shareIsPublic","shareSupportsMultiplePermissions","loggedInUserCanEditShare"],get:Object.assign((function(e){return $i.b.from(this.participants).sort(Pl)}),{__CW__getter:function(e,t,n,i){return $i.b.from(i.internalGet(this,t[0+n])).sort(Pl)}})}),collection:X.b(J.c("sortedParticipantList")),isShareStateUnknown:X.b({defaultValue:!1,didChange:function(e){e||this.measureViewport()}}),itemViewClass:qT,layoutMetrics:{rowHeight:56,rowSpacing:1},loggedInUserCanEditShare:X.b(),allowRemoveMeMenuOption:!0,_lastMenuContext:X.b(),view:X.b({downstreamBindings:{isHidden:"(owner).isShareStateUnknown"}}),viewClass:Mi.a({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}}]}}},mixinDependencies:[nS],scrollIndicatorTopMargin:2,scrollIndicatorBottomMargin:2,isHidden:X.b(!1)}),setShouldShowParticipantSettingsButtonOnListItem:function(e){var t=function(e,t,n,i){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return WT(e,t,n,i,!0,r)}(e.content,this.shareIsPublic,this.shareSupportsMultiplePermissions,this.loggedInUserCanEditShare,this.allowRemoveMeMenuOption);e.shouldShowParticipantSettingsButton=t},participantSettingsMenuWillShow:function(e){bt.a(e)&&(this.selectedParticipant=e.content),this.sendEvent("participantsMenuWillShow")},participantSettingsMenuWillHide:function(){this.sendEvent("participantsMenuWillHide")},getParticipantSettingsMenuItemsForItem:function(e){var t=this.shareIsPublic,n=this.shareSupportsMultiplePermissions,i=this.loggedInUserCanEditShare;return bt.a(e)?function(e,t,n,i){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return WT(e,t,n,i,!1,r)}(e.content,t,n,i,this.allowRemoveMeMenuOption):[]},presenter:X.b({get:function(){return LS.extend({settings:X.b(),delegate:null,itemViewDidEnter:function(e){var t=this,n=arguments;t.__s._$1n8$itemViewDidEnter.apply(t,n),e.retain(),ft.a((function(){e.iconView.shouldAnimate=!0,e.release()}),100)},itemViewDidMove:function(e,t){var n=this,i=arguments;n.__s._$1y5$itemViewDidMove.apply(n,i),e[this.dataProperty]=t.handle.value},itemViewDidExit:function(e){var t=this,n=arguments;e.iconView.shouldAnimate=!1,t.__s._$20w$itemViewDidExit.apply(t,n)},viewForViewClass:function(e){return e.create({delegate:this.delegate})},shouldLoadContacts:X.b(!0),cellsDidMove:function(e){var t=this,n=arguments;if(t.__s._$2AX$cellsDidMove.apply(t,n),e&&this.shouldLoadContacts){var i=e.objectAt(0);if(i){for(var r=e.length,a=Math.floor(r/2),o=i.handle,s=o.previous,l=this.settings.contactsService,c=0,u=a;c<u&&s.isValid;c++)eO(s.value,l),s=s.previous;for(var d=0;d<r;d++){var h=e.objectAt(d),f=h.getPath("handle.value");eO(f,l)}for(var p=e.objectAt(r-1),m=p.handle,g=m.next,v=0,_=a;v<_&&g.isValid;v++)eO(g.value,l),g=g.next}}},__superMap:{_$1n8$itemViewDidEnter:"itemViewDidEnter",_$1y5$itemViewDidMove:"itemViewDidMove",_$20w$itemViewDidExit:"itemViewDidExit",_$2AX$cellsDidMove:"cellsDidMove"}}).create({delegate:this})},downstreamBindings:{itemViewClass:"(owner).itemViewClass",shouldLoadContacts:"(owner).settings.isAuthenticated",settings:"(owner).settings"}}),selectedParticipant:X.b(),setSelectedParticipantPermissionsToReadWrite:function(){return this.selectedParticipant.permission=Gs.READ_WRITE,this.sendEvent("participantPermissionDidChange",this.selectedParticipant)},setSelectedParticipantPermissionsToReadOnly:function(){return this.selectedParticipant.permission=Gs.READ_ONLY,this.sendEvent("participantPermissionDidChange",this.selectedParticipant)},removeSelectedParticipant:function(){return this.sendEvent("confirmRemoveParticipant",this.selectedParticipant)},showSelectedParticipantContactCard:function(){},copySelectedParticipantAddress:function(e,t){var n=this.selectedParticipant,i=n&&n.userIdentity;if(i){var r,o=bt.a(i.phoneNumber);if(r=o?i.formattedPhoneNumber:i.emailAddress,_C())vC(r,t);else{var s=o?"Phone":"Email",l=a.d("CKSharing.CopyEmailOrPhone.Title."+s),c=a.d("CKSharing.CopyEmailOrPhone.Subtitle."+s);this.sendEvent("showCopyTextViewController",l,c,r,o)}}},staticMembers:{__QUALIFIED_CLASS_NAME__:"ManageShareListViewController"}});function eO(e,t){var n=e.userIdentity,i=n&&(n.emailAddress||n.phoneNumber);bt.a(i)&&t&&e.loadAddressBookContact(t)}var tO=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"toggleButton"},{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"summaryTextWOption",attributes:{}}],classes:["summary-text",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isExpanded",truevalue:"hidden",attributes:{}}]}],classes:["container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasNoDropdowns",truevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"p",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"summaryTextNoOption",attributes:{}}],classes:["summary-text",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasNoDropdowns",truevalue:"",falsevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"section",children:[{type:"VIEWOUTLET",tagname:"view",name:"permissionsView"},{type:"ELEMENT",tagname:"menu",children:[{type:"VIEWOUTLET",tagname:"view",name:"stopSharingButton"},{type:"ELEMENT",tagname:"span",classes:["divider",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideCopyLinkButton",truevalue:"hidden",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",name:"copyLinkButton"}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideCopyLinkAndStopSharing",truevalue:"hidden",attributes:{}}]}]}],classes:["options-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isExpanded",truevalue:"isExpanded",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasNoDropdowns",truevalue:"has-no-dropdowns",attributes:{}}]},className:"ck-sharing-manage-share-options-view",__QUALIFIED_CLASS_NAME__:"ManageShareOptionsView"},summaryTextNoOption:X.b(),summaryTextWOption:X.b(),shouldShowShareOptions:X.b(!0),isCopyLinkDisabled:X.b(!1),isLoadingCopyLink:X.b(!1),isStopSharingDisabled:X.b(!1),isExpanded:X.b(!1),isHidden:X.b({dependencies:["isShareStateUnknown","shouldShowShareOptions"],readOnly:!0,get:Object.assign((function(){return this.isShareStateUnknown||!this.shouldShowShareOptions}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])||!i.internalGet(this,t[1+n])}})}),isShareStateUnknown:X.b(!1),shouldHideAccessDropdown:X.b(!1),shouldHidePermissionDropdown:X.b(!1),hasNoDropdowns:X.b(),shouldHideCopyLinkAndStopSharing:X.b(),toggleButton:X.b({defaultValue:ut.b(Di.a.extend(pb.a,{staticMembers:{template:{type:"ELEMENT",tagname:"span",children:[{type:"ELEMENT",tagname:"svg",children:[{type:"ELEMENT",tagname:"path",namespace:"http://www.w3.org/2000/svg",attributes:{d:"m1.250001,1.062507l14.843682,14.875035l14.843815,-14.875035",fill:"none"}}],classes:["chevron"],namespace:"http://www.w3.org/2000/svg",attributes:{width:"12px",height:"11px",viewBox:"0 0 32 20"}},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}]}],classes:["options-button"]}},title:a.d("CKSharing.ManageShare.Button.ShareOptions"),action:"toggleOptions"}))}),shouldHideCopyLinkButton:X.b(),copyLinkButton:X.b({defaultValue:ut.b(Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"spinnerView"},{type:"VIEWOUTLET",tagname:"view",name:"buttonView"}],classes:["copy-link-option",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideCopyLinkButton",truevalue:"hidden",attributes:{}}]}},buttonView:X.b({defaultValue:ut.b(Pi.a.extend({title:a.d("CKSharing.ManageShare.Button.CopyLink"),action:"showCopyLink",shouldHideCopyLinkButton:X.b()})),downstreamBindings:{isDisabled:"(owner).isDisabled"}}),spinnerView:X.b({defaultValue:ut.b(oy.a,{size:20}),downstreamBindings:{isVisible:"(owner).isLoading"}}),isDisabled:X.b(),isLoading:X.b(),shouldHideCopyLinkButton:X.b()})),downstreamBindings:{isDisabled:"(owner).isCopyLinkDisabled",isLoading:"(owner).isLoadingCopyLink",shouldHideCopyLinkButton:"(owner).shouldHideCopyLinkButton"}}),stopSharingButton:X.b({defaultValue:ut.b(Pi.a.extend({title:a.d("CKSharing.ManageShare.Button.StopSharing"),additionalClassNames:["warning"],action:"confirmStopSharing"})),downstreamBindings:{isDisabled:"(owner).isStopSharingDisabled"}})}),nO=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"accessLabelString",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",name:"accessSelectView"}],classes:["row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideAccessDropdown",truevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"permissionLabelString",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",name:"permissionSelectView"}],classes:["row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHidePermissionDropdown",truevalue:"hidden",attributes:{}}]}],classes:["container"]}],classes:["access-control-section",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"",falsevalue:"hidden",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasNoDropdowns",truevalue:"has-no-dropdowns",attributes:{}}]},className:"ck-sharing-manage-share-permissions-view",__QUALIFIED_CLASS_NAME__:"ManageSharePermissionsView"},isVisible:X.b(),hasNoDropdowns:X.b(),accessDropdownValue:X.b(),shouldHideAccessDropdown:X.b(),accessLabelString:Y.c(a.d("CKSharing.AddParticipants.AccessLabel.Title")),accessOptions:X.b(),accessSelectView:X.b({defaultValue:ut.b(Jb,{action:"setEffectiveAccess",ariaLabel:"Share Access Level"}),downstreamBindings:{options:"(owner).accessOptions",value:"(owner).accessDropdownValue",isVisibleOnScreen:"(owner).isVisible"}}),permissionDropdownValue:X.b(),shouldHidePermissionDropdown:X.b(),permissionLabelString:Y.c(a.d("CKSharing.AddParticipants.AllowLabel.Title")),permissionOptions:X.b(),permissionSelectView:X.b({defaultValue:ut.b(Jb,{action:"setEffectivePermission",ariaLabel:"Share Permission"}),downstreamBindings:{value:"(owner).permissionDropdownValue",options:"(owner).permissionOptions",isVisibleOnScreen:"(owner).isVisible"}})}),iO=ri.a.extend({viewClass:nO,view:X.b({downstreamBindings:{accessDropdownValue:"(owner).share.effectiveAccess",accessOptions:"(owner).accessOptions",hasNoDropdowns:"(owner).hasNoDropdowns",isVisible:"(owner).optionsIsExpanded",permissionDropdownValue:"(owner).permissionDropdownValue",permissionOptions:"(owner).permissionOptions",shouldHideAccessDropdown:"(owner).shouldHideAccessDropdown",shouldHidePermissionDropdown:"(owner).shouldHidePermissionDropdown"}}),settings:X.b(),permissionValueForAddingParticipants:X.b(),share:X.b(),shouldHideAccessDropdown:X.b(),shouldHidePermissionDropdown:X.b(),optionsIsExpanded:X.b(),hasNoDropdowns:X.b(),accessOptions:X.b({dependencies:["share.effectiveAccess","settings","settings.supportedAccess"],readOnly:!0,get:Object.assign((function(){if(this.settings){var e=[],t=Ks.PRIVATE,n=Ks.PUBLIC,i=this.share.effectiveAccess;return this.settings.supportsAccess(t)?e.push({value:t,label:a.d("CKSharing.AddParticipants.Private")}):i===t&&e.push({value:t,label:a.d("CKSharing.AddParticipants.Private"),isDisabled:!0}),this.settings.supportsAccess(n)?e.push({value:n,label:a.d("CKSharing.AddParticipants.Public")}):i===n&&e.push({value:n,label:a.d("CKSharing.AddParticipants.Public"),isDisabled:!0}),$i.b.create(e)}}),{__CW__getter:function(e,t,n,i){if(i.internalGet(this,t[1+n])){var r=[],o=Ks.PRIVATE,s=Ks.PUBLIC,l=i.internalGetPath(this,t[0+n]);return i.internalGet(this,t[1+n]).supportsAccess(o)?r.push({value:o,label:a.d("CKSharing.AddParticipants.Private")}):l===o&&r.push({value:o,label:a.d("CKSharing.AddParticipants.Private"),isDisabled:!0}),i.internalGet(this,t[1+n]).supportsAccess(s)?r.push({value:s,label:a.d("CKSharing.AddParticipants.Public")}):l===s&&r.push({value:s,label:a.d("CKSharing.AddParticipants.Public"),isDisabled:!0}),$i.b.create(r)}}})}),permissionDropdownValue:X.b({dependencies:["share.effectivePermission","permissionValueForAddingParticipants"],readOnly:!0,get:Object.assign((function(){if(this.share){var e=this.share.effectivePermission;return void 0===e?this.permissionValueForAddingParticipants:e}return this.permissionValueForAddingParticipants}),{__CW__getter:function(e,t,n,i){if(this.share){var r=i.internalGetPath(this,t[0+n]);return void 0===r?i.internalGet(this,t[1+n]):r}return i.internalGet(this,t[1+n])}})}),permissionOptions:X.b({dependencies:["share.effectivePermission","settings","settings.supportedPermissions"],readOnly:!0,get:Object.assign((function(){var e=this.settings;if(e){var t=[],n=Gs.READ_ONLY,i=Gs.READ_WRITE,r=this.share.effectivePermission;return e.supportsPermission(i)?t.push({value:i,label:a.d("CKSharing.PermissionsCombo.AllowEditing")}):r===i&&t.push({value:i,label:a.d("CKSharing.PermissionsCombo.AllowEditing"),isDisabled:!0}),e.supportsPermission(n)?t.push({value:n,label:a.d("CKSharing.PermissionsCombo.ViewOnly")}):r===n&&t.push({value:n,label:a.d("CKSharing.PermissionsCombo.ViewOnly"),isDisabled:!0}),r===Gs.UNKNOWN&&t.push({value:Gs.UNKNOWN,label:a.d("CKSharing.PermissionsCombo.Mixed"),isDisabled:!0}),$i.b.create(t)}}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[1+n]);if(r){var o=[],s=Gs.READ_ONLY,l=Gs.READ_WRITE,c=i.internalGetPath(this,t[0+n]);return r.supportsPermission(l)?o.push({value:l,label:a.d("CKSharing.PermissionsCombo.AllowEditing")}):c===l&&o.push({value:l,label:a.d("CKSharing.PermissionsCombo.AllowEditing"),isDisabled:!0}),r.supportsPermission(s)?o.push({value:s,label:a.d("CKSharing.PermissionsCombo.ViewOnly")}):c===s&&o.push({value:s,label:a.d("CKSharing.PermissionsCombo.ViewOnly"),isDisabled:!0}),c===Gs.UNKNOWN&&o.push({value:Gs.UNKNOWN,label:a.d("CKSharing.PermissionsCombo.Mixed"),isDisabled:!0}),$i.b.create(o)}}})}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ManageSharePermissionsViewController"}}),rO=ri.a.extend({isCopyLinkDisabled:X.b(!1),isStopSharingDisabled:X.b(!1),isCreatingShortGUID:X.b(!1),permissionValueForAddingParticipants:X.b(),viewClass:tO,view:X.b({downstreamBindings:{hasNoDropdowns:"(owner).hasNoDropdowns",isCopyLinkDisabled:"(owner).isCopyLinkDisabled",isLoadingCopyLink:"(owner).isCreatingShortGUID",isStopSharingDisabled:"(owner).isStopSharingDisabled",isExpanded:"(owner).isExpanded",isShareStateUnknown:"(owner).isShareStateUnknown",shouldHideCopyLinkAndStopSharing:"(owner).shouldHideCopyLinkAndStopSharing",shouldHideCopyLinkButton:"(owner).shouldHideCopyLinkButton",shouldShowShareOptions:"(owner).shouldShowShareOptions",summaryTextNoOption:"(owner).summaryTextNoOption",summaryTextWOption:"(owner).summaryTextWOption"}}),permissionsViewController:Oi.a.define({viewOutlet:"permissionsView",defaultValue:ut.b(iO),downstreamBindings:{hasNoDropdowns:"(owner).hasNoDropdowns",optionsIsExpanded:"(owner).isExpanded",settings:"(owner).settings",share:"(owner).share",shouldHideAccessDropdown:"(owner).shouldHideAccessDropdown",shouldHidePermissionDropdown:"(owner).shouldHidePermissionDropdown",permissionValueForAddingParticipants:"(owner).permissionValueForAddingParticipants"}}),shouldShowShareOptions:X.b({dependencies:["share.loggedInUserCanEditShare"],readOnly:!0,get:Object.assign((function(){return!!this.getPath("share.loggedInUserCanEditShare")}),{__CW__getter:function(e,t,n,i){return!!i.internalGetPath(this,t[0+n])}})}),settings:X.b(),share:X.b(),isShareStateUnknown:X.b(!1),summaryTextWOption:X.b(),summaryTextNoOption:X.b(),shouldHideCopyLinkButton:X.b({dependencies:["share.isPublic"],readOnly:!0,get:Object.assign((function(){return!!this.getPath("share.isPublic")}),{__CW__getter:function(e,t,n,i){return!!i.internalGetPath(this,t[0+n])}})}),isExpanded:X.b(!1),toggleOptions:function(){this.isExpanded=!this.isExpanded},shouldHideAccessDropdown:X.b({readOnly:!0,dependencies:["settings.supportedAccess"],get:Object.assign((function(){var e=this.getPath("settings.supportedAccess");return e&&e.length<2}),{__CW__getter:function(e,t,n,i){var r=i.internalGetPath(this,t[0+n]);return r&&r.length<2}})}),shouldHidePermissionDropdown:X.b({readOnly:!0,dependencies:["settings.supportedPermissions"],get:Object.assign((function(){var e=this.getPath("settings.supportedPermissions");return e&&e.length<2}),{__CW__getter:function(e,t,n,i){var r=i.internalGetPath(this,t[0+n]);return r&&r.length<2}})}),hasNoDropdowns:X.b({readOnly:!0,dependencies:["shouldHideAccessDropdown","shouldHidePermissionDropdown"],get:Object.assign((function(){return this.shouldHideAccessDropdown&&this.shouldHidePermissionDropdown}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])&&i.internalGet(this,t[1+n])}})}),shouldHideCopyLinkAndStopSharing:X.b({readOnly:!0,dependencies:["hasNoDropdowns","isExpanded","shouldShowShareOptions"],get:Object.assign((function(){return!(this.shouldShowShareOptions&&(this.isExpanded||this.hasNoDropdowns))}),{__CW__getter:function(e,t,n,i){return!(i.internalGet(this,t[2+n])&&(i.internalGet(this,t[1+n])||i.internalGet(this,t[0+n])))}})}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ManageShareOptionsViewController"}}),aO=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"headerView"},{type:"VIEWOUTLET",tagname:"view",name:"busyView"},{type:"VIEWOUTLET",tagname:"view",name:"offlineView"},{type:"VIEWOUTLET",tagname:"view",name:"contentView"},{type:"VIEWOUTLET",tagname:"view",name:"optionsView"},{type:"ELEMENT",tagname:"footer",children:[{type:"VIEWOUTLET",tagname:"view",name:"doneButton"},{type:"VIEWOUTLET",tagname:"view",name:"actionButton"}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isShareStateUnknown",truevalue:"hidden",attributes:{}}]}],classes:["manage-share-view","sharing-dialog",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOffline",truevalue:"is-offline",attributes:{}}]},className:"ck-sharing-manage-share-view",__QUALIFIED_CLASS_NAME__:"ManageShareView"},headerView:X.b({defaultValue:ut.b(Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"header",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{escape:"false"}}]},{type:"ELEMENT",tagname:"h2",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"summaryTextNoOption",attributes:{}}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldShowSubtitle",truevalue:"hidden",attributes:{}}]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isShareStateUnknown",truevalue:"hidden",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldShowSubtitle",truevalue:"",falsevalue:"has-summary-text",attributes:{}}]}},title:X.b(),shouldShowSubtitle:X.b(),summaryTextNoOption:X.b()})),downstreamBindings:{isShareStateUnknown:"(owner).isShareStateUnknown",shouldShowSubtitle:"(owner).shouldShowSubtitle",title:"(owner).title",summaryTextNoOption:"(owner).summaryTextNoOption"}}),title:X.b(),isCopyLinkDisabled:X.b(!1),isLoadingCopyLink:X.b(!1),share:X.b(),shouldShowSubtitle:X.b({readOnly:!0,dependencies:["share.loggedInUserCanEditShare"],get:Object.assign((function(){return this.getPath("share.loggedInUserCanEditShare")}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])}})}),summaryTextWOption:X.b(),summaryTextNoOption:X.b(),actionButton:X.b({readOnly:!0,dependencies:["isLoading","isOffline","share.isPublic","share.loggedInUserCanEditShare"],get:Object.assign((function(){return this.isLoading||this.isOffline?null:this.getPath("share.isPublic")?this.sendLinkButton:this.getPath("share.loggedInUserCanEditShare")?this.addPeopleButton:this.copyLinkButton}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])||i.internalGet(this,t[1+n])?null:i.internalGetPath(this,t[2+n])?this.sendLinkButton:i.internalGetPath(this,t[3+n])?this.addPeopleButton:this.copyLinkButton}})}),addPeopleButton:X.b({readOnly:!0,get:function(){return Pi.a.create({action:"goToAddParticipantsUI",title:a.d("CKSharing.ManageShare.Button.AddPeople")})}}),sendLinkButton:X.b({readOnly:!0,get:function(){return Pi.a.create({action:"sendLink",title:a.d("CKSharing.ManageShare.Button.SendLink")})}}),copyLinkButton:X.b({readOnly:!0,get:function(){return Pi.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"spinnerView"}],styles:{display:"flex"}}}},isLoading:X.b(!1),spinnerView:X.b({get:function(){return oy.a.create({size:20})},downstreamBindings:{isVisible:"(owner).isLoading"}})}).create({action:"showCopyLink",title:a.d("CKSharing.ManageShare.Button.CopyLink")})},downstreamBindings:{isDisabled:"(owner).isCopyLinkDisabled",isLoading:"(owner).isLoadingCopyLink"}}),doneButton:X.b({defaultValue:ut.b(Pi.a.extend({title:a.d("CKSharing.ManageShare.Button.Close"),action:"complete",keyEquivalent:ji.a.ESC,additionalClassNames:Mi.a(["primary"])})),downstreamBindings:{isDisabled:"(owner).isDoneButtonDisabled"}}),busyView:X.b({readOnly:!0,get:function(){return lE.create()},downstreamBindings:{isVisible:"(owner).isShareStateUnknown"}}),busyDescription:X.b(a.d("CKSharing.Busy.LoadingParticipants.Description")),isLoading:X.b(!1),isShareStateUnknown:X.b(!1),isTearingDown:X.b(!1),isDoneButtonDisabled:X.b({readOnly:!0,dependencies:["isLoading","isTearingDown"],get:Object.assign((function(){return this.isLoading||this.isTearingDown}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])||i.internalGet(this,t[1+n])}})}),offlineView:X.b({readOnly:!0,get:function(){return cE.create()},downstreamBindings:{isVisible:"(owner).isOffline"}}),isOffline:X.b(ce.a.sharedInstance.bindingFor("isOffline"))}),oO={mixinDependencies:[Me.a,oC],stopSharing:De.a.define(),removeParticipant:De.a.define()},sO=sC.extend(oO,{viewClass:aO,view:X.b({downstreamBindings:{isCopyLinkDisabled:"(owner).isCopyLinkDisabled",isLoadingCopyLink:"(owner).isCreatingShortGUID",isShareStateUnknown:"(owner).isShareStateUnknown",isTearingDown:"(owner).isTearingDown",share:"(owner).share",title:"(owner).settings.manageSharePaneTitle",summaryTextWOption:"(owner).summaryTextWOption",summaryTextNoOption:"(owner).summaryTextNoOption"}}),contentViewController:Oi.a.define({viewOutlet:"contentView",defaultValue:ut.b(ZT),downstreamBindings:{isShareStateUnknown:"(owner).isShareStateUnknown",shareIsPublic:"(owner).share.isPublic",settings:"(owner).settings",participants:"(owner).share.participants",loggedInUserCanEditShare:"(owner).share.loggedInUserCanEditShare"}}),isTearingDown:X.b(!1),isCopyLinkDisabled:X.b({dependencies:["share","share.effectiveAccess","share.participants","share.effectivePermission","settings.appName","isCreatingShortGUID"],readOnly:!0,get:Object.assign((function(){if(this.isCreatingShortGUID)return!0;var e=!1,t=this.share;if(t){var n=this.getPath("settings.appName"),i=["Pages","Numbers","Keynote"].indexOf(n)>-1,r=1===t.participants.length&&t.effectiveAccess===Ks.PRIVATE;(void 0===t.effectivePermission||i&&r)&&(e=!0)}else e=!0;return e}),{__CW__getter:function(e,t,n,i){if(i.internalGet(this,t[5+n]))return!0;var r=!1,a=i.internalGet(this,t[0+n]);if(a){var o=i.internalGetPath(this,t[4+n]),s=["Pages","Numbers","Keynote"].indexOf(o)>-1,l=1===a.participants.length&&a.effectiveAccess===Ks.PRIVATE;(void 0===a.effectivePermission||s&&l)&&(r=!0)}else r=!0;return r}})}),isCreatingShortGUID:X.b(!1),isStopSharingDisabled:X.b({dependencies:["share","share.effectiveAccess","share.participants","share.participants.contentsDidChange","state"],readOnly:!0,get:Object.assign((function(){var e=this.share;return this.state===rC.DESTROYING||e&&e.effectiveAccess===Ks.PRIVATE&&1===e.participants.length}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return i.internalGet(this,t[4+n])===rC.DESTROYING||r&&r.effectiveAccess===Ks.PRIVATE&&1===r.participants.length}})}),isShareStateUnknown:X.b({dependencies:["isDestroying","isLoading"],readOnly:!0,get:Object.assign((function(){return this.isDestroying||this.isLoading}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])||i.internalGet(this,t[1+n])}})}),optionsViewController:Oi.a.define({viewOutlet:"optionsView",defaultValue:ut.b(rO),downstreamBindings:{share:"(owner).share",settings:"(owner).settings",isCopyLinkDisabled:"(owner).isCopyLinkDisabled",isStopSharingDisabled:"(owner).isStopSharingDisabled",isShareStateUnknown:"(owner).isShareStateUnknown",summaryTextWOption:"(owner).summaryTextWOption",summaryTextNoOption:"(owner).summaryTextNoOption",permissionValueForAddingParticipants:"(owner).permissionValueForAddingParticipants",isCreatingShortGUID:"(owner).isCreatingShortGUID"}}),_generateConfirmationStrings:function(e){var t,n,i="CKSharing.ConfirmationDialog."+e+".",r=this.settings,o=r.shareItemType,s=r.shareTitle;t=a.d(i+"Message."+o);var l=i+"Description."+o;return"CloudKit"===o?s?(l+=".WithTitle",n=a.d(l,{shareTitle:s})):(l+=".WithoutTitle",n=a.d(l)):n=a.d(l),{message:t,description:n}},confirmStopSharing:function(){var e=this._generateConfirmationStrings("StopSharing");n_.a.show({iconNames:"ck-sharing-icon",message:e.message,description:e.description,primaryButton:{title:a.d("CKSharing.Dialog.Button.OK"),target:this,action:"stopSharing"},alternateButton:{title:a.d("CKSharing.Dialog.Button.Cancel")}})},stopSharing:function(){var e=this,t=this.share;this._state=rC.DESTROYING;var n=this.settings,i={operationType:"DESTROY",appName:n.shareItemType,interactionMode:n.primaryInteractionMode},r={didUpdateRootRecord:n.didUpdateRootRecord,didUpdateShareRecord:n.didUpdateShareRecord};return this.ioService.deleteShare(t,r).then((function(t){return e._state=rC.DESTROYED,e.sendEvent("shareWasDeleted",t,!0),t})).catch((function(t){throw e._state=rC.LOADED,t})).catch(eC(i,n.notificationService,n.logService))},confirmRemoveParticipant:function(e){var t=void 0;e.isMe?t=this._generateConfirmationStrings("RemoveYourself"):this.getPath("share.loggedInUserCanEditShare")?2===this.getPath("share.participants.length")?t={message:a.d("CKSharing.ConfirmationDialog.RemoveFinalParticipant.Message",{name:e.displayName}),description:a.d("CKSharing.ConfirmationDialog.RemoveFinalParticipant.Description")}:this.removeParticipant(e):ze.b("Should not have attempted to remove participants from share for user"),t&&n_.a.show({iconNames:"ck-sharing-icon",message:t.message,description:t.description,primaryButton:{title:a.d("CKSharing.Dialog.Button.OK"),target:this,action:"userDidConfirmParticipantRemoval",participant:e},alternateButton:{title:a.d("CKSharing.Dialog.Button.Cancel")}})},confirmSetEffectiveAccessToPrivate:function(){var e,t="CKSharing.ConfirmationDialog.PublicToPrivate.Description.",n=this.settings.shareItemType,i=this.settings.shareTitle;t+=n,"CloudKit"===n?i?(t+=".WithTitle",e=a.d(t,{shareTitle:i})):(t+=".WithoutTitle",e=a.d(t)):e=a.d(t),n_.a.show({iconNames:"ck-sharing-icon",message:a.d("CKSharing.ConfirmationDialog.PublicToPrivate.Message"),description:e,primaryButton:{title:a.d("CKSharing.Dialog.Button.OK"),target:this,action:"_setEffectiveAccessToPrivate"},alternateButton:{title:a.d("CKSharing.Dialog.Button.Cancel")}})},setEffectiveAccess:function(e){var t=this.share.effectiveAccess,n=Ks.PRIVATE;t===Ks.PUBLIC&&e===n?this.confirmSetEffectiveAccessToPrivate():(this.share.setEffectiveAccess(e,this.settings.defaultPermission),this.updateShare())},setEffectivePermission:function(e){var t=this.share;t.setEffectivePermission(e),this.permissionValueForAddingParticipants=e,t.effectivePermission&&this.updateShare()},userDidConfirmParticipantRemoval:function(e){this.removeParticipant(e.participant)},removeParticipant:function(e){var t=this,n=this.share;if(e.isMe){var i=this.settings,r={operationType:"DESTROY",appName:i.shareItemType,interactionMode:i.primaryInteractionMode},a={didUpdateRootRecord:i.didUpdateRootRecord,didUpdateShareRecord:i.didUpdateShareRecord};return this.ioService.deleteShare(n,a).then((function(){var e=t.share;return t._state=rC.DESTROYED,t.sendEvent("itemIsNoLongerSharedWithMe",e,!0),e})).catch((function(e){throw t._state=rC.LOADED,e})).catch(eC(r,i.notificationService,i.logService))}var o=n.findEquivalentParticipant(e);return n.participants.remove(o),this.permissionValueForAddingParticipants=zE(n.effectivePermission,this.settings.supportedPermissions),this.updateShare()},participantPermissionDidChange:function(e){var t=this.share;return t.participantPermissionChanged(),this.permissionValueForAddingParticipants=zE(t.effectivePermission,this.settings.supportedPermissions),this.updateShare()},_setEffectiveAccessToPrivate:function(){var e=this;this.setIsReadyToTerminateBlock("_setEffectiveAccessToPrivate");var t=this.share,n=this.settings,i=this.cacheingProvideRootRecordFunction;t.setEffectiveAccess(Ks.PRIVATE,n.defaultAccess);for(var r=t.participants||[],a=r.length-1;a>=0;a--)r.objectAt(a).isOwner||r.removeAt(a);this._state=rC.LOADED_SAVING;var o={didUpdateRootRecord:n.didUpdateRootRecord,didUpdateShareRecord:n.didUpdateShareRecord,provideRootRecordForUpdate:i,provideLatestRootRecordAfterUpdateConflict:n.provideLatestRootRecordAfterUpdateConflict},s={operationType:"UPDATE",appName:n.shareItemType,interactionMode:n.primaryInteractionMode};return i().then((function(t){return e.ioService.convertToPrivateShare(t,o)})).then((function(t){return e.share=t,e.sendEvent("shareWasUpdated",t,!0),t})).catch(eC(s,n.notificationService,n.logService)).finally((function(){e.isDestroying||(e._state=rC.LOADED)})).finally((function(){e.removeIsReadyToTerminateBlock("_setEffectiveAccessToPrivate")}))},goToAddParticipantsUI:function(){var e=this.share;if(!e||e.isPublic)return!1;var t=(e&&e.participants&&e.participants.length||0)-1,n=this.settings.maxNumberOfInvitees;return!!(n&&t>=n)&&(this.displayCKSharingErrorDialog("AddingParticipants.TOO_MANY_INVITEES"),!0)},_loadAddressBookForOwner:Ni.f("share.owner","settings","settings.contactsService",(function(e,t){e&&t&&t.contactsService&&e.loadAddressBookContact(t.contactsService)})),staticMembers:{__QUALIFIED_CLASS_NAME__:"ManageShareViewController"}});function lO(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return cO(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cO(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function cO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var uO=function(e,t,n,i){var r=pO({shareRecordName:n,database:e,zoneIDHash:t,delegate:i}),a=yO(e,t,n),s=bt.a(a)?Z.a.resolve(o.okResult(a)):vO(e,t)(n).then((function(e){var t=!fO.has(r),n=jr.a(e,"response.hasErrors");return t?o.cancelledResult():!n&&bt.a(e.records)?o.okResult(e.records[0]):o.failedResult()}));return[r,s]},dO=function(e){return mO(e)},hO=0,fO=new Map,pO=function(e){var t=hO++;return fO.set(t,e),wO(),t},mO=function(e){return fO.delete(e)},gO=new Map,vO=function(e,t){var n=function(e,t){var n=bt.a(t.ownerRecordName)?"::"+t.ownerRecordName:"";return e.containerIdentifier+"::"+e.databaseScope+"::"+t.zoneName+n}(e,t),i=gO.get(n);if(bt.a(i))return i;var r=SO.bind(null,e,t);return gO.set(n,r),r},_O=new Map,bO=function(e,t,n){return e.containerIdentifier+"::"+e.databaseScope+"::"+t.zoneName+"::"+n},yO=function(e,t,n){return _O.get(bO(e,t,n))};function SO(e,t,n){return e.fetchRecords(n,{zoneID:t}).catch(qE).then(YE).catch(Xi.a).then((function(n){return!jr.a(n,"response.hasErrors")&&bt.a(n.records)&&n.records.forEach((function(n){return function(e,t,n,i){return _O.set(bO(e,t,n),i)}(e,t,n.recordName,n)})),n}))}var IO=!1,wO=function e(){if(!0!==IO){IO=!0;var t=function(){return 0!==fO.size};ft.a((function(){!0===t()?function(){for(var e,t=new Map,n=lO(fO);!(e=n()).done;){var i=e.value,r=i[0],a=i[1],o=vO(a.database,a.zoneIDHash);t.has(o)?t.get(o).push([r,a]):t.set(o,[[r,a]])}for(var s,l=[],c=function(){var e=s.value,t=e[0],n=e[1],i=n.map((function(e){return e[0],{recordName:e[1].shareRecordName}})),r=new Map(n.map((function(e){e[0];var t=e[1];return[t.shareRecordName,yO(t.database,t.zoneIDHash,t.shareRecordName)]}))),a=t(i).then((function(e){var t,i;return!jr.a(e,"response.hasErrors")&&bt.a(e.records)?(t=e.records,i=n,t.map((function(e,t){return[e,i[t]]}))).filter((function(e,t){var n=e[0],i=(e[1],r.get(n.recordName));return bt.a(i)&&i.recordChangeTag!==n.recordChangeTag})):null}));l.push(a)},u=lO(t);!(s=u()).done;)c();return Z.a.all(l).then((function(e){return e.filter((function(e){return null!==e})).reduce((function(e,t){return[].concat(e,t)}),[])}))}().then((function(n){n.forEach((function(e){var t=e[0],n=e[1],i=n[0],r=n[1];fO.has(i)&&r.delegate.shareWasUpdated(t)})),IO=!1,!0===t()&&e()})):IO=!1}),23e3)}},EO=aA.extend({watchHandle:null,stopWatchingForChanges:function(){dO(this.watchHandle)},startWatchingForChanges:function(){this.stopWatchingForChanges();var e=this.share;if(e){var t=this.ioService,n=uO(t.database,t.zoneID.toHash().zoneID,e.recordName,this);this.watchHandle=n[0]}},shareWasUpdated:function(e){var t=this.ioService,n=t.materializedShareRecord;bt.a(n)&&n.recordChangeTag===e.recordChangeTag||(t.materializedShareRecord.replaceData(e),t.materializedShareRecord.participants.forEach((function(e){e.propertyChanged("userIdentity")})),"function"===typeof this.settings.didUpdateShareRecord&&this.settings.didUpdateShareRecord(e))},participantsMenuWillShow:function(){this.isAttached&&this.stopWatchingForChanges()},participantsMenuWillHide:function(){this.isAttached&&this.startWatchingForChanges()},copyLinkViewControllerClass:Y.c({readOnly:!0,defaultValue:SC}),manageShareViewController:X.b({strong:!0,get:function(){return sO.create({cacheingProvideRootRecordFunction:this.cacheingProvideRootRecordFunction})},downstreamBindings:{ioService:"(owner).ioService",settings:"(owner).settings",share:"(owner).share",permissionValueForAddingParticipants:"(owner).permissionValueForAddingParticipants"}}),complete:function(){var e=this;this.manageShareViewController.isTearingDown=!0;var t=this.share;t&&t.isPrivate&&1===t.participants.length?(this.manageShareViewController.stopSharing(),this.ioService.shutdown()):this.ioService.shutdown().then((function(){e.didComplete()}))},didComplete:function(){var e=this,t=arguments;this.stopWatchingForChanges(),e.__s._$1UH$didComplete.apply(e,t)},cancel:function(){var e=this,t=arguments;this.stopWatchingForChanges(),e.__s._$1Vh$cancel.apply(e,t)},start:function(){var e=this;this.showListUI().then((function(){e.isDisposed||e.startWatchingForChanges()})).catch((function(t){e.cancel(t)}));var t=this.settings;return t.logService.recordStat("StartedManageShareWorkflow",{appName:t.appName}),this.ioService.start().then((function(){return e._promise}))},showListUI:function(){var e=this.manageShareViewController;return this.showViewController(e),e.setUp()},goToAddParticipantsUI:function(){var e=this,t=this.activeViewController,n=lA.create(this.ioService,this.cacheingProvideRootRecordFunction,this.settings,{share:this.bindingFor("share"),permissionValueForAddingParticipants:this.permissionValueForAddingParticipants});n.start().then((function(){e.showViewController(t)})).catch((function(t){e.cancel(t)})),this.showViewController(n)},didCompleteCopyLink:function(){this.didComplete()},showCopyLink:function(){var e=this,t=this.settings,n=this.share,i=this.ioService,r=t.provideLinkRecord,a=t.notificationService;return this.manageShareViewController.isCreatingShortGUID=!0,r().then(CO(t,i)).then((function(t){var i=t.ok,r=t.data;if(i){var o=bt.a(r)?Al.create(Object.assign({},n.getDataHash(),{shortGUID:r})):null,s=e.createBoundCopyLinkViewController(o);e.showViewController(s)}else a.error("UNABLE_TO_ACQUIRE_LINK",{locNamespace:"CKSharing.ErrorDialog.CopyLink"})})).finally((function(){e.manageShareViewController.isCreatingShortGUID=!1}))},sendLink:function(){var e=this.getPath("settings.supportedTransports");e&&e.length>1?this.goToAddParticipantsUI():this.showCopyLink()},itemIsNoLongerSharedWithMe:function(e,t){this.nextResponder&&this.nextResponder.sendEvent("itemIsNoLongerSharedWithMe",e,t),this.didComplete()},shareWasDeleted:function(e,t){this.share=e,this.nextResponder&&this.nextResponder.sendEvent("shareWasDeleted",e,t),this.didComplete()},createBoundCopyLinkViewController:function(e){var t=e||this.bindingFor("share"),n=this.bindingFor("settings");return this.copyLinkViewControllerClass.create({settings:n,share:t})},__superMap:{_$1UH$didComplete:"didComplete",_$1Vh$cancel:"cancel"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ManageShareWorkflowViewController"}}),CO=function(e,t){return function(n){var i=n.ok,r=n.data,a=jr.a(r,"shortGUID"),s=!i,l=!bt.a(r),c=bt.a(a),u=s?n:l?o.okResult(null):c?o.okResult(a):t.createShortGUID(r,{didUpdateRootRecord:e.didUpdateLinkRecord,provideLatestRootRecordAfterUpdateConflict:e.provideLatestLinkRecordAfterConflict}).then((function(e){return bt.a(e.shortGUID)?o.okResult(e.shortGUID):o.failedResult()})).catch((function(){return o.failedResult()}));return Z.a.resolve(u)}},AO=aA.extend({loadingShareViewController:X.b({strong:!0,get:function(){return uA.create()}}),_gotoInitiateShare:function(e){var t=mA.create(this.ioService,e,this.settings);this._startWorkflow(t)},_gotoManageShare:function(e){var t=EO.create(this.ioService,e,this.settings);this._startWorkflow(t)},_startWorkflow:function(e){var t=this;this.showViewController(e),e.start().then((function(){t.didComplete()})).catch((function(e){t._promise.reject(e)}))},_showLoadingUI:function(){var e=this.loadingShareViewController;this.showViewController(e)},start:function(){var e=this,t=this.cacheingProvideRootRecordFunction;return this.ioService.start().then((function(){t().then((function(n){TO(n)?e._gotoManageShare(t):(e._showLoadingUI(),e.ioService.fetchDataRecord(n.recordName).then((function(t){var n=function(e){var n=e||t;return Z.a.resolve(n)};TO(t)?e._gotoManageShare(n):e._gotoInitiateShare(n)})).catch((function(t){e._promise.reject(t)})))}))})),this._promise},staticMembers:{__QUALIFIED_CLASS_NAME__:"EasyShareWorkflowViewController"}});function TO(e){return!(!e.share||!e.share.recordName)}function OO(e){return!(!e.share||!e.share.recordName)}var DO=pA,MO=mA.extend({initiateShareViewControllerClass:DO,isWaitingForFirstUI:!1,setUpInitiateController:function(){var e=this.initiateShareViewController;e.nextResponder=this,e.setUp()},start:function(){var e=this;this.isWaitingForFirstUI=!0,this.sendEvent("workflowDesiresUilessSpinner"),this.setUpInitiateController();var t=this.settings;return t.logService.recordStat("StartedInitiateShareInSingleStepWorkflow",{appName:t.appName}),this.ioService.start().then((function(){return e._promise}))},didComplete:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;return e?this._promise.resolve({share:null}):t.__s._$nq$didComplete.call(t)},didCancelAddParticipant:function(){var e=this.settings,t=this.share,n={didUpdateRootRecord:e.didUpdateRootRecord,didUpdateShareRecord:e.didUpdateShareRecord};this.ioService.deleteShare(t,n).catch((function(){})),this.didComplete(!0)},shareByWebMail:function(){var e=this;return this.__s._$18Z$shareByWebMail.call(this).then((function(t){void 0===t&&e.didCompleteSendMessage()}))},sharingUIIsReady:function(){var e=this,t=this,n=arguments,i=t.__s._$1C5$sharingUIIsReady.apply(t,n),r=this.initiateShareViewController,a=this.preselectedTransport;if(a)r.sendShare().then((function(t){a!==Zb.COPY_LINK&&a!==Zb.NATIVE_MAIL||void 0!==t||e.didCompleteSendMessage()}));else{var o=this.share,s=this.settings,l=r.invitees,c=s.shareItemType,u=s.primaryInteractionMode,d=s.notificationService,h=s.logService,f="INVITE_TO_";if(o.isPrivate){var p=1===l.length?"TO_PERSON":"TO_PEOPLE";f+="PRIVATE.VIA_EMAIL."+p}else f+="PUBLIC";var m={operationType:f,appName:c,interactionMode:u};r.saveShare(!0).then((function(e){return hC(s,e,l)})).then((function(t){e.initiateShareViewController.view.footerView.mailToLink=t,e.showViewController(r)})).catch((function(t){e.isWaitingForFirstUI&&e.didCompleteSendMessage(),eC(m,d,h)(t)}))}return i},showViewController:function(e){var t=this,n=arguments;return e&&this.isWaitingForFirstUI&&(this.isWaitingForFirstUI=!1,this.sendEvent("workflowNoLongerDesiresUilessSpinner")),t.__s._$27H$showViewController.apply(t,n)},__superMap:{_$nq$didComplete:"didComplete",_$18Z$shareByWebMail:"shareByWebMail",_$1C5$sharingUIIsReady:"sharingUIIsReady",_$27H$showViewController:"showViewController"},staticMembers:{__QUALIFIED_CLASS_NAME__:"InitiateShareInSingleStepWorkflowViewController"}}),NO=pC,FO=lA.extend({addParticipantsViewControllerClass:NO,isWaitingForFirstUI:!1,setUpAddParticipantsController:function(){this.preselectedTransport||ze.b("AddParticipantsInSingleStepWorkflowViewController requires, but lacks, a preselectedTransport.");var e=this.addParticipantsViewController;e.nextResponder=this,e.setUp()},start:function(){var e=this;this.setUpAddParticipantsController(),this.isWaitingForFirstUI=!0,this.sendEvent("workflowDesiresUilessSpinner");var t=this.settings;return t.logService.recordStat("StartedAddParticipantsInSingleStepWorkflow",{appName:t.appName}),this.ioService.start().then((function(){return e._promise}))},sharingUIIsReady:function(){var e=this,t=arguments,n=e.__s._$nM$sharingUIIsReady.apply(e,t);return this.addParticipantsViewController.sendShare(),n},showViewController:function(e){var t=this,n=arguments;return e&&this.isWaitingForFirstUI&&(this.isWaitingForFirstUI=!1,this.sendEvent("workflowNoLongerDesiresUilessSpinner")),t.__s._$y1$showViewController.apply(t,n)},__superMap:{_$nM$sharingUIIsReady:"sharingUIIsReady",_$y1$showViewController:"showViewController"},staticMembers:{__QUALIFIED_CLASS_NAME__:"AddParticipantsInSingleStepWorkflowViewController"}});function LO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var RO=_()({proto:!0}),xO=function(e){function t(){return e.apply(this,arguments)||this}return LO(t,e),t.prototype.valueForChange=function(t){var n=t.leftValue,i=t.rightValue,r=t.baseValue,a=t.direction,o=t.key;if(a===E.BOTH){if("participants"===o)return function(e,t,n){var i=e.length,r={addedValues:[],updatedIndices:[],updatedValues:[],removedIndices:[]},a={addedValues:[],updatedIndices:[],updatedValues:[],removedIndices:[]},o=0,s=RO(t),l=RO(n);do{BO(r,o,e,s),BO(a,o,e,l),o++}while(o<i);var c,u=r.addedValues,d=r.removedIndices,h=r.updatedIndices,f=a.addedValues,p=a.removedIndices,m=a.updatedIndices;for(c=h.length-1;c>=0;c--)if(m.indexOf(h[c])>=0)return C;if(u.length>0&&f.length>0||u.length>0&&p.length>0||d.length>0&&f.length>0)return C;if(d.length>0&&p.length>0)for(c=d.length-1;c>=0;c--)if(!(p.indexOf(d[c])>=0))return C;return function(e,t,n){var i=RO(e);UO(i,t.updatedIndices,t.updatedValues),UO(i,n.updatedIndices,n.updatedValues);for(var r=Array.from(new Set(t.removedIndices.concat(n.removedIndices))).sort(),a=r.length-1;a>=0;a--)i.splice(r[a],1);return kO(i,t.addedValues),kO(i,n.addedValues),i}(e,r,a)}(r,n,i);if("fields"===o&&n&&i)return x(r,n,i,new PO)}return e.prototype.valueForChange.call(this,t)},t}(A),PO=function(e){function t(){return e.apply(this,arguments)||this}return LO(t,e),t.prototype.valueForChange=function(t){var n=t.leftValue,i=t.rightValue;return t.direction!==E.BOTH?e.prototype.valueForChange.call(this,t):!n||!i||n.value!==i.value||n.type&&i.type&&n.type!==i.type?C:n},t}(A);function kO(e,t){for(var n=t.length-1;n>=0;n--){var i=t[n];e.push(RO(i))}}function UO(e,t,n){for(var i=t.length-1;i>=0;i--){var r=t[i],a=n[i];e[r]=RO(a)}}function jO(e,t){for(var n=0,i=t.length,r=e.userIdentity.lookupInfo;n<i;n++){var a=t[n];if(y()(a.userIdentity.lookupInfo,r))return t.splice(n,1),!1}return!0}function BO(e,t,n,i){for(var r=n[t],a=RO(n),o=r?r.userIdentity.lookupInfo:null,s=!1,l=i.length-1;l>=0;l--){var c=i[l];!s&&y()(o,c.userIdentity.lookupInfo)?(y()(r,c)||(e.updatedIndices.push(t),e.updatedValues.push(c)),s=!0,i.splice(l,1)):jO(c,a)&&(e.addedValues.push(c),i.splice(l,1))}s||e.removedIndices.push(t)}var VO=xO;function $O(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var WO=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.operationRecord=e,this.operationOptions=t,this.proposedShareRecordName=n}var t,n;return t=e,(n=[{key:"body",get:function(){return this.operationRecord}}])&&$O(t.prototype,n),e}(),zO=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.operationRecord=e,this.originalRecord=t,this.operationOptions=n};function GO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var HO=function(e){var t,n,i,r;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i=a,(r=[{key:"body",get:function(){return{recordName:this.operationRecord.recordName}}}])&&GO(i.prototype,r),a}(zO);function KO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var QO=function(){function e(e){this.recordName=e}var t,n;return t=e,(n=[{key:"body",get:function(){return this.recordName}}])&&KO(t.prototype,n),e}();function qO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var YO=_()({proto:!0}),XO=function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.operationRecord=e,this.dataRecord=t,this.operationOptions=n}var t,n;return t=e,(n=[{key:"operationForDeleteShareRecord",get:function(){return new HO(this.operationRecord,YO(this.operationRecord),this.operationOptions)}},{key:"operationForFetchDataRecord",get:function(){return new QO(this.dataRecord.recordName)}},{key:"operationForCreateShareRecord",get:function(){return new WO({publicPermission:c.CloudKit.ShareParticipantPermission.NONE,forRecord:YO(this.dataRecord),fields:this.operationRecord.fields,recordType:"cloudkit.share"},this.operationOptions)}}])&&qO(t.prototype,n),e}();function JO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ZO=function(e){var t,n,i,r;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i=a,(r=[{key:"body",get:function(){var e=this.operationRecord;return{recordName:e.recordName,recordChangeTag:e.recordChangeTag,createShortGUID:!0}}}])&&JO(i.prototype,r),a}(zO),eD=function(e){var t,n;function i(){return e.apply(this,arguments)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(QO);function tD(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var nD=_()({proto:!0}),iD=function(e){var t,n,i,r;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i=a,(r=[{key:"body",get:function(){var e=nD(this.operationRecord);e.publicPermission===c.CloudKit.ShareParticipantPermission.NONE&&(e.participants=function(e){var t={},n={};return e&&e.filter((function(e){var i=e.userIdentity&&e.userIdentity.lookupInfo;if(!i)return!0;var r=wl(i.emailAddress);if(r){if(t[r])return!1;t[r]=!0}var a=i.phoneNumber;if(a){if(n[a])return!1;n[a]=!0}return!0}))}(e.participants));var t=e.participants;return t&&t.forEach((function(e){var t=e&&e.userIdentity,n=t&&t.lookupInfo,i=n&&n.phoneNumber;i&&(e.userIdentity.lookupInfo.phoneNumber=Cl(i))})),delete e.created,delete e.modified,delete e.currentUserParticipant,e}}])&&tD(i.prototype,r),a}(zO);function rD(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var aD,oD=0,sD=function(e,t){this.method=e,this.args=t,this.identifier=oD++},lD=function(){function e(){this.taskOrder=[],this.tasks={},this.lastPromise=Promise.resolve(o.okResult())}var t,n,i=e.prototype;return i.clear=function(){var e=this;this.taskOrder.forEach((function(t){delete e.tasks[t]}))},i.enqueue=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=new sD(e,n),r=i.identifier;this.tasks[r]=i,this.taskOrder.push(r);var a=this.lastPromise.catch((function(e){})).then((function(){t.currentTask=void 0;var e=t.taskOrder.shift();if(void 0!==e){var n=t.tasks[e];return n?(delete t.tasks[e],t.currentTask=n,n.method.apply(t,n.args)):o.cancelledResult()}return o.okResult()}));return this.lastPromise=a,a},i.forEach=function(e){var t=this;this.taskOrder.forEach((function(n,i){e(t.tasks[n],i)}))},i.some=function(e){var t=this;return this.taskOrder.some((function(n,i){return e(t.tasks[n],i)}))},t=e,(n=[{key:"size",get:function(){return this.taskOrder.length}}])&&rD(t.prototype,n),e}();!function(e){e.NONE="NONE",e.STARTING="STARTING",e.RUNNING="RUNNING",e.SHUTTING_DOWN="SHUTTING_DOWN"}(aD||(aD={}));var cD=aD,uD=Ge.a.extend(Ni.a,{init:function(e,t){Ke.a(e)||ze.b("A zoneName String is required for ZoneID",{zoneName:e,ownerRecordName:t}),this.__s._$6A$init.call(this,{zoneName:e,ownerRecordName:t})},zoneName:X.b(),ownerRecordName:X.b(),toHash:function(){var e={zoneName:this.zoneName};return Nt.a(this.ownerRecordName)||(e.ownerRecordName=this.ownerRecordName),{zoneID:e}},__superMap:{_$6A$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ZoneID"}}),dD=_()({proto:!0}),hD="SharingIOService is being shut down and may not be used",fD=new VO,pD=Ge.a.extend(Ni.a,iA,{state:cD.NONE,materializedShareRecord:void 0,mostRecentShareDataHashFromServer:void 0,processor:new lD,zoneID:X.b(),start:function(e){return this.state=cD.STARTING,Promise.resolve()},shutdown:function(){return this.state=cD.SHUTTING_DOWN,this.processor.lastPromise},reset:function(){this.processor.clear();var e=this.mostRecentShareDataHashFromServer,t=this.materializedShareRecord;bt.a(t)&&bt.a(e)&&(t.replaceData(dD(e)),this.mostRecentOriginalShareDataHash=null)},init:function(e,t,n){if(!e||!t)throw new Error("Dependency Missing: CKSharing.SharingIOService.create() requires the following properties: database, zoneID.");if(ue.a(t)?t=uD.create(t.zoneName,t.ownerRecordName):Ke.a(t)&&(t=uD.create(t)),!Se.a(t,uD))throw new Error("zoneID must be an Object or instance of CKSharing.ZoneID",{zoneID:t});this.database=e,this.zoneID=t,this.__s._$1bK$init.call(this,n)},createShare:function(e,t){if(this.state===cD.SHUTTING_DOWN)throw new Error(hD);var n=this.materializedShareRecord.toJSON(),i=new WO(n,e,t);return this.retain(this,"this - createShare"),this.processor.enqueue(ED,[this,i]).finally(this.release.bind(this,this,"this - createShare"))},createShareFromDataHash:function(e){var t=this.materializedShareRecord=Al.create(e);return function(e){var t=e.participants;t&&t.forEach((function(e){e.propertyChanged("userIdentity")}));var n=e.owner;n&&n.propertyChanged("userIdentity");var i=e.currentUserParticipant;i&&i.propertyChanged("userIdentity")}(t),t},createShortGUID:function(e,t){var n=e.shortGUID;return Ke.a(n)&&!Nt.a(n)?Z.a.resolve(e):bD(this,new ZO(e,null,t)).then(OD).then((function(e){return e}))},convertToPrivateShare:function(e,t){if(this.state===cD.SHUTTING_DOWN)throw new Error(hD);var n=this.materializedShareRecord.toJSON(),i=new XO(n,e,t);return this.mostRecentOriginalShareDataHash=n,this.retain(this,"this - convertToPrivateShare"),this.processor.enqueue(wD,[this,i]).finally(this.release.bind(this,this,"this - convertToPrivateShare"))},fetchDataRecord:function(e){if(this.state===cD.SHUTTING_DOWN)throw new Error(hD);var t=new QO(e);return this.retain(this,"this - fetchDataRecord"),this.processor.enqueue(AD,[this,t]).finally(this.release.bind(this,this,"this - fetchDataRecord"))},fetchShareRecord:function(e){var t=this;if(this.state===cD.SHUTTING_DOWN)throw new Error(hD);var n=new eD(e);return this.retain(this,"this - fetchShareRecord"),this.processor.enqueue(AD,[this,n]).then((function(e){var n=t.materializedShareRecord;return n?(n.replaceData(e),n):t.loadShareFromDataHash(e)})).finally(this.release.bind(this,this,"this - fetchShareRecord"))},loadShareFromDataHash:function(e){if(e.currentUserParticipant){var t=e.currentUserParticipant.userIdentity.userRecordName;il.currentUserRecordName=t}return this.mostRecentShareDataHashFromServer=dD(Al.processDataHashThroughModel(e)),this.createShareFromDataHash(e)},unforkIfAppropriate:function(e){this.processor.some((function(e){var t=e.args[1].constructor;return t===iD||t===XO}))||(Re.b.debug("== UNFORKING"),this.materializedShareRecord.replaceData(e),this.mostRecentOriginalShareDataHash=null)},updateShare:function(e){if(this.state===cD.SHUTTING_DOWN)throw new Error(hD);this.mostRecentOriginalShareDataHash||Re.b.debug("== FORKING");var t=this.mostRecentOriginalShareDataHash||this.mostRecentShareDataHashFromServer,n=dD(t),i=this.materializedShareRecord.toJSON(),r=new iD(i,n,e);return this.mostRecentOriginalShareDataHash=i,this.retain(this,"this - updateShare"),this.processor.enqueue(TD,[this,r]).finally(this.release.bind(this,this,"this - updateShare"))},deleteShare:function(e,t){if(this.state===cD.SHUTTING_DOWN)throw new Error(hD);var n=this.mostRecentOriginalShareDataHash||this.mostRecentShareDataHashFromServer,i=dD(n),r=this.materializedShareRecord.toJSON(),a=new HO(r,i,t);return this.retain(this,"this - deleteShare"),this.processor.enqueue(CD,[this,a]).finally(this.release.bind(this,this,"this - deleteShare"))},__superMap:{_$1bK$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"SharingIOService"}});function mD(e,t){return function(e){var t=e.constructor;return e.operationOptions.didUpdateShareRecord&&(t===WO||t===iD||t===HO)}(t)?(0,t.operationOptions.didUpdateShareRecord)(OD(e)).then((function(){return e})):Z.a.resolve(e)}function gD(e,t){if(function(e){var t=e.constructor;return e.operationOptions.didUpdateRootRecord&&(t===ZO||t===WO||t===HO)}(t)){var n=t.operationOptions.didUpdateRootRecord,i=t.operationRecord;if(!i.recordName){var r=i.forRecord;r&&r.recordName}return n(t.constructor===ZO?OD(e):null).then((function(){return e}))}return Z.a.resolve(e)}function vD(e,t,n){return e.retain(e,"subject - ckDeleteRecords"),e.database.deleteRecords(t.body,e.zoneID.toHash()).catch(qE).then(YE).then((function(e){return mD(e,t)})).then((function(e){return gD(e,t)})).catch(yD(e,t,n)).finally(e.release.bind(e,e,"subject - ckDeleteRecords"))}function _D(e,t,n){return e.retain(e,"subject - ckFetchRecords"),e.database.fetchRecords(t.body,e.zoneID.toHash()).catch(qE).then(YE).catch(yD(e,t,n)).finally(e.release.bind(e,e,"subject - ckFetchRecords"))}function bD(e,t,n){var i,r=t.operationOptions,a=r.provideRootRecordForUpdate,o=r.willUpdateShareRecord,s=t.constructor;return i=s!==WO&&s!==ZO||!a?s===iD&&o?o(t.operationRecord):Z.a.resolve():s===WO?a(t.operationRecord.forRecord).catch(JE).then((function(e){t.operationRecord.forRecord=dD(e)})):a(t.operationRecord).catch(JE).then((function(e){t.operationRecord=dD(e)})),e.retain(e,"subject - ckSaveRecords"),i.then((function(){if(s===ZO){var i=t.operationRecord,r=i.shortGUID;if(Ke.a(r)&&!Nt.a(r))return{records:[i],isRecordsResponse:!0}}return e.database.saveRecords(t.body,e.zoneID.toHash()).catch(qE).then(YE).then((function(e){return mD(e,t)})).then((function(e){return gD(e,t)})).catch(yD(e,t,n))})).finally(e.release.bind(e,e,"subject - ckSaveRecords"))}function yD(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:AD,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ID;return function(a){var o=a.errors;if(o)for(var s=CloudKit.CKError,l=t.constructor,c=o.length,u=function(){var a=o[d],u=ZE(a),p=!1,m=void 0,g=void 0;switch(u){case s.ATOMIC_ERROR:d===c-1&&(p=!0);break;case s.ACCESS_DENIED:case"MANAGED_APPLE_ID_RESTRICTED":p=!0;break;case s.TRY_AGAIN_LATER:case s.THROTTLED:case"ZONE_BUSY":if(null==n&&(n=0),n<5){g=Z.a.create(),h=1e3*Math.exp(n);var v=n+1;ft.a((function(){g.resolve(v)}),h),m=g.then((function(n){return r(e,t,n)}))}else p=!0;break;case s.CONFLICT:case"OP_LOCK_FAILURE":var _=null==n?0:n;if(++_>3){p=!0;break}if(l===WO||l===ZO){var b=t.operationOptions.provideLatestRootRecordAfterUpdateConflict;if(b){var y=t.operationRecord,S=l===WO;S&&(y=y.forRecord),m=b(y).catch(JE).then((function(n){if(n&&n.recordChangeTag===y.recordChangeTag)throw e.reset(),a;return S?t.operationRecord.forRecord=n:t.operationRecord=n,r(e,t,_)}))}else p=!0}else f=new eD(t.operationRecord.recordName),m=i(e,f).then((function(n){n=Al.processDataHashThroughModel(n),e.mostRecentShareDataHashFromServer=dD(n);var i=x(t.originalRecord,t.operationRecord,n,fD);if(i===C)throw e.reset(),a;return t.originalRecord=e.mostRecentShareDataHashFromServer,e.mostRecentOriginalShareDataHash=i,t.operationRecord=i,r(e,t,_)}));break;default:p=!0}if(m)return{v:m};if(p)throw e.reset(),a},d=0;d<c;d++){var h,f,p=u();if("object"===typeof p)return p.v}throw a}}function SD(e,t){t=Al.processDataHashThroughModel(t),e.mostRecentShareDataHashFromServer=dD(t),e.processor.forEach((function(e){var n=e.args[1],i=n.constructor;if(i===eD){var r=t.recordName;n.recordName=r}else if(i===HO)n.operationRecord=dD(t);else if(i===XO)n.shareRecordDataHash=dD(t);else if(i===iD){var a=n.operationRecord,o=n.originalRecord,s=x(o,a,t,fD);s===C||(n.operationRecord=s,n.originalRecord=t,t=s)}}))}function ID(e,t,n){switch(t.constructor){case WO:case ZO:case iD:return bD(e,t,n);case HO:return vD(e,t,n);case QO:case eD:return _D(e,t,n);default:throw"Attempted to re-run an unknown operation type: "+t.type}}function wD(e,t){return e.retain(e,"subject - runConvertToPrivateShareTransaction"),CD(e,t.operationForDeleteShareRecord).then((function(n){return void 0===n?AD(e,t.operationForFetchDataRecord).then((function(n){return t.dataRecord.recordChangeTag=n.recordChangeTag,ED(e,t.operationForCreateShareRecord)})):(SD(e,n.toJSON()),e.materializedShareRecord)})).finally(e.release.bind(e,e,"subject - runConvertToPrivateShareTransaction"))}function ED(e,t){e.retain(e,"subject - runCreateShareTransaction");var n=t.proposedShareRecordName;return bt.a(n)&&(t.operationRecord.recordName=n),bD(e,t).then(OD).then((function(t){return e.createShareFromDataHash(t),SD(e,t),e.unforkIfAppropriate(t),e.materializedShareRecord})).finally(e.release.bind(e,e,"subject - runCreateShareTransaction"))}function CD(e,t){return vD(e,t).then(OD).then((function(t){if(!t.deleted){t=Al.processDataHashThroughModel(t),e.mostRecentShareDataHashFromServer=dD(t);var n=e.materializedShareRecord;return n.replaceData(t),n}e.mostRecentShareDataHashFromServer=null}))}function AD(e,t){return _D(e,t).then(OD)}function TD(e,t){return e.retain(e,"subject - runUpdateShareTransaction"),bD(e,t).then(OD).then((function(t){return SD(e,t),e.unforkIfAppropriate(t),e.materializedShareRecord})).finally(e.release.bind(e,e,"subject - runUpdateShareTransaction"))}function OD(e){return function(e,t){var n=t.records?t.records.length:-1;if(!t.isRecordsResponse||n<1)throw new Error("Expected %{amount} record(s), found %{count}",{amount:1,count:n,response:t});return t.records.slice(0,1)}(0,e).pop()}var DD,MD={mixinDependencies:[Me.a],info:De.a.define(),warn:De.a.define(),error:De.a.define()},ND={},FD=Ge.a.extend(MD,{info:function(e,t){LD(e,t,"ck-sharing-icon")},warn:function(e,t){LD(e,t,"ck-sharing-warn-icon")},error:function(e,t){LD(e,t,"ck-sharing-error-icon")},staticMembers:{__QUALIFIED_CLASS_NAME__:"UserNotificationService"}});function LD(e,t,n){var i=bt.a(t)?t:ND,r=i.locNamespace?i.locNamespace+".":"",o=i.interactionMode===FE.TOUCH?"Compact":"Expanded",s=function(e,t){return a.d(t,e)},l=yC(s.bind(null,i.messageFormatValues),[r+e+"."+(i.messageLocSuffix||"Message")+"."+o,r+e+"."+(i.messageLocSuffix||"Message")]),c=yC(s.bind(null,i.descriptionFormatValues),[r+(i.descriptionKey||e)+"."+(i.descriptionLocSuffix||"Description")+"."+o,r+(i.descriptionKey||e)+"."+(i.descriptionLocSuffix||"Description")]);void 0===c&&(c=null);var u=i.primaryButtonConfig,d=i.alternateButtonConfig;u||d||(u={keyEquivalent:[ji.a.ESC,ji.a.RETURN],title:a.d("CKSharing.ErrorDialog.OKButton.Title")});var h=n_.a.create({iconNames:n,message:l,description:c,primaryButton:u,alternateButton:d,alertStyle:i.alertStyle});h._appendedContentController=h.contentController,dt.a.application.presentViewController(h)}function RD(e){var t=function e(t,n){if(t){var i=(t=t.view||t).element||t;if(i){var r=i.view&&n(i.view);if(r)return r;for(var a=i.firstChild;a;a=a.nextSibling)if(r=e(a,n))return r}}}(e,(function(e){if(e.isFocusable)return e}));if(t){t.focus();var n=t.element;n&&n.focus&&n.focus()}}function xD(e){return(DD||PD())[e]}var PD=function(){var e;return(e={})[Zb.NATIVE_MAIL]={transportValue:Zb.NATIVE_MAIL,displayName:a.d("CKSharing.AddParticipants.Transports.EmailButton.Title"),iconMouse2x:n(378),iconMouse1x:n(379),iconTouch3x:n(380),iconTouch2x:n(381),iconTouch1x:n(382),bestIconSizeMouse:74,bestIconSizeTouch:32},e[Zb.WEB_MAIL]={transportValue:Zb.WEB_MAIL,displayName:a.d("CKSharing.AddParticipants.Transports.EmailButton.Title"),iconMouse2x:n(378),iconMouse1x:n(379),iconTouch3x:n(380),iconTouch2x:n(381),iconTouch1x:n(382),bestIconSizeMouse:74,bestIconSizeTouch:32},e[Zb.SCHOOLWORK]={transportValue:Zb.SCHOOLWORK,displayName:a.d("CKSharing.AddParticipants.Transports.SchoolworkButton.Title"),iconMouse2x:n(686),iconMouse1x:n(687),iconTouch3x:void 0,iconTouch2x:void 0,iconTouch1x:void 0,bestIconSizeMouse:74,bestIconSizeTouch:32},e[Zb.COPY_LINK]={transportValue:Zb.COPY_LINK,displayName:a.d("CKSharing.AddParticipants.Transports.CopyLinkButton.Title"),iconMouse2x:n(688),iconMouse1x:n(689),iconTouch3x:n(690),iconTouch2x:n(691),iconTouch1x:n(692),bestIconSizeMouse:74,bestIconSizeTouch:32},DD=e},kD={initiateShare:$D.bind(void 0,mA),initiateShareInSingleStep:$D.bind(void 0,MO),addParticipants:$D.bind(void 0,lA),addParticipantsInSingleStep:$D.bind(void 0,FO),manageShare:$D.bind(void 0,EO),share:$D.bind(void 0,AO),createWorkflow:jD.bind(void 0),presentWorkflow:VD.bind(void 0),unshare:function(e,t,n,i,r){var a=UD(e,t,n).retain(),o=WD(i);return a.start().then((function(){o().then((function(e){return(OO(e)?Z.a.resolve(e):a.fetchDataRecord(e.recordName)).then((function(e){if(OO(e))return a.loadShareFromDataHash(e.share),a.deleteShare()})).catch((function(e){throw e}))}))}))},getSupportedTransportsForSettings:function(e){return BD(e).retain().autorelease().supportedTransports.map(xD)},startWatchingShareRecord:function(e,t,n,i,r){var a=e[t===globalThis.CloudKit.DatabaseScope.PRIVATE?"privateCloudDatabase":"sharedCloudDatabase"];return uO(a,n,i,r)},stopWatchingShareRecord:function(e){return dO(e)}};function UD(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=jr.a(i,"database"),a=t===globalThis.CloudKit.DatabaseScope.PRIVATE?"privateCloudDatabase":"sharedCloudDatabase",o=bt.a(r)?r:e[a];return pD.create(o,n).retain().autorelease()}function jD(e,t,n,i,r,a,o){var s=BD(a),l=WD(r);return e.create(UD(t,n,i,s),l,s,o)}function BD(e){var t,n=t=Se.a(e,jE)?e:jE.fromJSON(e||{}),r=n.loggedInUserIdentity,a=n.logService,o=n.notificationService,s=n.supportedTransports,l=n.supportedAccess,c=n.supportsNativeMail,u=n.hostedByCloudOSOne,d=n.isChinaAuthUser,h=r;if(r||(h=u?Xg.currentUser:ws.defaultInstance.user,t.loggedInUserIdentity={givenName:h.firstName,familyName:h.lastName,appleId:h.appleId,isManagedAppleID:h.isManagedAppleID}),a||(a=u?Xg.cloudOSService:kc.create(),t.logService=a),o||(t.notificationService=FD.create()),!d)if(u)t.isChinaAuthUser=!0===Xg.getPath("authBag.user.isChineseAccount");else{var f=es.sharedInstance.current.countryCode;t.isChinaAuthUser=f&&"CHN"===f}var p=function(e){var t={};if(e){var n=jr.a(i,"globals.environment.authBag.servicesInfo");bt.a(n)&&(t=n)}else{var r=ss.sharedInstance.webServices;bt.a(r)&&(t=r)}return t}(u);if(function(e,t){if(t){if(bt.a(e.mail))return!0}else if(e.get("mail"))return!0;return!1}(p,u)?s.unshift(Zb.WEB_MAIL):c&&s.unshift(Zb.NATIVE_MAIL),BD.isAXMServiceAvailable=!bt.a(p.maidautocompletews),bt.a(h)&&h.get("isManagedAppleID")){var m=l.indexOf(Ks.PUBLIC);m>-1&&l.splice(m,1)}return t}function VD(e){var t=WC.create();t.showViewController(e),t.show();var n=Oa.a(arguments,0,1),i=e.start.apply(e,n);return RD(t),i.finally((function(){t.hide()}))}function $D(e,t,n,i,r,a,o){return VD(jD.apply(void 0,arguments))}function WD(e){var t=null;return function(n){return e(n||t).then((function(e){return t=e,e})).catch(JE)}}var zD={name:"Pages",shareUrlNamespace:"pages",zone:"com.apple.Pages"},GD={name:"Numbers",shareUrlNamespace:"numbers",zone:"com.apple.Numbers"},HD={name:"Keynote",shareUrlNamespace:"keynote",zone:"com.apple.Keynote"},KD={key:HD,"key-tef":HD,keynote:HD,"keynote-tef":HD,numbers:GD,"numbers-tef":GD,pages:zD,"pages-tef":zD},QD=function(e){return KD[e]},qD=Object.freeze({PROXY_SHARE_CREATION:1,PROXY_SHORTGUID_CREATION:2,PASSTHROUGH:3});var YD=globalThis.CloudKit.CKError.ZONE_NOT_FOUND,XD=globalThis.CloudKit.CKError.NOT_FOUND,JD=Ge.a.extend({delegate:null,manageShareWorkflowClass:null,manageShareWorkflowOptions:void 0,item:null,subItem:null,fileSystem:null,docWebService:null,loggingService:null,refreshingItemPromise:null,init:function(e,t,n,i,r){this.__s._$yd$init.call(this,Object.assign({},r,{fileSystem:e,item:t,docWebService:n,loggingService:i}))},launchSharingUI:function(){var e=arguments,t=this,n=null,i=this.item,r=this.subItem,s=i.zoneIDHash,l={provideLatestRootRecordAfterUpdateConflict:this.provideLatestRootRecordAfterUpdateConflict.bind(this),didUpdateRootRecord:this.didUpdateRootRecord.bind(this),didUpdateShareRecord:this.didUpdateShareRecord.bind(this),provideLinkRecord:this.provideRecordForLink.bind(this),didUpdateLinkRecord:this._didUpdateRecordForLink.bind(this),provideLatestLinkRecordAfterConflict:this._provideRecordForLinkAfterConflict.bind(this)},c=li.a.MOUSE,u=this._createShareSettings(c,i,r||i,this.docWebService,this.loggingService,l),d=function(n){var r=i.ckRecordHash;return n?t.provideRootRecordForUpdate.apply(t,e):Z.a.resolve(r)},h=u.sharingServiceSettings;if(i.isSharedDirectlyOrIndirectly){var f=this.manageShareWorkflowClass,p=this.manageShareWorkflowOptions;if(bt.a(f)){var m=kD.createWorkflow(f,u.container,u.dbScope,s,d,h,p);n=kD.presentWorkflow(m)}else n=kD.manageShare(u.container,u.dbScope,s,d,h)}else{var g=i.isFolder,v=g?null:QD(i.extension)||{name:"File"};h.initiateSharePaneTitle=g?a.d("DriveFS.InitiateShare.Title.Folder"):"Pages"===v.name?a.d("DriveFS.InitiateShare.Title.Pages"):"Keynote"===v.name?a.d("DriveFS.InitiateShare.Title.Keynote"):"Numbers"===v.name?a.d("DriveFS.InitiateShare.Title.Numbers"):a.d("DriveFS.InitiateShare.Title.File"),n=kD.initiateShare(u.container,u.dbScope,s,d,h)}return n.then((function(e){return o.okResult(e)})).catch((function(e){var t=ZE(e),n=t===YD||t===XD,r=i.share===Yr.TO_ME&&n;return o.failedResult({isSharedToMeUnshared:r})}))},stopWatchingShareRecord:function(e){return kD.stopWatchingShareRecord(e)},startWatchingShareRecord:function(){var e=this,t=this.item,n=t.zoneIDHash,i=bt.a(t.ckRecordHash.share),r={provideLatestRootRecordAfterUpdateConflict:this.provideLatestRootRecordAfterUpdateConflict.bind(this),didUpdateRootRecord:this.didUpdateRootRecord.bind(this),didUpdateShareRecord:this.didUpdateShareRecord.bind(this)},a=hu.a.create(globalThis.location).queryObject["ios-style"]?FE.TOUCH:FE.MOUSE,s=this._createShareSettings(a,t,t,this.docWebService,this.loggingService,r);if(i){var l=kD.startWatchingShareRecord(s.container,s.dbScope,n,t.ckRecordHash.share.recordName,{shareWasUpdated:this.didUpdateShareRecord.bind(this)}),c=l[0],u=l[1].then((function(t){return t.ok&&e.didUpdateShareRecord(t.data),t}));return o.okResult([c,u])}return o.failedResult()},_createShareSettings:function(e,t,n,i,r,s){var l=n.name,c=n.extension,u=QD(c),d=bt.a(u)?u.shareUrlNamespace:"iclouddrive",h=bt.a(u)?void 0:n.isFolder?"Drive.Folder":"Drive.File",f=function(e){switch(e){case"key":case"key-tef":case"keynote":case"keynote-tef":return a.d("DriveFS.LocalizedAppLibraryName.com.apple.keynote");case"numbers":case"numbers-tef":return a.d("DriveFS.LocalizedAppLibraryName.com.apple.numbers");case"pages":case"pages-tef":return a.d("DriveFS.LocalizedAppLibraryName.com.apple.pages")}return a.d("DriveFS.RootFolderName")}(c),p=bt.a(t.ckRecordHash.share),m={shareUrlNamespace:d,configurableShareItemType:h,appName:f,primaryInteractionMode:e,supportedAccess:[Ks.PRIVATE,Ks.PUBLIC],supportedPermissions:[Gs.READ_WRITE,Gs.READ_ONLY],shareTitle:l,shareUrlDescription:l,recordHasShare:p,logService:r,hostedByCloudOSOne:!1};s&&(m.provideLatestRootRecordAfterUpdateConflict=s.provideLatestRootRecordAfterUpdateConflict,m.didUpdateRootRecord=s.didUpdateRootRecord,m.didUpdateShareRecord=s.didUpdateShareRecord,m.provideLinkRecord=s.provideLinkRecord,m.didUpdateLinkRecord=s.didUpdateLinkRecord,m.provideLatestLinkRecordAfterConflict=s.provideLatestLinkRecordAfterConflict);var g=globalThis.CloudKit.getDefaultContainer(),v=globalThis.CloudKit.DatabaseScope,_=(t.share||Yr.BY_ME)===Yr.BY_ME?v.PRIVATE:v.SHARED;if(n.isFolder&&!n.isSharedDirectly||n.isSharedIndirectly){var b=g[_===v.PRIVATE?"privateCloudDatabase":"sharedCloudDatabase"];m.database=function(e,t,n,i){var r=Object.create(Object.getPrototypeOf(e)),a=n.id,s=n.contextualType;return Object.assign(r,e,{saveRecords:function(r,l){var c=function(e,t){var n=bt.a(e.recordType)&&!bt.a(e.recordChangeTag),i=!0===e.createShortGUID,r=n&&t===Xr.FOLDER,a=i&&(t===Xr.FILE_IN_SHARED_TO_ME_FOLDER||t===Xr.FOLDER_IN_SHARED_TO_ME_FOLDER);return r?qD.PROXY_SHARE_CREATION:a?qD.PROXY_SHORTGUID_CREATION:qD.PASSTHROUGH}(r,s);return c===qD.PROXY_SHARE_CREATION?function(e,t,n,i){var r=t.publicPermission;return i.recordStat("AttemptingCreateSharedFolder",{publicPermission:r}),Xd.post("shareFolder",{drivewsid:e,ckShareOperation:Object.assign({operationType:"create",record:t},n)}).then((function(e){var t=e.data;return e.ok&&"OK"===t.status?(i.recordStat("SuccessfullyCreatedSharedFolder",{publicPermission:r}),{records:[t.ckShareResult],isRecordsResponse:!0}):(i.recordStat("FailedToCreateSharedFolder",{publicPermission:r}),Z.a.reject({isCKError:!0}))}))}(a,r,l,i):c===qD.PROXY_SHORTGUID_CREATION?function(e,t,n,i){return i.recordStat("AttemptingToGenerateLinkToItemInsideSharedFolder"),tp.scheduleTask(Um.create(e,t)).then((function(t){var n=t.ok,i=t.data;if(n){var r=i,a=r.etag,s=e.isFile?a.split("::")[1]:a,l=e.ckRecordHash,c={isRecordsResponse:!0,records:[Object.assign({},l,{recordChangeTag:s,shortGUID:r.short_guid})]};return o.okResult(c)}var u=bt.a(i)?i.body:null;return o.failedResult(u)})).then((function(e){if(e.ok)return i.recordStat("SuccessfullyGeneratedLinkToItemInsideSharedFolder"),e.data;throw i.recordStat("FailedToGenerateLinkToItemInsideSharedFolder"),new QE("Error creating shortGUID by proxy",e.data)}))}(n,t,0,i):e.saveRecords(r,l)}}),r}(b,i,n,r)}return n.isFolder&&(m.shareRecordFields={"cloudkit.type":{value:"com.apple.folder"}}),{container:g,dbScope:_,sharingServiceSettings:m}},_shareWasDeleted:function(e){return e&&e.deleted},_shareWasEmptiedOfParticipantsAndMadePrivate:function(e){var t=jr.a(e,"participants");return e.publicPermission===Gs.NONE&&t&&1===t.length&&"OWNER"===t[0].type},_shareWasAdded:function(e,t){return e.share&&!t.share},_refreshItemFromServer:function(e,t){var n=this;return this.refreshingItemPromise=eM(e,t).finally((function(){n.refreshingItemPromise=null}))},_notifyDelegateIfAppropriate:function(e,t){var n=this.delegate;if(n){var i=n[e];i&&i.call(n,this,t)}},provideRootRecordForUpdate:function(e){return this.refreshingItemPromise?this.refreshingItemPromise.then((function(e){var t=e.ok,n=e.data;return t?n:Z.a.reject(n)})):Z.a.resolve(this.item.ckRecordHash)},provideLatestRootRecordAfterUpdateConflict:function(e){return this._refreshItemFromServer(this.fileSystem,this.item).then((function(e){var t=e.ok,n=e.data;return t?n:Z.a.reject(n)}))},didUpdateRootRecord:function(e){var t=this.item,n=this.fileSystem;return ZD(t,e,this._refreshItemFromServer.bind(this,n,t))},didUpdateShareRecord:function(e){var t=this.item,n=this._shareWasEmptiedOfParticipantsAndMadePrivate(e),i=this._shareWasDeleted(e);if(n||i){this._notifyDelegateIfAppropriate("willRemoveShareFromItem",t),t.share=null,t.fullShareRecordHash=null,i&&(t.shareID=null);var r=t.isFile?t.parent:t;_p(r,1,0),this._notifyDelegateIfAppropriate("didRemoveShareFromItem",t)}else if(this._shareWasAdded(e,t)){this._notifyDelegateIfAppropriate("willAddShareToItem",t),t.share=Yr.BY_ME,t.fullShareRecordHash=e;var a=t.isFile?t.parent:t;vp(a,1,0),this._notifyDelegateIfAppropriate("didAddShareToItem",t)}else this._notifyDelegateIfAppropriate("willUpdateShareForItem",t),t.fullShareRecordHash=e,this._notifyDelegateIfAppropriate("didUpdateShareForItem",t);return Z.a.resolve()},provideRecordForLink:function(){var e=this.subItem,t=bt.a(e)?e.ckRecordHash:this.item.ckRecordHash;return Z.a.resolve(o.okResult(t))},_provideRecordForLinkAfterConflict:function(e){var t=this.subItem,n=this.fileSystem;return this.subItem?eM(n,t).then((function(e){var t=e.data;return e.ok?t:Z.a.reject(t)})):Z.a.reject()},_didUpdateRecordForLink:function(e){var t=this.subItem,n=this.fileSystem;return bt.a(t)?ZD(t,e,eM.bind(null,n,t)):Z.a.resolve()},__superMap:{_$yd$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemSharingService"}});function ZD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return Z.a.resolve(o.okResult())};return t&&!t.deleted?(e.shortGUID||(e.shortGUID=t.shortGUID),e.ckContentRecordTag=t.recordChangeTag):n(),Z.a.resolve()}function eM(e,t){return dh.create(e,[{id:t.id,shareID:t.shareIDFromHierarchy}],{trace:"4"}).run().then((function(e){var t=e.ok,n=e.data;return t?n&&n.length>0?o.okResult(n[0].ckRecordHash):o.okResult(null):o.failedResult(n)}))}var tM=Ge.a.extend({init:function(e){this.__s._$2d$init.call(this,e),this._pool=hg.create()},dequeueCanvas:function(e){return this._pool.dequeueItemForKeyIdentifier(e)||null},enqueueCanvas:function(e,t){this._pool.queueItemForKeyIdentifier(e,t)},__superMap:{_$2d$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CanvasCache"}}),nM=Ge.a.extend({service:Y.c({readOnly:!0,get:function(){return this._service}}),init:function(){this.__s._$DW$init.call(this),this._service=this.loadService()},loadService:function(){return tM.create()},__superMap:{_$DW$init:"init"}}).create().get("service"),iM=ne.b("AppIconTypes",(function(e){e("APP_ICON"),e("APP_ICON_PLACEHOLDER")})),rM=0,aM=Di.a.extend(vo,{canvasClassName:"",prerendered:!1,error:Ni.g(),size:X.b(60),src:X.b(),placeholderSrc:X.b(),reuseIdentifier:Y.c(),updated:Ni.g(),onIsAttached:Ni.f("isAttached",(function(e){e&&this._setupCanvas()})),prepareForReuse:function(){var e=this._canvas;e&&(this.element.removeChild(e),this._enqueueCachedCanvas(this._canvas,iM.APP_ICON),this._canvas=null);var t=this._placeholderCanvas;t&&(this.element.removeChild(t),this._enqueueCachedCanvas(this._placeholderCanvas,iM.APP_ICON_PLACEHOLDER),this._placeholderCanvas=null)},_addCanvasToView:function(){var e=this._canvas,t=this._placeholderCanvas;e?(t&&(this.element.removeChild(t),this._enqueueCachedCanvas(t,iM.APP_ICON_PLACEHOLDER),this._placeholderCanvas=null),this.element.appendChild(e)):t&&this.element.appendChild(t),this.updated(!0)},_drawPlaceholder:function(){var e=this,t=this._dequeueCachedCanvas(iM.APP_ICON_PLACEHOLDER);if(t)return this._placeholderCanvas=t,void this._addCanvasToView();var n=this.placeholderSrc;if(n){var i=new globalThis.Image;i.src=n,i.onload=Ft.a((function(){if(!e.isDisposed){e._placeholderCanvas||(e._placeholderCanvas=e._createNewCanvas());var t=e._placeholderCanvas.getContext("2d");e._drawCanvasMask(),t.globalCompositeOperation="source-atop",t.drawImage(i,0,0,e.size,e.size),t.globalCompositeOperation="source-over",e._addCanvasToView()}})),i.onerror=Ft.a((function(){e.isDisposed||e.error()}))}},_setupCanvas:function(){var e=this._dequeueCachedCanvas(iM.APP_ICON);e?(this._canvas=e,this._addCanvasToView()):this._drawCanvas()},_drawCanvas:function(){var e=this;this._drawPlaceholder();var t=++rM;this._activeRequestIdx=t;var n=new globalThis.Image,i=this.src;i&&(n.src=i,n.onload=Ft.a((function(){if(!e.isDisposed&&t===e._activeRequestIdx){e._canvas||(e._canvas=e._createNewCanvas());var i=e._canvas.getContext("2d");e.opacity=0,e.prerendered||(e._drawCanvasMask(),i.globalCompositeOperation="source-atop"),i.drawImage(n,0,0,e.size,e.size),i.globalCompositeOperation="source-over",e._addCanvasToView()}})),n.onerror=Ft.a((function(){e.isDisposed||t!==e._activeRequestIdx||e.error()})))},_drawCanvasMask:function(){var e=this._canvas;if(e){var t=e.getContext("2d"),n=this.size;ce.a.get("sharedInstance").get("isIE")&&t.rotate(2*Math.PI),t.fillStyle="#FBFBFB";var i=n*(12.5/60);n<2*i&&(i=n/2),t.beginPath(),t.moveTo(i,0),t.arcTo(n,0,n,n,i),t.arcTo(n,n,0,n,i),t.arcTo(0,n,0,0,i),t.arcTo(0,0,n,0,i),t.closePath(),t.fill()}},_dequeueCachedCanvas:function(e){var t=this._getCanvasCacheReuseIdentifier(e);return nM.dequeueCanvas(t)},_enqueueCachedCanvas:function(e,t){var n=this._getCanvasCacheReuseIdentifier(t);nM.enqueueCanvas(e,n)},_getCanvasCacheReuseIdentifier:function(e){return this.reuseIdentifier+"::"+e.name},_createNewCanvas:function(){var e=this.get("size"),t=Io.a.get("sharedInstance").get("devicePixelRatio"),n=document.createElement("canvas");n.width=e*t,n.height=e*t,n.className=this.canvasClassName,n.style.zIndex=0,n.style.position="absolute";var i=n.getContext("2d");return i.scale(t,t),null!=i.imageSmoothingEnabled?i.imageSmoothingEnabled=!0:(i.mozImageSmoothingEnabled=!0,i.webkitImageSmoothingEnabled=!0,i.msImageSmoothingEnabled=!0),null!=i.imageSmoothingQuality&&(i.imageSmoothingQuality="high"),n},staticMembers:{__QUALIFIED_CLASS_NAME__:"AppIconShowcaseView"}}),oM=function(e){switch(e){case Aa.EXTRA_LARGE:return 200;case Aa.LARGE:return 128;case Aa.EXTRA_MEDIUM:return 80;case Aa.MEDIUM:return 52;case Aa.REGULAR:return 44;case Aa.SMALL:return 32;default:return 64}},sM=Ge.a.extend({iconService:Y.c(),init:function(e,t){this.iconService=e,this.__s._$CL$init.call(this,t),this._pool=hg.create()},getIconURL:function(e){return e.isIWorkFile?this.iconService.getIconURL(e.fileType,As.IWORK):this.iconService.getIconURL(e.fileType,As.DEFAULT)},getShowcaseViewFromCacheWithReuseIdentifier:function(e){var t=this._pool.dequeueItemForKeyIdentifier(e);return t?t.autorelease(this,"removed from pool"):null},isShowcaseViewAvailableForIdentifier:function(e){return this._pool.poolContainsItemsForKeyIdentifier(e)},releaseShowcaseView:function(e){e.retain(this,"added to pool"),this._pool.queueItemForKeyIdentifier(e,e.reuseIdentifier)},createThumbnailShowcaseViewUniqueIdentifier:function(e,t){return e.id+"::"+t.name},createShowcaseViewReuseIdentifier:function(e){var t=e.isIWorkFile?"iWork":"normal",n=e.displaySize.name;return e.fileType+"::"+t+"::"+e.iconPrerendered+"::"+n},createAppIconShowcaseViewFromFileDetails:function(e,t,n){if(e.isIWorkFile){var i=function(e){switch(e){case Aa.EXTRA_LARGE:return 147;case Aa.LARGE:return 94;case Aa.EXTRA_MEDIUM:return 58;case Aa.MEDIUM:return 52;case Aa.REGULAR:return 44;case Aa.SMALL:return 32;default:return 64}}(e.displaySize);return this._createAppIconShowcaseView(t,i,e,n)}var r=e.fileType;if(!r)return null;var a=this.iconService,o=a.getIconTypeForFileType(r),s=a.getIconCanvasSizeForType(o,e.displaySize);return this._createAppIconShowcaseView(t,s,e,n)},_createAppIconShowcaseView:function(e,t,n,i){return aM.create({canvasClassName:n.canvasClassName,src:e,size:t,prerendered:n.iconPrerendered,reuseIdentifier:i})},__superMap:{_$CL$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ShowcaseViewPool"}}),lM=function(e,t){var n,i,r=e.naturalWidth||e.width,a=e.naturalHeight||e.height;if(r>a?(n=t,i=t*(a/r)):(n=t*(r/a),i=t),n=Math.round(n)||1,(i=Math.round(i)||1)<3){var o=3/i*n;i=3,n=o>t?t:o}else if(n<3){var s=3/n*i;i=s>t?t:s,n=3}return x_.a.create({x:Math.round(t/2-n/2),y:Math.round(t/2-i/2),width:n,height:i})},cM=function(e,t){var n=Math.round(t.width/2-e.width/2),i=Math.round(t.height/2-e.height/2);return iS.a.create(n,i)},uM=function(e,t){var n=Math.round(t.width/2-e.width/2),i=Math.round(t.height-e.height);return iS.a.create(n,i)},dM=function(e){return x_.a.create({x:0,y:0,width:e,height:e})},hM={getImageDataFromImageAndCanvas:function(e,t){t.height=e.height,t.width=e.width;var n=t.getContext("2d");return n.drawImage(e,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)},canBrowserUsePerformanceNow:function(){var e=ce.a.get("sharedInstance"),t=!0;return(e.isIE||e.isEdge||e.isSafari)&&(t=!1),t},createNewCanvas:function(e){var t=Io.a.get("sharedInstance").get("devicePixelRatio"),n=document.createElement("canvas");n.width=e*t,n.height=e*t,n.style.width=e+"px",n.style.height=e+"px",n.style.zIndex=0,n.style.position="absolute";var i=n.getContext("2d");return i.scale(t,t),null!=i.imageSmoothingEnabled?i.imageSmoothingEnabled=!0:(i.mozImageSmoothingEnabled=!0,i.webkitImageSmoothingEnabled=!0,i.msImageSmoothingEnabled=!0),null!=i.imageSmoothingQuality&&(i.imageSmoothingQuality="high"),n},debugCanvas:function(e){},getVideoLetterBoxSizeForThumbnailSize:function(e){return e>100?12:e>40?4:e>10?2:12},getImageMatBoxSizeForThumbnailSize:function(e){return e>100?5:e>40?3:e>10?2:12},canvasSupportsImageSmoothingQuality:function(){var e=this.createNewCanvas().getContext("2d");return bt.a(e.imageSmoothingQuality)}},fM=ne.b("DrawThumbnailTreatmentType",["Default","Image","Video"]),pM=ne.b("DrawThumbnailSteps",["ImageMat","VideoMat","WhiteBackground","Border","Image","SharedFolderAdornment"]),mM=yf.extend({primaryInteractionMode:X.b(li.a.MOUSE),marginSize:0,lineWidth:1,lineOffset:.5,sharedFolderAdornmentSize:x_.a.create({width:18,height:15}),sharedFolderAdornmentOffset:2,icon:null,size:null,hasSharedFolderAdornment:!1,forceCenterAlignment:!1,identifier:null,scalingHasStartedCallback:null,file:null,treatmentType:null,scalingWebWorkerProvider:null,useImageSmoothingQualityHigh:!1,loggingService:null,startRun:function(){var e,t,n=Z.a.create();switch(this.scalingHasStartedCallback&&"function"===typeof this.scalingHasStartedCallback&&this.scalingHasStartedCallback(),this.treatmentType){case fM.Image:e=function(e){var t=e.icon,n=e.marginSize,i=e.primaryInteractionMode,r=e.forceCenterAlignment,o=e.size;e.hasSharedFolderAdornment&&(o-=e.sharedFolderAdornmentOffset);var s=function(e,t,n,i,r){var a,o=hM.getImageMatBoxSizeForThumbnailSize(e),s=lM(t,e-2*n-2*o),l=dM(e);return i!==li.a.TOUCH||r?a=cM(s,l):(a=uM(s,l)).y-=o,x_.a.create({x:a.x,y:a.y,width:s.width,height:s.height})}(o,t,n,i,r),l=function(e,t,n,i,r){var a=dM(e),o=hM.getImageMatBoxSizeForThumbnailSize(e),s=lM(t,e-2*n-2*o),l=x_.a.create({x:0,y:0,width:s.width+2*o,height:s.height+2*o}),c=cM(l,a);return i!==li.a.TOUCH||r||(c=uM(l,a)),l.x=c.x,l.y=c.y,l}(o,t,n,i,r);return a.a.sharedInstance.isRTL&&e.hasSharedFolderAdornment&&l.width>=e.size-e.sharedFolderAdornmentOffset&&(l.x=l.x+e.sharedFolderAdornmentOffset,s.x=s.x+e.sharedFolderAdornmentOffset),{mat:l,image:s,border:s}}(this),t=[pM.ImageMat,pM.Image,pM.Border],this.hasSharedFolderAdornment&&t.push(pM.SharedFolderAdornment);break;case fM.Video:e=function(e){var t=e.icon,n=e.marginSize,i=e.primaryInteractionMode,r=e.forceCenterAlignment,o=e.size;e.hasSharedFolderAdornment&&(o-=e.sharedFolderAdornmentOffset);var s=gM(o,t,n,i,r),l=function(e,t,n,i,r){var a,o=dM(e),s=hM.getVideoLetterBoxSizeForThumbnailSize(e),l=((a=t).naturalWidth||a.width)>(a.naturalHeight||a.height),c=n.width,u=n.height;l?u+=2*s:c+=2*s;var d=x_.a.create({x:0,y:0,width:c,height:u}),h=cM(d,o);return i!==li.a.TOUCH||r||(h=uM(d,o)),d.x=h.x,d.y=h.y,d}(o,t,s,i,r);return a.a.sharedInstance.isRTL&&e.hasSharedFolderAdornment&&l.width>=e.size-e.sharedFolderAdornmentOffset&&(l.x=l.x+e.sharedFolderAdornmentOffset,s.x=s.x+e.sharedFolderAdornmentOffset),{mat:l,image:s,border:s}}(this),t=[pM.VideoMat,pM.Image,pM.Border],this.hasSharedFolderAdornment&&t.push(pM.SharedFolderAdornment);break;default:e=function(e){var t=e.icon,n=e.marginSize,i=e.primaryInteractionMode,r=e.forceCenterAlignment,o=e.size;e.hasSharedFolderAdornment&&(o-=e.sharedFolderAdornmentOffset);var s=gM(o,t,n,i,r);return a.a.sharedInstance.isRTL&&e.hasSharedFolderAdornment&&s.width>=e.size-e.sharedFolderAdornmentOffset&&(s.x=s.x+e.sharedFolderAdornmentOffset),{background:s,image:s,border:s}}(this),t=[pM.WhiteBackground,pM.Image,pM.Border],this.hasSharedFolderAdornment&&t.push(pM.SharedFolderAdornment)}if(this.scalingWebWorkerProvider)(function(e,t,n){var i=e.size,r=e.icon,a=Io.a.get("sharedInstance").get("devicePixelRatio"),s=Z.a.create(),l=e.scalingWebWorkerProvider.acquireWorkerPacket();if(!l)return s.resolve(o.failedResult());var c=l.worker,u=l.scratchCanvas,d=u.getContext("2d"),h=hM.getImageDataFromImageAndCanvas(r,u),f=Math.max(t.image.width,t.image.height),p=function(e,t){var n=e.naturalWidth||e.width,i=e.naturalHeight||e.height;return n>i?t/n:t/i}(r,f*a);return c.onmessage=function(a){if(a.data.error)c.onmessage=null,e.scalingWebWorkerProvider.returnWorkerPacket(l),s.resolve(o.failedResult());else{for(var u=hM.createNewCanvas(i),h=u.getContext("2d"),f=0;f<n.length;f++)switch(n[f]){case pM.WhiteBackground:vM(h,t);break;case pM.Image:IM(h,d,a,t,r.width);break;case pM.Border:yM(e,h,t);break;case pM.VideoMat:_M(h,t);break;case pM.ImageMat:bM(e,h,t);break;case pM.SharedFolderAdornment:SM(e,h,t)}c.onmessage=null,e.scalingWebWorkerProvider.returnWorkerPacket(l),a=null,s.resolve(o.okResult(u))}},c.postMessage({imageDataBuffer:h.data.buffer,sourceWidth:r.width,sourceHeight:r.height,scale:p,canUsePerformanceNow:hM.canBrowserUsePerformanceNow()},[h.data.buffer]),h=null,s})(this,e,t).then((function(e){n.resolve(e)}));else{var i=function(e,t,n){var i=e.size,r=hM.createNewCanvas(i),a=r.getContext("2d");e.useImageSmoothingQualityHigh&&(a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high");for(var o=0;o<n.length;o++)switch(n[o]){case pM.WhiteBackground:vM(a,t);break;case pM.Image:wM(e,a,t);break;case pM.Border:yM(e,a,t);break;case pM.VideoMat:_M(a,t);break;case pM.ImageMat:bM(e,a,t);break;case pM.SharedFolderAdornment:SM(e,a,t)}return r}(this,e,t);n.resolve(o.okResult(i))}return n},shouldAllowCancel:function(){return!this.isRunning},staticMembers:{__QUALIFIED_CLASS_NAME__:"DrawThumbnailTreatmentTask"}});function gM(e,t,n,i,r){var a=lM(t,e-2*n),o=dM(e),s=cM(a,o);return i!==li.a.TOUCH||r||(s=uM(a,o)),x_.a.create({x:s.x,y:s.y,width:a.width,height:a.height})}function vM(e,t){e.fillStyle="rgba(256, 256, 256, 1)",e.fillRect(t.background.x,t.background.y,t.background.width,t.background.height)}function _M(e,t){e.fillStyle="rgba(0, 0, 0, 1)",e.fillRect(t.mat.x,t.mat.y,t.mat.width,t.mat.height)}function bM(e,t,n){t.fillStyle="rgba(256, 256, 256, 1)",t.fillRect(n.mat.x,n.mat.y,n.mat.width,n.mat.height),t.fillStyle="transparent",t.beginPath(),t.lineWidth=e.lineWidth,t.strokeStyle="rgba(0, 0, 0, .13)",t.strokeRect(n.mat.x+e.lineOffset,n.mat.y+e.lineOffset,n.mat.width-2*e.lineOffset,n.mat.height-2*e.lineOffset)}function yM(e,t,n){t.beginPath(),t.lineWidth=e.lineWidth,t.strokeStyle="rgba(0, 0, 0, .13)",t.strokeRect(n.border.x+e.lineOffset,n.border.y+e.lineOffset,n.border.width-2*e.lineOffset,n.border.height-2*e.lineOffset)}function SM(e,t,i){var r=new Image(c,u),o=Math.ceil(Io.a.get("sharedInstance").get("devicePixelRatio")),s=a.a.sharedInstance.isRTL,l=i.mat||i.image,c=e.sharedFolderAdornmentSize.width,u=e.sharedFolderAdornmentSize.height,d=e.sharedFolderAdornmentOffset,h=s?0:t.canvas.width/o-c,f=l.height+l.y-(u-d);l.height<u&&(f=l.y-d);var p=t.canvas.height-u;f>p&&(f=p),r.onload=function(){t.drawImage(r,h,f,c,u)},r.src=n(682)}function IM(e,t,n,i,r){var a,o=ce.a.get("sharedInstance"),s=Io.a.get("sharedInstance").get("devicePixelRatio"),l=n.data.scaledWidth,c=n.data.scaledHeight,u=new Uint8ClampedArray(n.data.imageDataBuffer);o.isEdge||o.isIE?(a=t.createImageData(l,c)).data.set(u):a=new ImageData(u,l,c),u=null,n.data.time,n.data.workerNumber,e.putImageData(a,i.image.x*s,i.image.y*s,0,0,l,c),a=null}function wM(e,t,n){var i=e.icon,r=(Date.now(),function(e,t,n,i){var r,a,o,s,l;s=(r=n.image).width,l=r.height,a=r.x,o=r.y;try{e.drawImage(t,a,o,s,l)}catch(d){var c=t.width,u=t.height;return i.recordStat("ErrorDrawingImageIn_scaleImageDirectToContext",{class:"BR.ImageScaler",function:"_scaleImageDirectToContext()",imageWidth:c,imageHeight:u,errorMessage:d.message,errorName:d.name,stack:d.stack}),!1}return!0}(t,i,n,e.loggingService));return Date.now(),r}var EM=navigator.hardwareConcurrency-1||1,CM=Ge.a.extend({primaryInteractionMode:Y.c(li.a.MOUSE),scheduler:Y.c({get:function(){return this._scheduler}}),loggingService:Y.c(null),init:function(e,t,n){var i=this;Object.defineProperties(this,{_currentTasksList:{value:{}},_pauseBetweenScalingEventTasksList:{value:{}},_scheduler:{value:this.loadTaskScheduler()},_browserSupportsWebWorkers:{value:!1,writable:!0},_canvasSupportsImageScalingQualityHigh:{value:!1,writable:!0},_addTaskToCurrentTasksList:{value:function(e,t){i._currentTasksList[e]=t}},_removeTaskFromCurrentTasksList:{value:function(e){delete i._currentTasksList[e]}},_addTaskToPauseBetweenScalingEventTasksList:{value:function(e,t){i._pauseBetweenScalingEventTasksList[e]=t}},_removeTaskFromPauseBetweenScalingEventTasksList:{value:function(e){delete i._pauseBetweenScalingEventTasksList[e]}}}),this.__s._$k6$init.call(this,n),this.loggingService=e,this.primaryInteractionMode=t,OM()&&(this._browserSupportsWebWorkers=!0),hM.canvasSupportsImageSmoothingQuality()&&(this._canvasSupportsImageScalingQualityHigh=!0)},loadTaskScheduler:function(){return ep.create({trace:!1,traceId:"thumbnail scaler",allowedMaximumRunningTasks:EM})},drawThumbnailWithTreatmentType:function(e,t,n,i,r,a,o,s){var l,c=this;switch(e){case"IMAGES":l=fM.Image;break;case"VIDEOS":l=fM.Video;break;case"MUSIC":default:l=fM.Default}var u,d=this.loggingService,h=this.primaryInteractionMode,f={icon:t,size:n,hasSharedFolderAdornment:o,forceCenterAlignment:s,identifier:i,scalingHasStartedCallback:r,file:a,treatmentType:l,loggingService:d,primaryInteractionMode:h};u=this._canvasSupportsImageScalingQualityHigh?mM.create(Object.assign({useImageSmoothingQualityHigh:!0},f)):this._browserSupportsWebWorkers?mM.create(Object.assign({scalingWebWorkerProvider:AM},f)):mM.create(Object.assign({},f));var p=TM.create();return this._addTaskToCurrentTasksList(i,u),this._addTaskToPauseBetweenScalingEventTasksList(i,p),this._scheduler.scheduleTask(p).then((function(){c._removeTaskFromPauseBetweenScalingEventTasksList(i)})),this._scheduler.scheduleTask(u).then((function(e){return c._removeTaskFromCurrentTasksList(i),e}))},cancelAllTasks:function(){this._scheduler.cancelAllQueuedTasks()},cancelScaleThumbnailTask:function(e){var t=this._currentTasksList[e],n=this._pauseBetweenScalingEventTasksList[e];t&&t.isCancellable&&(t.cancel(),this._removeTaskFromCurrentTasksList(e)),n&&n.isCancellable&&(n.cancel(),this._removeTaskFromPauseBetweenScalingEventTasksList(e))},__superMap:{_$k6$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ThumbnailScalingService"}}),AM=Ge.a.extend({init:function(){var e=this,t=arguments;e.__s._$1tl$init.apply(e,t),this._chromeWorkerCounter=0},acquireWorkerPacket:function(){var e=new Worker(n(683));return e.postMessage({init:this._chromeWorkerCounter++}),{worker:e,scratchCanvas:document.createElement("canvas")}},returnWorkerPacket:function(e){e.worker.terminate(),e=null},__superMap:{_$1tl$init:"init"}}).create(),TM=yf.extend({startRun:function(){var e=Z.a.create();return this._timeout=ft.a((function(){e.resolve(o.okResult())}),100),e},shouldAllowCancel:function(){return!0},cancel:function(){this.__s._$2AX$cancel.call(this),this._timeout&&(clearTimeout(this._timeout),this.finishCancellingRun())},__superMap:{_$2AX$cancel:"cancel"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PauseBetweenScalingEventTask"}}),OM=function(){var e=!1;if(globalThis.Worker&&(e=!0),ce.a.sharedInstance.isIE&&11==ce.a.sharedInstance.majorVersion){e=!0;try{var t=new Float32Array(4).buffer;globalThis.postMessage("{}","*",[t])}catch(n){e=!1}}return e},DM=Di.a.extend(vo,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"canvas",name:"placeholderCanvas",attributes:{width:"0",height:"0"}}],classes:["thumbnail-icon"]}},__QUALIFIED_CLASS_NAME__:"ThumbnailShowcaseView"},thumbnailTreatmentTypeService:null,updated:Ni.g(),error:Ni.g(),thumbnailCanvasFactory:null,downloadImageService:null,thumbnailScalingService:null,thumbnailURLService:null,loggingService:null,forceCenterAlignment:Y.c(!1),reuseIdentifier:Y.c({readOnly:!0,get:function(){return this.identifier}}),identifier:Y.c(),file:Y.c(),init:function(e,t,n,i,r,a,o,s,l){this.file=e,this.identifier=t,this.downloadImageService=n,this.thumbnailURLService=i,this.thumbnailCanvasFactory=r,this.thumbnailTreatmentTypeService=a,this.thumbnailScalingService=o,this.loggingService=s,this.__s._$17R$init.call(this,l),this._isReadyForDisplay=!1},prepareForReuse:function(){this.suspendThumbnailLoading()},isReadyForDisplay:function(){return this._isReadyForDisplay},startLoading:function(){this.resumeThumbnailLoading()},update:function(){this._isReadyForDisplay=!1,this._thumbnailCanvas&&this._thumbnailCanvas.reset(),this.resumeThumbnailLoading()},suspendThumbnailLoading:function(){this._thumbnailCanvas&&this._thumbnailCanvas.isCancellable()&&this._thumbnailCanvas.cancel()},resumeThumbnailLoading:function(){return this._thumbnailCanvas&&!this._isReadyForDisplay?this._startThumbnailRendering():this._setupThumbnailCanvas()},_setupThumbnailCanvas:function(){var e=this;if(!this._isReadyForDisplay){var t=oM(this.displaySize);return this.thumbnailTreatmentTypeService.getThumbnailTreatmentTypeForFile(this.file).then((function(n){if(n.ok){var i=n.data;if(e.isDisposed)return;return e._thumbnailCanvas=MM.create({file:e.file,size:t,forceCenterAlignment:e.forceCenterAlignment,identifier:e.reuseIdentifier,thumbnailTreatmentType:i,downloadImageService:e.downloadImageService,thumbnailURLService:e.thumbnailURLService,thumbnailScalingService:e.thumbnailScalingService,loggingService:e.loggingService}),e._startThumbnailRendering()}e.isDisposed||(e.loggingService.recordStat("FailedToGetThumbnailTreatmentType"),e._isReadyForDisplay=!1,e.error(!0))}))}},_startThumbnailRendering:function(){var e=this;return this._thumbnailCanvas.start().then((function(t){if(t.ok){if(e.isDisposed)return;e._addRenderedCanvasToView()}else{if(e.isDisposed)return;e._isReadyForDisplay=!1,e.error(!0)}}))},_addRenderedCanvasToView:function(){var e=this._thumbnailCanvas;if(!e)return!1;var t=e.canvas;if(!t)return!1;var n=Io.a.sharedInstance.devicePixelRatio,i=this.size;t.style.width=i*n,t.style.height=i*n;var r=this.element;r.replaceChild(t,r.childNodes[0]),this._isReadyForDisplay=!0,this.updated(!0)},__superMap:{_$17R$init:"init"}}),MM=Ge.a.extend({size:Y.c(128),thumbnailTreatmentType:null,downloadImageService:null,thumbnailURLService:null,thumbnailScalingService:null,loggingService:null,forceCenterAlignment:!1,file:Y.c(),identifier:null,canvas:Y.c({readOnly:!0,get:function(){return this._canvas?this._canvas:null}}),reuseIdentifier:Y.c({readOnly:!0,get:function(){return this.identifier}}),init:function(e){var t=this,n=arguments;t.__s._$2Vu$init.apply(t,n),this._scalingHasStarted=!1,this._continueLoading=!0},isCancellable:function(){return!this._scalingHasStarted},cancel:function(){this._continueLoading=!1},start:function(){var e=this;return this._continueLoading=!0,this._loadURL().then((function(){return e._beginLoadingCanvas()}))},reset:function(){this._continueLoading=!0;var e=jr.a(this,"file.thumbnailMetadata"),t=jr.a(e,"state");bt.a(t)&&(e.state=oh.NOT_LOADED,e.url=null,e.expiration=null,e.etag=null)},_loadURL:function(){var e=this.file,t=jr.a(e,"thumbnailMetadata"),n=jr.a(t,"state"),i=oh.LOADED,r=i.ABSENT,a=i.PRESENT;if(bt.a(n)){if(n===r||n===a)return Z.a.resolve(o.okResult());this.reset(),t.load();var s=e.etag;return this.thumbnailURLService.getURLForItem(e).then((function(e){if(t.state!==oh.LOADING&&(t.state=oh.LOADING,t.url=null,t.expiration=null),e.ok){var n=jr.a(e,"data.url");t.initialize(n,s)}else t.initialize(null),t.reset();return e}))}return Z.a.resolve(o.failedResult())},_beginLoadingCanvas:function(){var e=this;if(!this._continueLoading)return Z.a.resolve(o.cancelledResult());if(!1===this._isThumbnailUrlStillValid())return this._updateExpiredURL(),Z.a.resolve(o.cancelledResult());var t=jr.a(this,"file.thumbnailMetadata.url");return t?this.downloadImageService.downloadImageForURL(this.identifier,t).then((function(t){if(t.ok){var n=t.data,i=n.naturalWidth||n.width,r=n.naturalHeight||n.height;if(!i||!r)return o.cancelledResult();if(!e._continueLoading)return e.downloadImageService.enqueueWorker(n),o.cancelledResult();var a=Z.a.create();return e._drawThumbnailWithTreatmentIntoContext(n,(function(){e._scalingHasStarted=!0}),e.forceCenterAlignment).then((function(t){t.ok&&(e._canvas=t.data),e.downloadImageService.enqueueWorker(n),a.resolve(t)})),a}return t})):Z.a.resolve(o.cancelledResult())},_isThumbnailUrlStillValid:function(){var e=jr.a(this,"file.thumbnailMetadata.expiration");if(!e)return!0;var t=new Date;return new Date(e)>=t},_updateExpiredURL:function(){var e=jr.a(this,"file.thumbnailMetadata");return bt.a(e)&&e.reset(),this._loadURL()},_drawThumbnailWithTreatmentIntoContext:function(e,t,n){var i=this.thumbnailTreatmentType,r=this.get("size"),a=this.file,o=oM(Aa.REGULAR),s=a.isSharedIndirectly&&r===o;return this.thumbnailScalingService.drawThumbnailWithTreatmentType(i,e,r,this.reuseIdentifier,t,this.file,s,n)},__superMap:{_$2Vu$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ThumbnailCanvas"}}),NM=Ge.a.extend({hostService:null,init:function(e,t){this.hostService=e,this.__s._$FE$init.call(this,t)},thumbnailTreatmentMap:{},getThumbnailTreatmentTypeForFile:function(e){var t=(e.extension||"").toLowerCase(),n=this.thumbnailTreatmentMap,i=n[t],r=this.hostService;if(bt.a(i))return i;var a=""===t?Z.a.resolve(o.failedResult()):r.getConformingTypes(t).then((function(e){if(e.isOk){var i=e.data,r=function(e){return!!(e&&e.indexOf("public.image")>=0)}(i)?"IMAGES":function(e){return!(!(e&&e.length>=2)||"public.audio"!==e[0]&&"public.audio"!==e[1]||"public.audiovisual-content"===e[0]||"public.audiovisual-content"===e[1])}(i)?"MUSIC":function(e){return!(!(e&&e.length>=2)||"public.audiovisual-content"!==e[0]&&"public.audiovisual-content"!==e[1])}(i)?"VIDEOS":"DOCUMENTS";return o.okResult(r)}return delete n[t],o.failedResult(e.data)}));return n[t]=a,a},__superMap:{_$FE$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ThumbnailTreatmentTypeService"}}),FM=Ge.a.extend({init:function(e,t,n,i,r,a,o){this.hostService=t,this.loggingService=e,this.showcaseViewPool=n,this.downloadImageService=i,this.urlService=r,this.thumbnailScalingService=a,this.__s._$Ni$init.call(this,o),Object.defineProperties(this,{_thumbnailTreatmentTypeService:{value:NM.create(t)},_pauseThumbnailLoading:{value:!1,writable:!0}})},hostService:Y.c(null),loggingService:Y.c(null),showcaseViewPool:Y.c(null),downloadImageService:Y.c(null),urlService:Y.c(null),thumbnailScalingService:Y.c(null),isThumbnailLoadingPaused:Y.c({readOnly:!0,default:!1,get:function(){return this._pauseThumbnailLoading}}),createThumbnailShowcaseViewForFile:function(e,t,n,i){return this._pauseThumbnailLoading?{success:!1,reason:"PAUSED"}:{success:!0,thumbnailShowcaseView:DM.create(e,n,this.downloadImageService,this.urlService,this,this._thumbnailTreatmentTypeService,this.thumbnailScalingService,this.loggingService,{displaySize:t,forceCenterAlignment:i})}},cacheThumbnailCanvasForFile:function(e,t){if(!this._pauseThumbnailLoading){var n=this.showcaseViewPool,i=n.createThumbnailShowcaseViewUniqueIdentifier(e,t);n.isShowcaseViewAvailableForIdentifier(i)||LM.isFileBeingCached(e,t)||LM.preloadThumbnail(this,e,t,this.downloadImageService,n,this.thumbnailScalingService,this.urlService,this._thumbnailTreatmentTypeService,this.loggingService)}},suspendThumbnailLoading:function(){this._pauseThumbnailLoading=!0,LM.cancelAllTasks()},resumeThumbnailLoading:function(){this._pauseThumbnailLoading=!1},__superMap:{_$Ni$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ThumbnailCanvasFactory"}}),LM=Ge.a.extend({currentTasksList:{},suspend:function(){this._suspended||(this._suspended=!0,this._scheduler.suspend())},resume:function(){this._suspended&&(this._suspended=!1,this._scheduler.resume())},scheduler:Y.c({get:function(){return this._scheduler}}),init:function(e){var t=this,n=arguments;t.__s._$1X1$init.apply(t,n),this._scheduler=this.loadTaskScheduler({delegate:this})},loadTaskScheduler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ep.create(Object.assign({trace:!1,traceId:"thumbnail precache",allowedMaximumRunningTasks:1},e))},preloadThumbnail:function(e,t,n,i,r,a,o,s,l){var c=this,u=oM(n),d=this._createKeyForTask(t,u),h=RM.create({file:t,displaySize:n,thumbnailCanvasFactory:e,downloadImageService:i,id:d,thumbnailTreatmentTypeService:s,showcaseViewPool:r,thumbnailScalingService:a,urlService:o,loggingService:l});return this._addTaskToCurrentTasksList(d,h),this._scheduler.scheduleTask(h).then((function(){c._removeTaskFromCurrentTasksList(d)}))},cancelAllTasks:function(){this._scheduler.cancelAllQueuedTasks()},isFileBeingCached:function(e,t){var n=oM(t),i=this._createKeyForTask(e,n);return!!this.currentTasksList[i]},_createKeyForTask:function(e,t){var n=oM(t);return e.get("id")+"::"+n},_addTaskToCurrentTasksList:function(e,t){this.currentTasksList[e]=t},_removeTaskFromCurrentTasksList:function(e){delete this.currentTasksList[e]},taskSchedulerTaskDidCancel:function(e,t){delete this.currentTasksList[t.id]},__superMap:{_$1X1$init:"init"}}).create(),RM=yf.extend({id:null,file:null,displaySize:null,thumbnailCanvasFactory:null,showcaseViewPool:null,downloadImageService:null,thumbnailTreatmentTypeService:null,thumbnailScalingService:null,urlService:null,loggingService:null,startRun:function(){var e=this,t=this.get("thumbnailCanvasFactory"),n=this.get("file"),i=this.get("displaySize"),r=this.showcaseViewPool,a=r.createThumbnailShowcaseViewUniqueIdentifier(n,i),s=DM.create(n,a,this.downloadImageService,this.urlService,t,this.thumbnailTreatmentTypeService,this.thumbnailScalingService,this.loggingService,{displaySize:i}),l=Z.a.create();return this._thumbnailShowcaseViewUpdateListener=s.listen("updated",(function(t){e._thumbnailShowcaseViewUpdateListener.disconnect(),e._thumbnailShowcaseViewUpdateListener=null,e._thumbnailShowcaseViewErrorListener.disconnect(),e._thumbnailShowcaseViewErrorListener=null,r.releaseShowcaseView(s),l.resolve(o.okResult())})),this._thumbnailShowcaseViewErrorListener=s.listen("error",(function(t){e._thumbnailShowcaseViewUpdateListener.disconnect(),e._thumbnailShowcaseViewUpdateListener=null,e._thumbnailShowcaseViewErrorListener.disconnect(),e._thumbnailShowcaseViewErrorListener=null,l.resolve(o.failedResult(t))})),s.startLoading(),l},shouldAllowCancel:function(){return!this.isRunning},staticMembers:{__QUALIFIED_CLASS_NAME__:"precacheThumbnailShowcaseViewTask"}}),xM=Ge.a.extend({loggingService:null,init:function(e,t){this.loggingService=e,Object.defineProperties(this,{_stats:{value:{files:0,bytes:0}},_fileList:{value:{}},_previousTotalBytes:{value:0,writable:!0},_nextBytesThreshold:{value:52428800,writable:!0}}),this.__s._$Jc$init.call(this,t)},registerFile:function(e){if(e){var t=this._fileList,n=e.id;if(!t[n]){var i=function(e){return{bytes:e.size,extension:e.extension}}(e);t[n]=i,function(e,t){var n=e._stats,i=n.files,r=n.bytes;i++,r+=t.bytes,n.files=i,n.bytes=r,function(e){var t=e._stats,n=t.files,i=t.bytes;n%200===0&&PM(e,"File Threshold Crossed: "+n),i>e._nextBytesThreshold&&e._previousTotalBytes<e._nextBytesThreshold&&(PM(e,"Bytes Threshold Crossed: "+e._nextBytesThreshold/1024/1024+"MB"),e._nextBytesThreshold+=52428800),e._previousTotalBytes=i}(e)}(this,i)}}},__superMap:{_$Jc$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ThumbnailStatsReporterService"}});function PM(e,t){var n=e._stats,i=n.files,r=n.bytes,a=(r/1024/1024).toFixed(2),o="File and Thumbnail Usage: "+i+" files ("+a+"MB)",s=function(e){for(var t="",n=Object.keys(e),i=0;i<n.length;i++){var r=n[i];t+=r+"\t"+e[r]+"\r"}return t}(function(e){for(var t={},n=e._fileList,i=Object.keys(n),r=0;r<i.length;r++){var a=n[i[r]],o=a.extension,s=t[o];s||(s=0),s+=a.bytes,t[o]=s}return t}(e));e.loggingService.recordStat(o,{trigger:t,files:i,bytes:r,bytesInMB:a,bytesSummedByExtensionInTabbedFormat:s}),Re.b.debug(o+"\ntrigger: "+t+"\nfiles: "+i+"\nbytes: "+r+"\nbytesInMB: "+a+"\nbytesSummedByExtensionInTabbedFormat:\n"+s)}var kM=Ge.a.extend({type:null,items:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorGroup"}}),UM=Ge.a.extend({filters:[],errorItemIsValid:De.a.define(),allowsAggregationForErrorItem:function(e){},createErrorGroupForErrorItem:function(e){this.errorItemIsValid(e)||ze.b("Cannot create error group. Error item is invalid",{errorGroup:this,errorItem:e});var t=kM.create({type:this.errorGroupType,items:[e]});return this._shouldFilterErrorGroup()&&(t=this._filterErrorGroup(t)),t},aggregateErrorGroupWithErrorItem:function(e,t){var n=this.errorItemIsValid(t),i=this.errorGroupIsValid(e);n&&i||ze.b("Cannot aggregate. Require a valid error group and error item",{errorAggregator:this,errorGroup:e,errorItem:t});var r=kM.create({type:this.errorGroupType,items:e.items.concat(t)});return this._shouldFilterErrorGroup()&&(r=this._filterErrorGroup(r)),r},_shouldFilterErrorGroup:function(){return this.filters.length>0},_filterErrorGroup:function(e){for(var t=this.filters,n=e,i=0;i<t.length;i++)n=t[i].filterErrorGroup(n);return n},staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorAggregator"}}),jM=UM.extend({errorItemType:null,errorGroupType:null,allowsAggregationForErrorItem:function(e){return this.errorItemIsValid(e)},errorItemIsValid:function(e){return!!e&&e.type===this.errorItemType},errorGroupIsValid:function(e){return!!e&&e.type===this.errorGroupType},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionErrorAggregator"}}),BM=ne.b("TransactionErrorGroupType",["DeletedItemErrors","MovedItemErrors","MovedItemToAppLibraryErrors","CreateFolderErrors","RenameItemErrors","UploadItemErrors","PutItemsBackFromTrashErrors"]),VM=jM.extend({errorItemType:Mf.CreateFolderError,errorGroupType:BM.CreateFolderErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"CreateFolderTransactionErrorAggregator"}}),$M=jM.extend({errorItemType:Mf.DeleteItemError,errorGroupType:BM.DeletedItemErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"DeleteItemTransactionErrorAggregator"}}),WM=ne.b("LocalEditValidationErrorGroupType",["RenameItemErrors"]),zM=UM.extend({errorGroupType:WM.RenameItemErrors,allowsAggregationForErrorItem:function(e){return e.type.group===Wp},errorItemIsValid:function(e){return!!e&&this.allowsAggregationForErrorItem(e)},errorGroupIsValid:function(e){return!!e&&e.type===this.errorGroupType},staticMembers:{__QUALIFIED_CLASS_NAME__:"LocalEditValidationErrorAggregator"}}),GM=jM.extend({errorItemType:Mf.MoveItemError,errorGroupType:BM.MovedItemErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemTransactionErrorAggregator"}}),HM=jM.extend({errorItemType:Mf.MoveItemToAppLibraryError,errorGroupType:BM.MovedItemToAppLibraryErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemToAppLibraryErrorAggregator"}}),KM=jM.extend({errorItemType:Mf.PutItemBackFromTrashError,errorGroupType:BM.PutItemsBackFromTrashErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"PutItemsBackFromTrashErrorAggregator"}}),QM=jM.extend({errorItemType:Mf.RenameItemError,errorGroupType:BM.RenameItemErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"RenameItemTransactionErrorAggregator"}}),qM=jM.extend({errorItemType:Mf.UploadItemError,errorGroupType:BM.UploadItemErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadFileTransactionErrorAggregator"}}),YM=ne.b("UploadValidationErrorGroupType",["UploadValidationErrors"]),XM=UM.extend({errorGroupType:YM.UploadValidationErrors,allowsAggregationForErrorItem:function(e){return e.type.group===Hp},errorItemIsValid:function(e){return!!e&&this.allowsAggregationForErrorItem(e)},errorGroupIsValid:function(e){return!!e&&e.get("type")===this.get("errorGroupType")},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadValidationErrorAggregator"}}),JM=ne.b("DownloadErrorItemType",["GenericDownloadError","RequestedItemWasDeletedError"]),ZM=ne.b("DownloadErrorGroupType",["MixedErrorType"]),eN=UM.extend({errorGroupType:ZM.MixedErrorType,allowsAggregationForErrorItem:function(e){return e.type.group===JM},errorItemIsValid:function(e){return!!e&&this.allowsAggregationForErrorItem(e)},errorGroupIsValid:function(e){return!!e&&e.type===this.errorGroupType},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownloadErrorAggregator"}}),tN=ne.b("OpenFileErrorItemType",["RequestedItemWasDeletedError","RequestedItemWasUnshared","EmailAttachmentError","GenericOpenItemError"]),nN=ne.b("OpenFileErrorGroupType",["MixedErrorType"]),iN=UM.extend({errorGroupType:nN.MixedErrorType,allowsAggregationForErrorItem:function(e){return e.type.group===tN},errorItemIsValid:function(e){return!!e&&this.allowsAggregationForErrorItem(e)},errorGroupIsValid:function(e){return!!e&&e.type===this.errorGroupType},staticMembers:{__QUALIFIED_CLASS_NAME__:"OpenFileErrorAggregator"}}),rN=Ge.a.extend({filterErrorGroup:function(e){for(var t=e.type,n=e.items,i={},r=0;r<n.length;r++){var a=void 0,o=n[r],s=o.details;null===s?(i[a=(t=o.type).name]=[],i[a].push(o)):void 0!==i[a=s.item.name]?i[a].push(o):(i[a]=[],i[a].push(o))}var l=this._filterErrorItemHashByErrorType(t,i);return e.set("items",l),e},_filterErrorItemHashByErrorType:function(e,t){var n=[];for(var i in t){var r=t[i].slice().sort(this._compareErrorItemErrorTypes.bind(this));n.push(r[0])}return n},staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorGroupFilter"}}).extend({_compareErrorItemErrorTypes:function(e,t){return Hp.items.find((function(n){return n===e.type.name||n===t.type.name}))===t.type.name?1:-1},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadValidationErrorsFilterForErrorGroupItems"}}),aN=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"iconView"}],classes:["icon"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h3",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}],classes:["title",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"adjustTitleLocationForDescription",truevalue:"has-description",attributes:{}}]},{type:"ELEMENT",tagname:"p",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"description",attributes:{}}],classes:["description",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showDescription",truevalue:"",falsevalue:"hide-description",attributes:{}}]}],classes:["detail-text",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"iconView",truevalue:"has-icon-view",attributes:{}}]}],classes:["detail-view"]}},__QUALIFIED_CLASS_NAME__:"ItemDetailView"},prepareForReuse:function(){Object.assign(this,{title:void 0,iconView:void 0,description:void 0})},iconView:X.b({strong:!0}),title:X.b(),description:X.b(),showDescription:X.b(!1),adjustTitleLocationForDescription:X.b(!1)}),oN=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"MULTIVIEWOUTLET",tagname:"views",name:"detailViews"}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"",falsevalue:"hide",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"MultiItemAlertAccessoryView"},additionalClassNames:["multi-item-alert-accessory-view","drive-ui"],detailViews:X.b(),isVisible:X.b(!0)}),sN=n_.a.extend({detailDescriptionsVisible:X.b(!0),detailsVisible:X.b(!1),accessoryView:X.b({type:oN,defaultValue:ut.b(oN),downstreamBindings:{isVisible:"(owner).detailsVisible",detailViews:"(owner).detailViews"}}),detailViews:X.b(ut.b(mf)),addDetail:function(e,t,n){var i=this.detailDescriptionsVisible,r=lN.acquire({title:e,description:t,iconView:n,showDescription:i,adjustTitleLocationForDescription:i});this.detailViews.push(r)},removeDetails:function(){for(var e=this.detailViews,t=e.length;t--;){var n=e.objectAt(t);n&&(n.prepareForReuse(),lN.relinquish(n))}this.detailViews.clear(),this.set("detailDescriptionsVisible",!1),this.set("previousDetailDescriptionsVisible",!1)},modalDialogDidDismiss:function(){var e=this,t=arguments;return this.removeDetails(),e.__s._$gw$modalDialogDidDismiss.apply(e,t)},_detailDescriptionsVisibleDidChange:Ni.f("detailDescriptionsVisible",(function(e){var t=this.detailViews;if(this.get("previousDetailDescriptionsVisible")!==e){for(var n=t.length;n--;){var i=t.objectAt(n);i.showDescription=e,i.adjustTitleLocationForDescription=e}this.previousDetailDescriptionsVisible=e}})),__superMap:{_$gw$modalDialogDidDismiss:"modalDialogDidDismiss"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MultiItemAlertViewController"}}),lN=Ge.a.extend({pool:Y.c(ut.b(yS)),relinquish:function(e){this.pool.push(e)},acquire:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.pool.pop();return t instanceof Object?Object.assign(t,e):aN.create(e)}}).create(),cN=ne.b("AlertPresentationState",["NotPresented","Presenting","Presented","Dismissing"]),uN=Ge.a.extend(Ni.a,{delegate:null,dismissedAlert:Ni.g(),presentedAlert:Ni.g(),errorGroup:Y.c({readOnly:!0,get:function(){return this._errorGroup}}),isAlertBecomingDismissed:Y.c({readOnly:!0,get:function(){return this._presentationState===cN.Dismissing}}),isAlertBecomingPresented:Y.c({readOnly:!0,get:function(){return this._presentationState===cN.Presenting}}),isAlertPresented:Y.c({readOnly:!0,get:function(){return this._presentationState===cN.Presented}}),init:function(e){var t=this,n=arguments;t.__s._$QX$init.apply(t,n),this._errorItemPresentationInfoGenerators={},this._errorGroup=null,this._alertViewController=null,this._contextAlertButton=null,this._presentationState=cN.NotPresented},addErrorItemPresentationInfoGenerator:function(e){this._errorItemPresentationInfoGenerators[e.errorGroupType]=e},_getPresentationInfoGeneratorForErrorGroup:function(e){var t=this._errorItemPresentationInfoGenerators[e.type];return t||ze.b("No presentation info generator available for "+e.type),t},presentErrorGroup:function(e){var t=this;this._errorGroup&&ze.b("Cannot present. Is currently presenting error group",{alertPresenter:this});var n=this._getMessageForErrorGroup(e),i=this._getDescriptionForErrorGroup(e),r=sN.show({iconNames:"iclouddrive",message:n,description:i,primaryButton:{title:a.d("DriveUI.Common.Confirm"),isPrimary:!0,action:"handlePrimaryButton"},handlePrimaryButton:function(){t._dismissAlertView()}});this._includeContextButtonToAlertViewForErrorGroupIfNeeded(r,e),r.detailsVisible=this._shouldPresentDetailsForErrorGroup(e),this._addErrorGroupItemsToAlertViewDetailsStartingFromIndex(e,r,0),this._errorGroup=e,this._alertViewController=r,this._presentationState=cN.Presenting},updateForErrorGroup:function(e){var t=this._errorGroup,n=this._alertViewController,i=this._getMessageForErrorGroup(e),r=this._getDescriptionForErrorGroup(e),a=this._shouldPresentDetailsForErrorGroup(e),o=0;n.message=i,n.description=r,n.detailsVisible=a,t.type!==e.type?n.removeDetails():o=t.items.length,this._addErrorGroupItemsToAlertViewDetailsStartingFromIndex(e,n,o),this._includeContextButtonToAlertViewForErrorGroupIfNeeded(n,e),this._errorGroup=e},_shouldPresentDetailsForErrorGroup:function(e){return this._getPresentationInfoGeneratorForErrorGroup(e).shouldPresentDetailsForErrorGroup(e)},_shouldPresentItemDescriptionsForErrorGroup:function(e){return this._getPresentationInfoGeneratorForErrorGroup(e).shouldPresentItemDescriptionsForErrorGroup(e)},_getMessageForErrorGroup:function(e){return this._getPresentationInfoGeneratorForErrorGroup(e).getMessageForErrorGroup(e)},_getDescriptionForErrorGroup:function(e){return this._getPresentationInfoGeneratorForErrorGroup(e).getDescriptionForErrorGroup(e)},_addErrorGroupItemsToAlertViewDetailsStartingFromIndex:function(e,t,n){for(var i=this._getPresentationInfoGeneratorForErrorGroup(e),r=e.items,a=n,o=r.length;a<o;a++){var s=r[a],l=i.getPresentationInfoForErrorGroupItemAtIndex(e,s,a),c=l.message,u=l.description,d=l.iconView||null;t.addDetail(c,u,d)}var h=this._shouldPresentItemDescriptionsForErrorGroup(e);t.detailDescriptionsVisible=h},_includeContextButtonToAlertViewForErrorGroupIfNeeded:function(e,t){if(!this._contextAlertButton){var n=this._getPresentationInfoGeneratorForErrorGroup(t);if(n.shouldPresentContextButtonForErrorGroup(t)){var i=n.getContextButtonForErrorGroup(t);this._contextAlertButton=i,e.otherButton=i}}},_completePresentingAlertView:function(){this._presentationState=cN.Presented,this.presentedAlert(this)},_dismissAlertView:function(){this._presentationState=cN.NotPresented;var e=this._errorGroup;this._errorGroup=null,this._alertViewController=null,this._contextAlertButton=null,this.dismissedAlert(this,e)},__superMap:{_$QX$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"AlertPresenter"}}),dN=Ge.a.extend(Ni.a,{init:function(e,t,n,i,r){this.iconService=e,this.showcaseViewPool=t,this.thumbnailCanvasFactory=n,this.thumbnailStatsReporterService=i,this.__s._$Ma$init.call(this,r)},iconService:X.b(),showcaseViewPool:X.b(),thumbnailCanvasFactory:X.b(),thumbnailStatsReporterService:X.b(),errorGroupType:null,shouldPresentContextButtonForErrorGroup:function(e){return!1},getContextButtonForErrorGroup:function(e){return null},shouldPresentDetailsForErrorGroup:function(e){return!1},getMessageForErrorGroup:function(e){return null},getDescriptionForErrorGroup:function(e){return null},getPresentationInfoForErrorGroupItemAtIndex:function(e,t,n){return null},shouldPresentItemDescriptionsForErrorGroup:function(e){return!1},getIconViewForErrorItem:function(e){var t,n,i=this.iconService,r=this.showcaseViewPool,a=this.thumbnailCanvasFactory,o=this.thumbnailStatsReporterService,s=jr.a(e,"details.item");if(t=bt.a(s)&&Se.a(s,Ea)?s.getDataHash():{id:e.type===Hp.NotCompressed?"FOLDER::unspecified::unspecified":"FILE::unspecified::unspecified"},e.type===Hp.NotCompressed)n=ql.create({iconService:i,additionalClassNames:Mi.a(["medium"]),content:Md.create(t)});else if(jr.a(s,"isFolder")&&!jr.a(s,"isAppLibrary"))n=ql.create({additionalClassNames:Mi.a(["medium"]),content:Md.create(t)});else if(jr.a(s,"isAppLibrary"))n=Ws.create(i,{additionalClassNames:Mi.a(["medium"]),delegate:null,displaySize:Aa.MEDIUM,content:Md.create(t)});else{var l=jr.a(s,"extension");n=So.create(i,r,a,o,{additionalClassNames:Mi.a(["medium"]),fileType:l,fileExtension:l,displaySize:Aa.MEDIUM,content:sh.create(t)})}return n},__superMap:{_$Ma$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorItemPresentationInfoGenerator"}}),hN=function(e){for(var t,n=e.get("items"),i=n.length,r=0;r<i;r++){var a=n[r],o=n[r].get("type"),s=a.get("details");if(s&&s.conflictType&&(o=s.conflictType.name),t&&t!==o)return!0;t=o}return!1},fN=Ge.a.extend({init:function(e,t){this.message=e,this.__s._$7G$init.call(this,t)},message:null,description:null,iconView:null,__superMap:{_$7G$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorItemPresentationInfo"}}),pN=dN.extend({shouldPresentDetailsForErrorGroup:function(e){return e.items.length>1},getMessageForErrorGroup:function(e){var t=e.items,n=t.length;return n>1?this.getMainMessageForErrorGroup(e,wc.region.getNumberFormatter().format(n)):this.getMainMessageForErrorItem(t[0])},getDescriptionForErrorGroup:function(e){var t=e.items,n=t.length;return n>1?this.getMainDescriptionForErrorGroup(e,wc.region.getNumberFormatter().format(n)):this.getDescriptionForErrorItem(t[0],!0)},getPresentationInfoForErrorGroupItemAtIndex:function(e,t,n){var i=t.details.item;return fN.create(i.fullName,{description:this.getDescriptionForErrorItem(t,!1),iconView:this.getIconViewForErrorItem(t)})},getMainMessageForErrorGroup:function(e){return null},getMainDescriptionForErrorGroup:function(e){return null},getMainMessageForErrorItem:function(e){return null},getDescriptionForErrorItem:function(e,t){var n,i=e.details,r=i.conflictType,o=i.destinationFolder,s=i.isDestinationFolderSharedToMe,l=i.isSourceFolderSharedToMe;switch(r){case Df.DestinationDeleted:return n="DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.DestinationDeleted",s&&(n="DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Description"),a.d(n,{folder:o});case Df.ItemUnshared:return n="DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.Default",l&&(n="DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Description"),a.d(n);case Df.ItemDeleted:return n="DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemDeleted.",n+=this._getLocItemTypeForErrorItem(e),a.d(n);case Df.ItemMoved:return n="DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemMoved.",n+=this._getLocItemTypeForErrorItem(e),a.d(n);case Df.ItemModified:return n="DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemModified.",n+=this._getLocItemTypeForErrorItem(e),a.d(n);case Df.OutOfQuota:return a.d("DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.OutOfQuota");case Df.Unknown:return t?this.getVerboseDefaultUnknownConflictDescriptionForErrorItem(e):this.getShortDefaultUnknownConflictDescriptionForErrorItem(e)}},getVerboseDefaultUnknownConflictDescriptionForErrorItem:function(e,t){return a.d("DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.Default")},getShortDefaultUnknownConflictDescriptionForErrorItem:function(e){return a.d("DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.Default")},_getLocItemTypeForErrorItem:function(e){switch(e.details.item.type){case wa.FOLDER:return"Folder";case wa.APP_LIBRARY:return"AppLibrary";default:return"File"}},shouldPresentItemDescriptionsForErrorGroup:function(e){return hN(e)},areAllItemsTheSameConflictType:function(e){var t=e[0].details.conflictType;return e.every((function(e){return e.details.conflictType===t}))},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionErrorItemPresentationInfoGenerator"}}),mN=pN.extend({errorGroupType:BM.CreateFolderErrors,getMainMessageForErrorGroup:function(e,t){return a.d("DriveUI.Alert.TransactionError.Group.CreateFolders.Message",{count:t})},getMainDescriptionForErrorGroup:function(e,t){return a.d("DriveUI.Alert.TransactionError.Group.CreateFolders.Description")},getMainMessageForErrorItem:function(e){var t=e.details,n=t.conflictType,i=t.destinationFolder;return!t.isDestinationFolderSharedToMe||n!==Df.DestinationDeleted&&n!==Df.DestinationInvalid?a.d("DriveUI.Alert.TransactionError.CreateFolder.Message",{name:e.details.item.fullName}):a.d("DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Message",{folderName:i})},getVerboseDefaultUnknownConflictDescriptionForErrorItem:function(e){return a.d("DriveUI.Alert.TransactionError.CreateFolder.Description")},staticMembers:{__QUALIFIED_CLASS_NAME__:"CreateFoldersTransactionErrorItemPresentationInfoGenerator"}}),gN=pN.extend({errorGroupType:BM.DeletedItemErrors,getMainMessageForErrorGroup:function(e,t){return a.d("DriveUI.Alert.TransactionError.Group.DeleteItems.Message",{count:t})},getMainDescriptionForErrorGroup:function(e,t){return a.d("DriveUI.Alert.TransactionError.Group.DeleteItems.Description")},getMainMessageForErrorItem:function(e){return a.d("DriveUI.Alert.TransactionError.DeleteItems.Single.Message",{name:e.details.item.fullName})},getVerboseDefaultUnknownConflictDescriptionForErrorItem:function(e){var t="DriveUI.Alert.TransactionError.DeleteItems.Single.",n=e.details.item;return t+=this._getLocItemForFileSystemItem(n),t+=".Description",a.d(t)},_getLocItemForFileSystemItem:function(e){return e.isAppLibrary?"AppLibrary":e.isFile?"File":e.isFolder?"Folder":ze.b("Attempted to generate error presentation info for an item with an invalid type")},staticMembers:{__QUALIFIED_CLASS_NAME__:"DeleteItemsTransactionErrorItemPresentationInfoGenerator"}}),vN=dN.extend({errorGroupType:WM.RenameItemErrors,shouldPresentDetailsForErrorGroup:function(e){return e.items.length>1},getMessageForErrorGroup:function(e){var t=e.items,n=t.length;return n>1?this.getMainMessageForErrorGroup(e,n):this.getMainMessageForErrorItem(t[0])},getDescriptionForErrorGroup:function(e){var t=e.items,n=t.length;return n>1?this.getMainDescriptionForErrorGroup(e,n):this.getDescriptionForErrorItem(t[0],!0)},getPresentationInfoForErrorGroupItemAtIndex:function(e,t,n){var i=t.details;return fN.create(i.item.name,{description:this.getDescriptionForErrorItem(t,!1),iconView:this.getIconViewForErrorItem(t)})},getMainMessageForErrorGroup:function(e,t){return a.d("DriveUI.Alert.CannotRenameItem.Group.Message",{count:t})},getMainDescriptionForErrorGroup:function(e,t){return a.d("DriveUI.Alert.CannotRenameItem.Group.Description")},getMainMessageForErrorItem:function(e){var t,n,i=e.details.item,r=e.type,o=e.details.newName,s=i.isFolder;switch(r){case Wp.DuplicateName:return t="DriveUI.Alert.CannotRenameItem.NoExtension.Message",a.d(t,{name:o});case Wp.EmptyName:return s||i.extension&&""===i.extension?(t="DriveUI.Alert.EmptyName.Folder.Message",a.d(t,{name:o})):(n=o+"."+i.extension,t="DriveUI.Alert.EmptyName.File.Message",a.d(t,{fileNameWithExtension:n}));case Wp.InvalidName:return s||i.extension&&""===i.extension?(t="DriveUI.Alert.InvalidName.Folder.Message",a.d(t,{name:o})):(n=o+"."+i.extension,t="DriveUI.Alert.InvalidName.File.Message",a.d(t,{fileNameWithExtension:n}));case Wp.HiddenFile:return t="DriveUI.Alert.HiddenName.Folder.Message",s||(t="DriveUI.Alert.HiddenName.File.Message"),a.d(t)}},getDescriptionForErrorItem:function(e,t){var n;switch(e.type){case Wp.DuplicateName:return n="DriveUI.Alert.CannotRenameItem.Description",a.d(n);case Wp.EmptyName:return n="DriveUI.Alert.EmptyName.Description",a.d(n);case Wp.InvalidName:return n="DriveUI.Alert.InvalidName.Description",a.d(n);case Wp.HiddenFile:return n="DriveUI.Alert.HiddenName.Description",a.d(n)}ze.b("ErrorItem not recognized")},shouldPresentItemDescriptionsForErrorGroup:function(e){return hN(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"LocalEditItemsErrorItemPresentationInfoGenerator"}}),_N=pN.extend({errorGroupType:BM.MovedItemErrors,getMainMessageForErrorGroup:function(e,t){return a.d("DriveUI.Alert.TransactionError.Group.MoveItems.Generic.Message",{count:t})},getMainDescriptionForErrorGroup:function(e,t){return a.d("DriveUI.Alert.TransactionError.Group.MoveItems.Generic.Description")},getMainMessageForErrorItem:function(e){return a.d("DriveUI.Alert.TransactionError.MovingItems.Single.Message",{name:e.details.item.fullName,folder:e.details.destinationFolder})},getVerboseDefaultUnknownConflictDescriptionForErrorItem:function(e){var t="DriveUI.Alert.TransactionError.MovingItems.Single.";return t+=this._getLocItemTypeForErrorItem(e),t+=".Description",a.d(t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemsTransactionErrorItemPresentationInfoGenerator"}}),bN=_N.extend({errorGroupType:BM.MovedItemToAppLibraryErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemsToAppLibraryErrorItemPresentationInfoGenerator"}}),yN=pN.extend({errorGroupType:BM.PutItemsBackFromTrashErrors,getMainMessageForErrorGroup:function(e,t){return a.d("DriveUI.Alert.TransactionError.RecoverItems.Message",{count:t})},getMainDescriptionForErrorGroup:function(e,t){return a.d("DriveUI.Alert.TransactionError.RecoverItems.Description")},getMainMessageForErrorItem:function(e){return a.d("DriveUI.Alert.TransactionError.RecoverItem.Message",{name:e.details.item.fullName})},getVerboseDefaultUnknownConflictDescriptionForErrorItem:function(e){var t="DriveUI.Alert.TransactionError.RecoverItem.";return t+=this._getLocItemTypeForErrorItem(e),t+=".Description",a.d(t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"PutItemsBackFromTrashErrorItemPresentationInfoGenerator"}}),SN=pN.extend({errorGroupType:BM.RenameItemErrors,getMainMessageForErrorGroup:function(e,t){return a.d("DriveUI.Alert.TransactionError.Group.RenameItems.Message",{count:t})},getMainDescriptionForErrorGroup:function(e,t){return a.d("DriveUI.Alert.TransactionError.Group.RenameItems.Description")},getMainMessageForErrorItem:function(e){var t="DriveUI.Alert.TransactionError.RenameItem.";return t+=this._getLocItemTypeForErrorItem(e),t+=".Message",a.d(t,{name:e.details.item.fullName})},getVerboseDefaultUnknownConflictDescriptionForErrorItem:function(e){var t="DriveUI.Alert.TransactionError.RenameItem.";return t+=this._getLocItemTypeForErrorItem(e),t+=".Description",a.d(t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RenameItemsTransactionErrorItemPresentationInfoGenerator"}}),IN=pN.extend({errorGroupType:BM.UploadItemErrors,upgradeButtonUrl:Y.c({readOnly:!0}),getContextButtonForErrorGroup:function(e){var t=this;return{title:a.d("DriveUI.Alert.UpgradeInstructions"),action:"navigateToUpgradeUrl",navigateToUpgradeUrl:function(){t.upgradeButtonUrl&&globalThis.open(t.upgradeButtonUrl,"_blank")}}},getMessageForErrorGroup:function(e){return this._getMessageAndDescription(e).message},getDescriptionForErrorGroup:function(e){return this._getMessageAndDescription(e).description},shouldPresentDetailsForErrorGroup:function(e){var t=e.items;return 1!==t.length&&this.areAllItemsTheSameConflictType(t)},shouldPresentContextButtonForErrorGroup:function(e){return e.items.some((function(e){return e.details.conflictType===Df.OutOfQuota}))},_getMessageAndDescription:function(e){var t=e.items;return this.shouldPresentDetailsForErrorGroup(e)?this._getMessageAndDescriptionForMultipleErrorItems(t):this._getMessageAndDescriptionForSingleErrorItem(t[0])},_getMessageAndDescriptionForMultipleErrorItems:function(e){var t,n,i=e[0].details.conflictType;if(this.areAllItemsTheSameConflictType(e))switch(i){case Df.OutOfQuota:t=a.d("DriveUI.Alert.Upload.Coalesced.OutOfQuota.Title",{fileCount:e.length}),n=a.d("DriveUI.Alert.Upload.Coalesced.OutOfQuota.Description");break;case Df.DestinationDeleted:t=a.d("DriveUI.Alert.Upload.Coalesced.Default.Title",{fileCount:e.length}),n=a.d("DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Description");break;case Df.Unknown:default:t=a.d("DriveUI.Alert.Upload.Coalesced.Unknown.Title",{fileCount:e.length}),n=a.d("DriveUI.Alert.Upload.Coalesced.Unknown.Description")}else t=a.d("DriveUI.Alert.Upload.Coalesced.Default.Title",{fileCount:e.length}),n=a.d("DriveUI.Alert.Upload.Coalesced.Default.Description");return{message:t,description:n}},_getMessageAndDescriptionForSingleErrorItem:function(e){var t,n,i=e.details.conflictType,r=e.details.item.fullName;switch(i){case Df.OutOfQuota:t=a.d("DriveUI.Alert.Upload.OutOfQuota.Title",{fileName:r}),n=a.d("DriveUI.Alert.Upload.OutOfQuota.Description");break;case Df.DestinationDeleted:t=a.d("DriveUI.Alert.Upload.Default.Title",{fileName:r}),n=a.d("DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Description");break;case Df.Unknown:default:t=a.d("DriveUI.Alert.Upload.Default.Title",{fileName:r}),n=a.d("DriveUI.Alert.Upload.Default.Description")}return{message:t,description:n}},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadFilesTransactionErrorItemPresentationInfoGenerator"}}),wN=dN.extend({errorGroupType:YM.items,shouldPresentDetailsForErrorGroup:function(e){return e.items.length>1},getMessageForErrorGroup:function(e){return this._getMessageAndDescription(e).message},getDescriptionForErrorGroup:function(e){return this._getMessageAndDescription(e).description},getPresentationInfoForErrorGroupItemAtIndex:function(e,t,n){var i=this._getMessageAndDescriptionForSingleErrorItem(t),r=(t.details||{}).item;if(r){var a=this._getDetailedItemDescriptionForSingleErrorItem(t);return fN.create(r.name,{description:a,iconView:this.getIconViewForErrorItem(t)})}return fN.create(i.message,{description:i.description})},shouldPresentItemDescriptionsForErrorGroup:function(e){return hN(e)},_getMessageAndDescription:function(e){var t=e.items;return this.shouldPresentDetailsForErrorGroup(e)?this._getMessageAndDescriptionForMultipleErrorItems(t):this._getMessageAndDescriptionForSingleErrorItem(t[0])},_getMessageAndDescriptionForMultipleErrorItems:function(e){var t,n,i=e[0],r=i.details,o=i.type,s=e.length,l=r.destination,c="";if(l&&l.getAppLibrary){var u=l.getAppLibrary();u&&(c=u.get("fullName"))}if(e.every((function(e){return e.type===o})))switch(o){case Hp.NotCompressed:t=a.d("DriveUI.Alert.Upload.Coalesced.NotCompressed.Title",{fileCount:s}),n=a.d("DriveUI.Alert.Upload.Coalesced.NotCompressed.Description");break;case Hp.BadAppLibraryType:t=a.d("DriveUI.Alert.Upload.Coalesced.BadFileTypeForAppLibrary.Title",{num:s,appName:c}),n=a.d("DriveUI.Alert.Upload.Coalesced.BadFileTypeForAppLibrary.Description",{appName:c});break;case Hp.HiddenFile:t=a.d("DriveUI.Alert.Upload.Coalesced.HiddenFile.Title"),n=a.d("DriveUI.Alert.Upload.Coalesced.HiddenFile.Description");break;case Hp.UnsupportedExtension:t=a.d("DriveUI.Alert.Upload.Coalesced.UnsupportedExtension.Description"),n="";break;case Hp.SizeTooBig:t=a.d("DriveUI.Alert.Upload.Coalesced.SizeTooBig.Title",{fileCount:s}),n=a.d("DriveUI.Alert.Upload.Coalesced.SizeTooBig.Description");break;case Hp.SizeTooSmall:t=a.d("DriveUI.Alert.Upload.Coalesced.SizeTooSmall.Title",{fileCount:s}),n=a.d("DriveUI.Alert.Upload.Coalesced.SizeTooSmall.Description");break;default:t=a.d("DriveUI.Alert.Upload.Coalesced.Default.Title",{fileCount:s}),n=a.d("DriveUI.Alert.Upload.Coalesced.Default.Description")}else t=a.d("DriveUI.Alert.Upload.Coalesced.Default.Title",{fileCount:s}),n=a.d("DriveUI.Alert.Upload.Coalesced.Default.Description");return{message:t,description:n}},_getMessageAndDescriptionForSingleErrorItem:function(e){var t,n,i=e.type,r=e.details||{},o=r.item,s=r.destination,l="";if(s&&s.getAppLibrary){var c=s.getAppLibrary();c&&(l=c.get("fullName"))}switch(i){case Hp.AccessDenied:t=a.d("DriveUI.Alert.Upload.AccessDenied.Title"),n=a.d("DriveUI.Alert.Upload.AccessDenied.Message");break;case Hp.NotCompressed:case Hp.IEFolderDropZeroFileCount:var u=o?km.getUncompressedExtensionForNativeFile(o):null;if(u&&bm(u)){var d;switch(u){case"pages":d="Pages";break;case"key":case"keynote":d="Keynote";break;case"numbers":d="Numbers"}d?(t=a.d("DriveUI.Alert.Upload.Package.Title."+d),n=a.d("DriveUI.Alert.Upload.Package.Description."+d,{extension:u})):(t=a.d("DriveUI.Alert.Upload.Package.Title"),n=a.d("DriveUI.Alert.Upload.Package.Description"))}else t=a.d("DriveUI.Alert.Upload.SelectionContainsFolder.Title"),n=a.d("DriveUI.Alert.Upload.SelectionContainsFolder.Description");break;case Hp.BadAppLibraryType:t=a.d("DriveUI.Alert.Upload.BadFileTypeForAppLibrary.Title",{appName:l}),n=a.d("DriveUI.Alert.Upload.BadFileTypeForAppLibrary.Message",{appName:l});break;case Hp.HiddenFile:t=a.d("DriveUI.Alert.Upload.HiddenFile.Title",{fileName:o.name}),n=a.d("DriveUI.Alert.Upload.HiddenFile.Description");break;case Hp.UnsupportedExtension:t=a.d("DriveUI.Alert.Upload.UnsupportedExtension.Title",{fileName:o.name}),n=a.d("DriveUI.Alert.Upload.UnsupportedExtension.Description");break;case Hp.SizeTooBig:t=a.d("DriveUI.Alert.Upload.SizeTooBig.Title",{fileName:o.name}),n=a.d("DriveUI.Alert.Upload.SizeTooBig.Description");break;case Hp.SizeTooSmall:t=a.d("DriveUI.Alert.Upload.SizeTooSmall.Title",{fileName:o.name}),n=a.d("DriveUI.Alert.Upload.SizeTooSmall.Description");break;case Hp.BrowserNotSupported:t=a.d("DriveUI.Alert.Upload.BrowserNotSupported.Title"),n=a.d("DriveUI.Alert.Upload.BrowserNotSupported.Description");break;case Hp.Unknown:default:t=a.d("DriveUI.Alert.Upload.Default.Title",{fileName:o.name}),n=a.d("DriveUI.Alert.Upload.Default.Description")}return{message:t,description:n}},_getDetailedItemDescriptionForSingleErrorItem:function(e){switch(e.get("type")){case Hp.HiddenFile:return a.d("DriveUI.Alert.Upload.HiddenFile.Description");case Hp.SizeTooBig:return a.d("DriveUI.Alert.Upload.SizeTooBig.DetailedDescription");default:return this._getMessageAndDescriptionForSingleErrorItem(e).description}},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadValidationErrorItemPresentationInfoGenerator"}}),EN=dN.extend({errorGroupType:ZM.MixedErrorType,getMessageForErrorGroup:function(e){var t=e.items,n=t.length,i=t[0].details.item.fullName,r=CN(t),o=n>1?["DriveUI.Alert.Download.Multiple."+r+".Title",{fileCount:n}]:["DriveUI.Alert.Download.Single."+r+".Title",{fileName:i}];return a.d.apply(null,o)},getDescriptionForErrorGroup:function(e){var t=e.items,n=t.length,i=CN(t),r=n>1?["DriveUI.Alert.Download.Multiple."+i+".Subtitle"]:["DriveUI.Alert.Download.Single."+i+".Subtitle"];return a.d.apply(null,r)},getPresentationInfoForErrorGroupItemAtIndex:function(e,t,n){var i=t.details.item.fullName,r="DriveUI.Alert.Download.Multiple.ItemDetails."+(t.type===JM.GenericDownloadError?"Generic":"Deleted")+".Subtitle";return fN.create(i,{iconView:this.getIconViewForErrorItem(t),description:a.d(r)})},shouldPresentItemDescriptionsForErrorGroup:function(e){return"Mixed"===CN(e.items)},shouldPresentDetailsForErrorGroup:function(e){return e.items.length>1},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownloadErrorItemPresentationInfoGenerator"}});function CN(e){return e.map((function(e){return e.type===JM.GenericDownloadError?"Generic":"Deleted"})).reduce((function(e,t){return t===e?t:"Mixed"}))}var AN=dN.extend({errorGroupType:nN.MixedErrorType,getMessageForErrorGroup:function(e){var t=e.items,n=t.length,i=t[0].details.item.fullName,r="Attachment"===TN(t)?"Attachment":"Generic",o=n>1?["DriveUI.FilesGrid.Error.OpenFile.Multiple."+r+".Title",{fileCount:n}]:["DriveUI.FilesGrid.Error.OpenFile.Single."+r+".Title",{fileName:i}];return a.d.apply(null,o)},getDescriptionForErrorGroup:function(e){var t=e.items,n=t.length,i=TN(t),r=n>1?["DriveUI.FilesGrid.Error.OpenFile.Multiple."+i+".Subtitle"]:["DriveUI.FilesGrid.Error.OpenFile.Single."+i+".Subtitle"];return a.d.apply(null,r)},getPresentationInfoForErrorGroupItemAtIndex:function(e,t,n){var i=t.details.item.fullName,r="DriveUI.FilesGrid.Error.OpenFile.Multiple.ItemDetails."+TN([t])+".Subtitle";return fN.create(i,{iconView:this.getIconViewForErrorItem(t),description:a.d(r)})},shouldPresentItemDescriptionsForErrorGroup:function(e){return"Mixed"===TN(e.items)},shouldPresentDetailsForErrorGroup:function(e){return e.items.length>1},staticMembers:{__QUALIFIED_CLASS_NAME__:"OpenFileErrorItemPresentationInfoGenerator"}});function TN(e){return e.map((function(e){return e.type===tN.RequestedItemWasDeletedError?"Deleted":e.type===tN.RequestedItemWasUnshared?"Unshared":e.type===tN.EmailAttachmentError?"Attachment":"Generic"})).reduce((function(e,t){return t===e?t:"Mixed"}))}var ON=Ge.a.extend({alertPresenter:Y.c({readOnly:!0,get:function(){return this._alertPresenter}}),showcaseViewPool:Y.c({readOnly:!0}),iconService:Y.c({readOnly:!0}),thumbnailCanvasFactory:Y.c({readOnly:!0}),thumbnailStatsReporterService:Y.c({readOnly:!0}),init:function(e,t,n,i,r,a){this.iconService=e,this.showcaseViewPool=t,this.thumbnailCanvasFactory=n,this.thumbnailStatsReporterService=i,this.upgradeButtonUrl=r,this.__s._$pw$init.call(this,a),this._alertPresenter=this.loadAlertPresenter()},upgradeButtonUrl:Y.c({readOnly:!0}),loadAlertPresenter:function(){var e=uN.create(),t=this.iconService,n=this.showcaseViewPool,i=this.thumbnailCanvasFactory,r=this.thumbnailStatsReporterService,a=this.upgradeButtonUrl;return e.addErrorItemPresentationInfoGenerator(mN.create(t,n,i,r)),e.addErrorItemPresentationInfoGenerator(gN.create(t,n,i,r)),e.addErrorItemPresentationInfoGenerator(_N.create(t,n,i,r)),e.addErrorItemPresentationInfoGenerator(bN.create(t,n,i,r)),e.addErrorItemPresentationInfoGenerator(SN.create(t,n,i,r)),e.addErrorItemPresentationInfoGenerator(IN.create(t,n,i,r,{upgradeButtonUrl:a})),e.addErrorItemPresentationInfoGenerator(wN.create(t,n,i,r)),e.addErrorItemPresentationInfoGenerator(vN.create(t,n,i,r)),e.addErrorItemPresentationInfoGenerator(yN.create(t,n,i,r)),e.addErrorItemPresentationInfoGenerator(EN.create(t,n,i,r)),e.addErrorItemPresentationInfoGenerator(AN.create(t,n,i,r)),e},__superMap:{_$pw$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"AlertPresenterController"}}),DN=ne.b("RaiseAggregateAlertSchedulerState",["Prepared","AlertRaised"]),MN=Ge.a.extend({alertPresenter:Y.c({get:function(){return this._alertPresenter},set:function(e){var t=this._alertPresenter;return this._alertPresenterWillChange(t,e),e}}),init:function(e){var t=this,n=arguments;t.__s._$Bm$init.apply(t,n),this._state=DN.Prepared,this._alertPresenter=null,this._errorAggregators=[],this._errorAggregatorsCache={},this._raisedErrorGroup=null,this._pendingErrorGroupsQueue=[]},addErrorAggregator:function(e){this._errorAggregators.push(e)},raiseAlertForErrorItem:function(e){switch(this._state){case DN.Prepared:this._registerPendingErrorItem(e),this._tryRaisingNextAlert();break;case DN.AlertRaised:var t=this.alertPresenter;if(t.isAlertBecomingDismissed)this._registerPendingErrorItem(e);else{var n=this._raisedErrorGroup,i=this._tryAggregatingErrorGroupWithErrorItem(n,e);i?(this._raisedErrorGroup=i,t.updateForErrorGroup(i)):this._registerPendingErrorItem(e)}}},_registerPendingErrorItem:function(e){for(var t,n=this._pendingErrorGroupsQueue,i=0,r=n.length;i<r;i++){t=n[i];var a=this._tryAggregatingErrorGroupWithErrorItem(t,e);if(a)return void(n[i]=a)}(t=this._createErrorGroupForErrorItem(e))||Re.b.warn(this+" did not create an alert group for alert item",{service:this,alertItem:e}),n.push(t)},_tryRaisingNextAlert:function(){var e=this._pendingErrorGroupsQueue.shift();e?(this._state=DN.AlertRaised,this._raisedErrorGroup=e,this.alertPresenter.presentErrorGroup(e)):this._state=DN.Prepared},_tryAggregatingErrorGroupWithErrorItem:function(e,t){var n=this._errorAggregatorsCache[e.type];return n||ze.b("Cannot aggregate alert group. Missing aggregator",{service:this,alertGroup:e}),n.allowsAggregationForErrorItem(t)?n.aggregateErrorGroupWithErrorItem(e,t):null},_createErrorGroupForErrorItem:function(e){var t=this._errorAggregators,n=this._errorAggregatorsCache,i=e.type,r=n[i];if(!r)for(var a=0,o=t.length;a<o;a++){var s=t[a];if(s.allowsAggregationForErrorItem(e)){r=s,n[i]=r;break}}if(!r)return null;var l=r.createErrorGroupForErrorItem(e);return n[l.type]=r,l},_alertPresenterWillChange:function(e,t){if(this._changingAlertPresenter=!0,e&&(this._alertPresenterDismissedAlertObserver.disconnect(),this._alertPresenterDismissedAlertObserver=null),t){var n,i=this;n=t.observe("dismissedAlert",(function(e){e&&(i._changingAlertPresenter||i._alertPresenterDidDismissAlert())})),this._alertPresenterDismissedAlertObserver=n}this._changingAlertPresenter=!1},_alertPresenterDidDismissAlert:function(){this._tryRaisingNextAlert()},__superMap:{_$Bm$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RaiseAggregateAlertScheduler"}}),NN=Ge.a.extend({service:Y.c({get:function(){return this._raiseAlertService}}),showcaseViewPool:Y.c(),iconService:Y.c(),thumbnailCanvasFactory:Y.c(),thumbnailStatsReporterService:Y.c(),init:function(e,t,n,i,r,a){this.iconService=e,this.showcaseViewPool=t,this.thumbnailCanvasFactory=n,this.thumbnailStatsReporterService=i,this.thumbnailCanvasFactory=n,this.upgradeButtonUrl=r,this.__s._$VQ$init.call(this,a),this._raiseAlertService=this.loadRaiseAlertService()},upgradeButtonUrl:Y.c(),loadRaiseAlertService:function(){var e=MN.create();return e.addErrorAggregator(VM.create()),e.addErrorAggregator($M.create()),e.addErrorAggregator(zM.create()),e.addErrorAggregator(GM.create()),e.addErrorAggregator(HM.create()),e.addErrorAggregator(KM.create()),e.addErrorAggregator(QM.create()),e.addErrorAggregator(qM.create()),e.addErrorAggregator(XM.create({filters:this._loadFiltersForUploadValidationErrors()})),e.addErrorAggregator(eN.create()),e.addErrorAggregator(iN.create()),e.alertPresenter=ON.create(this.iconService,this.showcaseViewPool,this.thumbnailCanvasFactory,this.thumbnailStatsReporterService,this.upgradeButtonUrl).alertPresenter,e},_loadFiltersForUploadValidationErrors:function(){var e=[],t=rN.create();return e.push(t),e},__superMap:{_$VQ$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RaiseAlertServiceController"}}),FN=Zu.extend({staticMembers:{storageKey:"DriveUI"},supportHelpPage:Zu.stringProperty("http://support.apple.com/kb/ht4847")}).create(),LN={mixinDependencies:[Me.a],remoteInstanceWillBeginLaunching:De.a.define(),remoteInstanceWillFinishLaunching:De.a.define(),remoteInstanceDidFinishLaunching:De.a.define(),remoteInstanceDidTerminate:De.a.define()};function RN(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return xN(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xN(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function xN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var PN={mixinDependencies:[Gt,Qt,Lt],remoteInstanceState:X.b({readOnly:!0,binding:J.c("_remoteInstanceState")}),remoteInstanceIsReadyToTerminate:X.b({readOnly:!0,type:Boolean,binding:J.c("_remoteInstanceIsReadyToTerminate")}),remoteInstanceLoadTimeout:Y.c({type:Number,defaultValue:3e4}),delegate:Y.c({type:LN}),messagingResponseErrorTerminationMethod:Y.c({readOnly:!0,type:Function,defaultValue:function(){return this.remoteInstanceDidFatalError}}),remoteInstanceWillConnect:Vr.a,remoteInstanceWillDisconnect:Vr.a,childProcessReferenceClass:Y.c({type:qt.constructor,defaultValue:qt}),loadRemoteInstance:function(e){Oe(this.remoteInstanceState,Ae.NONE);var t=this.remoteInstanceLoadTimeout,n=this._scheduledTimeoutWasInvokedMethod;this.delegate.remoteInstanceWillBeginLaunching(this),this._createChildProcessReference(e),this.invokeLater(n,t,"REMOTE_INSTANCE_LOAD_TIMEOUT_IDENTIFIER")},runRemoteInstance:function(e){Oe(this.remoteInstanceState,Ae.LOADED);var t=this._childProcessReference,n=this._hostInfo,i=this._sessionInfo;t.run(i,n,e)},terminateRemoteInstance:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Oe(this.remoteInstanceState,Ae.LOADING,Ae.LOADED,Ae.RUNNING,Ae.TERMINATED);var n=this._channel;return this.cancelInvokeLaterMethods(),this._terminateChildProcessReference(t).then((function(){n&&!n.isDisconnected&&n.disconnect(),e._channel=null}))},reloadRemoteInstance:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this._reloadPromise||Z.a.resolve();return this._reloadPromise=n.then((function(){return e.terminateRemoteInstance(t)})).then((function(){return e.loadRemoteInstance()}))},remoteInstanceDidFatalError:function(e,t){return Oe(this.remoteInstanceState,Ae.LOADING,Ae.LOADED,Ae.RUNNING),Ke.a(e)||ze.b("remoteInstanceDidFatalError requires a reason as an argument"),t&&!ue.a(t)&&ze.b("remoteInstanceDidFatalError optional info argument should be a hash"),this._childProcessReference.terminateWithReasonAndInfo(e,t&&t.calleeStack?t:fe(t,2))},createMessagingChannel:function(e,t,n){var i=this._childProcessReference;return i&&i.channel||ze.b("Unable to connect to child. Can not create MessagingChannel"),i.createMessagingChannel(e,t,n),i.remoteProxy},childProcessReferenceWillFinishLaunching:function(e,t){this.delegate.remoteInstanceWillFinishLaunching(this,t)},childProcessReferenceDidFinishLaunching:function(e,t){this.cancelInvokeLater("REMOTE_INSTANCE_LOAD_TIMEOUT_IDENTIFIER"),this.delegate.remoteInstanceDidFinishLaunching(this,t)},childProcessReferenceDidTerminate:function(e,t,n){this._cancelAllScheduledTimeoutMethods(),this.delegate.remoteInstanceDidTerminate(this,t,n)},childProcessReferenceWantsReload:function(e){this.reloadRemoteInstance()},childProcessReferenceWillUnload:function(e,t){},childProcessReferenceReportNonFatalError:function(e,t,n){},childProcessReferenceRecordException:function(e,t){},childProcessReferenceIsReadyToTerminateDidChange:function(e,t){this._remoteInstanceIsReadyToTerminate=t},childProcessReferenceStateDidChange:function(e,t){this._remoteInstanceState=t},_channel:Y.c({type:lt.a}),_childProcessReference:Y.c({type:qt}),_childProcessReferences:Y.c({readOnly:!0,type:Set,get:function(){return dt.a.application.childProcessReferences}}),_parentProcessId:Y.c({readOnly:!0,type:String,get:function(){return dt.a.application.processId}}),_sessionInfo:Y.c({readOnly:!0,type:Object,get:function(){return dt.a.application.sessionInfo}}),_hostInfo:Y.c({readOnly:!0,type:Object,get:function(){return dt.a.application.hostInfo}}),_reloadPromise:Y.c({type:Z.a}),_remoteInstanceState:X.b({type:Ae,defaultValue:Ae.NONE}),_remoteInstanceIsReadyToTerminate:X.b({type:Boolean}),_remoteInstanceTimeoutMethodIdentifers:["REMOTE_INSTANCE_LOAD_TIMEOUT_IDENTIFIER"],_scheduledTimeoutWasInvokedMethod:Y.c({readOnly:!0,type:Function,defaultValue:function(){var e=this;return function(t){return e._scheduledTimeoutWasInvoked(t)}}}),_scheduledTimeoutWasInvoked:function(e){"REMOTE_INSTANCE_LOAD_TIMEOUT_IDENTIFIER"===e?this._terminateDueToTimeoutError("Remote instance failed to complete loading before timeout was triggered."):ze.b("_scheduledTimeoutWasInvoked called with unknown methodToInvokeIdentifier "+e)},_terminateDueToTimeoutError:function(e){this.remoteInstanceDidFatalError(Kt.TIMEOUT,{errorMessage:e,terminatedProcessState:this.remoteInstanceState.value})},_pendingTimeoutMethodsAreScheduled:function(){for(var e,t=RN(this._remoteInstanceTimeoutMethodIdentifers);!(e=t()).done;){var n=e.value;if(this.isInvokeLaterScheduled(n))return!0}return!1},_cancelAllScheduledTimeoutMethods:function(){for(var e,t=RN(this._remoteInstanceTimeoutMethodIdentifers);!(e=t()).done;){var n=e.value;this.isInvokeLaterScheduled(n)&&this.cancelInvokeLater(n)}},_createChildProcessReference:function(e){var t=this._channel,n=this._childProcessReferences,i=this._parentProcessId;Be(t,lt.a)||ze.b("An instance implementing the CW.ChannelProtocol is required");var r=this._childProcessReference=this.childProcessReferenceClass.create({delegate:this,processInfo:{parentProcessId:i,processId:ii.a(),processName:e},channel:t});return this.remoteInstanceWillConnect(),r.connect(),n.add(r),r},_terminateChildProcessReference:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this._childProcessReference,r=this._childProcessReferences;return n||!1!==i.isReadyToTerminate||ze.b("Aborting termination of the ChildProcessReference. It's isReadyToTerminate flag is false"),r.delete(i),i.isConnected?(this.remoteInstanceWillDisconnect(),e=i.disconnect()):e=Z.a.resolve(),e.then((function(){i.isTerminated||i.terminate(),t._childProcessReference=null,t._remoteInstanceState=Ae.NONE}))}},kN={mixinDependencies:[Ne],name:"ComposeEmailServiceToChildProtocol",version:"0.1",populateFields:De.a.define(),_applicationShouldInvokeMain:De.a.define()},UN={mixinDependencies:[Ne],name:"ComposeEmailServiceFromChildProtocol",version:"0.0.1",windowApplicationHasInitialized:De.a.define()},jN=n(744).a.extend({remoteOrigin:null,remoteWindow:X.b(),outgoingWindow:X.b({dependencies:["remoteWindow"],readOnly:!0,get:Object.assign((function(){return{actualOutgoingWindow:this.remoteWindow,postMessage:function(e,t){var n=this.actualOutgoingWindow;if(n.postMessage)return n.postMessage(e,t);Re.b.warn("ChildWindowChannel: postMessage of "+e+" to detached window at "+t+" was ignored")}}}),{__CW__getter:function(e,t,n,i){return{actualOutgoingWindow:i.internalGet(this,t[0+n]),postMessage:function(e,t){var n=this.actualOutgoingWindow;if(n.postMessage)return n.postMessage(e,t);Re.b.warn("ChildWindowChannel: postMessage of "+e+" to detached window at "+t+" was ignored")}}}})}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ComposeEmailWindowChannel"}}),BN=CC.a.extend({isWindowApplicationMessage:Y.c({type:Boolean,defaultValue:!1}),encode:function(e){if(!Ke.a(e))try{var t,n=e,i=n.method,r=n.params,a=n.result;if(i)t={methodName:i,args:r||[],id:e.id,isCloudOSMessage:!0},this.isWindowApplicationMessage&&(t.isWindowApplicationMessage=!0);else if(a){var o=a.data,s=[e.id];Ue.a(o)?s.push.apply(s,o):o&&s.push(o),t={methodName:"RPC_RESPONSE",args:s,id:e.id,isCloudOSMessage:!0}}e=JSON.stringify(t)}catch(l){ze.b("[LegacyCloudOSJsonSerializer] Could not encode object to JSON.",{object:e,error:l})}return e},decode:function(e){if(Ke.a(e))try{e=JSON.parse(e)}catch(c){Re.b.warn("[LegacyCloudOSJsonSerializer] Could not decode string as JSON",e),e=null}if(e&&e.isCloudOSMessage){var t=e,n=t.args,i=t.buildNumber,r=t.id,a=t.masteringNumber,o=t.methodName,s=n?Array.from(n):[],l={buildNumber:i,masteringNumber:a};s.unshift(l),e={method:o,id:r,params:s,jsonrpc:"2.0"}}return e},staticMembers:{__QUALIFIED_CLASS_NAME__:"LegacyCloudOSJsonSerializer"}}),VN=BN.extend({isWindowApplicationMessage:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"LegacyCloudOSWindowJsonSerializer"}}),$N=Mt.extend({jsonSerializerClass:BN,_constructRPCMethodName:function(e,t){if(!t)throw new rt("MessagingUtils - no method name specified");if(!Ke.a(t))throw new rt("MessagingUtils - method name specified is not a string");return t},_createJsonRpcListener:function(e){var t=this,n=arguments,i=t.__s._$Kr$_createJsonRpcListener.apply(t,n);return i.serializer=this.jsonSerializerClass.create(),i},_createJsonRpcCaller:function(e){var t=this,n=arguments,i=t.__s._$Os$_createJsonRpcCaller.apply(t,n);return i.serializer=this.jsonSerializerClass.create(),i},__superMap:{_$Kr$_createJsonRpcListener:"_createJsonRpcListener",_$Os$_createJsonRpcCaller:"_createJsonRpcCaller"},staticMembers:{__QUALIFIED_CLASS_NAME__:"LegacyCloudOSMessagingChannel"}}).extend({jsonSerializerClass:VN,staticMembers:{__QUALIFIED_CLASS_NAME__:"LegacyCloudOSWindowMessagingChannel"}}),WN=qt.extend({messagingChannelClass:$N,invokeMain:function(e){e||ze.b("Cannot invoke main without CloudOSState object"),this.remoteProxy._applicationShouldInvokeMain(null,e,null,null)},run:function(e,t,n){Oe(this.processState,Ae.LOADED)},populateFields:function(e,t,n,i,r,a){this.remoteProxy.populateFields({to:e,cc:t,bcc:n,subject:i,body:r,attachments:a})},staticMembers:{__QUALIFIED_CLASS_NAME__:"ComposeChildProcessReference"}}),zN=Object.freeze(Object.assign({},Kt,{UNABLE_TO_OPEN_WINDOW:"UNABLE_TO_OPEN_WINDOW",WINDOW_CLOSED:"WINDOW_CLOSED"})),GN=ri.a.extend({mixinDependencies:[PN,UN],init:function(e){e&&Se.a(e,QN)||ze.b("composeEmailController needs to be of type ComposeEmailController"),this.__s._$K2$init.call(this);var t=window.open(this._mailComposeURL,"","width=810,height=677,status=no,toolbar=no");this.delegate=e,t?(this._currentWindow=t,this._channel=jN.create({remoteOrigin:hu.a.create(this._mailComposeURL).origin,remoteWindow:t}),this.to=e.to,this.cc=e.cc,this.bcc=e.bcc,this.subject=e.subject,this.body=e.body,this.attachments=e.attachments,this.cloudOSState=e.cloudOSState,this.locale=e.locale,this.loadRemoteInstance()):this.delegate.remoteInstanceDidTerminate(this,zN.UNABLE_TO_OPEN_WINDOW)},to:Y.c(""),cc:Y.c(""),bcc:Y.c(""),subject:Y.c(""),body:Y.c(""),locale:Y.c({defaultValue:"en-us"}),cloudOSState:Y.c(),childProcessReferenceClass:Y.c({type:qt.constructor,defaultValue:WN}),remoteInstanceWillConnect:function(){this.createMessagingChannel(UN,this,kN)},windowApplicationHasInitialized:function(){this._didInitialize=!0;var e=this._childProcessReference;this.childProcessReferenceDidFinishLaunching(e),e.invokeMain(this.cloudOSState),this.populateFields()},populateFields:function(){if(this._didInitialize){var e=this.to,t=this.cc,n=this.bcc,i=this.subject,r=this.body,a=this.attachments;this._childProcessReference.populateFields(e,t,n,i,r,a)}},closeWindow:function(){this._currentWindow?(this._currentWindow.close(),this.delegate.remoteInstanceDidTerminate(this,zN.WINDOW_CLOSED)):ze.b("No window is open")},_currentWindow:Y.c(),_didInitialize:Y.c(!1),_mailComposeURL:Y.c({readOnly:!0,get:function(){var e=this.locale;return"https://"+window.location.hostname+"/message/current/"+e+"/index.html#compose?willPM=true"}}),__superMap:{_$K2$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ComposeEmailViewController"}}),HN=Ge.a.extend({fileName:Y.c({type:String}),type:Y.c({type:String}),url:Y.c({type:String}),size:Y.c({type:Number}),init:function(e){this.__s._$5P$init.call(this),e.type||ze.b("No mime type provided for attachment"),this.fileName=e.fileName,this.type=e.type,this.size=e.size,this.url=e.url},toJSON:function(){return{fileName:this.fileName,type:this.type,size:this.size,url:this.url}},__superMap:{_$5P$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Attachment"}}),KN={mixinDependencies:[Me.a],didLoad:De.a.define(),didTerminate:De.a.define()},QN=Ge.a.extend({mixinDependencies:[LN],staticMembers:{createInstance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t=dt.a.application,n=t.hostInfo,i=t.capitalizedName,r=n.cloudOSState,o=n.locale,s=n.secondaryLocale;e.appName=i,n&&(e.cloudOSState=r,e.locale=o,a.a.sharedInstance.isRTL&&(e.locale=s))}catch(l){ze.b("Cannot createInstance since it is not being invoked by a COSK2Application")}return QN.create(e)},__QUALIFIED_CLASS_NAME__:"ComposeEmailController"},composeEmailViewController:Y.c({type:GN}),delegate:Y.c({type:KN}),to:Y.c({type:String}),cc:Y.c({type:String}),bcc:Y.c({type:String}),subject:Y.c({type:String}),body:Y.c({type:String}),attachments:Y.c({type:Array,defaultValue:[]}),appName:Y.c({type:String}),locale:Y.c({type:String,defaultValue:"en-us"}),cloudOSState:Y.c({type:Object}),init:function(e){this.__s._$15y$init.call(this,e);var t=e?e.attachments:null;e.cloudOSState||ze.b("Cannot create ComposeEmailController without passing cloudOSState"),e.appName||ze.b("Cannot create ComposeEmailController without passing appName"),t&&this.addAttachments(t)},present:function(){this.composeEmailViewController=GN.create(this)},addAttachments:function(e){e.forEach((function(e){Se.a(e,HN)||ze.b("attachments needs to be of type Attachment")})),this.attachments=this.attachments.concat(e)},closeWindow:function(){this.composeEmailViewController?this.composeEmailViewController.closeWindow():ze.b("No Window is open. Call 'present' first in order to open the compose Email Window")},remoteInstanceWillBeginLaunching:function(e){},remoteInstanceWillFinishLaunching:function(e){},remoteInstanceDidFinishLaunching:function(e){var t=this.delegate;t&&t.didLoad(this)},remoteInstanceDidTerminate:function(e,t,n){t||ze.b("Cannot terminate without providing a termination reason");var i=this.delegate;i&&i.didTerminate(this,t,n)},__superMap:{_$15y$init:"init"}}),qN=Ge.a.extend({init:function(e,t,n,i){this.itemURLService=e,this.downloadService=t,this.raiseAlertService=n,this.__s._$Nf$init.call(this,i)},itemURLService:Y.c(null),downloadService:Y.c(null),raiseAlertService:Y.c(null),emailSelection:function(e){var t=e.toArray(),n=t.reduce((function(e,t){return e+t.size}),0),i=this.raiseAlertService;return n>2e7?(function(e,t){var n,i;1===t.length?(n=a.d("DriveUI.FilesGrid.Error.Email.AttachmentTooLarge.Title",{fileName:t[0].fullName}),i=a.d("DriveUI.FilesGrid.Error.Email.AttachmentTooLarge.Subtitle",{maxFileSizeInMB:20})):(n=a.d("DriveUI.FilesGrid.Error.Email.AttachmentsTooLarge.Title"),i=a.d("DriveUI.FilesGrid.Error.Email.AttachmentsTooLarge.Subtitle",{maxFileSizeInMB:20})),n_.a.show({iconNames:"iclouddrive",message:n,description:i,primaryButton:{title:a.d("DriveUI.Common.Button.OK"),isPrimary:!0}})}(0,t),Z.a.resolve(t.map((function(e){return o.failedResult(e)})))):this._getDownloadDataForItems(t).then((function(e){var t=e.filter((function(e){return e.ok})),n=e.filter((function(e){return!e.ok}));if(t.length>0){var r=QN.createInstance();r.addAttachments(t.map((function(e){return HN.create(e.data)}))),r.present()}return function(e,t){t.map((function(t){var n=Tf.create(tN.EmailAttachmentError,Af.create(t));return e.raiseAlertForErrorItem(n),t}))}(i,n.map((function(e){return e.data}))),e}))},_getDownloadDataForItems:function(e){var t=this,n=e.map((function(e){return t.itemURLService.getURLForItem(e)}));return Z.a.all(n).then((function(e){return e.map((function(e){var t=e.data,n=t.item;if(e.ok){var i,r=n.fullName,a=t.url;return!0===t.isPackage?(r+=".zip",i=gm.zip):(i=gm[(n.extension||"").toLowerCase()])||(i="application/octet-stream"),o.okResult({fileName:r,type:i,size:n.size,url:a})}return o.failedResult(n)}))}))},__superMap:{_$Nf$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ComposeEmailService"}}),YN=Di.a.extend({mixinDependencies:[pb.a],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"labelView"},{type:"VIEWOUTLET",tagname:"view",name:"symbolView"}],classes:["cw-button"]}},__QUALIFIED_CLASS_NAME__:"SymbolButton"},additionalClassNames:Mi.a(["symbol-button"]),layoutMode:X.b("layoutBox"),labelView:X.b({readOnly:!0,strong:!0,type:ki,get:function(){return ki.create({value:this.bindingFor("title")})}}),symbolView:X.b({readOnly:!0,strong:!0,type:Di.a,get:function(){return Di.a.extend(HT).create({additionalClassNames:Mi.a(["symbol-view"]),desiredFontSize:this.bindingFor("desiredFontSize"),layoutMode:this.bindingFor("layoutMode"),otherSymbolProps:this.bindingFor("otherSymbolProps"),symbolMetadata:this.bindingFor("symbolMetadata")})}}),desiredFontSize:X.b(),otherSymbolProps:X.b(),symbolMetadata:X.b(),title:X.b()}),XN=gE.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"cw-hidden",falsevalue:"",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"TabBarView"},buttonClass:Y.c({readOnly:!0,get:function(){var e=this.desiredFontSize;return JN.extend({desiredFontSize:e})}}),additionalClassNames:Mi.a(["tab-bar-view"]),didToggle:function(){var e=this,t=arguments;e.__s._$Bq$didToggle.apply(e,t),this.sendEvent("userDidSelectTab",this.value)},isHidden:X.b(!1),__superMap:{_$Bq$didToggle:"didToggle"}}),JN=YN.extend({init:function(e){var t=e.icon;delete e.icon,this.__s._$Mx$init.call(this,Object.assign({},e,{symbolMetadata:t}))},staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOn",truevalue:"cw-on",attributes:{}}],attributes:{"aria-pressed":{type:"ATTRIBUTEOUTLET",bindingtype:"IFBINDING",name:"ariaPressed",truevalue:"true",falsevalue:"false",attributes:{},attribute:"aria-pressed"}}}},__QUALIFIED_CLASS_NAME__:"ToggleSymbolButton"},isOn:X.b(!1),wasActivated:function(){this.isOn=!this.isOn},ariaPressed:J.c("isOn"),__superMap:{_$Mx$init:"init"}}),ZN=ri.a.extend({init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,i=function(e,t){var n=t.value,i=t.callback;return n&&i?(e[n]=i,e):e};Object.defineProperties(this,{_tabs:{value:e},_tabValueToCallbackMap:{value:e.reduce(i,{})},desiredFontSize:{value:12,writable:!0}}),n.__s._$LM$init.call(n,Object.assign({selectedTabValue:e[0]&&e[0].value},t))},viewClass:XN,createView:function(){var e=this._tabs,t=this.desiredFontSize,n=this.bindingFor("selectedTabValue"),i=this.bindingFor("isHidden");return this.viewClass.create({segments:e,desiredFontSize:t,value:n,isHidden:i})},selectedTabValue:X.b(),isHidden:X.b(!1),userDidSelectTab:function(e){var t=this._tabValueToCallbackMap,n=t&&t[e];bt.a(n)&&xe.a(n)&&n(e)},__superMap:{_$LM$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TabBarViewController"}}),eF=ri.a.extend({init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;this.setViewControllers(e),n.__s._$Cb$init.call(n,t)},delegate:Y.c({type:Ih}),tabBarIsHidden:X.b({didChange:function(e){var t=this.tabBar;bt.a(t)&&(t.isHidden=e)}}),tabBar:Oi.b({viewOutlet:"tabBar"}),tabContainer:Oi.b({viewOutlet:"tabContainer"}),viewControllers:Y.c(),setViewControllers:function(e){var t=this,n=e.map((function(e){return Object.assign({},e.tabBarItem,{callback:t._tabSelected.bind(t)})})),i=this._generateTabBarViewControllerFromTabBarItems(n);this.viewControllers=yS.create(e),this.tabBar=i,e.length>0&&this.setSelectedIndex(0)},selectedViewController:Y.c(),selectedIndex:Y.c(),setSelectedViewController:function(e){this.selectedIndex=this.viewControllers.indexOf(e),this.selectedViewController=e,this.tabContainer=e,this.tabBar.selectedTabValue=e.tabBarItem.value},setSelectedIndex:function(e){var t=this.viewControllers.objectAt(e);this.setSelectedViewController(t)},viewClass:Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"tabContainer"},{type:"VIEWOUTLET",tagname:"view",name:"tabBar"}],classes:["tab-bar-controller"]}}}}),_generateTabBarViewControllerFromTabBarItems:function(e){return ZN.create(e)},_tabSelected:function(e){var t=this.viewControllers,n=this.delegate;if(t){var i=t.find((function(t){return jr.a(t,"tabBarItem.value")===e}));bt.a(i)&&(this.setSelectedViewController(i),bt.a(n)&&n.tabBarControllerDidSelect(this,i))}},__superMap:{_$Cb$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TabBarController"}}),tF=Di.a.extend(Zy,tS,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"contentView"}],name:"container",classes:["container","cw-scrolling-container"]}],classes:["cw-scroll-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"nativeScrollIsEnabled",truevalue:"cw-native-scrolling",attributes:{}}]}},className:"cw-ui-scroll-view",__QUALIFIED_CLASS_NAME__:"ScrollView"},init:function(){var e=this,t=arguments;e.__s._$J3$init.apply(e,t),this._syncScrollFromDomChanges=this._syncScrollFromDomChanges.bind(this),Object(ee.a)(this.container,"scroll",this._syncScrollFromDomChanges,!1)},scrollContainer:Object(Y.c)({get:function(){return this.container}}),dispose:function(){var e=this,t=arguments;Object(Bi.a)(this.container,"scroll",this._syncScrollFromDomChanges,!1),e.__s._$Rm$dispose.apply(e,t)},_syncScrollFromDomChanges:function(){var e=this.container,t=this.scrollY,n=this.scrollX,i=e.scrollTop-(parseInt(e.style.top,10)||0)+(parseInt(e.style.bottom,10)||0);Math.trunc(t)!==i&&(this.scrollY=i);var r=e.scrollLeft-(parseInt(e.style.left,10)||0)+(parseInt(e.style.right,10)||0);Math.trunc(n)!==r&&(this.scrollX=r)},windowSize:Object(X.b)(ce.a.get("sharedInstance").window),scrollMaxX:Object(X.b)({readOnly:!0,cacheable:!1,dependencies:["isAttached","windowSize.width","contentView"],get:function(){return this.get("container").scrollWidth}}),scrollMaxY:Object(X.b)({readOnly:!0,cacheable:!1,dependencies:["isAttached","windowSize.height","contentView"],get:function(){return this.get("container").scrollHeight}}),height:Object(X.b)({readOnly:!0,cacheable:!1,dependencies:["element","isAttached"],get:Object.assign((function(){return this.element.clientHeight}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n]).clientHeight}})}),width:Object(X.b)({readOnly:!0,cacheable:!1,dependencies:["element","isAttached"],get:Object.assign((function(){return this.element.clientWidth}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n]).clientWidth}})}),scrollElementY:Object(Ni.f)("scrollY","height","scrollHeight",(function(e,t,n){var i=Math.max(0,n-t),r=nF(e,0,i),a=iF(e,0),o=rF(e,0,i),s=this.container,l=s.style;s.scrollTop=r,l.top=a?a+"px":"",l.bottom=o?o+"px":""})),scrollElementX:Object(Ni.f)("scrollX","width","scrollWidth",(function(e,t,n){var i=Math.max(0,n-t),r=nF(e,0,i),a=iF(e,0),o=rF(e,0,i),s=this.container,l=s.style;s.scrollLeft=r,l.left=a?a+"px":"",l.right=o?o+"px":""})),__superMap:{_$J3$init:"init",_$Rm$dispose:"dispose"}});function nF(e,t,n){return e<t?t:e>n?n:e}function iF(e,t,n){return e<t?t-e:0}function rF(e,t,n){return e>n?e-n:0}var aF=ri.a.extend({items:Object(X.b)({type:$i.b,set:function(e){return Object(Ue.a)(e)&&(e=$i.b.create(e)),e}}),itemKeyMap:null,keyMapForItem:function(e){return this.itemKeyMap},itemViewClass:Object(X.b)(),viewClassForItem:function(e){return this.itemViewClass},proxyForItem:Xi.a,viewForItem:function(e){var t=this.proxyForItem(e),n=this.keyMapForItem(e),i=this.viewClassForItem(e);n||Object(ze.b)("SimpleListViewController requires that you provide an itemKeyMap to map values from items to views.",{viewController:this,viewClass:i}),i||Object(ze.b)("SimpleListViewController requires that you provide an itemViewClass.",{viewController:this,itemKeyMap:n});var r,a,o=t&&t.hasMixin&&t.hasMixin(Ni.a),s={};for(a in n)(r=n[a])===xI.a?s[a]=t:s[a]=o?t.bindingFor(r):t[r];return i.create(s)},viewClass:Di.a.extend({staticMembers:{template:{type:"MULTIVIEWOUTLET",tagname:"views",name:"itemViews"}}}),itemViews:Object(X.b)(Object(ut.b)($i.b)),view:Object(X.b)({downstreamBindings:{itemViews:"(owner).itemViews"}}),_updateViewsForItems:Object(Ni.f)("items","items.contentsDidChange",(function(e,t){var n,i,r,a,o=this.itemViews;if(t){var s,l,c,u=t.context;for(r=0,a=u.length;r<a;r++)i=(s=u[r]).item,l=s.index,(c=s.operation)===$i.b.REMOVE?o.removeAt(l):c===$i.b.INSERT&&(n=this.viewForItem(i),o.insertAt(l,n))}else if(o.clear(),e)for(r=0,a=e.length;r<a;r++)i=e.objectAt(r),n=this.viewForItem(i),o.push(n)})),staticMembers:{__QUALIFIED_CLASS_NAME__:"SimpleListViewController"}}),oF=ob.extend({arrowWidth:29,arrowLength:14,arrowAlignment:V_.TargetMiddle,spaceInset:0,shouldAutosize:!0,viewClass:UI.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",attributes:{"aria-role":"dialog"}}}},defaultFocusChild:J.c("contentView"),isFocusable:!0,tabIndex:-1}),isFocusable:!0,keyDown:function(e){var t=e.which===ji.a.ESC;return t&&this.hide(),t},modalBackgroundWasClicked:function(){this.hide()},isHiding:!0,show:function(){var e=this,t=arguments;this.isHiding&&(this.isHiding=!1,e.__s._$Jj$show.apply(e,t))},hide:function(){var e=this,t=arguments;this.isHiding||(this.isHiding=!0,e.__s._$LY$hide.apply(e,t))},__superMap:{_$Jj$show:"show",_$LY$hide:"hide"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PopoverViewController"}}),sF={mixinDependencies:[Me.a],contentDidRequestResize:De.a.define()},lF=function(e,t){this.width=e,this.height=t};lF.prototype.toString=function(){return"[BRKit.Geometry.Size: <width: "+this.width+", height: "+this.height+">]"},lF.create=function(e,t){var n=new lF(e,t);return Object.freeze(n),n};var cF=n(724),uF={staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"label",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}],classes:["title"]}],attributes:{for:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"for",attributes:{},attribute:"for"},title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tooltip",attributes:{},attribute:"title"}}}}},mixinDependencies:[pb.a],for:X.b(""),title:X.b(""),tooltip:X.b(""),additionalClassNames:Mi.a(["symbol-view","interactive"])},dF=Di.a.extend(uF,HT,{staticMembers:{__QUALIFIED_CLASS_NAME__:"SVGLabelButtonView"}}),hF=Di.a.extend(uF,{additionalClassNames:Mi.a(["cw-button"]),staticMembers:{__QUALIFIED_CLASS_NAME__:"LabelButtonView"}}),fF=Di.a.extend(cF.a,Ui.a,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"input",name:"fileInputElement",attributes:{type:"file",id:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"inputId",attributes:{},attribute:"id"},multiple:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"allowsMultipleFiles",attributes:{},attribute:"multiple"}}},{type:"VIEWOUTLET",tagname:"view",name:"labelOrButton"}],classes:["file-upload-button"]}},__QUALIFIED_CLASS_NAME__:"FileUploadButton"},allowsMultipleFiles:X.b(!0),labelOrButton:X.b({readOnly:!0,dependencies:["symbolMetadata"],get:Object.assign((function(){return this.symbolMetadata?dF.create({action:this.bindingFor("action"),isDisabled:this.bindingFor("isDisabled"),for:this.bindingFor("labelFor"),target:this.bindingFor("target"),title:this.bindingFor("title"),ariaLabel:this.bindingFor("tooltip"),tooltip:this.bindingFor("tooltip"),symbolMetadata:this.bindingFor("symbolMetadata"),desiredFontSize:this.bindingFor("desiredFontSize")}):hF.create({action:this.bindingFor("action"),target:this.bindingFor("target"),isDisabled:this.bindingFor("isDisabled"),for:this.bindingFor("labelFor"),tooltip:this.bindingFor("tooltip"),ariaLabel:this.bindingFor("tooltip"),title:this.bindingFor("title")})}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?dF.create({action:this.bindingFor("action"),isDisabled:this.bindingFor("isDisabled"),for:this.bindingFor("labelFor"),target:this.bindingFor("target"),title:this.bindingFor("title"),ariaLabel:this.bindingFor("tooltip"),tooltip:this.bindingFor("tooltip"),symbolMetadata:this.bindingFor("symbolMetadata"),desiredFontSize:this.bindingFor("desiredFontSize")}):hF.create({action:this.bindingFor("action"),target:this.bindingFor("target"),isDisabled:this.bindingFor("isDisabled"),for:this.bindingFor("labelFor"),tooltip:this.bindingFor("tooltip"),ariaLabel:this.bindingFor("tooltip"),title:this.bindingFor("title")})}})}),symbolMetadata:X.b(),desiredFontSize:X.b(14),inputId:X.b({readOnly:!0,get:function(){return Zr.a(this)}}),labelFor:X.b({readOnly:!0,dependencies:["isDisabled","shouldAvoidTriggeringInput","inputId"],get:Object.assign((function(){return this.isDisabled||this.shouldAvoidTriggeringInput?"":this.inputId}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])||i.internalGet(this,t[1+n])?"":i.internalGet(this,t[2+n])}})}),shouldAvoidTriggeringInput:X.b(!1),action:X.b("wasActivated"),isDisabled:X.b(),target:X.b(),title:X.b(),tooltip:X.b(),init:function(){var e=this,t=arguments;Object.defineProperties(this,{_hasExistingChangeListener:{value:!1,writable:!0},_boundSendFilesChangedEvent:{value:this.sendFilesChangedEvent.bind(this)}}),e.__s._$1EN$init.apply(e,t)},isAttached:X.b({didChange:function(e){var t=this.fileInputElement;e&&!this._hasExistingChangeListener?(ee.a(t,"change",this._boundSendFilesChangedEvent),this._hasExistingChangeListener=!0):!e&&this._hasExistingChangeListener&&(Bi.a(t,"change",this._boundSendFilesChangedEvent),this._hasExistingChangeListener=!1)}}),sendFilesChangedEvent:function(e){var t=this.fileInputElement;if(e){var n=t.files;n&&n.length>0&&this.sendEvent("fileUploadButtonFilesChanged",this,n)}t.value=null},programmaticallyClick:function(){this.fileInputElement.click()},__superMap:{_$1EN$init:"init"}}),pF=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"h3",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}],classes:["title"]},{type:"VIEWOUTLET",tagname:"view",name:"listView"},{type:"VIEWOUTLET",tagname:"view",name:"addFilesButton"}]}},__QUALIFIED_CLASS_NAME__:"UploadView"},additionalClassNames:Mi.a(["upload-view"]),init:function(e,t,n,i,r,a){this.showcaseViewPool=e,this.iconService=t,this.thumbnailStatsReporterService=n,this.thumbnailCanvasFactory=i,this.preferredSize=r,this.__s._$RJ$init.call(this,a)},iconService:Y.c(),showcaseViewPool:Y.c(),thumbnailStatsReporterService:Y.c(),thumbnailCanvasFactory:Y.c(),totalFileCount:X.b({defaultValue:0}),remainingFileCount:X.b(0),title:X.b(a.d("DriveUI.Upload.PopoverDialogTitle")),preferredSize:X.b(null),uploadViews:X.b(ut.b(Array)),addFilesButton:X.b({readOnly:!0,get:function(){return fF.create({title:a.d("DriveUI.Upload.PopoverDialog.AddFilesButton"),tooltip:a.d("DriveUI.Upload.PopoverDialog.AddFilesButton")})}}),__superMap:{_$RJ$init:"init"}}),mF=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",classes:["progress-bar"],name:"progressNode",attributes:{role:"progressbar","aria-valuenow":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"value",attributes:{},attribute:"aria-valuenow"},"aria-valuemin":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"minimumValue",attributes:{},attribute:"aria-valuemin"},"aria-valuemax":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"maximumValue",attributes:{},attribute:"aria-valuemax"}}}],classes:["total"]}],classes:["cw-progress-view"]}},className:"cw-ui-progress-view",__QUALIFIED_CLASS_NAME__:"ProgressView"},minimumValue:Object(X.b)({defaultValue:0,type:"number"}),maximumValue:Object(X.b)({defaultValue:100,type:"number"}),value:Object(X.b)({defaultValue:0}),_updateDOM:Object(Ni.f)("value",(function(e){this.get("progressNode").setAttribute("style","width:"+(e||0)+"%")}))});function gF(e,t){var n,i,r=0,o=e,s=1e3;for(null!=t&&(s=t.multipleType||1e3,n=t.precision);o>=1e3&&r<5;)o/=s,r++;switch(r){case 0:i="DriveUI.NumberFormatter.Units.bytes";break;case 1:o=vF(o,n||0),i=1e3===s?"DriveUI.NumberFormatter.Units.kB":"DriveUI.NumberFormatter.Units.KiB";break;case 2:o=vF(o,n||1),i=1e3===s?"DriveUI.NumberFormatter.Units.MB":"DriveUI.NumberFormatter.Units.MiB";break;case 3:o=vF(o,n||2),i=1e3===s?"DriveUI.NumberFormatter.Units.GB":"DriveUI.NumberFormatter.Units.GiB";break;case 4:o=vF(o,n||2),i=1e3===s?"DriveUI.NumberFormatter.Units.TB":"DriveUI.NumberFormatter.Units.TiB";break;default:o=vF(o,n||2),i=1e3===s?"DriveUI.NumberFormatter.Units.PB":"DriveUI.NumberFormatter.Units.PiB"}var l=function(e){return wc.region.getNumberFormatter().format(e)}(o);return a.d("DriveUI.NumberFormatter.ItemSize",{number:l,sizeUnit:a.d(i)})}function vF(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var _F=Di.a.extend(cF.a,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"a",name:"closeButton",classes:["close-button"],attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"closeTooltipTitle",attributes:{},attribute:"title"}}}},__QUALIFIED_CLASS_NAME__:"FileProgressCloseButton"},closeTooltipTitle:X.b(""),pointerUp:function(e){this.sendEvent("closeButtonClicked")}}),bF=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"fileIconView"},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h5",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"fileName",attributes:{}}]}]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"progressView"}],classes:["progress-bar"]},{type:"VIEWOUTLET",tagname:"view",name:"closeButton"},{type:"ELEMENT",tagname:"a",name:"retryButton",classes:["retry-icon","hide"],attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"retryTooltip",attributes:{},attribute:"title"}}}],classes:["progress",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isComplete",truevalue:"complete",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isWaiting",truevalue:"not-sending",attributes:{}}]},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"byteCountString",attributes:{}}],classes:["byte-count"]}],classes:["mainBody"]}],classes:["file-progress-view"]}},__QUALIFIED_CLASS_NAME__:"FileProgressView"},closeButton:X.b({get:function(){return _F.create({closeTooltipTitle:this.bindingFor("cancelTooltip")})}}),closeButtonClicked:function(){this.sendEvent("closeButtonClickHandler",this)},items:X.b(),showcaseViewPool:Y.c(),iconService:Y.c(),thumbnailCanvasFactory:Y.c(),fileContent:X.b({readOnly:!0,dependencies:["transaction"],get:Object.assign((function(){return this.transaction.stagedFile}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n]).stagedFile}})}),cancelTooltip:X.b(a.d("DriveUI.Upload.Cancel")),retryTooltip:X.b(a.d("DriveUI.Upload.Retry")),isWaiting:X.b(!0),isComplete:X.b({defaultValue:!1}),isFailed:X.b({defaultValue:!1}),percentComplete:X.b(),transaction:X.b(),bytesTotal:X.b({defaultValue:0,set:function(e){return 0===e&&this._bytesTotal?this._bytesTotal:e}}),bytesTransferred:X.b({defaultValue:0}),byteCountString:"",progressView:X.b({readOnly:!0,get:function(){return mF.create()}}),fileIconView:X.b({readOnly:!0,get:function(){return So.create(this.iconService,this.showcaseViewPool,this.thumbnailCanvasFactory,this.thumbnailStatsReporterService,{additionalClassNames:Mi.a(["medium"]),displaySize:Aa.REGULAR})}}),transactionProgressObserver:Ni.f("transaction","transaction.progress","transaction.progress.changed",(function(e){if(e){var t=this.transaction;if(t.nativeFile.size){var n=t.progress;this.percentComplete=n.percentageComplete/100,this.bytesTotal=n.totalAmount,this.bytesTransferred=n.amountComplete,this.progressView&&this.progressView.set("value",100*this.percentComplete),1===this.percentComplete&&this.set("isComplete",!0)}}})),_updateByteCountString:Ni.f("bytesTotal","bytesTransferred","isFailed","isComplete",(function(e,t,n,i){0!==t||0!==e||i&&n?this.set("isWaiting",!1):this.set("isWaiting",!0);var r,o=this.get("isWaiting");if(n){this.get("isComplete")||this.set("isComplete",!0);var s=a.d("DriveUI.Upload.Progress.Failed");return this.set("byteCountString",s),void this.get("retryButton").classList.remove("hide")}if(o&&!i){var l=a.d("DriveUI.Common.Progress.Waiting");return this.set("byteCountString",l),void this.get("retryButton").classList.add("hide")}this.get("retryButton").classList.add("hide");var c=gF(e,{precision:1}),u=gF(t,{precision:1});r=i?c:a.d("DriveUI.Upload.Progress.ByteCount",{totalSize:c,transferredSize:u}),this.set("byteCountString",r)})),_fileContentDidChange:Ni.f("fileContent",(function(e){if(e){var t=this.get("fileIconView");t&&t.set("content",e);var n=e?e.get("name"):"";this.set("fileName",n)}})),_isCompleteDidChange:Ni.f("isComplete",(function(e){e&&this.set("isWaiting",!1)})),pointerUp:function(e){e.target===this.get("retryButton")&&this.sendEvent("retryUploadTransactionHandler",this.transaction)}}),yF=new Map([[Bf.Init,1],[Bf.Prepared,1],[Bf.Staging,1],[Bf.Staged,1],[Bf.Commit,1],[Bf.Commit.Prepared,1],[Bf.Commit.Running,0],[Bf.Completed,2],[Bf.Completed.Success,2],[Bf.Completed.Fail,2],[Bf.Reverting,2],[Bf.Reverted,2],[Bf.Finalizing,2],[Bf.Finalized,2]]),SF=Ge.a.extend({init:function(e,t){this.__s._$PB$init.call(this,Object.assign({transaction:e},t))},transaction:Y.c({strong:!0}),__superMap:{_$PB$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"OrderedTransactionMetadata"}}),IF=ri.a.extend({raiseAlertService:X.b(),iconService:X.b(),showcaseViewPool:X.b(),thumbnailStatsReporterService:X.b(),thumbnailCanvasFactory:X.b(),session:X.b(),uploadFilesService:X.b(J.c("session.fileSystem.uploadFilesService")),shouldShowPopover:X.b(J.c("uploadFilesService.hasActiveTransactions")),onUploadFilesServiceActivated:Ni.f("uploadFilesService.activatedTransaction",(function(e){if(e){var t=e.context;this.addActivatedTransaction(t)}})),init:function(e,t,n,i,r,a,o){this.__s._$19j$init.call(this,Object.assign({},o,{session:e,raiseAlertService:t,showcaseViewPool:n,iconService:i,thumbnailStatsReporterService:r,thumbnailCanvasFactory:a}))},listViewController:Oi.b({viewOutlet:"listView",get:function(){return CF.create(this.showcaseViewPool,this.iconService,this.thumbnailCanvasFactory,this.thumbnailStatsReporterService,this.uploadFilesService,{items:this.bindingFor("orderedTransactions"),nextResponder:this})}}),computeDesiredSize:function(){var e=this.listViewController.computeDesiredSize(),t=e.width,n=e.height;return R_.a.create(t,n+82)},resizeDelegate:Y.c({type:sF}),requestResizeFromDelegate:function(){var e=this.resizeDelegate;if(bt.a(e)&&"function"===typeof e.contentDidRequestResize){var t=this.computeDesiredSize(),n=e.contentDidRequestResize(t),i=n.width,r=n.height,a=R_.a.create(i,r-82);this.listViewController.setSize(a)}},createView:function(){return pF.create(this.showcaseViewPool,this.iconService,this.thumbnailStatsReporterService,this.thumbnailCanvasFactory,lF.create(267,587))},willDetach:function(){var e=this,t=arguments;e.__s._$1l3$willDetach.apply(e,t),this.clearCompletedUploads()},willAttach:function(){var e=this,t=arguments;e.__s._$1tn$willAttach.apply(e,t),this.clearCompletedUploads()},folderContent:X.b(J.c("session.currentWorkingDirectory.content")),fileUploadButtonFilesChanged:function(e,t){this.uploadFilesToCurrentFolder(t)},uploadFilesToCurrentFolder:function(e){if(!this.folderContent)return Re.b.error("uploadFilesToCurrentFolder: No folderContent."),void ze.b("Folder content was not set on UploadViewController");var t=this.raiseAlertService,n={multipleFiles:0!==e.length};this.session.uploadFiles(e,null,n,(function(e){t.raiseAlertForErrorItem(e[0])}))},presenterViewController:null,orderedTransactions:X.b({get:function(){return mf.create()}}),addActivatedTransaction:function(e){var t=SF.create(e,1);this.orderedTransactions.push(t),this.requestResizeFromDelegate()},closeButtonClickHandler:function(e){if(e){var t=e.fileContent,n=e.transaction;this.uploadFilesService.cancelUploadForFile(t);for(var i=this.orderedTransactions,r=i.length-1;r>=0;r--)i.objectAt(r).transaction===n&&i.splice(r,1);this.requestResizeFromDelegate(),0===i.length&&this.shouldBeDismissed()}},retryUploadTransactionHandler:function(e){var t=e.file,n=e.destinationFolder,i=this.session.uploadFileCallback,r=this.raiseAlertService,a=r.raiseAlertForErrorItem.bind(r);this.session.uploadFile(t,n).then(i(a))},clearCompletedUploads:function(){for(var e=this.orderedTransactions,t=e.length-1;t>=0;t--){var n=e.objectAt(t).transaction;2===yF.get(n.state)&&e.splice(t,1)}this.requestResizeFromDelegate()},shouldBeDismissed:Ni.g(),__superMap:{_$19j$init:"init",_$1l3$willDetach:"willDetach",_$1tn$willAttach:"willAttach"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadViewController"}}),wF=Di.a.extend({staticMembers:{template:{type:"MULTIVIEWOUTLET",tagname:"views",name:"itemViews"},__QUALIFIED_CLASS_NAME__:"UploadListView"},itemViews:X.b()}),EF=tF.extend({itemViews:X.b(),staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadScrollView"}}),CF=aF.extend({init:function(e,t,n,i,r,a){this.__s._$3Xi$init.call(this,Object.assign({showcaseViewPool:e,iconService:t,thumbnailCanvasFactory:n,thumbnailStatsReporterService:i,uploadFilesService:r},a))},createView:function(){var e=wF.create({itemViews:this.bindingFor("itemViews")});return EF.create({additionalClassNames:Mi.a(["uploads"]),contentView:e})},viewForItem:function(e){var t=this,n=arguments;xi.a.pause();var i=t.__s._$3lX$viewForItem.apply(t,n);return Object.assign(i,{showcaseViewPool:this.showcaseViewPool,iconService:this.iconService,thumbnailCanvasFactory:this.thumbnailCanvasFactory,thumbnailStatsReporterService:this.thumbnailStatsReporterService,uploadFilesService:this.uploadFilesService}),xi.a.resume(),i},itemViewClass:bF,itemKeyMap:{transaction:"transaction"},computeDesiredSize:function(){var e=this.items,t=82*("number"===typeof jr.a(e,"length")&&e.length<5?e.length:5);return R_.a.create(267,t)},setSize:function(e){var t=e.width,n=e.height,i=this.view;i.style.set("width",t),i.style.set("height",n),i.propertyChanged("scrollMaxY"),i.propertyChanged("scrollMaxX"),i.propertyChanged("scrollElementX"),i.propertyChanged("scrollElementY"),i.propertyChanged("height"),i.propertyChanged("width")},__superMap:{_$3Xi$init:"init",_$3lX$viewForItem:"viewForItem"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadListViewController"}}),AF=n(279),TF={dataObjectsByType:{},setDataForType:function(e,t){this.dataObjectsByType[t]=e},getDataForType:function(e){return this.dataObjectsByType[e]},hasDataForType:function(e){return e in this.dataObjectsByType},clearAllData:function(){this.dataObjectsByType={}}},OF={mixinDependencies:[Me.a,Ni.a],acceptedDragTypes:Object(Y.c)(Object(ut.b)(["text/plain"])),getPreferredOperationsForDragType:function(e,t){return["move"]},acceptDataForDragType:De.a.define(),isDraggingOver:Object(X.b)({readOnly:!0,dependencies:["_dragHovers"],get:Object.assign((function(){return this._dragHovers>0}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])>0}})}),_dragHovers:Object(X.b)(0),dragDidEnter:Vr.a,dragDidHover:Vr.a,dragDidDrop:Vr.a,dragDidLeave:Vr.a,_getDataForDragType:function(e,t){return"Files"===t?e.dataTransfer.files:TF.hasDataForType(t)?TF.getDataForType(t):null},_processDragEvent:function(e){for(var t=this.acceptedDragTypes,n=this._getAllowedActionsForEvent(e),i=0,r=t.length;i<r;i++){var a=t[i],o=!1;if("Files"===a){var s,l=e.dataTransfer;l&&(s=l.types)&&(o=s instanceof DOMStringList?s.contains(a):-1!==s.indexOf(a))}else o=TF.hasDataForType(a);if(o)for(var c=this.getPreferredOperationsForDragType(e,a),u=0,d=c.length;u<d;u++){var h=c[u];if(-1!==n.indexOf(h))return e.dataTransfer.dropEffect=h,h}}return null},_getAllowedActionsForEvent:function(e){var t,n=e.dataTransfer.effectAllowed;return"all"===n||"uninitialized"===n?t=["copy","link","move"]:"none"===n?t=[]:(t=[],n&&-1!==n.indexOf("opy")&&t.push("copy"),n&&-1!==n.indexOf("ink")&&t.push("link"),n&&-1!==n.indexOf("ove")&&t.push("move")),t},dragEnter:function(e){return!!this._processDragEvent(e)&&(this.isDraggingOver||this.dragDidEnter(e),this._dragHovers++,!0)},dragOver:function(e){return!!this.isDraggingOver&&(this._processDragEvent(e)?(this.dragDidHover(e),e.stopPropagation(),e.preventDefault(),!0):(this._dragHovers--,this.isDraggingOver||this.dragDidLeave(e),!1))},dragLeave:function(e){return!!this._processDragEvent(e)&&(this._dragHovers--,this.isDraggingOver||this.dragDidLeave(e),!0)},drop:function(e){this._dragHovers--;for(var t=this.acceptedDragTypes,n=!1,i=0,r=t.length;i<r;i++){var a=t[i],o=this._getDataForDragType(e,a);if(null!==o){var s=this._processDragEvent(e);if(s&&this.acceptDataForDragType(e,a,o,s)){n=!0;break}}}return!!n&&(e.stopPropagation(),e.preventDefault(),this.dragDidDrop(e),!0)}},DF={mixinDependencies:[OF],getPreferredOperationsForDragType:function(e,t){var n=this.shouldAllowDrop(e,t),i=n&&MF(e);return n&&i?["copy"]:n&&!i?["move"]:[]},_dragHovers:X.b({set:function(e){return e<0?0:e}}),dragEnter:function(e){var t=this,n=arguments,i=t.__s._$RE$dragEnter.apply(t,n);if(!i){var r=ce.a.sharedInstance.isChrome,a=Io.a.sharedInstance,o=a.isWindows,s=a.osMajorVersion;e.dataTransfer.dropEffect=r&&o&&s>=10?"pointer":"none"}return i},acceptedDragTypes:Y.c(["DriveUIItem","Files"]),dragTargetDropDestination:Ht.a.define(),acceptDataForDragType:function(e,t,n){var i=this.getDropInfo(e,t,n);return!!i&&(this.sendEvent("dragTargetHandlerPerformActionForDropInfo",this,i,e),!0)},dragDidEnter:function(e){var t=this.getDragTargetInfo(e);this.sendEvent("dragTargetInfoAdded",t)},dragDidLeave:function(e){this.sendEvent("dragTargetInfoRemoved")},dragDidDrop:function(e){this.sendEvent("dragTargetInfoRemoved")},getDragTargetInfo:function(e){return{action:MF(e)?"upload":"move",destinationFolder:this.dragTargetDropDestination}},shouldAllowDrop:function(e,t){var n=!1,i=this.dragTargetDropDestination;if(i&&i.isFolder&&!i.isInTrash)if(MF(e))n=this.dragTargetShouldAllowUpload(e,t);else{var r=TF.getDataForType(t);if(bt.a(r)){var a=r.parent.viewController.selection,o=0===a.size?sa.create([r.content]):a;n=this.dragTargetShouldAllowMove(e,t,o)}else n=!1}return n},dragTargetShouldAllowMove:function(e,t,n){return!0},dragTargetShouldAllowUpload:function(e,t){return!0},getDropInfo:function(e,t,n){var i=null;if("DriveUIItem"===t){var r=n.parent.viewController.selection,a=0===r.size?[n.content]:r.toArray();i={action:"move-items",data:{items:a,destinationFolder:this.dragTargetDropDestination,sourceFolder:a[0]}}}else if("Files"===t&&MF(e)){var o=e.dataTransfer&&e.dataTransfer.files;i={action:"upload-files",data:{items:o,destinationFolder:this.dragTargetDropDestination,sourceFolder:o&&o[0]}}}return i},__superMap:{_$RE$dragEnter:"dragEnter"}};function MF(e){var t=e.dataTransfer&&e.dataTransfer.types;if(t)for(var n=t.length,i=0;i<n;i++)if("Files"===t[i])return!0;return!1}var NF={element:Ht.a.define(),_primaryInteractionMode:Ht.a.define(),_attachmentStatusDidChange:Ni.f({inputs:["isAttached"],callback:function(e){if(e){var t=this._primaryInteractionMode===li.a.TOUCH?"touch-style":"mouse-style",n=this.element;n.classList.contains(t)||n.classList.add(t)}}})},FF=Di.a.extend({mixinDependencies:[DF,NF],targetModalOverlayPaneClass:Y.c(Jl),staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"toolbarView"},{type:"VIEWOUTLET",tagname:"view",name:"folderNavigationViewIfVisible"},{type:"VIEWOUTLET",tagname:"view",name:"statusBarViewIfVisible"}],classes:["tab-content",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDraggingOver",truevalue:"drag-hover",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"TabContentView"},dragTargetDropDestination:X.b({dependencies:["session.currentWorkingDirectory"],readOnly:!0,get:Object.assign((function(){return this.session.currentWorkingDirectory}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])}})}),dragTargetShouldAllowMove:function(e,t){return!1},dragTargetShouldAllowUpload:function(e,t){var n=this.dragTargetDropDestination;return this.session.actionPolicy.determineShouldAllowDragAndDropUploadToDestination(n)},_primaryInteractionMode:Y.c(),defaultFocusChild:J.c("folderNavigationViewIfVisible"),displayMode:X.b(),isSelectionModeActive:X.b({type:Boolean}),folderNavigationView:X.b(),folderNavigationViewIfVisible:X.b({readOnly:!0,dependencies:["displayMode","folderNavigationView"],get:Object.assign((function(){return this.folderNavigationView}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[1+n])}})}),session:X.b(),statusBarView:X.b(),statusBarViewIfVisible:X.b({readOnly:!0,dependencies:["displayMode","statusBarView","isSelectionModeActive"],get:Object.assign((function(){if(!1===this.isSelectionModeActive)return this.statusBarView}),{__CW__getter:function(e,t,n,i){if(!1===i.internalGet(this,t[2+n]))return i.internalGet(this,t[1+n])}})})}),LF=Ld.extend({folders:Y.c(),run:function(){var e=this.folders.map((function(e){return{drivewsid:e.id}}));return Xd.post("retrieveSharedItemDetailsInFolders",e,5e3)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RetrieveSharedItemDetailsInFoldersQuery"}}),RF=yf.extend({init:function(e,t){Object.defineProperty(this,"_folders",{value:e}),this.__s._$H4$init.call(this,t)},startRun:function(){var e=this._folders;return LF.create({folders:e}).run().then((function(e){return e.ok?o.okResult(function(e){var t=[],n=[],i=0,r=0,a=!1;return e&&(e.forEach((function(e){i+=e.sharedToMeFileCount,r+=e.sharedFromMeFileCount,e.items.forEach((function(e){Yr.getItemForValue(e.share)===Yr.TO_ME&&t.push(e.name),Yr.getItemForValue(e.share)===Yr.BY_ME&&n.push(e.name)}))})),a=!0),{sharedToMeCountInFolder:i,sharedByMeCountInFolder:r,sharedToMeNamesInFolder:t,sharedByMeNamesInFolder:n,finished:a}}(e.data)):e}))},__superMap:{_$H4$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DetermineSharedDescendantsTask"}}),xF=Object.freeze({pages:"pages",numbers:"numbers",key:"key",keynote:"keynote"}),PF=Object.freeze({warn:"warn",block:"block"}),kF=Object.freeze({SharedToMe:"SharedToMe",SharedByMe:"SharedByMe"}),UF=Object.freeze({owner:"owner",participant:"participant"}),jF=Object.freeze({Generic:"Generic",Single:"Single",Multiple:"Multiple",OneOfMany:"OneOfMany",SomeOfMany:"SomeOfMany"});function BF(e){var t=[];return e.forEach((function(e){var n=VF(e);-1===t.indexOf(n)&&t.push(n)})),t.length>1?"":"."+t[0]}function VF(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kF.SharedToMe,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kF.SharedByMe,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=i;return e.isSharedToMe?r=t:e.isSharedByMe&&(r=n),r}function $F(e,t){var n=!1,i=[];for(var r in t)r>0&&i.push(r);return"Combined"===e?n=!0:i.length>1&&(n=!0),n}function WF(e,t,n){return{message:e,description:t,action:n}}function zF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function GF(e){var t=0,n=0,i=0,r=0,a=0,o=0,s=0,l=0,c=0,u=0,d=0,h=0,f=!1,p=[],m=[],g=[],v=[],_=[],b={},y={};e.forEach((function(e){if(e.isFolder){if(r+=1,e.isSharedByMe||(d+=e.sharedByMeCount),e.isSharedToMe||(h+=e.sharedToMeCount),bt.a(e.sharedByMeCount)&&bt.a(e.sharedToMeCount)||(f=!0),g.push(e),e.isSystemFolder)o+=1,_.push(e.sanitizedName);else if(e.isAppLibrary)a+=1,v.push(e.name);else if(e.isSharedToMe){i+=1,s+=1,m.push(e.name);var S=b.folder||0;b.folder=S+1}else if(e.isSharedByMe){n+=1,s+=1,p.push(e.name);var I=y.folder||0;y.folder=I+1}f||bt.a(e.sharedToMeCount)&&bt.a(e.sharedByMeCount)||(f=!0)}else{if(t+=1,e.isSharedToMe){i+=1,m.push(e.name);var w=e.extension;if("numbers"===w||"pages"===w||"keynote"===w){var E=b[w]||0;b[w]=E+1}}else if(e.isSharedByMe){n+=1,p.push(e.name);var C=e.extension;if("numbers"===C||"pages"===C||"keynote"===C){var A=y[C]||0;y[C]=A+1}}var T=e.extension;if(T in KD)switch(T){case xF.pages:l+=1;break;case xF.key:case xF.keynote:u+=1;break;case xF.numbers:c+=1}}}));var S=null;return t>0&&r>0?S="Mix":t>0?S="File":r>0&&(S="Folder"),{fileCount:t,sharedByMeCount:n,sharedToMeCount:i,folderCount:r,appLibraryCount:a,systemFolderCount:o,sharedByMeNames:p,sharedToMeNames:m,folders:g,appLibraryNames:v,systemFolderNames:_,composition:S,totalSharedFolderCount:s,fileExtensionTypeHash:{pages:l,numbers:c,keynote:u,folder:r},subSharedByMeCount:d,subSharedToMeCount:h,sharedToMeExtensionsCount:b,sharedByMeExtensionsCount:y,selectionContainsAmbiguousItems:f}}var HF="DriveUI.Alert.Delete.Description.";function KF(e,t,n,i){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},u=[];if(!r||!(e>0&&n&&n.length||t>0&&i&&i.length))return[a.d("DriveUI.Alert.Delete.Description.ShareByMe.Maybe"),a.d("DriveUI.Alert.Delete.Description.ShareToMe.Maybe")];var d=("number"!==typeof c.unknown||0===c.unknown)&&("number"!==typeof l.unknown||0===l.unknown);if(e>0&&0===t){var h=1===e?"Single":d&&e!==s?"SomeOfMany":"Plural",f=d&&s!==e;if(f&&1===e)u.push(a.d(HF+"SomeSharedByMe.Single",{itemName:n[0]}));else{var p=o.pages===s,m=o.keynote===s,g=o.numbers===s,v=o.folder===s,_=0!==o.folder&&o.folder<s,b=d?e>=1&&(p||g||m)&&s>e?"File.":p?"Document.":m?"Presentation.":g?"Spreadsheet.":v?"Folder.":_?"Mix.":"File.":"",y=a.d(HF+"ShareByMe."+b+h,{fileName:n[0],count:e,shareCount:e});u.push(y)}}else if(t>0&&0===e){var S=1===t?1===l.unknown?"Single":s>1?"SingleOfMany":"Single":t>1?"number"===typeof l.unknown&&0!==l.unknown||s!==t?"SomeOfMany":"AllOfMany":"Plural",I=o.pages===s,w=o.keynote===s,E=o.numbers===s,C=o.folder===s,A="number"===typeof o.folder&&o.folder>0&&o.folder<s,T="number"!==typeof l.unknown||0===l.unknown,O=T&&"number"===typeof l.pages&&0!==l.pages&&l.pages===t,D=T&&"number"===typeof l.keynote&&0!==l.keynote&&l.keynote===t,M=T&&"number"===typeof l.numbers&&0!==l.numbers&&l.numbers===t,N=T&&"number"===typeof l.folder&&0!==l.folder&&l.folder===t,F=1===t?T?O?".Document":D?".Presentation":M?".Spreadsheet":N?".Folder":".File":"":T?t>=1&&(I||E||w)&&s>t?".File":I?".Document":w?".Presentation":E?".Spreadsheet":C?".Folder":A?".Mix":".File":".Mix",L=S+F,R=a.d(HF+"ShareToMe."+L,{itemName:i[0],count:t,shareCount:t});u.push(R)}else{var x=o.folder===s,P=void 0===o.folder||0===o.folder,k=c.folder+l.folder===e+t,U=(0===c.folder||void 0===c.folder)&&(0===l.folder||void 0===c.folder),j=d?x?"OnlyFolders":P?"OnlyFiles":U?"FilesAndMixed":k?"FoldersAndMixed":"Mixed":"Mixed";u.push(a.d(HF+"ShareByMeToMe."+j))}return u}function QF(e,t,n,i,r,o,s,l,c){if(o){var u,d,h="",f=function(e,t){var n=e.pages,i=e.numbers,r=e.keynote,a=".Mixed";return t===t-(n+i+r)?a=".File":n===t?a=".Document":i===t?a=".Spreadsheet":r===t&&(a=".Presentation"),a}(s,l);return".Mixed"===f?h+=".Mix":(h+=f,h+=1===e?".Single":".Multiple"),d=a.d("DriveUI.Alert.Purge.Message.InSharedFolder"+h),u=a.d("DriveUI.Alert.Purge.Description.InSharedFolder"+h),Z.a.resolve({message:d,description:u})}var p=t+n;if(0===p)return Z.a.resolve();var m="";1===e?m+=".Single":(m+=".Plural.Shared.",m+=p===e?"All":1===p?"Single":"Plural");var g=s.pages===l,v=s.numbers===l,_=s.keynote===l,b=p>=1&&e>p?".File":g?".Document":v?".Spreadsheet":_?".Presentation":".File",y=a.d("DriveUI.Alert.Delete.Message"+b+m,{count:e}),S=KF(t,n,i,r,!0,s,l,c).join("\n\n");return Z.a.resolve({message:y,description:S})}function qF(e,t,n,i,r,a,o){return YF(t,n).then(eL("DriveUI.Alert.Delete.Message.Folder",0,e,t,i,r,a,o))}function YF(e,t){return!0===e.some((function(e){return!e.sharedToMeCount&&0!==e.sharedToMeCount||!e.sharedByMeCount&&0!==e.sharedByMeCount}))?(t||RF.create(e)).run():function(e){for(var t,n=0,i=0,r=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return zF(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zF(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(e);!(t=r()).done;){var a=t.value;i+=a.sharedToMeCount,n+=a.sharedByMeCount}return Z.a.resolve(o.okResult({sharedByMeCountInFolder:n,sharedToMeCountInFolder:i,finished:!0}))}(e)}function XF(e,t,n,i,r,o,s){var l,c,u,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{};if(o)u=".Folder",u+=1===e?".Single":".Multiple",l=a.d("DriveUI.Alert.Purge.Message.InSharedFolder"+u),c=a.d("DriveUI.Alert.Purge.Description.InSharedFolder"+u);else{var f,p=t+n;if(0===p)return Z.a.resolve();if(e===p)f="DriveUI.Alert.Delete.Message.Shared.Folder",u=1===p?".Single":".Plural",c=KF(t,n,i,r,!0,{folder:e},e,d,h).join("\n\n");else{f="DriveUI.Alert.Delete.Message.SharedAndRegularFolder",u=".Shared";var m=n+t===1?".Single":".Plural";u+=m,c=KF(t,n,i,r,!s,{folder:e},e,d,h).join("\n\n")}l=a.d(f+u,{count:e})}return Z.a.resolve({message:l,description:c})}var JF="DriveUI.Alert.Delete.Message.FileFolder";function ZF(e,t,n,i,r,o,s,l,c,u,d,h){var f=!(arguments.length>12&&void 0!==arguments[12])||arguments[12],p=arguments.length>13&&void 0!==arguments[13]?arguments[13]:{},m=arguments.length>14&&void 0!==arguments[14]?arguments[14]:{},g=n+i,v=null;if(g>=1){var _=1===g?"Single":"Plural";v=a.d(JF+".Any.Shared."+_,{count:e+t});var b=KF(n,i,o,s,!f,h,d,p,m).join("\n\n");if(e+t!==g)t===l&&(b=KF(n,i,o,s,!0,h,d,p,m).join("\n\n"),1===g&&(v=a.d(JF+".Any.Shared.Single",{count:e+t})));else if(u){var y=".Mix";v=a.d("DriveUI.Alert.Purge.Message.InSharedFolder"+y),b=a.d("DriveUI.Alert.Purge.Description.InSharedFolder"+y)}else v=a.d(JF+".All.Shared.Plural",{count:e+t});return Z.a.resolve({message:v,description:b})}return YF(r,c).then(eL(JF,e,t,r,d,h,p,m))}var eL=function(e,t,n,i,r,o,s,l){return function(c){var u=c.ok,d=c.data,h=d.sharedByMeCountInFolder,f=d.sharedToMeCountInFolder,p=d.sharedByMeNamesInFolder,m=d.sharedToMeNamesInFolder,g=d.finished,v=!u||!g,_=h+f;if(!1===v&&0===_)return null;var b=function(e){return 1===e?"Single":"Plural"},y=[e,b(n),"Shared",v?"Maybe":b(_)].join(".");return{message:a.d(y,{count:t+n,folderName:i[0]&&i[0].name}),description:KF(h,f,p,m,g,o,r,Object.assign({},s,{unknown:f}),Object.assign({},l,{unknown:h})).join("\n\n")}}};function tL(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=i.sort().join(""),s="DriveUI.Alert.Delete.Message."+o,l=null,c=t-n;if(0===c&&0===e)l=a.d(s);else if(0===c&&e>0){var u=".File."+(1===e?"Single":"Plural");l=a.d(s+u,{count:e})}else if(c>0&&0===e){var d=".Folder."+(1===c?"Single":"Plural");l=a.d(s+d,{count:c})}else if(c>0&&e>0){var h=".Mix";l=a.d(s+h,{count:e+c})}var f=a.d(HF+o),p=[f];if(r){var m=KF(null,null,null,null,!1)[0];p.push(m)}var g=p.join("\n\n");return Z.a.resolve({message:l,description:g})}function nL(e,t,n,i){var r=e+t,o=1===r?"Single":"Plural",s=a.d("DriveUI.Alert.Delete.Message.AppLibrary.Any.Item."+o,{appLibraryName:i[0],count:r}),l=1===n?"Single":"Plural",c=[a.d("DriveUI.Alert.Delete.Description.AppLibrary."+l),KF(null,null,null,null,!1)[0]].join("\n\n");return Z.a.resolve({message:s,description:c})}function iL(e,t){if(t.sharedFolderFromHierarchy&&e.length>0&&!e[0].isSharedIndirectly){var n=GF(e),i=n.fileCount,r=n.folderCount,o=n.sharedByMeCount,s=n.sharedToMeCount,l=n.composition,c=n.totalSharedFolderCount,u=n.fileExtensionTypeHash,d=n.subSharedByMeCount,h=n.subSharedToMeCount,f=n.sharedToMeExtensionsCount,p=n.selectionContainsAmbiguousItems,m=e.length,g={destinationFolderName:t.name},v="DriveUI.Alert.Move.Message",_="DriveUI.Alert.Move.Description",b=d+h;if("File"===l){var y=function(e,t){var n="";return n=".File",e===t[xF.pages]?n=".Document":e===t[xF.keynote]?n=".Presentation":e===t[xF.numbers]&&(n=".Spreadsheet"),n}(m,u),S="",I="";if(1===m){if(s>0){y+=".SharedToMe.Single",S=a.d(v+y,{destinationName:g.destinationFolderName});var w="";return t.isSharedDirectlyOrIndirectly&&(w+=".Generic"),{message:S,description:I=a.d(_+".SharedToMe"+w),action:"block"}}if(o>0)return y+=".SharedByMe.Single",{action:"warn",message:S=a.d(v+y),description:I=a.d(_+".SharedByMe.Single.Second",g)}}else{if(s>0){if(i!==s){y+=".SharedToMe.SomeOfMany",S=a.d(v+y,{destinationName:g.destinationFolderName}),I=1===s?a.d(_+".SharedToMe.Single"):a.d(_+".SharedToMe.Multiple");var E="";return t.isSharedDirectlyOrIndirectly&&(E+=".Generic"),{message:S,description:I+=" "+a.d("DriveUI.Alert.Move.Description.SharedToMe"+E),action:"block"}}y+=".SharedToMe.Multiple",S=a.d(v+y,{destinationName:g.destinationFolderName});var C=".SharedToMe";return t.isSharedDirectlyOrIndirectly&&(C+=".Generic"),{message:S,description:I=a.d(_+C),action:"block"}}if(o>0)return o===i?(y+=".SharedByMe.Multiple",S=a.d(v+y),I=a.d(_+".SharedByMe.Multiple.Second",g)):(y=".SharedByMe.SomeOfMany",1===o?(S=a.d(v+y),I=a.d(_+".SharedByMe.Single.First")+" "+a.d(_+".SharedByMe.Single.Second",g)):(S=a.d(v+y),I=a.d(_+".SharedByMe.Multiple.First")+" "+a.d(_+".SharedByMe.Multiple.Second",g))),{action:"warn",message:S,description:I}}}else if("Folder"===l){var A=".Folder",T="",O="";if(c>0||b||p){if(c===r){if(s>0){A+=1===s?".SharedToMe.Single":".SharedToMe.Multiple",T=a.d(v+A,{destinationName:g.destinationFolderName});var D=t.isSharedDirectlyOrIndirectly?".SharedToMe.Generic":".SharedToMe";return{message:T,description:O=a.d(_+D),action:"block"}}return 1===o?(A+=".SharedByMe.Single",O=a.d(_+".SharedByMe.Single.Second",g)):(A+=".SharedByMe.Multiple",O=a.d(_+".SharedByMe.Multiple.Second",g)),{action:"warn",message:T=a.d(v+A),description:O}}if(s>0||h>0){A=(h&&h>0?".Item":".Folder")+".SharedToMe.SomeOfMany",T=a.d(v+A,{destinationName:g.destinationFolderName}),O=1===s||1===h?a.d(_+".SharedToMe.Single"):a.d(_+".SharedToMe.Multiple");var M="DriveUI.Alert.Move.Description.SharedToMe";return t.isSharedDirectlyOrIndirectly&&(M+=".Generic"),{message:T,description:O+=" "+a.d(M),action:"block"}}if(o>0||d>0)return A=".SharedByMe.SomeOfMany",1===o||1===d?(T=a.d(v+A),O=a.d(_+".SharedByMe.Single.First")+" "+a.d(_+".SharedByMe.Single.Second",g)):(T=a.d(v+A),O=a.d(_+".SharedByMe.Multiple.First")+" "+a.d(_+".SharedByMe.Multiple.Second",g)),{action:"warn",message:T,description:O};if(p){var N=1===m?"Single":"Multiple",F=1===m?"Single":"SomeOfMany";return{action:"warn",message:T=a.d(v+".AmbiguousFolder."+N,g),description:O=a.d(_+".AmbiguousFolder."+F,g)}}}}else if(b>0||o>0||s>0||p){var L,R;if(s>0||h>0){if(s===m){L=a.d(v+".Item.SharedToMe.Multiple",{destinationName:g.destinationFolderName});var x="DriveUI.Alert.Move.Description.SharedToMe";t.isSharedDirectlyOrIndirectly&&(x+=".Generic"),R=a.d(x)}else{var P=f.folder,k=f.numbers,U=f.pages,j=f.keynote,B="DriveUI.Alert.Move.Message"+(P===s?".Folder":k===s?".Spreadsheet":U===s?".Document":j===s?".Presentation":"number"===typeof P||"number"===typeof k||"number"===typeof U||"number"===typeof j||0!==h?".Item":".File")+".SharedToMe.SomeOfMany";L=a.d(B);var V="DriveUI.Alert.Move.Description.Item.SharedToMe"+(1===s?".OneOfMany":".SomeOfMany");R=a.d(V)}return{message:L,description:R,action:"block"}}if(o>0||d>0){var $=o===m,W=$?".Item.SharedByMe.Multiple":".SharedByMe.SomeOfMany",z=$?".SharedByMe.Multiple.Second":1===o?".SharedByMe.OneOfMany":".SharedByMe.SomeOfMany";return{action:"warn",message:L=a.d(v+W),description:R=a.d(_+z,g)}}if(p)return{message:L=a.d(v+".SharedByMe.SomeOfMany"),description:R=a.d(_+".AmbiguousFolder.SomeOfMany",g),action:"warn"}}}else if(function(e,t){var n=!1;if(e&&e.length>0&&e[0].sharedFolderFromHierarchy){var i=e[0].sharedFolderFromHierarchy,r=e[0].isSharedIndirectly,a=e[0].path,o=a.indexOf(i),s=a.slice(0,o);n=r&&-1!==s.indexOf(t)}return n}(e,t)){var G=GF(e),H=G.composition,K=G.fileCount,Q=G.sharedByMeCount,q=G.sharedToMeCount,Y=G.sharedByMeExtensionsCount,X=function(e,t,n){var i=n.composition,r=n.filesCount,a=n.sharedByMeCount,o=n.sharedToMeCount,s=n.sharedByMeExtensionsCount,l=n.sharedToMeExtensionsCount,c=n.fileExtensionTypeHash,u=(n.selectionContainsAmbiguousItems,e.length),d=function(e,t,n,i,r){var a=jF.Generic;return 1===e.length?a=jF.Single:e.length>1&&!$F(t,r)?a=jF.Multiple:e.length>1&&(1===n||1===i)&&$F(t,r)?a=jF.OneOfMany:e.length>1&&(n>1||i>1)&$F(t,r)&&(a=jF.SomeOfMany),"."+a}(e,i,a,o,{filesCount:r,foldersCount:l.sharedToMeFolderCount+s.sharedByMeFolderCount,spreadsheetsCount:l.sharedToMeNumbersCount+s.sharedByMeNumbersCount,documentsCount:l.sharedToMePagesCount+s.sharedByMePagesCount,presentationsCount:l.sharedToMeKeynoteCount+s.sharedByMeKeynoteCount});return function(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:PF.warn,o=""+e+n+i+r,s=""+t+n+i+r;return WF(o,s,a)}("DriveUI.Alert.Move.Out.Message","DriveUI.Alert.Move.Out.Description",function(e,t,n,i,r){var a;switch(e){case"File":a=function(e,t){var n="";return n="File",t&&0!==t.length?e===t[xF.pages]?n="Document":e===t[xF.keynote]?n="Presentation":e===t[xF.numbers]&&(n="Spreadsheet"):n="Item",n}(t,r);break;case"Folder":a="Folder";break;case"Mix":a="Item";break;case"Ambiguous":a="AmbiguousFolder";break;default:a=""}return""===a?a:"."+a}(i,u,0,0,c),BF(e),d,function(e,t){var n=PF.warn,i=BF(e,UF.participant,UF.owner),r=VF(t,UF.participant,UF.owner);return i===UF.participant&&r===UF.owner?n=PF.block:i!==UF.participant||r!==UF.participant||function(e,t){return!!(e&&e.length>0&&e[0].owner&&t&&t.owner)&&e[0].owner.appleId===t.owner.appleId}(e,t)||(n=PF.block),n}(e,t))}(e,t,{composition:H,filesCount:K,sharedByMeCount:Q,sharedToMeCount:q,sharedToMeExtensionsCount:G.sharedToMeExtensionsCount,sharedByMeExtensionsCount:Y,fileExtensionTypeHash:G.fileExtensionTypeHash,selectionContainsAmbiguousItems:G.selectionContainsAmbiguousItems});return{action:X.action,description:a.d(X.description,{destinationFolderName:t.name}),message:a.d(X.message)}}}var rL={mixinDependencies:[Me.a],session:Y.c(),allowsMove:!0,allowsUpload:!0,dragTargetHandlerPerformActionForDropInfo:function(e,t){var n=t.action,i=t.data,r=i.destinationFolder,a=i.sourceFolder,o=i.items;switch(n){case"move-items":if(this.allowsMove){var s=this._willMoveCrossZones(a,r),l=iL(o,r);if(bt.a(l)){var c=l.action,u=l.message,d=l.description;return"warn"===c?this.showWarningAlert(u,d,o,r):this.showBlockAlert(u,d)}var h=[],f=[];if(s){var p=this._groupItemsByShareSetting(o);h=p.allOtherItems,f=p.itemsSharedByMe}else h=o;return h.length>0&&this.moveItems(h,r),void(f.length>0&&this._confirmMovingSharedItems(f,o.length,r))}break;case"upload-files":if(this.allowsUpload)return void this.handleUploadFilesDragAndDropAction(o,i.destinationFolder,i.meta)}ze.b("Unexpected drop action: "+n,{controller:this,dropInfo:t})},showBlockAlert:function(e,t){return n_.a.show({iconNames:"iclouddrive",message:e,description:t,primaryButton:{title:a.d("DriveUI.Common.Button.OK"),isPrimary:!0}})},showWarningAlert:function(e,t,n,i){var r=this;return n_.a.show({iconNames:"iclouddrive",message:e,description:t,primaryButton:{title:a.d("DriveUI.DragDrop.Dialog.Move.FileShared.Button.Move"),action:"handlePrimaryButton",isPrimary:!0},alternateButton:{title:a.d("DriveUI.Common.Cancel"),isAlternate:!0},handlePrimaryButton:function(){r.moveItems(n,i)}})},_groupItemsByShareSetting:function(e){for(var t=[],n=[],i=0;i<e.length;i++){var r=e[i];r.isSharedByMe&&r.isSharedDirectly?t.push(r):n.push(r)}return Ge.a.create({itemsSharedByMe:t,allOtherItems:n})},_willMoveCrossZones:function(e,t){return e.zone!==t.zone},raiseAlertService:Ht.a.define(),moveItems:function(e,t){var n=this.raiseAlertService;return this.session.moveItems(e,t).then((function(e){return e.failed&&e.data.forEach((function(e){return n.raiseAlertForErrorItem(e)})),e}))},_confirmMovingSharedItems:function(e,t,n){var i,r,o=this,s=e.length,l=n.isAppLibrary?".In":".Out";if(1===s){var c="DriveUI.DragDrop.Dialog.Move.FileShared.Single.";i=a.d(c+"Title",{fileName:e[0].name}),r=a.d(c+"Message"+l)}else if(s===t){var u="DriveUI.DragDrop.Dialog.Move.FileShared.All.";i=a.d(u+"Title"),r=a.d(u+"Message"+l)}else{var d="DriveUI.DragDrop.Dialog.Move.FileShared.Some.";i=a.d(d+"Title"),r=a.d(d+"Message"+l,{fileCount:s,fileCountTotal:t})}n_.a.show({iconNames:"iclouddrive",message:i,description:r,primaryButton:{title:a.d("DriveUI.DragDrop.Dialog.Move.FileShared.Button.Move"),action:"handlePrimaryButton",isPrimary:!0},alternateButton:{title:a.d("DriveUI.Common.Cancel"),isAlternate:!0},handlePrimaryButton:function(){o.moveItems(e,n)}})},handleUploadFilesDragAndDropAction:function(e,t,n){var i=this;this.session.uploadFiles(e,t,n,(function(e){i.raiseAlertService.raiseAlertForErrorItem(e[0])}))}};function aL(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var oL=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.from,i=void 0===n?0:n,r=e.to,a=void 0===r?1:r;this.id=t,this.from=i,this.to=a,this.delta=a-i}return e.prototype.getValue=function(e){return e*this.delta+this.from},e}(),sL=function(e){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.from,i=void 0===n?0:n,r=t.to,a=void 0===r?1:r;return e.call(this,{id:"opacity",from:i,to:a})||this}return aL(t,e),t}(oL),lL=function(e){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.offset,i=void 0===n?0:n,r=t.distance,a=void 0===r?150:r,o=t.direction,s=void 0===o?1:o,l=Math.sign(s);return e.call(this,{id:"transform",from:i,to:i+a*l})||this}return aL(t,e),t.prototype.getValue=function(t){return"translateX("+e.prototype.getValue.call(this,t)+"px) translateZ(0)"},t}(oL),cL=function(){function e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.tweeners=t}var t=e.prototype;return t.getValues=function(e){for(var t=this.tweeners,n={},i=0,r=t.length;i<r;i++){var a=t[i];n[a.id]=a.getValue(e)}return n},t.setStyles=function(e,t){var n=this.getValues(e);j_.a(t,n)},e}(),uL=function(){function e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.tweeners=t}return e.prototype.setStyles=function(e){for(var t=this.tweeners,n=0,i=1,r=arguments.length;i<r;n++,i++)t[n].setStyles(e,arguments[i])},e}(),dL=function(e){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.from,i=void 0===n?0:n,r=t.to,a=void 0===r?1:r;return e.call(this,new sL({from:i,to:a}))||this}return aL(t,e),t}(cL);function hL(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var fL=function(e){function t(){return e.call(this,new dL({from:0,to:1}),new dL({from:1,to:0}))||this}return hL(t,e),t}(uL),pL=function(e){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.direction,i=void 0===n?-1:n,r=t.distance,a=void 0===r?150:r,o=t.inOffset,s=void 0===o?a:o,l=t.outOffset,c=void 0===l?0:l;return e.call(this,new cL(new sL({from:0,to:1}),new lL({offset:s*-i,distance:a,direction:i})),new cL(new sL({from:1,to:0}),new lL({offset:c,distance:a,direction:i})))||this}return hL(t,e),t}(uL),mL=Ge.a.extend(mo,{staticMembers:{defaultTransitionDuration:250,defaultTransitionTweenerClass:fL,_copyCanvas:function(e,t){e.width>0&&e.height>0&&t.getContext("2d").drawImage(e,0,0)},_cloneNode:function(e){var t=e.cloneNode(!0);if("CANVAS"===e.tagName)this._copyCanvas(e,t);else for(var n=e.querySelectorAll("canvas"),i=t.querySelectorAll("canvas"),r=0,a=n.length;r<a;r++)this._copyCanvas(n[r],i[r]);return t},cloneElementForTransition:function(e){var t=e.getBoundingClientRect(),n=this._cloneNode(e);return j_.a(n,{position:"absolute",left:e.offsetLeft,top:e.offsetTop,width:t.width,height:t.height}),n},__QUALIFIED_CLASS_NAME__:"TransitionAnimator"},elements:void 0,transitionTweener:void 0,transitionProgress:go(0),_onTransitionUpdate:Ni.e("transitionProgress",(function(e){var t;(t=this.transitionTweener).setStyles.apply(t,[e].concat(this.elements))})),didFinish:Vr.a,init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n=this.constructor,i=e.duration,r=void 0===i?n.defaultTransitionDuration:i,a=e.transitionTweener,o=void 0===a?new n.defaultTransitionTweenerClass:a,s=e.elements,l=e.didFinish;t.__s._$z7$init.call(t,Object.assign({},e,{duration:r,transitionTweener:o,elements:s,didFinish:l}))},isFinished:void 0,start:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.isFinished=!1;var t=1*this.duration;this.animate("transitionProgress",1,t,(function(){return e.finish()}))},finish:function(){this.isFinished||(this.isFinished=!0,this.transitionProgress=1,this.didFinish())},dispose:function(){var e=this,t=arguments;this.finish(),e.__s._$1Ap$dispose.apply(e,t)},__superMap:{_$z7$init:"init",_$1Ap$dispose:"dispose"}}),gL={transitionAnimatorClass:mL,cloneElementForTransition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.element;return this.transitionAnimatorClass.cloneElementForTransition(e)},transitionAnimator:Y.c({strong:!0}),transition:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.outEl,i=t.inEl,r=void 0===i?this.element:i,a=t.transitionTweener,o=t.duration,s=this.transitionAnimator;s instanceof Object&&s.finish();var l=this.transitionAnimator=this.transitionAnimatorClass.create({elements:[r,n],transitionTweener:a,duration:o,didFinish:function(){e.transitionDidFinish(),e.transitionAnimator=void 0}});l.start();var c=r.parentNode;c&&c.appendChild(n),this.transitionDidStart()},transitionDidStart:function(){var e=this.transitionAnimator.elements,t=e[0];e[1].classList.add("transitioning-out"),t.classList.add("transitioning-in")},transitionDidFinish:function(){var e=this.transitionAnimator.elements,t=e[0],n=e[1];t.classList.remove("transitioning-in");var i=n.parentNode;i&&i.removeChild(n)}},vL=ri.a.extend({init:function(e){var t=this,n=arguments;Object.defineProperties(this,{_primaryInteractionMode:{value:e}}),t.__s._$9W$init.apply(t,n)},viewClass:Di.a.extend({mixinDependencies:[gL],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"navBar"},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"topView"}],classes:["container"]}],classes:["navigation"]}}},defaultFocusChild:J.c("topView"),topNavItem:X.b(),prevNavItem:X.b(),navBar:X.b({strong:!0,readOnly:!0,get:function(){return Wi.create({topItem:this.bindingFor("topNavItem"),prevItem:this.bindingFor("prevNavItem")})}})}),createView:function(){var e=this,t=arguments;xi.a.pause();var n=e.__s._$QW$createView.apply(e,t);return n.bind("topNavItem",this.bindingFor("topViewController.navigationItem")),n.bind("prevNavItem",this.bindingFor("topViewController.navigationItem")),xi.a.resume(),n},viewControllers:X.b({strong:!0,defaultValue:ut.b(mf),get:Xi.a,set:function(e){return mf.from(e)}}),updateVCs:Ni.f("viewControllers","viewControllers.contentsDidChange",(function(e){var t,n,i=this.topViewController;i instanceof Object&&(t=e.includes(i)?-1:1,n=this.view.cloneElementForTransition());var r=e.length;xi.a.pause(),this.topViewController=e.objectAt(r-1),this.prevViewController=e.objectAt(r-2),xi.a.resume(),n instanceof Object&&this.view.transition({outEl:n,transitionTweener:new pL({direction:t})})})),updateFocus:Ni.f("topViewController.isAttached","topViewController.view.isAttached",(function(e,t){e&&t&&this.view.focus()})),topViewController:Oi.b({viewOutlet:"topView"}),prevViewController:X.b({strong:!0}),pushViewController:function(e){return this.viewControllers.push(e)},popViewController:function(){return this.viewControllers.pop()},popToRootViewController:function(){var e=this.viewControllers;e.length>1&&(e.length=1)},popToViewController:function(e){var t=this.viewControllers,n=t.indexOf(e);n>=0?t.length=n+1:ze.b("Cannot pop to view controller. Not on stack",{controller:this})},__superMap:{_$9W$init:"init",_$QW$createView:"createView"},staticMembers:{__QUALIFIED_CLASS_NAME__:"NavigationController"}}).extend({filesGridViewControllerFactory:void 0,session:X.b(),isSelectionModeActive:X.b({type:Boolean}),_viewControllerPool:Y.c(ut.b(yS)),init:function(e,t,n,i){this.__s._$SZ$init.call(this,Object.assign({},i,{filesGridViewControllerFactory:e,primaryInteractionMode:n,session:t}))},onCwdDidChange:Ni.f("session.currentWorkingDirectory",(function(e){var t=this;if(e instanceof Object){var n=this.viewControllers,i=this.topViewController,r=n.length;if(0!==r){for(var a,o=e.path,s=o.length,l=0,c=Math.min(r,s);l<c;l++){var u=n.objectAt(l),d=o[l];if(u.folder.id!==d.id)return void this._replaceNavigationStackForFolder(e)}if(s<r)a=this._getViewControllerForFolder(e),this.popToViewController(a);else{var h=i.folder;s>r&&o[r].parent===h?o.slice(r).forEach((function(e){var n=t._acquireViewController({folder:e});t.pushViewController(n)})):this._replaceNavigationStackForFolder(e)}}else this._replaceNavigationStackForFolder(e)}})),_createViewControllerStackForFolder:function(e){var t=this;return e.path.map((function(e){return t._acquireViewController({folder:e})}))},_replaceNavigationStackForFolder:function(e){var t=this._createViewControllerStackForFolder(e);this.viewControllers=t},_getViewControllerForFolder:function(e){return this.viewControllers.find((function(t){return t.folder===e}))},_prevViewControllers:Y.c({strong:!0}),onViewControllersDidChange:Ni.f({inputs:["viewControllers","viewControllers.contentsDidChange"],callback:function(e,t){for(var n=this._prevViewControllers,i=void 0===n?[]:n,r=0,a=i.length;r<a;r++){var o=i[r];e.includes(o)||this._releaseViewController(o)}this._prevViewControllers=Array.from(e)}}),_acquireViewController:function(e){var t=this._viewControllerPool.pop();return t?e instanceof Object&&Object.assign(t,e):t=this.filesGridViewControllerFactory(Object.assign({},e,{allowsMultipleSelection:this.bindingFor("allowsMultipleSelection"),isSelectionModeActive:this.bindingFor("isSelectionModeActive")})),t.prepareForUse(),t},allowsMultipleSelection:X.b(!0),_releaseViewController:function(e){e.prepareForReuse(),this._viewControllerPool.push(e)},changeDirectoryAndGoToItem:function(e,t){var n=this;return this.session.changeDirectory(e).then((function(i){var r=i.ok,a=bt.a(t);if(r){if(a){var s=Z.a.create(),l=n.topViewController,c=Ni.b.create(l,{inputs:["collection.contentsDidChange"],callback:function(){jr.a(l,"folderContent.isLoading")||(c.disconnect(),l.selectItem(t,GS.SET),l.scrollToItem(t),s.resolve(o.okResult([e,t])))}});return c.connect(),s}return o.okResult([e,t])}return o.failedResult([e,t])}))},__superMap:{_$SZ$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"FolderNavigationController"}}),_L=Ge.a.extend(Ni.a,{dragTargetInfo:X.b(),staticMembers:{__QUALIFIED_CLASS_NAME__:"DragMonitor"}}).create(),bL=ri.a.extend({mixinDependencies:[rL],allowsMove:!1,viewClass:FF,createView:function(){var e=this,t=arguments;xi.a.pause();var n=e.__s._$RJ$createView.apply(e,t);return n._primaryInteractionMode=this._primaryInteractionMode,n.bind("isSelectionModeActive",this.bindingFor("isSelectionModeActive")),n.session=this.session,n.toolbarView=this.toolbarView,xi.a.resume(),n},session:X.b(),raiseAlertService:X.b(),fileSystem:X.b(J.c("session.fileSystem")),toolbarView:X.b(),currentSelection:X.b(J.c("folderNavigationController.topViewController.selection")),isSelectionModeActive:X.b({type:Boolean,defaultValue:!1}),folderNavigationController:Oi.b({viewOutlet:"folderNavigationView"}),statusBarViewController:Oi.b({viewOutlet:"statusBarView",downstreamBindings:{currentSelection:"(owner).currentSelection"}}),trashDetailsService:X.b(J.c("fileSystem.trashDetailsService")),init:function(e,t,n,i,r,a){Object.defineProperties(this,{_dragMonitor:{value:r},_dragTargetInfos:{value:[]},_primaryInteractionMode:{value:n}}),this.__s._$1K7$init.call(this,Object.assign({},a,{session:t,raiseAlertService:i,folderNavigationController:e})),e.bind("isSelectionModeActive",this.bindingFor("isSelectionModeActive"))},keyDown:function(e){var t=!1,n=this.toolbarView;return n.keyDown&&(t=n.keyDown(e)),t},dragTargetInfoAdded:function(e){this._dragTargetInfos.unshift(e),this._dragMonitor.dragTargetInfo=this._dragTargetInfos[0]},dragTargetInfoRemoved:function(){this._dragTargetInfos.pop(),this._dragMonitor.dragTargetInfo=this._dragTargetInfos[0]},folderToolbarButtonWasActivated:function(){this._exitSelectMode()},enterSelectModeButtonWasActivated:function(){this._enterSelectMode()},exitSelectModeButtonWasActivated:function(){this._exitSelectMode()},putFilesBackFromTrashActionWasPerformed:function(){this._exitSelectMode()},purgeRecentlyDeletedItemsActionWasPerformed:function(){this._exitSelectMode()},_enterSelectMode:function(){this._primaryInteractionMode===AF.a.TOUCH&&(this.isSelectionModeActive=!0)},_exitSelectMode:function(){this._primaryInteractionMode===AF.a.TOUCH&&(this.isSelectionModeActive=!1)},__superMap:{_$RJ$createView:"createView",_$1K7$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TabContentViewController"}}),yL={isSelectionEnabled:X.b(J.c("isSelectionModeActive")),userSelectionRequest:function(e){if(e){var t=e.view,n=t&&this.presenter.cellForView(t);if(this.isSelectionEnabled)t.isSelected?this.selectCell(n,GS.REMOVE):this.selectCell(n,GS.ADD);else{var i=n.value;this.activateItem(i)}}}},SL=Di.a.extend({staticMembers:{className:"cw-ui-collections-list-footer-view",__QUALIFIED_CLASS_NAME__:"ListFooterView"}}),IL=SL.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"value",attributes:{}}],classes:["folder-info-footer"]}},__QUALIFIED_CLASS_NAME__:"FolderInfoFooterView"},folderItemsCount:X.b({type:Number}),quotaData:X.b({type:Object}),quotaString:X.b({type:String,readOnly:!0,dependencies:["quotaData"],get:Object.assign((function(){if(bt.a(this.quotaData)){var e=this.quotaData,t=e.totalStorageInBytes,n=e.usedStorageInBytes;if(Qe.a(t)&&!Number.isNaN(t)&&Qe.a(n)&&!Number.isNaN(n))return gF(t-n)}}),{__CW__getter:function(e,t,n,i){if(bt.a(i.internalGet(this,t[0+n]))){var r=i.internalGet(this,t[0+n]),a=r.totalStorageInBytes,o=r.usedStorageInBytes;if(Qe.a(a)&&!Number.isNaN(a)&&Qe.a(o)&&!Number.isNaN(o))return gF(a-o)}}})}),value:X.b({type:String,readOnly:!0,dependencies:["folderItemsCount","quotaString"],get:Object.assign((function(){var e,t=this.folderItemsCount,n=this.quotaString;if(Qe.a(t)&&!Number.isNaN(t)&&Ke.a(n))return e=t<=0?"None":1===t?"Single":"Multiple",a.d("DriveUI.FilesGrid.FolderFooter."+e,{folderItemsCount:t,quotaString:n})}),{__CW__getter:function(e,t,n,i){var r,o=i.internalGet(this,t[0+n]),s=i.internalGet(this,t[1+n]);if(Qe.a(o)&&!Number.isNaN(o)&&Ke.a(s))return r=o<=0?"None":1===o?"Single":"Multiple",a.d("DriveUI.FilesGrid.FolderFooter."+r,{folderItemsCount:o,quotaString:s})}})})}),wL={folder:Qy.a.define(),fileSystem:Qy.a.define(),layoutMetrics:Mi.a({folderStatsFooterHeight:75}),presenter:Mi.a({viewClassKeysByCellType:Mi.a({folderStatsItem:"folderStatsItemViewClass"}),folderStatsItemViewClass:IL,viewForViewClass:function(e){var t=this,n=arguments,i=this.owner;if(e===this.folderStatsItemViewClass){var r=t.__s._$BF$viewForViewClass.apply(t,n);return r.bind("folderItemsCount",i.bindingFor("collection.length")),r.bind("quotaData",i.bindingFor("fileSystem.quotaData")),r}return t.__s._$BF$viewForViewClass.apply(t,n)},__superMap:{_$BF$viewForViewClass:"viewForViewClass"}}),layoutDelegate:Mi.a({sizeKeyByCellType:Mi.a({folderStatsItem:"getfolderStatsItemItemSize"}),getfolderStatsItemItemSize:function(e,t){return R_.a.create(e.viewportWidth,e.layoutMetrics.folderStatsFooterHeight)},cellClassKeysByCellType:Mi.a({folderStatsItem:"folderStatsCellClass"}),folderStatsCellClass:wS.extend({handle:"folderStatsItem",isReusable:!1}),completeVisibleCells:function(e,t,n,i){var r=this,a=arguments;r.__s._$UJ$completeVisibleCells.apply(r,a);var o=this.bottomMostItem(e,n);if(o instanceof Object&&o.handle instanceof Object&&o.handle.position===o.handle.maximumPosition){var s=e&&e.layoutMetrics&&e.layoutMetrics.folderStatsFooterHeight,l=(e&&e.viewportBounds&&e.viewportBounds.bottom)-s;if(Qe.a(l)&&!Number.isNaN(l)){var c=(o&&o.bottom)+this.spaceBelowCell(e,o);if(Qe.a(c)&&!Number.isNaN(c)){var u;u=c>l?c-s:l;var d=this.cellForHandle(null,"folderStatsItem");d.retain(),this.layOutCellInDirection(e,d,1,u),n.push(d),d.release()}}}},spaceBelowCell:function(e){var t=this,n=arguments;return t.__s._$181$spaceBelowCell.apply(t,n)+e.layoutMetrics.folderStatsFooterHeight},__superMap:{_$UJ$completeVisibleCells:"completeVisibleCells",_$181$spaceBelowCell:"spaceBelowCell"}})};function EL(e,t,n,i){if(null==t)return e;for(var r=i&&i.insertionStr||"\u2026",a=i&&i.numberOfLines||1,o=1,s="",l=[];s.length<e.length;){var c=e.substr(s.length),u=c.match(/^\s*\S+|\s+$/),d=s+u[0];if(jl(d,n).width<=t)s=d;else{if(o===a){s=CL(e,t,r,n);break}""===s&&(s=CL(u[0],t,r,n),c=e.substr(u[0].length)),l.push(s),e=c.trim(),s="",o++}}return l.push(s),l.join("\n")}function CL(e,t,n,i){var r=t-jl(n,i).width,a=r/2,o=AL(e,a,1,i).replace(/\s+$/,""),s=AL(e,r-jl(o,i).width,-1,i).replace(/^\s+/,""),l=Math.abs(o.length-s.length),c=AL(e,a,-1,i).replace(/^\s+/,""),u=AL(e,r-jl(c,i).width,1,i).replace(/\s+$/,""),d=Math.abs(u.length-c.length);return l>1&&d>1?AL(e,a,1).replace(/\s+$/,"")+n+AL(e,a,-1).replace(/^\s+/,""):l<=1&&d>1?o+n+s:d<=1&&l>1?u+n+c:o.length+s.length>=c.length+u.length?o+n+s:u+n+c}function AL(e,t,n,i){for(var r=0,a=0,o=0,s="",l="",c=e.length;r<c;)if(r++,s=n>0?e.substr(0,r):e.substr(c-r),!e.substr(r-1,r).match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/)){if((a=jl(s,i).width)>t)return l;a!==o&&(l=s),o=a}return l}var TL,OL,DL=ne.a.create({JustNow:"JustNow",OneMinuteAgo:"OneMinuteAgo",LessThanAnHourAgo:"LessThanAnHourAgo",Today:"Today",Yesterday:"Yesterday",Tomorrow:"Tomorrow",Future:"Future",Past:"Past",None:"None"}),ML={hour:"numeric",minute:"numeric"},NL={month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"},FL={month:"numeric",day:"numeric",year:"numeric"},LL=Ge.a.extend(wo.a,{descriptionForDateTime:function(e,t){var n=this._sharedDescriptionForDateTimeReturnedObject,i=1/0,r=DL.None;if(n.str="",n.ttl=i,n.type=r,!e)return n;var o,s,l,c=this.dateProvider.now(),u=e.getTime(),d=(c-u)/6e4;if(Math.abs(d)<.5)o="JustNow",i=3e4-60*d*1e3,r=DL.JustNow;else if(d<0){var h=this._getSharedTodayDate(),f=h.getTime();if(h.getUTCDate()===e.getUTCDate()&&h.getUTCMonth()===e.getUTCMonth()&&h.getUTCFullYear()===e.getUTCFullYear())return n.str=this._getFormattedDateTime(e,ML),n.ttl=u-c-3e4,n.type=DL.Today,n;if(!(u-f<1728e5))return this._getFormattedAbsoluteDate(e,DL.Future,t);o="Tomorrow",t&&t.shouldAlwaysIncludeTime&&(o+=".TimeIncluded",(s=this._getSharedDateTimeFormatterConfig()).time=this._getFormattedDateTime(e,ML));var p=u-c-3e4,m=f+864e5+1e3-c;i=Math.min(p,m),r=DL.Tomorrow}else if(d<1.5)o="OneMinuteAgo",i=9e4-60*d*1e3,r=DL.OneMinuteAgo;else if((l=Math.round(d))<60)o="LessThanAnHourAgo",(s=this._getSharedDateTimeFormatterConfig()).minutes=l,i=60*(1-(d-Math.floor(d)))*1e3,r=DL.LessThanAnHourAgo;else{var g=this._getSharedTodayDate(),v=g.getTime();if(g.getDate()===e.getDate()&&g.getMonth()===e.getMonth()&&g.getFullYear()===e.getFullYear()){n.str=this._getFormattedDateTime(e,ML);var _=v+864e5+1e3;return n.ttl=_-c,n.type=DL.Today,n}if(!(v>u&&v-u<864e5))return this._getFormattedAbsoluteDate(e,DL.Past,t);o="Yesterday",t&&t.shouldAlwaysIncludeTime&&(o+=".TimeIncluded",(s=this._getSharedDateTimeFormatterConfig()).time=this._getFormattedDateTime(e,ML)),i=v+864e5+1e3-c,r=DL.Yesterday}return n.str=a.d("RF.DateTime.Relative."+o,s),n.ttl=i,n.type=r,n},dateProvider:Date,_getSharedDateTimeFormatterConfig:function(){var e=this._sharedDateTimeFormatterConfig;for(var t in e)delete e[t];return e},_getSharedTodayDate:function(){var e=this._sharedTodayDate;if(e)return e;var t=(e=this._sharedTodayDate=new(this.get("dateProvider"))).getTime();e.setUTCHours(e.getUTCHours()-e.getHours()),e.setUTCMinutes(e.getUTCMinutes()-e.getMinutes()),e.setUTCSeconds(e.getUTCSeconds()-e.getSeconds()),e.setUTCMilliseconds(e.getUTCMilliseconds()-e.getMilliseconds());var n=e.getTime()+864e5+1e3-t;return ft.a(this._invalidateSharedTodayDate.bind(this),n),e},_invalidateSharedTodayDate:function(){this._sharedTodayDate=null},_getFormattedAbsoluteDate:function(e,t,n){var i,r=this.dateProvider.now();i=e.getTime()<r?1/0:this._getSharedTodayDate().getTime()+864e5+1e3-r;var a=this._sharedDescriptionForDateTimeReturnedObject;return a.type=t,a.ttl=i,n&&n.shouldAlwaysIncludeTime?a.str=this._getFormattedDateTime(e,NL):a.str=this._getFormattedDateTime(e,FL),a},_getFormattedDateTime:function(e,t){try{return(TL=TL||n(698).region).getDateTimeFormatter(t).format(e)}catch(i){ze.b("Unable to format date")}},_sharedDateTimeFormatterConfig:{},_sharedTodayDate:null,_sharedDescriptionForDateTimeReturnedObject:{str:"",ttl:1/0,type:DL.None},staticMembers:{__QUALIFIED_CLASS_NAME__:"RelativeDateTimeFormatter"}}),RL={mixinDependencies:[{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",attributes:{draggable:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"isDraggable",attributes:{},attribute:"draggable"}}}}},mixinDependencies:[Me.a,Ni.a],isDraggable:Object(X.b)(!0),isDragging:Object(X.b)(!1),providedDragTypes:Object(Y.c)(Object(ut.b)(["text/plain"])),provideDataForDragType:De.a.define(),getAllowedOperationsForDrag:function(e){return["move"]},dragDidStart:Vr.a,dragDidMove:Vr.a,dragDidEnd:Vr.a,dragStart:function(e){var t=this.getAllowedOperationsForDrag(e);if(!(t&&t.length>0))return!1;var n=[];if(-1!==t.indexOf("copy")&&n.push("copy"),-1!==t.indexOf("link")&&n.push("link"),-1!==t.indexOf("move")&&n.push("move"),0===n.length)return e.dataTransfer.effectAllowed="none",!1;if(3===n.length)e.dataTransfer.effectAllowed="all";else{var i=n[0];if(n.length>1){var r=n[1];i+=r.charAt(0).toUpperCase()+r.slice(1)}e.dataTransfer.effectAllowed=i}for(var a=this.providedDragTypes,o=!1,s=0,l=a.length;s<l;s++){var c=a[s],u=this.provideDataForDragType(e,c);null!==u&&void 0!==u&&(TF.setDataForType(u,c),e.dataTransfer.setData("Text",""),o=!0)}return!!o&&(this.dragDidStart(e),this.isDragging=!0,!0)},drag:function(e){return!!this.isDragging&&(this.dragDidMove(e),!0)},dragEnd:function(e){return!!this.isDragging&&(this.isDragging=!1,this.dragDidEnd(e),TF.clearAllData(),!0)}}],dragSourceDelegate:null,dragStart:function(e){var t=this,n=arguments,i=!1,r=this.dragSourceDelegate;return r.shouldStartDraggingFilesGridCell(this)&&(r.willStartDraggingFilesGridCell(this),i=t.__s._$BQ$dragStart.apply(t,n)),i||e.preventDefault(),e.dataTransfer.setData("Text","(data)"),i},providedDragTypes:["DriveUIItem"],provideDataForDragType:function(e,t){return this},dragDidStart:function(e){this.dragSourceDelegate.didStartDraggingFilesGridCell(this,e)},dragDidEnd:function(e){this.dragSourceDelegate.didEndDraggingFilesGridCell(this,e)},__superMap:{_$BQ$dragStart:"dragStart"}},xL={staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tooltip",attributes:{},attribute:"title"}}}}},tooltip:X.b()},PL=Di.a.extend({mixinDependencies:[pb.a,xL],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:["cw-button",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"iconClassName",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"IconButton"},ariaLabel:J.c("tooltip"),iconClassName:X.b()}),kL={init:function(){var e=this,t=arguments;e.__s._$2t$init.apply(e,t),this.periodicSignalDidFire=this.periodicSignalDidFire.bind(this)},_periodicSignalTimerId:0,periodicSignalDidFire:Ni.g(),startPeriodicSignaler:function(e){clearTimeout(this._periodicSignalTimerId),this._periodicSignalTimerId=uu(this.periodicSignalDidFire,e)},stopPeriodicSignaler:function(){clearTimeout(this._periodicSignalTimerId),this._periodicSignalTimerId=0},__superMap:{_$2t$init:"init"}},UL={numberOfLines:2},jL={mixinDependencies:[Yl,{mixinDependencies:[kL],dispose:function(){var e=this,t=arguments;this.stopPeriodicSignaler(),e.__s._$Fs$dispose.apply(e,t)},__superMap:{_$Fs$dispose:"dispose"}},RL,DF,Vl],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"showcaseView"}],classes:["showcase-container",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"cssClassnameForDisplaySize",attributes:{}}],name:"showcaseContainer"},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"titleView"}],classes:["title-container"]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"subinfoTitle",attributes:{}}],classes:["subinfo",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldStyleAsWarning",truevalue:"as-warning",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"sharedByNameStringWithAttribution",attributes:{}}],classes:["shared-by-info",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldAppearAsShared",truevalue:"appear-as-shared",attributes:{}}],attributes:{dir:"auto"}}],classes:["body",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isCommitting",truevalue:"committing",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"highlighted",truevalue:"highlighted",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"disabled",attributes:{}}],name:"body",attributes:{"aria-hidden":"true"}},{type:"VIEWOUTLET",tagname:"view",name:"infoButton"},{type:"VIEWOUTLET",tagname:"view",name:"cancelButton"},{type:"VIEWOUTLET",tagname:"view",name:"progressView"},{type:"VIEWOUTLET",tagname:"view",name:"lockedIconView"}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isUploadProgressing",truevalue:"uploading",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDraggingOver",truevalue:"drag-target-focused",attributes:{}}],attributes:{role:"listitem",tabindex:"-1","aria-label":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabel",attributes:{},attribute:"aria-label"},"aria-selected":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"isSelected",attributes:{},attribute:"aria-selected"}}}}},dragTargetDropDestination:X.b({dependencies:["content"],readOnly:!0,get:Object.assign((function(){var e=this.content;return e&&e.isFolder?e:null}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r&&r.isFolder?r:null}})}),dragTargetShouldAllowMove:function(e,t,n){var i=this.content;return bt.a(i)&&"function"===typeof i.acceptsItems&&i.acceptsItems(Array.from(n))},dragTargetShouldAllowUpload:function(e,t){var n=this.dragTargetDropDestination;return this.session.actionPolicy.determineShouldAllowDragAndDropUploadToDestination(n)},dragEnter:function(e){var t=this,n=arguments,i=t.__s._$14O$dragEnter.apply(t,n);return e.stopPropagation(),e.preventDefault(),i},dragDidEnter:function(e){var t=this,n=arguments;t.__s._$1FG$dragDidEnter.apply(t,n),this.parent._performScroll(e)},dragDidHover:function(e){var t=this,n=arguments;t.__s._$1JN$dragDidHover.apply(t,n),this.parent._performScroll(e)},session:Y.c(),_primaryInteractionMode:Y.c(),iconService:X.b(),raiseAlertService:X.b(),content:X.b(),isDisabled:X.b({readOnly:!0,dependencies:["isSelectable","content.transactionState"],get:Object.assign((function(){return!this.isSelectable||this.content.transactionState===Jr.Committing}),{__CW__getter:function(e,t,n,i){return!i.internalGet(this,t[0+n])||i.internalGetPath(this,t[1+n])===Jr.Committing}})}),isFocusable:!0,shouldSelectOnPointerDown:Y.c({readOnly:!0,get:function(){return this._primaryInteractionMode===AF.a.MOUSE}}),selectView:function(e){var t=e.state,n=e.targetElement;if(n.matches&&n.matches(".cw-collection-view *")||n.msMatchesSelector&&n.msMatchesSelector(".cw-collection-view *")){var i=this.shouldSelectOnPointerDown,r=this.isSelected;(!0===i&&t===by.b.Began&&!1===r||!1===i&&t===by.b.Ended)&&this.sendEvent("userSelectionRequest",{view:this,operation:GS.SET})}},isSelectable:X.b(!1),shouldStyleAsWarning:X.b(!1),showcaseViewPool:X.b(),thumbnailCanvasFactory:X.b(),thumbnailStatsReporterService:X.b(),isCommitting:X.b({readOnly:!0,dependencies:["content.isUploading","content.transactionState"],get:function(){var e=this.content;return e instanceof Object&&(e.isUploading||e.transactionState===Jr.Committing)}}),_getTimeRemaining:function(e){var t=e/864e5,n="Day",i="Plural";return t<1?(n="Hour",(t=e/36e5)<1?(n="Minute",i=(t=e/6e4)<1?"Zero":t>2?"Plural":"One"):i=t>2?"Plural":"One"):i=t>2?"Plural":"One",{count:t=Math.floor(t),unit:n,suffix:i}},subinfoTitle:X.b({dependencies:["content","content.dateModified","isUploadWaiting","isUploadProgressing","isCommitting","periodicSignalDidFire"],readOnly:!0,get:Object.assign((function(){var e=this.content;if(e instanceof Object){if(this.shouldStyleAsWarning=!1,this.stopPeriodicSignaler(),this.isUploadWaiting)return a.d("DriveUI.Common.Progress.Waiting");if(this.isUploadProgressing)return a.d("DriveUI.FilesGrid.Cell.Upload.Progress.Uploading");if(e.isInTrash){var t=e.getDateExpiration();if(!this.isCommitting&&t instanceof Date){this.startPeriodicSignaler(3e4);var n=t-Date.now();this.shouldStyleAsWarning=n<3456e5;var i=this._getTimeRemaining(n),r=i.count,o=i.unit,s=i.suffix;return a.d("DriveUI.FilesGrid.Item.TimeRemaining."+o+"."+s,{count:r})}}else if(!e.isFolder){var l=e.dateModified;if(l instanceof Date&&Number.isFinite(l.getTime())){var c=LL.sharedInstance.descriptionForDateTime(l,{shouldAlwaysIncludeTime:!0}),u=c.ttl;return Number.isFinite(u)&&this.startPeriodicSignaler(u),c.str}}}}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(r instanceof Object){if(this.shouldStyleAsWarning=!1,this.stopPeriodicSignaler(),i.internalGet(this,t[2+n]))return a.d("DriveUI.Common.Progress.Waiting");if(i.internalGet(this,t[3+n]))return a.d("DriveUI.FilesGrid.Cell.Upload.Progress.Uploading");if(r.isInTrash){var o=r.getDateExpiration();if(!i.internalGet(this,t[4+n])&&o instanceof Date){this.startPeriodicSignaler(3e4);var s=o-Date.now();this.shouldStyleAsWarning=s<3456e5;var l=this._getTimeRemaining(s),c=l.count,u=l.unit,d=l.suffix;return a.d("DriveUI.FilesGrid.Item.TimeRemaining."+u+"."+d,{count:c})}}else if(!r.isFolder){var h=r.dateModified;if(h instanceof Date&&Number.isFinite(h.getTime())){var f=LL.sharedInstance.descriptionForDateTime(h,{shouldAlwaysIncludeTime:!0}),p=f.ttl;return Number.isFinite(p)&&this.startPeriodicSignaler(p),f.str}}}}})}),ariaLabel:X.b({dependencies:["content","isUploadWaiting","isUploadProgressing","content.fullName"],readOnly:!0,get:Object.assign((function(){var e=this.content;if(!e)return"";var t=e.fullName,n="";e.isAppLibrary?n=a.d("DriveUI.FilesGrid.Item.Kind.ApplicationLibrary"):e.isFolder?n=a.d("DriveUI.FilesGrid.Item.Kind.Folder"):e.isFile&&(n=a.d("Kind.File")),""!==n&&(n=" "+n);var i=this.subinfoTitle,r=void 0===i?"":i;""!==r&&(r=" "+r);var o=e.dateModified;return this.isUploadWaiting||this.isUploadProgressing||!o||(r=" "+a.d("DriveUI.FilesGrid.Cell.Info.LastModified",{date:o})),t+n+r}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(!r)return"";var o=r.fullName,s="";r.isAppLibrary?s=a.d("DriveUI.FilesGrid.Item.Kind.ApplicationLibrary"):r.isFolder?s=a.d("DriveUI.FilesGrid.Item.Kind.Folder"):r.isFile&&(s=a.d("Kind.File")),""!==s&&(s=" "+s);var l=this.subinfoTitle,c=void 0===l?"":l;""!==c&&(c=" "+c);var u=r.dateModified;return i.internalGet(this,t[1+n])||i.internalGet(this,t[2+n])||!u||(c=" "+a.d("DriveUI.FilesGrid.Cell.Info.LastModified",{date:u})),o+s+c}})}),isDraggable:X.b({readOnly:!0,dependencies:["isDisabled"],get:Object.assign((function(){return!this.isDisabled}),{__CW__getter:function(e,t,n,i){return!i.internalGet(this,t[0+n])}})}),MAX_ITEM_NAME_LENGTH:X.b({readOnly:!0,defaultValue:255}),_lockedIconView:X.b({readOnly:!0,strong:!0,get:function(){return Di.a.create({additionalClassNames:Mi.a(["locked-icon"])})}}),lockedIconView:X.b({readOnly:!0,strong:!0,dependencies:["content"],get:Object.assign((function(){var e=this.content;if(e instanceof Object&&(!1===e.canModifyContents||!1===e.canListContents))return this._lockedIconView}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(r instanceof Object&&(!1===r.canModifyContents||!1===r.canListContents))return this._lockedIconView}})}),cancelButton:X.b({readOnly:!0,strong:!0,defaultValue:ut.b(PL.extend(Ta,{staticMembers:{className:"cancel-button"},tabIndex:-1,tooltip:a.d("DriveUI.FilesGrid.Cell.Cancel.Tooltip"),visible:J.c("parent.content.isUploading"),action:"activateItemViewCancel",context:J.c("parent")}))}),_progressView:X.b({readOnly:!0,strong:!0,get:function(){return mF.create({value:this.bindingFor("uploadProgressValue")})}}),progressView:X.b({readOnly:!0,strong:!0,dependencies:["uploadProgressValue"],get:Object.assign((function(){if("number"===typeof this.uploadProgressValue)return this._progressView}),{__CW__getter:function(e,t,n,i){if("number"===typeof i.internalGet(this,t[0+n]))return this._progressView}})}),truncatedName:X.b({readOnly:!0,dependencies:["isAttached","content.name","content.isSharedDirectlyOrIndirectly"],get:Object.assign((function(){var e=this.isAttached,t=this.getPath("content.name");if(!e||!t)return t;if(!OL){var n=globalThis.getComputedStyle(this.titleButton.element);OL=n.fontStyle+" "+n.fontSize+" "+n.fontFamily}var i=EL(t,128,OL,UL),r=1!==i.split("\n").length;return this.content.type===wa.FILE&&r&&this.content.isSharedDirectlyOrIndirectly?this.element.classList.add("extended-outline"):this.element.classList.remove("extended-outline"),i}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGetPath(this,t[1+n]);if(!r||!a)return a;if(!OL){var o=globalThis.getComputedStyle(this.titleButton.element);OL=o.fontStyle+" "+o.fontSize+" "+o.fontFamily}var s=EL(a,128,OL,UL),l=1!==s.split("\n").length;return this.content.type===wa.FILE&&l&&i.internalGetPath(this,t[2+n])?this.element.classList.add("extended-outline"):this.element.classList.remove("extended-outline"),s}})}),itemViewDidExit:function(){this.stopPeriodicSignaler();var e=this.showcaseView;e instanceof Object&&e.prepareForReuse()},uploadProgressValue:X.b({readOnly:!0,dependencies:["content.isUploading","content.uploadProgress.changed"],get:function(){var e=this.content;if(e instanceof Object&&e.isFile){var t=e.uploadProgress;if(t instanceof Object)return t.percentageComplete}}}),isUploadWaiting:X.b({readOnly:!0,dependencies:["uploadProgressValue"],get:Object.assign((function(){return 0===this.uploadProgressValue}),{__CW__getter:function(e,t,n,i){return 0===i.internalGet(this,t[0+n])}})}),isUploadProgressing:X.b({readOnly:!0,dependencies:["uploadProgressValue"],get:Object.assign((function(){var e=this.uploadProgressValue;return e>0&&e<100}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r>0&&r<100}})}),__superMap:{_$14O$dragEnter:"dragEnter",_$1FG$dragDidEnter:"dragDidEnter",_$1JN$dragDidHover:"dragDidHover"}},BL=n(695),VL={mixinDependencies:[jL],staticMembers:{templateExtensions:{showcaseContainer:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"span",classes:["svg-container","selection-checkmark"],name:"svgContainer"}]}}},isSelectionModeActive:X.b({type:Boolean}),isTitleButtonDisabled:X.b({readOnly:!0,dependencies:["isDisabled","isSelectionModeActive","content.transactionState"],get:Object.assign((function(){return this.isDisabled||!0===this.isSelectionModeActive||this.content.transactionState===Jr.Committing}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])||!0===i.internalGet(this,t[1+n])||i.internalGetPath(this,t[2+n])===Jr.Committing}})}),_isSelectedDidChange:Ni.f({inputs:["isSelectionModeActive","isSelected"],callback:function(e,t){if(e){var n=this.svgContainer;n&&(t&&!n.classList.contains("checked")?n.classList.add("checked"):!t&&n.classList.contains("checked")&&n.classList.remove("checked"))}}}),_isSelectionModeActiveDidChange:Ni.f({inputs:["isSelectionModeActive"],callback:function(e){this.svgContainer.innerHTML=!0===e?BL:null}}),titleView:X.b({readOnly:!0,strong:!0,dependencies:["titleButton"],get:Object.assign((function(){return this.titleButton}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])}})}),titleButton:X.b({readOnly:!0,strong:!0,get:function(){return Pi.a.extend(Ta).create({title:this.bindingFor("truncatedName"),action:"showRenameItemModal",context:this,isDisabled:this.bindingFor("isTitleButtonDisabled"),tooltip:this.bindingFor("content.fullName"),ariaLabel:this.bindingFor("truncatedName"),tabIndex:-1,additionalClassNames:Mi.a(["link"])})}})},$L=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"message",attributes:{}}],classes:["popover-message",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"message",truevalue:"",falsevalue:"cw-hidden",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"description",attributes:{}}],classes:["popover-description",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"description",truevalue:"",falsevalue:"cw-hidden",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"message",truevalue:"has-message",attributes:{}}]}],classes:["popover-text",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_hasText",truevalue:"",falsevalue:"cw-hidden",attributes:{}}]},{type:"MULTIVIEWOUTLET",tagname:"views",name:"buttons",classes:["buttons-container"]}]},__QUALIFIED_CLASS_NAME__:"PopoverWithButtonListContentView"},_measure:Ni.f({inputs:["isAttached","buttons","message","description"],callback:function(e){if(e){this.get("style").set("width","auto").set("height","auto");var t=this.element,n=this.desiredSize;n.set("width",t.offsetWidth),n.set("height",t.offsetHeight),this.get("style").set("width","").set("height","")}}}),desiredSize:X.b({strong:!0,defaultValue:ut.b(R_.a,{width:"100%",height:"100%"})}),_hasText:X.b({readOnly:!0,dependencies:["message","description"],get:Object.assign((function(){return Boolean(this.message||this.description)}),{__CW__getter:function(e,t,n,i){return Boolean(i.internalGet(this,t[0+n])||i.internalGet(this,t[1+n]))}})}),buttons:X.b(),message:X.b(),description:X.b()}),WL=ri.a.extend({viewClass:$L,view:X.b({downstreamBindings:{buttons:"(owner).buttons",message:"(owner).message",description:"(owner).description"}}),buttons:X.b(),message:X.b(),description:X.b(),staticMembers:{__QUALIFIED_CLASS_NAME__:"PopoverWithButtonListContentController"}}),zL=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"popoverView"}]},__QUALIFIED_CLASS_NAME__:"PopoverModalView"},layout:X.b(),anchorLayout:X.b(),arrowLength:X.b(),arrowWidth:X.b(),arrowAlignment:X.b(),verticalAlignment:X.b(),horizontalAlignment:X.b(),popoverView:X.b({downstreamBindings:{layout:"(owner).layout",anchorLayout:"(owner).anchorLayout",arrowLength:"(owner).arrowLength",arrowWidth:"(owner).arrowWidth",arrowAlignment:"(owner).arrowAlignment",verticalAlignment:"(owner).verticalAlignment",horizontalAlignment:"(owner).horizontalAlignment"}}),contentView:X.b(J.c("popoverView.contentView")),pointerDown:function(e){var t=this.element.style.display;this.element.style.display="none";var n=globalThis.document.elementFromPoint(e.clientX,e.clientY),i=Py.a.create({type:"pointerMove",target:n,nativeEvent:e});return dt.a.application.rootResponder.dispatchEvent(i),this.element.style.display=t,this.sendEvent("hidePopover"),!0},keyUp:function(e){e.which===ji.a.ESC&&this.sendEvent("hidePopover")}}),GL=ob.extend({allowedLayouts:[nb,rb,ib],isAlignmentRequired:!1,resolutionStrategy:sb,arrowLength:13,arrowWidth:29,insetFromWindow:30,viewClass:Mi.a({additionalClassNames:Mi.a(["popover-view"]),pointerDown:function(){return!0}}),updateLayout:function(){this.propertyChanged("anchor")},createView:function(){var e=this,t=arguments,n=e.__s._$uh$createView.apply(e,t);return n.style.set("transform-origin","50% 0"),zL.create({popoverView:n})},pathToScaledView:"view.popoverView",show:function(){var e=this,t=arguments;e.__s._$xo$show.apply(e,t),this._shouldMeasure=!1},hidePopover:function(){return this.hide(),!0},_viewportDimensionObserver:Ni.f({inputs:[ce.a.sharedInstance.window.bindingFor("height"),ce.a.sharedInstance.window.bindingFor("width"),"anchor.isAttached"],callback:function(){this.getPath("anchor.isAttached")&&(this._shouldMeasure=!0,this._shouldMeasure=!1)}}),spaceLayout:ut.b(x_.a.extend({owner:X.b(),window:X.b(ce.a.sharedInstance.window),x:X.b({readOnly:!0,dependencies:["window.x","owner"],get:Object.assign((function(){return this.getPath("window.x")+this.owner.insetFromWindow}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])+i.internalGet(this,t[1+n]).insetFromWindow}})}),y:X.b({readOnly:!0,dependencies:["window.y","owner"],get:Object.assign((function(){return this.getPath("window.y")+this.owner.insetFromWindow}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])+i.internalGet(this,t[1+n]).insetFromWindow}})}),width:X.b({readOnly:!0,dependencies:["window.width","owner"],get:Object.assign((function(){return this.getPath("window.width")-2*this.owner.insetFromWindow}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])-2*i.internalGet(this,t[1+n]).insetFromWindow}})}),height:X.b({readOnly:!0,dependencies:["window.height","owner"],get:Object.assign((function(){return this.getPath("window.height")-2*this.owner.insetFromWindow}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])-2*i.internalGet(this,t[1+n]).insetFromWindow}})})})),__superMap:{_$uh$createView:"createView",_$xo$show:"show"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PopoverViewController"}}).extend(e_.a,{viewClass:Mi.a({additionalClassNames:Mi.a(["popover-with-button-list"])}),desiredSize:X.b({strong:!0,binding:J.c("contentController.view.desiredSize")}),contentController:X.b({defaultValue:ut.b(WL),downstreamBindings:{buttons:"(owner).buttons",message:"(owner).message",description:"(owner).description"}}),buttons:X.b(),nextResponder:X.b(),message:X.b(),description:X.b(),buttonDidActivate:function(){this.hide()},_updatePopoverArrowClass:Ni.f({inputs:["isAttached"],callback:function(){if(this.isAttached){var e=this.view.popoverView,t=e.width,n=e.arrowLeft,i=n+e.arrowWidth,r=e.arrowDirection,a=e.element.classList;a.remove("popover-arrow-up-right","popover-arrow-down-right","popover-arrow-up-left","popover-arrow-down-left"),t-i<5?"up"===r?a.add("popover-arrow-up-right"):"down"===r&&a.add("popover-arrow-down-right"):n<5&&("up"===r?a.add("popover-arrow-up-left"):"down"===r&&a.add("popover-arrow-down-left"))}}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"PopoverWithButtonList"}}),HL=Ge.a.extend(Ni.a,{staticMembers:{show:function(e){var t=HL.create(e);return t.show(),t},__QUALIFIED_CLASS_NAME__:"ActionSheet"},alertViewController:X.b(n_.a),buttons:X.b(),message:X.b({type:String}),description:X.b({type:String}),iconNames:X.b({type:Array}),anchor:X.b({type:Di.a}),alwaysRenderAsAlert:X.b(!1),renderAsAlertOnMouse:X.b(!1),additionalClassNames:X.b(),accessoryView:X.b(),popoverClass:X.b({defaultValue:GL}),primaryInteractionMode:X.b({type:String}),sizeClassHorizontal:X.b({type:Ca}),sizeClassVertical:X.b({type:Ca}),isAttached:X.b({readOnly:!0,dependencies:["isPopoverAttached","isAlertAttached"],get:Object.assign((function(){return Boolean(this.isPopoverAttached||this.isAlertAttached)}),{__CW__getter:function(e,t,n,i){return Boolean(i.internalGet(this,t[0+n])||i.internalGet(this,t[1+n]))}})}),isPopoverAttached:X.b({readOnly:!0,dependencies:["_visiblePopover","_visiblePopover.isAttached"],get:Object.assign((function(){return Boolean(this._visiblePopover&&this._visiblePopover.isAttached)}),{__CW__getter:function(e,t,n,i){return Boolean(i.internalGet(this,t[0+n])&&i.internalGetPath(this,t[1+n]))}})}),isAlertAttached:X.b({readOnly:!0,dependencies:["_visibleAlert","_visibleAlert.isAttached"],get:Object.assign((function(){return Boolean(this._visibleAlert&&this._visibleAlert.isAttached)}),{__CW__getter:function(e,t,n,i){return Boolean(i.internalGet(this,t[0+n])&&i.internalGetPath(this,t[1+n]))}})}),show:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.buttons||ze.b("Action sheet requires buttons"),this.buttons.forEach((function(t){t.isPrimary&&(e._primaryButtonForMouse=t),t.isAlternate&&(e._alternateButtonForMouse=t)})),this._shouldRenderAsPopover()?this._showPopover(t):this._showAlert(t)},hide:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._hideViews(e)},_hideViews:function(e){this._hideAlert(e),this._hidePopover(e),this._resetButtonConfig()},_shouldRenderAsPopover:function(){var e=this.primaryInteractionMode,t=this.sizeClassHorizontal,n=this.sizeClassVertical,i=this.alwaysRenderAsAlert,r=this.renderAsAlertOnMouse,a=e===li.a.TOUCH,o=t===Ca.COMPACT,s=n===Ca.COMPACT;return!(i||a&&(o||s)||!a&&r)},_showPopover:function(e){var t=this,n=this.anchor,i=this.buttons,r=this.message,a=this.description,o=this.additionalClassNames,s=this;this._visiblePopover=this.popoverClass.extend({viewClass:Mi.a({additionalClassNames:Mi.a(o)}),hide:function(){var e=this,t=arguments;s._animationIsDisabled||s._togglePopoverAnimation(!0),e.__s._$29H$hide.apply(e,t)},__superMap:{_$29H$hide:"hide"}}).create({insetFromWindow:0,allowedLayouts:[rb,ib],buttons:this._configurePopoverButtons(i),message:r,description:a,anchor:n}),this._defaultPopoverAnimationDuration=this._visiblePopover.showDuration,this._togglePopoverAnimation(e),this._visiblePopover.show();var l=this._visiblePopover.observe("isAttached",(function(e){e||(l.disconnect(),t._visiblePopover=void 0)}))},_showAlert:function(e){var t=this,n=this.buttons,i=this.message,r=this.description,a=this.iconNames,o=this.primaryInteractionMode,s=this.additionalClassNames,l=this.accessoryView,c=this,u=o===li.a.TOUCH?this._configureAlertButtonsForTouch(n):this._configureAlertButtonsForMouse(n);this._visibleAlert=this.alertViewController.extend({viewClass:Mi.a({additionalClassNames:Mi.a(s)}),dismissModalDialog:function(){var e=this,t=arguments;c._animationIsDisabled||c._toggleAlertAnimation(!0),e.__s._$2kN$dismissModalDialog.apply(e,t)},__superMap:{_$2kN$dismissModalDialog:"dismissModalDialog"}}).create({alertStyle:Kb.a.ACTION_SHEET,message:i,description:r,iconNames:a,accessoryView:l,buttons:u}),this._toggleAlertAnimation(e),this._visibleAlert.show();var d=this._visibleAlert.observe("isAttached",(function(e){e||(d.disconnect(),t._visibleAlert=void 0)}))},_hidePopover:function(e){this.isPopoverAttached&&(this._togglePopoverAnimation(e),this._animationIsDisabled=!e,this._visiblePopover.hide(),this._animationIsDisabled=!1)},_hideAlert:function(e){this.isAlertAttached&&(this._toggleAlertAnimation(e),this._animationIsDisabled=!e,this._visibleAlert.hide(),this._animationIsDisabled=!1)},_togglePopoverAnimation:function(e){if(this._visiblePopover){var t=e?this._defaultPopoverAnimationDuration:0;this._visiblePopover.showDuration=t,this._visiblePopover.hideDuration=t}},_toggleAlertAnimation:function(e){if(this._visibleAlert){var t=this._visibleAlert.view.element;e?t.classList.remove("action-sheet-no-animation"):t.classList.add("action-sheet-no-animation")}},_configurePopoverButtons:function(e){var t=this;return $i.b.create(e).filter((function(e){return!t._isCancelButton(e)}))},_configureAlertButtonsForTouch:function(e){var t=this,n=-1,i=$i.b.create(e).reverse().map((function(e,i){var r=t._isCancelButton(e);return e.isPrimary=r||void 0,e.isAlternate=void 0,r&&(n=i),e}));return i.length>1&&n>=0&&0!==n&&i.move(n,0),i},_configureAlertButtonsForMouse:function(e){var t,n=this,i=$i.b.create(e).map((function(i,r){return i===n._primaryButtonForMouse?i.isPrimary=!0:(i.isPrimary=void 0,2!==e.length&&i!==n._alternateButtonForMouse||(i.isAlternate=!0)),i.isAlternate&&(t=r),i}));return i.length>1&&t>=0&&1!==t&&i.move(t,1),i},_resetButtonConfig:function(){var e=this;this.buttons.forEach((function(t){t.isPrimary=void 0,t.isAlternate=void 0,t===e._primaryButtonForMouse?t.isPrimary=!0:t===e._alternateButtonForMouse&&(t.isAlternate=!0)})),this._alternateButtonForMouse=void 0,this._primaryButtonForMouse=void 0},_isCancelButton:function(e){return Boolean("hide"===e.action||e.isCancel)},_updateRenderingMode:Ni.f({inputs:["primaryInteractionMode","sizeClassHorizontal","sizeClassVertical","alwaysRenderAsAlert","renderAsAlertOnMouse"],callback:function(){if(this._visibleAlert||this._visiblePopover){var e=this._shouldRenderAsPopover();e&&this.isAlertAttached?(this._hideAlert(!1),this._showPopover(!1)):!e&&this.isPopoverAttached&&(this._hidePopover(!1),this._showAlert(!1))}}}),_visiblePopover:X.b({strong:!0}),_visibleAlert:X.b({strong:!0}),_primaryButtonForMouse:void 0,_alternateButtonForMouse:void 0,cleanup:function(){var e=this,t=arguments;this._hideViews(!1),e.__s._$50y$cleanup.apply(e,t)},__superMap:{_$50y$cleanup:"cleanup"}}),KL=HL.extend({message:X.b({readOnly:!0,dependencies:["sizeClassHorizontal","sizeClassVertical"],get:Object.assign((function(){var e=this.sizeClassHorizontal,t=this.sizeClassVertical,n=bt.a(e)&&e.value===Ca.COMPACT.value,i=bt.a(t)&&t.value===Ca.COMPACT.value;return n||i?a.d("DriveUI.FilesGrid.SortButtonTitle.Message"):null}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),o=i.internalGet(this,t[1+n]),s=bt.a(r)&&r.value===Ca.COMPACT.value,l=bt.a(o)&&o.value===Ca.COMPACT.value;return s||l?a.d("DriveUI.FilesGrid.SortButtonTitle.Message"):null}})}),staticMembers:{__QUALIFIED_CLASS_NAME__:"FilesGridSortActionSheet"}}),QL=function e(t,n){if(t){if(!t.getFullYear)throw new TypeError("Object passed to date formatter was not a date!");isNaN(t.getTime())&&Object(ze.b)("Invalid date passed to date formatter")}else Object(ze.b)("No date passed to date formatter.");n||Object(ze.b)("No formatting string passed to date formatter. Date: "+t);for(var i=n.length,r=n[0],a=1;a<i;a++)n[a]!==r&&Object(ze.b)("Invalid format string for a date; all characters mustbe the same: "+n+"; date: "+t);var o=e[r];return o||Object(ze.b)("Formatter `"+r+"` not supported for date: "+t),o(t,i)};QL.G=function(e,t){var n="Date.Era.";return n+=e.getFullYear()>=0?"AD":"BC",t<=3?Object(a.d)(n+".Abbreviated"):4===t?Object(a.d)(n+".Full"):5===t?Object(a.d)(n+".Letter"):void Object(ze.b)("Invalid era format: Expected at most 5 digits; found "+t+".")},QL.Y=QL.y=function(e,t){var n=e.getFullYear();1===t&&(t=n.length);for(var i=Math.abs(n).toString();i.length<t;)i="0"+i;return i.substr(i.length-t)},QL.u=function(e,t){var n=e.getFullYear();1===t&&(t=n.length);for(var i=e.getFullYear()<0,r=Math.abs(n).toString();r.length<t;)r="0"+r;return(i?"-":"")+r.substr(r.length-t)},QL.Q=function(e,t,n){var i=e.getMonth(),r=Math.floor(i/3)+1,o="Date.Quarter."+(n?"StandAlone.":"")+"Q"+r;return 1===t?""+r:2===t?"0"+r:3===t?Object(a.d)(o+".Abbreviated"):4===t?Object(a.d)(o+".Full"):void Object(ze.b)("Unrecognized number of characters for quarter: "+t)},QL.q=function(e,t){return QL.Q(e,t,!0)},QL.ENGLISH_MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"],QL.M=function(e,t,n){var i=e.getMonth(),r=""+(i+1),o="Date.Month."+(n||"")+QL.ENGLISH_MONTH_NAMES[i];return 1===t?r:2===t?(r.length<2&&(r="0"+r),r):3===t?Object(a.d)(o+".Abbreviated"):4===t?Object(a.d)(o+".Full"):5===t?Object(a.d)(o+".Letter"):void Object(ze.b)("The # of Ms or Ls must be 1 to 5. Supplied: "+t)},QL.L=function(e,t){return QL.M(e,t,"StandAlone.")},QL.P=function(e,t){return QL.M(e,t,"Prepositional.")},QL.d=function(e,t){var n=""+e.getDate();return t>n.length&&(n="0"+n),n},QL.D=function(e,t){var n=new Date(e.getFullYear(),0,1).getTime(),i=e.getTime()-n,r=Math.floor(i/864e5)+1;for(r=""+r;r.length<t;)r="0"+r;return r},QL.ENGLISH_DAY_NAMES=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],QL.E=function(e,t){return t<3&&(t=3),QL.e(e,t)},QL.e=function(e,t,n){var i=e.getDay(),r=""+(i+1),o="Date.Day."+(n?"StandAlone.":"")+QL.ENGLISH_DAY_NAMES[i];return 1===t?r:2===t?r="0"+r:3===t?Object(a.d)(o+".Abbreviated"):4===t?Object(a.d)(o+".Full"):5===t?Object(a.d)(o+".Letter"):void Object(ze.b)("Unrecognized number of `e`s, `c`s, or `E`s in date format string.")},QL.c=function(e,t){return QL.e(e,t,!0)},QL.a=function(e,t){1!==t&&Object(ze.b)("`a` can only be included in a date format string once.");var n="Date.Period."+(e.getHours()>11?"PM":"AM");return Object(a.d)(n)},QL._h=function(e,t,n,i){var r=e.getHours();n||(r%=12),i&&(n?0===r&&(r=24):0===r&&(r=12));var a=""+r;return a.length<t&&(a="0"+a),a},QL.h=function(e,t){return QL._h(e,t,!1,1)},QL.H=function(e,t){return QL._h(e,t,!0,0)},QL.K=function(e,t){return QL._h(e,t,!1,0)},QL.k=function(e,t){return QL._h(e,t,!0,1)},QL.m=function(e,t){for(var n=""+e.getMinutes();n.length<t;)n="0"+n;return n},QL.s=function(e,t){for(var n=""+e.getSeconds();n.length<t;)n="0"+n;return n},QL.S=function(e,t){var n=e.getMilliseconds()/1e3,i=Math.pow(10,t);for(n=""+(n=Math.round(n*i));n.length<t;)n="0"+n;return n},QL.A=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDay()).getTime(),i=e.getTime()-n;for(i=""+i;i.length<t;)i="0"+i;return i};var qL=a.a.sharedInstance.isRTL,YL=Di.a.extend({mixinDependencies:[Ta],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"inputNode"},{type:"ELEMENT",tagname:"span",name:"metricsNode",classes:["br-resizer"]},{type:"ELEMENT",tagname:"span",name:"extensionNode",classes:["br-extension"]}],name:"containerNode",classes:["container"]}],classes:["cw-textfield-view"]}},__QUALIFIED_CLASS_NAME__:"FileNameTextField"},defaultFocusChild:J.c("inputNode"),MAX_ITEM_NAME_LENGTH:X.b({readOnly:!0,defaultValue:255}),isDisabled:X.b(!1),inputNode:X.b({readOnly:!0,defaultValue:ut.b(Vi,{additionalClassNames:["cw-input"]}),downstreamBindings:{value:"(owner).value",isDisabled:"(owner).isDisabled",maxLength:"(owner).MAX_ITEM_NAME_LENGTH"}}),value:X.b({didChange:function(e){var t=this.inputNode.value,n=this.maxLength;if(t.length>n){var i=t.length-n,r=this.selection,a=r&&r.end||0,o=a-i;t=t.substring(0,o)+t.substring(a),this.inputNode.value=t,this._moveCursorBy(-(n-o))}this._updateLayout(t)}}),selection:X.b({cacheable:!1,get:function(){return this.inputNode.selection},set:function(e){return this.inputNode.selection=e,e}}),extension:X.b(""),dottedExtension:X.b({dependencies:["extension"],readOnly:!0,get:Object.assign((function(){var e=this.extension;return e?"."+e:null}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r?"."+r:null}})}),_updateExtension:Ni.f("dottedExtension",(function(e){this.extensionNode.textContent=e||""})),maxLength:X.b({readOnly:!0,dependencies:["dottedExtension"],get:Object.assign((function(){var e=(this.dottedExtension||"").length;return this.MAX_ITEM_NAME_LENGTH-e}),{__CW__getter:function(e,t,n,i){var r=(i.internalGet(this,t[0+n])||"").length;return this.MAX_ITEM_NAME_LENGTH-r}})}),valueWillChangeInputElement:function(e,t){this._updateLayout(t)},keyDown:function(e){switch(e.which){case ji.a.LEFT:case ji.a.RIGHT:this._updateLayout()}return this.inputNode.keyDown(e)},pointerDown:function(e){return this.setPointerCapture(e.pointerId),e.target!==this.inputNode.element&&this._moveCursorToEnd(),!0},pointerMove:function(e){var t=this.pointerMovePreviousSelection,n=this.selection;return n&&n.length&&t&&(n.start!==t.start||n.end!==t.end)&&this._updateLayout(),this.pointerMovePreviousSelection=n,!0},pointerUp:function(e){return this.getPointerCapture(e.pointerId)===this&&(this.releasePointerCapture(e.pointerId),!0)},_moveCursorBy:function(e){if(0!==Math.abs(e)){var t=this.selection,n=t;if(t.start===t.end)n={start:t.start+e,end:t.end+e};else switch(this.getSelectionDirection()){case"forward":n={start:t.start,end:t.end+e};break;case"backward":n={start:t.start+e,end:t.end}}this.selection=n}},_moveCursorToEnd:function(){var e=this.value,t=e&&e.length,n={start:t,end:t};this.selection=n},getSelectionDirection:function(e,t,n){var i=e&&e.selectionDirection&&e.selectionDirection.toLowerCase();return i&&"none"!==i?i:t&&n?(n.start<t.start?this.selectionDirection="backward":n.end>t.end&&(this.selectionDirection="forward"),this.selectionDirection):i},_updateLayout:function(e,t){if(t=t||this.selection,e=e||this.value,t&&void 0!==e){var n=this.inputNode,i=this.extensionNode,r=this.metricsNode,a=this.getSelectionDirection(n,this.previousSelection,t),o=t&&t.end||0;t&&"backward"===a&&(o=t.start),o=Math.max(0,Math.min(o,e.length));var s=this._measureTextWidth(r,e.substr(0,o)),l=this.containerNode.offsetWidth,c=this.dottedExtension,u=c?this._measureTextWidth(r,c):0,d=this._measureTextWidth(r,e);qL&&(s=d-s),n.style.set("width",d+"px");var h=-parseInt(r.style.left)||0,f=qL?l-u-8:8,p=qL?8:l-u-8;s<h+f&&(h=s-f),s>h+p&&(h=s-p);var m=d+u-l+8;h=Math.max(0,Math.min(h,m)),n.style.set("left",-h+"px"),i.style.left=-h+d+"px",this.previousSelection=t}},_measureTextWidth:function(e,t){e.style.width="auto",e.textContent=t;var n=e.offsetWidth+1;return e.style.width="0",n},_makeRoomForExtension:Ni.f("isAttached","containerNode",(function(e,t){e&&t&&this._updateLayout()}))}),XL=["es","ru","el","pt","ja","de","nl","it","id","ms","ca"],JL=function(){var e=a.c().split("-")[0];return XL.indexOf(e)>-1},ZL={aac:a.d("DriveUI.FilesGrid.File.Type.aac"),abbu:a.d("DriveUI.FilesGrid.File.Type.abbu"),ai:a.d("DriveUI.FilesGrid.File.Type.ai"),aiff:a.d("DriveUI.FilesGrid.File.Type.aiff"),aif:a.d("DriveUI.FilesGrid.File.Type.aiff"),apk:a.d("DriveUI.FilesGrid.File.Type.apk"),app:a.d("DriveUI.FilesGrid.File.Type.app"),avi:a.d("DriveUI.FilesGrid.File.Type.avi"),band:a.d("DriveUI.FilesGrid.File.Type.band"),bat:a.d("DriveUI.FilesGrid.File.Type.bat"),bin:a.d("DriveUI.FilesGrid.File.Type.bin"),blend:a.d("DriveUI.FilesGrid.File.Type.blend"),bmp:a.d("DriveUI.FilesGrid.File.Type.bmp"),c:a.d("DriveUI.FilesGrid.File.Type.c"),c4d:a.d("DriveUI.FilesGrid.File.Type.c4d"),class:a.d("DriveUI.FilesGrid.File.Type.class"),cpp:a.d("DriveUI.FilesGrid.File.Type.cpp"),css:a.d("DriveUI.FilesGrid.File.Type.css"),cer:a.d("DriveUI.FilesGrid.File.Type.cer"),csv:a.d("DriveUI.FilesGrid.File.Type.csv"),dae:a.d("DriveUI.FilesGrid.File.Type.dae"),dmg:a.d("DriveUI.FilesGrid.File.Type.dmg"),dng:a.d("DriveUI.FilesGrid.File.Type.dng"),doc:a.d("DriveUI.FilesGrid.File.Type.doc"),docx:a.d("DriveUI.FilesGrid.File.Type.docx"),dxf:a.d("DriveUI.FilesGrid.File.Type.dxf"),eps:a.d("DriveUI.FilesGrid.File.Type.eps"),exe:a.d("DriveUI.FilesGrid.File.Type.exe"),fbx:a.d("DriveUI.FilesGrid.File.Type.fbx"),gif:a.d("DriveUI.FilesGrid.File.Type.gif"),gz:a.d("DriveUI.FilesGrid.File.Type.gz"),h:a.d("DriveUI.FilesGrid.File.Type.h"),hqx:a.d("DriveUI.FilesGrid.File.Type.hqx"),htm:a.d("DriveUI.FilesGrid.File.Type.htm"),html:a.d("DriveUI.FilesGrid.File.Type.htm"),epub:a.d("DriveUI.FilesGrid.File.Type.epub"),ibooks:a.d("DriveUI.FilesGrid.File.Type.ibooks"),icns:a.d("DriveUI.FilesGrid.File.Type.icns"),ico:a.d("DriveUI.FilesGrid.File.Type.ico"),ics:a.d("DriveUI.FilesGrid.File.Type.ics"),indd:a.d("DriveUI.FilesGrid.File.Type.indd"),ipa:a.d("DriveUI.FilesGrid.File.Type.ipa"),iso:a.d("DriveUI.FilesGrid.File.Type.iso"),java:a.d("DriveUI.FilesGrid.File.Type.java"),jpg:a.d("DriveUI.FilesGrid.File.Type.jpg"),js:a.d("DriveUI.FilesGrid.File.Type.js"),key:a.d("DriveUI.FilesGrid.File.Type.key"),keychain:a.d("DriveUI.FilesGrid.File.Type.keychain"),log:a.d("DriveUI.FilesGrid.File.Type.log"),m:a.d("DriveUI.FilesGrid.File.Type.m"),m3u:a.d("DriveUI.FilesGrid.File.Type.m3u"),m4a:a.d("DriveUI.FilesGrid.File.Type.m4a"),m4p:a.d("DriveUI.FilesGrid.File.Type.m4p"),m4r:a.d("DriveUI.FilesGrid.File.Type.m4r"),m4v:a.d("DriveUI.FilesGrid.File.Type.m4v"),mid:a.d("DriveUI.FilesGrid.File.Type.mid"),qt:a.d("DriveUI.FilesGrid.File.Type.qt"),mov:a.d("DriveUI.FilesGrid.File.Type.qt"),mp3:a.d("DriveUI.FilesGrid.File.Type.mp3"),mp4:a.d("DriveUI.FilesGrid.File.Type.mp4"),mpeg:a.d("DriveUI.FilesGrid.File.Type.mpeg"),mpg:a.d("DriveUI.FilesGrid.File.Type.mpeg"),numbers:a.d("DriveUI.FilesGrid.File.Type.numbers"),obj:a.d("DriveUI.FilesGrid.File.Type.obj"),otf:a.d("DriveUI.FilesGrid.File.Type.otf"),pages:a.d("DriveUI.FilesGrid.File.Type.pages"),pdf:a.d("DriveUI.FilesGrid.File.Type.pdf"),perl:a.d("DriveUI.FilesGrid.File.Type.perl"),pkg:a.d("DriveUI.FilesGrid.File.Type.pkg"),png:a.d("DriveUI.FilesGrid.File.Type.png"),pps:a.d("DriveUI.FilesGrid.File.Type.pps"),ppsx:a.d("DriveUI.FilesGrid.File.Type.ppsx"),ppt:a.d("DriveUI.FilesGrid.File.Type.ppt"),pptx:a.d("DriveUI.FilesGrid.File.Type.pptx"),ps:a.d("DriveUI.FilesGrid.File.Type.ps"),psd:a.d("DriveUI.FilesGrid.File.Type.psd"),py:a.d("DriveUI.FilesGrid.File.Type.py"),rar:a.d("DriveUI.FilesGrid.File.Type.rar"),rtf:a.d("DriveUI.FilesGrid.File.Type.rtf"),safariextz:a.d("DriveUI.FilesGrid.File.Type.safariextz"),scpt:a.d("DriveUI.FilesGrid.File.Type.scpt"),sh:a.d("DriveUI.FilesGrid.File.Type.sh"),stl:a.d("DriveUI.FilesGrid.File.Type.stl"),svg:a.d("DriveUI.FilesGrid.File.Type.svg"),swift:a.d("DriveUI.FilesGrid.File.Type.swift"),tar:a.d("DriveUI.FilesGrid.File.Type.tar"),tiff:a.d("DriveUI.FilesGrid.File.Type.tiff"),tif:a.d("DriveUI.FilesGrid.File.Type.tiff"),ttf:a.d("DriveUI.FilesGrid.File.Type.ttf"),txt:a.d("DriveUI.FilesGrid.File.Type.txt"),vcf:a.d("DriveUI.FilesGrid.File.Type.vcf"),vcard:a.d("DriveUI.FilesGrid.File.Type.vcf"),wave:a.d("DriveUI.FilesGrid.File.Type.wave"),wav:a.d("DriveUI.FilesGrid.File.Type.wave"),wma:a.d("DriveUI.FilesGrid.File.Type.wma"),wmv:a.d("DriveUI.FilesGrid.File.Type.wmv"),xcodeproj:a.d("DriveUI.FilesGrid.File.Type.xcodeproj"),xhtml:a.d("DriveUI.FilesGrid.File.Type.xhtml"),xlam:a.d("DriveUI.FilesGrid.File.Type.xlam"),xls:a.d("DriveUI.FilesGrid.File.Type.xls"),xlsx:a.d("DriveUI.FilesGrid.File.Type.xlsx"),xml:a.d("DriveUI.FilesGrid.File.Type.xml"),zip:a.d("DriveUI.FilesGrid.File.Type.zip")},eR=Di.a.extend(Vl,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"nameTextField"},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"nameLabelText",attributes:{escape:"false"}}],classes:["inner"]}],classes:["label","name"],styles:{display:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"isNameTextFieldVisible",truevalue:"none",attributes:{},unit:null,property:"display"}},attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"nameLabelText",attributes:{},attribute:"title"}}}],classes:["header"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"table",children:[{type:"ELEMENT",tagname:"tr",children:[{type:"ELEMENT",tagname:"th",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"sharedByLabel",attributes:{}}],classes:["label-title"],attributes:{scope:"row"}},{type:"ELEMENT",tagname:"td",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"sharedByName",attributes:{}}],classes:["label-value","shared-by-value"]}],classes:["folder-info-row","share-row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldAppearAsShared",truevalue:"appear-as-shared",attributes:{}}]},{type:"ELEMENT",tagname:"tr",children:[{type:"ELEMENT",tagname:"th",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"kindLabel",attributes:{}}],classes:["label-title"],attributes:{scope:"row"}},{type:"ELEMENT",tagname:"td",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"kind",attributes:{}}],classes:["label-value"]}],classes:["folder-info-row"]},{type:"ELEMENT",tagname:"tr",children:[{type:"ELEMENT",tagname:"th",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"sizeLabel",attributes:{}}],classes:["label-title"],attributes:{scope:"row"}},{type:"ELEMENT",tagname:"td",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{}}],classes:["label-value"]}],classes:["folder-info-row"]},{type:"ELEMENT",tagname:"tr",children:[{type:"ELEMENT",tagname:"th",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"whereLabel",attributes:{}}],classes:["label-title"],attributes:{scope:"row"}},{type:"ELEMENT",tagname:"td",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"path",attributes:{}}],classes:["label-value"]}],classes:["folder-info-row"]},{type:"ELEMENT",tagname:"tr",children:[{type:"ELEMENT",tagname:"th",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"modifiedLabel",attributes:{}}],classes:["label-title"],attributes:{scope:"row"}},{type:"ELEMENT",tagname:"td",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"modified",attributes:{}}],classes:["label-value"]}],classes:["folder-info-row"]}],classes:["folder-info-table"]}],classes:["details"]}],classes:["folder-item-info"]}},__QUALIFIED_CLASS_NAME__:"FolderItemInfoView"},isRTL:!1,maxItemNameLength:255,additionalClassNames:Mi.a(["folder-item-info"]),defaultFocusChild:J.c("nameTextField"),kindLabel:a.d("DriveUI.FilesGrid.Panel.FileInfo.Label.Kind"),sizeLabel:a.d("DriveUI.FilesGrid.Panel.FileInfo.Label.Size"),whereLabel:a.d("DriveUI.FilesGrid.Panel.FileInfo.Label.Where"),createdLabel:a.d("DriveUI.FilesGrid.Panel.FileInfo.Label.Created"),modifiedLabel:a.d("DriveUI.FilesGrid.Panel.FileInfo.Label.Modified"),sharedByLabel:a.d("DriveUI.FilesGrid.Panel.FileInfo.Label.SharedBy"),content:X.b(null),nameLabelText:X.b({readOnly:!0,dependencies:["isNameTextFieldVisible","content"],get:Object.assign((function(){var e=this.content;if(!this.isNameTextFieldVisible&&e instanceof Object)return e.name}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[1+n]);if(!i.internalGet(this,t[0+n])&&r instanceof Object)return r.name}})}),isNameTextFieldVisible:X.b({readOnly:!0,dependencies:["content"],get:Object.assign((function(){var e=this.content;return e instanceof Object&&!e.isAppLibrary&&e.canEdit}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r instanceof Object&&!r.isAppLibrary&&r.canEdit}})}),isNameEditingDisabled:X.b({readOnly:!0,defaultValue:!1}),nameTextField:X.b({readOnly:!0,dependencies:["isNameTextFieldVisible","content"],get:Object.assign((function(){if(this.isNameTextFieldVisible){var e=this.content;return this.value=this._lastCommittedValue=e.name,YL.create({additionalClassNames:Mi.a(["name"]),value:e.name,extension:e.isFile?e.extension:"",MAX_ITEM_NAME_LENGTH:this.maxItemNameLength,isDisabled:this.isNameEditingDisabled})}}),{__CW__getter:function(e,t,n,i){if(i.internalGet(this,t[0+n])){var r=i.internalGet(this,t[1+n]);return this.value=this._lastCommittedValue=r.name,YL.create({additionalClassNames:Mi.a(["name"]),value:r.name,extension:r.isFile?r.extension:"",MAX_ITEM_NAME_LENGTH:this.maxItemNameLength,isDisabled:this.isNameEditingDisabled})}}}),didChange:function(){this.selectFileNameText(0,0)}}),value:Y.c(),onNameTextFieldValueDidChange:Ni.f({inputs:["nameTextField.value"],callback:function(e){this.value=e}}),_lastCommittedValue:void 0,onNameTextFieldIsFocusedDidChange:Ni.f({inputs:["nameTextField","nameTextField.isFocused"],callback:function(e,t){if(e instanceof Object&&!t&&this.content){var n=this.value;this.nameTextField.value=n,n!==this._lastCommittedValue&&(this._lastCommittedValue=n)}}}),sharedByName:X.b({dependencies:["content.share","content.owner"],readOnly:!0,get:function(){var e=this.sharedByNameStringWithoutAttribution;if(""===e)return e;e=e.replace(/(\s+)/," ");var t=26;return JL()&&(t=29),function(e,t){var n=(t=Math.max(3,t))>3?3:2;return e.length>t?e.substr(0,t-n)+"\u2026":e}(e,t)}}),selectFileNameText:function(e,t){var n=this.nameTextField;n instanceof Object&&(n.selection={start:e,end:t})},revert:function(){var e=this.content;if(e instanceof Object){var t=this.value=this._lastCommittedValue=e.name,n=this.nameTextField;n instanceof Object&&(n.value=t)}},kind:X.b({readOnly:!0,dependencies:["content"],get:Object.assign((function(){var e,t=this.content;if(t instanceof Object)return t.extension in ZL?e=ZL[t.extension]:t.isFile?e=(e=t.extension)?a.d("DriveUI.FilesGrid.Item.Kind.FileWithExtension",{ext:e.toUpperCase()}):a.d("DriveUI.FilesGrid.Item.Kind.File"):t.isFolder?e=a.d("DriveUI.FilesGrid.Item.Kind.Folder"):t.isAppLibrary&&(e=a.d("DriveUI.FilesGrid.Item.Kind.ApplicationLibrary")),e}),{__CW__getter:function(e,t,n,i){var r,o=i.internalGet(this,t[0+n]);if(o instanceof Object)return o.extension in ZL?r=ZL[o.extension]:o.isFile?r=(r=o.extension)?a.d("DriveUI.FilesGrid.Item.Kind.FileWithExtension",{ext:r.toUpperCase()}):a.d("DriveUI.FilesGrid.Item.Kind.File"):o.isFolder?r=a.d("DriveUI.FilesGrid.Item.Kind.Folder"):o.isAppLibrary&&(r=a.d("DriveUI.FilesGrid.Item.Kind.ApplicationLibrary")),r}})}),size:X.b({readOnly:!0,dependencies:["content"],get:Object.assign((function(){var e=this.content;if(e instanceof Object){var t=e.size;return Number.isFinite(t)?gF(t,{precision:1}):"\u2014"}}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(r instanceof Object){var a=r.size;return Number.isFinite(a)?gF(a,{precision:1}):"\u2014"}}})}),path:X.b({readOnly:!0,dependencies:["content"],get:Object.assign((function(){var e=this.content;return e?tR(this.isRTL,e,140,"13px SNFSText"):""}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r?tR(this.isRTL,r,140,"13px SNFSText"):""}})}),modified:X.b({readOnly:!0,dependencies:["content"],get:Object.assign((function(){var e=this.content;if(e instanceof Object){var t=e.dateModified;return t instanceof Date?a.d("DriveUI.FilesGrid.Item.Info.DateTime.Format",{date:t,dateFormatter:QL}):"\u2014"}}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(r instanceof Object){var o=r.dateModified;return o instanceof Date?a.d("DriveUI.FilesGrid.Item.Info.DateTime.Format",{date:o,dateFormatter:QL}):"\u2014"}}})}),submit:function(){this.sendEvent("folderItemInfoViewCommitEditForValue",this,this.value)},textFieldPerformReturnAction:function(e){this.sendEvent("folderItemInfoViewCommitEditForValue",this,this.value)},textFieldPerformEscapeAction:function(e){this.sendEvent("folderItemInfoViewCancelEditForValue",this,this.value)}});function tR(e,t,n,i){for(var r="",a=t.parent;a;){var o=EL(a.name,n,i);e?(r+=o,a.parent&&(r+=" \u25c2 ")):(r=o+r,a.parent&&(r=" \u25b8 "+r)),a=a.parent}return r}var nR=ri.a.extend({content:X.b(),isNameEditingDisabled:X.b({readOnly:!0,dependencies:["content.canBeRenamed"],get:function(){return!jr.a(this,"content.canBeRenamed")}}),isRTL:!1,maxItemNameLength:255,viewClass:eR,value:Y.c({readOnly:!0,get:function(){return this.view.value}}),revert:function(){this.view.revert()},createView:function(){return this.viewClass.create({content:this.bindingFor("content"),isRTL:this.isRTL,maxItemNameLength:this.maxItemNameLength,isNameEditingDisabled:this.bindingFor("isNameEditingDisabled")})},pointerDown:function(e){return!0},viewDidAppear:function(){var e=this.getPath("view.contentView");e&&e.selectFileNameText(0,0)},staticMembers:{__QUALIFIED_CLASS_NAME__:"FolderItemInfoDialogController"}}),iR=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h2",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"messageTitle",attributes:{}}],classes:["error-title"]},{type:"ELEMENT",tagname:"h3",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"messageSubtitle",attributes:{}}],classes:["error-text"]}],classes:["grid-error-view"]}},__QUALIFIED_CLASS_NAME__:"GridErrorView"}});function rR(e,t){var n=t||"useStrongRef",i=Object(u.useRef)(),r=i.current!==e;i.current=e;var a=Object(u.useRef)(),o=a.current!==n;a.current=n,(r||o)&&e&&e.retain(void 0,n),Object(u.useEffect)((function(){return e?Ft.a((function(){e.release(void 0,n)})):void 0}),[e,n])}var aR=function(){function e(t){var n=t.value,i=t.children;return rR(n,"StoreProvider"),d.a.createElement(e.Context.Provider,{value:n},i)}return e.Context=d.a.createContext(void 0),e}(),oR=function(){function e(t){var n=t.value,i=t.children;return rR(n,"DataManagerProvider"),d.a.createElement(e.Context.Provider,{value:n},d.a.createElement(aR,{value:n},i))}return e.Context=d.a.createContext(void 0),e}(),sR={name:"folder.badge.plus",svgPath:"M 120.654 -32.1777 C 134.082 -32.1777 145.459 -43.4082 145.459 -56.9824 C 145.459 -70.5566 134.229 -81.7871 120.654 -81.7871 C 107.031 -81.7871 95.8496 -70.5566 95.8496 -56.9824 C 95.8496 -43.3105 107.031 -32.1777 120.654 -32.1777 Z M 12.4512 -5.37109 C 12.4512 4.73633 17.627 9.76562 27.7832 9.76562 L 110.742 9.76562 C 119.482 9.76562 124.561 4.6875 124.561 -5.37109 L 124.561 -25.7324 C 123.291 -25.5371 121.973 -25.4395 120.654 -25.4395 C 119.287 -25.4395 118.018 -25.5371 116.699 -25.6836 L 116.699 -5.71289 C 116.699 -0.683594 113.965 1.9043 109.131 1.9043 L 27.9297 1.9043 C 23.0469 1.9043 20.3125 -0.683594 20.3125 -5.76172 L 20.3125 -46.0449 L 91.0645 -46.0449 C 90.1855 -48.3887 89.5996 -50.8789 89.4043 -53.418 L 20.3125 -53.418 L 20.3125 -65.7227 C 20.3125 -70.5566 22.9004 -72.998 27.5391 -72.998 L 38.4766 -72.998 C 41.6992 -72.998 43.6523 -72.2168 46.1426 -70.0684 L 49.1211 -67.627 C 52.2949 -64.9902 54.8828 -64.0137 59.7168 -64.0137 L 89.9902 -64.0137 C 90.5762 -66.7969 91.6016 -69.4824 92.9199 -71.875 L 61.7676 -71.875 C 58.4473 -71.875 56.4453 -72.7051 54.0039 -74.7559 L 51.0254 -77.2461 C 47.8027 -79.9316 45.3125 -80.8594 40.4785 -80.8594 L 25.9277 -80.8594 C 17.3828 -80.8594 12.4512 -75.9766 12.4512 -66.1133 Z M 120.654 -40.8691 C 118.945 -40.8691 117.48 -42.041 117.48 -43.8477 L 117.48 -54.0039 L 108.105 -54.0039 C 106.494 -54.0039 105.127 -55.3711 105.127 -56.9824 C 105.127 -58.5938 106.494 -59.9609 108.105 -59.9609 L 117.48 -59.9609 L 117.48 -70.0684 C 117.48 -71.9238 118.945 -73.0957 120.654 -73.0957 C 122.363 -73.0957 123.828 -71.9238 123.828 -70.0684 L 123.828 -59.9609 L 133.203 -59.9609 C 134.814 -59.9609 136.182 -58.5938 136.182 -56.9824 C 136.182 -55.3711 134.814 -54.0039 133.203 -54.0039 L 123.828 -54.0039 L 123.828 -43.8477 C 123.828 -42.041 122.363 -40.8691 120.654 -40.8691 Z",layoutBox:{viewBox:"0 0 212.646728515625 159.98291015625",width:212.646728515625,height:159.98291015625,translateX:27.36828125000011,translateY:115.221435546875,baseline:115.221435546875,capline:44.761474609375},glyphBox:{viewBox:"0 0 133.0078125 93.1142578125",width:133.0078125,height:93.1142578125,translateX:-12.45117675781239,translateY:81.787109375,baseline:81.787109375,capline:11.3271484375}},lR=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layoutMode,n=void 0===t?"layoutBox":t,i=e.desiredFontSize,r=void 0===i?0:i,a=sR.svgPath,o=sR[n],s=o.viewBox,l=o.height,c=o.width,u=o.translateX,h=o.translateY,f=o.baseline,p=o.capline,m="matrix(1 0 0 1 "+u+" "+h+")",g={viewBox:s,version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:e.style||{},className:e.className||""};if(r>0){var v=f-p,_=r/v,b=l*_;g.style.height=b+"px";var y=c*_;g.style.width=y+"px"}for(var S in g.className+="layoutBox"===n?" layout-box":" glyph-box",e)switch(S){case"layoutMode":case"desiredFontSize":case"className":case"style":break;default:g[S]=e[S]}return d.a.createElement("svg",g,d.a.createElement("g",{transform:m},d.a.createElement("path",{d:a})))};function cR(e){var t=e.variant,n=void 0===t?"standard":t,i=e.className,r=e.id,a=e.style,o=e.description,s=e.nibStyle,l=f()(n,i);return d.a.createElement("ui-activity-indicator",{role:"progressbar",class:l,id:r,style:a,"aria-label":o},d.a.createElement("ui-spinner-nib",{style:s}),d.a.createElement("ui-spinner-nib",{style:s}),d.a.createElement("ui-spinner-nib",{style:s}),d.a.createElement("ui-spinner-nib",{style:s}),d.a.createElement("ui-spinner-nib",{style:s}),d.a.createElement("ui-spinner-nib",{style:s}),d.a.createElement("ui-spinner-nib",{style:s}),d.a.createElement("ui-spinner-nib",{style:s}),d.a.createElement("ui-spinner-nib",{style:s}),d.a.createElement("ui-spinner-nib",{style:s}),d.a.createElement("ui-spinner-nib",{style:s}),d.a.createElement("ui-spinner-nib",{style:s}))}var uR={name:"chevron.right",svgPath:"M 16.8945 7.17773 C 18.1641 7.17773 19.2383 6.68945 20.0684 5.85938 L 58.7891 -31.9824 C 59.7168 -32.9102 60.2051 -34.0332 60.2051 -35.2539 C 60.2051 -36.5234 59.7168 -37.6953 58.7891 -38.5254 L 20.1172 -76.3184 C 19.2383 -77.1973 18.1641 -77.6855 16.8945 -77.6855 C 14.3555 -77.6855 12.4512 -75.7324 12.4512 -73.1934 C 12.4512 -72.0215 12.9395 -70.8496 13.7207 -70.0195 L 49.2676 -35.2539 L 13.7207 -0.488281 C 12.9395 0.341797 12.4512 1.46484 12.4512 2.68555 C 12.4512 5.22461 14.3555 7.17773 16.8945 7.17773 Z",layoutBox:{viewBox:"0 0 212.646728515625 159.98291015625",width:212.646728515625,height:159.98291015625,translateX:69.99521972656248,translateY:115.221435546875,baseline:115.221435546875,capline:44.761474609375},glyphBox:{viewBox:"0 0 47.75390625 84.9111328125",width:47.75390625,height:84.9111328125,translateX:-12.451191406250018,translateY:77.685546875,baseline:77.685546875,capline:7.2255859375}},dR=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layoutMode,n=void 0===t?"layoutBox":t,i=e.desiredFontSize,r=void 0===i?0:i,a=uR.svgPath,o=uR[n],s=o.viewBox,l=o.height,c=o.width,u=o.translateX,h=o.translateY,f=o.baseline,p=o.capline,m="matrix(1 0 0 1 "+u+" "+h+")",g={viewBox:s,version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:e.style||{},className:e.className||""};if(r>0){var v=f-p,_=r/v,b=l*_;g.style.height=b+"px";var y=c*_;g.style.width=y+"px"}for(var S in g.className+="layoutBox"===n?" layout-box":" glyph-box",e)switch(S){case"layoutMode":case"desiredFontSize":case"className":case"style":break;default:g[S]=e[S]}return d.a.createElement("svg",g,d.a.createElement("g",{transform:m},d.a.createElement("path",{d:a})))},hR={name:"chevron.left",svgPath:"M 52.5879 5.81055 C 53.418 6.64062 54.4922 7.12891 55.7617 7.12891 C 58.3008 7.12891 60.2051 5.22461 60.2051 2.68555 C 60.2051 1.46484 59.7168 0.341797 58.9355 -0.488281 L 23.3887 -35.2539 L 58.9355 -70.0195 C 59.7168 -70.8496 60.2051 -72.0215 60.2051 -73.1934 C 60.2051 -75.7324 58.3008 -77.6855 55.7617 -77.6855 C 54.4922 -77.6855 53.418 -77.1973 52.5879 -76.3672 L 13.916 -38.5254 C 12.9883 -37.7441 12.4512 -36.5234 12.4512 -35.2539 C 12.4512 -34.0332 12.9395 -32.9102 13.8672 -31.9824 Z",layoutBox:{viewBox:"0 0 212.646728515625 159.98291015625",width:212.646728515625,height:159.98291015625,translateX:69.99521972656248,translateY:115.221435546875,baseline:115.221435546875,capline:44.761474609375},glyphBox:{viewBox:"0 0 47.75390625 84.9111328125",width:47.75390625,height:84.9111328125,translateX:-12.451191406250018,translateY:77.685546875,baseline:77.685546875,capline:7.2255859375}},fR=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layoutMode,n=void 0===t?"layoutBox":t,i=e.desiredFontSize,r=void 0===i?0:i,a=hR.svgPath,o=hR[n],s=o.viewBox,l=o.height,c=o.width,u=o.translateX,h=o.translateY,f=o.baseline,p=o.capline,m="matrix(1 0 0 1 "+u+" "+h+")",g={viewBox:s,version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:e.style||{},className:e.className||""};if(r>0){var v=f-p,_=r/v,b=l*_;g.style.height=b+"px";var y=c*_;g.style.width=y+"px"}for(var S in g.className+="layoutBox"===n?" layout-box":" glyph-box",e)switch(S){case"layoutMode":case"desiredFontSize":case"className":case"style":break;default:g[S]=e[S]}return d.a.createElement("svg",g,d.a.createElement("g",{transform:m},d.a.createElement("path",{d:a})))},pR={name:"exclamationmark.triangle",svgPath:"M 23.4375 10.8887 L 98.584 10.8887 C 106.885 10.8887 112.061 4.93164 112.061 -2.58789 C 112.061 -4.83398 111.475 -7.12891 110.254 -9.22852 L 72.6074 -74.8047 C 70.0684 -79.248 65.5762 -81.6406 61.0352 -81.6406 C 56.4453 -81.6406 51.9531 -79.248 49.4141 -74.8047 L 11.7676 -9.17969 C 10.5469 -7.08008 9.96094 -4.83398 9.96094 -2.58789 C 9.96094 4.93164 15.1367 10.8887 23.4375 10.8887 Z M 23.4863 3.22266 C 20.1172 3.22266 17.8711 0.439453 17.8711 -2.58789 C 17.8711 -3.4668 18.0176 -4.49219 18.5059 -5.51758 L 56.1035 -71.0938 C 57.1777 -72.9492 59.1309 -73.8281 61.0352 -73.8281 C 62.9395 -73.8281 64.7949 -72.998 65.8691 -71.0938 L 103.418 -5.46875 C 103.955 -4.49219 104.199 -3.4668 104.199 -2.58789 C 104.199 0.439453 101.855 3.22266 98.4863 3.22266 Z M 61.0352 -22.0215 C 63.3789 -22.0215 64.6973 -23.3887 64.7461 -25.9277 L 65.4785 -51.6602 C 65.5273 -54.1504 63.5742 -56.0059 60.9863 -56.0059 C 58.3496 -56.0059 56.4941 -54.1992 56.543 -51.709 L 57.1777 -25.9277 C 57.2266 -23.4375 58.5938 -22.0215 61.0352 -22.0215 Z M 61.0352 -6.15234 C 63.8184 -6.15234 66.3086 -8.39844 66.3086 -11.2305 C 66.3086 -14.1113 63.8672 -16.3086 61.0352 -16.3086 C 58.1543 -16.3086 55.7617 -14.0625 55.7617 -11.2305 C 55.7617 -8.44727 58.2031 -6.15234 61.0352 -6.15234 Z",layoutBox:{viewBox:"0 0 212.646728515625 159.98291015625",width:212.646728515625,height:159.98291015625,translateX:45.31242187499993,translateY:115.221435546875,baseline:115.221435546875,capline:44.761474609375},glyphBox:{viewBox:"0 0 102.10009765625 92.8212890625",width:102.10009765625,height:92.8212890625,translateX:-9.960893554687573,translateY:81.640625,baseline:81.640625,capline:11.1806640625}},mR=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layoutMode,n=void 0===t?"layoutBox":t,i=e.desiredFontSize,r=void 0===i?0:i,a=pR.svgPath,o=pR[n],s=o.viewBox,l=o.height,c=o.width,u=o.translateX,h=o.translateY,f=o.baseline,p=o.capline,m="matrix(1 0 0 1 "+u+" "+h+")",g={viewBox:s,version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:e.style||{},className:e.className||""};if(r>0){var v=f-p,_=r/v,b=l*_;g.style.height=b+"px";var y=c*_;g.style.width=y+"px"}for(var S in g.className+="layoutBox"===n?" layout-box":" glyph-box",e)switch(S){case"layoutMode":case"desiredFontSize":case"className":case"style":break;default:g[S]=e[S]}return d.a.createElement("svg",g,d.a.createElement("g",{transform:m},d.a.createElement("path",{d:a})))},gR=a.a.sharedInstance.isRTL,vR=function(e){return{type:"SHOW_ITEM_SUCCESS",payload:e.reduce((function(e,t){return t.retain(),t.isFolder&&e.push(t.id),t.release(),e}),[])}},_R=function(e){return{type:"SHOW_ITEM_FAIL",payload:e}},bR={isExpanded:!1,isLoading:!1,hasError:!1,data:null};function yR(e,t){switch(t.type){case"HIDE_ITEM":return Object.assign({},e,{isExpanded:!1});case"SHOW_ITEM_REQUEST":return Object.assign({},e,{isExpanded:!0,isLoading:!0,hasError:!1});case"SHOW_ITEM_SUCCESS":return Object.assign({},e,{isLoading:!1,hasError:!1,data:t.payload});case"SHOW_ITEM_FAIL":return Object.assign({},e,{isLoading:!1,hasError:!0,errors:t.payload});default:throw new Error("Unsupported action")}}function SR(e){var t=Object(u.useRef)(!1),n=e.id,i=e.isRootItem,r=void 0!==i&&i,o=e.depth,s=void 0===o?0:o,l=function(e,t){var n=Object(u.useContext)(aR.Context);if(void 0===n)throw new Error("Cannot call useStateFromModel outside of a CW.Store provider (StoreProvider or DataManagerProvider).");var i=Object(u.useRef)(e);i.current=e;var r=Object(u.useRef)(t);r.current=t;var a=Object(u.useState)(0),o=a[0],s=a[1];Object(u.useEffect)(Ft.a((function(){var e=n.listen({inputs:["dataDidChangeForPrimaryKeys"],callback:Ft.a((function(e){var t=e.context,n=i.current,a=r.current;n&&a&&t.has(n)&&t.get(n).has(a)&&s((function(e){return e+1}))}))});return s((function(e){return e+1})),Ft.a((function(){e.disconnect()}))})),[n]);var l=void 0;return e&&t&&(l=n.readDataForPrimaryKey(e,t)),Object(u.useMemo)((function(){return l}),[l,o])}(Md,n),c=Object(u.useReducer)(yR,bR),h=c[0],f=c[1],p=Object(u.useContext)(xR),m=p.props,g=p.state,v=p.dispatch;Object(u.useEffect)((function(){return t.current=!0,r&&f({type:"SHOW_ITEM_REQUEST"}),function(){return t.current=!1}}),[t,r]),Object(u.useEffect)((function(){!0!==h.isLoading&&g.itemToRefreshId!==n||Md.load(n).then((function(e){var n=e.content;if(!n.hasLoadedContent)return n.loadAllContent().then((function(e){var i=e.ok,r=e.data;if(!0===t.current){var a=i?vR(n.visibleContent):_R(r);f(a)}}));!0===t.current&&f(vR(n.visibleContent))})).catch((function(e){!0===t.current&&f(_R([e]))}))}),[n,h.isLoading,g.itemToRefreshId]);var _,b,y={transform:h.isExpanded&&!h.isLoading?gR?"rotate(-90deg)":"rotate(90deg)":"rotate(0deg)"},S=gR?d.a.createElement(fR,{desiredFontSize:14,style:y}):d.a.createElement(dR,{desiredFontSize:14,style:y}),I=!m.selection.every((function(e){return e.parentId!==n&&e.id!==n}))&&!Md.isASystemRootFolder(n);return d.a.createElement("div",{className:"expandable-item "+(r?"root-item":"")},d.a.createElement("div",{className:"title "+(I?"disabled":""),onClick:function(){I||(v(FR(n,m.selection,m.session.browseRootFolder.id)),f(h.isExpanded?{type:"HIDE_ITEM"}:{type:"SHOW_ITEM_REQUEST"}))},style:{paddingInlineStart:40*s+"px",transition:"padding 0 400ms",backgroundColor:(_=g.selectedItemId,b=n,"string"===typeof _&&"string"===typeof b&&_===b?"rgba(217, 217, 217, 1)":"")}},d.a.createElement("span",{className:"item-image"}),d.a.createElement("div",{className:"title-wrapper"},d.a.createElement("span",{className:"title-text"},Md.isASystemRootFolder(n)&&a.d("DriveUI.Common.Application.Title")||l.name),!I&&d.a.createElement("div",{className:"indicators"},h.isLoading&&d.a.createElement(cR,{description:"Item contents loading"}),h.hasError&&!h.isLoading&&d.a.createElement(mR,{desiredFontSize:14}),S))),d.a.createElement("div",{className:"list "+(h.isExpanded?"is-expanded":"is-contracted")},h.data&&h.data.map((function(e){return d.a.createElement(SR,{id:e,key:e,depth:s+1})}))))}function IR(e,t){return e&&e.kindOf&&e.kindOf(t)}function wR(e){var t=e.element,n=Object(u.useRef)(null);return Object(u.useEffect)((function(){t&&n.current.appendChild(t)}),[t]),d.a.createElement("div",{ref:n})}function ER(e){var t=e.parent,n=e.view,i=Object(u.useRef)(t);if(i.current!==t)throw new Error("CoreWebViewComponent: parent prop may not be changed after initial render.");return Object(u.useEffect)((function(){return hi.b((function(){return n.parent=i.current})),function(){n.isDisposed||hi.b((function(){return n.parent=null}))}}),[n]),d.a.createElement(wR,{element:n.element})}var CR=Ft.a((function(e,t){e.isReceivingReactProps=!0;var n=e.beginBatchSet();for(var i in t)n.setIfChanged(i,t[i]);n.end(),e.isReceivingReactProps=!1}));function AR(e){if(IR(e,ri.a))throw new Error("wrapCWView received a CW.ViewController, did you mean to use wrapCWViewController instead?");if(!IR(e,Di.a))throw new Error("wrapCWView requires a CW.View");return function(t){var n=Object(u.useRef)();n.current||hi.b((function(){n.current=e.create()}));var i=Object(u.useContext)(OA).viewParent;return Object(u.useEffect)((function(){CR(n.current,t)}),[t]),d.a.createElement(ER,{parent:i,view:n.current})}}function TR(){return(TR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var OR=AR(ql),DR=AR(So.extend({additionalClassNames:["medium"],displaySize:Aa.REGULAR,forceCenterAlignment:!0})),MR=function(e){var t=e.propsFromContext,n=t.selection,i=[n[0],n[1]];n.length>2&&i.push(n[n.length-1]);for(var r=[],a=0;a<i.length;a++)i[a]&&r.push(i[a].isFolder?d.a.createElement(OR,{content:i[a],key:i[a]._cwStoreId}):d.a.createElement(DR,TR({content:i[a],key:i[a]._cwStoreId},t)));return d.a.createElement("figure",{className:"stacked-showcase"},r)};function NR(e){var t=Object(u.useContext)(xR),n=t.state,i=t.props;return d.a.createElement("div",{className:"showcase-bar"},d.a.createElement(MR,{propsFromContext:i}),d.a.createElement("div",{className:"showcase-text"},n.showcaseText))}var FR=function(e,t,n){var i,r=t.every((function(t){return t.parentId!==e&&t.id!==e})),o=t.length,s=Md.find(e),l=Md.find(n),c=s&&s.name,u=l&&l.name,d=1===o?"Single":"Plural";i=!1!==r&&c&&u&&e&&n&&e!==n?a.d("DriveUI.MoveItems.Header.Specific."+d,{selectionName:c,rootName:u}):a.d("DriveUI.MoveItems.Header.Generic."+d);var h=1===o?t[0].name:a.d("DriveUI.MoveItems.Selection.Plural",{selectionLength:o});return{type:"SET_SELECTED_ITEM_ID",payload:{id:e,moveIsAllowed:r,headerText:i,showcaseText:h}}},LR={selectedItemId:null,moveIsAllowed:!1,isMovingItems:!1,isCreatingFolder:!1,itemToRefreshId:null,data:null,hasError:!1,showcaseText:null,headerText:null};function RR(e,t){switch(t.type){case"SET_SELECTED_ITEM_ID":return Object.assign({},e,{selectedItemId:t.payload.id,moveIsAllowed:t.payload.moveIsAllowed,headerText:t.payload.headerText,showcaseText:t.payload.showcaseText,itemToRefreshId:null});case"MOVE_ITEMS":return Object.assign({},e,{isMovingItems:!0,itemToRefreshId:null});case"CREATE_FOLDER_REQUEST":return Object.assign({},e,{isCreatingFolder:!0,hasError:!1,itemToRefreshId:null});case"CREATE_FOLDER_SUCCESS":return Object.assign({},e,{isCreatingFolder:!1,hasError:!1,itemToRefreshId:null,data:t.payload});case"CREATE_FOLDER_FAIL":return Object.assign({},e,{isCreatingFolder:!1,folderWasCreated:!1,hasError:!0,itemToRefreshId:null,data:t.payload});case"ITEM_CONTENTS_CHANGE":return Object.assign({},e,{itemToRefreshId:t.payload});default:throw new Error("Unsupported action")}}var xR=d.a.createContext();function PR(e){var t=e.session,n=e.selection,i=e.hideModal,r=e.moveDidFail,s=e.createFolder,l=Object(u.useReducer)(RR,LR),c=l[0],h=l[1];return Object(u.useEffect)((function(){h(FR(t.browseRootFolder.id,n,t.browseRootFolder.id))}),[t,n]),Object(u.useEffect)((function(){!0===c.isMovingItems&&(i(),Md.load(c.selectedItemId).then((function(e){return o.okResult(e)})).catch((function(e){return o.failedResult()})).then((function(e){e.ok;var i=e.data;return t.moveItems(n,i)})).then((function(e){var t=e.ok;e.data,t||r()})))}),[i,r,n,t,c.isMovingItems,c.selectedItemId]),Object(u.useEffect)((function(){c.data&&h({type:"ITEM_CONTENTS_CHANGE",payload:c.selectedItemId})}),[c.data,c.selectedItemId]),Object(u.useEffect)((function(){if(!0===c.isCreatingFolder){var e=Md.find(c.selectedItemId);s(e).then((function(e){var t=e.ok,n=e.data,i=t?{type:"CREATE_FOLDER_SUCCESS",payload:n}:function(e){return{type:"CREATE_FOLDER_FAIL",payload:e}}(n);h(i)}))}}),[s,c.isCreatingFolder,c.selectedItemId]),d.a.createElement(xR.Provider,{value:{props:e,state:c,dispatch:h}},d.a.createElement("header",null,d.a.createElement("div",{className:"tool-bar"},d.a.createElement("div",{className:"tool-bar-side"},d.a.createElement(dT,{onActivate:i},a.d("DriveUI.Common.Cancel"))),d.a.createElement("div",{className:"tool-bar-side"},d.a.createElement(dT,{onActivate:function(){return h({type:"CREATE_FOLDER_REQUEST"})}},d.a.createElement(lR,{desiredFontSize:16})),d.a.createElement(dT,{disabled:!1===c.moveIsAllowed,onActivate:function(){return h({type:"MOVE_ITEMS"})}},a.d("DriveUI.Common.Move")))),d.a.createElement("div",{className:"title-bar"},c.headerText),d.a.createElement(NR,null)),d.a.createElement("section",null,d.a.createElement(SR,{id:t.browseRootFolder.id,isRootItem:!0})))}var kR=Ri.a.extend({staticMembers:{show:function(){return kR.create.apply(kR,arguments).show()},__QUALIFIED_CLASS_NAME__:"MoveItemsModalViewController"},init:function(e,t,n,i,r,a,o){Object.defineProperties(this,{_session:{value:e},_selection:{value:t},_createFolderPromise:{value:n},_iconService:{value:i},_showcaseViewPool:{value:r},_thumbnailCanvasFactory:{value:a},_thumbnailStatsReporterService:{value:o}}),this.__s._$SA$init.call(this)},viewClass:Fi.a.extend(Li,{targetModalOverlayPaneClass:Y.c(Jl),animationDuration:500,additionalClassNames:Mi.a(["drive-ui","move-items-modal-background"])}),moveItemsFail:function(){n_.a.show({message:a.d("DriveUI.MoveItems.Fail"),description:a.d("DriveUI.MoveItems.Retry"),primaryButton:{title:a.d("DriveUI.Common.Confirm")}})},contentController:X.b({readOnly:!0,get:function(){var e=this.hide.bind(this),t=this.moveItemsFail.bind(this),n=this._selection&&this._selection.toArray(),i=this._session,r=this._createFolderPromise,a=this._iconService,o=this._showcaseViewPool,s=this._thumbnailCanvasFactory,l=this._thumbnailStatsReporterService;return ri.a.extend({viewClass:DA.extend({render:function(){return d.a.createElement(oR,{value:sr()},d.a.createElement(PR,{session:i,selection:n,hideModal:e,moveDidFail:t,createFolder:r,iconService:a,showcaseViewPool:o,thumbnailCanvasFactory:s,thumbnailStatsReporterService:l}))},staticMembers:{className:"move-items-modal-content-view"}})}).create()}}),__superMap:{_$SA$init:"init"}});function UR(e){var t=e._generatedErrorHandler;return t||(t=function(t){if(!(t&&Array.isArray(t)&&t.length>=1&&t[0].constructor.kindOf(Tf)))throw t;t.forEach((function(t){return e.raiseAlertService.raiseAlertForErrorItem(t)}))},e._generatedErrorHandler=t,t)}var jR,VR,$R,WR=a.a.sharedInstance.isRTL,zR={mixinDependencies:[yL,wL],itemViewClass:Mi.a(VL),viewClass:Mi.a({emptyGenericFolderView:X.b({get:function(){var e=jr.a(this,"viewController.headerViewClass"),t=this.viewController,n=bt.a(e)?GR(e,t.session,t.raiseAlertService,t.showcaseViewPool,t.iconService,t.thumbnailStatsReporterService,t.thumbnailCanvasFactory,t):null;return iR.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"header"}]}}}}).create({messageTitle:a.d("DriveUI.FilesGrid.EmptyFolder.Title"),messageSubtitle:a.d("DriveUI.FilesGrid.EmptyFolder.Subtitle"),header:n})}}),emptyRootView:X.b({get:function(){var e=jr.a(this,"viewController.headerViewClass"),t=this.viewController,n=bt.a(e)?GR(e,t.session,t.raiseAlertService,t.showcaseViewPool,t.iconService,t.thumbnailStatsReporterService,t.thumbnailCanvasFactory,t):null;return iR.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"header"}]}}}}).create({messageTitle:a.d("DriveUI.FilesGrid.EmptyDrive.Title"),messageSubtitle:a.d("DriveUI.FilesGrid.EmptyDrive.Subtitle"),header:n})}})}),_sortControl:Y.c({readOnly:!0,get:function(){var e=this,t=this._sortOptions.map((function(t){return Pi.a.create(Object.assign({},t,{target:e,action:"performSortByControlAction"}))})),n={title:a.d("DriveUI.FilesGrid.SortButtonTitle.Cancel"),isCancel:!0};return t.push(n),KL.create({buttons:t,anchor:this.sortByActionMenuButtonView,primaryInteractionMode:this._primaryInteractionMode,sizeClassHorizontal:this.bindingFor("_sizeClassHorizontal"),sizeClassVertical:this.bindingFor("_sizeClassVertical")})}}),_infoDialogController:X.b({strong:!0,readOnly:!0,get:function(){return nR.create({maxItemNameLength:this.fileSystem.MAX_ITEM_NAME_LENGTH,isRTL:WR})}}),infoPopoverControllerClass:Ri.a.extend({viewClass:Fi.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",attributes:{"aria-role":"dialog"}}}},additionalClassNames:["drive-ui","files-grid-info-dialog"],defaultFocusChild:J.c("contentView"),isFocusable:!0,tabIndex:-1}),shouldAutosize:!1,folderItemInfoViewCommitEditForValue:function(){this.dismissModalDialog()},folderItemInfoViewCancelEditForValue:function(){this.dismissModalDialog()},modalBackgroundWasClicked:function(){this.dismissModalDialog()},modalDialogDidDismiss:function(){var e=this,t=arguments;e.__s._$1l5$modalDialogDidDismiss.apply(e,t),this.owningViewController.onInfoPopoverDidHide()},__superMap:{_$1l5$modalDialogDidDismiss:"modalDialogDidDismiss"}}),infoPopoverController:X.b({strong:!0,readOnly:!0,get:function(){return this.infoPopoverControllerClass.create({desiredSize:R_.a.create({height:1/0}),contentController:this._infoDialogController,owningViewController:this})}}),showCreateFolderModal:function(e){var t=e||this.session.currentWorkingDirectory,n=a.d("DriveUI.Common.NewFolder"),i=Md.create({parent:this.session.currentWorkingDirectory,id:"FOLDER::undefined::undefined",type:wa.FOLDER,name:a.d("DriveUI.FilesGrid.Default.FolderName.NotNumbered.LowerCase")}),r=this._getFileNameValidationResult.bind(this),o=this._createFolderPromise(t).bind(this);return this._showNamingModal(n,i,r,o)},showRenameItemModal:function(e){var t=this,n=e.content,i=a.d("DriveUI.Common.Rename."+function(e){var t=e.type,n=e.extension;switch(t){case wa.FOLDER:case wa.APP_LIBRARY:return"Folder";case wa.FILE:switch(n){case xF.pages:return"Document";case xF.numbers:return"Spreadsheet";case xF.key:case xF.keynote:return"Presentation";default:return"File"}}}(n)),r=this._renameItemPromise.bind(this);return this._showNamingModal(i,n,(function(e,n){return e.name===n?o.okResult():t._getFileNameValidationResult(e,n)}),r)},performMoveItemsAction:function(){kR.show(this.session,this.selection,this.showCreateFolderModal.bind(this),this.iconService,this.showcaseViewPool,this.thumbnailCanvasFactory,this.thumbnailStatsReporterService)},_showNamingModal:function(e,t,n,i){var r=[this.iconService,this.showcaseViewPool,this.thumbnailCanvasFactory,this.thumbnailStatsReporterService,this.bindingFor("_sizeClassVertical"),this.bindingFor("_sizeClassHorizontal")],a=this.fileSystem.loggingService;return Jl.show.apply(Jl,r.concat([e,t,n,i,a]))},_createFolderPromise:function(e){return function(t,n){var i=this,r=this.fileSystem.loggingService;return this.session.createFolder(n,e).then((function(t){if(!t.ok){var n=t.data[0];r.recordStat("FailedToCreateFolder",{op:"create_folder",conflictType:n.details.conflictType.name,dest_isChainedToParent:e.isChainedToParent?"true":"false",dest_isSharedByMe:e.isSharedByMe?"true":"false",dest_isSharedToMe:e.isSharedToMe?"true":"false",dest_isSharedDirectly:e.isSharedDirectly?"true":"false",dest_isSharedIndirectly:e.isSharedIndirectly?"true":"false"}),UR(i)(t.data)}return o.okResult(t)}))}},_renameItemPromise:function(e,t){var n=this;return this._tryCommittingNameToFolderItem(t,e).then((function(e){return e.ok?n.isAttached&&(n.folderContent.startRemoteSynchronization(),n.startWatchingShareRecord()):UR(n)(e.data),o.okResult(e)}))},_getFileNameValidationResult:function(e,t){var n=this.session.validateRenameItem(e,t);return!0===n?(UR(this)([n]),o.failedResult()):o.okResult()}},GR=function(e,t,n,i,r,a,o,s){var l=e.create(),c=l.element.style;return c.width="100%",c.top="0",l.folderLeftViews=s.gridHeadToolbarButtonsFactory(),l.session=t,l},HR=Ge.a.extend(Ni.a,{title:Object(X.b)({type:"string"}),titleIsAlwaysLTR:Object(X.b)({defaultValue:!1,type:"boolean"}),iconClass:Object(X.b)({type:"string"}),isDisabled:Object(X.b)({defaultValue:!1,type:"boolean"}),hasCheckmark:Object(X.b)({defaultValue:!1,type:"boolean"}),shouldEscapeTitle:Object(X.b)({defaultValue:!0,type:"boolean"}),ariaLabel:Object(X.b)({type:"string"}),staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuItem"}}),KR=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"inputNode"},{type:"ELEMENT",tagname:"span",name:"metricsNode",classes:["br-resizer"]}],classes:["br-text-area"]}},__QUALIFIED_CLASS_NAME__:"ResizingTextArea"},inputNode:X.b({readOnly:!0,defaultValue:ut.b(Vi.extend({staticMembers:{template:{type:"ELEMENT",tagname:"textarea",classes:["cw-text-field",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isFocused",truevalue:"cw-focused",attributes:{}}],attributes:{type:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"type",attributes:{},attribute:"type"},maxlength:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"maxLength",attributes:{},attribute:"maxlength"},autocomplete:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"autocomplete",attributes:{},attribute:"autocomplete"},autocorrect:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"autocorrect",attributes:{},attribute:"autocorrect"},autocapitalize:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"autocapitalize",attributes:{},attribute:"autocapitalize"},spellcheck:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"spellcheck",attributes:{},attribute:"spellcheck"},placeholder:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"placeholder",attributes:{},attribute:"placeholder"},"aria-invalid":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"hasInvalidValue",attributes:{},attribute:"aria-invalid"},id:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"id",attributes:{},attribute:"id"}}}},maxLength:255}))}),value:X.b({dependencies:["inputNode.value"],get:Object.assign((function(){return this.inputNode.value}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])}}),set:Object.assign((function(e){return this.inputNode.value=e,e}),{__CW__setter:function(e,t,n,i,r){return n[0+i]=e,e}}),didChange:function(e){var t=this._measureTextWidth(e);this.inputNode.style.set("width",t.width+"px"),this.inputNode.style.set("height",t.height+"px")},writeDependencySetPathMap:[!0]}),keyDown:function(e){var t=this.inputNode.isIMEInputActive;switch(e.which){case ji.a.RETURN:t||this.sendEvent("textFieldPerformReturnAction",this);break;case ji.a.ESC:t||this.sendEvent("textFieldPerformEscapeAction",this)}return!0},isDisabled:X.b(),isFocused:X.b({dependencies:["inputNode.isFocused"],get:Object.assign((function(){return this.inputNode.isFocused}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])}}),set:Object.assign((function(e){return this.inputNode.isFocused=e,e}),{__CW__setter:function(e,t,n,i,r){return n[0+i]=e,e}}),writeDependencySetPathMap:[!0]}),focus:function(){var e=this,t=arguments;e.__s._$of$focus.apply(e,t),this.inputNode.focus()},select:function(){this.inputNode.select()},pointerDown:function(){return!0},_measureTextWidth:function(e){var t=this.metricsNode;t.style.width="auto",t.textContent=e;var n=t.offsetWidth;return n=n>=128?128:n+1,t.style.width=n+"px",{width:n,height:t.offsetHeight}},__superMap:{_$of$focus:"focus"}}),QR={mixinDependencies:[jL],isInfoButtonVisible:X.b({readOnly:!0,dependencies:["content","isSelected","content.transactionState"],get:Object.assign((function(){var e=this.content;return e instanceof Object&&this.isSelected&&e.transactionState===Jr.Prepared}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r instanceof Object&&i.internalGet(this,t[1+n])&&r.transactionState===Jr.Prepared}})}),infoButton:X.b({readOnly:!0,strong:!0,defaultValue:ut.b(PL.extend(Ta,{staticMembers:{className:"info-button"},tabIndex:-1,tooltip:a.d("DriveUI.FilesGrid.Cell.Info.Tooltip"),ariaHasPopup:"dialog",visible:J.c("parent.isInfoButtonVisible"),action:"activateItemViewInfo",context:J.c("parent")}))}),isTitleButtonDisabled:X.b({readOnly:!0,dependencies:["isDisabled","content.transactionState"],get:Object.assign((function(){return this.isDisabled||this.content.transactionState===Jr.Committing}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])||i.internalGetPath(this,t[1+n])===Jr.Committing}})}),titleView:X.b({readOnly:!0,strong:!0,dependencies:["isEditing"],get:Object.assign((function(){return this.isEditing?this.titleTextField:this.titleButton}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?this.titleTextField:this.titleButton}})}),titleButton:X.b({readOnly:!0,strong:!0,defaultValue:ut.b(Pi.a.extend(Ta,{additionalClassNames:Mi.a(["link"]),tabIndex:-1,title:J.c("parent.truncatedName"),ariaLabel:J.c("parent.truncatedName"),tooltip:J.c("parent.content.fullName"),isDisabled:J.c("parent.isTitleButtonDisabled"),action:"activateItemViewTitle",context:J.c("parent")}))}),_prevIsEditing:!1,isEditing:X.b({defaultValue:!1,didChange:function(e){var t=this._prevIsEditing,n=this.titleTextField;e?(this.titleTextField.value=this.content.name,n.select(),n.focus(),this.sendEvent("filesGridCellDidBeginEditMode",this)):!e&&t&&(this.focus(),n.value=void 0,this.sendEvent("filesGridCellDidEndEditMode",this)),this._prevIsEditing=e}}),titleTextField:X.b({readOnly:!0,strong:!0,get:function(){return KR.create({additionalClassNames:Mi.a(["edit"]),MAX_ITEM_NAME_LENGTH:this.MAX_ITEM_NAME_LENGTH})}}),beginEditing:function(){this.isEditing=!0},endEditingIfNeeded:function(e){this.isEditing&&this.endEditing(e)},endEditing:function(e){e?this._commitEditing():this._deactiveEditing()},_prevTitleTextFieldIsFocused:!1,_titleTextFieldFocusDidChange:Ni.f("titleTextField.isFocused",(function(e){!1===e&&!0===this._prevTitleTextFieldIsFocused&&this.isEditing&&this._commitEditing(),this._prevTitleTextFieldIsFocused=e})),_deactiveEditing:function(){this.isEditing=!1},_commitEditing:function(){if(this.isEditing){var e=this.content,t=this.titleTextField.value;if("string"===typeof t){var n=this.session.validateRenameItem(e,t);!1===n?(this.sendEvent("filesGridCellPerformContentEditCommitForValue",this,e,t),this._deactiveEditing()):(this._cancelEditing(),this.raiseAlertService.raiseAlertForErrorItem(n))}}},_cancelEditing:function(){this.isEditing&&(this.sendEvent("filesGridCellPerformContentEditCancelForValue",this,this.titleTextField.value),this._deactiveEditing())},textFieldPerformReturnAction:function(e){this._commitEditing()},textFieldPerformEscapeAction:function(e){this._cancelEditing()},itemViewDidExit:function(){var e=this,t=arguments;this.endEditingIfNeeded(!0),e.__s._$2HZ$itemViewDidExit.apply(e,t)},isDraggable:X.b({readOnly:!0,dependencies:["isEditing","isDisabled"],get:Object.assign((function(){return!this.isEditing&&!this.isDisabled}),{__CW__getter:function(e,t,n,i){return!i.internalGet(this,t[0+n])&&!i.internalGet(this,t[1+n])}})}),__superMap:{_$2HZ$itemViewDidExit:"itemViewDidExit"}},qR={mixinDependencies:[Me.a],shouldHighlightMenuItem:De.a.define(),willHighlightMenuItem:null,didHighlightMenuItem:null,willUnhighlightMenuItem:null,didUnhighlightMenuItem:null,shouldCommitMenuWithItem:De.a.define(),willCommitMenuWithItem:null,didCommitMenuWithItem:null},YR=Ge.a.extend({staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuDividerItem"}}),XR={mixinDependencies:[qR],shouldHighlightMenuItem:function(e,t){return t.constructor.kindOf(HR)?!t.isDisabled:!t.constructor.kindOf(YR)},shouldUnhighlightMenuItem:function(e,t){return!0},shouldCommitMenuWithItem:function(e,t){return t.constructor.kindOf(HR)?!t.isDisabled:!t.constructor.kindOf(YR)}},JR=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"cw-menu-divider-item-view",attributes:{role:"separator"}},__QUALIFIED_CLASS_NAME__:"MenuDividerItemView"}}),ZR=TS.extend({dividerRowHeight:Object(X.b)(),staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuListLayoutMetrics"}}),ex=Object(ne.b)("Direction",{EAST:0,NORTHEAST:45,NORTH:90,NORTHWEST:135,WEST:180,SOUTHWEST:225,SOUTH:270,SOUTHEAST:315}),tx=ES.extend({staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuDividerItemCell"}}),nx=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"cw-menu-item-view",children:[{type:"ELEMENT",tagname:"div",classes:["checkmark"]},{type:"ELEMENT",tagname:"div",classes:["icon",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"content.iconClass",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"displayTitle",attributes:{}}],classes:["title",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"content.titleIsAlwaysLTR",truevalue:"is-always-ltr",attributes:{}}]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"content.hasCheckmark",truevalue:"has-checkmark",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasIconClass",truevalue:"has-icon-class",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"content.isDisabled",truevalue:"cw-disabled",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHighlighted",truevalue:"cw-highlighted",attributes:{}}],attributes:{id:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"elementGUID",attributes:{},attribute:"id"},role:"menuitem"}}},__QUALIFIED_CLASS_NAME__:"MenuItemView"},isHighlighted:Object(X.b)({defaultValue:!1,type:Boolean}),ariaHidden:Object(X.b)(Object(J.c)("isPooledInDom")),ariaLabel:Object(X.b)(Object(J.c)("content.ariaLabel")),isPooledInDom:Object(X.b)(),content:Object(X.b)({type:HR}),elementGUID:Object(X.b)({type:"string",defaultValue:function(){return Object(Zr.a)(this)+"MenuItemView"}}),displayTitle:Object(X.b)({dependencies:["content","content.title","content.shouldEscapeTitle"],readOnly:!0,get:Object.assign((function(){var e=this.content;if(e){var t=e.shouldEscapeTitle,n=e.title;return t?Object(vI.b)(n):n}return""}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(r){var a=r.shouldEscapeTitle,o=r.title;return a?Object(vI.b)(o):o}return""}})}),hasIconClass:Object(X.b)({dependencies:["content","content.iconClass"],readOnly:!0,get:Object.assign((function(){var e=this.content;return!(!e||Object(Nt.a)(e.iconClass))}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return!(!r||Object(Nt.a)(r.iconClass))}})})}),ix=Di.a.extend(pb.a,{staticMembers:{template:{type:"ELEMENT",tagname:"cw-repeater-button"},__QUALIFIED_CLASS_NAME__:"RepeaterButton"},additionalClassNames:Object(ut.b)([]),period:Object(X.b)({defaultValue:16.66666667,didChange:function(e){this.timer.delay=e}}),timer:Object(Y.c)({defaultValue:Object(ut.b)(yh.a,{action:"triggerButtonAction",target:void 0,timesToFire:1/0}),strong:!0}),pointerEnter:function(e){this.timer.start()},pointerLeave:function(e){this.timer.stop()}}).extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",classes:["arrow"]}],classes:["scroll",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"directionClassname",attributes:{}}],styles:{display:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"none",falsevalue:"flex",attributes:{},unit:null,property:"display"}}}},__QUALIFIED_CLASS_NAME__:"ScrollRepeaterButton"},action:"scrollInDirection",contextKeys:Object(ut.b)(["direction"]),period:60,direction:Object(X.b)({defaultValue:ex.NORTH,type:ex}),directionClassname:Object(X.b)({dependencies:["direction"],readOnly:!0,type:"string",get:Object.assign((function(){return"direction-"+this.direction.value+"\xb0"}),{__CW__getter:function(e,t,n,i){return"direction-"+i.internalGet(this,t[0+n]).value+"\xb0"}})})}),rx=Di.a.extend(Zy,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"startScrollButton"},{type:"MULTIVIEWOUTLET",tagname:"views",name:"itemViews",classes:["collection-content"]},{type:"VIEWOUTLET",tagname:"view",name:"endScrollButton"}],classes:["cw-collection-view","cw-menu-list-view"],attributes:{role:"menu","aria-activedescendant":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"activeDescendant",attributes:{},attribute:"aria-activedescendant"}}},__QUALIFIED_CLASS_NAME__:"MenuListView"},activeDescendant:Object(X.b)({type:String}),isFocusable:!0,endScrollButton:Object(X.b)({defaultValue:Object(ut.b)(ix.extend({direction:ex.SOUTH})),strong:!0,downstreamBindings:{isDisabled:"(owner).endScrollButtonIsDisabled"}}),endScrollButtonIsDisabled:Object(X.b)({readOnly:!0,dependencies:["canScrollVertically","height","scrollMaxY"],get:Object.assign((function(){return!this.canScrollVertically||this.scrollMaxY===this.height}),{__CW__getter:function(e,t,n,i){return!i.internalGet(this,t[0+n])||i.internalGet(this,t[2+n])===i.internalGet(this,t[1+n])}})}),startScrollButton:Object(X.b)({defaultValue:Object(ut.b)(ix.extend({direction:ex.NORTH})),strong:!0,downstreamBindings:{isDisabled:"(owner).startScrollButtonIsDisabled"}}),startScrollButtonIsDisabled:Object(X.b)({readOnly:!0,dependencies:["canScrollVertically","scrollHeight","scrollMaxY"],get:Object.assign((function(){return!this.canScrollVertically||this.scrollHeight===this.scrollMaxY}),{__CW__getter:function(e,t,n,i){return!i.internalGet(this,t[0+n])||i.internalGet(this,t[1+n])===i.internalGet(this,t[2+n])}})}),didScrollBy:function(e,t,n){this.viewController.sendEvent("didScrollBy",e,t,n)},_scrollBy:function(e,t){this.viewController.sendEvent("didScroll",e,t)}}),ax=by.b.Began,ox=by.b.Ended,sx=fS.extend({mixinDependencies:[_y.a,gS],commitDurations:Object(Y.c)({defaultValue:Object(ut.b)(Array,[50,50]),type:Array}),commitOnPointerDown:Object(X.b)({defaultValue:!1,type:Boolean}),commitTimeoutId:Object(X.b)(null),desiredSize:Object(X.b)({strong:!0,dependencies:["collection","collection.contentsDidChangeUntracked","isAttached","layoutController","layoutDelegate","layoutMetrics","layoutMetrics.bottomPadding","layoutMetrics.rowHeight","layoutMetrics.dividerRowHeight","layoutMetrics.rowSpacing","layoutMetrics.topPadding","maximumWidth","minimumWidth"],readOnly:!0,get:Object.assign((function(){var e=0,t=0,n=this.collection;if(n&&this.isAttached){var i=this.layoutController,r=this.layoutDelegate,a=this.layoutMetrics,o=this.maximumWidth,s=this.minimumWidth,l=this.view;if(a){t+=a.topPadding+a.bottomPadding;var c=n.length;t+=a.rowSpacing*(c-1)}var u,d=l.style,h=d.getInline("position"),f=d.getInline("width"),p=d.getInline("height");for(d.set({position:"absolute",width:window.innerWidth+"px",height:window.innerHeight+"px"}),u=n.startHandle;u.isValid;u=u.next){var m=r.cellForHandle(u),g=m.cellType,v=("item"===g?r.sizeForItemNaturally:"divider-item"===g?r.sizeForDividerItem:r.sizeForCell).call(r,i,m);e=Math.max(v.width,e),t+=v.height}e=Math.min(Math.max(e,s),o),d.set({position:h,width:f,height:p})}return R_.a.create(e,t)}),{__CW__getter:function(e,t,n,i){var r=0,a=0,o=i.internalGet(this,t[0+n]);if(o&&i.internalGet(this,t[2+n])){var s=i.internalGet(this,t[3+n]),l=i.internalGet(this,t[4+n]),c=i.internalGet(this,t[5+n]),u=i.internalGet(this,t[11+n]),d=i.internalGet(this,t[12+n]),h=this.view;if(c){a+=c.topPadding+c.bottomPadding;var f=o.length;a+=c.rowSpacing*(f-1)}var p,m=h.style,g=m.getInline("position"),v=m.getInline("width"),_=m.getInline("height");for(m.set({position:"absolute",width:window.innerWidth+"px",height:window.innerHeight+"px"}),p=o.startHandle;p.isValid;p=p.next){var b=l.cellForHandle(p),y=b.cellType,S=("item"===y?l.sizeForItemNaturally:"divider-item"===y?l.sizeForDividerItem:l.sizeForCell).call(l,s,b);r=Math.max(S.width,r),a+=S.height}r=Math.min(Math.max(r,d),u),m.set({position:g,width:v,height:_})}return R_.a.create(r,a)}})}),dividerItemViewClass:Object(X.b)(JR),highlightedCell:Object(X.b)({dependencies:["collection","highlightedItem","layoutDelegate"],type:ES,writeDependencies:["highlightedItem"],get:Object.assign((function(){var e=null,t=this.collection,n=this.highlightedItem,i=this.layoutDelegate;if(t&&i){var r=t.indexOf(n);if(r>=0){var a=t.startHandle.at(r);e=i.cellForHandle(a)}}return e}),{__CW__getter:function(e,t,n,i){var r=null,a=i.internalGet(this,t[0+n]),o=i.internalGet(this,t[1+n]),s=i.internalGet(this,t[2+n]);if(a&&s){var l=a.indexOf(o);if(l>=0){var c=a.startHandle.at(l);r=s.cellForHandle(c)}}return r}}),set:Object.assign((function(e){this.highlightedItem=e?e.handle.value:null}),{__CW__setter:function(e,t,n,i,r){n[0+i]=e?e.handle.value:null}}),writeDependencySetPathMap:[!1]}),highlightedItem:Object(X.b)(),isCommitting:Object(X.b)({dependencies:["commitTimeoutId"],readOnly:!0,get:Object.assign((function(){return Object(bt.a)(this.commitTimeoutId)}),{__CW__getter:function(e,t,n,i){return Object(bt.a)(i.internalGet(this,t[0+n]))}})}),isFocusable:!0,itemViewClass:Object(X.b)(nx),maximumWidth:Object(X.b)(1/0),minimumWidth:Object(X.b)(50),previousHighlightedCell:null,menuDelegate:Object(X.b)({defaultValue:Object(ut.b)(Ge.a.extend(XR)),type:qR}),layoutDelegate:Object(X.b)({defaultValue:Object(ut.b)(MS.extend({staticMembers:{LayoutMetricsClass:ZR},dividerItemCellClass:tx,cellClassKeysByCellType:Object(Mi.a)((jR={},jR["divider-item"]="dividerItemCellClass",jR)),sizeKeyByCellType:Object(Mi.a)((VR={},VR["divider-item"]="sizeForDividerItem",VR)),cellForHandle:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"item",n=this,i=e.value;return i.instanceOf(YR)&&(t="divider-item"),n.__s._$3Ty$cellForHandle.call(n,e,t)},sizeForItemNaturally:function(e,t){return R_.a.create({height:e.layoutMetrics.rowHeight,width:Math.ceil(lx(e,t))})},sizeForDividerItem:function(e,t){return R_.a.create({height:e.layoutMetrics.dividerRowHeight,width:e.viewportWidth})},__superMap:{_$3Ty$cellForHandle:"cellForHandle"}}))}),presenter:Object(X.b)({defaultValue:Object(ut.b)(LS.extend({itemViewClass:Object(X.b)(nx),dividerItemViewClass:Object(X.b)(JR),viewClassKeysByCellType:Object(Mi.a)(($R={},$R["divider-item"]="dividerItemViewClass",$R)),itemViewDidMove:function(e,t){var n=this,i=arguments;n.__s._$49H$itemViewDidMove.apply(n,i),t===this.owner.highlightedCell?e.isHighlighted=!0:e.isHighlighted=!1},viewForViewClass:function(){var e=this,t=arguments,n=e.__s._$4FV$viewForViewClass.apply(e,t),i=bS.create({event:"commitFromTap",delegate:this.owner});return n.addGestureRecognizer(i),n},__superMap:{_$49H$itemViewDidMove:"itemViewDidMove",_$4FV$viewForViewClass:"viewForViewClass"}})),downstreamBindings:{itemViewClass:"(owner).itemViewClass",dividerItemViewClass:"(owner).dividerItemViewClass"}}),viewLayout:Object(X.b)({type:Object}),cellForEvent:function(e){var t=Object(PI.c)(e);return this.presenter.cellForView(t)},commit:function(){var e=this.highlightedCell;e?this.commitWithCell(e):this.completeCommitWithItem()},commitFromTap:function(e){var t=e.state,n=e.view;if(this.isCommitting)return!1;if(t===ax||t===ox){var i=this.commitOnPointerDown;if((t!==ax||i)&&(t!==ox||!i)){var r=this.presenter.cellForView(n);r&&"item"===r.cellType&&this.commitWithCell(r)}}},commitWithCell:function(e){var t=e.handle.value,n=this.menuDelegate;if(n.shouldCommitMenuWithItem(this,t)){n.willCommitMenuWithItem&&n.willCommitMenuWithItem(this,t);var i=this.presenter.viewForCell(e);if(i){var r=this.commitDurations;this.flashCommittingViewAndComplete(i,r,t)}else this.completeCommitWithItem(t)}},completeCommitWithItem:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.commitTimeoutId=Object(ft.a)((function(){var n=e.menuDelegate;e.owner.dismissWithItem(t).then((function(){e.isDisposed||(e.commitTimeoutId=null)})),n.didCommitMenuWithItem&&n.didCommitMenuWithItem(e,t)}),n)},didScrollBy:function(e,t,n){if(n&&!this.isCommitting){var i,r=this.collection,a=this.highlightedCell,o=this.layoutController,s=this.layoutDelegate;if(a)i=a;else{var l=o.visibleCells;i=s.topMostItem(o,l)}var c=n.nativeEvent.clientY-(this.viewLayout.top+i.top);if(c>0&&(c=Math.max(c-i.height,0)),0!==c){var u=s.setUpCellAtDistance(o,r,i,0,c);this.highlightCell(u)}}},flashCommittingViewAndComplete:function(e,t,n){var i=this;t.length?this.commitTimeoutId=Object(ft.a)((function(){e.isHighlighted=!e.isHighlighted,i.flashCommittingViewAndComplete(e,t.slice(1),n)}),t[0]):this.completeCommitWithItem(n,50)},highlightCell:function(e){var t=!1,n=this.highlightedCell;if(e&&e!==n){var i=this.beginBatchSet();if(this.unhighlightHighlightedCell()){var r=this.menuDelegate,a=e.handle.value;r.shouldHighlightMenuItem(this,a)&&(r.willHighlightMenuItem&&r.willHighlightMenuItem(this,a),this.highlightedCell=e,r.didHighlightMenuItem&&r.didHighlightMenuItem(this,a),t=!0)}i.end()}return t},unhighlightHighlightedCell:function(){var e=!0,t=this.highlightedCell;if(t&&t.isLaidOut){var n=this.menuDelegate,i=t.handle.value;n.shouldUnhighlightMenuItem(this,i)?(n.willUnhighlightMenuItem&&n.willUnhighlightMenuItem(this,i),this.highlightedCell=null,n.didUnhighlightMenuItem&&n.didUnhighlightMenuItem(this,i)):e=!1}return e},measureViewport:function(){var e=this,t=arguments;if(e.__s._$6pa$measureViewport.apply(e,t),this.isAttached){var n=this.view;if(n){var i=n.element;i&&(this.viewLayout=i.getBoundingClientRect())}}},pointerMove:function(e){if(this.isCommitting)return!1;var t=this.cellForEvent(e);this.highlightCell(t)},pointerCancel:function(e){this.unhighlightHighlightedCell()},pointerOut:function(e){this.unhighlightHighlightedCell()},scrollInDirection:function(e){switch(e){case ex.NORTH:this.scrollAnItemBack();break;case ex.SOUTH:this.scrollAnItemForward();break;default:throw new ze.a("CW.MenuListViewController does not support scrolling in the direction, "+e+".")}},viewClass:rx,highlightNextItem:function(){var e,t=this.highlightedCell;for(e=t?t.handle.next:this.collection.startHandle;e&&e.isValid;){var n=this.layoutDelegate.cellForHandle(e);if(n.instanceOf(tx))e=e.next;else{if(this.highlightCell(n)){this.scrollToItem(e.value);break}e=e.next}}},highlightPreviousItem:function(){var e,t=this.highlightedCell;for(e=t?t.handle.previous:this.collection.handleProvider.endHandle;e&&e.isValid;){var n=this.layoutDelegate.cellForHandle(e);if(n.instanceOf(tx))e=e.previous;else{if(this.highlightCell(n)){this.scrollToItem(e.value);break}e=e.previous}}},keyDown:function(e){if(this.isCommitting)return!1;var t=!0,n=this.highlightedCell;switch(e.which){case ji.a.DOWN:this.highlightNextItem();break;case ji.a.UP:this.highlightPreviousItem();break;case ji.a.LEFT:case ji.a.RIGHT:e.preventDefault();break;case ji.a.ENTER:case ji.a.SPACE:n?this.commitWithCell(n):t=!1;break;default:t=!1}return t},scrollAnItemBack:function(){var e=this.layoutController.visibleCells.objectAt(0),t=this.layoutDelegate.positionNextCell(this.layoutController,e,-1);t?this.scrollBy(0,t.height+10):this.scrollBy(0,e.height+10),this.update()},scrollAnItemForward:function(){var e=this.layoutController.visibleCells.lastItem,t=this.layoutDelegate.positionNextCell(this.layoutController,e,1);t?this.scrollBy(0,-t.height-10):this.scrollBy(0,-e.height-10),this.update()},highlightedCellDidChange:Object(Ni.f)("highlightedCell",(function(e){var t=this.presenter,n=this.previousHighlightedCell;if(n){var i=t.viewForCell(n);i&&(i.isHighlighted=!1)}if(e){var r=t.viewForCell(e);r&&(r.isHighlighted=!0,this.view.activeDescendant=r.elementGUID)}this.previousHighlightedCell=e})),__superMap:{_$6pa$measureViewport:"measureViewport"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuListViewController"}});function lx(e,t){var n=e.presenter,i=n.itemViewClassForItem(t),r=n.viewForCell(t,i),a=!r.isAttached;a&&(n.cellDidEnter(t),n.cellDidMove(t));var o=r.style,s=o.get("width");o.set("width","");var l=Object(mb.a)(r.element);return o.set("width",s),a&&n.cellDidExit(t),l.width}var cx=ob.extend({collection:Object(X.b)({defaultValue:Object(ut.b)($i.b),strong:!0}),highlightedItem:Object(X.b)(),delegate:Object(X.b)({defaultValue:Object(ut.b)(Ge.a.extend(XR))}),layoutMetrics:Object(X.b)({defaultValue:Object(ut.b)(ZR,{bottomPadding:5,dividerRowHeight:12,rowHeight:19,topPadding:5}),strong:!0}),allowedLayouts:Object(ut.b)([rb,tb,nb,ib]),maximumWidth:Object(X.b)(1/0),minimumWidth:Object(X.b)(50),dismissDuration:Object(Y.c)({defaultValue:350,type:"integer"}),dismissTimeoutId:Object(X.b)(null),hasOverlay:Object(Y.c)(!0),isDismissing:Object(X.b)({dependencies:["dismissTimeoutId"],type:Boolean,readOnly:!0,get:Object.assign((function(){return Object(bt.a)(this.dismissTimeoutId)}),{__CW__getter:function(e,t,n,i){return Object(bt.a)(i.internalGet(this,t[0+n]))}})}),dismissWithItem:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],Z.a.create()),n=this.dismissDuration;return this.dismissTimeoutId=Object(ft.a)((function(){e.dismissTimeoutId=null,e.hide(),t.resolve()}),n),t},shouldAutosize:!0,_calculateSize:function(){this.desiredSize=this.contentController.desiredSize},view:Object(X.b)({downstreamBindings:{isHiding:"(owner).isDismissing"}}),viewClass:Object(X.b)({readOnly:!0,get:function(){return this.hasOverlay?dx:ux}}),arrowLength:0,arrowWidth:0,arrowAlignment:V_.None,contentController:Object(X.b)({defaultValue:Object(ut.b)(sx),downstreamBindings:{collection:"(owner).collection",commitOnPointerDown:"(owner).commitOnPointerDown",dividerItemViewClass:"(owner).dividerItemViewClass",highlightedItem:"(owner).highlightedItem",itemViewClass:"(owner).itemViewClass",layoutMetrics:"(owner).layoutMetrics",maximumWidth:"(owner).maximumWidth",minimumWidth:"(owner).minimumWidth",menuDelegate:"(owner).delegate"}}),isFocusable:!0,spaceInset:20,commitOnPointerDown:Object(X.b)({defaultValue:!1,type:Boolean}),dividerItemViewClass:Object(X.b)(JR),itemViewClass:Object(X.b)(nx),keyDown:function(e){if(this.isDismissing)return!1;switch(e.which){case ji.a.ESC:this.hide();break;case ji.a.ENTER:case ji.a.SPACE:this.contentController.keyDown(e)||this.hide();break;default:return this.contentController.keyDown(e)}},modalBackgroundWasClicked:function(){if(this.isDismissing)return!1;this.hide()},matchedLayoutObserver:Object(Ni.e)("matchedLayout.layout.width","matchedLayout.layout.height",(function(e,t){this.contentController.measureViewport()})),staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuViewController"}}),ux=$_.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHiding",truevalue:"cw-hiding",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"MenuArrowPopoverView"},additionalClassNames:["cw-menu-arrow-popover-view"],isFocusable:!0,isHiding:Object(X.b)({defaultValue:!1,type:Boolean})}),dx=UI.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",attributes:{"aria-modal":"true"}}},__QUALIFIED_CLASS_NAME__:"ModalMenuArrowPopoverView"},popoverView:Object(X.b)({defaultValue:Object(ut.b)(ux),downstreamBindings:{isHiding:"(owner).isHiding"}}),isFocusable:!0,isHiding:Object(X.b)()}),hx=cx.extend({arrowWidth:29,arrowLength:14,arrowAlignment:V_.TargetMiddle,layoutMetrics:ut.b(ZR,{bottomPadding:5,dividerRowHeight:12,rowHeight:25,topPadding:5}),staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuViewController"}}).extend({itemSelectCallback:null,folderContent:X.b(),sortByDidChange:Ni.f("folderContent.sortType",(function(e){e&&this.collection.forEach((function(t){return t.hasCheckmark=t.value===e}))})),delegate:Mi.a({didCommitMenuWithItem:function(e,t){var n=this.owner&&this.owner.itemSelectCallback;"function"===typeof n&&t instanceof Object&&n(t)}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"FilesGridSortMenu"}}),fx=a.a.sharedInstance.isRTL,px={itemViewClass:Mi.a(QR),_sortControl:Y.c({readOnly:!0,get:function(){var e=this._sortOptions.map((function(e){return HR.create(e)}));return hx.create({itemSelectCallback:this.performSortByControlAction.bind(this),collection:mf.create(e),anchor:this.sortByActionMenuButtonView.sortButton,folderContent:this.bindingFor("folderContent")})}}),_infoDialogController:X.b({strong:!0,readOnly:!0,get:function(){return nR.create({maxItemNameLength:this.fileSystem.MAX_ITEM_NAME_LENGTH,isRTL:fx})}}),infoPopoverControllerClass:oF.extend({viewClass:Mi.a({additionalClassNames:["drive-ui","files-grid-info-popover"]}),shouldAutosize:!1,hide:function(){var e=this,t=arguments,n=this.isHiding;e.__s._$Ww$hide.apply(e,t),n||this.owningViewController.onInfoPopoverDidHide()},folderItemInfoViewCommitEditForValue:function(){return this.hide()},folderItemInfoViewCancelEditForValue:function(){return this.hide()},__superMap:{_$Ww$hide:"hide"}}),infoPopoverController:X.b({strong:!0,readOnly:!0,get:function(){var e=fx?[nb,tb,rb,ib]:[tb,nb,rb,ib],t=JL()?350:287;return this.infoPopoverControllerClass.create({allowedLayouts:e,desiredSize:R_.a.create({height:1/0,width:t}),contentController:this._infoDialogController,owningViewController:this})}})},mx=function(e){return Y.c((function(){return e.bind(this)}))},gx=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"canvas",classes:["br-spinner-view"]}},__QUALIFIED_CLASS_NAME__:"SpinnerView"},revolutionTime:600,tickCount:12,tickReach:.54375,tickWidth:(12-90/255)/64,spin:X.b(!0),isAnimating:X.b({readOnly:!0,dependencies:["isAttached","spin"],defaultValue:!1,get:Object.assign((function(){return this.isAttached&&this.spin}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])&&i.internalGet(this,t[1+n])}})}),_tickOpacities:{12:[0,25,61,89,117,145,158,173,189,199,204,212].map((function(e){return(255-e)/255}))},init:function(){var e=this,t=arguments;e.__s._$mW$init.apply(e,t),this._context=this.element.getContext("2d")},_startOrStopAnimation:Ni.f("isAnimating",(function(e){this._compStyle=null,e?(this._animStartTime=Date.now(),this._drawStep(0),this._tick()):this.isInitialized&&this._drawStep(0)})),_tick:mx((function(){if(!this.isDisposed&&this.get("isAnimating")){Da.a(this._tick);var e=this.tickCount,t=this.revolutionTime/e,n=((Date.now()-this._animStartTime)/t|0)%e;n!==this._currentStep&&this._drawStep(n)}})),_drawStep:function(e){var t=this.get("element"),n=ce.a.get("sharedInstance");if(n.get("isFirefox")&&!this._compStyle){var i=document.defaultView.getComputedStyle(t,null);if(!i)return;this._compStyle=i}this._ensureStyleInfo();var r=this._usesImageBG,a=this._imageBG;if(this._hasStyleInfo&&(!r||a)){this._currentStep=e;var o=this.element,s=this._context,l=r?a.pixelRatio:Io.a.get("sharedInstance").get("devicePixelRatio"),c=this._visualSize*l;c!==o.width||c!==o.height?o.width=o.height=c:s.clearRect(0,0,c,c),this._backingSize=c,s.save(),s.translate(c/2,c/2),s.rotate(2*e*Math.PI/this.tickCount),n.get("isIE9OrLower")&&s.rotate(2*Math.PI),this._usesImageBG?this._drawImageContent():this._drawGeneratedContent(),s.restore()}},_drawImageContent:function(){var e=this._imageBG,t=this._context,n=this._backingSize;e&&t.drawImage(e,-n/2,-n/2,n,n)},_drawGeneratedContent:function(){var e=this._context,t=this._backingSize,n=this.tickCount;e.fillStyle=this._color;for(var i=0;i<n;i++)e.globalAlpha=this._opacityForTickOfCount(i,n),this.drawTick(e,t),e.rotate(-2*Math.PI/n);e.globalAlpha=1},drawTick:function(e,t,n){var i=this.tickReach*t/2,r=this.tickWidth*t/2;!function(e,t,n,i,r,a){a=Math.min(i/2,r/2,void 0===a?1/0:a),e.beginPath(),e.moveTo(t+a,n),e.arcTo(t+i,n,t+i,n+r,a),e.arcTo(t+i,n+r,t,n+r,a),e.arcTo(t,n+r,t,n,a),e.arcTo(t,n,t+i,n,a),e.closePath(),e.fill()}(e,-r/2,-t/2,r,i)},_opacityForTickOfCount:function(e,t){var n=this._tickOpacities[t];if(n)return n[e];var i=2/t,r=e/(t-1),a=Math.pow(r,.6),o=.7*(.5-.5*Math.cos(a*Math.PI))+.3*a;return o*i+1*(1-o)},_hasStyleInfo:!1,_ensureStyleInfo:function(){if(!this._hasStyleInfo&&this.isAttached){var e=this.get("style");this._visualSize=Math.round(parseFloat(e.get("width")));var t=this._usesImageBG=(e.get("background-image")||"").startsWith("url(");t||(this._color=e.get("color")),this._visualSize&&(this._color||t)&&(this._hasStyleInfo=!0)}},__superMap:{_$mW$init:"init"}}),vx=Ge.a.extend(Ni.a,{leftView:X.b(),rightView:X.b(),titleLabel:X.b(),staticMembers:{__QUALIFIED_CLASS_NAME__:"NavigationItem"}}),_x=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"MULTIVIEWOUTLET",tagname:"views",name:"_childViews"}]}},__QUALIFIED_CLASS_NAME__:"FolderToolbarView"},additionalClassNames:Mi.a(["folder-toolbar"]),init:function(e,t){this.__s._$G2$init.call(this,Object.assign({},t)),this._childViews=$i.b.from(e)},__superMap:{_$G2$init:"init"}}),bx={keyDown:function(e){var t=(e.metaKey||e.ctrlKey)&&e.which===ji.a.DOWN;return t&&(this.selectedItem instanceof Object&&this.sendEvent("activateView"),e.preventDefault()),t||"function"===typeof this.__s._$9M$keyDown&&Boolean(this.__s._$9M$keyDown.call(this,e))},__superMap:{_$9M$keyDown:"keyDown"}},yx={doubleTapGestureRecognizer:void 0,init:function(){var e=this,t=arguments;e.__s._$3U$init.apply(e,t);var n=this.doubleTapGestureRecognizer=Gy.create({numberOfTapsRequired:2,event:"activateView",delegate:this});this.addGestureRecognizer(n)},gestureRecognizerShouldRecognizeSimultaneouslyWith:function(e,t){var n=this,i=arguments;return!(e!==this.doubleTapGestureRecognizer||!t.instanceOf(Gy))||n.__s._$EA$gestureRecognizerShouldRecognizeSimultaneouslyWith.apply(n,i)},__superMap:{_$3U$init:"init",_$EA$gestureRecognizerShouldRecognizeSimultaneouslyWith:"gestureRecognizerShouldRecognizeSimultaneouslyWith"}},Sx={itemViewClass:Mi.a(yx)},Ix={minScrollRate:10,maxScrollRate:250,activeHeight:40,activeScrollRects:X.b({readOnly:!0,dependencies:["isAttached","width","height"],get:Object.assign((function(){if(this.isAttached){var e=this.activeHeight,t=this.rect,n=t.x,i=t.y,r=t.width,a=t.bottom;return{top:x_.a.create({x:n,y:i,width:r,height:e}),bottom:x_.a.create({x:n,y:a-e,width:r,height:e})}}}),{__CW__getter:function(e,t,n,i){if(i.internalGet(this,t[0+n])){var r=this.activeHeight,a=this.rect,o=a.x,s=a.y,l=a.width,c=a.bottom;return{top:x_.a.create({x:o,y:s,width:l,height:r}),bottom:x_.a.create({x:o,y:c-r,width:l,height:r})}}}})}),dragEnter:function(e){return this._performScroll(e),!1},dragOver:function(e){return this._performScroll(e),!1},dragLeave:function(e){return this._stopScroll(),!1},_performScroll:function(e){var t=this._hitTest(e),n=t.shouldScroll,i=t.distanceRatio;if(n){var r=this._getScrollY(i);this.attemptScrollBy(0,r)}else this._stopScroll()},_hitTest:function(e){var t=iS.a.create(e.pageX,e.pageY),n=!1,i=0,r=this.scrollMinY,a=this.scrollMaxY,o=this.activeHeight,s=this.activeScrollRects,l=a>0;return r<0&&s.top.containsPoint(t)?(n=!0,i=(o-t.y)/o):l&&s.bottom.containsPoint(t)&&(n=!0,i=(t.y-(this.height-o))/o),{shouldScroll:n,distanceRatio:i}},_stopScroll:function(){this._scrollYDelta=0,this._lastTime=void 0},_getScrollY:function(e){var t=this.maxScrollRate,n=this.minScrollRate,i=n+(t-n)*e,r=this._lastTime?this._lastTime:Date.now(),a=Date.now(),o=(a-r)/1e3,s=this._scrollYDelta||0;return s+=o*i,this._scrollYDelta=s,this._lastTime=a,Math.round(s)}},wx=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{signal:"titleDidRender"}}]}],classes:["title",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_titleSquished",truevalue:"squished",attributes:{}}],attributes:{role:"heading","aria-level":"2"}},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"alternateTitle",attributes:{signal:"alternateTitleDidRender"}}]}],classes:["alternate-title"],attributes:{role:"heading","aria-level":"2"}},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_subtitle",attributes:{signal:"subtitleDidRender"}}]}],classes:["subtitle",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_subtitleVisible",truevalue:"visible",attributes:{}}],attributes:{role:"heading","aria-level":"3"}}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"alternateTitle",truevalue:"has-alternate-title",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isAnimated",truevalue:"animated",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"FilesGridTitleView"},title:X.b(),alternateTitle:X.b(),changeSubtitle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._lastChangedSubtitle,i=this._animationStateMachine;!e&&!n||e===n||(e?Nx(i,{subtitle:e,animated:t}):Fx(i,{animated:t})),this._lastChangedSubtitle=e},machineDidTransitionFromStateWithAction:function(e,t,n){var i=Z.a.create(),r=Boolean(jr.a(n,"animated")),a=r?this.ANIMATION_DURATION:0;return this._isAnimated=r,e===Ex&&t===Ox||e===Ax&&t===Ox?(this._subtitle=n.subtitle,this._titleSquished=!0,this._subtitleVisible=!0,ft.a((function(){return i.resolve()}),a)):e===Cx&&t===Tx||e===Ax&&t===Tx?(this._subtitle="",this._titleSquished=!1,this._subtitleVisible=!1,ft.a((function(){return i.resolve()}),a)):e===Cx&&t===Dx?(this._titleSquished=!0,this._subtitleVisible=!1,ft.a((function(){return i.resolve()}),a)):i.resolve(),i},ANIMATION_DURATION:270,subtitleFont:"normal normal 500 11px/1.6 SFNSText",_isAnimated:X.b(!0),_titleSquished:X.b(!1),_subtitleVisible:X.b(!1),_subtitle:X.b(),_lastSubtitle:void 0,_animationStateMachine:X.b({readOnly:!0,get:function(){return Lx.create(Ex,Mx,this.machineDidTransitionFromStateWithAction.bind(this))}})}),Ex="HEADER_EXPANDED_SUBTITLE_HIDDEN",Cx="HEADER_SQUISHED_SUBTITLE_PRESENT",Ax="HEADER_SQUISHED_SUBTITLE_HIDDEN",Tx="REMOVE",Ox="SWAP_IN",Dx="SWAP_OUT",Mx=function(e,t){return e===Ex?t===Ox?o.okResult(Cx):t===Dx?o.okResult(Ex):t===Tx?o.okResult(Ex):o.failedResult():e===Cx?t===Tx?o.okResult(Ex):t===Dx?o.okResult(Ax):o.failedResult():e===Ax?t===Ox?o.okResult(Cx):t===Tx?o.okResult(Ex):o.failedResult():o.failedResult()},Nx=function(e,t){e.pushSteps([{action:Dx,context:t},{action:Ox,context:t}]),e.walk()},Fx=function(e,t){e.pushSteps([{action:Tx,context:t}]),e.walk()},Lx=Ge.a.extend({init:function(e,t,n,i){this.__s._$39D$init.call(this,Object.assign({},i,{currentState:e,stepFunction:t,didTransitionFromStateWithAction:n}))},pushSteps:function(e){var t=this.steps,n=this.currentState,i=this.stepFunction;this.steps=Rx(n,i,t,e)},walk:function(){var e=this,t=this._walkPromise;return bt.a(t)&&(this._walkPromise=t.then((function(){return e._transition()}))),this._walkPromise},_transition:function(){var e=this,t=this.currentState,n=this.steps;if(n.length>0){var i=n.shift(),r=i.action,a=i.context,o=this.stepFunction(t,r);return this.currentState=o.data,this.didTransitionFromStateWithAction(t,r,a).then((function(){return e._transition()}))}return Z.a.resolve()},currentState:void 0,stepFunction:void 0,steps:ut.b(Array),_walkPromise:Y.c({defaultValue:function(){return Z.a.resolve()}}),__superMap:{_$39D$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"AsyncStateMachine"}}),Rx=function(e,t,n,i){var r=[e],a=n.map((function(e){return e.action})),o=i.map((function(e){return e.action}));a.forEach((function(e){var n=r[r.length-1];r.push(t(n,e).data)}));var s=-1,l=-1;return r.map((function(e,t){return[e,t]})).reverse().forEach((function(e){var n=e[0],i=e[1],r=o.map((function(e){return t(n,e).ok})).indexOf(!0);-1!==r&&(l=r,s=i)})),n.slice(0,s).concat(i.slice(l))},xx=document.createElement("div");function Px(e){xx.innerHTML=e;var t=xx.firstChild.cloneNode(!0);return xx.innerHTML="",t}var kx=Px("<div class='badge'><span class='label'></span></div>"),Ux=Px("<div class='invalid-drag-icon'></div>"),jx=Px("<div class='showcase-drag-bg-file'></div>"),Bx=Px("<div class='showcase-drag-bg-folder'></div>"),Vx={shouldStartDraggingFilesGridCell:function(e){return this.folder.canModifyContents},willStartDraggingFilesGridCell:function(e){var t=e.content;this.selection.has(t)||this.selectItem(t,GS.SET),this.folder.content.stopRemoteSynchronization()},didStartDraggingFilesGridCell:function(e,t){var n=this.getGhostImageInfo(e,t);if(n){var i=n.element;document.body.appendChild(i),function(e,t,n,i){if("function"===typeof e.dataTransfer.setDragImage)e.dataTransfer.setDragImage(t,n,i);else{var r=e.target;r.classList.add("cw-set-drag-image-original"),t.style.top=0,t.style.left=0,t.classList.add("cw-set-drag-image-ghost"),r.appendChild(t),Object(ft.a)((function(){t.parentNode.removeChild(t),r.classList.remove("cw-set-drag-image-original")}),0)}}(t,i,n.offsetX,n.offsetY),ft.a((function(){i.parentNode&&i.parentNode.removeChild(i)}),0)}},didEndDraggingFilesGridCell:function(e,t){var n=this.folder;bt.a(n)&&n.content.startRemoteSynchronization()},getGhostImageInfo:function(e,t){var n,i=mL.cloneElementForTransition(e.element);j_.a(i,{transform:"",top:-1e3,left:-1e3}),i.classList.add("drag-ghost"),i.classList.add("drive-ui"),i.classList.remove("cw-selected"),i.setAttribute("draggable",!1),i.setAttribute("aria-selected",!1);var r=this.selection.size,a=this.isDragValid();if(r>1){var o=this._createShowcaseBackgroundElement(e.content),s=i.querySelector(".showcase-container");s.insertBefore(o,s.firstChild),a&&(n=this._createBadgeElement(r))}a||(n=this._createInvalidDragIcon());var l=e.rect,c=t.pageX-l.x,u=t.pageY-l.y;return n&&(i.appendChild(n),j_.a(n,{left:c+12,top:u+7})),{element:i,offsetX:c,offsetY:u}},_createBadgeElement:function(e){var t=kx.cloneNode(!0);return t.classList.add(e<10?"small-num":"large-num"),t.querySelector(".label").innerText=e,t},_createInvalidDragIcon:function(){return Ux.cloneNode(!0)},_createShowcaseBackgroundElement:function(e){var t,n=this.selection.createIterator().retain(),i=n.value;for(n.moveToNext(),t=n.value;n.isValid&&i!==e;)t=i,n.moveToNext(),i=n.value;return n.release(),t.isFolder||t.isAppLibrary?Bx:jx},isDragValid:function(){return this.selection.every((function(e){return e.canBeMoved}))}},$x=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isFloatingToTop",truevalue:"is-floating",attributes:{}}]}},className:"cw-ui-collections-list-header-view",__QUALIFIED_CLASS_NAME__:"ListHeaderView"}}),Wx={headerViewClass:Object(X.b)(),footerViewClass:Object(X.b)(),itemViewDidMove:function(e,t){var n=this,i=arguments;"header"===t.cellType&&(e.isFloatingToTop=t.isFloatingToTop,e.element.style.clip="rect("+t.clipTop+"px auto auto auto)"),n.__s._$EI$itemViewDidMove.apply(n,i)},viewClassKeysByCellType:Object(Mi.a)({header:"headerViewClass",footer:"footerViewClass"}),__superMap:{_$EI$itemViewDidMove:"itemViewDidMove"}},zx={layoutDelegate:Object(Mi.a)(US),presenter:Object(X.b)({defaultValue:Object(Mi.a)(Wx),downstreamBindings:{headerViewClass:"(owner).headerViewClass",footerViewClass:"(owner).footerViewClass"}}),_updateWhenContentsChange:Object(Ni.e)({inputs:["collection.contentsDidChange","collection._sectionsProxy.contentsDidChange","collection.sectionLengthsDidChange","collection._invalidateCacheOnSectionsContentsChange","collection.invalidateSectionLengthsOnContentsChange","collection._invalidateCacheOnSectionsChange","collection.handleProvider.handlesDidUpdate","collection._sectionsProxy.handleProvider.handlesDidUpdate","collection._sourceDidChange","collection._sectionsProxy._sourceDidChange"],callback:function(e,t,n,i,r,a,o,s,l){if(e||t||n||l){var c=e&&e.context,u=t&&t.context,d=n&&n.context,h=!!l;this.update(sS.create({itemsChanges:c,sectionsChanges:u,invalidSections:d,collectionChanged:h,everythingChanged:!c&&!u&&!d&&!h}))}}}),headerViewClass:Object(X.b)($x),footerViewClass:Object(X.b)(SL)},Gx=n(710),Hx=n(732),Kx=$i.b.extend({source:Object(X.b)(),serializer:Object(J.c)("source.serializer"),transformChangeset:null,staticMembers:{init:function(){var e=this,t=arguments;e.__s._$Pw$init.apply(e,t);var n=this.prototype.getMetadata("source").reference;n===Br.c?Object(ze.b)("ObservableArrayProxy may not have a weak reference to its source.",this):this.prototype._sourceIsStrongRef=n===Br.a},__superMap:{_$Pw$init:"init"},__QUALIFIED_CLASS_NAME__:"ObservableArrayProxy"},_sourceIsStrongRef:!1,shouldDoPostInitProcessing:!1,_sourceDidChange:Object(Ni.f)("source",(function(e){e&&!Object(Se.a)(e,$i.b)&&Object(ze.b)("Only a CW.ObservableArray can be used as the source for an observable array proxy.",{source:e});var t=this._sourceIsStrongRef;t&&e&&e.retain("ObservableArrayProxy cache reference");var n=this._lastSetSource,i=!!n&&!!n.get("length"),r=!!e&&!!e.get("length");if(this._lastSetSource=e,i||r){var a,o,s,l=this.get("_sourceChanges");if(n)for(o=(a=n.get("length"))-1;o>=0;o--)s=n.encodedObjectAt(o),l.recordRemoval(o,s);if(e)for(a=e.get("length"),o=0;o<a;o++)s=e.encodedObjectAt(o),l.recordInsertion(o,s);Qx(this,l),l.clear(),t&&n&&n.release("ObservableArrayProxy cache reference")}})),_sourceChanges:Object(Y.c)((function(){return new $i.a(this)})),_lastSetSource:null,_sourceContentsDidChange:Object(Ni.f)("source.contentsDidChange",(function(e){e&&Qx(this,e.context)})),dispose:function(){var e=this,t=arguments;if(this._sourceIsStrongRef){var n=this._lastSetSource;n&&n.release("ObservableArrayProxy cache reference")}this._lastSetSource=null,e.__s._$1o6$dispose.apply(e,t)},__superMap:{_$1o6$dispose:"dispose"}});function Qx(e,t){var n,i=!1;e.transformChangeset&&(n=e.transformChangeset(t))&&n!==t&&(i=!0,t=n),t.applyChanges(e),i&&t.clear()}var qx={mixinDependencies:[Me.a],sections:Qy.a.define()},Yx=n(713),Xx={mixinDependencies:[Me.a,Yx.a],firstItem:Ht.a.define(),lastItem:Ht.a.define()},Jx={mixinDependencies:[Me.a,Yx.a],sectionHandle:Ht.a.define()},Zx=Gx.a.extend(Jx,{_cachedSectionHandle:Object(Y.c)({strong:!0}),sectionHandle:Object(Y.c)({readOnly:!0,get:function(){var e=this._cachedSectionHandle;if(e)return e;var t=this.position,n=this.source._sectionsProxy.handleProvider;if(!this.isValid)return n.at(-1);var i=this.source,r=i.sections.binarySearch(cP,i,t),a=n.at(r);return a._registerCache(this),this._cachedSectionHandle=a,a}}),_clearSectionCache:function(){var e=this._cachedSectionHandle;e&&(e._unregisterCache(this),this._cachedSectionHandle=null)},_sectionDidChange:function(){this._cachedSectionHandle=null},_applyRemove:function(){var e=this,t=arguments;e.__s._$bb$_applyRemove.apply(e,t),this.wasRemoved?this._cachedSectionHandle=this.sectionHandle:this._clearSectionCache()},_applyInsert:function(){var e=this,t=arguments;e.__s._$ha$_applyInsert.apply(e,t),this.wasRemoved?this._cachedSectionHandle=this.sectionHandle:this._clearSectionCache()},cleanup:function(){this._clearSectionCache(),this.__s._$o7$cleanup.call(this)},__superMap:{_$bb$_applyRemove:"_applyRemove",_$ha$_applyInsert:"_applyInsert",_$o7$cleanup:"cleanup"},staticMembers:{__QUALIFIED_CLASS_NAME__:"SectionedCollectionHandle"}}),eP=Hx.a.extend({HandleClass:Zx,staticMembers:{__QUALIFIED_CLASS_NAME__:"SectionedCollectionHandleProvider"}});function tP(e){e._sectionDidChange()}var nP=Gx.a.extend(Xx,{_handleCache:Object(ut.b)(Set),_registerCache:function(e){this._handleCache.add(e)},_unregisterCache:function(e){this._handleCache.delete(e)},_flushCaches:function(){var e=this._handleCache;e.forEach(tP),e.clear()},_handleRemove:function(){this._flushCaches(),this.__s._$_d$_handleRemove.call(this)},cleanup:function(){this._flushCaches(),this.__s._$10w$cleanup.call(this)},_invalidItem:function(){var e=this.source.adapter.handleProvider.at(-1);return e._cachedSectionHandle=this,e},firstItem:Object(Y.c)({readOnly:!0,get:function(){var e=this.source.adapter;if(!this.isValid)return this._invalidItem();var t=e._indicesForSection(this.value,this.position);return t.endIndex<t.startIndex?this._invalidItem():e.handleProvider.at(t.startIndex)}}),lastItem:Object(Y.c)({readOnly:!0,get:function(){var e=this.source.adapter;if(!this.isValid)return this._invalidItem();var t=e._indicesForSection(this.value,this.position);return t.endIndex<t.startIndex?this._invalidItem():e.handleProvider.at(t.endIndex)}}),__superMap:{_$_d$_handleRemove:"_handleRemove",_$10w$cleanup:"cleanup"},staticMembers:{__QUALIFIED_CLASS_NAME__:"SectionHandle"}}),iP=Hx.a.extend({HandleClass:nP,staticMembers:{__QUALIFIED_CLASS_NAME__:"SectionHandleProvider"}}),rP=[];function aP(e){rP.push(e)}var oP=Kx.extend({HandleProviderClass:iP,adapter:Object(X.b)(),staticMembers:{__QUALIFIED_CLASS_NAME__:"UnsafeSectionsProxy"}}),sP=oP.extend({source:Object(X.b)({strong:!0}),staticMembers:{__QUALIFIED_CLASS_NAME__:"StrongSectionsProxy"}}),lP=$i.b.extend(qx,{staticMembers:{init:function(){var e=this,t=arguments;e.__s._$1fE$init.apply(e,t);var n=this.prototype,i=n.getMetadata("source").reference;i===Br.c?Object(ze.b)("SectionedOrderedListAdapter may not have a weak reference to its source.",this):n._sourceIsStrongRef=i===Br.a;var r=n.getMetadata("sections").reference;r===Br.c?Object(ze.b)("SectionedOrderedListAdapter may not have a weak reference to its sections.",this):n._sectionsProxy=r===Br.a?sP:oP},__superMap:{_$1fE$init:"init"},__QUALIFIED_CLASS_NAME__:"SectionedOrderedListAdapter"},source:Object(X.b)(),objectAt:function(){var e=this.source;if(e)return e.objectAt.apply(e,arguments)},encodedObjectAt:function(){var e=this.source;if(e&&e.length)return e.encodedObjectAt.apply(e,arguments)},rawSplice:function(){var e=this.source;return e.rawSplice.apply(e,arguments)},_internalLength:Object(X.b)({get:function(){return this.source._internalLength}}),length:Object(X.b)({dependencies:[],writeDependencies:["source.length"],get:function(){var e=this.source;return e?e.length:0},set:Object.assign((function(e){return this.source.length=e,e}),{__CW__setter:function(e,t,n,i,r){return n[0+i]=e,e}}),writeDependencySetPathMap:[!0]}),shallowCopy:function(){var e=this.source;return e?e.shallowCopy.apply(e,arguments):null},toJSON:function(){var e=this.source;return e?e.toJSON.apply(e,arguments):[]},push:function(){var e=this.source;return e.push.apply(e,arguments)},indexOf:function(){var e=this.source;return e?e.indexOf.apply(e,arguments):-1},serializer:Object(J.c)("source.serializer"),_proxyContentsDidChange:Object(Ni.e)("source.contentsDidChange",(function(e){this.itemsWillChange();for(var t=this.changes,n=e.context,i=n.length,r=0;r<i;r++){var a=n[r],o=a.operation,s=a.index,l=a.encodedItem;o===$i.b.REMOVE?t.recordRemoval(s,l):t.recordInsertion(s,l)}this.itemsDidChange()})),_lastSetSource:null,_sourceIsStrongRef:!1,_sourceDidChange:Object(Ni.f)("source",(function(e){e&&!Object(Se.a)(e,$i.b)&&Object(ze.b)("Only a CW.ObservableArray can be used as the source for an observable array proxy.",{source:e}),e=e||null;var t=this._sourceIsStrongRef;t&&e&&e.retain(this,"SectionedOrderedListAdapter cache reference");var n=this._lastSetSource;if(e!==n){var i=!!n&&!!n.length,r=!!e&&!!e.length;if(this._lastSetSource=e,i||r){this.itemsWillChange();var a,o,s,l=this.changes;if(n)for(o=(a=n.length)-1;o>=0;o--)s=n.encodedObjectAt(o),l.recordRemoval(o,s);if(e)for(a=e.length,o=0;o<a;o++)s=e.encodedObjectAt(o),l.recordInsertion(o,s);this.itemsDidChange(),t&&n&&n.release(this,"SectionedOrderedListAdapter cache reference")}}})),HandleProviderClass:eP,sections:Object(X.b)(),_sectionsProxy:Object(X.b)({downstreamBindings:{source:"(owner).sections",adapter:"(owner)"},strong:!0,defaultValue:Object(ut.b)(oP)}),_invalidateCacheOnSectionsChange:Object(Ni.f)("sections",(function(e){for(var t=this._sectionIndexCache,n=0,i=t.length;n<i;n++){var r=t[n];r&&aP(r)}t.length=0})),beginBatchedChanges:function(){var e=this,t=arguments;this._sectionsProxy.beginBatchedChanges(),e.__s._$42r$beginBatchedChanges.apply(e,t)},endBatchedChanges:function(){var e=this,t=arguments;xi.a.pause(),this._sectionsProxy.endBatchedChanges(),e.__s._$46J$endBatchedChanges.apply(e,t),this.notifySectionLengthChangedIfNecessary(),xi.a.resume()},invalidateSectionLengthsOnContentsChange:Object(Ni.e)({inputs:["contentsDidChange","_sectionsProxy.handleProvider.handlesDidUpdate","_sectionsProxy.contentsDidChange"],callback:function(e){e&&this.invalidateSectionLengths()}}),invalidateSectionLengths:function(){if(!this.invalidateSectionLengthsFiring){this.invalidateSectionLengthsFiring=!0;for(var e=this._sectionIndexCache,t=this._sectionsProxy,n=t.length,i=t.handleProvider,r=0;r<n;r++)this._invalidateSection(r,i,e),this._sectionLengthChanges.add(i.at(r).retain());this.invalidateSectionLengthsFiring=!1}},_invalidateCacheOnSectionsContentsChange:Object(Ni.e)("_sectionsProxy.contentsDidChange","_sectionsProxy.handleProvider.handlesDidUpdate",(function(e){if(e&&!this._invalidateCacheOnSectionsContentsChangeFiring){this._invalidateCacheOnSectionsContentsChangeFiring=!0;for(var t=this._sectionIndexCache,n=this._sectionsProxy,i=n.length,r=n.handleProvider,a=0;a<i;a++)this._invalidateSection(a,r,t),this._sectionLengthChanges.add(r.at(a).retain());this.notifySectionLengthChangedIfNecessary(),this._invalidateCacheOnSectionsContentsChangeFiring=!1}})),_invalidateSection:function(e,t,n){var i=t.cachedHandleAt(e);i&&(i.retain(),i._flushCaches(),i.release());var r=n[e];r&&(aP(r),n[e]=void 0)},sectionLength:De.a.define(),sectionLengthChanged:function(e,t){var n=this.sections;void 0===t&&(t=n.indexOf(e));for(var i=this._sectionIndexCache,r=n.length,a=this._sectionsProxy.handleProvider,o=t;o<r;o++)this._invalidateSection(o,a,i);this._sectionLengthChanges.add(a.at(t).retain()),this.notifySectionLengthChangedIfNecessary()},notifySectionLengthChangedIfNecessary:function(){if(0===this._batchCount){var e=this._sectionLengthChanges;e.length&&!xi.a.nodeIsDirty(this.downstreamNodes.sectionLengthsDidChange)&&this.sectionLengthsDidChange(e)}},_sectionLengthChanges:Object(Y.c)({strong:!0,defaultValue:Object(ut.b)(sa)}),_sectionIndexCache:Object(ut.b)(Array),_indicesForSection:function(e,t,n){n||(n=this._sectionIndexCache);var i,r=n[t];if(void 0!==r)return r;if(r=rP.pop()||{},0===t)i=0;else{var a=t-1;i=this._indicesForSection(this.sections.objectAt(a),a,n).endIndex+1}return r.startIndex=i,r.endIndex=i+this.sectionLength(e)-1,n[t]=r,r},sectionLengthsDidChange:Object(Ni.g)({didPropagate:function(){this._sectionLengthChanges.forEach((function(e){e.release()})),this._sectionLengthChanges.clear()}}),dispose:function(){var e=this,t=arguments;if(this._sourceIsStrongRef){var n=this._lastSetSource;n&&n.release(this,"SectionedOrderedListAdapter cache reference")}this._lastSetSource=null,e.__s._$5vb$dispose.apply(e,t)},__superMap:{_$42r$beginBatchedChanges:"beginBatchedChanges",_$46J$endBatchedChanges:"endBatchedChanges",_$5vb$dispose:"dispose"}});function cP(e,t,n,i){var r=n._indicesForSection(e,t),a=r.startIndex,o=r.endIndex;return i<a?-1:i>o?1:0}var uP={keyDown:function(e){var t=!0;switch(e.keyCode){case ji.a.SPACE:e.shiftKey?this.pageUp():this.pageDown();break;case ji.a.PAGEUP:this.pageUp();break;case ji.a.PAGEDOWN:this.pageDown();break;case ji.a.HOME:this.scrollTo(void 0,0);break;case ji.a.END:this.scrollTo(void 0,100);break;default:t=!1}return t&&e.preventDefault(),t||"function"===typeof this.__s._$JW$keyDown&&Boolean(this.__s._$JW$keyDown.call(this,e))},__superMap:{_$JW$keyDown:"keyDown"}},dP=a.a.sharedInstance.isRTL,hP=WS.extend({staticMembers:{LayoutMetricsClass:Mi.a({justification:X.b(dP?BS.Right:BS.Left),direction:X.b(dP?VS.rightToLeft:VS.leftToRight)}),__QUALIFIED_CLASS_NAME__:"GridLayoutDelegate"}}),fP=vA.extend({mixinDependencies:[zx],layoutDelegate:ut.b(hP),layoutMetrics:{rowSpacing:20,columnSpacing:20,rowHeight:225,columnWidth:148,sectionLeftPadding:30,sectionRightPadding:30,sectionTopPadding:30,sectionBottomPadding:30,hasFloatingHeaders:!1},collection:X.b({type:lP}),viewClass:Mi.a({mixinDependencies:[uP,nS],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:["grid"],attributes:{role:"list"}}}},tabIndex:0,isFocusable:!0}),staticMembers:{__QUALIFIED_CLASS_NAME__:"GridViewController"}}),pP={minColumnCount:3,_updateColumns:Ni.f("viewportWidth","collection.length",(function(e,t){if(e>0){var n=20,i=30,r=30,a=30,o=30,s=148,l=this.layoutMetrics,c=this.minColumnCount,u=e-i-r,d=s+n,h=Math.trunc((u+n)/d);if(h<=c&&(a=10,o=10,d=(s=(u=e-((i=10)+(r=10)+(n=10)*((h=c)-1)))/h)+n),t>h){var f=u-(h*d-n);if(f>0){var p=u-(h*(s+(n+=Math.trunc(f/h)))-n),m=Math.trunc(p/2);i+=m,r+=p-m}}l.beginBatchSet().setIfChanged("columnWidth",s).setIfChanged("columnSpacing",n).setIfChanged("sectionLeftPadding",i).setIfChanged("sectionRightPadding",r).setIfChanged("sectionTopPadding",a).setIfChanged("sectionBottomPadding",o).end()}})),updateRowHeights:Ni.f("itemDisplaySizeForPlatform",(function(e){var t=225,n=20;e===Aa.EXTRA_MEDIUM&&(t=180,n=5),this.layoutMetrics.beginBatchSet().setIfChanged("rowHeight",t).setIfChanged("rowSpacing",n).end()}))},mP=lP.extend({folder:X.b({type:Md}),source:X.b({readOnly:!0,dependencies:["folder.content.hasLoadedContent","folder.content.visibleContent"],get:Object.assign((function(){var e=this.getPath("folder.content.hasLoadedContent"),t=this.getPath("folder.content.visibleContent");return e&&t instanceof Object?t:$i.b.create([])}),{__CW__getter:function(e,t,n,i){var r=i.internalGetPath(this,t[0+n]),a=i.internalGetPath(this,t[1+n]);return r&&a instanceof Object?a:$i.b.create([])}})}),sections:X.b({readOnly:!0,dependencies:["folder"],get:Object.assign((function(){return $i.b.create([this.folder])}),{__CW__getter:function(e,t,n,i){return $i.b.create([i.internalGet(this,t[0+n])])}})}),sectionLength:function(e){return this.source.length},staticMembers:{__QUALIFIED_CLASS_NAME__:"FolderSectionedAdapter"}}),gP={_keyboardTypedTimerId:0,_keyboardTypedBuffer:X.b({didChange:function(e){if("string"===typeof e){var t=this.findFirstItemForKeyboardTypedBuffer(e);t instanceof Object&&(this.selectItem(t,GS.SET),this.scrollToItem(t))}}}),getItemNameForKeyboardTypedSelection:function(e){var t=e.name;return"string"===typeof t?t.toLowerCase():""},findFirstItemForKeyboardTypedBuffer:function(e){var t=this,n=this.collection,i=n.source;return(void 0===i?n:i).find((function(n){return n instanceof Object&&t.getItemNameForKeyboardTypedSelection(n).startsWith(e)}))},_getCharFromKeyboardEvent:function(e){var t,n=e.key;if("string"===typeof n&&1===n.length)t=n;else{var i=e.keyCode;t=i===ji.a.MINUS?e.shiftKey?"_":"-":String.fromCharCode(i)}return t},keyDown:function(e){var t=this,n=!1;if(!e.altKey&&!e.metaKey&&!e.ctrlKey){var i=this._getCharFromKeyboardEvent(e).toLowerCase();if(i.match(/^[a-z0-9_\- ]$/)){n=!0;var r=this._keyboardTypedBuffer,a=void 0===r?"":r;this._keyboardTypedBuffer=a+=i,globalThis.clearTimeout(this._keyboardTypedTimerId),this._keyboardTypedTimerId=ft.a((function(){t._keyboardTypedBuffer=void 0}),500)}}return n&&e.preventDefault(),n||"function"===typeof this.__s._$jA$keyDown&&Boolean(this.__s._$jA$keyDown.call(this,e))},__superMap:{_$jA$keyDown:"keyDown"}},vP=Pi.a.extend({action:"performNavigateBackAction",additionalClassNames:Mi.a(["navigate-back"]),staticMembers:{__QUALIFIED_CLASS_NAME__:"NavigateBackButton"}}),_P=Di.a.extend(Ui.a,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"sortButton"}]}},__QUALIFIED_CLASS_NAME__:"SortByActionMenuButton"},additionalClassNames:Mi.a(["sort-action-menu-container"]),title:X.b(),action:X.b(),target:X.b(),sortButton:X.b({strong:!0,defaultValue:ut.b(Pi.a,{additionalClassNames:Mi.a(["sort-action-menu-button","dr-text-size-small"]),hasRightIcon:!0}),downstreamBindings:{target:"(owner).target",action:"(owner).action",title:"(owner).title"}})}),bP=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"doneButton"}]}},__QUALIFIED_CLASS_NAME__:"DoneButton"},additionalClassNames:Mi.a(["done-button-view"]),action:X.b(),target:X.b(),doneButton:X.b({strong:!0,defaultValue:ut.b(Pi.a,{title:a.d("DriveUI.NavigationBar.DoneButton.Title"),additionalClassNames:["done-button"]}),downstreamBindings:{target:"(owner).target",action:"(owner).action"}})}),yP=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"sortButton"},{type:"VIEWOUTLET",tagname:"view",name:"selectButton"},{type:"VIEWOUTLET",tagname:"view",name:"selectAllButton"},{type:"VIEWOUTLET",tagname:"view",name:"deselectAllButton"},{type:"VIEWOUTLET",tagname:"view",name:"doneButton"}],classes:["right-view"]}},__QUALIFIED_CLASS_NAME__:"NavigationBarRightView"},sortButton:X.b(),selectButton:X.b(),selectAllButton:X.b(),deselectAllButton:X.b(),doneButton:X.b()});function SP(e,t,n){return(SP=IP()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&wP(r,n.prototype),r}).apply(null,arguments)}function IP(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function wP(e,t){return(wP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var EP=function(){function e(e,t,n){this.t=e,this.dx=t,this.dy=n}return e.relinquish=function(e){this.pool.push(e)},e.acquire=function(){var e=this.pool.pop();return e instanceof Object?(this.apply(e,arguments),e):SP(this,Array.prototype.slice.call(arguments))},e}();EP.pool=[];var CP,AP,TP={mixinDependencies:[{scrollMetricsWindowMs:500,scrollMetricsSweepMs:25,_scrollMetricsSweepTimer:void 0,scrollMetrics:X.b((function(){return[]})),init:function(){var e=this,t=arguments;e.__s._$Eh$init.apply(e,t),this.updateScrollMetrics=this.updateScrollMetrics.bind(this)},updateScrollMetrics:function(){if(clearTimeout(this._scrollMetricsSweepTimer),!this.isDisposed){for(var e=Date.now(),t=[],n=this.scrollMetricsWindowMs,i=this.scrollMetrics,r=i.length-1;r>=0;r--){var a=i[r];e-a.t<n?t.push(a):EP.relinquish(a)}this.scrollMetrics=t,i.length>0&&(this._scrollMetricsSweepTimer=ft.a(this.updateScrollMetrics,this.scrollMetricsSweepMs))}},didScrollBy:function(e,t){var n=this,i=arguments;n.__s._$ZC$didScrollBy.apply(n,i);var r=Date.now(),a=EP.acquire(r,e,t);this.scrollMetrics.push(a),this.updateScrollMetrics()},__superMap:{_$Eh$init:"init",_$ZC$didScrollBy:"didScrollBy"}}],isScrollingFastThreshold:1,isScrollingFast:X.b({readOnly:!0,dependencies:["recentScrollSpeed"],get:Object.assign((function(){return this.recentScrollSpeed>Math.pow(this.isScrollingFastThreshold,2)}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])>Math.pow(this.isScrollingFastThreshold,2)}})}),recentScrollSpeed:X.b({readOnly:!0,defaultValue:0,dependencies:["scrollMetrics"],get:Object.assign((function(){for(var e=this.scrollMetrics,t=0,n=0,i=1/0,r=-1/0,a=e.length-1;a>=0;a--){var o=e[a],s=o.t;s<i&&(i=s),s>r&&(r=s),t+=o.dx,n+=o.dy}var l=r-i;return l>0?(Math.pow(t,2)+Math.pow(n,2))/Math.pow(l,2):0}),{__CW__getter:function(e,t,n,i){for(var r=i.internalGet(this,t[0+n]),a=0,o=0,s=1/0,l=-1/0,c=r.length-1;c>=0;c--){var u=r[c],d=u.t;d<s&&(s=d),d>l&&(l=d),a+=u.dx,o+=u.dy}var h=l-s;return h>0?(Math.pow(a,2)+Math.pow(o,2))/Math.pow(h,2):0}})})},OP={getHandleInDirection:function(e,t){var n=this.owner.layoutController,i=n.layoutMetrics,r=n.viewportWidth-i.sectionLeftPadding-i.sectionRightPadding,a=i.columnWidth+i.columnSpacing,o=Math.trunc((r+a)/a),s=e.position,l=e.maximumPosition,c=s%o,u=Math.trunc((s-c)/o),d=Math.ceil((l+1)/o),h=this.isRTL,f=0;switch(t){case HS.LEFT:(c>0||h&&c<o-1)&&(f=h?1:-1);break;case HS.RIGHT:(c<o-1||h&&c>0)&&(f=h?-1:1);break;case HS.UP:u>0&&(f=-o);break;case HS.DOWN:u<d-1&&(f=o);break;default:return}if(0!==f)return s+f>=l&&(f=l-s),e.atDistance(f).retain(this,"getHandleInDirection").autorelease(this,"getHandleInDirection")},isRTL:X.b(a.a.sharedInstance.isRTL),getSelectableHandleInDirection:function(e,t){for(var n=e;;){if(!((n=this.getHandleInDirection(n,t))instanceof Object&&n.isValid))return;if(this.delegate.selectionControllerShouldSelectItem(this,n)&&!this.isItemAtHandleSelected(n))return n}}},DP={mixinDependencies:[wA,{selectionDirectionByKeyCode:(CP={},CP[ji.a.LEFT]=HS.LEFT,CP[ji.a.RIGHT]=HS.RIGHT,CP[ji.a.UP]=HS.UP,CP[ji.a.DOWN]=HS.DOWN,CP),selectionController:Mi.a(OP)},{keyDown:function(e){var t=(Io.a.sharedInstance.isWindows?e.ctrlKey:e.metaKey)&&e.keyCode===ji.a.A;return t&&(this.sendEvent("selectAll"),e.preventDefault()),t||"function"===typeof this.__s._$93$keyDown&&Boolean(this.__s._$93$keyDown.call(this,e))},__superMap:{_$93$keyDown:"keyDown"}}],selectionController:Mi.a(OP)},MP=[{action:"performCreateSubfolderAction",name:"createSubfolder"},{action:"performShareItemAction",name:"shareSelectedItemOrParent"},{action:"performEmailSelectedItemsAction",name:"emailSelectedItems"},{action:"performMoveSelectedItemsToTrashAction",name:"moveSelectedItemsToTrash"},{action:"performDownloadSelectedItemsAction",name:"downloadSelectedItems"},{action:"performEmailSelectedItemsAction",name:"mailSelectedItems"},{action:"performInfoForSelectedItemAction",name:"infoForSelectedItem"},{action:"performMoveItemsAction",name:"moveItems"}],NP=[{action:"performPutFilesBackFromTrash",name:"putFilesBackFromTrash"},{action:"performPurgeRecentlyDeletedItems",name:"purgeRecentlyDeletedItems"}],FP=Di.a.extend(Vl,{init:function(e,t,n){this._title=e.name,this.content=e,this.showcaseView=t,this.__s._$CA$init.call(this,n)},staticMembers:{template:{type:"ELEMENT",tagname:"header",children:[{type:"VIEWOUTLET",tagname:"view",name:"showcaseView"},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}]},{type:"ELEMENT",tagname:"h2",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"subtitle",attributes:{}}]},{type:"ELEMENT",tagname:"h3",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"subSubtitle",attributes:{}}]}],classes:["text-wrapper"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isShareStateUnknown",truevalue:"cw-hidden",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"ManageShareHeaderView"},content:X.b(),showcaseView:X.b(),subtitle:X.b({readOnly:!0,dependencies:["content.isSharedIndirectly","nameOfSharedFolder"],get:Object.assign((function(){return this.content.isSharedIndirectly?a.d("DriveUI.Sharing.Header.Subtitle.SharedWithin",{folderName:this.nameOfSharedFolder}):""}),{__CW__getter:function(e,t,n,i){return this.content.isSharedIndirectly?a.d("DriveUI.Sharing.Header.Subtitle.SharedWithin",{folderName:i.internalGet(this,t[1+n])}):""}})}),subSubtitle:X.b({readOnly:!0,dependencies:["content","sharedWithNamesString","sharedByNameStringWithAttribution"],get:Object.assign((function(){var e=this.content,t=this.sharedWithNamesString,n=this.sharedByNameStringWithAttribution;return e.isSharedDirectlyOrIndirectly?e.isSharedByMe?t:n:""}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[1+n]),o=i.internalGet(this,t[2+n]);return r.isSharedDirectlyOrIndirectly?r.isSharedByMe?a:o:""}})}),sharedWithNamesStringFont:"normal normal 300 13px SFNSText",isAttachedListener:Ni.e("isAttached",(function(){if(this.isAttached){var e=this.element.clientWidth-53-44-18;this.sharedWithNamesStringMaxWidth=e}})),nameOfSharedFolder:X.b(J.c("content.sharedFolderFromHierarchy.name")),title:X.b({readOnly:!0,get:function(){return this._title}}),shouldShowSubtitle:X.b(),isShareStateUnknown:X.b(),summaryTextNoOption:X.b(),__superMap:{_$CA$init:"init"}}),LP=rO.extend({sharedByNameStringWithoutAttribution:X.b(),content:X.b(),share:X.b(),summaryText:X.b({readOnly:!0,dependencies:["share","share.publicPermission"],get:Object.assign((function(){var e=this.content,t=this.share,n=function(e){return"DriveUI.Sharing."+e+".Summary."},i=null;if(t){if(e.isSharedToMe&&e.isSharedDirectly)i=t.isPublic?t.publicPermission===Gs.READ_ONLY?[n("Item")+"Participant.Public.RO"]:[n("Item")+"Participant.Public.RW"]:[n("Item")+"Participant.Private",{fullOwnerName:t.owner.displayName}];else{var r=e.isFolder?"Folder":"File";e.isSharedToMe&&e.isSharedIndirectly?i=[n(r)+"Participant.Within",{rootName:e.sharedFolderFromHierarchy.name}]:e.isSharedByMe&&e.isSharedIndirectly&&(i=[n(r)+"Owner.Within",{rootName:e.sharedFolderFromHierarchy.name}])}return a.d.apply(null,i)}}),{__CW__getter:function(e,t,n,i){var r=this.content,o=i.internalGet(this,t[0+n]),s=function(e){return"DriveUI.Sharing."+e+".Summary."},l=null;if(o){if(r.isSharedToMe&&r.isSharedDirectly)l=o.isPublic?o.publicPermission===Gs.READ_ONLY?[s("Item")+"Participant.Public.RO"]:[s("Item")+"Participant.Public.RW"]:[s("Item")+"Participant.Private",{fullOwnerName:o.owner.displayName}];else{var c=r.isFolder?"Folder":"File";r.isSharedToMe&&r.isSharedIndirectly?l=[s(c)+"Participant.Within",{rootName:r.sharedFolderFromHierarchy.name}]:r.isSharedByMe&&r.isSharedIndirectly&&(l=[s(c)+"Owner.Within",{rootName:r.sharedFolderFromHierarchy.name}])}return a.d.apply(null,l)}}})}),viewClass:tO.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"copyLinkButton"},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"summaryText",attributes:{}}]}],classes:["options-view","options-summary",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}}]}},permissionsView:X.b(),summaryText:X.b()}),view:X.b({downstreamBindings:Mi.a({summaryText:"(owner).summaryText"})}),shouldShowShareOptions:X.b({dependencies:[],readOnly:!0,get:function(){return!0}}),shouldHideCopyLinkButton:X.b({dependencies:["share","share.isPublic","content","content.isSharedIndirectly"],readOnly:!0,get:function(){return Boolean(this.getPath("content.isSharedDirectly"))}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ManageShareOptionsViewController"}}),RP=EO.extend(Vl,{share:X.b(),delegate:null,iconService:null,showcaseViewPool:null,thumbnailCanvasFactory:null,thumbnailStatsReporterService:null,customHeaderView:X.b({readOnly:!0,get:function(){var e=this.showcaseView;return FP.create(this.content,e)}}),customOptionsViewController:Y.c({readOnly:!0,get:function(){var e=this.content,t=this.sharedByNameStringWithoutAttribution;return e.isSharedDirectly&&e.isSharedByMe?rO.create():LP.create({content:e,sharedByNameStringWithoutAttribution:t})}}),itemIsNoLongerSharedWithMe:function(e,t){var n=this,i=arguments;n.__s._$gN$itemIsNoLongerSharedWithMe.apply(n,i),bt.a(this.delegate)&&"function"===typeof this.delegate.navigateToSharedFolderParent&&this.delegate.navigateToSharedFolderParent(this.content)},showSharedFolderButton:X.b({readOnly:!0,get:function(){return this.content.isSharedIndirectly?Pi.a.create({title:a.d("DriveUI.Sharing.Folder.ShowSharedFolder"),action:"showSharedFolderAction"}):null}}),showSharedFolderAction:function(){var e=this.delegate;bt.a(e)&&"function"===typeof e.didRequestMoveToSharedFolderRoot&&e.didRequestMoveToSharedFolderRoot(this.content),this.complete()},manageShareViewController:X.b({strong:!0,get:function(){var e=this.customHeaderView,t=this.customOptionsViewController,n=this.showSharedFolderButton,i=this.cacheingProvideRootRecordFunction,r=this.content;return PP.create(r,{customHeaderView:e,customOptionsViewController:t,showSharedFolderButton:n,cacheingProvideRootRecordFunction:i})}}),showcaseView:X.b({readOnly:!0,get:function(){var e=this.content,t=this.iconService,n=this.showcaseViewPool,i=this.thumbnailCanvasFactory,r=this.thumbnailStatsReporterService;return e.isFolder?ql.create({content:e,additionalClassNames:Mi.a(["medium"])}):So.create(t,n,i,r,{displaySize:Aa.REGULAR,additionalClassNames:Mi.a(["medium"]),content:e})}}),__superMap:{_$gN$itemIsNoLongerSharedWithMe:"itemIsNoLongerSharedWithMe"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ManageShareWorkflowViewController"}}),xP=ZT.extend({init:function(e,t){this.content=e,this.__s._$1bk$init.call(this,t)},content:null,allowRemoveMeMenuOption:Y.c({get:function(){return this.content.isSharedDirectly}}),loggedInUserCanEditShare:X.b({get:function(){var e=this,t=arguments;return e.__s._$1ou$get.apply(e,t)&&this.content.isSharedDirectly},__superMap:{_$1ou$get:"get"}}),__superMap:{_$1bk$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CustomManageShareListViewController"}}),PP=sO.extend({customHeaderView:X.b(null),showSharedFolderButton:X.b(null),customOptionsViewController:null,init:function(e,t){return this.content=e,this.__s._$1_m$init.call(this,t)},content:null,viewClass:aO.extend({additionalClassNames:Mi.a(["drive-ui"]),showSharedFolderButton:X.b(),actionButton:X.b({get:function(){var e=this,t=arguments,n=this.showSharedFolderButton;return bt.a(n)?n:e.__s._$29I$get.apply(e,t)},__superMap:{_$29I$get:"get"}})}),createView:function(){return this.viewClass.create({showSharedFolderButton:this.showSharedFolderButton,headerView:this.customHeaderView})},optionsViewController:Oi.a.define({viewOutlet:"optionsView",get:function(){return this.customOptionsViewController}}),contentViewController:Oi.b({get:function(){return xP.create(this.content)}}),__superMap:{_$1_m$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CustomManageShareViewController"}}),kP=ne.b("DisplayMode",["None","Loading","Grid","Empty","Error"]),UP=((AP={})[cd.Name]=a.d("DriveUI.FilesGrid.SortBy.Name"),AP[cd.DateModified]=a.d("DriveUI.FilesGrid.SortBy.Date"),AP[cd.Size]=a.d("DriveUI.FilesGrid.SortBy.Size"),AP[cd.Kind]=a.d("DriveUI.FilesGrid.SortBy.Kind"),AP),jP="iclouddrive",BP=!1,VP=fP.extend({mixinDependencies:[pP,DP,gP,Sx,bx,rL,Vx],viewClass:Mi.a({mixinDependencies:[vo,Ix,TP],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"modeView"}],classes:["files"]}}},displayMode:X.b(),errorView:X.b({readOnly:!0,strong:!0,get:function(){return iR.create({messageTitle:a.d("DriveUI.FilesGrid.Error.Loading.FolderContent.Title"),messageSubtitle:a.d("DriveUI.FilesGrid.Error.Loading.FolderContent.Subtitle")})}}),spinnerView:X.b({readOnly:!0,strong:!0,get:function(){return gx.create()}}),getEmptyView:function(){var e=this.viewController.folder;return e.isDriveRoot?this.emptyRootView:e.isInTrash?this.emptyRecentlyDeletedView:this.emptyGenericFolderView},emptyGenericFolderView:X.b({readOnly:!0,strong:!0,get:function(){return iR.create({messageTitle:a.d("DriveUI.FilesGrid.EmptyFolder.Title"),messageSubtitle:a.d("DriveUI.FilesGrid.EmptyFolder.Subtitle")})}}),emptyRootView:X.b({readOnly:!0,strong:!0,get:function(){return iR.create({messageTitle:a.d("DriveUI.FilesGrid.EmptyDrive.Title"),messageSubtitle:a.d("DriveUI.FilesGrid.EmptyDrive.Subtitle")})}}),emptyRecentlyDeletedView:X.b({readOnly:!0,strong:!0,get:function(){return iR.create({messageTitle:a.d("DriveUI.FilesGrid.EmptyTrash.Title")})}}),modeView:X.b({readOnly:!0,strong:!0,dependencies:["isAttached","displayMode"],get:Object.assign((function(){if(this.isAttached)switch(this.displayMode){case kP.Error:return this.errorView;case kP.Loading:return this.spinnerView;case kP.Empty:return this.getEmptyView()}}),{__CW__getter:function(e,t,n,i){if(i.internalGet(this,t[0+n]))switch(i.internalGet(this,t[1+n])){case kP.Error:return this.errorView;case kP.Loading:return this.spinnerView;case kP.Empty:return this.getEmptyView()}}})})}),createView:function(){var e=this,t=arguments,n=e.__s._$2NX$createView.apply(e,t);return n.bind("displayMode",this.bindingFor("displayMode")),n},itemDisplaySizeForPlatform:X.b(Aa.LARGE),headerViewClass:null,footerViewClass:null,presenter:Mi.a({shouldLayerBack:!0,viewForViewClass:function(e){var t=this,n=arguments,i=e===this.itemViewClass,r=e===this.headerViewClass;if(i||r){xi.a.pause();var a=t.__s._$2bW$viewForViewClass.apply(t,n),o=this.owner;return i?(Object.assign(a,{session:o.session,showcaseViewPool:o.showcaseViewPool,iconService:o.iconService,thumbnailCanvasFactory:o.thumbnailCanvasFactory,thumbnailStatsReporterService:o.thumbnailStatsReporterService,raiseAlertService:o.raiseAlertService,dragSourceDelegate:o,_primaryInteractionMode:o._primaryInteractionMode}),a.bind("displaySize",o.bindingFor("itemDisplaySizeForPlatform")),o._primaryInteractionMode===li.a.TOUCH&&a.bind("isSelectionModeActive",o.bindingFor("isSelectionModeActive"))):r&&this.setUpFilesGridHeaderView(a,!0),xi.a.resume(),a}return t.__s._$2bW$viewForViewClass.apply(t,n)},setUpFilesGridHeaderView:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.bindSortMenuToView(e),this.addIconsToLeftView(e),e.session=this.owner.session},bindSortMenuToView:function(e){var t=this.owner;e.bind("contentView",t.bindingFor("sortByActionMenuButtonView"))},addIconsToLeftView:function(e){var t=this.owner;e.folderLeftViews=t.gridHeadToolbarButtonsFactory()},itemViewDidMove:function(e,t){var n=this,i=arguments;n.__s._$3D9$itemViewDidMove.apply(n,i),this.shouldLayerBack&&(e.element.style.transform+=" translateZ(0)")},itemViewDidEnter:function(e,t){var n=this,i=arguments;if(n.__s._$3Iy$itemViewDidEnter.apply(n,i),"item"===t.cellType){var r=this.owner,a=r.selectionDelegate.selectionControllerShouldSelectItem(r.selectionController,t.handle);e.isSelectable=a}},itemViewDidExit:function(e,t){var n=this,i=arguments;"item"===t.cellType&&e.itemViewDidExit(),n.__s._$3Sj$itemViewDidExit.apply(n,i),this.shouldLayerBack&&(e.element.style.transform+=" translateZ(0)")},__superMap:{_$2bW$viewForViewClass:"viewForViewClass",_$3D9$itemViewDidMove:"itemViewDidMove",_$3Iy$itemViewDidEnter:"itemViewDidEnter",_$3Sj$itemViewDidExit:"itemViewDidExit"}}),contentDidChange:Ni.f("folderContent.changed",(function(e){if(this.isAttached){var t=sS.create({everythingChanged:!0});this.selectionController.updateSelectionForCollectionChange(t)}else this.selection&&this.selection.length>0&&(this.selectionController.clearSelection(),this.selection=null)})),selectionDelegate:Mi.a({selectionControllerShouldSelectItem:function(e,t){var n=e.collection.objectAt(t.position);return this.owner._actionPolicy.determineShouldAllowSelection(n)}}),loggingService:Y.c(),allowsMultipleSelection:X.b(J.c("isMultipleSelectionEnabled")),gridHeaderToolbarButtons:X.b(),gridHeadToolbarButtonsFactory:Vr.a,toolbarButtons:X.b(),primaryInteractionMode:X.b(),session:X.b(),fileSystem:X.b(J.c("session.fileSystem")),iconService:X.b(),composeEmailService:X.b(),folder:X.b(),showcaseViewPool:X.b(),raiseAlertService:X.b(),thumbnailCanvasFactory:X.b(),thumbnailScalingService:X.b(),thumbnailStatsReporterService:Y.c(),folderContent:X.b(J.c("folder.content")),collection:X.b({strong:!0,readOnly:!0,get:function(){return mP.create({folder:this.bindingFor("folder")})}}),_actionPolicy:X.b(J.c("session.actionPolicy")),_trashPolicy:X.b(J.c("session.trashPolicy")),openFileService:Y.c(),hostService:Y.c(),init:function(e,t,n,i,r,a,o,s,l,c,u,d,h,f,p,m,g,v,_,b){Object.defineProperties(this,{_dragMonitor:{value:p},_primaryInteractionMode:{value:m}}),Object.assign(this,b);var y=this.layoutMetrics;y.hasHeaders=bt.a(this.headerViewClass),y.headerHeight=jr.a(this,"headerViewClass.initialHeight"),y.hasFooters=bt.a(this.footerViewClass),y.footerHeight=jr.a(this,"footerViewClass.initialHeight"),this.__s._$57c$init.call(this,{loggingService:e,session:t,downloadService:n,itemSharingServiceFactory:i,openFileService:r,raiseAlertService:a,iconService:o,showcaseViewPool:s,thumbnailCanvasFactory:l,downloadImageService:c,itemURLService:u,composeEmailService:d,thumbnailScalingService:h,thumbnailStatsReporterService:f,gridHeadToolbarButtonsFactory:_}),this._scrollSpeedAboveThreshold=!1,this.bind("_sizeClassVertical",g),this.bind("_sizeClassHorizontal",v)},_prevDisplayMode:void 0,displayMode:X.b({readOnly:!0,dependencies:["folderContent","folderContent.hasLoadedContent","folderContent.hasError","collection.length"],get:Object.assign((function(){var e,t=this.folderContent;return e=t instanceof Object?t.hasError?kP.Error:t.hasLoadedContent?0===this.collection.length?kP.Empty:kP.Grid:kP.Loading:kP.Loading,bt.a(t)&&e===kP.Loading?this._beginInitialLoadTelemetry():bt.a(e)&&e!==kP.Loading&&this._prevDisplayMode===kP.Loading&&this._endInitialLoadTelemetry(),e}),{__CW__getter:function(e,t,n,i){var r,a=i.internalGet(this,t[0+n]);return r=a instanceof Object?a.hasError?kP.Error:a.hasLoadedContent?0===i.internalGetPath(this,t[3+n])?kP.Empty:kP.Grid:kP.Loading:kP.Loading,bt.a(a)&&r===kP.Loading?this._beginInitialLoadTelemetry():bt.a(r)&&r!==kP.Loading&&this._prevDisplayMode===kP.Loading&&this._endInitialLoadTelemetry(),r}}),didChange:function(e){var t=this.folderContent;if(t instanceof Object){var n=!1,i=this.view;if(e===kP.Empty||e===kP.Grid){t.startRemoteSynchronization(),this.startWatchingShareRecord();var r=this._prevDisplayMode;n=r instanceof Object&&r!==e,t.sync()}else t.stopRemoteSynchronization(),this.stopWatchingShareRecord();n?(i.opacity=0,i.animate("opacity",1,250*(globalThis.event&&globalThis.event.shiftKey?10:1))):i.opacity=1}this._prevDisplayMode=e}}),_initialLoadBeginningTime:null,_beginInitialLoadTelemetry:function(){this._initialLoadBeginningTime||(this._initialLoadBeginningTime=Date.now())},_resetInitialLoadTelemetry:function(){this._initialLoadBeginningTime=null},_endInitialLoadTelemetry:function(){var e=this._initialLoadBeginningTime,t=this.folder;if(e){var n=Date.now()-e;this.loggingService.recordStat("FolderInitialLoadPerformance",{msTOTAL:n,isRoot:bt.a(t)&&!t.isDisposed&&t.isDriveRoot,isTrash:bt.a(t)&&!t.isDisposed&&t.isTrashRoot}),this._resetInitialLoadTelemetry()}},dragMonitor:X.b({readOnly:!0,get:function(){return this._dragMonitor}}),draggingTitle:X.b({dependencies:["dragMonitor.dragTargetInfo"],readOnly:!0,get:Object.assign((function(){var e,t=this.dragMonitor.dragTargetInfo;if(t){var n=t.destinationFolder;if(n){var i;switch(t.action){case"move":i="DriveUI.FilesGrid.DragDrop.Status.MoveItems";break;case"upload":i="DriveUI.FilesGrid.DragDrop.Status.UploadItems"}if(i){n.isDriveRoot&&(i+=".ToRootContainer");var r=n.name;e=a.d(i,{destinationName:r})}}}return e}),{__CW__getter:function(e,t,n,i){var r,o=i.internalGetPath(this,t[0+n]);if(o){var s=o.destinationFolder;if(s){var l;switch(o.action){case"move":l="DriveUI.FilesGrid.DragDrop.Status.MoveItems";break;case"upload":l="DriveUI.FilesGrid.DragDrop.Status.UploadItems"}if(l){s.isDriveRoot&&(l+=".ToRootContainer");var c=s.name;r=a.d(l,{destinationName:c})}}}return r}})}),prepareForUse:function(){var e=this.folder;e&&e.content&&e.content instanceof Object&&(e.content.delegate=this)},prepareForReuse:function(){this.view.blur(),this.clearSelection(),this._resetInitialLoadTelemetry();var e=this.folder;e&&e.content&&e.content instanceof Object&&(e.content.delegate=void 0),this.folder=void 0},onInfoPopoverDidHide:function(){var e=this,t=this.infoPopoverController,n=t.contentController,i=n.content;if(i instanceof Object){var r=n.value;n.content=void 0,!i.isAppLibrary&&"string"===typeof r&&i&&i.name!==r&&this._tryCommittingNameToFolderItem(r,i).then((function(i){i.ok?(e.isAttached&&(e.folderContent.startRemoteSynchronization(),e.startWatchingShareRecord()),t.hide()):(n.revert(),UR(e)(i.data))}))}},performNavigateBackAction:function(e){this.session.changeDirectoryUp()},_generatedErrorHandler:null,findItemViewForVisibleItem:function(e){return this.presenter.activeViews.find((function(t){return t.content===e}))},_navigationItemRightView:Y.c({readOnly:!0,get:function(){return this._primaryInteractionMode!==li.a.TOUCH?this.bindingFor("sortByActionMenuButtonView"):yP.create({selectButton:this.bindingFor("selectButtonView"),selectAllButton:this.bindingFor("selectAllButtonView"),deselectAllButton:this.bindingFor("deselectAllButtonView"),doneButton:this.bindingFor("doneButtonView")})}}),_navigationItemLeftView:X.b({dependencies:["isSelectionModeActive","shouldDisplayNavigateBackButton"],readOnly:!0,get:Object.assign((function(){var e=this.isSelectionModeActive,t=this.folder;return this._primaryInteractionMode===li.a.TOUCH&&e&&!t.isInTrash?this.folderToolbarView:this.shouldDisplayNavigateBackButton?this.navigateBackButton:void 0}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=this.folder;return this._primaryInteractionMode===li.a.TOUCH&&r&&!a.isInTrash?this.folderToolbarView:i.internalGet(this,t[1+n])?this.navigateBackButton:void 0}})}),folderToolbarView:X.b({get:function(){return _x.create(this.toolbarButtons)}}),navigateBackButton:X.b({get:function(){return vP.create({hasLeftIcon:!0,title:this.bindingFor("folder.parent.name"),target:this})}}),shouldDisplayNavigateBackButton:X.b({readOnly:!0,type:Boolean,dependencies:["folder","folder.parent"],get:Object.assign((function(){var e=this.folder;if(!e)return!1;var t=e.parent;return!!t&&(this._primaryInteractionMode!==li.a.TOUCH||!0!==e.isInTrash||!0!==t.isBrowseRoot)&&!this.isBrowseRoot}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(!r)return!1;var a=r.parent;return!!a&&(this._primaryInteractionMode!==li.a.TOUCH||!0!==r.isInTrash||!0!==a.isBrowseRoot)&&!this.isBrowseRoot}})}),navigationItem:X.b({readOnly:!0,get:function(){return vx.create({leftView:this.bindingFor("_navigationItemLeftView"),titleLabel:wx.create({title:this.bindingFor("folder.name"),alternateTitle:this.bindingFor("alternateTitle")}),rightView:this._navigationItemRightView})}}),alternateTitle:X.b({readOnly:!0,dependencies:["draggingTitle","selectModeTitle"],get:Object.assign((function(){var e=this.draggingTitle,t=this.selectModeTitle;return bt.a(e)?e:bt.a(t)?t:void 0}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[1+n]);return bt.a(r)?r:bt.a(a)?a:void 0}})}),selectModeTitle:X.b({readOnly:!0,strong:!0,dependencies:["isSelectionModeActive","selection"],get:Object.assign((function(){var e=void 0;if(this.isSelectionModeActive&&this.selection){var t=this.selection.size;0===t?e=a.d("DriveUI.NavigationBar.SelectionModeTitle.0"):1===t?e=a.d("DriveUI.NavigationBar.SelectionModeTitle.1"):t>1&&(e=a.d("DriveUI.NavigationBar.SelectionModeTitle.N",{number:t}))}return e}),{__CW__getter:function(e,t,n,i){var r=void 0;if(i.internalGet(this,t[0+n])&&i.internalGet(this,t[1+n])){var o=i.internalGet(this,t[1+n]).size;0===o?r=a.d("DriveUI.NavigationBar.SelectionModeTitle.0"):1===o?r=a.d("DriveUI.NavigationBar.SelectionModeTitle.1"):o>1&&(r=a.d("DriveUI.NavigationBar.SelectionModeTitle.N",{number:o}))}return r}})}),isSelectionModeActive:X.b({type:Boolean}),selectButtonView:X.b({readOnly:!0,strong:!0,dependencies:["isSelectionModeActive"],get:Object.assign((function(){if(this._primaryInteractionMode===li.a.TOUCH&&!this.isSelectionModeActive)return Pi.a.create({title:a.d("DriveUI.NavigationBar.SelectButton.Title"),additionalClassNames:["select-button"],target:this,action:"performNavigationBarSelectAction"})}),{__CW__getter:function(e,t,n,i){if(this._primaryInteractionMode===li.a.TOUCH&&!i.internalGet(this,t[0+n]))return Pi.a.create({title:a.d("DriveUI.NavigationBar.SelectButton.Title"),additionalClassNames:["select-button"],target:this,action:"performNavigationBarSelectAction"})}})}),performNavigationBarSelectAction:function(){this.sendEvent("enterSelectModeButtonWasActivated")},isSelectedAll:X.b({readOnly:!0,strong:!0,dependencies:["selection","collection.length"],get:Object.assign((function(){var e=this.collection.length;return this.selection.size===e&&e>0}),{__CW__getter:function(e,t,n,i){var r=i.internalGetPath(this,t[1+n]);return i.internalGet(this,t[0+n]).size===r&&r>0}})}),isCollectionEmpty:X.b({readOnly:!0,strong:!0,dependencies:["collection.length"],get:Object.assign((function(){return 0===this.collection.length}),{__CW__getter:function(e,t,n,i){return 0===i.internalGetPath(this,t[0+n])}})}),selectAllButtonView:X.b({readOnly:!0,strong:!0,dependencies:["isSelectionModeActive","isSelectedAll","isCollectionEmpty"],get:Object.assign((function(){if(this._primaryInteractionMode===li.a.TOUCH&&this.isSelectionModeActive&&!this.isSelectedAll&&!this.isCollectionEmpty)return Pi.a.extend({keyEquivalent:ji.a.ENTER,keyUp:function(e){var t=e.which,n=this,i=arguments;return t===ji.a.TAB&&this.element.classList.remove("no-focus-outline"),n.__s._$9no$keyUp.apply(n,i)},__superMap:{_$9no$keyUp:"keyUp"}}).create({title:a.d("DriveUI.NavigationBar.SelectAllButton.Title"),additionalClassNames:["select-all-button","no-focus-outline"],target:this,action:"performNavigationBarSelectAllAction"})}),{__CW__getter:function(e,t,n,i){if(this._primaryInteractionMode===li.a.TOUCH&&i.internalGet(this,t[0+n])&&!i.internalGet(this,t[1+n])&&!i.internalGet(this,t[2+n]))return Pi.a.extend({keyEquivalent:ji.a.ENTER,keyUp:function(e){var t=e.which,n=this,i=arguments;return t===ji.a.TAB&&this.element.classList.remove("no-focus-outline"),n.__s._$9no$keyUp.apply(n,i)},__superMap:{_$9no$keyUp:"keyUp"}}).create({title:a.d("DriveUI.NavigationBar.SelectAllButton.Title"),additionalClassNames:["select-all-button","no-focus-outline"],target:this,action:"performNavigationBarSelectAllAction"})}})}),performNavigationBarSelectAllAction:function(){this.selectionController.selectAll()},deselectAllButtonView:X.b({readOnly:!0,strong:!0,dependencies:["isSelectionModeActive","isSelectedAll"],get:Object.assign((function(){if(this._primaryInteractionMode===li.a.TOUCH&&this.isSelectionModeActive&&this.isSelectedAll)return Pi.a.extend({keyEquivalent:ji.a.ENTER,keyUp:function(e){var t=e.which,n=this,i=arguments;return t===ji.a.TAB&&this.element.classList.remove("no-focus-outline"),n.__s._$A8w$keyUp.apply(n,i)},__superMap:{_$A8w$keyUp:"keyUp"}}).create({title:a.d("DriveUI.NavigationBar.DeselectAllButton.Title"),additionalClassNames:["deselect-all-button","no-focus-outline"],target:this,action:"performNavigationBarDeselectAllAction"})}),{__CW__getter:function(e,t,n,i){if(this._primaryInteractionMode===li.a.TOUCH&&i.internalGet(this,t[0+n])&&i.internalGet(this,t[1+n]))return Pi.a.extend({keyEquivalent:ji.a.ENTER,keyUp:function(e){var t=e.which,n=this,i=arguments;return t===ji.a.TAB&&this.element.classList.remove("no-focus-outline"),n.__s._$A8w$keyUp.apply(n,i)},__superMap:{_$A8w$keyUp:"keyUp"}}).create({title:a.d("DriveUI.NavigationBar.DeselectAllButton.Title"),additionalClassNames:["deselect-all-button","no-focus-outline"],target:this,action:"performNavigationBarDeselectAllAction"})}})}),performNavigationBarDeselectAllAction:function(){this.selectionController.userPerformedSelectionOperation(null)},doneButtonView:X.b({readOnly:!0,strong:!0,dependencies:["isSelectionModeActive"],get:Object.assign((function(){if(this._primaryInteractionMode===li.a.TOUCH&&this.isSelectionModeActive)return bP.create({target:this,action:"performNavigationBarDoneAction"})}),{__CW__getter:function(e,t,n,i){if(this._primaryInteractionMode===li.a.TOUCH&&i.internalGet(this,t[0+n]))return bP.create({target:this,action:"performNavigationBarDoneAction"})}})}),performNavigationBarDoneAction:function(){this.sendEvent("exitSelectModeButtonWasActivated"),this.performNavigationBarDeselectAllAction()},performInfoForSelectedItemAction:function(){var e=this.selectedItem;if(e instanceof Object){this.scrollToItem(e);var t=this.findItemViewForVisibleItem(e);t instanceof Object&&this.activateItemViewInfo(t)}},navigationBarWidthListener:Ni.e("navigationItem.titleLabel.isAttached","viewportWidth",(function(e){e&&this.updateSubtitle(!1)})),updateSubtitle:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=jr.a(this,"navigationItem.titleLabel"),n=this.folder;if(bt.a(t)&&bt.a(n)){var i=jr.a(t,"element.clientWidth"),r=jr.a(n,"sharedFolderFromHierarchy"),a=zl(r,t.subtitleFont,i);t.changeSubtitle(a,e)}},_sizeClassHorizontal:X.b(),_sizeClassVertical:X.b(),_sortOptions:Y.c({readOnly:!0,get:function(){return[{title:a.d("DriveUI.FilesGrid.SortButtonTitle.Name"),value:cd.Name},{title:a.d("DriveUI.FilesGrid.SortButtonTitle.Size"),value:cd.Size},{title:a.d("DriveUI.FilesGrid.SortButtonTitle.Date"),value:cd.DateModified},{title:a.d("DriveUI.FilesGrid.SortButtonTitle.Kind"),value:cd.Kind}].sort((function(e,t){return xl(e.title,t.title)}))}}),sortByTitle:X.b({readOnly:!0,dependencies:["folderContent.sortType"],get:function(){if(!this.folderContent)return"";var e=jr.a(this,"folderContent.sortType");return bt.a(e)&&e in UP?UP[e]:""}}),sortByActionMenuButtonView:X.b({readOnly:!0,strong:!0,get:function(){return _P.create({target:this,title:this.bindingFor("sortByTitle"),action:"performSortByAction"})}}),performSortByAction:function(){this._sortControl.show()},performSortByControlAction:function(e){this.fileSystem.sortType=e.value},didAttach:function(){var e=this,t=arguments;e.__s._$BhX$didAttach.apply(e,t);var n=this.folderContent;n||ze.b("Cannot show view. Required folder content",{controller:this}),this.subscribeToAllNotifications(),this.session.listContents(),n.hasLoadedContent&&this.folderContent.startRemoteSynchronization()},willDetach:function(){var e=this,t=arguments;e.__s._$Bq3$willDetach.apply(e,t),this.unsubscribeFromAllNotifications(),this.folderContent.stopRemoteSynchronization(),this.stopWatchingShareRecord()},subscribeToNotification:function(e){Th.addTargetActionForNotification(this,e.action,e.name)},unsubscribeFromNotification:function(e){Th.removeTargetActionForNotification(this,e.action,e.name)},subscribeToAllNotifications:function(){var e=this;this.folder&&this.folder.isInTrash?NP.forEach((function(t){e.subscribeToNotification(t)})):MP.forEach((function(t){e.subscribeToNotification(t)}))},unsubscribeFromAllNotifications:function(){var e=this;this.folder&&this.folder.isInTrash?NP.forEach((function(t){e.unsubscribeFromNotification(t)})):MP.forEach((function(t){e.unsubscribeFromNotification(t)}))},performCreateSubfolderAction:function(){var e=this,t=this.folderContent,n=this.folder;n&&n.isSharedDirectlyOrIndirectly&&this.fileSystem.loggingService.recordStat("Attempted to create folder inside shared folder",{dest_isChainedToParent:n.isChainedToParent?"true":"false",dest_isSharedByMe:n.isSharedByMe?"true":"false",dest_isSharedToMe:n.isSharedToMe?"true":"false",dest_isSharedDirectly:n.isSharedDirectly?"true":"false",dest_isSharedIndirectly:n.isSharedIndirectly?"true":"false"});var i=2,r=a.d("DriveUI.FilesGrid.Default.FolderName.NotNumbered");for(this.endEditingCellIfNeeded(this._editingItemView,!0);t.hasItemMatchingName(r);)r=a.d("DriveUI.FilesGrid.Default.FolderName.Numbered",{number:i}),i++;var o=this.fileSystem.generateCreateFolderTransaction(r,this.folder);o.stage(),this._createFolderTransaction&&(this._createFolderTransaction.commit().then((function(t){return t.failed&&UR(e)(t.data),t})),this._createFolderTransaction=null),this._createFolderTransaction=o;var s=o.stagedFolder;this.selectItem(s,GS.SET),this.scrollToItem(s),ft.a((function(){if(e._createFolderTransaction===o){var t=e.findItemViewForVisibleItem(s);t instanceof Object&&e.beginEditingCell(t)}}),100)},setEverySelectionItemTransactionState:function(e){this.selection.forEach((function(t){return t.transactionState=e}))},performMoveSelectedItemsToTrashAction:function(){var e=this,t=this.selection;if(0!==t.size){if(this._doesSelectionContainLockedItems(t))return this._alertUserOfLockedFilesBlockingDelete(t),Z.a.resolve();this.setEverySelectionItemTransactionState(Jr.Committing);var n=t.clone(),i=this.folder.sharedFolderFromHierarchy,r=jr.a(this,"hostService"),o=BP||bt.a(r)&&!0===r.getCachedAppPreference("hasShownDeleteItemInsideSharedFolderAsOwnerWarning"),s=bt.a(r)&&!o&&bt.a(i)&&!0===i.isSharedByMe;return function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=GF(e),o=r.fileCount,s=r.sharedByMeCount,l=r.sharedToMeCount,c=r.folderCount,u=r.appLibraryCount,d=r.systemFolderCount,h=r.sharedByMeNames,f=r.sharedToMeNames,p=r.folders,m=r.appLibraryNames,g=r.systemFolderNames,v=r.totalSharedFolderCount,_=r.fileExtensionTypeHash,b=r.selectionContainsAmbiguousItems,y=r.sharedToMeExtensionsCount,S=r.sharedByMeExtensionsCount,I=e.size,w=l+s,E=null;if(d>0)E=tL(o,c,d,g,b);else if(u>0)E=nL(o,c,u,m);else{if(bt.a(t)&&t.isSharedByMe&&!i)return Z.a.resolve({message:a.d("DriveUI.Alert.Delete.Message.InSharedFolder.OneTimeOnly"),description:a.d("DriveUI.Alert.Delete.Description.InSharedFolder.OneTimeOnly")});o>0&&0===c?E=QF(o,s,l,h,f,t,_,I,y):0===o&&c>0?E=0===w?qF(c,p,n,I,_,y,S):XF(c,s,l,h,f,t,b,y,S):o>0&&c>0?E=ZF(o,c,s,l,p,h,f,v,n,t,I,_,b,y,S):ze.b("Delete Alert: Both file count and folder count is 0!")}return E}(n,i,void 0,o).then((function(t){if(t){var i=Z.a.create();return n_.a.show({iconNames:jP,message:t.message,description:t.description,primaryButton:{title:a.d("DriveUI.FilesGrid.Default.Delete"),ariaLabel:a.d("DriveUI.FilesGrid.Default.Delete"),action:"handlePrimaryButton",isPrimary:!0,isDestructive:!0},alternateButton:{title:a.d("DriveUI.Common.Cancel"),action:"handleAlternateButton",isAlternate:!0},handlePrimaryButton:function(){e.deleteOrPurgeSelectedItems(n),s&&(BP=!0,r.setAppPreference("hasShownDeleteItemInsideSharedFolderAsOwnerWarning",!0)),i.resolve()},handleAlternateButton:function(){e.setEverySelectionItemTransactionState(Jr.Prepared),i.resolve()}}),i}return e.deleteOrPurgeSelectedItems(n)}))}this.fileSystem.loggingService.recordStat("performMoveSelectedItemsToTrashAction() called when selection is 0 items",{class:"BRApp.FilesGridViewController",function:"performMoveSelectedItemsToTrashAction()",selectionCount:0})},_doesSelectionContainLockedItems:function(e){var t=!1;return e.forEach((function(e){!1===e.canDelete&&(t=!0)})),t},_alertUserOfLockedFilesBlockingDelete:function(e){var t=0,n=null;e.forEach((function(e){!1===e.canDelete&&(t++,n=e)}));var i,r,o="DriveUI.Alert.LockedItem.Delete";1===t?(i=a.d(o+".Single.Message",{name:n.fullName}),r=n.isFolder?a.d(o+".Single.Folder.Description"):a.d(o+".Single.File.Description")):(i=a.d(o+".Multiple.Message"),r=a.d(o+".Multiple.Description")),n_.a.show({iconNames:jP,message:i,description:r,primaryButton:{title:a.d("DriveUI.Common.Button.OK"),isPrimary:!0}})},shareRecordWatchHandle:null,startWatchingShareRecord:function(){var e=this.folder;if(e.isSharedDirectlyOrIndirectly&&null===this.shareRecordWatchHandle){var t=this.itemSharingServiceFactory(e.sharedFolderFromHierarchy,{delegate:this}).startWatchingShareRecord();t.ok&&(this.shareRecordWatchHandle=t.data[0])}},stopWatchingShareRecord:function(){kD.stopWatchingShareRecord(this.shareRecordWatchHandle),this.shareRecordWatchHandle=null},performShareItemAction:function(){var e=this.selection,t=this.session,n=0===e.size?t.currentWorkingDirectory:e.createIterator().value;return n.isFolder&&!n.sharedFolderFromHierarchy?this.confirmAlertMessageForSharingFolder(n):this.shareItem(n)},performEmailSelectedItemsAction:function(){this.composeEmailService.emailSelection(this.selection)},performDownloadSelectedItemsAction:function(){var e=this,t=this.selection;if(t.size>0){var n=[];t.forEach((function(t){return n.push(e.itemURLService.getURLForItem(t))})),Z.a.all(n).then((function(t){var n=t.filter((function(e){return e.ok})).map((function(e){return e.data}));return t.filter((function(e){return!e.ok})).map((function(e){return e.data})).forEach((function(t){var n="DocumentDeletedException"===t.errorCode?JM.RequestedItemWasDeletedError:JM.GenericDownloadError,i=Tf.create(n,Af.create(t.item));e.raiseAlertService.raiseAlertForErrorItem(i)})),e.downloadService.downloadFromURLs(n.map((function(e){return e.url})))}))}},performPutFilesBackFromTrash:function(){var e=this.selection,t=Array.from(e.size>0?e:this._getAllContentForPutBackRecentlyDeletedItems()),n=this.session.fileSystem.generatePutItemsBackFromTrashTransaction(t),i=this._commitRemoveFilesFromViewTransaction(n,t);return this.sendEvent("putFilesBackFromTrashActionWasPerformed"),i},performPurgeRecentlyDeletedItems:function(){var e=this,t=this.selection,n=this.selection;if(0===t.size){var i=this._getAllContentForPurgeRecentlyDeletedItems();t=i[0],n=i[1]}var r=this.generatePurgeSelectedRecentlyDeletedItemsModalText(n);if(r){var o=r.actionButtonTitle,s=r.message,l=r.description,c=r.confirmationHandler;n_.a.show({iconNames:jP,message:s,description:l,primaryButton:{title:o,action:"handlePrimaryButton",isPrimary:!0,isDestructive:!0},alternateButton:{title:a.d("DriveUI.Common.Cancel"),action:"handleAlternateButton",isAlternate:!0},handlePrimaryButton:function(){c(t.toArray()),e.sendEvent("purgeRecentlyDeletedItemsActionWasPerformed")},handleAlternateButton:function(){e.setEverySelectionItemTransactionState(Jr.Prepared)}})}},shareItem:function(e){var t=this,n=this.iconService,i=this.showcaseViewPool,r=this.thumbnailCanvasFactory,a=this.thumbnailStatsReporterService,o=e.isSharedIndirectly?e.sharedFolderFromHierarchy:e,s=this.itemSharingServiceFactory(o,{delegate:this,subItem:o!==e?e:null,manageShareWorkflowClass:RP,manageShareWorkflowOptions:{content:e,iconService:n,showcaseViewPool:i,thumbnailCanvasFactory:r,thumbnailStatsReporterService:a,delegate:this}});Th.dispatchNotification(Ah.create({id:"startingShareFlow"})),s.launchSharingUI().then((function(n){var i=n.data.share&&n.data.share.fields["cloudkit.type"];n.ok?i&&"com.apple.folder"===i.value&&t.loggingService.recordStat("InitiatedFolderSharing"):(i&&"com.apple.folder"===i.value&&t.loggingService.recordStat("FolderSharingInitiationFailed"),t._handleFailureToLaunchSharingUI(e,n))})).finally((function(){Th.dispatchNotification(Ah.create({id:"finishedShareFlow"}))}))},_determineAlertDetailsForFailureToLaunchSharingUI:function(e,t){var n,i,r=e.name;return t?e.isFile?(n=a.d("DriveUI.FilesGrid.Error.ShareFile.UnsharedToMe.Message",{fileName:r}),i=a.d("DriveUI.FilesGrid.Error.ShareFile.UnsharedToMe.Description")):(n=a.d("DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Message",{folderName:r}),i=a.d("DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Description")):e.isFile?(n=a.d("DriveUI.FilesGrid.Error.ShareFile.Generic.Message",{fileName:r}),i=a.d("DriveUI.FilesGrid.Error.ShareFile.Generic.Description")):(n=a.d("DriveUI.FilesGrid.Error.ShareFolder.Generic.Message",{folderName:r}),i=a.d("DriveUI.FilesGrid.Error.ShareFolder.Generic.Description")),[n,i]},_handleFailureToLaunchSharingUI:function(e,t){var n=this,i=t.data.isSharedToMeUnshared,r=this._determineAlertDetailsForFailureToLaunchSharingUI(e,i),o=r[0],s=r[1];return e.isFolder&&i&&this.navigateOutFromUnsharedRemotelyFolder(e),n_.a.show({iconNames:jP,message:o,description:s,primaryButton:{title:a.d("DriveUI.Common.Button.OK"),action:"handlePrimaryButton",isPrimary:!0},handlePrimaryButton:function(){i&&n.fileSystem.destroyItem(e)}}),t},deleteOrPurgeSelectedItems:function(e){var t=[],n=[];e.forEach((function(e){e.isAppLibrary||e.isSharedToMe?n.push(e):t.push(e)}));var i=[];return t.length>0&&i.push(this.deleteSelectedItems(t)),n.length>0&&i.push(this.purgeSelectedItems(n)),Z.a.all(i)},deleteSelectedItems:function(e){var t=this.session.fileSystem.generateMoveItemsToTrashTransaction(e);return this._commitRemoveFilesFromViewTransaction(t,e)},purgeSelectedItems:function(e){var t=this.session.fileSystem.generateTombstoneItemsTransaction(e);return this._commitRemoveFilesFromViewTransaction(t,e)},purgeSelectedRecentlyDeletedItems:function(e){var t=this.session.fileSystem.generatePurgeRecentlyDeletedItemsTransaction(e);return this._commitRemoveFilesFromViewTransaction(t,e)},confirmAlertMessageForSharingFolder:function(e){var t=this,n=e.sharedByMeCount,i=e.sharedToMeCount;if(n>0&&0===i){var r=a.d("DriveUI.Alert.Share.Folder.Message.SharedByMe"),o=a.d("DriveUI.Alert.Share.Folder.Description"+(1===n?".Single":".Multiple")+".Item.SharedByMe");return n_.a.show({iconNames:jP,message:r,description:o,primaryButton:{ariaLabel:a.d("DriveUI.FilesGrid.Default.Share"),title:a.d("DriveUI.FilesGrid.Default.Share"),action:"handlePrimaryButton",isPrimary:!0,isDestructive:!0},alternateButton:{title:a.d("DriveUI.Common.Cancel"),isAlternate:!0},handlePrimaryButton:function(){t.shareItem(e)}})}if(i>0){var s=a.d("DriveUI.FilesGrid.Error.ShareFolder.Message.SharedToMe"),l=a.d("DriveUI.FilesGrid.Error.ShareFolder.Description.SharedToMe");return n_.a.show({iconNames:jP,message:s,description:l,primaryButton:{title:a.d("DriveUI.Common.Button.OK"),isPrimary:!0}})}return this.shareItem(e)},generatePurgeSelectedRecentlyDeletedItemsModalText:function(e){var t=this,n=function(e){var t,n,i=GF(e),r=i.fileCount,o=i.folderCount;if(r>0&&o>0)t=a.d("DriveUI.Alert.Purge.Message.Mix",{count:r+o}),n=a.d("DriveUI.Alert.Purge.Description.Mix");else{var s=r>0?"File":"Folder",l="File"===s?r:o,c=s+"."+(1===l?"Single":"Multiple");t=a.d("DriveUI.Alert.Purge.Message."+c,{count:l,name:Array.from(e)[0].name}),n=a.d("DriveUI.Alert.Purge.Description."+c)}return{message:t,description:n}}(e),i=n.message,r=n.description;return{actionButtonTitle:a.d("DriveUI.FilesGrid.Default.Delete"),message:i,description:r,confirmationHandler:function(e){return t.purgeSelectedRecentlyDeletedItems(e)}}},_getAllContentForPurgeRecentlyDeletedItems:function(){var e=this.folderContent;return[e.allContent,e.visibleContent]},_getAllContentForPutBackRecentlyDeletedItems:function(){return this.folderContent.visibleContent},_commitRemoveFilesFromViewTransaction:function(e,t){var n=this,i=this._nextIndexLessItems(t);if(i>=0&&i<this.collection.length){var r=this.collection.objectAt(i),a=this.collection.handleFor(r);this.selectionDelegate.selectionControllerShouldSelectItem(this.selectionController,a)&&(this.selectItemAtIndex(i,GS.SET),this.scrollToItem(r))}return e.commit().then((function(e){if(e.failed){var t=n.folder,i=e.data[0].details,r=i.isSourceFolderSharedToMe,a=i.conflictType,o=Df.ItemUnshared;r&&a===o&&n.navigateOutFromUnsharedRemotelyFolder(t);for(var s=0;s<e.data.length;s++)Dd.isItemExpired(e.data[s].details.item)||n.raiseAlertService.raiseAlertForErrorItem(e.data[s])}return e}))},_nextIndexLessItems:function(e){for(var t=-1,n=this.collection,i=e.length-1;i>=0;i--){var r=n.indexOf(e[i]);t=Math.max(r+1,t)}return t},didAddShareToItem:function(e,t){this._actionPolicy.propertyChanged("isItemShared");var n=this.folder;bt.a(n)&&n.isSharedDirectlyOrIndirectly&&n.sharedFolderFromHierarchy===t&&this.updateSubtitle()},willRemoveShareFromItem:function(e,t){this.stopWatchingShareRecord(),t.isSharedToMe&&this.purgeSelectedItems([t])},didRemoveShareFromItem:function(e,t){this._actionPolicy.propertyChanged("isItemShared"),this.updateSubtitle()},didUpdateShareForItem:function(e,t){var n=this.folder;bt.a(n)&&n.isSharedDirectlyOrIndirectly&&n.sharedFolderFromHierarchy===t&&this.updateSubtitle()},navigateToSharedFolderParent:function(e){var t=this.session,n=function(e){var t=null;if(!e)return t;var n=e.sharedFolderFromHierarchy;if(n&&n.parent)t=n.parent;else if(n&&n.path){var i=n.path.length>1?n.path.length-2:0;t=n.path[i]}return t}(e);n&&t.changeDirectory(n).then((function(e){e.ok}))},didRequestMoveToSharedFolderRoot:function(e){var t=e.sharedFolderFromHierarchy;t&&this.parent.changeDirectoryAndGoToItem(t.parent,t)},navigateOutFromUnsharedRemotelyFolder:function(e){var t=e.parent,n=t&&t.parent?t:this.fileSystem.driveRootFolder;this.session.changeDirectory(n)},folderWasUnsharedRemotely:function(e){n_.a.show({iconNames:jP,message:a.d("DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Message",{folderName:e.name}),description:a.d("DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Description"),primaryButton:{title:a.d("DriveUI.Common.Button.OK"),isPrimary:!0}}),this.navigateOutFromUnsharedRemotelyFolder(e)},activateItem:function(e){var t=this;if(!e.transactionStateIsCommitting()){var n=this.collection.handleFor(e);if(this.selectionDelegate.selectionControllerShouldSelectItem(this.selectionController,n))if(this.selectedItem!==e&&this.selectItem(e,GS.SET),e.isFolder||e.isAppLibrary)if(e.canListContents)this.session.changeDirectory(e);else{var i=a.d("DriveUI.Alert.LockedItem.ListContents.Single.Message",{name:e.name}),r=a.d("DriveUI.Alert.LockedItem.ListContents.Single.Description");n_.a.show({iconNames:jP,message:i,description:r,primaryButton:{title:a.d("DriveUI.Common.Button.OK"),isPrimary:!0}})}else e.isFile&&this.openFileService.openFile(e).then((function(e){var n=e.data;if(!e.ok&&n){var i=n.item,r="DocumentDeletedException"===n.errorCode?tN.RequestedItemWasDeletedError:"WSObjectNotFound"===n.errorCode&&i.isSharedToMe?tN.RequestedItemWasUnshared:tN.GenericOpenItemError,a=r===tN.RequestedItemWasDeletedError||r===tN.RequestedItemWasUnshared,o=Tf.create(r,Af.create(i));t.raiseAlertService.raiseAlertForErrorItem(o),a&&t.fileSystem.destroyItem(i)}}))}},activateItemView:function(e){return this.activateItem(e.content)},activateView:function(){var e=this.selectedItem;if(e instanceof Object)return this.activateItem(e)},activateItemViewInfo:function(e){var t=e.content,n=this._infoDialogController,i=this.infoPopoverController;this.fileSystem.itemIsStaged(t)||(n.content=t,i.show(e.infoButton),i.desiredSize.height=n.view.rect.height,this.folderContent.stopRemoteSynchronization(),this.stopWatchingShareRecord())},activateItemViewTitle:function(e){return this.endEditingCellIfNeeded(this._editingItemView,!0),this.activateItemView(e)},activateItemViewCancel:function(e){this.session.cancelUploadForFile(e.content)},filesGridCellPerformContentEditCommitForValue:function(e,t,n){var i=this,r=this._createFolderTransaction;if(r&&r.stagedFolder===t){t.name=n;var a=this.folder,o=r.commit().then((function(e){var t=UR(i);if(e.failed){var n=e.data[0],r=n.details,o=r.isDestinationFolderSharedToMe,s=r.conflictType,l=Df,c=l.DestinationInvalid,u=l.DestinationDeleted;!o||s!==c&&s!==u||i.navigateOutFromUnsharedRemotelyFolder(a),i.fileSystem.loggingService.recordStat("FailedToCreateFolder",{op:"create_folder",conflictType:n.details.conflictType.name,dest_isChainedToParent:a.isChainedToParent?"true":"false",dest_isSharedByMe:a.isSharedByMe?"true":"false",dest_isSharedToMe:a.isSharedToMe?"true":"false",dest_isSharedDirectly:a.isSharedDirectly?"true":"false",dest_isSharedIndirectly:a.isSharedIndirectly?"true":"false"}),t(e.data)}return e}));return this._createFolderTransaction=null,o}this._tryCommittingNameToFolderItem(n,e.content).then((function(e){e.failed&&UR(i)(e.data)}))},filesGridCellPerformContentEditCancelForValue:function(e,t){var n=this;this._createFolderTransaction&&(this._createFolderTransaction.commit().then((function(e){return e.failed&&UR(n)(e.data),e})),this._createFolderTransaction=null)},filesGridCellDidBeginEditMode:function(e){this.beginEditingCell(e),this._actionPolicy.isEditing=!0},filesGridCellDidEndEditMode:function(e){this._actionPolicy.isEditing=!1,this.endEditingCellIfNeeded(e,!0)},beginEditingCell:function(e){var t=this._editingItemView;t!==e&&(t&&t.endEditing(!0),e.beginEditing(),this._editingItemView=e)},endEditingCellIfNeeded:function(e,t){bt.a(e)&&(e.endEditingIfNeeded(t),e===this._editingItemView&&(this._editingItemView=null))},_tryCommittingNameToFolderItem:function(e,t){if(t.name===e)return Z.a.resolve(o.okResult());var n=this.session.validateRenameItem(t,e);if(!1===n){var i=this.fileSystem.generateRenameItemTransaction(t,e);return this.scrollToItem(t),i.commit()}return Z.a.resolve(o.failedResult([n]))},keyDown:function(e){var t=this,n=arguments,i=!1,r=this.selection,a=this._actionPolicy,o=this._trashPolicy,s=e.metaKey||e.ctrlKey;switch(e.which){case ji.a.DELETE:case ji.a.BACKSPACE:i=!0,r.size>0&&(this.folder.isInTrash?o.shouldAllowTombstoneFiles&&this.performPurgeRecentlyDeletedItems():a.shouldAllowMoveToTrash&&this.performMoveSelectedItemsToTrashAction());break;case ji.a.RETURN:var l=this.selectedItem;if(l instanceof Object){i=!0,this.scrollToItem(l);var c=this.findItemViewForVisibleItem(l);c instanceof Object&&(globalThis.location.search.match(/doubleclick/)?this.beginEditingCell(c):s?this.activateItemView(c):this.activateItemViewInfo(c))}break;case ji.a.UP:s&&(i=!0,this.performNavigateBackAction());break;case ji.a.ESC:if(!s){i=!0;var u=this.infoPopoverController;u.isAttached?u.hide():this.performNavigateBackAction()}break;case ji.a.N:s&&(i=!0,!this.folder.isInTrash&&a.shouldAllowNewFolder&&this.performCreateSubfolderAction());break;case ji.a.E:s&&(i=!0,!this.folder.isInTrash&&a.shouldAllowEmailFiles&&this.performEmailSelectedItemsAction());break;case ji.a.U:s&&(i=!0,!this.folder.isInTrash&&a.shouldAllowUploading&&Th.dispatchNotification(Ah.create({id:"uploadItems"})));break;case ji.a.D:s&&(i=!0,!this.folder.isInTrash&&a.shouldAllowDownloading&&this.performDownloadSelectedItemsAction())}return i&&e.preventDefault(),i||t.__s._$RF8$keyDown.apply(t,n)},onIsScrollingFastDidChange:Ni.f("view.isScrollingFast",(function(e){var t=this;globalThis.clearTimeout(this._isScrollingFastDidChangeTimer),e?(this._isScrollingFastDidChangeTimer=null,this._pauseThumbnailWork()):this._isScrollingFastDidChangeTimer=ft.a((function(){t._isScrollingFastDidChangeTimer=null,t._resumeThumbnailWork(),t._loadThumbnailAfterScrollEvent()}),500)})),_isScrollingFastDidChangeTimer:null,_pauseThumbnailWork:function(){this.thumbnailCanvasFactory.suspendThumbnailLoading(),this.downloadImageService.cancelAllTasks(),this.thumbnailScalingService.cancelAllTasks(),this._forEachActiveShowcaseView((function(e){e.suspendThumbnailLoading()}))},_resumeThumbnailWork:function(){this.thumbnailCanvasFactory.resumeThumbnailLoading(),this._forEachActiveShowcaseView((function(e){e.resumeThumbnailLoading()}))},_forEachActiveShowcaseView:function(e){for(var t=this.presenter.activeViews,n=0,i=t.length;n<i;n++){var r=t.objectAt(n).showcaseView;Se.a(r,So)&&e.call(this,r)}},_loadThumbnailAfterScrollEvent:function(){var e=this.layoutController.visibleCells;if(e.length>0){var t=e.firstItem.handle.position,n=e.lastItem.handle.position,i=n-t,r=this.collection.length,a=1*i,o=n+1;if(o+a<r)this._loadItemsInRange(o,o+a);else if(o!==r){var s=r-o-1;this._loadItemsInRange(o,o+s,!0)}var l=1*i,c=t-1;(c=c<0?0:c)-l>=0?this._loadItemsInRange(c-l,c):0!==c&&this._loadItemsInRange(c,0)}},_loadItemAtIndex:function(e){var t=this.collection.objectAt(e);t instanceof Object&&t.isFile&&!this.fileSystem.itemIsStaged(t)&&this.thumbnailCanvasFactory.cacheThumbnailCanvasForFile(t,this.itemDisplaySizeForPlatform)},_loadItemsInRange:function(e,t){for(var n=e<=t?1:-1,i=e;i<=t;i+=n)this._loadItemAtIndex(i)},__superMap:{_$2NX$createView:"createView",_$57c$init:"init",_$BhX$didAttach:"didAttach",_$Bq3$willDetach:"willDetach",_$RF8$keyDown:"keyDown"},staticMembers:{__QUALIFIED_CLASS_NAME__:"FilesGridViewController"}}),$P={RTL:"rtl",LTR:"ltr"};Object.freeze($P);var WP={staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"section",children:[{type:"MULTIVIEWOUTLET",tagname:"views",classes:["group","left"],name:"leftToolbarItems"},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"contentView"}],classes:["group","middle"],name:"middleContainer"},{type:"MULTIVIEWOUTLET",tagname:"views",classes:["group","right"],name:"rightToolbarItems"}],attributes:{dir:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"componentDirection",attributes:{},attribute:"dir"}}}}},addViewToLeftGroup:function(e){this.leftToolbarItems.push(e)},addViewToRightGroup:function(e){this.rightToolbarItems.push(e)},componentDirection:X.b({get:function(){return a.a.sharedInstance.isRTL?$P.RTL:$P.LTR}}),loadViewsForGroups:Vr.a,additionalClassNames:Mi.a(["toolbar"]),ariaRole:"toolbar"},zP=Di.a.extend(WP,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",attributes:{dir:"ltr"}},middleContainer:{type:"ELEMENT",tagname:"ext",attributes:{dir:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"middleContainerDirection",attributes:{},attribute:"dir"}}}},__QUALIFIED_CLASS_NAME__:"ToolbarView"},middleContainerDirection:J.c("componentDirection"),folderToolbarView:X.b(),trashToolbarView:X.b(),session:X.b(),currentWorkingDirectoryObserver:Ni.f({inputs:["session.currentWorkingDirectory"],callback:function(e){this._updateContentView(e)}}),_updateContentView:function(e){if(e){var t=e.isInTrash,n=this.folderToolbarView,i=this.trashToolbarView,r=this.contentView;this.contentView=t||r===n?t&&r!==i?i:r:n}}}),GP=$x.extend(WP,{staticMembers:{initialHeight:50,__QUALIFIED_CLASS_NAME__:"FilesGridHeaderView"},additionalClassNames:Mi.a(["files-grid-header","navigation-bar"]),folderLeftViews:X.b({defaultValue:function(){return $i.b.create()},set:function(e){return $i.b.from(e)}}),trashLeftViews:X.b({defaultValue:function(){return $i.b.create()},set:function(e){return $i.b.from(e)}}),session:X.b(),currentWorkingDirectoryObserver:Ni.f({inputs:["session.currentWorkingDirectory"],callback:function(e){this._updateContentView(e)}}),_updateContentView:function(e){if(e){var t=e.isInTrash,n=this.folderLeftViews,i=this.trashLeftViews;t?t&&(this.leftToolbarItems=i):this.leftToolbarItems=n}}}),HP={additionalClassNames:Mi.a(["toolbar-item"])},KP=fF.extend(HP,{init:function(e,t,n){this.__s._$DF$init.call(this,Object.assign({},n,{actionPolicy:e,uploadViewController:t}))},symbolMetadata:{name:"icloud.and.arrow.up",svgPath:"M 37.9883 -2.00195 L 55.957 -2.00195 L 55.957 -9.86328 L 37.9883 -9.86328 C 25.6836 -9.86328 16.6016 -17.9688 16.6016 -27.8809 C 16.6016 -37.207 22.5098 -44.9219 32.8613 -44.9219 C 33.5449 -44.9219 33.7891 -45.3125 33.7891 -45.9473 C 33.7891 -60.9375 44.5801 -65.0879 54.6387 -62.1582 C 55.2246 -61.9629 55.5664 -62.0605 55.8594 -62.5977 C 60.5957 -71.0449 67.8711 -78.0273 80.5176 -78.0273 C 96.5332 -78.0273 107.617 -65.332 108.447 -50.7812 C 108.594 -48.584 108.447 -45.9473 108.252 -43.6523 C 108.203 -43.0176 108.447 -42.627 109.033 -42.5293 C 117.92 -40.5762 123.633 -34.082 123.633 -25.7324 C 123.633 -16.6016 115.625 -9.86328 105.225 -9.86328 L 84.7168 -9.86328 L 84.7168 -2.00195 L 105.225 -2.00195 C 119.971 -2.00195 131.494 -12.3047 131.494 -25.7324 C 131.494 -35.4492 125.586 -44.3848 116.064 -48.3887 C 116.162 -70.166 100.488 -85.8887 80.5176 -85.8887 C 67.2852 -85.8887 57.8613 -78.8086 52.002 -70.2637 C 40.918 -73.2422 26.9043 -64.6484 26.6602 -50.9277 C 15.625 -49.1699 8.74023 -39.3555 8.74023 -27.8809 C 8.74023 -13.5742 21.2891 -2.00195 37.9883 -2.00195 Z M 70.3613 19.2871 C 72.4609 19.2871 74.2188 17.5781 74.2188 15.5273 L 74.2188 -30.2734 L 73.9258 -39.3066 L 77.1973 -35.8398 L 84.6191 -28.4668 C 85.3516 -27.7344 86.3281 -27.2949 87.2559 -27.2949 C 89.2578 -27.2949 90.8203 -28.7109 90.8203 -30.7129 C 90.8203 -31.7383 90.4297 -32.6172 89.6484 -33.3008 L 73.1445 -48.7305 C 72.1191 -49.6582 71.3379 -50 70.3613 -50 C 69.3359 -50 68.5547 -49.6582 67.5293 -48.7305 L 51.0254 -33.3008 C 50.1953 -32.6172 49.8535 -31.7383 49.8535 -30.7129 C 49.8535 -28.7109 51.3184 -27.2949 53.3691 -27.2949 C 54.2969 -27.2949 55.3223 -27.7344 56.0547 -28.4668 L 63.4766 -35.8398 L 66.748 -39.3066 L 66.4551 -30.2734 L 66.4551 15.5273 C 66.4551 17.5781 68.2617 19.2871 70.3613 19.2871 Z",layoutBox:{viewBox:"0 0 212.646728515625 159.98291015625",width:212.646728515625,height:159.98291015625,translateX:36.20625732421877,translateY:115.221435546875,baseline:115.221435546875,capline:44.761474609375},glyphBox:{viewBox:"0 0 122.7537841796875 109.0341796875",width:122.7537841796875,height:109.0341796875,translateX:-8.740214843749982,translateY:89.7470703125,baseline:89.7470703125,capline:19.287109375}},additionalClassNames:Mi.a(["upload-files","symbol-button","folder-toolbar-button"]),tooltip:X.b({readOnly:!0,dependencies:["isDisabled"],get:Object.assign((function(){return this.isDisabled?a.d("DriveUI.FolderToolbar.Button.Upload.Tooltip.Disabled"):a.d("DriveUI.FolderToolbar.Button.Upload.Tooltip.Enabled")}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?a.d("DriveUI.FolderToolbar.Button.Upload.Tooltip.Disabled"):a.d("DriveUI.FolderToolbar.Button.Upload.Tooltip.Enabled")}})}),inputElement:X.b({readOnly:!0,get:function(){return this.element.children[1]}}),isDisabled:X.b({readOnly:!0,dependencies:["actionPolicy.shouldAllowUploading"],get:Object.assign((function(){return!this.getPath("actionPolicy.shouldAllowUploading")}),{__CW__getter:function(e,t,n,i){return!i.internalGetPath(this,t[0+n])}})}),uploadViewController:X.b(),shouldAvoidTriggeringInput:J.c("uploadViewController.shouldShowPopover"),wasActivated:function(){this.uploadViewController.shouldShowPopover&&this.showUploadPopover()},popoverController:X.b({strong:!0,readOnly:!0,get:function(){var e=this.uploadViewController,t=oF.create({viewClass:Mi.a({additionalClassNames:["drive-ui"]}),allowedLayouts:[rb],contentController:e}),n=Ge.a.extend({mixinDependencies:[sF],contentDidRequestResize:function(e){var n=e.height,i=jr.a(t,"view.popoverView");return bt.a(i)&&i.style.set("height",n),e}}).create();return e.resizeDelegate=n,t}}),fileUploadButtonFilesChanged:function(e,t){this.uploadViewController.uploadFilesToCurrentFolder(t)},showUploadPopover:function(){this.popoverController.show(this)},__superMap:{_$DF$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadFilesToolbarButton"}}),QP=YN.extend({mixinDependencies:[HP,xL],desiredFontSize:14,ariaLabel:J.c("tooltip"),actionPolicy:X.b(),tabIndex:0,init:function(e,t){this.__s._$GD$init.call(this,Object.assign({},t,{actionPolicy:e}))},wasActivated:function(){this.sendEvent("folderToolbarButtonWasActivated")},__superMap:{_$GD$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"FolderToolbarButton"}}),qP=QP.extend({symbolMetadata:sR,tooltip:a.d("DriveUI.FolderToolbar.Button.NewFolder.Tooltip"),isDisabled:X.b({readOnly:!0,dependencies:["actionPolicy.shouldAllowNewFolder"],get:Object.assign((function(){return!this.get("actionPolicy.shouldAllowNewFolder")}),{__CW__getter:function(e,t,n,i){return!i.internalGetPath(this,t[0+n])}})}),wasActivated:function(){var e=this,t=arguments;Th.dispatchNotification(Ah.create({id:"createSubfolder"})),e.__s._$Ft$wasActivated.apply(e,t)},__superMap:{_$Ft$wasActivated:"wasActivated"},staticMembers:{__QUALIFIED_CLASS_NAME__:"NewFolderButton"}}),YP=qP.extend({init:function(e,t,n){this.delegate=t,this.__s._$85$init.call(this,e,n)},wasActivated:function(){var e=this.delegate,t=jr.a(e,"showCreateFolderModal");"function"===typeof t&&t.call(e)},__superMap:{_$85$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"NewFolderModalButton"}}),XP={name:"person.crop.circle.badge.plus",svgPath:"M 80.7617 13.2324 C 107.275 13.2324 129.199 -8.74023 129.199 -35.2539 C 129.199 -61.7188 107.227 -83.7402 80.7129 -83.7402 C 56.2012 -83.7402 35.6445 -64.9414 32.666 -41.2598 C 33.9355 -41.2598 35.1562 -41.1621 36.377 -40.9668 C 37.8906 -40.7715 39.4043 -40.4297 40.8691 -39.9902 C 43.1641 -59.9609 60.0586 -75.4395 80.7129 -75.4395 C 103.027 -75.4395 120.898 -57.5195 120.947 -35.2539 C 120.947 -24.8535 117.09 -15.4785 110.742 -8.34961 C 103.369 -14.502 92.334 -18.6035 80.7129 -18.6035 C 75.2441 -18.6035 69.043 -17.4316 63.2812 -15.3809 C 63.623 -13.5254 63.8184 -11.6211 63.8184 -9.7168 C 63.8184 -3.32031 61.8164 2.68555 58.4473 7.71484 C 65.1367 11.1816 72.7539 13.2324 80.7617 13.2324 Z M 80.7129 -27.002 C 90.0879 -27.002 97.168 -35.1074 97.168 -45.3125 C 97.168 -54.9316 89.9414 -63.2812 80.7129 -63.2812 C 71.5332 -63.2812 64.2578 -54.9316 64.2578 -45.3125 C 64.2578 -35.1074 71.3867 -27.002 80.7129 -27.002 Z M 32.2754 15.0879 C 45.752 15.0879 57.0801 3.85742 57.0801 -9.7168 C 57.0801 -23.291 45.8984 -34.5215 32.2754 -34.5215 C 18.7012 -34.5215 7.4707 -23.291 7.4707 -9.7168 C 7.4707 3.95508 18.7012 15.0879 32.2754 15.0879 Z M 32.3242 6.39648 C 30.6152 6.39648 29.1016 5.22461 29.1016 3.36914 L 29.1016 -6.73828 L 19.7754 -6.73828 C 18.1152 -6.73828 16.748 -8.10547 16.748 -9.7168 C 16.748 -11.377 18.1152 -12.7441 19.7754 -12.7441 L 29.1016 -12.7441 L 29.1016 -22.8516 C 29.1016 -24.6582 30.6152 -25.8301 32.3242 -25.8301 C 33.9844 -25.8301 35.498 -24.6582 35.498 -22.8516 L 35.498 -12.7441 L 44.8242 -12.7441 C 46.4844 -12.7441 47.8027 -11.377 47.8027 -9.7168 C 47.8027 -8.10547 46.4844 -6.73828 44.8242 -6.73828 L 35.498 -6.73828 L 35.498 3.36914 C 35.498 5.22461 33.9844 6.39648 32.3242 6.39648 Z",layoutBox:{viewBox:"0 0 212.646728515625 159.98291015625",width:212.646728515625,height:159.98291015625,translateX:37.98853027343739,translateY:115.221435546875,baseline:115.221435546875,capline:44.761474609375},glyphBox:{viewBox:"0 0 121.728271484375 100.6357421875",width:121.728271484375,height:100.6357421875,translateX:-7.470698242187609,translateY:85.5478515625,baseline:85.5478515625,capline:15.087890625}},JP={name:"person.crop.circle.badge.checkmark",svgPath:"M 80.7617 13.2324 C 107.275 13.2324 129.199 -8.74023 129.199 -35.2539 C 129.199 -61.7188 107.227 -83.7402 80.7129 -83.7402 C 56.2012 -83.7402 35.6445 -64.9414 32.666 -41.2598 C 33.9355 -41.2598 35.1562 -41.1621 36.377 -40.9668 C 37.8906 -40.7715 39.4043 -40.4297 40.8691 -39.9902 C 43.1641 -59.9609 60.0586 -75.4395 80.7129 -75.4395 C 103.027 -75.4395 120.898 -57.5195 120.947 -35.2539 C 120.947 -24.8535 117.09 -15.4785 110.742 -8.34961 C 103.369 -14.502 92.334 -18.6035 80.7129 -18.6035 C 75.2441 -18.6035 69.043 -17.4316 63.2812 -15.3809 C 63.623 -13.5254 63.8184 -11.6211 63.8184 -9.7168 C 63.8184 -3.32031 61.8164 2.68555 58.4473 7.71484 C 65.1367 11.1816 72.7539 13.2324 80.7617 13.2324 Z M 80.7129 -27.002 C 90.0879 -27.002 97.168 -35.1074 97.168 -45.3125 C 97.168 -54.9316 89.9414 -63.2812 80.7129 -63.2812 C 71.5332 -63.2812 64.2578 -54.9316 64.2578 -45.3125 C 64.2578 -35.1074 71.3867 -27.002 80.7129 -27.002 Z M 32.2754 15.0879 C 45.8984 15.0879 57.0801 3.95508 57.0801 -9.7168 C 57.0801 -23.291 45.8984 -34.5215 32.2754 -34.5215 C 18.7012 -34.5215 7.4707 -23.291 7.4707 -9.7168 C 7.4707 3.95508 18.7012 15.0879 32.2754 15.0879 Z M 29.3457 4.83398 C 28.5645 4.83398 27.5879 4.49219 26.9531 3.80859 L 17.5781 -6.49414 C 17.2363 -6.88477 16.9922 -7.71484 16.9922 -8.39844 C 16.9922 -10.0586 18.3105 -11.377 19.9707 -11.377 C 20.9473 -11.377 21.7285 -10.9375 22.2656 -10.3516 L 29.1992 -2.83203 L 42.1387 -20.752 C 42.6758 -21.5332 43.5547 -22.0703 44.6289 -22.0703 C 46.2402 -22.0703 47.6562 -20.8008 47.6562 -19.1406 C 47.6562 -18.6035 47.4121 -17.9688 46.9727 -17.334 L 31.8359 3.71094 C 31.3477 4.39453 30.3711 4.83398 29.3457 4.83398 Z",layoutBox:{viewBox:"0 0 212.646728515625 159.98291015625",width:212.646728515625,height:159.98291015625,translateX:37.98853027343739,translateY:115.221435546875,baseline:115.221435546875,capline:44.761474609375},glyphBox:{viewBox:"0 0 121.728271484375 100.6357421875",width:121.728271484375,height:100.6357421875,translateX:-7.470698242187609,translateY:85.5478515625,baseline:85.5478515625,capline:15.087890625}},ZP=QP.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isShared",truevalue:"on",falsevalue:"",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"SharingButton"},symbolMetadata:X.b({readOnly:!0,dependencies:["isShared"],get:Object.assign((function(){return this.isShared?JP:XP}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?JP:XP}})}),tooltip:X.b({readOnly:!0,dependencies:["isShared","actionPolicy.selection"],get:Object.assign((function(){var e=this.actionPolicy.selection,t="Folder";if(bt.a(e)){var n=e.createIterator().value;if(!n||n.isFolder)t="Folder";else{var i=QD(n.extension);t=i?i.name:"File"}}var r=this.isShared?"Shared":"NotShared";return a.d("DriveUI.FolderToolbar.Button.Sharing."+r+"."+t+".Tooltip")}),{__CW__getter:function(e,t,n,i){var r=i.internalGetPath(this,t[1+n]),o="Folder";if(bt.a(r)){var s=r.createIterator().value;if(!s||s.isFolder)o="Folder";else{var l=QD(s.extension);o=l?l.name:"File"}}var c=i.internalGet(this,t[0+n])?"Shared":"NotShared";return a.d("DriveUI.FolderToolbar.Button.Sharing."+c+"."+o+".Tooltip")}})}),isDisabled:X.b({readOnly:!0,dependencies:["actionPolicy.shouldAllowSharing"],get:Object.assign((function(){return!this.get("actionPolicy.shouldAllowSharing")}),{__CW__getter:function(e,t,n,i){return!i.internalGetPath(this,t[0+n])}})}),isShared:X.b({readOnly:!0,dependencies:["actionPolicy.isItemShared"],get:Object.assign((function(){return this.getPath("actionPolicy.isItemShared")}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])}})}),wasActivated:function(){var e=this,t=arguments;Th.dispatchNotification(Ah.create({id:"shareSelectedItemOrParent"})),e.__s._$kY$wasActivated.apply(e,t)},__superMap:{_$kY$wasActivated:"wasActivated"}}),ek=QP.extend({symbolMetadata:{name:"icloud.and.arrow.down",svgPath:"M 84.7168 -13.5742 L 84.7168 -5.71289 L 107.52 -5.71289 C 122.51 -5.71289 131.494 -14.7461 131.494 -26.5625 C 131.494 -36.4258 125.586 -44.5312 116.064 -48.3887 C 116.162 -70.166 100.488 -85.8887 80.5176 -85.8887 C 67.2852 -85.8887 57.8613 -78.8086 52.002 -70.2637 C 40.918 -73.2422 26.9043 -64.6484 26.6602 -50.9277 C 15.625 -49.2188 8.74023 -40.1855 8.74023 -28.6621 C 8.74023 -15.9668 18.2617 -5.71289 34.2773 -5.71289 L 55.957 -5.71289 L 55.957 -13.5742 L 34.2285 -13.5742 C 22.6562 -13.5742 16.6016 -20.2637 16.6016 -28.6621 C 16.6016 -37.9883 22.5098 -44.9219 32.8613 -44.9219 C 33.5449 -44.9219 33.7891 -45.3125 33.7891 -45.9473 C 33.7891 -60.9375 44.5801 -65.0879 54.6387 -62.1582 C 55.2246 -61.9629 55.5664 -62.0605 55.8594 -62.5977 C 60.5957 -71.0449 67.8711 -78.0273 80.5176 -78.0273 C 96.5332 -78.0273 107.617 -65.332 108.447 -50.7812 C 108.594 -48.584 108.447 -45.9473 108.252 -43.6523 C 108.203 -43.0176 108.447 -42.627 109.033 -42.5293 C 117.92 -40.5762 123.633 -35.0098 123.633 -26.5625 C 123.633 -19.043 118.164 -13.5742 107.471 -13.5742 Z M 70.3613 23.291 C 71.3379 23.291 72.1191 22.9004 73.1445 21.9727 L 89.6484 6.54297 C 90.4297 5.85938 90.8203 5.0293 90.8203 3.95508 C 90.8203 2.00195 89.2578 0.537109 87.2559 0.537109 C 86.3281 0.537109 85.3516 0.976562 84.6191 1.70898 L 77.1973 9.13086 L 73.9258 12.5488 L 74.2188 5.27344 L 74.2188 -36.6211 C 74.2188 -38.6719 72.4609 -40.4297 70.3613 -40.4297 C 68.2617 -40.4297 66.4551 -38.6719 66.4551 -36.6211 L 66.4551 5.27344 L 66.748 12.5977 L 63.4766 9.13086 L 56.0547 1.70898 C 55.3223 0.976562 54.2969 0.537109 53.3691 0.537109 C 51.3184 0.537109 49.8535 2.00195 49.8535 3.95508 C 49.8535 5.0293 50.1953 5.85938 51.0254 6.54297 L 67.5293 21.9727 C 68.5547 22.9004 69.3359 23.291 70.3613 23.291 Z",layoutBox:{viewBox:"0 0 212.646728515625 159.98291015625",width:212.646728515625,height:159.98291015625,translateX:36.20625732421877,translateY:115.221435546875,baseline:115.221435546875,capline:44.761474609375},glyphBox:{viewBox:"0 0 122.7537841796875 117.0419921875",width:122.7537841796875,height:117.0419921875,translateX:-8.740214843749982,translateY:93.7509765625,baseline:93.7509765625,capline:23.291015625}},tooltip:a.d("DriveUI.FolderToolbar.Button.Download.Tooltip"),isDisabled:X.b({readOnly:!0,dependencies:["actionPolicy.shouldAllowDownloading"],get:Object.assign((function(){return!this.get("actionPolicy.shouldAllowDownloading")}),{__CW__getter:function(e,t,n,i){return!i.internalGetPath(this,t[0+n])}})}),wasActivated:function(){var e=this,t=arguments;Th.dispatchNotification(Ah.create({id:"downloadSelectedItems"})),e.__s._$G7$wasActivated.apply(e,t)},__superMap:{_$G7$wasActivated:"wasActivated"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownloadFilesButton"}}),tk=QP.extend({symbolMetadata:{name:"folder",svgPath:"M 27.7832 9.76562 L 110.693 9.76562 C 119.482 9.76562 124.561 4.6875 124.561 -5.37109 L 124.561 -56.7871 C 124.561 -66.8457 119.434 -71.875 109.229 -71.875 L 61.7188 -71.875 C 58.3984 -71.875 56.4453 -72.7051 54.0039 -74.7559 L 51.0254 -77.2461 C 47.8027 -79.9316 45.2637 -80.8594 40.4785 -80.8594 L 25.9277 -80.8594 C 17.3828 -80.8594 12.4512 -75.9766 12.4512 -66.1133 L 12.4512 -5.37109 C 12.4512 4.73633 17.5781 9.76562 27.7832 9.76562 Z M 20.3125 -65.7227 C 20.3125 -70.5566 22.8516 -72.998 27.5391 -72.998 L 38.4277 -72.998 C 41.6992 -72.998 43.6523 -72.2168 46.1426 -70.0684 L 49.1211 -67.627 C 52.2949 -64.9902 54.8828 -64.0137 59.7168 -64.0137 L 109.131 -64.0137 C 113.965 -64.0137 116.699 -61.4258 116.699 -56.3477 L 116.699 -53.418 L 20.3125 -53.418 Z M 27.8809 1.9043 C 22.998 1.9043 20.3125 -0.683594 20.3125 -5.76172 L 20.3125 -46.0449 L 116.699 -46.0449 L 116.699 -5.71289 C 116.699 -0.683594 113.965 1.9043 109.131 1.9043 Z",layoutBox:{viewBox:"0 0 212.646728515625 159.98291015625",width:212.646728515625,height:159.98291015625,translateX:37.81729492187492,translateY:115.221435546875,baseline:115.221435546875,capline:44.761474609375},glyphBox:{viewBox:"0 0 112.10986328125 91.2587890625",width:112.10986328125,height:91.2587890625,translateX:-12.451137695312582,translateY:80.859375,baseline:80.859375,capline:10.3994140625}},tooltip:a.d("DriveUI.FolderToolbar.Button.Move.Items"),isDisabled:X.b({readOnly:!0,dependencies:["actionPolicy.shouldAllowMoveItems"],get:Object.assign((function(){return!this.get("actionPolicy.shouldAllowMoveItems")}),{__CW__getter:function(e,t,n,i){return!i.internalGetPath(this,t[0+n])}})}),wasActivated:function(){var e=this,t=arguments;Th.dispatchNotification(Ah.create({id:"moveItems"})),e.__s._$Ey$wasActivated.apply(e,t)},__superMap:{_$Ey$wasActivated:"wasActivated"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemsButton"}}),nk=QP.extend({symbolMetadata:{name:"trash",svgPath:"M 89.1602 3.27148 L 92.5293 -67.7246 L 98.3887 -67.7246 C 100.391 -67.7246 102.002 -69.4336 102.002 -71.4355 C 102.002 -73.4375 100.391 -75.0977 98.3887 -75.0977 L 76.0742 -75.0977 L 76.0742 -82.4219 C 76.0742 -89.4531 71.3379 -93.9453 63.8184 -93.9453 L 45.5566 -93.9453 C 38.0371 -93.9453 33.3496 -89.4531 33.3496 -82.4219 L 33.3496 -75.0977 L 11.084 -75.0977 C 9.13086 -75.0977 7.4707 -73.3887 7.4707 -71.4355 C 7.4707 -69.4336 9.13086 -67.7246 11.084 -67.7246 L 16.9922 -67.7246 L 20.3613 3.32031 C 20.7031 10.3027 25.293 14.7949 32.373 14.7949 L 77.1484 14.7949 C 84.1309 14.7949 88.8184 10.2539 89.1602 3.27148 Z M 41.1621 -81.9336 C 41.1621 -84.7168 43.1641 -86.6699 46.1426 -86.6699 L 63.2812 -86.6699 C 66.2598 -86.6699 68.3105 -84.7168 68.3105 -81.9336 L 68.3105 -75.0977 L 41.1621 -75.0977 Z M 33.0566 7.42188 C 30.2734 7.42188 28.1738 5.32227 28.0273 2.44141 L 24.6094 -67.7246 L 84.7168 -67.7246 L 81.4941 2.44141 C 81.3477 5.37109 79.2969 7.42188 76.3672 7.42188 Z M 69.2383 -1.12305 C 70.8496 -1.12305 72.0215 -2.44141 72.0703 -4.29688 L 73.5352 -55.5176 C 73.584 -57.3242 72.3633 -58.6914 70.7031 -58.6914 C 69.1895 -58.6914 67.9199 -57.2754 67.8711 -55.5176 L 66.4062 -4.3457 C 66.3574 -2.53906 67.5781 -1.12305 69.2383 -1.12305 Z M 40.2832 -1.12305 C 41.9434 -1.12305 43.1641 -2.53906 43.1152 -4.3457 L 41.6016 -55.5176 C 41.5527 -57.2754 40.2832 -58.6914 38.7695 -58.6914 C 37.1094 -58.6914 35.8887 -57.3242 35.9375 -55.5176 L 37.4023 -4.29688 C 37.4512 -2.44141 38.623 -1.12305 40.2832 -1.12305 Z M 54.7363 -1.12305 C 56.3477 -1.12305 57.7148 -2.53906 57.7148 -4.29688 L 57.7148 -55.5176 C 57.7148 -57.2754 56.3477 -58.6914 54.7363 -58.6914 C 53.1738 -58.6914 51.8066 -57.2754 51.8066 -55.5176 L 51.8066 -4.29688 C 51.8066 -2.53906 53.1738 -1.12305 54.7363 -1.12305 Z",layoutBox:{viewBox:"0 0 212.646728515625 159.98291015625",width:212.646728515625,height:159.98291015625,translateX:51.5870507812499,translateY:115.221435546875,baseline:115.221435546875,capline:44.761474609375},glyphBox:{viewBox:"0 0 94.53125 117.4306640625",width:94.53125,height:117.4306640625,translateX:-7.4706884765626,translateY:93.9453125,baseline:93.9453125,capline:23.4853515625}},tooltip:a.d("DriveUI.FolderToolbar.Button.Delete.Tooltip"),isDisabled:X.b({readOnly:!0,dependencies:["actionPolicy.shouldAllowMoveToTrash"],get:Object.assign((function(){return!this.get("actionPolicy.shouldAllowMoveToTrash")}),{__CW__getter:function(e,t,n,i){return!i.internalGetPath(this,t[0+n])}})}),wasActivated:function(){var e=this,t=arguments;Th.dispatchNotification(Ah.create({id:"moveSelectedItemsToTrash"})),e.__s._$Fk$wasActivated.apply(e,t)},__superMap:{_$Fk$wasActivated:"wasActivated"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TrashFilesButton"}}),ik=QP.extend({init:function(e,t,n){var i=this,r=t,o={isCancel:!0,title:a.d("DriveUI.Common.Cancel")};this._disabledCount=r.reduce((function(e,t){return e+(t.isDisabled?1:0)}),0),r.forEach((function(e){e.listen("isDisabled",(function(e){return i._disabledCount+=e?1:-1}))})),this.buttons=[].concat(r,[o]),this.__s._$WI$init.call(this,e,n)},isDisabled:X.b({readOnly:!0,dependencies:["_disabledCount"],get:Object.assign((function(){return this._disabledCount===this.buttons.length-1}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===this.buttons.length-1}})}),symbolMetadata:{name:"ellipsis.circle",svgPath:"M 58.5449 14.5508 C 85.791 14.5508 108.35 -8.00781 108.35 -35.2539 C 108.35 -62.4512 85.7422 -85.0586 58.4961 -85.0586 C 31.2988 -85.0586 8.74023 -62.4512 8.74023 -35.2539 C 8.74023 -8.00781 31.3477 14.5508 58.5449 14.5508 Z M 58.5449 6.25 C 35.498 6.25 17.0898 -12.207 17.0898 -35.2539 C 17.0898 -58.252 35.4492 -76.7578 58.4961 -76.7578 C 81.543 -76.7578 100 -58.252 100.049 -35.2539 C 100.098 -12.207 81.5918 6.25 58.5449 6.25 Z M 42.4316 -35.2051 C 42.4316 -38.7695 39.4043 -41.7969 35.8398 -41.7969 C 32.2266 -41.7969 29.248 -38.7695 29.248 -35.2051 C 29.248 -31.6406 32.2754 -28.6133 35.8398 -28.6133 C 39.4043 -28.6133 42.4316 -31.6406 42.4316 -35.2051 Z M 65.0879 -35.2051 C 65.0879 -38.7695 62.0605 -41.7969 58.4961 -41.7969 C 54.9316 -41.7969 51.9043 -38.7695 51.9043 -35.2051 C 51.9043 -31.6406 54.9805 -28.6133 58.4961 -28.6133 C 62.0605 -28.6133 65.0879 -31.6406 65.0879 -35.2051 Z M 87.7441 -35.2051 C 87.7441 -38.7695 84.7656 -41.7969 81.1523 -41.7969 C 77.5879 -41.7969 74.5605 -38.7695 74.5605 -35.2051 C 74.5605 -31.6406 77.6367 -28.6133 81.1523 -28.6133 C 84.7656 -28.6133 87.7441 -31.6406 87.7441 -35.2051 Z",layoutBox:{viewBox:"0 0 212.646728515625 159.98291015625",width:212.646728515625,height:159.98291015625,translateX:47.778210449218705,translateY:115.221435546875,baseline:115.221435546875,capline:44.761474609375},glyphBox:{viewBox:"0 0 99.6097412109375 99.6572265625",width:99.6097412109375,height:99.6572265625,translateX:-8.740283203125045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}},tooltip:a.d("DriveUI.FolderToolbar.Button.More.Tooltip"),buttons:Y.c(),wasActivated:function(){this._moreActionSheet.show()},primaryInteractionMode:Y.c(li.a.MOUSE),sizeClassHorizontal:X.b(Ca.REGULAR),sizeClassVertical:X.b(Ca.REGULAR),_disabledCount:X.b(0),_moreActionSheet:Y.c({readOnly:!0,get:function(){return HL.extend({alertViewController:n_.a.extend({contentController:Mi.a({viewClass:Mi.a({disableAllButtons:Vr.a})})})}).create({buttons:this.buttons,anchor:this,additionalClassNames:Mi.a(["drive-ui","more-panel"]),primaryInteractionMode:this.primaryInteractionMode,sizeClassHorizontal:this.bindingFor("sizeClassHorizontal"),sizeClassVertical:this.bindingFor("sizeClassVertical")})}}),__superMap:{_$WI$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoreButton"}}),rk={name:"envelope",svgPath:"M 27.7832 6.88477 L 106.396 6.88477 C 115.186 6.88477 120.264 1.80664 120.264 -8.25195 L 120.264 -62.1582 C 120.264 -72.168 115.137 -77.2461 104.932 -77.2461 L 26.3184 -77.2461 C 17.5293 -77.2461 12.4512 -72.2168 12.4512 -62.1582 L 12.4512 -8.25195 C 12.4512 1.85547 17.5781 6.88477 27.7832 6.88477 Z M 60.5469 -32.7148 L 23.6816 -69.0918 C 24.7559 -69.5312 26.0254 -69.7754 27.4902 -69.7754 L 105.225 -69.7754 C 106.738 -69.7754 108.057 -69.5312 109.131 -68.9941 L 72.3633 -32.7148 C 70.2637 -30.6152 68.3594 -29.6875 66.4551 -29.6875 C 64.502 -29.6875 62.5977 -30.6152 60.5469 -32.7148 Z M 19.9219 -8.25195 L 19.9219 -62.1582 C 19.9219 -62.5 19.9219 -62.3535 19.9219 -62.6465 L 47.998 -35.1074 L 19.9707 -7.42188 C 19.9219 -7.66602 19.9219 -7.95898 19.9219 -8.25195 Z M 112.793 -62.1094 L 112.793 -8.20312 C 112.793 -8.00781 112.793 -7.76367 112.793 -7.56836 L 84.9121 -35.1074 L 112.793 -62.5 C 112.793 -62.1094 112.793 -62.1094 112.793 -62.1094 Z M 27.4902 -0.585938 C 26.123 -0.585938 24.9023 -0.78125 23.9258 -1.2207 L 53.125 -30.0781 L 56.2988 -26.9531 C 59.7168 -23.584 62.9883 -22.168 66.4551 -22.168 C 69.873 -22.168 73.1934 -23.584 76.6113 -26.9531 L 79.7852 -30.0781 L 108.936 -1.26953 C 107.861 -0.78125 106.641 -0.585938 105.225 -0.585938 Z",layoutBox:{viewBox:"0 0 212.646728515625 159.98291015625",width:212.646728515625,height:159.98291015625,translateX:39.96576904296876,translateY:115.221435546875,baseline:115.221435546875,capline:44.761474609375},glyphBox:{viewBox:"0 0 107.8128662109375 84.2294921875",width:107.8128662109375,height:84.2294921875,translateX:-12.451162109374991,translateY:77.3447265625,baseline:77.3447265625,capline:6.884765625}},ak=QP.extend({primaryInteractionMode:Y.c(li.a.MOUSE),title:X.b({get:function(){return this.primaryInteractionMode===li.a.TOUCH?a.d("DriveUI.FolderToolbar.Button.Email.Title"):void 0}}),symbolMetadata:X.b({get:function(){return this.primaryInteractionMode===li.a.MOUSE?rk:void 0}}),tooltip:a.d("DriveUI.FolderToolbar.Button.Email.Tooltip"),isDisabled:X.b({readOnly:!0,dependencies:["actionPolicy.shouldAllowEmailFiles"],get:Object.assign((function(){return!this.get("actionPolicy.shouldAllowEmailFiles")}),{__CW__getter:function(e,t,n,i){return!i.internalGetPath(this,t[0+n])}})}),wasActivated:function(){var e=this,t=arguments;Th.dispatchNotification(Ah.create({id:"emailSelectedItems"})),e.__s._$RY$wasActivated.apply(e,t)},__superMap:{_$RY$wasActivated:"wasActivated"},staticMembers:{__QUALIFIED_CLASS_NAME__:"EmailFilesButton"}}),ok={name:"info.circle",svgPath:"M 58.5449 14.5508 C 85.791 14.5508 108.35 -8.00781 108.35 -35.2539 C 108.35 -62.4512 85.7422 -85.0586 58.4961 -85.0586 C 31.2988 -85.0586 8.74023 -62.4512 8.74023 -35.2539 C 8.74023 -8.00781 31.3477 14.5508 58.5449 14.5508 Z M 58.5449 6.25 C 35.498 6.25 17.0898 -12.207 17.0898 -35.2539 C 17.0898 -58.252 35.4492 -76.7578 58.4961 -76.7578 C 81.543 -76.7578 100 -58.252 100.049 -35.2539 C 100.098 -12.207 81.5918 6.25 58.5449 6.25 Z M 58.1055 -52.6367 C 61.6699 -52.6367 64.4531 -55.4688 64.4531 -58.9844 C 64.4531 -62.5488 61.6699 -65.3809 58.1055 -65.3809 C 54.5898 -65.3809 51.7578 -62.5488 51.7578 -58.9844 C 51.7578 -55.4688 54.5898 -52.6367 58.1055 -52.6367 Z M 50 -8.39844 L 69.873 -8.39844 C 71.875 -8.39844 73.4375 -9.81445 73.4375 -11.8164 C 73.4375 -13.7207 71.875 -15.2344 69.873 -15.2344 L 63.8184 -15.2344 L 63.8184 -40.0879 C 63.8184 -42.7246 62.5 -44.4824 60.0098 -44.4824 L 50.8301 -44.4824 C 48.8281 -44.4824 47.2656 -42.9688 47.2656 -41.0645 C 47.2656 -39.0625 48.8281 -37.6465 50.8301 -37.6465 L 56.0547 -37.6465 L 56.0547 -15.2344 L 50 -15.2344 C 47.998 -15.2344 46.4355 -13.7207 46.4355 -11.8164 C 46.4355 -9.81445 47.998 -8.39844 50 -8.39844 Z",layoutBox:{viewBox:"0 0 212.646728515625 159.98291015625",width:212.646728515625,height:159.98291015625,translateX:47.778210449218705,translateY:115.221435546875,baseline:115.221435546875,capline:44.761474609375},glyphBox:{viewBox:"0 0 99.6097412109375 99.6572265625",width:99.6097412109375,height:99.6572265625,translateX:-8.740283203125045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}},sk=QP.extend({primaryInteractionMode:Y.c(li.a.MOUSE),title:X.b({get:function(){return this.primaryInteractionMode===li.a.TOUCH?a.d("DriveUI.FolderToolbar.Button.Info.Title"):void 0}}),symbolMetadata:X.b({get:function(){return this.primaryInteractionMode===li.a.MOUSE?ok:void 0}}),tooltip:a.d("DriveUI.FilesGrid.Cell.Info.Tooltip"),isDisabled:X.b({readOnly:!0,dependencies:["actionPolicy.shouldAllowInfoPopover"],get:Object.assign((function(){return!this.get("actionPolicy.shouldAllowInfoPopover")}),{__CW__getter:function(e,t,n,i){return!i.internalGetPath(this,t[0+n])}})}),wasActivated:function(){var e=this,t=arguments;Th.dispatchNotification(Ah.create({id:"infoForSelectedItem"})),e.__s._$Rj$wasActivated.apply(e,t)},__superMap:{_$Rj$wasActivated:"wasActivated"},staticMembers:{__QUALIFIED_CLASS_NAME__:"SelectModeInfoButton"}}),lk=Pi.a.extend(DF,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"iconClass",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDraggingOver",truevalue:"drag-target-focused",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"PathBarItemViewButton"},action:"onItemViewDidActivate",actionPolicy:Y.c(),dragTargetDropDestination:X.b({dependencies:["content"],readOnly:!0,get:Object.assign((function(){var e=this.content;return e&&e.isFolder?e:null}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r&&r.isFolder?r:null}})}),dragTargetShouldAllowMove:function(e,t,n){var i=this.content;return bt.a(i)&&"function"===typeof i.acceptsItems&&i.acceptsItems(Array.from(n))},dragTargetShouldAllowUpload:function(e,t){var n=this.dragTargetDropDestination;return this.actionPolicy.determineShouldAllowDragAndDropUploadToDestination(n)},hasLeftIcon:!0,content:X.b(),title:X.b(J.c("content.name")),tooltip:X.b(J.c("title")),tabIndex:0,iconClass:X.b({readOnly:!0,dependencies:["content"],get:Object.assign((function(){var e=this.content;if(e instanceof Object)return e.isDriveRoot?"home":e.isFolder?"folder":e.isAppLibrary?"appcontainer":"filetall"}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(r instanceof Object)return r.isDriveRoot?"home":r.isFolder?"folder":r.isAppLibrary?"appcontainer":"filetall"}})})}),ck=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"buttonView"}],classes:["path-bar-item"]}},__QUALIFIED_CLASS_NAME__:"PathBarItemView"},actionPolicy:Y.c(),content:X.b(),isDisabled:X.b(!1),buttonView:X.b({readOnly:!0,strong:!0,get:function(){return lk.create({content:this.bindingFor("content"),context:this,isDisabled:this.bindingFor("isDisabled"),actionPolicy:this.actionPolicy})}})}),uk=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",name:"subviews"}],classes:["path-bar"]}},__QUALIFIED_CLASS_NAME__:"PathBarView"},itemViewClass:ck,items:X.b(),selectedItem:X.b(),actionPolicy:Y.c(),subviews:X.b({readOnly:!0,strong:!0,defaultValue:ut.b(mf)}),_updateSubviews:Ni.f({inputs:["items","items.contentsDidChange","selectedItem"],callback:function(e,t,n){var i=this.subviews;if(e instanceof Object&&0!==e.length){for(var r=e.length,a=i.length,o=0,s=Math.min(a,r);o<s;o++){var l=e.objectAt(o),c=i.objectAt(o);this.reuseItemView(c,l)}if(r<a)i.length=r;else for(;o<r;o++){var u=e.objectAt(o),d=this.createItemView(u);i.push(d)}if(i.lastItem.isDisabled=!0,n instanceof Object){var h=this.createItemView(n);h.isDisabled=!0,i.push(h)}}else i.length=0}}),createItemView:function(e){return this.itemViewClass.create({content:e,actionPolicy:this.actionPolicy})},reuseItemView:function(e,t){e.content=t,e.isDisabled=!1}}),dk=ri.a.extend(rL,{session:X.b(),fileSystem:X.b(J.c("session.fileSystem")),currentSelection:X.b(),selectedItem:X.b({readOnly:!0,strong:!0,dependencies:["currentSelection"],get:Object.assign((function(){var e=this.currentSelection;if(e instanceof Object&&1===e.size)return e.toArray()[0]}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);if(r instanceof Object&&1===r.size)return r.toArray()[0]}})}),raiseAlertService:X.b(),items:X.b({readOnly:!0,strong:!0,dependencies:["session.currentWorkingDirectory"],get:Object.assign((function(){var e=[],t=this.getPath("session.currentWorkingDirectory");return t instanceof Object&&e.push.apply(e,t.path),mf.create(e)}),{__CW__getter:function(e,t,n,i){var r=[],a=i.internalGetPath(this,t[0+n]);return a instanceof Object&&r.push.apply(r,a.path),mf.create(r)}})}),init:function(e,t,n){this.__s._$cg$init.call(this,Object.assign({},n,{session:e,raiseAlertService:t}))},viewClass:uk,createView:function(){return this.viewClass.create({items:this.bindingFor("items"),selectedItem:this.bindingFor("selectedItem"),actionPolicy:this.session.actionPolicy})},onItemViewDidActivate:function(e){var t=e.content;(t.isFolder||t.isAppLibrary)&&this.session.changeDirectory(t)},__superMap:{_$cg$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PathBarViewController"}}),hk=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"statusInfoText",attributes:{}}],classes:["status-item"],attributes:{dir:"auto"}},{type:"ELEMENT",tagname:"div",classes:["status-item","separator",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"trashButtonVisible",truevalue:"",falsevalue:"hidden",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",name:"trashButton"}],classes:["status-info"]}},__QUALIFIED_CLASS_NAME__:"StatusInfoView"},statusInfoText:X.b(),trashShallowCount:X.b(),trashButtonVisible:X.b(),_localizedTrashButtonText:X.b({readOnly:!0,dependencies:["trashShallowCount"],get:Object.assign((function(){var e,t=this.trashShallowCount;return 0===this.trashShallowCount?e=a.d("DriveUI.StatusBar.Trash.NoItems"):(t=wc.region.getNumberFormatter().format(t),e=a.d("DriveUI.StatusBar.Trash.HasItems",{totalNumberOfItems:t})),e}),{__CW__getter:function(e,t,n,i){var r,o=i.internalGet(this,t[0+n]);return 0===i.internalGet(this,t[0+n])?r=a.d("DriveUI.StatusBar.Trash.NoItems"):(o=wc.region.getNumberFormatter().format(o),r=a.d("DriveUI.StatusBar.Trash.HasItems",{totalNumberOfItems:o})),r}})}),_trashButton:X.b({strong:!0,readOnly:!0,get:function(){return Pi.a.create({title:this.bindingFor("_localizedTrashButtonText"),additionalClassNames:["status-item","trash-button"],action:"didPressTrashButton"})}}),trashButton:X.b({strong:!0,readOnly:!0,dependencies:["trashButtonVisible"],get:Object.assign((function(){if(this.trashButtonVisible)return this._trashButton}),{__CW__getter:function(e,t,n,i){if(i.internalGet(this,t[0+n]))return this._trashButton}})})}),fk=ne.b("StatusInfoLoadStateEnum",["LOADING","LOADED","ERROR"]),pk=a.d("DriveUI.StatusBar.Loading"),mk=ri.a.extend({viewClass:hk,view:X.b({downstreamBindings:{statusInfoText:"(owner)._statusInfoText",trashShallowCount:"(owner)._trashShallowCount"}}),session:X.b(),fileSystem:X.b(J.c("session.fileSystem")),folderContent:X.b(J.c("session.currentWorkingDirectory.content")),_statusInfoText:X.b({readOnly:!0,dependencies:["_folderLoadingState","_selectionStatus","fileSystem.quotaData","_trashShallowCount","_isInTrashFolder","_trashDetailsWereFetched"],get:Object.assign((function(){var e;switch(this._folderLoadingState){case fk.LOADING:e=pk,this.view.trashButtonVisible=!1;break;case fk.LOADED:if(this._selectionStatus&&(!this._isInTrashFolder&&this._trashDetailsWereFetched||this._isInTrashFolder)){this.view.trashButtonVisible=!this._isInTrashFolder;var t=this._createLocalizedSelectedItemsText(this._selectionStatus.selectedCount,this._selectionStatus.fromTotalItems),n=this._createLocalizedQuotaText();e=a.d("DriveUI.StatusBar.Text.SelectionAndQuota",{selectionInfo:t,quotaSize:n})}else e=pk;break;case fk.ERROR:e=this._createLocalizedQuotaText()}return e}),{__CW__getter:function(e,t,n,i){var r;switch(i.internalGet(this,t[0+n])){case fk.LOADING:r=pk,this.view.trashButtonVisible=!1;break;case fk.LOADED:if(i.internalGet(this,t[1+n])&&(!i.internalGet(this,t[4+n])&&i.internalGet(this,t[5+n])||i.internalGet(this,t[4+n]))){this.view.trashButtonVisible=!i.internalGet(this,t[4+n]);var o=this._createLocalizedSelectedItemsText(i.internalGet(this,t[1+n]).selectedCount,i.internalGet(this,t[1+n]).fromTotalItems),s=this._createLocalizedQuotaText();r=a.d("DriveUI.StatusBar.Text.SelectionAndQuota",{selectionInfo:o,quotaSize:s})}else r=pk;break;case fk.ERROR:r=this._createLocalizedQuotaText()}return r}})}),currentSelection:X.b(),_selectionStatus:X.b({readOnly:!0,dependencies:["_folderLoadingState","currentSelection","folderContent.length"],get:Object.assign((function(){if(this._folderLoadingState===fk.LOADED)return{selectedCount:this.currentSelection.size,fromTotalItems:this.folderContent.length}}),{__CW__getter:function(e,t,n,i){if(i.internalGet(this,t[0+n])===fk.LOADED)return{selectedCount:i.internalGet(this,t[1+n]).size,fromTotalItems:i.internalGetPath(this,t[2+n])}}})}),_isInTrashFolder:X.b({readOnly:!0,dependencies:["folderContent"],get:Object.assign((function(){var e=this.folderContent;return e instanceof Object&&e.isInTrash}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r instanceof Object&&r.isInTrash}})}),_folderLoadingState:X.b({readOnly:!0,dependencies:["folderContent","folderContent.hasLoadedContent","folderContent.hasError"],get:Object.assign((function(){var e=this.folderContent;return e instanceof Object?e.hasError?fk.ERROR:e.hasLoadedContent?fk.LOADED:fk.LOADING:fk.LOADING}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]);return r instanceof Object?r.hasError?fk.ERROR:r.hasLoadedContent?fk.LOADED:fk.LOADING:fk.LOADING}})}),_trashShallowCount:X.b({binding:J.c("fileSystem.trashDetailsService.shallowCount"),didChange:function(e){Number.isFinite(e)&&!this._trashDetailsWereFetched&&(this._trashDetailsWereFetched=!0)}}),_trashDetailsWereFetched:X.b(),didPressTrashButton:function(e){var t=this.session;t.changeDirectory(t.trashRootFolder)},_createLocalizedQuotaText:function(){var e=this.fileSystem.quotaData;if(!e)return"";var t=e.totalStorageInBytes,n=e.usedStorageInBytes;if(!isFinite(t)||!isFinite(n))return"";var i=gF(Math.max(0,t-n),{multipleType:1024});return a.d("DriveUI.StatusBar.Quota",{size:i})},_createLocalizedSelectedItemsText:function(e,t){var n;n=0===e?"DriveUI.StatusBar.NoItemsSelected."+(0===t?"NoItemsAvailable":1===t?"OneItemAvailable":"MultipleItemsAvailable"):"DriveUI.StatusBar.OneOrMoreItemsSelected";var i=wc.region.getNumberFormatter(),r=i.format(e),o=i.format(t);return a.d(n,{numberOfSelectedItems:r,totalNumberOfItems:o})},staticMembers:{__QUALIFIED_CLASS_NAME__:"StatusInfoViewController"}}),gk=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"primaryView"},{type:"VIEWOUTLET",tagname:"view",name:"secondaryView"}],classes:["status-bar"]}},__QUALIFIED_CLASS_NAME__:"StatusBarView"}}),vk=ri.a.extend({init:function(e,t){this.__s._$Ha$init.call(this,Object.assign({},t,{session:e}))},viewClass:gk,primaryViewController:Oi.b({viewOutlet:"primaryView",downstreamBindings:{session:"(owner).session",currentSelection:"(owner).currentSelection"}}),secondaryViewController:Oi.b({viewOutlet:"secondaryView",downstreamBindings:{session:"(owner).session",currentSelection:"(owner).currentSelection"}}),currentSelection:X.b(),session:X.b(),__superMap:{_$Ha$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"StatusBarViewController"}}),_k={name:"folder.fill",svgPath:"M 109.229 -71.875 L 61.7188 -71.875 C 58.3984 -71.875 56.4453 -72.7051 54.0039 -74.7559 L 51.0254 -77.2461 C 47.8027 -79.9316 45.2637 -80.8594 40.4785 -80.8594 L 25.9277 -80.8594 C 17.3828 -80.8594 12.4512 -75.9766 12.4512 -66.1133 L 12.4512 -53.0762 L 124.561 -53.0762 L 124.561 -56.7871 C 124.561 -66.8457 119.434 -71.875 109.229 -71.875 Z M 27.7832 9.76562 L 110.693 9.76562 C 119.482 9.76562 124.561 4.6875 124.561 -5.37109 L 124.561 -46.4355 L 12.4512 -46.4355 L 12.4512 -5.37109 C 12.4512 4.73633 17.5781 9.76562 27.7832 9.76562 Z",layoutBox:{viewBox:"0 0 212.646728515625 159.98291015625",width:212.646728515625,height:159.98291015625,translateX:37.81729492187492,translateY:115.221435546875,baseline:115.221435546875,capline:44.761474609375},glyphBox:{viewBox:"0 0 112.10986328125 91.2587890625",width:112.10986328125,height:91.2587890625,translateX:-12.451137695312582,translateY:80.859375,baseline:80.859375,capline:10.3994140625}},bk={name:"trash.fill",svgPath:"M 31.543 13.0371 L 77.9785 13.0371 C 84.0332 13.0371 87.6953 9.66797 87.9395 3.61328 L 91.0645 -67.7246 L 98.3887 -67.7246 C 100.391 -67.7246 102.002 -69.4336 102.002 -71.4355 C 102.002 -73.4375 100.391 -75.0977 98.3887 -75.0977 L 76.123 -75.0977 L 76.123 -82.4219 C 76.123 -89.4531 71.3867 -93.9453 63.8672 -93.9453 L 45.6055 -93.9453 C 38.0859 -93.9453 33.3984 -89.4531 33.3984 -82.4219 L 33.3984 -75.0977 L 11.084 -75.0977 C 9.13086 -75.0977 7.4707 -73.3887 7.4707 -71.4355 C 7.4707 -69.4336 9.13086 -67.7246 11.084 -67.7246 L 18.5059 -67.7246 L 21.6309 3.61328 C 21.875 9.66797 25.4883 13.0371 31.543 13.0371 Z M 41.2109 -75.0977 L 41.2109 -81.9336 C 41.2109 -84.7168 43.2129 -86.6699 46.1914 -86.6699 L 63.3301 -86.6699 C 66.3086 -86.6699 68.3594 -84.7168 68.3594 -81.9336 L 68.3594 -75.0977 Z M 34.375 -4.00391 L 32.1777 -57.2266 C 32.0801 -59.2773 33.5449 -60.791 35.4004 -60.791 C 37.1094 -60.791 38.5742 -59.1797 38.6719 -57.2266 L 40.6738 -4.00391 C 40.7227 -2.00195 39.3555 -0.390625 37.4512 -0.390625 C 35.6934 -0.390625 34.4238 -1.85547 34.375 -4.00391 Z M 51.4648 -4.00391 L 51.416 -57.2266 C 51.416 -59.1797 52.9785 -60.791 54.7363 -60.791 C 56.543 -60.791 58.1055 -59.1797 58.1055 -57.2266 L 58.1055 -4.00391 C 58.1055 -2.00195 56.4941 -0.390625 54.7363 -0.390625 C 52.9785 -0.390625 51.4648 -2.00195 51.4648 -4.00391 Z M 68.8965 -4.00391 L 70.8984 -57.2266 C 70.9473 -59.1797 72.4121 -60.791 74.1699 -60.791 C 75.9766 -60.791 77.4414 -59.2773 77.3926 -57.2266 L 75.1953 -4.00391 C 75.1465 -1.85547 73.8281 -0.390625 72.0215 -0.390625 C 70.166 -0.390625 68.8477 -2.00195 68.8965 -4.00391 Z",layoutBox:{viewBox:"0 0 212.646728515625 159.98291015625",width:212.646728515625,height:159.98291015625,translateX:51.5870507812499,translateY:115.221435546875,baseline:115.221435546875,capline:44.761474609375},glyphBox:{viewBox:"0 0 94.53125 117.4306640625",width:94.53125,height:117.4306640625,translateX:-7.4706884765626,translateY:93.9453125,baseline:93.9453125,capline:23.4853515625}},yk=Di.a.extend(HT,{additionalClassNames:Mi.a(["chevron-view"]),layoutMode:"glyphBox",symbolMetadata:{name:"chevron.down",svgPath:"M 56.4453 -7.8125 C 58.5449 -7.8125 60.3516 -8.64258 61.9629 -10.2539 L 98.5352 -47.7539 C 99.8047 -49.0234 100.488 -50.5859 100.488 -52.4414 C 100.488 -56.25 97.4609 -59.2773 93.7012 -59.2773 C 91.8457 -59.2773 90.0879 -58.5449 88.7207 -57.1777 L 56.4941 -23.9746 L 24.2188 -57.1777 C 22.8516 -58.4961 21.1426 -59.2773 19.2383 -59.2773 C 15.4785 -59.2773 12.4512 -56.25 12.4512 -52.4414 C 12.4512 -50.5859 13.1348 -49.0234 14.4043 -47.7051 L 50.9766 -10.2539 C 52.6855 -8.59375 54.3945 -7.8125 56.4453 -7.8125 Z",layoutBox:{viewBox:"0 0 212.646728515625 159.98291015625",width:212.646728515625,height:159.98291015625,translateX:49.853710937499955,translateY:115.221435546875,baseline:115.221435546875,capline:44.761474609375},glyphBox:{viewBox:"0 0 88.036865234375 54.8349609375",width:88.036865234375,height:54.8349609375,translateX:-12.451220703125045,translateY:62.6474609375,baseline:62.6474609375,capline:-7.8125}},staticMembers:{__QUALIFIED_CLASS_NAME__:"ChevronView"}}),Sk=(pb.a,{primaryInteractionMode:X.b(dt.a.bindingFor("application.primaryInteractionMode")),sizeClassHorizontal:X.b(dt.a.bindingFor("application.sizeClassHorizontal")),sizeClassVertical:X.b(dt.a.bindingFor("application.sizeClassVertical"))}),Ik={name:"person.crop.circle",svgPath:"M 58.5449 14.5508 C 85.791 14.5508 108.35 -8.00781 108.35 -35.2539 C 108.35 -62.4512 85.7422 -85.0586 58.4961 -85.0586 C 31.2988 -85.0586 8.74023 -62.4512 8.74023 -35.2539 C 8.74023 -8.00781 31.3477 14.5508 58.5449 14.5508 Z M 58.5449 -18.6035 C 43.8477 -18.6035 32.5684 -13.3789 27.5879 -7.51953 C 21.0449 -14.8438 17.0898 -24.5605 17.0898 -35.2539 C 17.0898 -58.252 35.4492 -76.7578 58.4961 -76.7578 C 81.543 -76.7578 100 -58.252 100.049 -35.2539 C 100.098 -24.5117 96.0938 -14.7949 89.502 -7.4707 C 84.5703 -13.3301 73.2422 -18.6035 58.5449 -18.6035 Z M 58.5449 -26.9043 C 67.9199 -26.8066 75.293 -34.8145 75.293 -45.3125 C 75.293 -55.1758 67.9199 -63.3789 58.5449 -63.3789 C 49.1699 -63.3789 41.748 -55.1758 41.7969 -45.3125 C 41.8457 -34.8145 49.1699 -27.002 58.5449 -26.9043 Z",layoutBox:{viewBox:"0 0 212.646728515625 159.98291015625",width:212.646728515625,height:159.98291015625,translateX:47.778210449218705,translateY:115.221435546875,baseline:115.221435546875,capline:44.761474609375},glyphBox:{viewBox:"0 0 99.6097412109375 99.6572265625",width:99.6097412109375,height:99.6572265625,translateX:-8.740283203125045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}},wk=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",classes:["photo-icon",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isPhotoIconHidden",truevalue:"view-hidden",attributes:{}}],styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"iconWidth",attributes:{},unit:"px",property:"width"},height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"iconHeight",attributes:{},unit:"px",property:"height"},"background-image":{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"meCardPhotoUrl",attributes:{},unit:null,property:"background-image"},"background-position":{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"photoBackgroundPosition",attributes:{},unit:null,property:"background-position"},"background-size":{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"photoBackgroundSize",attributes:{},unit:null,property:"background-size"},"background-repeat":"no-repeat",overflow:"hidden"}},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"emptyAvatarView"}],classes:["empty-avatar",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isEmptyAvatarHidden",truevalue:"view-hidden",attributes:{}}],styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"iconWidth",attributes:{},unit:"px",property:"width"},height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"iconHeight",attributes:{},unit:"px",property:"height"}}}],classes:["user-photo-icon-view"]},__QUALIFIED_CLASS_NAME__:"UserPhotoIconView"},iconWidth:X.b({type:Number,defaultValue:24}),iconHeight:X.b({type:Number,defaultValue:24}),meCardPhoto:X.b(),isPhotoIconHidden:X.b({type:Boolean,dependencies:["photoSize"],readOnly:!0,get:Object.assign((function(){return 0===this.photoSize.width}),{__CW__getter:function(e,t,n,i){return 0===i.internalGet(this,t[0+n]).width}})}),isEmptyAvatarHidden:X.b({type:Boolean,dependencies:["photoSize"],readOnly:!0,get:Object.assign((function(){return this.photoSize.width>0}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n]).width>0}})}),photoBackgroundPosition:X.b({type:String,readOnly:!0,dependencies:["meCardPhoto","iconWidth","iconHeight","photoSize"],get:Object.assign((function(){var e=this.meCardPhoto,t=this.photoSize;if(!e||!t||0===t.width||0===t.height)return"0px 0px";var n=t.height,i=t.width,r=e.crop,a=r?r.width:i,o=r?r.height:n,s=r?r.x:0,l=r?r.y:0,c=this.iconWidth,u=this.iconHeight;return Math.round(-s*c/a)+"px "+Math.round(-(n-l-o)*u/o)+"px"}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[3+n]);if(!r||!a||0===a.width||0===a.height)return"0px 0px";var o=a.height,s=a.width,l=r.crop,c=l?l.width:s,u=l?l.height:o,d=l?l.x:0,h=l?l.y:0,f=i.internalGet(this,t[1+n]),p=i.internalGet(this,t[2+n]);return Math.round(-d*f/c)+"px "+Math.round(-(o-h-u)*p/u)+"px"}})}),photoBackgroundSize:X.b({type:String,readOnly:!0,dependencies:["meCardPhoto","iconWidth","iconHeight","photoSize"],get:Object.assign((function(){var e=this.meCardPhoto,t=this.photoSize;if(!e||!t||0===t.width||0===t.height)return"0px 0px";var n=t.width,i=t.height,r=e.crop,a=r?r.width:n,o=r?r.height:i,s=this.iconWidth,l=this.iconHeight;return Math.round(n*s/a)+"px "+Math.round(i*l/o)+"px"}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n]),a=i.internalGet(this,t[3+n]);if(!r||!a||0===a.width||0===a.height)return"0px 0px";var o=a.width,s=a.height,l=r.crop,c=l?l.width:o,u=l?l.height:s,d=i.internalGet(this,t[1+n]),h=i.internalGet(this,t[2+n]);return Math.round(o*d/c)+"px "+Math.round(s*h/u)+"px"}})}),photoSize:X.b({type:Object,defaultValue:function(){return{width:0,height:0}}}),meCardPhotoUrl:X.b({type:String,dependencies:["meCardPhoto"],readOnly:!0,get:Object.assign((function(){if(this.meCardPhoto)return"url("+this.meCardPhoto.url+")"}),{__CW__getter:function(e,t,n,i){if(i.internalGet(this,t[0+n]))return"url("+i.internalGet(this,t[0+n]).url+")"}})}),emptyAvatarView:X.b({dependencies:["isEmptyAvatarHidden"],readOnly:!0,get:Object.assign((function(){return this.isEmptyAvatarHidden?null:this._emptyAvatarView}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?null:this._emptyAvatarView}})}),_emptyAvatarView:X.b({readOnly:!0,defaultValue:function(){return Di.a.extend(HT).create({symbolMetadata:Ik,layoutMode:"glyphBox"})}}),meCardPhotoDidChange:Ni.f("meCardPhoto",(function(){var e=this;if(this.meCardPhoto&&this.meCardPhoto.url){var t=new Image;ee.a(t,"error",(function n(){e.photoSize={width:0,height:0},Bi.a(t,"error",n)})),ee.a(t,"load",(function n(){e.photoSize={width:t.width,height:t.height},Bi.a(t,"load",n)})),t.src=this.meCardPhoto.url}}))}),Ek=Di.a.extend({mixinDependencies:[pb.a,Sk],staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"userPhotoIconView"},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"userNameLabelView"}],classes:["user-label-container"]},{type:"VIEWOUTLET",tagname:"view",name:"chevron"}],classes:["user-name-with-chevron",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideUserName",truevalue:"hide-user-name",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"UserNameWithChevron"},shouldHideUserName:X.b({dependencies:[ce.a.sharedInstance.window.bindingFor("width"),"userNameString","isAttached"],readOnly:!0,type:Boolean,get:Object.assign((function(){return!this.isAttached||this.parent.element.offsetWidth-(this.chevron&&this.chevron.element&&this.chevron.element.offsetWidth||0)-this.calculateWidthForUserName()<=0}),{__CW__getter:function(e,t,n,i){return!i.internalGet(this,t[2+n])||this.parent.element.offsetWidth-(this.chevron&&this.chevron.element&&this.chevron.element.offsetWidth||0)-this.calculateWidthForUserName()<=0}})}),calculateWidthForUserName:function(){var e=this.userNameLabelView.element;return e&&e.offsetWidth||0},user:X.b(),userNameString:X.b({readOnly:!0,dependencies:["user"],get:Object.assign((function(){var e=this.user||{},t=e.firstName,n=void 0===t?"":t,i=e.lastName,r=void 0===i?"":i,a=Ko.displayNameForComponents({givenName:n}),o=Ko.displayNameForComponents({givenName:n,familyName:r});return Oo(o)?o:a}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[0+n])||{},a=r.firstName,o=void 0===a?"":a,s=r.lastName,l=void 0===s?"":s,c=Ko.displayNameForComponents({givenName:o}),u=Ko.displayNameForComponents({givenName:o,familyName:l});return Oo(u)?u:c}})}),userPhotoIconView:X.b({readOnly:!0,strong:!0,type:wk,get:function(e){return wk.create()}}),userNameLabelView:X.b({readOnly:!0,strong:!0,get:function(){return ki.create({additionalClassNames:["user-name-label"],value:this.bindingFor("userNameString")})}}),chevron:X.b({readOnly:!0,strong:!0,get:function(){return yk.create()}})}),Ck=a.d("DriveUI.TrashToolbar.Button.Delete.Title"),Ak=a.d("DriveUI.TrashToolbar.Button.Delete.All.Title"),Tk=a.d("DriveUI.TrashToolbar.Button.Recover.Title"),Ok=a.d("DriveUI.TrashToolbar.Button.Recover.All.Title"),Dk=Di.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"putFilesBackButton"},{type:"ELEMENT",tagname:"div",classes:["toolbar-item","vertical-button-separator"]},{type:"VIEWOUTLET",tagname:"view",name:"deleteFilesButton"}],classes:["trash-toolbar"]}},__QUALIFIED_CLASS_NAME__:"TrashToolbarView"},init:function(e,t){this.__s._$IV$init.call(this,Object.assign({},t,{actionPolicy:e}))},actionPolicy:X.b(),deleteFilesButton:X.b({readOnly:!0,strong:!0,get:function(){return Pi.a.create({additionalClassNames:Mi.a(["toolbar-item","trash-delete"]),ariaLabel:J.c("tooltip"),tooltip:J.c("title"),action:"_purgeRecentlyDeletedItemsAction",isDisabled:this.bindingFor("isDeleteFilesDisabled"),title:this.bindingFor("deleteFilesText")})}}),isDeleteFilesDisabled:X.b({readOnly:!0,dependencies:["actionPolicy.shouldAllowTombstoneFiles"],get:Object.assign((function(){return!this.getPath("actionPolicy.shouldAllowTombstoneFiles")}),{__CW__getter:function(e,t,n,i){return!i.internalGetPath(this,t[0+n])}})}),deleteFilesText:X.b({readOnly:!0,dependencies:["actionPolicy.shouldOperateOnAllTrashItems"],get:Object.assign((function(){return this.getPath("actionPolicy.shouldOperateOnAllTrashItems")?Ak:Ck}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])?Ak:Ck}})}),putFilesBackButton:X.b({readOnly:!0,strong:!0,get:function(){return Pi.a.create({additionalClassNames:Mi.a(["toolbar-item","trash-putback"]),ariaLabel:J.c("tooltip"),tooltip:J.c("title"),action:"_performPutFilesBackAction",isDisabled:this.bindingFor("isPutBackFilesDisabled"),title:this.bindingFor("putBackFilesText")})}}),isPutBackFilesDisabled:X.b({readOnly:!0,dependencies:["actionPolicy.shouldAllowPutBackFiles"],get:Object.assign((function(){return!this.getPath("actionPolicy.shouldAllowPutBackFiles")}),{__CW__getter:function(e,t,n,i){return!i.internalGetPath(this,t[0+n])}})}),putBackFilesText:X.b({readOnly:!0,dependencies:["actionPolicy.shouldOperateOnAllTrashItems"],get:Object.assign((function(){return this.getPath("actionPolicy.shouldOperateOnAllTrashItems")?Ok:Tk}),{__CW__getter:function(e,t,n,i){return i.internalGetPath(this,t[0+n])?Ok:Tk}})}),_performPutFilesBackAction:function(){Th.dispatchNotification(Ah.create({id:"putFilesBackFromTrash"}))},_purgeRecentlyDeletedItemsAction:function(){Th.dispatchNotification(Ah.create({id:"purgeRecentlyDeletedItems"}))},__superMap:{_$IV$init:"init"}});n(655),a.b(a.c(),{"BR.Application.Title":"Drive","BR.TabBar.RecentlyDeleted":"Недавно видалені","BR.TabBar.Browse":"Переглянути"});var Mk={"icloud.logo":{name:"icloud.logo",svgPath:"M1 3.9c0-1.4 1.2-2.6 2.6-2.6 1.4 0 2.6 1.1 2.6 2.5S5.1 6.4 3.7 6.4h-.1C2.2 6.5 1 5.3 1 3.9zm.4 5.8h4.5v22H1.4v-22zm8.8 6.9C10.2 7 15.7 1 24.1 1 31 1 36.2 5.2 37 11.5h-4.7c-.8-3.9-4.1-6.4-8.2-6.4-5.5 0-9.1 4.5-9.1 11.5s3.5 11.5 9.1 11.5c4.2 0 7.2-2.2 8.2-5.8H37c-1.2 6.2-5.9 9.9-12.9 9.9-8.5 0-13.9-6-13.9-15.6zM40.9 1.5h4.5v30.2h-4.5V1.5zm18.7 7.9c-6.4 0-10.5 4.4-10.5 11.3S53.2 32 59.6 32s10.5-4.3 10.5-11.3c0-6.9-4-11.3-10.5-11.3zm0 18.8c-3.7 0-5.9-2.8-5.9-7.6 0-4.7 2.2-7.6 5.9-7.6s5.9 2.8 5.9 7.6-2.2 7.6-5.9 7.6zm33 3.5h-4.4v-3.8h-.1c-1.3 2.6-3.5 4-6.9 4-4.8 0-7.8-3.1-7.8-8.1V9.7h4.5v13.2c0 3.3 1.6 5.1 4.7 5.1 3.3 0 5.3-2.3 5.3-5.7V9.7h4.5l.2 22zm19.8-30.2v11.8h-.1c-1.3-2.4-3.8-3.9-6.9-3.9-5.5 0-9.3 4.4-9.3 11.2s3.8 11.2 9.3 11.2c3.2 0 5.7-1.5 7-4h.1v3.7h4.4v-30h-4.5zm-5.8 26.6c-3.5 0-5.9-2.9-5.9-7.4s2.3-7.4 5.9-7.4c3.5 0 5.8 2.9 5.8 7.4.1 4.5-2.3 7.4-5.8 7.4z",layoutBox:{viewBox:"0 0 118 34",width:118,height:34,translateX:0,translateY:0,baseline:31.5,capline:0},glyphBox:{viewBox:"0 0 118 34",width:118,height:34,translateX:0,translateY:0,baseline:31.5,capline:0}},"icloud.cn.logo":{name:"icloud.cn.logo",svgPath:"M11.5,39.5v10.3h-1v-0.9H2.3v0.9h-1V39.5h4.6v-2.2h1v2.2H11.5z M2.3,43.6h3.6v-3.1H2.3V43.6z M2.3,47.9h3.6v-3.4H2.3V47.9z M7,40.4v3.1h3.6v-3.1H7z M7,47.9h3.6v-3.4H7V47.9z M26.8,41.9v1h-6.6c-1.3,2.6-2.4,4.3-3.3,5.4c2.5-0.1,5-0.3,7.4-0.7c-0.2-0.5-0.5-1-0.8-1.4c-0.3-0.5-0.6-0.9-0.9-1.4l0.8-0.5c0.6,0.9,1.2,1.9,1.7,2.7c0.5,0.8,0.9,1.6,1.3,2.4L25.6,50c-0.1-0.3-0.2-0.5-0.3-0.7c-0.1-0.3-0.3-0.5-0.4-0.7c-1.4,0.2-2.8,0.3-4.3,0.5l-4.7,0.4l-0.3-1c0.1,0,0.1,0,0.1-0.1c0-0.1,0.1-0.1,0.1-0.1c0.9-0.7,2.1-2.5,3.4-5.4h-4.6v-1L26.8,41.9L26.8,41.9z M25.6,38.1V39h-9.7v-0.9H25.6z M33.1,37.2h1.1v4.2h5.1v1h-5.1v5.8h6.2v1H28.2v-1h5L33.1,37.2L33.1,37.2z M47.9,41.9V41h-4v-2.8h4v-0.9h1v0.9h4V41h-4v0.9h5.6v0.9H42.4v-0.9C42.4,41.9,47.9,41.9,47.9,41.9z M49.1,45.2c-0.2,1.7-0.6,2.8-1.3,3.3c-0.7,0.6-2.4,1.1-5,1.3l-0.4-0.9c2.4-0.1,3.7-0.5,4.5-1.1c0.8-0.7,1.2-1.8,1.2-2.8L49.1,45.2zM52.8,47.5h-0.9v-3h-6.8v3.1h-0.9v-4.1h8.6L52.8,47.5z M47.9,39h-3v1.1h3V39z M49.4,47.4c0.9,0.3,1.8,0.5,2.7,0.8c0.8,0.3,1.6,0.6,2.4,0.9l-0.5,0.9c-1.6-0.8-3.3-1.4-5-1.9L49.4,47.4z M52,39h-3.1v1.1H52V39z M58.5,40.8c-0.1,0.7-0.2,1.4-0.4,2.1l-0.6,2l-0.9-0.3c0.3-0.6,0.5-1.3,0.6-2c0.2-0.7,0.3-1.4,0.4-2.1L58.5,40.8zM60.3,37.4v4.1c-0.1,3.7-0.9,6.5-2.6,8.3L57,49.2c1.6-1.6,2.4-4.1,2.4-7.6v-4.1L60.3,37.4z M61.3,40.9c0.3,0.5,0.5,1.1,0.8,1.7c0.3,0.6,0.5,1.1,0.7,1.8L62,44.7c-0.2-0.6-0.5-1.3-0.7-1.9c-0.2-0.6-0.5-1.1-0.8-1.6L61.3,40.9z M64.3,37.7v11.7h-0.9V37.7H64.3zM65.1,40.8l0.8,1.6c0.3,0.6,0.5,1.1,0.7,1.8l-0.8,0.4c-0.2-0.6-0.5-1.2-0.7-1.8c-0.2-0.6-0.5-1.1-0.8-1.6L65.1,40.8z M68,37.3v12.5h-0.9V37.3H68z M78.9,49.6h-2.4c-0.4,0-0.8-0.1-1.2-0.1c-0.3,0-0.6-0.1-0.9-0.2c-0.6-0.2-1.1-0.5-1.5-1c-0.2-0.2-0.3-0.3-0.5-0.3c-0.3,0-0.9,0.7-1.7,2l-0.7-0.7c0.5-0.9,1.2-1.6,2-2.2V43h-2v-1H73v5.1l0.1,0.1c0.1,0.1,0.1,0.1,0.1,0.1c0.3,0.4,0.7,0.7,1.1,0.9c0.6,0.2,1.2,0.4,1.8,0.3h4.5c0.7,0,1.2-0.1,1.6-0.1l-0.3,1h-3L78.9,49.6z M70.8,37.4c0.5,0.4,0.9,0.7,1.3,1.1c0.4,0.3,0.7,0.7,1.1,1.1l-0.7,0.7c-0.7-0.8-1.5-1.5-2.4-2.2L70.8,37.4z M82.1,41.2v0.9h-4.3c-0.4,1-0.7,1.9-1.1,2.6c-0.3,0.6-0.6,1.2-1,1.7c0.8-0.1,1.7-0.2,2.5-0.3c0.7-0.1,1.4-0.3,2-0.4c-0.2-0.4-0.3-0.8-0.5-1.1c-0.2-0.4-0.4-0.7-0.6-1.1l0.8-0.3c0.8,1.4,1.5,2.8,2,4.3L81,47.8c-0.1-0.2-0.1-0.4-0.2-0.7c-0.1-0.2-0.2-0.4-0.3-0.6c-0.9,0.2-1.8,0.4-2.7,0.5c-1,0.1-2.1,0.3-3.3,0.4l-0.3-0.9c0.6-0.2,1.4-1.7,2.5-4.3h-2.8v-0.9L82.1,41.2L82.1,41.2z M81.1,38v0.9h-6.3V38H81.1z M84.3,38.2h3.1v-0.9h0.9v0.9h3.7v-0.9h1v0.9h3.1v0.9H93v0.8h-1v-0.8h-3.7v0.8h-0.9v-0.8h-3.1V38.2z M95.7,40.5V43h-1v-1.8h-9.1V43h-0.9v-2.7L95.7,40.5L95.7,40.5z M94.9,46v3.8h-1v-0.5h-7.4v0.5h-0.9V46H94.9z M86.5,48.4h7.4v-1.7h-7.4V48.4z M86.8,42.3h6.8V45h-6.8V42.3z M92.7,44.3V43h-5v1.3H92.7z M1,3.9a2.7,2.7 0 1,0 5.4,0a2.7,2.7 0 1,0 -5.4,0z M1.4,9.7h4.5v22.2H1.4V9.7z M10,16.7C10,7.1,15.4,1,23.9,1C30.8,1,36,5.2,36.8,11.6H32c-0.8-3.8-4.2-6.6-8.3-6.4c-5.5,0-9.1,4.5-9.1,11.6s3.5,11.6,9.1,11.6c4.2,0,7.3-2.2,8.3-5.8h4.7c-1.2,6.3-6,10-12.9,10C15.4,32.4,10,26.4,10,16.7z M40.8,1.5h4.6v30.4h-4.5L40.8,1.5z M49,20.8c0-7,4.1-11.4,10.5-11.4S70,13.8,70,20.8s-4,11.4-10.5,11.4C53.1,32.2,49,27.8,49,20.8z M65.4,20.8c0-4.7-2.2-7.6-5.9-7.6s-5.9,2.8-5.9,7.6s2.2,7.6,5.9,7.6S65.4,25.7,65.4,20.8z M92.5,31.9h-4.3v-3.7h-0.1c-1.3,2.7-3.5,4-6.9,4c-4.8,0-7.8-3.1-7.8-8.3V9.7H78v13.4c0,3.3,1.6,5.2,4.7,5.2c3.3,0,5.3-2.3,5.3-5.8V9.7h4.5V31.9L92.5,31.9z M96.1,20.8c0-6.9,3.7-11.3,9.2-11.3c3.1,0,5.7,1.5,7,3.9h0.1v-12h4.5v30.4h-4.4v-3.8h-0.1c-1.3,2.6-3.8,4-7.1,4C99.8,32.1,96.1,27.6,96.1,20.8z M100.8,20.8c0,4.5,2.4,7.5,5.9,7.5c3.5,0,5.8-2.9,5.8-7.5s-2.4-7.4-5.8-7.4S100.8,16.3,100.8,20.8L100.8,20.8z",layoutBox:{viewBox:"0 0 118 50",width:118,height:50,translateX:0,translateY:0,baseline:31.5,capline:0},glyphBox:{viewBox:"0 0 118 50",width:118,height:50,translateX:0,translateY:0,baseline:31.5,capline:0}}},Nk=Pi.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isCNAcct",truevalue:"cn",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"iCloudButton"},mixinDependencies:[HT],additionalClassNames:Mi.a(["icloud-button"]),completedAuthenticationStep:X.b(),isDisabled:X.b({dependencies:["completedAuthenticationStep"],readOnly:!0,type:Boolean,get:Object.assign((function(){return!this.completedAuthenticationStep}),{__CW__getter:function(e,t,n,i){return!i.internalGet(this,t[0+n])}})}),logoKey:X.b({readOnly:!0,dependencies:["_domainManager.current"],get:function(){return this.getPath("_domainManager.current.iCloudLogo")||"icloud.logo"}}),isCNAcct:X.b({readOnly:!0,type:Boolean,dependencies:["logoKey"],get:Object.assign((function(){return"icloud.cn.logo"===this.logoKey}),{__CW__getter:function(e,t,n,i){return"icloud.cn.logo"===i.internalGet(this,t[0+n])}})}),symbolMetadata:X.b({readOnly:!0,dependencies:["logoKey"],get:Object.assign((function(){return Mk[this.logoKey]}),{__CW__getter:function(e,t,n,i){return Mk[i.internalGet(this,t[0+n])]}})}),metadata:X.b({readOnly:!0,dependencies:["symbolMetadata","layoutMode"],get:Object.assign((function(){return this.symbolMetadata[this.layoutMode]}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])[i.internalGet(this,t[1+n])]}})}),_domainManager:X.b({readOnly:!0,defaultValue:function(){return es.sharedInstance}})}),Fk=Pi.a.extend({additionalClassNames:Mi.a(["app-name-button"]),appName:X.b(),appNameTooltip:X.b(),completedAuthenticationStep:X.b(),isDisabled:X.b({dependencies:["completedAuthenticationStep"],readOnly:!0,type:Boolean,get:Object.assign((function(){return!this.completedAuthenticationStep}),{__CW__getter:function(e,t,n,i){return!i.internalGet(this,t[0+n])}})}),tooltip:X.b({binding:J.c("appNameTooltip")}),title:X.b({binding:J.c("appName")}),_canSafelyKernAppName:X.b({readOnly:!0,dependencies:["title",a.a.sharedInstance.bindingFor("locale")],get:Object.assign((function(){return Lk(this.title,a.a.sharedInstance.locale)}),{__CW__getter:function(e,t,n,i){return Lk(i.internalGet(this,t[0+n]),i.internalGet(this,t[1+n]))}}),didChange:function(e){e?this.element.classList.add("kern-safe"):this.element.classList.remove("kern-safe")}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"AppNameButton"}}),Lk=function(){var e=Qi.a("ca cs da de en es fi fr hr hu id is it ms nb nl nn pl pt ro sk sv tr".split(" ")),t=/^[a-zA-Z0-9\s-\u2013\u2014:;.,?!\xbf/\\\u2026\u203d\u201c\u201d\u2018\u2019'"()[\]\xab\xbb]*$/;return function(n,i){if("string"!==typeof n)return!1;if("string"===typeof i){var r=(i=i.toLowerCase()).indexOf("-"),a=-1===r?i:i.substring(0,r);if(e[a])return!0}return t.test(n)}}(),Rk=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"icloudButton"},{type:"VIEWOUTLET",tagname:"view",name:"appNameButton"},{type:"VIEWOUTLET",tagname:"view",name:"chevronView"}],classes:["icloud-app-switcher"]},__QUALIFIED_CLASS_NAME__:"ICloudAppSwitcherView"},icloudButton:X.b({readOnly:!0,defaultValue:function(){return Nk.create({action:"showAppSwitcher"})},downstreamBindings:{completedAuthenticationStep:"(owner)._completedAuthenticationStep"}}),appNameButton:X.b({readOnly:!0,defaultValue:function(){return Fk.create({action:"showAppSwitcher",appName:a.d("BR.Application.Title"),appNameTooltip:a.d("BR.Application.Title")})},downstreamBindings:{completedAuthenticationStep:"(owner)._completedAuthenticationStep"}}),chevronView:X.b({readOnly:!0,defaultValue:function(){return yk.create({action:"showAppSwitcher"})}}),user:X.b(),showAppSwitcher:function(){this._hostApplicationServiceConnection.minimizeApplication()},_completedAuthenticationStep:X.b({readOnly:!0,dependencies:["user"],get:Object.assign((function(){return!!this.user}),{__CW__getter:function(e,t,n,i){return!!i.internalGet(this,t[0+n])}})})}),xk=(n(656),Pi.a.extend({action:"authenticateUser",additionalClassNames:Mi.a(["sign-in-button"]),title:a.d("CloudOS.Authentication.SignInButton.Title"),staticMembers:{__QUALIFIED_CLASS_NAME__:"SignInButton"}})),Pk=Di.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"userNameWithChevron"},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"signInButton"},{type:"TEXT",data:" / "},{type:"VIEWOUTLET",tagname:"view",name:"signUpButton"}],classes:["unauthed-menu"]}],classes:["account-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_userIsAuthed",truevalue:"authed",falsevalue:"unauthed",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"AccountView"},userNameWithChevron:X.b({readOnly:!0,defaultValue:function(){return Ek.create({action:"showAccountMenu"})},downstreamBindings:{user:"(owner).user"}}),signInButton:X.b({readOnly:!0,defaultValue:function(){return xk.create({action:"signInAction"})}}),signUpButton:X.b({readOnly:!0,defaultValue:function(){return Pi.a.create({action:"signUpAction",additionalClassNames:Mi.a(["sign-up-button"]),title:a.d("BR.Application.SignUpButton.Title")})}}),signInAction:function(){},signUpAction:function(){},user:X.b(),showAccountMenu:function(){var e=this.userNameWithChevron.rect,t=e.x,n=e.y,i=e.width,r=e.height;this._hostApplicationServiceConnection.showAccountMenu({x:t,y:n,width:i,height:r})},_userIsAuthed:X.b({readOnly:!0,dependencies:["user"],get:Object.assign((function(){return!!this.user}),{__CW__getter:function(e,t,n,i){return!!i.internalGet(this,t[0+n])}})})}),kk=(n(657),zP.extend({mixinDependencies:[Yo],init:function(e,t,n,i){this.__s._$9F$init.call(this,Object.assign({},i,{session:e,raiseAlertService:t,userNameWithChevronView:Ek.create(),folderToolbarView:_x.create(n),trashToolbarView:Dk.create(e.trashPolicy)}));var r=ws.defaultInstance;r.delegate=this,this._user=r.user,this.addViewToLeftGroup(this.iCloudAppSwitcherView),this.addViewToRightGroup(this.accountView)},iCloudAppSwitcherView:X.b({readOnly:!0,defaultValue:function(){return Rk.create({_hostApplicationServiceConnection:Rc.sharedInstance})},downstreamBindings:{user:"(owner).user"}}),accountView:X.b({readOnly:!0,defaultValue:function(){return Pk.create({_hostApplicationServiceConnection:Rc.sharedInstance})},downstreamBindings:{user:"(owner).user"}}),authenticationStepDidComplete:Vr.a,authenticationDidComplete:Vr.a,user:X.b({readOnly:!0,binding:J.c("_user")}),_user:X.b({strong:!0,type:Ko}),__superMap:{_$9F$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ICloudDriveWebAppToolbarView"}})),Uk=Ge.a.extend({init:function(e,t,n){this.__s._$Au$init.call(this,n),this.services=this.initializeServices(e,t)},services:null,initializeServices:function(e,t){var n=Qh.create(),i=Qd.create(),r=im.create(t,n,i),a=lm.create(n),o=dg.create((function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.loggingService=i,jm.create(r,n,e,t,a,o)}));r.uploadFilesService=o;var s=Fs.create(r),l=sM.create(s),c=fg.create(),u=gg.create(a),d=vg.create(a),h=CM.create(i,e),f=FM.create(i,n,l,c,d,h),p=xM.create(i),m=NN.create(s,l,f,p,FN.supportHelpPage).service,g=Rh.create(),v=wg.create(u,g,n,i),_=qN.create(u,g,m);return{fileSystem:r,loggingService:i,hostService:n,iconService:s,showcaseViewPool:l,downloadImageService:c,itemURLService:u,thumbnailURLService:d,thumbnailScalingService:h,thumbnailCanvasFactory:f,thumbnailStatsReporterService:p,raiseAlertService:m,docWebService:a,downloadService:g,openFileService:v,composeEmailService:_,itemSharingServiceFactory:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return JD.create(r,e,a,i,t)}}},createRootAndSessions:function(e,t,n,i,r,o){arguments.length>6&&void 0!==arguments[6]&&arguments[6];var s,l=t.getNewSession(),c=this.createTabContentViewController(l,n,i,r,o),u=[l];if(n===li.a.TOUCH){var d=t.getNewSession(t.trashRootFolder),h=this.createTabContentViewController(d,n,i,r);c.tabBarItem={value:"browse",title:a.d("BR.TabBar.Browse"),icon:_k},h.tabBarItem={value:"recently deleted",title:a.d("BR.TabBar.RecentlyDeleted"),icon:bk};var f=eF.create([c,h],{delegate:e}),p=function(){for(var e=0,t=f.viewControllers.length;e<t;e++)if(f.viewControllers.objectAt(e).isSelectionModeActive)return void(f.tabBarIsHidden=!0);f.tabBarIsHidden=!1};f.viewControllers.forEach((function(e){Ni.b.create(e,"isSelectionModeActive",p).connect()})),s=f,u.push(d)}else s=c;return{rootContent:s,sessions:u}},createTabContentViewController:function(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:kk,o=this.services,s=o.raiseAlertService,l=o.showcaseViewPool,c=o.iconService,u=o.thumbnailStatsReporterService,d=o.thumbnailCanvasFactory,h=IF.create(e,s,l,c,u,d),f=this.createToolbarView(e,t,r,h,a),p=this.createFolderNavigationController(e,t,n,i,r,h),m=this.createStatusBarViewController(e,t);return bL.create(p,e,t,s,_L,{toolbarView:f,statusBarViewController:m})},createFolderNavigationController:function(e,t,n,i,r,a){var o=this,s=this.services,l=s.downloadService,c=s.openFileService,u=s.raiseAlertService,d=s.iconService,h=s.showcaseViewPool,f=s.thumbnailCanvasFactory,p=s.downloadImageService,m=s.itemURLService,g=s.composeEmailService,v=s.thumbnailScalingService,_=s.thumbnailStatsReporterService,b=s.hostService,y=s.itemSharingServiceFactory,S=s.loggingService;return vL.create((function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},I=t===li.a.TOUCH?zR:px;return VP.extend(I).create(S,e,l,y,c,u,d,h,f,p,m,g,v,_,_L,t,n,i,o.createGridHeadToolbarButtonsFactory(e,t,r,a),Object.assign({headerViewClass:t===li.a.TOUCH?GP:null,toolbarButtons:o._createNavigationToolbarItems(e,t,i,n,r)},s,{hostService:b}))}),e,t)},createGridHeadToolbarButtonsFactory:function(e,t,n,i){return function(){var r=e.actionPolicy,a=[];if("TOUCH"===t&&n){var o=KP.create(r,i);a=[YP.create(r,this),o]}return a}},_createNavigationToolbarItems:function(e,t,n,i,r){var a=e.actionPolicy;return r?[ZP.create(a),ek.create(a),tk.create(a),nk.create(a),ik.create(a,[ak.create(a,{primaryInteractionMode:t}),sk.create(a,{primaryInteractionMode:t})],{sizeClassVertical:i,sizeClassHorizontal:n,primaryInteractionMode:t})]:[ZP.create(a),ek.create(a),ik.create(a,[ak.create(a,{primaryInteractionMode:t}),sk.create(a,{primaryInteractionMode:t})],{sizeClassVertical:i,sizeClassHorizontal:n,primaryInteractionMode:t})]},_createToolbarItems:function(e,t,n,i){var r=e.actionPolicy,a=[];if(t!==li.a.TOUCH){var o=KP.create(r,i);Th.addTargetActionForNotification(o,"programmaticallyClick","uploadItems"),a=n?[qP.create(r),o,ek.create(r),nk.create(r),ak.create(r),ZP.create(r)]:[ek.create(r),ak.create(r),ZP.create(r)]}return a},createToolbarView:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:kk,a=this.services.raiseAlertService,o=this._createToolbarItems(e,t,n,i),s=r.create(e,a,o,n);return s},createStatusBarViewController:function(e,t){var n,i=this.services.raiseAlertService;if(t===li.a.MOUSE){var r=dk.create(e,i),a=mk.create();n=vk.create(e,{primaryViewController:r,secondaryViewController:a})}return n},connect:function(e,t){var n=e.actionPolicy,i=e.trashPolicy,r=e.fileSystem;n.bind("selection",t.bindingFor("currentSelection")),i.bind("selection",t.bindingFor("currentSelection")),n.bind("folderContent",e.bindingFor("currentWorkingDirectory.content")),i.bind("folderContent",e.bindingFor("currentWorkingDirectory.content")),n.webServicesConfiguration=ss.sharedInstance,r.listen("quotaData",(function(){n.isOverQuota=r.quotaData.overQuota}))},__superMap:{_$Au$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DriveComponentInitializer"}}),jk=bi.extend(Ni.a,Ih,Wu.b,zu,{sessions:Y.c(),currentSession:X.b(),contentVC:Y.c(),componentInitializer:null,completeCloudOsPrefetch:null,applicationAccessType:Gu.UNKNOWN,applicationWillFinishLaunching:function(e,t){var n=this,i=this,r=arguments;i.__s._$Xy$applicationWillFinishLaunching.apply(i,r);var a=e.primaryInteractionMode,o=this.componentInitializer=Uk.create(a,this),s=o.services,l=s.loggingService,c=s.docWebService,u=s.fileSystem,d=rs("drivews")?as("drivews"):null;try{du("SFNSText",{success:function(){var e=ce.a.sharedInstance.window;e.propertyChanged("width"),e.propertyChanged("height")}})}catch(v){l.recordStat("UnableToUseFontDetector",{errorMessage:v.message,errorName:v.name})}var h=globalThis.CloudKit;h||(l.recordStat("CouldNotLoadCloudKitJS"),ze.b("CloudKit.js failed to load or initialize."));var f={containerIdentifier:"com.apple.clouddocs",environment:"production",privateDatabasePartition:"",publicDatabasePartition:"",sharedDatabasePartition:""};h.configure({containers:[f],services:{fetch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=as("ckdatabasews",e.substring(1));return t.useCredentialsIfCrossOrigin=!0,Bu(n,t)},Promise:Z.a}});var p=t.startupInfo,m=bt.a(p)&&bt.a(d)&&hu.a.create(p.url).hostname!==hu.a.create(d).hostname;m&&(Zc.sharedInstance.setStartupInfo(null,null),p=null,l.recordStat("StartupInfoIsStale"));var g=id.driveRootFolderId;return mh(c,e.sessionInfo,p,l,u).then((function(e){var t=e.ok,i=e.data,r=i.accessType;if(l.recordStat("DriveAccessAcquired",{accessType:r,rootFolderAvailable:bt.a(i.rootFolder)}),t){if(r!==Gu.FULL_ACCESS.WARM_BOOT&&r!==Gu.FULL_ACCESS.COLD_BOOT&&r!==Gu.NEEDS_MIGRATION)throw new Error("DEBUG: applicationWillFinishLaunching - Unexpected application access type: "+i);if(n.applicationAccessType=r,r===Gu.FULL_ACCESS.WARM_BOOT){var a=u.registerExternalFetchForId(id.driveRootFolderId);n.completeCloudOsPrefetch=function(e){a(e),e.ok&&u.didFetchFolderContent({fileSystem:u,parentFolder:u.getFolderById(g),content:e.data.items})}}else if(r===Gu.FULL_ACCESS.COLD_BOOT&&bt.a(i.rootFolder)){var o=d;Zc.sharedInstance.setStartupInfo(null,{url:o+"retrieveItemDetailsInFolders",method:"POST",requestPayload:[{drivewsid:g,partialData:!1}],timeout:6e5}),u.didFetchFolderContent({fileSystem:u,parentFolder:u.getFolderById(g),content:[]})}}else n.applicationAccessType=r}))},applicationDidFinishLaunching:function(e,t){var n=this,i=arguments;n.__s._$2wL$applicationDidFinishLaunching.apply(n,i);var r=ws.defaultInstance,a=r.isAuthenticated,o=this.applicationAccessType;switch(o){case Gu.FULL_ACCESS.WARM_BOOT:case Gu.FULL_ACCESS.COLD_BOOT:this._completeLaunchWithFullAccess(e,t,a);break;case Gu.NEEDS_MIGRATION:this._completeLaunchWithMigrationNeeded(e,t,a);break;case Gu.NONE.PCS_MISSING:case Gu.NONE.PCS_INVALID:return e.terminateWithReasonAndInfo(Vu.PCS_REQUIRED,{log:Re.b.stringifyRecordedLogMessages()});case Gu.NONE.STARTUP_ERROR:return e.terminateWithReasonAndInfo(Vu.CANNOT_LOAD_STARTUP_DATA,{log:Re.b.stringifyRecordedLogMessages()})}},applicationDidBecomeActive:function(){var e=this,t=arguments;e.__s._$3QJ$applicationDidBecomeActive.apply(e,t),document.cookie="client=icloudweb";var n=jr.a(this,"componentInitializer.services.fileSystem");bt.a(n)&&n.refreshQuotaData()},didFetchStartup:function(e,t){var n=this.completeCloudOsPrefetch,i=this.componentInitializer.services.fileSystem;if("function"===typeof n){var r=$u(t)?o.okResult(e):o.failedResult(e);n(uh.handleRetrieveItemDetailsInFoldersResponse(r,i.driveRootFolder,i,{partialData:!1}))}},_completeLaunchWithFullAccess:function(e,t,n){var i=this,r=this.componentInitializer,a=r.services,o=e.primaryInteractionMode,s=e.bindingFor("sizeClassVertical"),l=e.bindingFor("sizeClassHorizontal"),c=a.fileSystem;c.trashDetailsService.beginPolling(),e.fileSystem=c;var u=r.createRootAndSessions(this,c,o,s,l,n),d=u.rootContent,h=u.sessions,f=o===li.a.MOUSE?Ir.a.create([d]):d.viewControllers;h.forEach((function(e,t){var n=f.objectAt(t);r.connect(e,n)})),Eh.create(Rc.sharedInstance,this.bindingFor("currentSession")).activate(),Wu.a.create(this.bindingFor("currentSession"),{delegate:this}).activate(),this.sessions=h,this.currentSession=h[0],this.contentVC=e.rootViewController.contentViewController=d;var p=jr.a(t,"itemsToOpen.0.item");if(bt.a(p)){Rc.sharedInstance.updateShareGUID("");var m=a.loggingService,g=p,v=jr.a(g,"share.fields"),_=bt.a(v)&&bt.a(v["cloudkit.type"])?v["cloudkit.type"].value:null;m.recordStat("AttemptedToResolveRecord",{cloudKitRecordType:_}),c.retrieveItemForCKRecordHash(g).then((function(t){return t.ok?i._handleResolvedCKItem(e,t.data):(m.recordStat("NoRootOrResolvedRecordFoundForTheCkRecord",{cloudKitRecordType:_}),t)}))}},_completeLaunchWithMigrationNeeded:function(e,t,n){var i=this,r=this.componentInitializer.services,a=r.loggingService,o=r.fileSystem,s=e.sessionInfo;Sh.create(3e4,(function(){return gh(s,null,a,o)}),(function(e){return e.ok&&bt.a(e.data)&&e.data.accessType===Gu.FULL_ACCESS})).start().then((function(r){i.applicationAccessType=r.data.accessType,i._completeLaunchWithFullAccess(e,t,n)})),e.rootViewController.contentViewController=ri.a.create({viewClass:Ch})},_handleResolvedCKItem:function(e,t){var n=e.rootViewController,i=e.primaryInteractionMode,r=i===li.a.MOUSE?n.contentViewController:n.contentViewController.viewControllers.objectAt(0);i===li.a.TOUCH&&n.contentViewController.setSelectedViewController(r);var a=bt.a(t)&&t.isFolder?t:t.parent;return r.folderNavigationController.changeDirectoryAndGoToItem(a,t)},tabBarControllerDidSelect:function(e,t){this.currentSession=t.session},historyStateDidChange:function(e){var t=this.sessions,n=this.componentInitializer.services.fileSystem,i=t[0];if(null===e){var r=i.initialWorkingDirectory,a=bt.a(r)?r:n.getFolderById(id.driveRootFolderId);i.changeDirectory(a),this.currentSession=i,"setSelectedViewController"in this.contentVC&&this.contentVC.setSelectedIndex(t.indexOf(i))}else{var o,s,l,c=e.sessionId,u=e.folderId,d=t[1],h=n.getFolderById(u);o=1===t.length?i:bt.a(h)?h.isInTrash?d:i:d.id===c?d:i,s=bt.a(h)?h:bt.a(o.initialWorkingDirectory)?o.initialWorkingDirectory:o===d?n.getFolderById(id.trashRootFolderId):n.getFolderById(id.driveRootFolderId),l=1===t.length?0:o===d?1:0,o.changeDirectory(s),this.currentSession=o,"setSelectedIndex"in this.contentVC&&this.contentVC.setSelectedIndex(l)}},handleQueryFolderContentFailure:function(e){var t=dt.a.application,n=e.data.type;return n===qd.PCSMissing||n===qd.PCSInvalid?t.terminateWithReasonAndInfo(Vu.PCS_REQUIRED,{log:Re.b.stringifyRecordedLogMessages()}).then((function(){return e})):e},__superMap:{_$Xy$applicationWillFinishLaunching:"applicationWillFinishLaunching",_$2wL$applicationDidFinishLaunching:"applicationDidFinishLaunching",_$3QJ$applicationDidBecomeActive:"applicationDidBecomeActive"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ApplicationDelegate"}});n(696),Ti.main({applicationClass:cu,delegateClass:jk,rootViewControllerClass:ec})},function(e,t,n){"use strict";n.r(t);var i=n(83),r=n(206),a=n(17),o=n(270),s=n(733),l=n(708),c=n(701),u=n(722),d=i.a.extend(u.a,{regionFormat:"",formattingRules:{},serializedProperties:["regionFormat","formattingRules"],toString:function(){return this.serialize()},staticMembers:{__QUALIFIED_CLASS_NAME__:"Response"}});n(14),n.d(t,"RegionFormatter",(function(){return f})),n.d(t,"region",(function(){return p}));var h=globalThis.IntlPolyfill,f=i.a.extend({_region:null,_cachedNumberInstances:{},_cachedDateTimeInstances:{},_pendingRegionsToRegister:{},_is12HourTimeForRegions:{},localeMap:null,SHORT_DATE:{month:"numeric",day:"numeric",year:"numeric"},MEDIUM_DATE:{month:"short",day:"numeric",year:"numeric"},LONG_DATE:{month:"long",day:"numeric",year:"numeric"},FULL_DATE:{weekday:"long",month:"long",day:"numeric",year:"numeric"},SHORT_TIME:{hour:"numeric",minute:"numeric"},MEDIUM_TIME:{hour:"numeric",minute:"numeric",second:"numeric"},LONG_TIME:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},FULL_TIME:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},registerRegionFormat:function(e){if(e&&h){h.__disableRegExpRestore();var t=e.locale.toLowerCase();this._region=t,this._pendingRegionsToRegister[t]=e}else r.b.info("No Intl polyfill or region rules. Skipping RegionFormatter initialization.")},loadFormattingRules:function(e,t,n){e.validate()||a.b("Invalid hostInfo",e.errors);var i=this.localeMap;i&&t in i&&(t=i[t]);var r=o.a.create(e.urlString),l=s.a.create(e.requestProperties);n||(n={});var c=n.fallbackRegionFormat||"en-us",u="maxRetries"in n?n.maxRetries:3,h=r.pathname;"/"!==h.charAt(h.length-1)&&(r.pathname=h+"/");var f=this._getISOnameForRegion(t);return r.pathname=r.pathname+f+".json",l.url=r,l.send().then(function(e){var n=e.body;return this.registerRegionFormat(n),d.create({regionFormat:t,formattingRules:n})}.bind(this)).catch(function(i){var r=t.split("-"),a=c;if(404===i.status&&t!==c&&r.length>1&&(r.pop(),a=r.join("-")),u>0)return a===c&&(n.maxRetries=u-1),this.loadFormattingRules(e,a,n);throw new Error("Cannot load region formatting rules from host.")}.bind(this))},getNumberFormatter:function(e){h||a.b("Cannot use Intl without polyfill."),this._registerPendingRegionFormats();var t=this._getCacheKeyForOptions(e),n=this._cachedNumberInstances[t];return n||(n=new h.NumberFormat(this._region,e),this._cachedNumberInstances[t]=n),n},getDateTimeFormatter:function(e){h||a.b("Cannot use Intl without polyfill."),this._registerPendingRegionFormats();var t=this._getCacheKeyForOptions(e),n=this._cachedDateTimeInstances[t];return n||(n=new h.DateTimeFormat(this._region,e),this._cachedDateTimeInstances[t]=n),n},is12HourTime:function(e){this._registerPendingRegionFormats();var t=e?e.toLowerCase():this._region;return this._is12HourTimeForRegions[t]},_registerPendingRegionFormats:function(){for(var e=this._pendingRegionsToRegister,t=Object.keys(e),n=0;n<t.length;n++){var i=e[t[n]];h.__addLocaleData(l.a(i));var r=i.locale.toLowerCase();this._is12HourTimeForRegions[r]=i.date.hour12,delete this._pendingRegionsToRegister[r]}},_getCacheKeyForOptions:function(e){return e?this._region+":"+c.a(e):this._region+":default"},_getISOnameForRegion:function(e){var t="",n=e?e.split("-"):["en","us"];return t=n[0].toLowerCase(),n.length>2?(t+="-"+this._capitalizeFirstLetter(n[1]),t+="-"+n[2].toUpperCase()):n.length>1&&(t+=n[1].length>2?"-"+this._capitalizeFirstLetter(n[1]):"-"+n[1].toUpperCase()),t},_capitalizeFirstLetter:function(e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RegionFormatter"}}),p=f.create({localeMap:{no:"nb","no-no":"nb-no"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(387),r=function(e,t){for(var n,r,a=0,o=t;o&&-1!==(r=e.indexOf(".",a));)n=e.substring(a,r),o=Object(i.a)(o,n),a=r+1;return o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e.substring(e.lastIndexOf(".")+1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(17),r=n(138),a=n(178),o=n(236),s=[],l=function(e,t){var n,r,l,u,d=0|t,h="";if(Object(a.a)(e)){for(n=e.length,r=0;r<n;r++)r&&(h+=","),h+=c(e[r],d);return"["+h+"]"}if(e._isCwCollection&&e.objectAt){for(n=e.length,r=0;r<n;r++)r&&(h+=","),h+=c(e.objectAt(r),d);return"["+h+"]"}if(!Object(o.a)(e)){for(l in u=s.length,e)e.hasOwnProperty(l)&&s.push(l);for(s.sort(),n=s.length,r=u;r<n;r++)r!==u&&(h+=","),h+='"'+(l=s[r])+'":'+c(e[l],d);return s.length=u,"{"+h+"}"}return Object(i.b)("Object expected in call to `guidForContents`.",e),null},c=function(e,t){return t>0&&!Object(o.a)(e)?l(e,t-1):'"'+Object(r.a)(e)+'"'}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(17),r=n(99),a=n(158),o=r.a.extend(a.a,{staticMembers:{begin:function(e){var t=this.create();return t.retain(t,s),t._isReady=!0,t._rootObject=e,t._batchSetter=this._beginBatchSetter(),t},_beginBatchSetter:function(){return r.c.begin()},__QUALIFIED_CLASS_NAME__:"BatchSetterForNonObservableObject"},begin:function(){Object(i.b)("BatchSetterForObject Begin must be called on the class, reusing BatchSetterForObject objects is not allowed.")},_rootObject:null,set:function(e,t){return this._batchSetter.set(this._rootObject,e,t),this},setIfChanged:function(e,t){return this._batchSetter.setIfChanged(this._rootObject,e,t),this},end:function(){this._batchSetter.end(),this._batchSetter=null,this._rootObject=null,this.release(this,s)}}),s="BatchSetterForObject: self-reference for the duration"},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var i=n(270);function r(){return e!==globalThis.parent}function a(){if(r()){var e;return e=globalThis.location!==globalThis.parent.location?document.referrer:document.location.href,i.a.create(e).origin}return null}n(132),n(17)}).call(this,n(87))},function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return f}));var i=n(86),r=n(54),a=n(91),o=n(83),s=n(158),l=n(199),c=n(202),u=n(38),d=n(15),h={mixinDependencies:[i.a],width:Object(r.c)(a.a),height:Object(r.c)(a.a),toString:function(){var e=this,t=arguments;return e.__s._$8e$toString.apply(e,t)+Object(l.a)("{ width: %{width}, height: %{height} }",this)},__superMap:{_$8e$toString:"toString"}},f=o.a.extend(u.a,h,s.a,{initFromPool:function(e,t){var n=this,i=arguments;if(Object(c.a)(t))return this.width=e,this.height=t,n.__s._$Fw$initFromPool.call(n);n.__s._$Fw$initFromPool.apply(n,i)},didEnterPool:function(){var e=this,t=arguments;this.width=0,this.height=0,e.__s._$I3$didEnterPool.apply(e,t)},width:Object(d.b)(0),height:Object(d.b)(0),__superMap:{_$Fw$initFromPool:"initFromPool",_$I3$didEnterPool:"didEnterPool"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Size"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(17),r=n(206);function a(e){e||Object(i.b)("An element is required to be able to measure it");var t=e.getBoundingClientRect();return void 0===t.x&&(t.x=t.left),void 0===t.y&&(t.y=t.top),0!==t.height||0!==t.width||document.body.contains(e)?t:(r.b.error("Tried to measure an element that is not in the document",e),null)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n(178),r=n(315),a=n(101),o=n(707),s=n(708),l=n(17),c=n(83),u=n(24),d=n(278),h=n(734),f=c.a.extend(h.a,{staticMembers:{from:function(e){return this.create(e)},__QUALIFIED_CLASS_NAME__:"CoreArray"},shouldDoPostInitProcessing:Object(u.c)(!0),init:function(e){var t,n=this,o=arguments,s=!1;Object(i.a)(e)?t=Object(r.a)(e):Object(a.a)(e,d.a)?t=e.toArray():(t=[],s=!0),this._array=t,s?n.__s._$dh$init.apply(n,o):n.__s._$dh$init.call(n),this.shouldDoPostInitProcessing&&this.postInitProcessing()},postInitProcessing:function(){var e=this._array;if(e){var t=this.serializer;if(e&&t&&t.encode)for(var n=0,i=e.length;n<i;n++)e[n]=t.encode(e[n],n)}},appendArrays:function(){m.length=0,m[0]=1/0;for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];Object(o.a)(m,n)}return this.insertAt.apply(this,m),this},_array:null,encodedRawSplice:function(e,t){var n=arguments.length-2;this.itemsWillChange(),t>0&&this.itemsWillBeRemoved(e,t),n>0&&this.itemsWillBeInserted(e,n);var i=this._array.splice.apply(this._array,arguments);return t>0&&this.itemsWereRemoved(e,t),n>0&&this.itemsWereInserted(e,n),this.itemsDidChange(),i},encodedObjectAt:function(e){return this._array[e]},length:Object(u.c)({get:p,set:function(e){e<0&&Object(l.b)("Invalid length %{length}. Must be a non-negative integer.",{length:e,object:this});var t,n=this._internalLength,i=e-n;0!==i&&(this.itemsWillChange(),i>0?this.itemsWillBeInserted(n,i):i<0&&(t=n- -1*i,this.itemsWillBeRemoved(t,-i)),this._array.length=e,i>0?this.itemsWereInserted(n,i):i<0&&this.itemsWereRemoved(t,-i),this.itemsDidChange());return e}}),_internalLength:Object(u.c)({readOnly:!0,get:p}),shallowCopy:function(){return this.constructor.create(Object(r.a)(this._array))},toJSON:function(){return Object(s.a)(this._array)},encodedPush:function(){var e,t=arguments.length,n=this.length;if(0===t)return n;this.itemsWillChange(),this.itemsWillBeInserted(n,t);var i=(e=this._array).push.apply(e,arguments);return this.itemsWereInserted(n,t),this.itemsDidChange(),i},clear:function(){var e=this.length;return this.itemsWillChange(),this.itemsWillBeRemoved(0,e),this._array.length=0,this.itemsWereRemoved(0,e),this.itemsDidChange(),this},removeAt:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.length;return e<0&&(e=n+e)<0&&(e=0),e<n&&e>=0&&(this.itemsWillChange(),this.itemsWillBeRemoved(e,t),this._array.splice(e,t),this.itemsWereRemoved(e,t),this.itemsDidChange()),this},encodedPop:function(){var e=this.length-1;this.itemsWillChange(),this.itemsWillBeRemoved(e,1);var t=this._array.pop();return this.itemsWereRemoved(e,1),this.itemsDidChange(),t},encodedSetIndex:function(e,t){var n=this.length;if(e<n)e<0&&(e=n+e)<0&&(e=0),this.itemsWillChange(),this.itemsWillBeRemoved(e,1),this.itemsWillBeInserted(e,1),this._array[e]=t,this.itemsWereRemoved(e,1),this.itemsWereInserted(e,1),this.itemsDidChange();else{var i=n,r=e-i+1;this.itemsWillChange(),this.itemsWillBeInserted(i,r),this._array[e]=t,this.itemsWereInserted(i,r),this.itemsDidChange()}return this},encodedShift:function(){this.itemsWillChange(),this.itemsWillBeRemoved(0,1);var e=this._array.shift();return this.itemsWereRemoved(0,1),this.itemsDidChange(),e},encodedUnshift:function(){var e,t=arguments.length;if(0===t)return this.length;this.itemsWillChange(),this.itemsWillBeInserted(0,t);var n=(e=this._array).unshift.apply(e,arguments);return this.itemsWereInserted(0,t),this.itemsDidChange(),n},dispose:function(){this.__s._$2RU$dispose.call(this),this._array=null},__superMap:{_$dh$init:"init",_$2RU$dispose:"dispose"}});function p(){return this._array&&this._array.length||0}var m=[]},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(17);function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=!1;if(e){if(!Array.isArray(e)){var o=e._isCwCollection&&e.objectAt;o||(a=!0)}}else a=!0;a&&Object(i.b)("CW.Utils.appendArrays expects an array and got: "+e);for(var s=1,l=arguments.length;s<l;s++){var c=arguments[s],u=e.length,d=c.length,h=0,f=u;if(c._isCwCollection&&c.objectAt)for(;h<d;h++,f++)e.splice(f,0,c.objectAt(h));else for(;h<d;h++,f++)e.splice(f,0,c[h])}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(179);function r(e){return Object(i.b)(e,i.b)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(17);function r(e,t){if((r=t)&&"function"===typeof r.remove)t.remove(e);else if(Array.isArray(t)){var n=t.indexOf(e);n>=0&&t.splice(n,1)}else Object(i.b)("removeItemFromArray: argument array must be an Array or implement a remove method");var r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(83),r=n(158),a=n(24),o=n(84),s=n(711),l=i.a.extend(r.a,s.a,{initFromPool:function(e,t,n){n=n||0,this.encodedValue=e.encodedObjectAt(n),this._position=n,this.__s._$HC$initFromPool.call(this,e,t)},didEnterPool:function(){this._wasRemoved=!1,this.encodedValue=void 0,this._position=NaN,this._formerPosition=NaN,this._removalListeners.clear(),this.__s._$Lj$didEnterPool.call(this)},atDistance:function(e){var t=this,n=arguments;if(this._wasRemoved){var i=this._formerPosition;return e>0?this.at(i+e-1):e<0?this.at(i+e):this}return t.__s._$Xo$atDistance.apply(t,n)},hasHandleAtDistance:function(e){var t=this,n=arguments;if(this._wasRemoved){var i=this._formerPosition;return e>0?this.hasHandleAt(i+e-1):!(e<0)||this.hasHandleAt(i+e)}return t.__s._$kH$hasHandleAtDistance.apply(t,n)},encodedValue:Object(a.c)({strong:!0}),position:Object(a.c)({readOnly:!0,defaultValue:NaN}),maximumPosition:Object(a.c)({readOnly:!0,get:function(){return this.source.length-1}}),wasRemoved:Object(a.c)({readOnly:!0,defaultValue:!1}),_formerPosition:NaN,hasHandleAt:function(e){return e>=0&&e<=this.maximumPosition},_handleRemove:function(){var e=this,t=this._removalListeners;t.forEach((function(t){return t._handleWasRemoved(e)})),t.clear()},_applyRemove:function(e,t,n){if(this._wasRemoved){var i=this._formerPosition;if(i<e)return;this._formerPosition=i<t?e:i-n}else{var r=this._position;if(r<e)return;r<t?(this._formerPosition=e,this._wasRemoved=!0,this._handleRemove()):this._position=r-n}},_removalListeners:Object(o.b)(Set),_listenForRemoval:function(e){this._removalListeners.add(e)},_unlistenForRemoval:function(e){this._removalListeners.delete(e)},_applyInsert:function(e,t){if(this._wasRemoved){var n=this._formerPosition;if(n<e)return;this._formerPosition=n+t}else{var i=this._position;if(i<e)return;this._position=i+t}},__superMap:{_$HC$initFromPool:"initFromPool",_$Lj$didEnterPool:"didEnterPool",_$Xo$atDistance:"atDistance",_$kH$hasHandleAtDistance:"hasHandleAtDistance"},staticMembers:{__QUALIFIED_CLASS_NAME__:"OrderedListHandle"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(52),r=n(91),a=n(24),o={mixinDependencies:[n(712).a],at:function(e){return this._provider.at(e)},hasHandleAt:i.a.define(),position:r.a.define(),maximumPosition:r.a.define(),atDistance:function(e){return this.at(this.position+e)},hasHandleAtDistance:function(e){return this.hasHandleAt(this.position+e)},previous:Object(a.c)({get:function(){return this.atDistance(-1)}}),hasPrevious:Object(a.c)({get:function(){return this.hasHandleAtDistance(-1)}}),next:Object(a.c)({get:function(){return this.atDistance(1)}}),hasNext:Object(a.c)({get:function(){return this.hasHandleAtDistance(1)}}),start:Object(a.c)({readOnly:!0,get:function(){return this._provider.startHandle}}),end:Object(a.c)({readOnly:!0,get:function(){return this._provider.endHandle}}),isValid:Object(a.c)({readOnly:!0,get:function(){var e=this.position;return e>=0&&e<=this.maximumPosition}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(52),r=n(24),a=n(91),o={mixinDependencies:[n(713).a],atDistance:function(e){for(var t=Math.sign(e),n=this.retain(this,"atDistance: current handle"),i=0;i!==e;i+=t){var r=t>0?n.next:n.previous;r.retain(this,"atDistance: current handle"),n.release(this,"atDistance: current handle"),n=r}return n.autorelease(this,"atDistance: current handle")},hasHandleAtDistance:i.a.define(),end:Object(r.c)({get:function(){return this._provider.endHandle}}),previous:a.a.define(),hasPrevious:a.a.define()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(86),r=n(91),a=n(24),o={mixinDependencies:[i.a],isValid:r.a.define(),wasRemoved:r.a.define(),value:Object(a.c)({readOnly:!0,get:function(){return this.source.decode(this.encodedValue,this.position)}}),encodedValue:r.a.define(),start:Object(a.c)({get:function(){return this._provider.startHandle}}),next:r.a.define(),isAdjacentTo:function(e){return this.next===e||e.next===this},hasNext:r.a.define(),init:function(e,t){this.source=e,this._provider=t,this.__s._$28Q$init.call(this)},initFromPool:function(e,t){this.source=e,this._provider=t,this.__s._$2B9$initFromPool.call(this)},didEnterPool:function(){this.source=null,this._provider=null,this.__s._$2D0$didEnterPool.call(this)},source:Object(a.c)({strong:!0}),_provider:Object(a.c)(),__superMap:{_$28Q$init:"init",_$2B9$initFromPool:"initFromPool",_$2D0$didEnterPool:"didEnterPool"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(17);function r(e,t,n,o){if(e===t)return!0;var s,l,c;if(a[typeof e]||a[typeof t])return!1;if(null===e||null===t)return!1;if(n||(n=e.constructor),o||(o=t.constructor),n!==o)return!1;if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Object){var u=0;for(s in e)if(++u,(l=e[s])!==(c=t[s])){if(a[typeof l])return!1;if(!r(l,c))return!1}for(s in t)--u;return 0===u}if(n===Array){var d=e.length;if(d!==t.length)return!1;for(var h=d-1;h>=0;--h)if((l=e[h])!==(c=t[h])){if(a[typeof l])return!1;if(!r(l,c))return!1}return!0}var f=n.name&&n.name.length?n.name:String(n);return Object(i.b)("Unsupported type for 'deepEqual': "+f),null}var a={string:!0,number:!0,boolean:!0,undefined:!0}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var i=n(162),r=n(142),a=n(133),o=n(206),s=n(703),l=n(280),c=i.a.extend({action:function(){!function(){var e=!1;u&&(e={passive:!1,useCapture:!0}),r.a(document.body,"touchmove",(function(e){return e.preventDefault()}),e)}(),l.a.sharedInstance.isiPhone&&!Object(s.b)()&&(d(),r.a(e,"resize",d),r.a(e,"orientationchange",(function(){return a.a(d,400)})))},staticMembers:{__QUALIFIED_CLASS_NAME__:"DisableTouchScrollingInitializer"}}),u=function(){var e=!1;try{globalThis.addEventListener("test",null,{get passive(){e=!0}})}catch(t){}return e}();function d(){l.a.sharedInstance.isiPhone&&globalThis.innerHeight<globalThis.innerWidth&&(o.b.debug("Adjusting scroll position for landscape orientation current scrollY: "+globalThis.scrollY),globalThis.scrollTo(0,1),a.a((function(){return globalThis.scrollTo(0,0)}),0))}}).call(this,n(87))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(83),r=n(24),a=n(133),o=n(38),s=n(409),l=n(56),c=n(15),u=i.a.extend(o.a,s.a,{target:Object(l.c)("owner"),delay:0,timesToFire:1,delays:null,fireCount:0,isRunning:!1,isPaused:!1,timeUntilFire:Object(r.c)({readOnly:!0,get:function(){return this.isRunning?this.isPaused?1/0:this._nextFiringTime-Date.now():NaN}}),start:function(){return this.isRunning?this:(this.isRunning=!0,this._nextFiringTime=Date.now(),this._scheduleNextFiringOrStop(),this)},restart:function(){return this.stop(),this.start(),this},stop:function(){return this.isRunning?(this._handle&&(clearTimeout(this._handle),this._handle=null),this.fireCount=0,this.isRunning=!1,this.isPaused&&(this.isPaused=!1,this._pauseCount=0,this._timeRemainingAtPause=NaN),this):this},pause:function(){return this.isRunning?(this._pauseCount++,1===this._pauseCount&&(this._timeRemainingAtPause=this.get("timeUntilFire"),this.isPaused=!0,this._nextFiringTime=NaN,clearTimeout(this._handle),this._handle=null),this):this},resume:function(){return this.isRunning?(this._pauseCount--,0===this._pauseCount&&(this._nextFiringTime=Date.now()+this._timeRemainingAtPause,this._handle=Object(a.a)(d,Math.max(0,this._timeRemainingAtPause),this),this._timeRemainingAtPause=NaN,this.isPaused=!1),this._pauseCount<0&&(this._pauseCount=0),this):this},fastForward:function(e){return this.isRunning?e<0?this.rewind(-e):0===e?this:(e||(e=this._getRunningTimeUntilNextFiring()),this.isPaused?this._timeRemainingAtPause-=e:(this._nextFiringTime-=e,clearTimeout(this._handle),this._handle=Object(a.a)(d,Math.max(0,this._nextFiringTime-Date.now()),this)),this):this},rewind:function(e){return this.isRunning?e<0?this.fastForward(-e):0===e?this:(e||(e=this.getDelayAfterFireCount(this.fireCount)-this._getRunningTimeUntilNextFiring()),this.isPaused?this._timeRemainingAtPause+=e:(this._nextFiringTime+=e,clearTimeout(this._handle),this._handle=Object(a.a)(d,Math.max(0,this._nextFiringTime-Date.now()),this)),this):this},getDelayAfterFireCount:function(e){var t=this.delays;return t?t[Math.min(t.length-1,e)]:e>=this.timesToFire?1/0:this.delay},fire:function(){this.callAction(this)},owner:Object(c.b)(),_handle:null,_nextFiringTime:NaN,_pauseCount:0,_timeRemainingAtPause:NaN,_getRunningTimeUntilNextFiring:function(){return this.isPaused?this._timeRemainingAtPause:this.get("timeUntilFire")},_scheduleNextFiringOrStop:function(){if(this.isRunning){var e=this.getDelayAfterFireCount(this.fireCount);if(e<1/0){var t=this._nextFiringTime+=e;this._handle=Object(a.a)(d,Math.max(0,t-Date.now()),this)}else this.stop()}},dispose:function(){var e=this,t=arguments;this.stop(),e.__s._$4Dr$dispose.apply(e,t)},__superMap:{_$4Dr$dispose:"dispose"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Timer"}}),d=function(e){e.fireCount++,e.callAction(),e._scheduleNextFiringOrStop()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(86),r=n(52),a={mixinDependencies:[i.a],encode:r.a.create(),decode:r.a.create()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(e){var t,n,r="";for(t=0;t<16;t++)n=e[t],r+=i[n>>4],r+=i[15&n],3!==t&&5!==t&&7!==t&&9!==t||(r+="-");return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(83),r=n(24),a=n(327),o=n(38),s=n(15),l=n(66),c=0,u=i.a.extend(o.a,{id:Object(r.c)({get:function(){return this._id||(this._id=++c)}}),body:null,bodySerializer:Object(r.c)(a.a.sharedInstance),timeout:null,state:Object(s.b)(l.b.UNSENT),staticMembers:{__QUALIFIED_CLASS_NAME__:"Message"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=n(327).a.extend({encode:function(e){var t=this,n=arguments;return e instanceof Blob||ArrayBuffer.isView(e)||e instanceof ArrayBuffer?e:t.__s._$B2$encode.apply(t,n)},decode:function(e){var t=this,n=arguments;return e instanceof Blob||ArrayBuffer.isView(e)||e instanceof ArrayBuffer?e:t.__s._$Gc$decode.apply(t,n)},__superMap:{_$B2$encode:"encode",_$Gc$decode:"decode"},staticMembers:{__QUALIFIED_CLASS_NAME__:"XHRBodySerializer"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(83),r=n(722),a=n(24),o=i.a.extend(r.a,{status:0,headers:"",body:Object(a.c)({get:function(){return this._cachedBody||(this._cachedBody=this.deserialize(this.get("encodedBody")))}}),encodedBody:Object(a.c)(),toJSON:function(){return this.getPropertiesAsObject("status","headers","encodedBody")},_cachedBody:Object(a.c)(),staticMembers:{__QUALIFIED_CLASS_NAME__:"Response"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(327),r=n(24),a={serializer:Object(r.c)((function(){return i.a.get("sharedInstance")})),serializedProperties:null,serialize:function(){var e=this.get("serializedProperties"),t=this.get("serializer"),n={};if(e)for(var i=0,r=e.length;i<r;i++){var a=e[i];n[a]=this.get(a)}return t.encode(n)},deserialize:function(e){return e?this.get("serializer").decode(e):null}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(38),r=n(15),a=n(56),o=n(276),s=n(237),l=Symbol("NOT_SET"),c={mixinDependencies:[i.a,o.a],controlElement:Object(r.b)({get:function(e){return e||this.element}}),isDisabled:Object(r.b)({defaultValue:!1,didChange:function(e){var t=this.controlElement;t&&(e?t.setAttribute("disabled",!0):t.removeAttribute("disabled"))}}),isFocusable:Object(r.b)({dependencies:["isDisabled"],writeDependencies:[],defaultValue:l,get:Object.assign((function(e){return e!==l?e:!this.isDisabled}),{__CW__getter:function(e,t,n,i){return e!==l?e:!i.internalGet(this,t[0+n])}}),set:s.a}),ariaDisabled:Object(a.c)("isDisabled")}},function(e,t,n){"use strict";n(0),n.d(t,"a",(function(){return o}));var i=n(15),r=n(38),a=n(282),o={mixinDependencies:[n(242).a],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isBeingPressed",truevalue:"cw-being-pressed",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isBeingHovered",truevalue:"cw-being-hovered",attributes:{}}]}}},isBeingPressed:Object(i.b)(!1),isBeingHovered:Object(i.b)(!1),isPointerActivationDisabled:Object(i.b)(!1),pointerActivate:function(e){},pointerHitTest:function(e){var t=document.elementFromPoint(e.clientX,e.clientY);return this.element.contains(t)},pointerDown:function(e){return!this.isPointerActivationDisabled&&0===e.button&&!!this.pointerHitTest(e)&&(this.setPointerCapture(e.pointerId),this.updateHoverPressState(e),!0)},pointerOut:function(e){return this.updateHoverPressState(e),!1},pointerOver:function(e){return this.updateHoverPressState(e),!1},pointerUp:function(e){var t=!1;if(this.getPointerCapture(e.pointerId)!==this?t=!0:this.pointerHitTest(e)?(this.isDisabled||0!==e.button)&&(t=!0):t=!0,t)return this.releasePointerCapture(e.pointerId),this.updateHoverPressState(e),!1;this.releasePointerCapture(e.pointerId);var n=this.isBeingPressed;return this.updateHoverPressState(e),n&&this.pointerActivate(e),!0},click:function(e){0!==e.detail||a.a.sharedInstance.isIE||this.pointerActivate(e)},pointerMove:function(e){return this.updateHoverPressState(e),this.getPointerCapture(e.pointerId)===this},setPointerCapture:function(e){var t=this,n=arguments;return this._capturedPointerId=e,this.sendEvent("lockCursor",this.getPath("style.cursor")),t.__s._$21T$setPointerCapture.apply(t,n)},releasePointerCapture:function(e){var t=this,n=arguments;return this._capturedPointerId=NaN,this.sendEvent("releaseCursor"),t.__s._$27m$releasePointerCapture.apply(t,n)},cancelPointerInteraction:function(){var e=this._capturedPointerId;isNaN(e)||this.releasePointerCapture(e),this.beginBatchSet().setIfChanged("isBeingPressed",!1).setIfChanged("isBeingHovered",!1).end()},updateHoverPressState:function(e){var t=Boolean("pointerOut"!==e.cwType&&this.pointerHitTest(e)),n=this.getPointerCapture(e.pointerId)===this,i=this.isPointerActivationDisabled;this.beginBatchSet().setIfChanged("isBeingPressed",n&&t&&!i).setIfChanged("isBeingHovered",(n||t)&&!i).end()},_releasePointerCaptureWhenUnattached:Object(r.f)("isAttached","isPointerActivationDisabled",(function(e,t){e&&!t||this.cancelPointerInteraction()})),dispose:function(){var e=this,t=arguments;this.cancelPointerInteraction(),e.__s._$2d5$dispose.apply(e,t)},__superMap:{_$21T$setPointerCapture:"setPointerCapture",_$27m$releasePointerCapture:"releasePointerCapture",_$2d5$dispose:"dispose"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(160),r=function(e){return window.requestAnimationFrame(Object(i.a)(e))}},function(e,t,n){"use strict";n(1),n(0),n(4),n(2),n.d(t,"a",(function(){return a}));var i=n(329),r=n(412),a=i.a.extend({modalDialogDidDismiss:function(){this.hide()},dismissModalDialog:function(){this.view&&this.view.instanceOf(r.a)&&this.view.animateClosed()},staticMembers:{__QUALIFIED_CLASS_NAME__:"ModalDialogViewController"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(201),r=Object(i.b)("AlertStyle",{ALERT:"alert",ACTION_SHEET:"action-sheet"})},function(e,t,n){var i=function(e,t){if(!e||!t)throw"record and supportedFields need to be provided in order to create a CacheItem";for(var n in this.originalRecord=e,e)"guid"!==n?this[n]=e[n]:(this.temp_guid=e[n],this.guidKey="temp_guid",e.guidKey&&delete e.guidKey);this.supportedFields=t};i.create=function(e,t){return new i(e,t)},i.prototype={supportedFields:null,guidKey:null,normalized:null,guid:function(){if(this.guidKey)return this[this.guidKey]}};var r=function(){};r.create=function(){return new r},r.prototype={generateGUID:function(){for(var e=CW.UUID(),t=this._guidToRecordMapping;t[e];)e=CW.UUID();return e},getAllRecords:function(){return this._guidToRecordMapping},getRecordsForCacheKey:function(e){var t;if(!e)throw"cacheKey required in order to fetch records.";return this._cache[e]&&(t=this._cache[e].guidToRecordMapping),t},getRecordForGuid:function(e){if(!e)throw"No guid provided";return this._guidToRecordMapping[e]?this._guidToRecordMapping[e].originalRecord:null},addRecords:function(e,t,n){var i,r,a,o,l,c,u,d,h,f,p=this._cache,m=this.__dummy_prefix__;if(!e||!Array.isArray(e))throw"Invalid records found, cannot process of type "+type;for(this._createKeysForFields(t,n),"Recents"===t?this._processRecentsRecords(e,n):this._processRecords(e,t,n),this._guidToRecordMapping=s(this._guidToRecordMapping,p[t].guidToRecordMapping),a=p[t],l=n.length,i=0;i<l;++i)if(c=(o=a[n[i]]).values,u=o.temp){for(c.sort(),d=[],h=c.length,r=0;r<h;++r)f=u[m+c[r]],d.push(f);o.records=d}return"Groups"===t&&this._resolveGroupsMembershipAsPossibleWithLoadedData(t),p},findCompletionsInLoadedData:function(e,t){var n=this._cache;if(!n)return[];var i,r,a=e.split(" "),s=[],l=a.length;for(i=0;i<l;++i)(r=a[i])&&s.push(r);var c,u,d,h,f,p,m,g,v,_={},b=s.length;for(i=0;i<b;++i){for(var y={},S=s[i],I=o(S).toLowerCase(),w=I,E=0;E<t.length;E++)for(h in cacheItemType=t[E],d=n[cacheItemType])if("guidToRecordMapping"!==h){if(p=(f=d[h]).values,b>1&&"companyName"===h){if(0!==i)continue;I=o(e).toLowerCase()}var C=this._indexForString(p,I),A=I.length-1,T=I.substr(0,A),O=I.charCodeAt(A);T+=String.fromCharCode(O+1);var D=this._indexForString(p,T);if(C<p.length&&C<D){var M="emailAddresses"===h,N=f.records.slice(C,D),F=N.length;for(u=0;u<F;++u)if(m=N[u])for(var L=m.length,R=0;R<L;++R){var x,P;g=x=P=null,M?(P=(x=m[R]).idx,g=x.rec):g=m[R];var k=g.guid();if(k)if(_[k]||(_[k]={fields:{},rec:g.originalRecord}),y[k]=!0,M){var U=_[k].fields,j=U[h];j||(U[h]={},j=U[h]),j[P]=S}else{var B=S;"groups"!==cacheItemType&&"companyName"!==h||(B=e),_[k].fields[h]=B}}}I!==w&&(I=w)}for(c in _)v=_[c],!_.hasOwnProperty(c)||y[c]||0!==i&&(v.rec.groupId||v.fields.companyName)||delete _[c];records=[];var V={contacts:[],groups:[],result:[]};for(c in _)_.hasOwnProperty(c)&&(record=_[c].rec,record.address||record.members?V.result.push(record):record.contactId?V.contacts.push(record):record.groupId&&V.groups.push(record))}return _},resetCache:function(){this._cache={}},_cache:{},_guidToRecordMapping:{},_lastMatch:{},__dummy_prefix__:"__dummy_prefix__",_processRecords:function(e,t,n){var r,a,s,l,c,u,d,h,f,p,m,g,v,_=e.length,b=this.__dummy_prefix__;for(c=this._cache[t],r=0;r<_;++r){if(l=e[r],p=null,"Contacts"===t)if(l.managedAppleId)l.normalized=p=((l.firstName||"")+":"+(l.middleName||"")+":"+(l.lastName||"")+":"+l.managedAppleId).toLowerCase(),l.guidKey="managedAppleId",f=(v=i.create(l,n)).guid();else{var y,S=l.emailAddresses,I=l.phones;for(y=S&&S.length||0;y--;)S[y].field||S.splice(y,1);for(y=I&&I.length||0;y--;)I[y].field||I.splice(y,1);if((!S||S.length<1)&&(!I||I.length<1))continue;l.guidKey="contactId",p=(v=i.create(l,n)).normalized,f=v.guid()}else{if("Groups"!==t)continue;if(!l.contactIds&&!l.id)continue;if((h=l.name)&&(p=o(h).toLowerCase()+":"),l.normalized=p,l.groupId)l.guidKey="groupId";else{if(!l.id)throw"Niether id or guidKey found in the record";l.guidKey="id"}f=(v=i.create(l,n)).guid()}var w,E;if(p)for(f&&(c.guidToRecordMapping[f]=v),m=p.split(":"),g=n.length,a=0;a<g;++a){var C=v[d=n[a]];if(C)if("emailAddresses"===d){var A=C.length;for(s=0;s<A;++s)(p=m[a+s])&&"NULL"!==p&&((w=(u=c[d]).temp)||(w={},u.temp=w),(E=w[b+p])?E.push({idx:s,rec:v}):(w[b+p]=[{idx:s,rec:v}],u.values.push(p)))}else{if(!(p=m[a])||"NULL"===p)continue;(w=(u=c[d]).temp)||(w={},u.temp=w),(E=w[b+p])?E.push(v):(w[b+p]=[v],u.values.push(p))}}}},_processRecentsRecords:function(e,t){if(!Array.isArray(e))return dataCache;var n,r,a,s,l,c,u,d,h,f,p,m,g,v,_,b,y,S,I,w,E,C,A,T,O=this._cache.Recents,D=[],M=[],N="",F=this.__dummy_prefix__;for(C=e.filter((function(e){return"CoreMail.RecentRecipient"===e.type})),A=e.filter((function(e){return"CoreMail.RecentGroup"===e.type})),n=C.length,a=0;a<n;a++)if(h=(d=C[a]).name,E=d.address)if(d.recentsGuid=d.guid,f=F+E.toLowerCase(),d.guid=f,1===(M=(h=h.replace(/["|\u201c|\u201d]/g,"").replace(/,/g," ")).split(/\s+/)).length&&(M=h.split(/,/)),d.names=M,T=i.create(d,t),O.guidToRecordMapping[f]=T,m=t.length,D=d.normalizedValues){for(s=0;s<m;s++)if("names"===(S=t[s])){var L=T.names.length;for(l=0;l<L;++l)(I=D[s+l])&&this._addRecentsRecipientFieldToLookupTable("names",I,T,O)}else(I=D[s])&&this._addRecentsRecipientFieldToLookupTable(S,I,T,O);guid=T.guid(),O.guidToRecordMapping[guid]=T}else{if(E=T.address,N=T.name,!E)continue;if(D=[E=o(E).toLowerCase()],this._addRecentsRecipientFieldToLookupTable("address",E,T,O),N)for(N=N.replace(/["|\u201c|\u201d]/g," ").trim(),T.name=N,1===(w=(M=N.split(/\s/)).length)&&(w=(M=N.split(/,/)).length),u=0;u<w;u++)N=M[u],-1===D.indexOf(N)&&(N=o(N).toLowerCase(),D.push(N),this._addRecentsRecipientFieldToLookupTable("names",N,T,O));T.normalizedValues=D}for(r=A.length,a=0;a<r;a++)if(d=A[a],guid=d.guid,h=d.name,g=d.members,d.guidKey="guid",T=i.create(d,t),g)for(b=g.length,c=0;c<b;c++)h=(v=g[c]).name,(_=v.address)&&(p=F+_.toLowerCase(),v.guid=p,M=h.replace(/["|\u201c|\u201d]/g,"").split(/\s+/),v.isMemberOf=[{guid:guid,memberName:h,memberNames:M}],(y=O.guidToRecordMapping[p])?y.isMemberOf?(y.isMemberOf.push({guid:guid,memberName:h,memberNames:M}),y.names.concat(h)):y.isMemberOf=[{guid:guid,memberName:h,memberNames:M}]:(v.timestamps=d.timestamps,v.names=M,v.isGroupMemberOnly=!0,C.push(v),O.guidToRecordMapping[p]=v),O.guidToRecordMapping[guid]=T)},_createKeysForFields:function(e,t){var n,i=this._cache;n=i[e]?i[e]:i[e]={};for(var r=t.length,a=0;a<r;++a){var o=t[a];n[o]||(n[o]={values:[],records:[]})}n.guidToRecordMapping||(n.guidToRecordMapping={})},_addRecentsRecipientFieldToLookupTable:function(e,t,n,i){var r,a,o,s=this.__dummy_prefix__;return(a=(r=i[e]).temp)||(a={},r.temp=a),(o=a[s+t])?o.push(n):(a[s+t]=[n],r.values.push(t)),t},_indexForString:function(e,t){for(var n,i,r=!1,a=0,o=e.length-1;!r&&a<=o;){n=!1;var s=e[i=Math.floor((a+o)/2)];s===t?r=!0:s<t?(a=i+1,n=!0):o=i-1}var l=i;return n&&++l,l},_resolveGroupsMembershipAsPossibleWithLoadedData:function(e){var t=this._guidToRecordMapping;t||(t={});var n,i,r,a,o,s=this._cache[e];if(s)for(n in s)if(s.hasOwnProperty(n)&&(i=s[n].records))for(a=i.length-1;a>=0;--a)for(o=(r=i[a]).length-1;o>=0;--o){var l=r[o];this._resolveGroupMembershipAsPossibleWithLoadedData(l,t),l.resolvedContacts&&l.resolvedContacts.length<=0&&(delete t[l.groupId],r.splice(o,1))}},_resolveGroupMembershipAsPossibleWithLoadedData:function(e,t,n){var i=e.resolvedContacts;if(!i||-1===i){n||(n=0),i=[];var r,a={},o=e.contactIds;if(o)for(r=o.length-1;r>=0;--r){var s=o[r],l=t[s];l?a[s]||(i.push(l),a[s]=!0):o.splice(r,1)}void 0!==e.rosterCount&&0!==e.rosterCount||(e.resolvedContacts=i,e.originalRecord.resolvedContacts=i)}}};var a={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u0100":"A","\u0102":"A","\u0104":"A","\u01cd":"A","\u01de":"A","\u01e0":"A","\u01fa":"A","\u0200":"A","\u0202":"A","\u0226":"A","\u1e00":"A","\u1ea0":"A","\u1ea2":"A","\u1ea4":"A","\u1ea6":"A","\u1ea8":"A","\u1eaa":"A","\u1eac":"A","\u1eae":"A","\u1eb0":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\u212b":"A","\u1e02":"B","\u1e04":"B","\u1e06":"B","\xc7":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u1e08":"C","\u010e":"D","\u1e0a":"D","\u1e0c":"D","\u1e0e":"D","\u1e10":"D","\u1e12":"D","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u0228":"E","\u1e14":"E","\u1e16":"E","\u1e18":"E","\u1e1a":"E","\u1e1c":"E","\u1eb8":"E","\u1eba":"E","\u1ebc":"E","\u1ebe":"E","\u1ec0":"E","\u1ec2":"E","\u1ec4":"E","\u1ec6":"E","\u1e1e":"F","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u01e6":"G","\u01f4":"G","\u1e20":"G","\u0124":"H","\u021e":"H","\u1e22":"H","\u1e24":"H","\u1e26":"H","\u1e28":"H","\u1e2a":"H","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1e2c":"I","\u1e2e":"I","\u1ec8":"I","\u1eca":"I","\u0134":"J","\u0136":"K","\u01e8":"K","\u1e30":"K","\u1e32":"K","\u1e34":"K","\u0139":"L","\u013b":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u1e3a":"L","\u1e3c":"L","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\xd1":"N","\u0143":"N","\u0145":"N","\u0147":"N","\u01f8":"N","\u1e44":"N","\u1e46":"N","\u1e48":"N","\u1e4a":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\u014c":"O","\u014e":"O","\u0150":"O","\u01a0":"O","\u01d1":"O","\u01ea":"O","\u01ec":"O","\u020c":"O","\u020e":"O","\u022a":"O","\u022c":"O","\u022e":"O","\u0230":"O","\u1e4c":"O","\u1e4e":"O","\u1e50":"O","\u1e52":"O","\u1ecc":"O","\u1ece":"O","\u1ed0":"O","\u1ed2":"O","\u1ed4":"O","\u1ed6":"O","\u1ed8":"O","\u1eda":"O","\u1edc":"O","\u1ede":"O","\u1ee0":"O","\u1ee2":"O","\u1e54":"P","\u1e56":"P","\u0154":"R","\u0156":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e58":"R","\u1e5a":"R","\u1e5c":"R","\u1e5e":"R","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u0218":"S","\u1e60":"S","\u1e62":"S","\u1e64":"S","\u1e66":"S","\u1e68":"S","\u0162":"T","\u0164":"T","\u021a":"T","\u1e6a":"T","\u1e6c":"T","\u1e6e":"T","\u1e70":"T","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u01af":"U","\u01d3":"U","\u01d5":"U","\u01d7":"U","\u01d9":"U","\u01db":"U","\u0214":"U","\u0216":"U","\u1e72":"U","\u1e74":"U","\u1e76":"U","\u1e78":"U","\u1e7a":"U","\u1ee4":"U","\u1ee6":"U","\u1ee8":"U","\u1eea":"U","\u1eec":"U","\u1eee":"U","\u1ef0":"U","\u1e7c":"V","\u1e7e":"V","\u0174":"W","\u1e80":"W","\u1e82":"W","\u1e84":"W","\u1e86":"W","\u1e88":"W","\u1e8a":"X","\u1e8c":"X","\xdd":"Y","\u0176":"Y","\u0178":"Y","\u0232":"Y","\u1e8e":"Y","\u1ef2":"Y","\u1ef4":"Y","\u1ef6":"Y","\u1ef8":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u1e90":"Z","\u1e92":"Z","\u1e94":"Z","\u1fef":"`","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u0101":"a","\u0103":"a","\u0105":"a","\u01ce":"a","\u01df":"a","\u01e1":"a","\u01fb":"a","\u0201":"a","\u0203":"a","\u0227":"a","\u1e01":"a","\u1ea1":"a","\u1ea3":"a","\u1ea5":"a","\u1ea7":"a","\u1ea9":"a","\u1eab":"a","\u1ead":"a","\u1eaf":"a","\u1eb1":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\u1e03":"b","\u1e05":"b","\u1e07":"b","\xe7":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u1e09":"c","\u010f":"d","\u1e0b":"d","\u1e0d":"d","\u1e0f":"d","\u1e11":"d","\u1e13":"d","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u0229":"e","\u1e15":"e","\u1e17":"e","\u1e19":"e","\u1e1b":"e","\u1e1d":"e","\u1eb9":"e","\u1ebb":"e","\u1ebd":"e","\u1ebf":"e","\u1ec1":"e","\u1ec3":"e","\u1ec5":"e","\u1ec7":"e","\u1e1f":"f","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u01e7":"g","\u01f5":"g","\u1e21":"g","\u0125":"h","\u021f":"h","\u1e23":"h","\u1e25":"h","\u1e27":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1e2d":"i","\u1e2f":"i","\u1ec9":"i","\u1ecb":"i","\u0135":"j","\u01f0":"j","\u0137":"k","\u01e9":"k","\u1e31":"k","\u1e33":"k","\u1e35":"k","\u013a":"l","\u013c":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u1e3b":"l","\u1e3d":"l","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\xf1":"n","\u0144":"n","\u0146":"n","\u0148":"n","\u01f9":"n","\u1e45":"n","\u1e47":"n","\u1e49":"n","\u1e4b":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\u014d":"o","\u014f":"o","\u0151":"o","\u01a1":"o","\u01d2":"o","\u01eb":"o","\u01ed":"o","\u020d":"o","\u020f":"o","\u022b":"o","\u022d":"o","\u022f":"o","\u0231":"o","\u1e4d":"o","\u1e4f":"o","\u1e51":"o","\u1e53":"o","\u1ecd":"o","\u1ecf":"o","\u1ed1":"o","\u1ed3":"o","\u1ed5":"o","\u1ed7":"o","\u1ed9":"o","\u1edb":"o","\u1edd":"o","\u1edf":"o","\u1ee1":"o","\u1ee3":"o","\u1e55":"p","\u1e57":"p","\u0155":"r","\u0157":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e59":"r","\u1e5b":"r","\u1e5d":"r","\u1e5f":"r","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0219":"s","\u1e61":"s","\u1e63":"s","\u1e65":"s","\u1e67":"s","\u1e69":"s","\u0163":"t","\u0165":"t","\u021b":"t","\u1e6b":"t","\u1e6d":"t","\u1e6f":"t","\u1e71":"t","\u1e97":"t","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u01b0":"u","\u01d4":"u","\u01d6":"u","\u01d8":"u","\u01da":"u","\u01dc":"u","\u0215":"u","\u0217":"u","\u1e73":"u","\u1e75":"u","\u1e77":"u","\u1e79":"u","\u1e7b":"u","\u1ee5":"u","\u1ee7":"u","\u1ee9":"u","\u1eeb":"u","\u1eed":"u","\u1eef":"u","\u1ef1":"u","\u1e7d":"v","\u1e7f":"v","\u0175":"w","\u1e81":"w","\u1e83":"w","\u1e85":"w","\u1e87":"w","\u1e89":"w","\u1e98":"w","\u1e8b":"x","\u1e8d":"x","\xfd":"y","\xff":"y","\u0177":"y","\u0233":"y","\u1e8f":"y","\u1e99":"y","\u1ef3":"y","\u1ef5":"y","\u1ef7":"y","\u1ef9":"y","\u017a":"z","\u017c":"z","\u017e":"z","\u1e91":"z","\u1e93":"z","\u1e95":"z"},o=function(e){for(var t,n="",i=e.length,r=0;r<=i;++r)t=e.charAt(r),n+=a[t]||t;return n},s=function(e,t){return[e,t].reduce((function(e,t){return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),{})};"object"==typeof e.exports&&(e.exports.DataCache=r)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(86),r=n(150),a=n(52),o={mixinDependencies:[i.a],hostInfo:r.a.define(),addHostedApplication:a.a.define(),removeHostedApplication:a.a.define(),findHostedApplication:a.a.define(),openHelp:a.a.define(),logOut:a.a.define(),setRouteForApp:a.a.define(),recordStat:a.a.define()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(15),r=n(84),a=n(35),o=n(417),s={mixinDependencies:[n(729).a],hostInfo:i.b({type:Object,readOnly:!0,defaultValue:r.b(Object)}),addHostedApplication:function(e){var t=this._hostedApplications,n=e.appId;t.set(n,e)},removeHostedApplication:function(e){var t=this._hostedApplications,n=e.appId;t.delete(n)},findHostedApplication:function(e){var t=this._hostedApplications;return t.has(e)?t.get(e):null},openHelp:a.a,logOut:a.a,setRouteForApp:a.a,recordStat:a.a,_hostedApplications:i.b(r.b(o.a))}},function(e,t,n){"use strict";n(1),n(2),n(0);var i=n(83),r=n(86),a=n(52),o={mixinDependencies:[r.a],isExceptionHandlingEnabled:!1,isExceptionHandlingFatal:!0,exceptionHandler:a.a.define(),exceptionWasHandled:!1},s={mixinDependencies:[r.a],staticMembers:Object.assign({},o)};delete s.staticMembers.mixinDependencies;var l=n(201),c=n(24),u=n(406),d=n(84),h=n(149),f=n(35),p=n(160),m=n(17),g=n(281),v=n(38),_=n(15),b=n(56),y=n(272),S=n(319),I=n(116),w=n(282),E=n(408),C=n(162),A=C.a.extend({appDocumentElement:window.document.documentElement,action:function(e){var t,n=this.appDocumentElement;t=n,Object(E.a)(S.a.get("sharedInstance"),t,"data-"),Object(E.a)(w.a.get("sharedInstance"),t,"data-");var i=I.a.sharedInstance;i.observe("locale",(function(e){Object(E.b)("lang",e,n)})),i.observe("isRTL",(function(e){var t=e?"rtl":"ltr";Object(E.b)("dir",t,n)})),n.setAttribute("data-primary-interaction-mode",e.primaryInteractionMode.toLowerCase())},staticMembers:{__QUALIFIED_CLASS_NAME__:"DocumentElementInitializer"}}),T={mixinDependencies:[n(276).a],isInFocusableLayer:Object(_.b)(Object(b.c)("isFocusableLayer")),isInFocusedLayer:Object(_.b)(Object(b.c)("isFocusedLayer")),isInFocusedBranch:Object(_.b)({readOnly:!0,dependencies:["isInFocusedLayer"],get:Object.assign((function(){return this.isInFocusedLayer}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])}})}),isFocusableLayer:Object(_.b)({readOnly:!1,defaultValue:!1}),wantsFocus:Object(_.b)(Object(b.c)("parent.wantsFocus")),isFocusedLayer:Object(_.b)({readOnly:!0,dependencies:["isFocusableLayer","wantsFocus"],get:Object.assign((function(){return this.isFocusableLayer&&this.wantsFocus}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])&&i.internalGet(this,t[1+n])}})}),focusResponder:Object(_.b)({dependencies:["focusedChild","focusedChild.focusResponder","isFocusableLayer"],readOnly:!0,get:Object.assign((function(){return this.isFocusableLayer?this.focusedChild&&this.focusedChild.focusResponder||(this.isFocusable?this:null):null}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[2+n])?i.internalGet(this,t[0+n])&&i.internalGetPath(this,t[1+n])||(this.isFocusable?this:null):null}})}),_previousFocusableLayerState:!1},O=i.a.extend(T,{staticMembers:{__QUALIFIED_CLASS_NAME__:"FocusLayer"}}),D=n(739),M=n(716),N=n(271),F=n(181),L=N.a.extend(T,{viewClass:F.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",name:"panes"}],classes:["cw-pane-container"]}}}}),application:null,nextResponder:Object(c.c)({get:function(){return this.application}}),wantsFocus:Object(_.b)({defaultValue:!0}),presentViewController:function(e){return this.addPane(e),u.a.resolve()},dismissViewController:function(e){return this.removePane(e),u.a.resolve()},addPane:function(e){e||Object(m.b)("Must pass a pane to addPane"),e.retain();var t=this._paneStack;-1!==t.indexOf(e)&&Object(m.b)("Cannot add duplicate pane onto stack",{pane:e}),e.willMoveToParentViewController(this),null===e.presentingViewController&&(e.presentingViewController=this),this.view.panes.push(e.view),this.addChildViewController(e),this._addFocusLayerToPane(e),t.push(e),this.propertyChanged("activePane"),e.shouldFocusPaneOnAttach&&e.focus(),e.didMoveToParentViewController(this),e.release()},_addFocusLayerToPane:function(e){var t=this._paneStack,n=t.length;if(e.inheritsFocusLayer&&0!==n){for(var i,r=n-1;r>=0;r--){var a=t[r];if(a.isFocusablePane){i=a.focusParent;break}}i||Object(m.b)("Cannot find a focus layer to inherit",{pane:e,paneStack:t}),e.focusParent=i}else{var o=O.create().retain(this,"A new focus layer managed by the PaneManager");o.parent=this,e.focusParent=o}e.focusParent.defaultFocusChild=e},removePane:function(e){e||Object(m.b)("Must pass a pane to removePane"),e.retain();var t=this._paneStack;0===t.length&&Object(m.b)("Cannot remove pane from empty pane stack",{pane:e});var n=t.indexOf(e);-1===n&&Object(m.b)("Cannot remove pane; not a current pane",{pane:e}),e.willMoveToParentViewController(null),e.presentingViewController=null,t.splice(n,1),this.view.panes.remove(e.view),this.removeChildViewController(e),this.propertyChanged("activePane"),this._removeFocusLayerFromPane(e),e.didMoveToParentViewController(null),e.release()},_removeFocusLayerFromPane:function(e){var t=e.focusParent,n=this.topFocusLayer;t!==n&&t?t.release(this,"A new focus layer managed by the PaneManager"):n&&n!==this&&(n.defaultFocusChild=this.topFocusablePane),e.focusParent=null},bringToFront:function(e){var t=this._paneStack,n=t.indexOf(e);-1===n&&Object(m.b)("Cannot bring to front; not a current pane",{pane:e}),t.splice(n,1),t.push(e),this.propertyChanged("activePane")},activePane:Object(_.b)({cacheable:!1,readOnly:!0,get:function(){var e=this._paneStack;return e[e.length-1]}}),focusTopFocusLayer:function(){var e=this.topFocusLayer;(!e.isFocusedLayer||!e.focus(!0))&&R()},topFocusablePane:Object(_.b)({cacheable:!1,readOnly:!0,dependencies:["activePane"],get:function(){for(var e=this._paneStack,t=e.length-1;t>=0;t--){var n=e[t];if(n.isFocusablePane)return n}return this}}),topFocusLayer:Object(_.b)({cacheable:!1,readOnly:!0,dependencies:["activePane"],get:function(){for(var e=this._paneStack,t=e.length-1;t>=0;t--){var n=e[t];if(n.isFocusablePane)return n.focusParent}return this},didChange:function(e){var t=this._previousTopFocusLayer;if(t&&(t._previousFocusableLayerState=t.isFocusableLayer,t.isFocusableLayer=!1),e){var n=e._previousFocusableLayerState;e.isFocusableLayer=n}this._previousTopFocusLayer=e,this.focusTopFocusLayer()}}),_previousTopFocusLayer:null,focusReleasedInApp:function(){var e=w.a.sharedInstance;return e.isIE||e.isFirefox?this._focusReleasedTimer.start():(this.wantsFocus=!1,R()),!0},_focusReleasedTimer:Object(c.c)(Object(d.b)(M.a,{delay:0,action:"_checkActiveElementAgainstFocusResponderAndKillBrowserFocus"})),_checkActiveElementAgainstFocusResponderAndKillBrowserFocus:function(){this._checkActiveElementAgainstFocusResponder(!0)},appHasFocus:Object(_.b)({binding:Object(b.c)("topFocusLayer.isFocusableLayer"),readOnly:!0}),appLostFocus:function(){var e=w.a.sharedInstance;return e.isIE||e.isFirefox?this._appLostFocusTimer.start():this.topFocusLayer.isFocusableLayer=!1,!0},_appLostFocusTimer:Object(c.c)(Object(d.b)(M.a,{delay:0,action:"_checkActiveElementAgainstFocusResponder"})),_checkActiveElementAgainstFocusResponder:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.activeElement,n=Object(D.b)(t),i=this.topFocusLayer.focusResponder;n===i&&document.hasFocus()||(this.topFocusLayer.isFocusableLayer=!1,e&&R())},appGainedFocusability:function(){return this.topFocusLayer.isFocusableLayer=!0,!0},appWantsFocus:function(){return this.wantsFocus=!0,!0},didReceiveFocus:function(e){return null===e.relatedTarget&&this.appGainedFocusability(),this.focusTopFocusLayer(),!0},_paneStack:Object(d.b)(Array),staticMembers:{__QUALIFIED_CLASS_NAME__:"PaneManager"}});function R(){var e,t=w.a.sharedInstance;if(t.isIE||t.isEdge)try{(e=document.activeElement)&&e.blur&&e.blur()}catch(n){}else(e=document.activeElement)&&e.blur&&e.blur()}var x=n(326),P=n(402),k=n(269),U=i.a.extend(k.a,{generate:function(e,t,n){for(var i in n=n||this.createEventHandler,t){var r=t[i];e[r]=n(i,r)}return e},createEventHandler:function(e,t){return function(n){try{n.cwType=e}catch(i){throw new Error("error handling event of type "+e+" registered to "+t)}this.dispatchEvent(n)}},staticMembers:{__QUALIFIED_CLASS_NAME__:"HandlerGenerator"}}),j={};U.get("sharedInstance").generate(j,{dragStart:"dragstart",dragEnter:"dragenter",dragOver:"dragover",dragLeave:"dragleave",drag:"drag",drop:"drop",dragEnd:"dragend"});var B=j.dragover;j.dragover=function(e){B.apply(this,arguments),e.preventDefault()};var V=j.drop;j.drop=function(e){V.apply(this,arguments),e.preventDefault()};var $=n(273),W=n(401).a.extend({staticMembers:{nativePropertiesToCopy:Object($.a)(["target"]),eventPropertiesToCopy:Object($.a)(["target"]),__QUALIFIED_CLASS_NAME__:"FocusEvent"},cwForceBubble:!0,target:null}),z={};U.get("sharedInstance").generate(z,{didReceiveFocus:"focus",didReceiveBlur:"blur"},(function(e){return function(t){var n=W.create({nativeEvent:t});n.cwType=e,this.dispatchEvent(n)}}));var G={};U.get("sharedInstance").generate(G,{beforeInput:"beforeinput",input:"input",selectionDidChange:"select"});var H={};U.get("sharedInstance").generate(H,{keyDown:"keydown",keyPress:"keypress",keyUp:"keyup",compositionStart:"compositionstart",compositionUpdate:"compositionupdate",compositionEnd:"compositionend"});var K=n(109),Q={},q={pointerOver:"mouseover",pointerDown:"mousedown",pointerMove:"mousemove",pointerUp:"mouseup",pointerOut:"mouseout",pointerCancel:"mousecancel"},Y=function(e){return function(t){var n=K.a.create({cwType:e,nativeEvent:t,pointerType:K.b.MOUSE,width:1,height:1});this.dispatchEvent(n)}};for(var X in q)Q[q[X]]=Y(X);var J={};["pointerOver","pointerDown","pointerMove","pointerUp","pointerOut","pointerCancel","click"].forEach((function(e){J[e.toLowerCase()]=function(t){t.cwType=e,this.dispatchEvent(t)}}));var Z={touchstart:function(e){ee(this,"pointerDown",e)},touchmove:function(e){ee(this,"pointerMove",e)},touchend:function(e){ee(this,"pointerUp",e),ie(e.changedTouches)},touchcancel:function(e){ee(this,"pointerCancel",e),ie(e.changedTouches)}};function ee(e,t,n){for(var i=n.changedTouches,r=i.length,a=0;a<r;a++)ne(e,n,t,i[a])}var te={};function ne(e,t,n,i,r){var a=i.identifier,o=e.getPointerCapture(a);o?r=o.element:r||function(e,t,n,i){var r=n.identifier,a=te[r];a!==i&&(a&&ne(e,t,"pointerOut",n,a),i&&(a&&ne(e,t,"pointerOver",n,i),te[r]=i))}(e,t,i,r=function(e){var t=e.clientX,n=e.clientY;return document.elementFromPoint(t,n)}(i));var s=K.a.create({cwType:n,pointerId:i.identifier,nativeEvent:t,pointerType:K.b.TOUCH,target:r});!function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var a,o,s=arguments.length;for(a=2;a<s;a++)t[o=arguments[a]]=e[o]}(i,s,"screenX","screenY","clientX","clientY"),e.dispatchEvent(s)}function ie(e){for(var t=e.length,n=0;n<t;n++){var i=e[n];delete te[i.identifier]}}var re=i.a.extend(k.a,{deltaMultiplierForScrollEvent:function(e){var t=1;e&&"mousewheel"===e.type&&(t=-.025);var n=w.a.get("sharedInstance");return n.isWebKit&&n.engineMajorVersion>=538?t=1:n.isSafari?t=-1/3:n.isFirefox&&(t=.5,e&&1===e.deltaMode&&(t=40)),t},staticMembers:{__QUALIFIED_CLASS_NAME__:"Scrolling"}}),ae=n(400).a.extend({staticMembers:{eventPropertiesToCopy:Object($.a)(["deltaX","deltaY"]),__QUALIFIED_CLASS_NAME__:"WheelEvent"},init:function(e){if(this.__s._$Am$init.call(this,e),e){var t=e.nativeEvent;if(t){var n=re.sharedInstance.deltaMultiplierForScrollEvent(t);"mousewheel"===t.type?(this.deltaX=t.wheelDeltaX,this.deltaY=t.wheelDeltaY||t.wheelDelta):(this.deltaX=t.deltaX,this.deltaY=t.deltaY),this.deltaY=this.deltaY||0,this.deltaX=this.deltaX||0,this.deltaY*=n,this.deltaX*=n}}},deltaX:0,deltaY:0,__superMap:{_$Am$init:"init"}}),oe={};oe["onwheel"in document||"WheelEvent"in window?"wheel":"mousewheel"]=function(e){(e=ae.create({nativeEvent:e})).cwType="wheel",this.dispatchEvent(e)};var se,le=[{handlers:H,useCapture:!1},{handlers:z,useCapture:!0},{handlers:G,useCapture:!1},{handlers:j,useCapture:!1},{handlers:{change:function(e){e.cwType="change",this.dispatchEvent(e)}},useCapture:!1},{handlers:{contextmenu:function(e){e.cwType="contextMenu",this.dispatchEvent(e)}},useCapture:!1}];switch(P.b.isMouseWheelSupported&&le.push({handlers:oe,useCapture:!1}),P.b.pointerEventClass){case P.a.Pointer:se=J;break;case P.a.Touch:se=Z;break;case P.a.Mouse:se=Q}se&&le.push({useCapture:!1,handlers:se});var ce=n(396),ue=C.a.extend({dependencies:[x.a],action:function(e){if(!e.rootElement)return Object(m.b)("Application has no rootElement defined");var t=e.rootElement;t===window.document.body&&(t=window.document);var n=t.addEventListener,i=t.removeEventListener,r=e.rootResponder=D.a.create({application:e,element:t,events:le});return t.addEventListener=function(e,i,a){var o=Object(ce.a)(i);return o?n.call(t,e,o,a):r.prependEventListenerToElement(t,e,i,a)},t.removeEventListener=function(e,n,r){var a=Object(ce.a)(n);return a&&(n=a),i.call(t,e,n,r)},e},staticMembers:{__QUALIFIED_CLASS_NAME__:"RootResponderInitializer"}}),de=n(142),he=n(243),fe=C.a.extend({action:function(e){if(window.__CW_BLOBS_READY)return u.a.resolve();var t=u.a.create(),n=function(){t.resolve()},i=function(e){t.reject(e.data||Object(m.b)("Failed to preload images in SpritePreloader"))};return Object(de.a)(window,"__CW_SPRITE_LOADED",n),Object(de.a)(window,"__CW_SPRITE_ERROR",i),t.finally((function(){Object(he.a)(window,"__CW_SPRITE_LOADED",n),Object(he.a)(window,"__CW_SPRITE_ERROR",i)}))},staticMembers:{__QUALIFIED_CLASS_NAME__:"SpritePreloader"}}),pe=C.a.extend({dependencies:[ue,fe],action:function(e){var t=e.get("rootViewController");t||Object(m.b)("Must provide a `rootViewController`"),t.isClass&&(t=t.create(),e.set("rootViewController",t))},staticMembers:{__QUALIFIED_CLASS_NAME__:"RootViewControllerInitializer"}}),me=C.a.extend({staticMembers:{paneManagerClass:L,__QUALIFIED_CLASS_NAME__:"PaneManagerInitializer"},dependencies:[x.a,ue,pe],action:function(e){var t=this.constructor.paneManagerClass.create({isRootViewController:!0,application:e});e._paneManager=t,t.willAttach(),e.rootElement.appendChild(t.view.element),t._setIsAttached(!0),t.view.isAttached=!0,t.didAttach(),t.addPane(e.rootViewController)}}),ge=C.a.extend({dependencies:[x.a,ue,pe],action:function(e){var t=window.document.createElement("div");t.innerHTML='<div id="cw-aria-live-region" aria-live="polite"></div>';var n=t.firstChild;n.style.cssText="position:fixed; top:-1px; width:1px; height:1px; overflow:hidden;",e.rootElement.appendChild(n)},staticMembers:{__QUALIFIED_CLASS_NAME__:"AriaLiveRegionInitializer"}}),ve=n(279);n.d(t,"a",(function(){return ye}));var _e=S.a.sharedInstance,be=function(e){var t=ye&&ye.application;if(t)return t.handleException.apply(t,arguments)},ye=i.a.extend(v.a,y.a,s,{staticMembers:{application:Object(_.b)({weak:!0}),states:Object(l.b)("AppStates",(function(e){e("NEW"),e("INITIALIZING"),e("READY")})),isExceptionHandlingEnabled:Object(c.c)({defaultValue:null,get:function(e){if(Object(h.a)(e))return e;if(!ye.application){var t=this.exceptionHandler;if(!t||t===be)return!1}return!0}}),exceptionHandler:be,__QUALIFIED_CLASS_NAME__:"Application"},handleException:f.a,state:null,run:Object(p.a)((function(){var e=this;this.state=ye.states.INITIALIZING;var t=this.Initializers.map((function(t){return t.create().run(e)}));return u.a.all(t).then((function(t){return e.state=ye.states.READY,t})).catch(Object(p.a)((function(e){throw e})))})),Initializers:Object(d.b)([me,ge,A]),initializerPromises:Object(d.b)(Map),rootElement:window.document.body,primaryInteractionMode:Object(_.b)({readOnly:!0,binding:Object(b.c)("_cw_primaryInteractionMode")}),_cw_primaryInteractionMode:Object(_.b)({readOnly:!0,defaultValue:_e.isiPhone||_e.isiPad?ve.a.TOUCH:"coarse"===_e.pointer?ve.a.TOUCH:(_e.pointer,ve.a.MOUSE)}),rootViewController:Object(_.b)({defaultValue:null,strong:!0}),_paneManager:Object(_.b)(),nextResponder:Object(c.c)({get:function(){return this.rootResponder}}),rootResponder:null,presentViewController:function(e){return this._paneManager.presentViewController(e)},dismissViewController:function(e){return this._paneManager.dismissViewController(e)},addPane:function(e){this.get("_paneManager").addPane(e)},removePane:function(e){this.get("_paneManager").removePane(e)},bringToFront:function(e){this.get("_paneManager").removePane(e)},activePane:Object(_.b)({binding:Object(b.c)("_paneManager.activePane"),readOnly:!0}),topFocusablePane:Object(_.b)({binding:Object(b.c)("_paneManager.topFocusablePane"),readOnly:!0}),topFocusLayer:Object(_.b)({binding:Object(b.c)("_paneManager.topFocusLayer"),readOnly:!0}),appHasFocus:Object(_.b)({binding:Object(b.c)("_paneManager.appHasFocus"),readOnly:!0}),writeTextToAriaLiveRegion:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"polite",n=window.document.getElementById("cw-aria-live-region");n.setAttribute("aria-live",t),n.textContent=e},init:function(){var e=this,t=arguments;ye.application&&Object(m.b)("Only one application may be instantiated per JS context."),e.__s._$4Tb$init.apply(e,t),this.state=ye.states.NEW,ye.application=this},__superMap:{_$4Tb$init:"init"}});Object(g.c)(ye)},function(e,t,n){"use strict";var i=n(84),r=n(52),a=n(24),o=n(91),s=n(83),l=n(38),c=n(15),u=s.a.extend(l.a,{HandleClass:Object(a.c)({readOnly:!0}),source:Object(a.c)({weak:!0}),startHandle:o.a.define(),delegate:Object(c.b)(),staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseHandleProvider"}}).extend({endHandle:o.a.define(),staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseBidirectionalHandleProvider"}}).extend({at:r.a.define(),startHandle:Object(a.c)({readOnly:!0,get:function(){return this.at(0)}}),endHandle:Object(a.c)({readOnly:!0,get:function(){return this.at(this.source.length-1)}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseRandomAccessHandleProvider"}}),d=n(710),h=n(324);n.d(t,"a",(function(){return f}));var f=u.extend(l.a,{HandleClass:d.a,_handles:Object(i.b)(Array),_allHandles:Object(i.b)(Set),cachedHandleAt:function(e){var t=this._handles[e];if(t)return t},at:function(e){var t=this.cachedHandleAt(e);return t||(t=this._createHandle(e),this._registerHandle(t),t.retain(this,"initial retain").autorelease(this,"initial retain"))},_createHandle:function(e){return this.HandleClass.create(this.source,this,e)},handlesDidUpdate:Object(l.e)("source.contentsDidChange",(function(e){var t=this,n=e.context;if(n){var i=this._handles,r=n.length,a=n.lengthDelta,o=this.source.length-a;i.length<o&&(i.length=o);for(var s=0,l=function(){for(var e=n[s],a=e.operation,o=e.index,l=0,u=void 0;u=e.index,!(++s>=r)&&a===(e=n[s]).operation;)if(c=e.index-u,0===l){if(1!==c&&-1!==c)break;l=c}else if(c!==l)break;var d=u;if(d<o){var f=d;d=o,o=f}var p=++d-o;if(a===h.a.REMOVE)i.length-p===0?i.length=0:i.splice(o,p),t._allHandles.forEach((function(e){return e._applyRemove(o,d,p)}));else{if(0===i.length)i.length=p;else for(var m=0,g=p;m<g;m+=32768){var v=Math.min(g-m,32768),_=[o,0];_.length=2+v,i.splice.apply(i,_)}t._allHandles.forEach((function(e){return e._applyInsert(o,p)}))}};s<r;){var c;l()}}})),_registerHandle:function(e){e.isValid&&(e.registerWeakReference(this,this._handleWasDisposed,e),this._allHandles.add(e),this._handles[e.position]=e)},_handleWasDisposed:function(e){e.wasRemoved||(this._handles[e.position]=void 0),this._allHandles.delete(e)},everythingChanged:Object(l.e)("source.everythingChanged",(function(){var e=this._handles;this._allHandles.forEach((function(t){t._applyRemove(t.position,t.position+1,0),e[t.position]=void 0})),e.length=this.source.length})),staticMembers:{__QUALIFIED_CLASS_NAME__:"OrderedListHandleProvider"}})},function(e,t,n){"use strict";var i=n(24),r=n(406),a=n(101),o=n(17);function s(e,t,n){null===n||void 0===n?delete e[t]:e[t]=n}var l=n(206),c=n(15),u=n(38),d=n(66),h=n(719),f=n(83),p=n(138);function m(e,t){if(("number"!==typeof e||"undefined"!==typeof t&&"number"!==typeof t)&&Object(o.b)("Must only provide numbers as params."),0===e)return"0 bytes";var n="undefined"===typeof t?2:t,i=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,i)).toFixed(n)+" "+["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i]}var g=f.a.extend(u.a,{staticMembers:{setAsMirror:function(e,t){e.didChange=function(){t.setMultipleValues({bytesTotal:e.get("bytesTotal"),bytesTransferred:e.get("bytesTransferred"),isDeterminate:e.get("isDeterminate")})}},__QUALIFIED_CLASS_NAME__:"NetworkProgress"},init:function(){var e=this,t=arguments;e.__s._$P9$init.apply(e,t),this._children=[],this._childListeners={},this.set("childPropertiesToObserve",["bytesTransferred","bytesTotal","isDeterminate"])},isComposite:Object(c.b)({defaultValue:!1}),addChild:function(e){e.instanceOf(g)||Object(o.b)("Must provide a Progress instance.");for(var t=this,n=Object(p.a)(e),i=t._childListeners,r=this.childPropertiesToObserve,a=function(e){t.childDidChange()},s=0,l=r.length;s<l;s++){var c=r[s],u=i[n]||[],d=e.observe(c,a);u.push(d),i[n]=u}this._children.push(e),this.set("isComposite",!0),this.childDidChange()},removeChild:function(e){var t=this._children;e.instanceOf(g)||Object(o.b)("Must provide a Progress instance.");var n=this._childListeners[Object(p.a)(e)];n&&n.forEach((function(e){e.disconnect()}));var i=t.indexOf(e);-1!==i&&t.splice(i,1),0===t.length&&(this.set("isComposite",!1),this.setMultipleValues({bytesTotal:0,bytesTransferred:0,isDeterminate:!1})),this.childDidChange()},removeChildren:function(){for(var e;e=this._children.pop();)this.removeChild(e)},childDidChange:Object(u.g)(),childPropertiesToObserve:null,bytesTransferred:Object(c.b)({defaultValue:0}),bytesTotal:Object(c.b)({defaultValue:0}),isDeterminate:Object(c.b)({defaultValue:!1}),setMultipleValues:function(e){var t=this.beginBatchSet();for(var n in e)e.hasOwnProperty(n)&&t.set(n,e[n]);t.end()},bitRateString:Object(c.b)({readOnly:!0,dependencies:["bytesPerSecond"],get:Object.assign((function(){return(m(this.bytesPerSecond)+"ps").replace("bytes","B")}),{__CW__getter:function(e,t,n,i){return(m(i.internalGet(this,t[0+n]))+"ps").replace("bytes","B")}})}),bytesPerSecond:Object(c.b)({readOnly:!0,dependencies:["bytesTransferred","percentComplete"],get:Object.assign((function(){var e=this.get("_startTime"),t=Date.now();"undefined"===typeof e&&(this.set("_startTime",t),e=t);var n=(t-e)/1e3;return 0===n?0:this.bytesTransferred/n}),{__CW__getter:function(e,t,n,i){var r=this.get("_startTime"),a=Date.now();"undefined"===typeof r&&(this.set("_startTime",a),r=a);var o=(a-r)/1e3;return 0===o?0:i.internalGet(this,t[0+n])/o}})}),percentComplete:Object(c.b)({readOnly:!0,dependencies:["bytesTotal","bytesTransferred","isDeterminate"],get:Object.assign((function(){var e=this.bytesTransferred,t=this.bytesTotal;return t&&0!==t?e/t:0}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[1+n]),a=i.internalGet(this,t[0+n]);return a&&0!==a?r/a:0}})}),toString:function(){return("[Progress Instance #"+Object(p.a)(this)+"] "+100*this.get("percentComplete")+"% ("+this.get("bytesTransferred")+" of "+this.get("bytesTotal")+") "+(this.get("isDeterminate")?"":"???")).trim()},didChange:Object(u.g)(),_startTime:null,_valuesDidChange:Object(u.f)("bytesTransferred","bytesTotal","isDeterminate",(function(){this.didChange(arguments)})),_children:null,_childListeners:null,_calculateCompositeChildValues:Object(u.f)("childDidChange",(function(){if(this.get("isComposite")){for(var e=this.get("childPropertiesToObserve"),t=this._children,n={},i=0,r=e.length;i<r;i++){var a=e[i];n[a]||(n[a]=0);for(var o=0,s=t.length;o<s;o++){var l=t[o];n[a]+=l.get(a)}}this.setMultipleValues(n),t.length||this.set("isComposite",!1)}})),__superMap:{_$P9$init:"init"}}),v=n(270),_=n(419),b=n(720);n.d(t,"a",(function(){return y}));var y=h.a.extend({staticMembers:{nextRequestSequenceNumber:1,requestLoggingLevel:null,__QUALIFIED_CLASS_NAME__:"Request"},URLClass:v.a,url:Object(c.b)({get:function(){return this._urlObject},set:function(e){var t;if(e){var n=this.URLClass;t=Object(a.a)(e,n)?e:n.create(e)}this._urlObject=t}}),method:d.a.GET,useCredentialsIfCrossOrigin:!1,bodySerializer:Object(i.c)(b.a.sharedInstance),response:Object(c.b)(),responseSerializer:Object(i.c)({get:function(){return this._responseSerializer||this.get("serializer")}}),isCrossDomain:Object(i.c)({readOnly:!0,get:function(){var e=this.get("url");if(!e)return!1;var t=e.get("protocol"),n=e.get("host");if(!n)return!1;var i=window.location;return i.protocol!==t||i.host!==n}}),transport:Object(i.c)({get:function(e){return e||_.a.get("sharedInstance")}}),allowsCredentialsInURL:!1,shouldTrackUploadProgress:Object(c.b)({defaultValue:!1,didChange:function(){this.state!==d.b.UNSENT&&Object(o.b)("Cannot change `shouldTrackUploadProgress` once a request is sent.")}}),shouldTrackProgress:Object(c.b)({defaultValue:!1,didChange:function(){this.state!==d.b.UNSENT&&Object(o.b)("Cannot change `shouldTrackProgress` once a request is sent.")}}),uploadProgress:Object(c.b)({readOnly:!0,dependencies:["shouldTrackUploadProgress"],get:Object.assign((function(){return this.shouldTrackUploadProgress?g.create():null}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?g.create():null}})}),progress:Object(c.b)({readOnly:!0,dependencies:["shouldTrackProgress"],get:Object.assign((function(){return this.shouldTrackProgress?g.create():null}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])?g.create():null}})}),_fireDidProgress:Object(u.e)("progress.didChange","uploadProgress.didChange",(function(){this.triggerStatusEvent(d.b.PROGRESS)})),headers:Object(i.c)(),setHeader:function(e,t){var n=this.get("headers");if(!n){if(null==t)return;n={}}s(n,e,t),this.set("headers",n)},setMultipleHeaders:function(e){var t=this.get("headers")||{};for(var n in e)s(t,n,e[n]);this.set("headers",t)},removeHeader:function(e){this.setHeader(e,null)},on:function(e,t){I(this,e,t)},onStatus:function(e,t){/^[\d*]{3}$/.test(e)?I(this,e,t):Object(o.b)(e+" is an invalid status code listener for request",this)},delegate:null,sequenceNumber:Object(i.c)({readOnly:!0,defaultValue:function(){return this.constructor.nextRequestSequenceNumber++}}),sentAt:null,willSend:null,didSend:null,didProgress:null,didSucceed:null,didAbort:null,didFail:null,didComplete:null,shouldFinalizeWithResponse:null,_logRequestIfAppropriate:function(){this.sentAt=window.performance.now();var e,t=this.constructor.requestLoggingLevel;t&&(e=this.get("bodyShouldBeLogged")?this.get("encodedBody")||"(empty)":"(omitted)",l.b[t]("--\x3e Request "+this.get("sequenceNumber")+": "+this.get("method")+" to "+this.getPath("url.href")+", headers: "+(this.get("headers")||"(empty)")+", body: "+e))},bodyShouldBeLogged:!1,_logResponseIfAppropriate:function(){var e=this.constructor.requestLoggingLevel,t=this.get("sequenceNumber");if(e)if(this.get("state")!==d.b.TIMEDOUT){var n,i=this.get("response"),r=window.performance.now()-this.sentAt;n=this.get("bodyShouldBeLogged")?i.get("encodedBody")||"(empty)":"(omitted)",l.b[e]("<-- Response "+t+": "+i.get("status")+" ("+r+"ms), headers: "+(i.get("headers")||"(empty)")+", body: "+n)}else l.b[e]("<-- Response "+t+": (timed out)")},send:function(){var e=this._promise=r.a.create();return S(this),e},sendSynchronously:function(){this.get("timeout")&&Object(o.b)("Cannot send a synchronous request with a timeout",this),S(this,!0)},abort:function(){if(this.get("state")===d.b.SENDING){var e=this.get("transport");this.get("method")!==d.a.GET&&l.b.warn("A non-GET network request was aborted. Data may have already been changed on the server.",this),e.abort(this),this.set("state",d.b.ABORTED),this.triggerStatusEvent(d.b.ABORTED),this.finalize()}},triggerStatusEvent:function(e){var t,n,i,r,a=this.get("delegate")||this,o=this._statusEventListeners;if(e===d.b.SENT&&this._logRequestIfAppropriate(),e===d.b.COMPLETED&&this._logResponseIfAppropriate(),(n=a[e])&&n.call&&n.call(a,this),o&&(t=o[e]))for(i=0,r=t.length;i<r;i++)(n=t[i])&&n(this);var s=this._promise;s&&(e===d.b.SUCCEEDED?(this._promise=void 0,s.resolve(this.response)):e===d.b.FAILED&&(this._promise=void 0,s.reject(this.response)))},triggerStatusEvents:function(){for(var e=0,t=arguments.length;e<t;e++)this.triggerStatusEvent(arguments[e])},finalize:function(){this._isFinalized=!0,this.get("transport").finalize(this),this.triggerStatusEvent(d.b.FINALIZED),delete this._statusEventListeners},toJSON:function(){return this.getPropertiesAsObject("url","method","body","headers","response")},_promise:Object(i.c)()});function S(e,t){(e.get("state")!==d.b.UNSENT||e._isFinalized)&&Object(o.b)("Cannot send a request more than once",e);var n=e.get("url");n?n.get("auth")&&!e.get("allowsCredentialsInURL")&&Object(o.b)("This request is not allowed to use authentication",e):Object(o.b)("Cannot send a request without a URL",e);var i=e.get("transport");e.set("state",d.b.SENDING),e._synchronous=t,i.send(e)}function I(e,t,n){var i=e._statusEventListeners||(e._statusEventListeners={});(i[t]||(i[t]=[])).push(n)}},function(e,t,n){"use strict";var i=n(35),r=n(149),a=n(17),o=n(738),s=n(405),l=n(735),c=n(86),u=n(52),d=n(54),h={mixinDependencies:[{mixinDependencies:[n(403).a],createIteratorAtEnd:Object(d.c)(u.a)},s.a],createIterator:function(){return this.createIteratorAt(0)},createIteratorAtEnd:function(){return this.createIteratorAt(this.get("length")-1)},createIteratorAt:Object(d.c)(u.a)},f=n(91),p=n(24);n.d(t,"a",(function(){return m}));var m={mixinDependencies:[c.a,s.a,h],lastItem:Object(p.c)({get:function(){return this.objectAt(this.length-1)},set:function(e){return this.setIndex(this.length-1,e),e}}),firstItem:Object(p.c)({get:function(){return this.objectAt(0)},set:function(e){return this.setIndex(0,e),e}}),push:function(){for(var e=this.length,t=this.serializer,n=e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];if(t&&t.encode)for(var o=0,s=r.length;o<s;o++)r[o]=t.encode(r[o],o+n);return this.encodedPush.apply(this,r)},encodedPush:function(){for(var e=this.length,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.encodedRawSplice.apply(this,[e,0].concat(n)),e+n.length},pop:function(){var e=this.length-1;return this.decode(this.encodedPop(),e)},encodedPop:function(){var e=this.length-1;return this.encodedRawSplice(e,1)[0]},unshift:function(){for(var e=this.serializer,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(e&&e.encode)for(var r=0,a=n.length;r<a;r++)n[r]=e.encode(n[r],r);return this.encodedUnshift.apply(this,n)},encodedUnshift:function(){for(var e=this.length,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.encodedRawSplice.apply(this,[0,0].concat(n)),e+n.length},shift:function(){return this.decode(this.encodedShift(),0)},encodedShift:function(){return this.encodedRawSplice(0,1)[0]},insertAt:function(e){for(var t=this.serializer,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if(t&&t.encode)for(var a=0,o=i.length;a<o;a++)i[a]=t.encode(i[a],a+e);return this.encodedInsertAt.apply(this,[e].concat(i))},encodedInsertAt:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return this.encodedSplice.apply(this,[e,0].concat(n)),this},removeAt:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.encodedSplice(e,t),this},add:function(e){return this.push(e),!0},encodedAdd:function(e){return this.encodedPush(e),!0},remove:function(e){return this.encodedRemove(this.encode(e))},encodedRemove:function(e){var t=this.encodedIndexOf(e);return-1!==t&&(this.removeAt(t,1),!0)},slice:function(e,t){var n=this.get("length");if(0===n)return[];e=void 0===e?0:v(e,n);for(var i=(t=void 0===t||t>n?n:v(t,n))-e,r=new Array(i),a=0;a<i;a++)r[a]=this.objectAt(a+e);return r},indexOf:function(e,t){return this.encodedIndexOf(this.encode(e),t)},encodedIndexOf:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.length,i=t=v(t,n);i<n;i++)if(this.encodedObjectAt(i)===e)return i;return-1},contains:_,encodedContains:b,includes:_,encodedIncludes:b,lastIndexOf:function(e,t){return this.encodedLastIndexOf(this.encode(e),t)},encodedLastIndexOf:function(e,t){for(var n=this.length,i=t=void 0===t?n-1:v(t,n);i>=0;i--)if(this.encodedObjectAt(i)===e)return i;return-1},splice:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._validateSpliceArguments.apply(this,[this.rawSplice].concat(t))},encodedSplice:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._validateSpliceArguments.apply(this,[this.encodedRawSplice].concat(t))},_validateSpliceArguments:function(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),a=3;a<i;a++)r[a-3]=arguments[a];var o=this._internalLength;t<0?(t=o+t)<0&&(t=0):t>o&&(t=o);var s=arguments.length;return(2===s||n+t>o)&&(n=o-t),3===s&&0===n?[]:e.call.apply(e,[this,t,n].concat(r))},itemsWillBeInserted:i.a,itemsWereInserted:i.a,itemsWillBeRemoved:i.a,itemsWereRemoved:i.a,itemsWillChange:i.a,itemsDidChange:i.a,rawSplice:function(e,t){for(var n,i=this.serializer,r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];if(i&&(n=i.encode))for(var s=a.length,l=0;l<s;l++)a[l]=n.call(i,a[l],e+l);var c,u=this.encodedRawSplice.apply(this,[e,t].concat(a));if(i&&(c=i.decode))for(var d=u.length,h=0;h<d;h++)u[h]=c.call(i,u[h],e+h);return u},encodedRawSplice:Object(d.c)(u.a),objectAt:function(e){return this.decode(this.encodedObjectAt(e),e)},encodedObjectAt:Object(d.c)(u.a),iteratorClass:Object(p.c)({readOnly:!0,defaultValue:l.a}),createIteratorAt:function(e){return this.get("iteratorClass").create(this,e)},join:function(e){void 0===e&&(e=",");for(var t=this.get("length"),n="",i=0;i<t;i++){var a=this.objectAt(i);0!==i&&(n+=e),Object(r.a)(a)&&(n+=a.toString())}return n},toString:function(){return this.join(", ")},reverse:function(){for(var e=this.get("length")-1,t=0;t<e;t++,e--)this.swap(t,e);return this},setIndex:function(e,t){return this.encodedSetIndex(e,this.encode(t,e))},encodedSetIndex:function(e,t){return e>this.length&&(this.length=e+1),this.encodedSplice(e,1,t),this},swap:function(e,t){var n=this.encodedObjectAt(t);return this.encodedSetIndex(t,this.encodedObjectAt(e)),this.encodedSetIndex(e,n),this},move:function(e,t){var n=this.encodedRawSplice(e,1)[0];return this.encodedRawSplice(t,0,n),this},sort:function(e){return e||(e=g),function e(t,n,i,r){if(!(r-i+1<=1)){var a=Math.floor((i+r)/2);a=function(e,t,n,i,r){var a=e.objectAt(r);for(e.swap(r,i),r=i;n<i;){t(e.objectAt(n),a)<=0?n++:e.swap(n,--i)}return e.swap(r,i),i}(t,n,i,r,a),e(t,n,i,a-1),e(t,n,a+1,r)}}(this,e,0,this.get("length")-1),this},reduce:function(e,t,n){var i,r=0,o=this.length;arguments.length>=2?i=t:o>0?(i=this.objectAt(0),r=1):Object(a.b)("reduce of empty array with no initial value");for(var s=r;s<o;s++)i=e.call(n,i,this.objectAt(s),s,this);return i},find:function(e,t){for(var n=this.get("length"),i=0;i<n;i++){var r=this.objectAt(i);if(e.call(t,r,i,this))return r}},findLast:function(e,t){for(var n=this.get("length")-1;n>=0;n--){var i=this.objectAt(n);if(e.call(t,i,n,this))return i}},findIndex:function(e,t){for(var n=this.get("length"),i=0;i<n;i++){var r=this.objectAt(i);if(e.call(t,r,i,this))return i}return-1},binarySearch:function(e){for(var t=this,n=o.a,i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return n.apply(void 0,[0,this.length-1,function(e){return t.objectAt(e)},e].concat(r))},clear:function(){return this.encodedRawSplice(0,this.length),this},map:function(e,t){for(var n=this.constructNewInstance(),i=0,r=this.get("length");i<r;i++){var a=e.call(t,this.objectAt(i),i,this);n.setIndex(i,a)}return n},_internalLength:f.a.define()};function g(e,t){return void 0===t?void 0===e?0:-1:void 0===e?1:(e=String(e))<(t=String(t))?-1:e>t?1:0}function v(e,t){e<0&&(e=t+e);var n=t-1;return e>n?e=n:e<0&&(e=0),e}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.encodedContains(this.encode(e),t)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return-1!==this.encodedIndexOf(e,t)}},function(e,t,n){"use strict";var i=n(83),r=n(323),a=n(52),o=n(54),s=n(322),l={done:!1,value:null},c={mixinDependencies:[s.a],moveToNext:Object(o.c)(a.a,{requiredKey:"moveBy",default:function(){return this.moveBy(1)}}),moveToPrevious:Object(o.c)(a.a,{requiredKey:"moveBy",default:function(){return this.moveBy(-1)}}),previous:function(){return l.value=this.get("value"),l.done=this.get("isValid"),this.moveBy(-1),l},moveBy:Object(o.c)(a.a,{requiredKey:["moveToNext","moveToPrevious"],default:function(e){if(e>0)for(;0!==e--;)this.moveToNext();else if(e<0)for(;0!==e++;)this.moveToPrevious();return this}})},u=n(91),d=n(24),h={mixinDependencies:[c],position:Object(d.c)(0),countAfter:Object(d.c)({readOnly:!0,get:function(){return this.get("length")-this.get("position")-1}}),countBefore:Object(d.c)({readOnly:!0,get:function(){return this.get("position")}}),moveTo:function(e){return this.set("position",e),this},length:Object(o.c)(u.a),moveBy:function(e){return this.moveTo(this.get("position")+e)}},f=n(158);n.d(t,"a",(function(){return p}));var p=i.a.extend(h,r.a,f.a,{initFromPool:function(e,t){this.__s._$Eg$initFromPool.call(this),this.set("source",e),this.set("position",t||0)},didEnterPool:function(){this.set("source",null),this.set("position",NaN),this.__s._$IR$didEnterPool.call(this)},source:Object(d.c)(),value:Object(d.c)({get:function(){return this.source.decode(this.encodedValue,this.position)},set:function(e){return this.encodedValue=this.source.encode(e,this.position),e}}),encodedValue:Object(d.c)({get:function(){return this.source.encodedObjectAt(this.position)},set:function(e){return this.source.encodedSetIndex(this.position,e),e}}),isValid:Object(d.c)({readOnly:!0,get:function(){var e=this.get("position");return e>=0&&e<this.get("length")}}),length:Object(d.c)({readOnly:!0,get:function(){return this.getPath("source.length")}}),clone:function(){return this.constructor.create(this.get("source"),this.get("position"))},remove:function(){return!!this.isValid&&(this.get("source").removeAt(this.get("position")),!0)},add:function(e){var t=this.get("source"),n=t.get("length"),i=this.get("position")+1;t.insertAt(i,e);var r=t.get("length")!==n;return r&&this.set("position",Math.min(i,n)),r},__superMap:{_$Eg$initFromPool:"initFromPool",_$IR$didEnterPool:"didEnterPool"},staticMembers:{__QUALIFIED_CLASS_NAME__:"OrderedListIterator"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(313),r=n(17),a=n(701);function o(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var l=Object(i.a)(arguments,0,1),c="_cw_boundFunction_"+Object(a.a)(arguments);null!==t&&void 0!==t||s(t);var u=t[c];return u||(u=t[c]=e.bind.apply(e,l),t[c]||s(t)),u}function s(e){Object(r.b)("CW.Utils.bindFunction cannot bind a function to a primitive or frozen object ("+e+" in this case). Use `Function#bind` instead.")}},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var i=n(54),r=n(91),a=n(83),o=n(268),s=n(199),l=n(101),c=n(38),u=n(277),d=n(704),h=n(56),f=n(15),p={mixinDependencies:[d.b],origin:Object(i.c)(r.a),top:Object(i.c)(r.a),bottom:Object(i.c)(r.a),left:Object(i.c)(r.a),right:Object(i.c)(r.a),isAbove:function(e){return this.bottom<=e.top},isBelow:function(e){return this.top>=e.bottom},isLeftOf:function(e){return this.right<=e.left},isRightOf:function(e){return this.left>=e.right},intersects:function(e){return!this.isAbove(e)&&!this.isBelow(e)&&!this.isRightOf(e)&&!this.isLeftOf(e)},containsPoint:function(e){var t=e.x,n=e.y;return t>=this.left&&t<this.right&&n>=this.top&&n<this.bottom},toString:function(){var e=this,t=arguments;return e.__s._$14B$toString.apply(e,t)+Object(s.a)("{ origin: (%{x},%{y}) size: (%{width}, %{height}) }",this)},__superMap:{_$14B$toString:"toString"}},m=a.a.extend(c.a,p,{_origin:null,init:function(e){var t=this,n=arguments;if(Object(l.a)(e,p))return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,t.__s._$1NE$init.call(t);t.__s._$1NE$init.apply(t,n)},origin:Object(f.b)({dependencies:["x","y"],strong:!0,get:Object.assign((function(){var e=this.y,t=this.x,n=this._origin;return n?(n.set("x",t),n.set("y",e)):n=this._origin=u.a.create({x:t,y:e}),n}),{__CW__getter:function(e,t,n,i){var r=i.internalGet(this,t[1+n]),a=i.internalGet(this,t[0+n]),o=this._origin;return o?(o.set("x",a),o.set("y",r)):o=this._origin=u.a.create({x:a,y:r}),o}}),set:Object.assign((function(e){Object(o.a)(e)||(e=u.a.create(e)),this.x=e.x,this.y=e.y,this._origin=e}),{__CW__setter:function(e,t,n,i,r){Object(o.a)(e)||(e=u.a.create(e)),n[0+i]=e.x,n[1+i]=e.y,this._origin=e}}),writeDependencySetPathMap:[!1,!1]}),x:Object(f.b)(),y:Object(f.b)(),width:Object(f.b)(),height:Object(f.b)(),top:Object(f.b)({binding:Object(h.c)("y"),readOnly:!0}),bottom:Object(f.b)({readOnly:!0,cacheable:!0,dependencies:["height","y"],get:Object.assign((function(){return this.y+this.height}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[1+n])+i.internalGet(this,t[0+n])}})}),left:Object(f.b)({binding:Object(h.c)("x"),readOnly:!0,cacheable:!0}),right:Object(f.b)({readOnly:!0,cacheable:!0,dependencies:["width","x"],get:Object.assign((function(){return this.x+this.width}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[1+n])+i.internalGet(this,t[0+n])}})}),__superMap:{_$1NE$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Rect"}})},function(e,t,n){"use strict";function i(e,t,n,i){if(t<e)return-1;for(var r=arguments.length,a=new Array(r>4?r-4:0),o=4;o<r;o++)a[o-4]=arguments[o];for(var s,l=new Array(2).concat(a);e<t;){s=e+(t-e>>1),l[0]=n(s),l[1]=s;var c=i.apply(void 0,l);if(0===c)return s;c<0?t=s-1:e=s+1}if(e===t&&e!==s){l[0]=n(e),l[1]=e;var u=i.apply(void 0,l);if(0===u)return e}return-1}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return I})),n.d(t,"b",(function(){return w})),n(1);var i=n(83),r=n(84),a=n(160),o=n(142),s=n(243),l=n(17),c=n(35),u=n(206),d=n(101),h=n(402),f=n(318),p=n(109),m=n(272),g=n(399);function v(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return _(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,void 0):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var b=i.a.extend(m.a,{application:null,events:null,init:function(e){var t=e&&e.element;if(t){var n=window.document,i=t;t===n&&(i=n.body),this._cursorLockElement=i,delete e.element}if(this.__s._$aV$init.call(this,e),this._eventListeners=new Map,this.events)for(var r,o=v(this.events);!(r=o()).done;)for(var s=r.value,l=s.handlers,c=s.useCapture,u=0,d=Object.entries(l);u<d.length;u++){var h=d[u],f=h[0],p=h[1],m=Object(a.a)(p.bind(this));this._eventListeners.set(f,[m,{capture:c||!1,passive:!1}])}t&&this.addEventListenersToElement(t)},addEventListenersToElement:function(e){var t=window.document;!t||e!==t.body&&e!==t.documentElement||(e=window.document),y(e),this._listenedElements.push(e);for(var n,i=v(this._eventListeners.entries());!(n=i()).done;){var r=n.value,a=r[0],s=r[1],l=s[0],c=s[1];Object(o.a)(e,a,l,c)}},prependEventListenerToElement:function(e,t,n,i){var r=this._listenedElements.indexOf(e)>=0;r&&this._removeEventListener(e,t),Object(o.a)(e,t,n,i),r&&this._addEventListener(e,t)},_addEventListener:function(e,t){if(this._eventListeners.has(t)){var n=this._eventListeners.get(t),i=n[0],r=n[1];Object(o.a)(e,t,i,r)}},_removeEventListener:function(e,t){if(this._eventListeners.has(t)){var n=this._eventListeners.get(t),i=n[0],r=n[1];Object(s.a)(e,t,i,r)}},_listenedElements:Object(r.b)(Array),_eventListeners:null,dispatchEvent:function(e){e||Object(l.b)("RootResponder#dispatchEvent requires an event.");var t,n,i=e.cwType;"keyDown"!==i&&"keyUp"!==i||f.a.sharedInstance[i](e),"pointerDown"===i&&f.a.sharedInstance.syncMetaKeyStateFromEvent(e),"number"===typeof e.pointerId&&(t=this.getPointerCapture(e.pointerId));var r=I(e);if(e.targetView=r,this._synthesizePointerMoveEventsIfNecessary(e),t){if(!function(e,t){var n=t.cwType;if("pointerUp"===n||"pointerCancel"===n||"pointerMove"===n)return!0;var i=S(t.target);return!i||e.get("element")===i}(t,e))return;n=t}else(n=r)||(n=this.getPath("application.topFocusLayer.focusResponder"));n||(n=this),this.willDispatchEvent(e);var a=!1;if(e.bubbles?a=Object(g.a)(n,i,e):n.handleEvent&&(C[0]=i,C[1]=e,a=n.handleEvent.apply(n,C),C[0]="",C[1]=null),this.didDispatchEvent(e,a),e.pointerType===p.b.TOUCH&&("pointerUp"===i||"pointerCancel"===i)){if(!r||!r.isDisposed){var o=p.a.create({nativeEvent:e,cwType:"pointerOut",target:e.target});this.dispatchEvent(o)}for(var s=r;s&&!s.isDisposed;){var c=p.a.create({cwType:"pointerLeave",bubbles:!1,target:s.element});this.dispatchEvent(c),s=s.parent}}return a},_synthesizePointerMoveEventsIfNecessary:function(e){var t,n=e.cwType;if("pointerOut"===n&&this._checkIfPointerLeft(e),"pointerMove"===n&&this._dispatchPointerEnterOrLeave(e,e.targetView),e.pointerType===p.b.TOUCH&&"pointerDown"===n)for(t=e.targetView;t;){var i=p.a.create({cwType:"pointerEnter",bubbles:!1,target:t.element});this.dispatchEvent(i);var r=p.a.create({target:t.element,bubbles:!1,cwType:"pointerOver"});this.dispatchEvent(r),t=t.parent}},_checkIfPointerLeft:function(e){for(var t=e.relatedTarget,n=this._listenedElements,i=n.length,r=0;r<i;r++)if(n[r].contains(t))return;return this._pointerLeft(e)},_previousPointerMoveView:null,_previousViewAncestors:Object(r.b)(Array),_previousViewAncestorsSwap:Object(r.b)(Array),_pointerLeft:function(e){return this._dispatchPointerEnterOrLeave(e,null),!1},_dispatchPointerEnterOrLeave:function(e,t){if(t!==this._previousPointerMoveView){var n=this._previousViewAncestorsSwap;n.length=0;for(var i=t;i;)n.push(i),i=i.parent;for(var r,a=n.length-1,o=this._previousViewAncestors,s=o.length-1;o[s]===n[a]&&s>=0&&a>=0;)s--,a--;for(r=0;r<=s;r++){var l=o[r];if(!l.isDisposed){var c=p.a.create({cwType:"pointerLeave",bubbles:!1,target:l.element});this.dispatchEvent(c)}}for(r=0;r<=a;r++){var u=n[r],d=p.a.create({cwType:"pointerEnter",bubbles:!1,target:u.element});this.dispatchEvent(d)}this._previousViewAncestors=n,this._previousViewAncestorsSwap=o,this._previousPointerMoveView=t}},willDispatchEvent:c.a,didDispatchEvent:c.a,lockCursor:function(e){var t;switch(e){case"default":t="cw-global-cursor-default";break;case"pointer":t="cw-global-cursor-pointer";break;case"horizontal-resize":t="cw-global-cursor-horizontal-resize";break;case"vertical-resize":t="cw-global-cursor-vertical-resize"}var n=this._cursorLockElement;t&&n.classList.add(t),this._cursorLockClassName=t,Object(o.a)(n,"selectstart",E)},releaseCursor:function(){var e=this._cursorLockClassName,t=this._cursorLockElement;e&&t.classList.remove(e),this._cursorLockClassName=null,Object(s.a)(t,"selectstart",E)},__superMap:{_$aV$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RootResponder"}}),y=function(e){if(h.b.isPointerSupported){var t=window.document;e===t&&(e=t.body);var n=e.style;n?(n.msTouchAction="none",n.touchAction="none"):u.b.warn("Could not attach `touch-action` property to the `RootResponder`\u2019s element. Some touch events will be handled by default browser behavior instead of going to the `RootResponder`.")}};function S(e){return Object(d.a)(e,window.SVGElementInstance)?e.correspondingElement:e}function I(e){return w(S(e.target))}function w(e){for(var t;e&&!(t=e.view);)e=e.parentNode;return t}function E(e){return e.preventDefault&&e.preventDefault(),!1}var C=new Array(2)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(178),r=n(132);function a(e){if(!e)return!0;if(Object(i.a)(e)||Object(r.a)(e))return!e.length;if(e._isCwCollection)return!e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(406),r=n(149),a=n(17),o=n(418).a.extend({callRemoteProcedure:function(e){var t,n=this.channel;l(n,e);for(var r=i.a.create(),a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];var u=(t=this.messageFormatter).generateCallMessageFor.apply(t,[e].concat(o));return c(r,u.id,this),n.send(this.serializer.encode(u)),r},sendNotification:function(e){var t,n=this.channel;l(n,e);for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];var o=(t=this.messageFormatter).generateNotificationMessageFor.apply(t,[e].concat(r));n.send(this.serializer.encode(o))},shouldHandleMessage:function(e){return!!e&&Object(r.a)(e.jsonrpc)&&e.jsonrpc===this.messageFormatter.jsonRpcVersion&&(Object(r.a)(e.result)||Object(r.a)(e.error))},handleMessage:function(e){var t=function(e,t){var n=s[e];if(n&&n[1]===t)return s[e]=void 0,n[0]}(e.id,this);if(t){if(Object(r.a)(e.result))return function(e,t){t.resolve(e.result)}(e,t),t;if(Object(r.a)(e.error))return function(e,t){t.reject(e.error)}(e,t),t}},staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcCaller"}}),s={};function l(e,t){e&&!e.isDisconnected||Object(a.b)("Attempted to call `%{methodName}` without a connected channel.",{methodName:t,sender:this})}function c(e,t,n){s[t]&&s[t][1]===n&&Object(a.b)("A handler was already registered for response for message id",{messageId:t,handler:n}),s[t]=[e,n]}},function(e,t,n){"use strict";n(1),n(0),n(3),n(4),n(2),n.d(t,"a",(function(){return v}));var i=n(271),r=n(328),a=n(128),o=n(101),s=n(17),l=n(15),c=n(163),u=n(84),d=n(24),h=n(422),f=n(411),p=n(726),m=n(727),g=i.a.extend({viewClass:h.a,view:Object(l.b)({downstreamBindings:{iconNames:"(owner).iconNames",message:"(owner).message",description:"(owner).description",alertStyle:"(owner).alertStyle",accessoryView:"(owner).accessoryView",buttonViews:"(owner).buttonViews"}}),iconNames:Object(l.b)(),message:Object(l.b)(),description:Object(l.b)(),alertStyle:Object(l.b)(),accessoryView:Object(l.b)(),buttonViews:Object(l.b)(),staticMembers:{__QUALIFIED_CLASS_NAME__:"AlertContentController"}}),v=p.a.extend({staticMembers:{show:function(e){var t=this.create(e);return t.show(),t},__QUALIFIED_CLASS_NAME__:"AlertViewController"},message:Object(l.b)(),description:Object(l.b)(),iconNames:Object(l.b)(),alertStyle:Object(l.b)(m.a.ALERT),accessoryView:Object(l.b)({strong:!0,didChange:function(e){if(e){e.alertView=this.view;var t=this._previousAccessoryView;t&&(t.alertView=null,this._previousAccessoryView=e)}}}),buttons:Object(l.b)({type:c.b}),primaryButton:Object(l.b)({set:function(e){if(e)return e.isPrimary=!0,this.createButton(e)}}),alternateButton:Object(l.b)({set:function(e){if(e)return e.isAlternate=!0,this.createButton(e)}}),otherButton:Object(l.b)({set:function(e){if(e)return e._isOther=!0,this.createButton(e)}}),createButtonView:function(e){return f.a.create(e)},createButton:function(e){if(e){!1===Object(o.a)(e,r.a)&&(e=this.createButtonView(e));var t=e.element.classList;return!0===e.isPrimary&&(t.add("primary"),void 0===e.keyEquivalent&&(e.keyEquivalent=a.a.RETURN)),!0===e.isAlternate&&(!0===e.isPrimary&&Object(s.b)("AlertButton cannot be configured as both `isPrimary` and `isAlternate`.",{button:e}),t.add("alternate"),void 0===e.keyEquivalent&&(e.keyEquivalent=a.a.ESC)),!0===e.isDestructive&&t.add("destructive"),e._isOther&&t.add("other"),e}},viewClass:h.b,contentController:Object(l.b)({defaultValue:Object(u.b)(g),downstreamBindings:{iconNames:"(owner).iconNames",message:"(owner).message",description:"(owner).description",alertStyle:"(owner).alertStyle",accessoryView:"(owner).accessoryView",buttonViews:"(owner).buttonViews"}}),_previousAccessoryView:Object(d.c)({strong:!0}),_buttonViewsArray0:Object(d.c)({get:function(){return c.b.create()}}),_buttonViewsArray1:Object(d.c)({get:function(){return c.b.create()}}),_currentlyUsingButtonViewsArray1:!0,buttonViews:Object(l.b)({readOnly:!0,dependencies:["primaryButton","alternateButton","otherButton","buttons","buttons.contentsDidChange"],get:Object.assign((function(){var e=this,t=this.primaryButton,n=this.alternateButton,i=this.otherButton,r=this.buttons;r&&(t||n||i)&&Object(s.b)("Cannot use `primaryButton`/`alternateButton`/`otherButton` API in conjunction with the `buttons[]` API.",{primaryButton:t,alternateButton:n,otherButton:i,buttons:r});var a=this._currentlyUsingButtonViewsArray1,o=a?this._buttonViewsArray0:this._buttonViewsArray1;return o.length=0,r?r.forEach((function(t){t&&o.push(e.createButton(t))})):(t&&o.push(t),n&&o.push(n),i&&o.push(i)),this._currentlyUsingButtonViewsArray1=!a,o}),{__CW__getter:function(e,t,n,i){var r=this,a=i.internalGet(this,t[0+n]),o=i.internalGet(this,t[1+n]),l=i.internalGet(this,t[2+n]),c=i.internalGet(this,t[3+n]);c&&(a||o||l)&&Object(s.b)("Cannot use `primaryButton`/`alternateButton`/`otherButton` API in conjunction with the `buttons[]` API.",{primaryButton:a,alternateButton:o,otherButton:l,buttons:c});var u=this._currentlyUsingButtonViewsArray1,d=u?this._buttonViewsArray0:this._buttonViewsArray1;return d.length=0,c?c.forEach((function(e){e&&d.push(r.createButton(e))})):(a&&d.push(a),o&&d.push(o),l&&d.push(l)),this._currentlyUsingButtonViewsArray1=!u,d}})})})},function(e,t,n){"use strict";n(0),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var i=n(15),r=n(38),a=n(395),o=n(17),s=n(271),l=i.a.extend({type:s.a,init:function(e){var t=this,n=arguments;return"string"===typeof e?t.__s._$cl$init.call(t,{viewOutlet:e}):t.__s._$cl$init.apply(t,n)},initializeMember:function(e,t){var n=this,i=arguments,a=n.__s._$hM$initializeMember.apply(n,i),o=this,s="_"+t+"DidChange",l="_"+t,c="_"+t+"_view";return this._internalValueKey=l,this._internalViewKey=c,e.registerMetadata(s,Object(r.f)(t,t+".view",(function(e,t){o.childViewControllerDidChange(this,e,t)}))),a},childViewControllerDidChange:function(e,t,n){var i=e[this._internalValueKey],r=e[this._internalViewKey];e[this._internalValueKey]=t,e[this._internalViewKey]=n,i===t&&r===n||this.transition.call(e,i,r,t,n,this)},inheritFrom:function(e){var t=this,n=arguments;t.__s._$zz$inheritFrom.apply(t,n),this.viewOutlet||(this.viewOutlet=e.viewOutlet)},transition:function(e,t,n,i,r){e&&e.retain(),n&&n.retain();var s=r.viewOutlet;if(s||Object(o.b)("ChildViewController expects a `viewOutlet` to write to"),n&&(n._destinationViewOutlet=s),e!==n){e&&e.willMoveToParentViewController(null),n&&n.willMoveToParentViewController(this);var l=a.a.begin();e!==n&&this._isViewLoaded&&l.set(this.view,s,i),e&&this.removeChildViewController(e,l),n&&this.addChildViewController(n,l),l.end(),e&&e.didMoveToParentViewController(null),n&&n.didMoveToParentViewController(this)}else t!==i&&this._isViewLoaded&&(this.view[s]=i);e&&e.release(),n&&n.release()},__superMap:{_$cl$init:"init",_$hM$initializeMember:"initializeMember",_$zz$inheritFrom:"inheritFrom"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ChildViewControllerProperty"}}),c=function(e){return l.define.apply(l,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(243),r=n(142),a=n(206),o=n(15),s=n(38),l=n(421).a.extend({iframe:Object(o.b)({set:function(e,t){return this._previousIFrame=t,e},didChange:function(e){var t=this._previousIFrame,n=this._iframeDidLoad;if(t&&e!==t&&(Object(i.a)(t,"load",n),this._iframeDidLoad=null),e&&!this.outgoingWindow){var a=this._iframeDidLoad=function(){this._iframeIsLoaded(),Object(i.a)(e,"load",this._iframeDidLoad),this._iframeDidLoad=null}.bind(this);Object(r.a)(e,"load",a)}}}),outgoingWindow:Object(o.b)({dependencies:["iframe","_iframeIsLoaded"],readOnly:!0,get:function(){var e=this.getPath("iframe.contentWindow");return e?{actualOutgoingWindow:e,postMessage:function(e,t){var n=this.actualOutgoingWindow;if(n.postMessage)return n.postMessage(e,t);a.b.warn("ChildWindowChannel: postMessage of "+e+" to detached iframe at "+t+" was ignored")}}:null}}),_iframeDidLoad:null,_iframeIsLoaded:Object(s.g)(),_previousIFrame:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"ChildWindowChannel"}})},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var i=n(201),r=n(86),a=n(52),o=n(83),s=n(38),l=n(24),c=n(15),u=n(160),d=n(142),h=n(243),f=i.b("DOMHistoryService.ActivationState",["Inactive","Active"]),p={mixinDependencies:[r.a],historyStateDidChange:a.a.define()},m=o.a.extend(s.a,{delegate:l.c({type:p}),activeSession:c.b(),isActive:c.b({dependencies:["_activationState"],readOnly:!0,get:Object.assign((function(){return this._activationState===f.Active}),{__CW__getter:function(e,t,n,i){return i.internalGet(this,t[0+n])===f.Active}})}),_activationState:c.b(f.Inactive),hasHistory:l.c({readOnly:!0,get:function(){return!!globalThis.history.state}}),init:function(e,t){this.__s._$Rw$init.call(this,t),this.bind("activeSession",e),this._activationState=f.Inactive},activate:function(){this.isActive||(this._activationState=f.Active,this._setupHistoryStateMonitoring())},deactivate:function(){this.isActive&&(this._activationState=f.Inactive,this._teardownHistoryStateMonitoring())},_createHistoryStateForFolderAndSession:function(e,t){var n=t.initialWorkingDirectory===e;return{folderId:e.id,sessionId:t.id,isSessionRoot:n}},_currentWorkingDirectoryObserver:s.f({inputs:["activeSession.currentWorkingDirectory"],callback:function(e){if(e){var t=this.activeSession,n=this._createHistoryStateForFolderAndSession(e,t),i=globalThis.history.state;i&&i.sessionId===n.sessionId&&i.folderId===n.folderId||(null===i?globalThis.history.replaceState(n,e.name,""):globalThis.history.pushState(n,e.name,""))}}}),_setupHistoryStateMonitoring:function(){this._historyStatePopObserver=u.a(this._historyDidPopState.bind(this)),d.a(e,"popstate",this._historyStatePopObserver)},_teardownHistoryStateMonitoring:function(){h.a(e,"popstate",this._historyStatePopObserver),this._historyStatePopObserver=null},_historyDidPopState:function(e){var t=globalThis.history.state,n=this.delegate;n&&n.historyStateDidChange(t)},__superMap:{_$Rw$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DOMHistoryService"}})}).call(this,n(87))},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i,r=Uint8Array||Array;i=window.crypto&&window.crypto.getRandomValues?function(e){window.crypto.getRandomValues(e)}:function(e){for(var t,n,i,r=0;r<16;)for(n=Math.random(),t=0;t<4;r++,t++)i=0|(n*=256),e[r]=i,n-=i};var a,o=n(718);function s(){var e;return e=(e=a)||new r(16),i(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128,a=e,Object(o.a)(a)}n.d(t,"a",(function(){return s}))}]);